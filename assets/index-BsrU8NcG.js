(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function Tx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Wh={exports:{}},Hl={},Lh={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eo=Symbol.for("react.element"),Px=Symbol.for("react.portal"),Ix=Symbol.for("react.fragment"),Rx=Symbol.for("react.strict_mode"),Ax=Symbol.for("react.profiler"),Dx=Symbol.for("react.provider"),Wx=Symbol.for("react.context"),Lx=Symbol.for("react.forward_ref"),zx=Symbol.for("react.suspense"),Ox=Symbol.for("react.memo"),Mx=Symbol.for("react.lazy"),If=Symbol.iterator;function Fx(t){return t===null||typeof t!="object"?null:(t=If&&t[If]||t["@@iterator"],typeof t=="function"?t:null)}var zh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Oh=Object.assign,Mh={};function Rs(t,e,n){this.props=t,this.context=e,this.refs=Mh,this.updater=n||zh}Rs.prototype.isReactComponent={};Rs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Rs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Fh(){}Fh.prototype=Rs.prototype;function Dd(t,e,n){this.props=t,this.context=e,this.refs=Mh,this.updater=n||zh}var Wd=Dd.prototype=new Fh;Wd.constructor=Dd;Oh(Wd,Rs.prototype);Wd.isPureReactComponent=!0;var Rf=Array.isArray,Bh=Object.prototype.hasOwnProperty,Ld={current:null},$h={key:!0,ref:!0,__self:!0,__source:!0};function Uh(t,e,n){var r,s={},o=null,l=null;if(e!=null)for(r in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(o=""+e.key),e)Bh.call(e,r)&&!$h.hasOwnProperty(r)&&(s[r]=e[r]);var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){for(var a=Array(c),u=0;u<c;u++)a[u]=arguments[u+2];s.children=a}if(t&&t.defaultProps)for(r in c=t.defaultProps,c)s[r]===void 0&&(s[r]=c[r]);return{$$typeof:eo,type:t,key:o,ref:l,props:s,_owner:Ld.current}}function Bx(t,e){return{$$typeof:eo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function zd(t){return typeof t=="object"&&t!==null&&t.$$typeof===eo}function $x(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Af=/\/+/g;function Aa(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$x(""+t.key):e.toString(36)}function Bo(t,e,n,r,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case eo:case Px:l=!0}}if(l)return l=t,s=s(l),t=r===""?"."+Aa(l,0):r,Rf(s)?(n="",t!=null&&(n=t.replace(Af,"$&/")+"/"),Bo(s,e,n,"",function(u){return u})):s!=null&&(zd(s)&&(s=Bx(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(Af,"$&/")+"/")+t)),e.push(s)),1;if(l=0,r=r===""?".":r+":",Rf(t))for(var c=0;c<t.length;c++){o=t[c];var a=r+Aa(o,c);l+=Bo(o,e,n,a,s)}else if(a=Fx(t),typeof a=="function")for(t=a.call(t),c=0;!(o=t.next()).done;)o=o.value,a=r+Aa(o,c++),l+=Bo(o,e,n,a,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function bo(t,e,n){if(t==null)return t;var r=[],s=0;return Bo(t,r,"","",function(o){return e.call(n,o,s++)}),r}function Ux(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var St={current:null},$o={transition:null},Hx={ReactCurrentDispatcher:St,ReactCurrentBatchConfig:$o,ReactCurrentOwner:Ld};function Hh(){throw Error("act(...) is not supported in production builds of React.")}xe.Children={map:bo,forEach:function(t,e,n){bo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return bo(t,function(){e++}),e},toArray:function(t){return bo(t,function(e){return e})||[]},only:function(t){if(!zd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};xe.Component=Rs;xe.Fragment=Ix;xe.Profiler=Ax;xe.PureComponent=Dd;xe.StrictMode=Rx;xe.Suspense=zx;xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hx;xe.act=Hh;xe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Oh({},t.props),s=t.key,o=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,l=Ld.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(a in e)Bh.call(e,a)&&!$h.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&c!==void 0?c[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){c=Array(a);for(var u=0;u<a;u++)c[u]=arguments[u+2];r.children=c}return{$$typeof:eo,type:t.type,key:s,ref:o,props:r,_owner:l}};xe.createContext=function(t){return t={$$typeof:Wx,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Dx,_context:t},t.Consumer=t};xe.createElement=Uh;xe.createFactory=function(t){var e=Uh.bind(null,t);return e.type=t,e};xe.createRef=function(){return{current:null}};xe.forwardRef=function(t){return{$$typeof:Lx,render:t}};xe.isValidElement=zd;xe.lazy=function(t){return{$$typeof:Mx,_payload:{_status:-1,_result:t},_init:Ux}};xe.memo=function(t,e){return{$$typeof:Ox,type:t,compare:e===void 0?null:e}};xe.startTransition=function(t){var e=$o.transition;$o.transition={};try{t()}finally{$o.transition=e}};xe.unstable_act=Hh;xe.useCallback=function(t,e){return St.current.useCallback(t,e)};xe.useContext=function(t){return St.current.useContext(t)};xe.useDebugValue=function(){};xe.useDeferredValue=function(t){return St.current.useDeferredValue(t)};xe.useEffect=function(t,e){return St.current.useEffect(t,e)};xe.useId=function(){return St.current.useId()};xe.useImperativeHandle=function(t,e,n){return St.current.useImperativeHandle(t,e,n)};xe.useInsertionEffect=function(t,e){return St.current.useInsertionEffect(t,e)};xe.useLayoutEffect=function(t,e){return St.current.useLayoutEffect(t,e)};xe.useMemo=function(t,e){return St.current.useMemo(t,e)};xe.useReducer=function(t,e,n){return St.current.useReducer(t,e,n)};xe.useRef=function(t){return St.current.useRef(t)};xe.useState=function(t){return St.current.useState(t)};xe.useSyncExternalStore=function(t,e,n){return St.current.useSyncExternalStore(t,e,n)};xe.useTransition=function(){return St.current.useTransition()};xe.version="18.3.1";Lh.exports=xe;var F=Lh.exports;const Uo=Tx(F);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gx=F,Vx=Symbol.for("react.element"),Yx=Symbol.for("react.fragment"),Kx=Object.prototype.hasOwnProperty,Qx=Gx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qx={key:!0,ref:!0,__self:!0,__source:!0};function Gh(t,e,n){var r,s={},o=null,l=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(l=e.ref);for(r in e)Kx.call(e,r)&&!qx.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Vx,type:t,key:o,ref:l,props:s,_owner:Qx.current}}Hl.Fragment=Yx;Hl.jsx=Gh;Hl.jsxs=Gh;Wh.exports=Hl;var i=Wh.exports,kc={},Vh={exports:{}},Wt={},Yh={exports:{}},Kh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(E,q){var se=E.length;E.push(q);e:for(;0<se;){var de=se-1>>>1,le=E[de];if(0<s(le,q))E[de]=q,E[se]=le,se=de;else break e}}function n(E){return E.length===0?null:E[0]}function r(E){if(E.length===0)return null;var q=E[0],se=E.pop();if(se!==q){E[0]=se;e:for(var de=0,le=E.length,Ke=le>>>1;de<Ke;){var je=2*(de+1)-1,tt=E[je],ue=je+1,ut=E[ue];if(0>s(tt,se))ue<le&&0>s(ut,tt)?(E[de]=ut,E[ue]=se,de=ue):(E[de]=tt,E[je]=se,de=je);else if(ue<le&&0>s(ut,se))E[de]=ut,E[ue]=se,de=ue;else break e}}return q}function s(E,q){var se=E.sortIndex-q.sortIndex;return se!==0?se:E.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var a=[],u=[],g=1,f=null,h=3,C=!1,b=!1,P=!1,R=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(E){for(var q=n(u);q!==null;){if(q.callback===null)r(u);else if(q.startTime<=E)r(u),q.sortIndex=q.expirationTime,e(a,q);else break;q=n(u)}}function L(E){if(P=!1,N(E),!b)if(n(a)!==null)b=!0,Z(G);else{var q=n(u);q!==null&&Q(L,q.startTime-E)}}function G(E,q){b=!1,P&&(P=!1,S(W),W=-1),C=!0;var se=h;try{for(N(q),f=n(a);f!==null&&(!(f.expirationTime>q)||E&&!A());){var de=f.callback;if(typeof de=="function"){f.callback=null,h=f.priorityLevel;var le=de(f.expirationTime<=q);q=t.unstable_now(),typeof le=="function"?f.callback=le:f===n(a)&&r(a),N(q)}else r(a);f=n(a)}if(f!==null)var Ke=!0;else{var je=n(u);je!==null&&Q(L,je.startTime-q),Ke=!1}return Ke}finally{f=null,h=se,C=!1}}var U=!1,B=null,W=-1,pe=5,Y=-1;function A(){return!(t.unstable_now()-Y<pe)}function $(){if(B!==null){var E=t.unstable_now();Y=E;var q=!0;try{q=B(!0,E)}finally{q?D():(U=!1,B=null)}}else U=!1}var D;if(typeof x=="function")D=function(){x($)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,V=z.port2;z.port1.onmessage=$,D=function(){V.postMessage(null)}}else D=function(){R($,0)};function Z(E){B=E,U||(U=!0,D())}function Q(E,q){W=R(function(){E(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(E){E.callback=null},t.unstable_continueExecution=function(){b||C||(b=!0,Z(G))},t.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pe=0<E?Math.floor(1e3/E):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(E){switch(h){case 1:case 2:case 3:var q=3;break;default:q=h}var se=h;h=q;try{return E()}finally{h=se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(E,q){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var se=h;h=E;try{return q()}finally{h=se}},t.unstable_scheduleCallback=function(E,q,se){var de=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?de+se:de):se=de,E){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=se+le,E={id:g++,callback:q,priorityLevel:E,startTime:se,expirationTime:le,sortIndex:-1},se>de?(E.sortIndex=se,e(u,E),n(a)===null&&E===n(u)&&(P?(S(W),W=-1):P=!0,Q(L,se-de))):(E.sortIndex=le,e(a,E),b||C||(b=!0,Z(G))),E},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(E){var q=h;return function(){var se=h;h=q;try{return E.apply(this,arguments)}finally{h=se}}}})(Kh);Yh.exports=Kh;var Xx=Yh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jx=F,Dt=Xx;function K(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Qh=new Set,Ni={};function Dr(t,e){ys(t,e),ys(t+"Capture",e)}function ys(t,e){for(Ni[t]=e,t=0;t<e.length;t++)Qh.add(e[t])}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bc=Object.prototype.hasOwnProperty,Zx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Df={},Wf={};function ev(t){return bc.call(Wf,t)?!0:bc.call(Df,t)?!1:Zx.test(t)?Wf[t]=!0:(Df[t]=!0,!1)}function tv(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function nv(t,e,n,r){if(e===null||typeof e>"u"||tv(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _t(t,e,n,r,s,o,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=l}var ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ct[t]=new _t(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ct[e]=new _t(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ct[t]=new _t(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ct[t]=new _t(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ct[t]=new _t(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ct[t]=new _t(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ct[t]=new _t(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ct[t]=new _t(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ct[t]=new _t(t,5,!1,t.toLowerCase(),null,!1,!1)});var Od=/[\-:]([a-z])/g;function Md(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Od,Md);ct[e]=new _t(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Od,Md);ct[e]=new _t(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Od,Md);ct[e]=new _t(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ct[t]=new _t(t,1,!1,t.toLowerCase(),null,!1,!1)});ct.xlinkHref=new _t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ct[t]=new _t(t,1,!1,t.toLowerCase(),null,!0,!0)});function Fd(t,e,n,r){var s=ct.hasOwnProperty(e)?ct[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(nv(e,n,s,r)&&(n=null),r||s===null?ev(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Tn=Jx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,So=Symbol.for("react.element"),Qr=Symbol.for("react.portal"),qr=Symbol.for("react.fragment"),Bd=Symbol.for("react.strict_mode"),Sc=Symbol.for("react.profiler"),qh=Symbol.for("react.provider"),Xh=Symbol.for("react.context"),$d=Symbol.for("react.forward_ref"),_c=Symbol.for("react.suspense"),Cc=Symbol.for("react.suspense_list"),Ud=Symbol.for("react.memo"),Wn=Symbol.for("react.lazy"),Jh=Symbol.for("react.offscreen"),Lf=Symbol.iterator;function qs(t){return t===null||typeof t!="object"?null:(t=Lf&&t[Lf]||t["@@iterator"],typeof t=="function"?t:null)}var He=Object.assign,Da;function ci(t){if(Da===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Da=e&&e[1]||""}return`
`+Da+t}var Wa=!1;function La(t,e){if(!t||Wa)return"";Wa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),l=s.length-1,c=o.length-1;1<=l&&0<=c&&s[l]!==o[c];)c--;for(;1<=l&&0<=c;l--,c--)if(s[l]!==o[c]){if(l!==1||c!==1)do if(l--,c--,0>c||s[l]!==o[c]){var a=`
`+s[l].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=l&&0<=c);break}}}finally{Wa=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ci(t):""}function rv(t){switch(t.tag){case 5:return ci(t.type);case 16:return ci("Lazy");case 13:return ci("Suspense");case 19:return ci("SuspenseList");case 0:case 2:case 15:return t=La(t.type,!1),t;case 11:return t=La(t.type.render,!1),t;case 1:return t=La(t.type,!0),t;default:return""}}function Ec(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case qr:return"Fragment";case Qr:return"Portal";case Sc:return"Profiler";case Bd:return"StrictMode";case _c:return"Suspense";case Cc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Xh:return(t.displayName||"Context")+".Consumer";case qh:return(t._context.displayName||"Context")+".Provider";case $d:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ud:return e=t.displayName||null,e!==null?e:Ec(t.type)||"Memo";case Wn:e=t._payload,t=t._init;try{return Ec(t(e))}catch{}}return null}function sv(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ec(e);case 8:return e===Bd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function er(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Zh(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function iv(t){var e=Zh(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(l){r=""+l,o.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function _o(t){t._valueTracker||(t._valueTracker=iv(t))}function em(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Zh(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function nl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Nc(t,e){var n=e.checked;return He({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function zf(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=er(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function tm(t,e){e=e.checked,e!=null&&Fd(t,"checked",e,!1)}function jc(t,e){tm(t,e);var n=er(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Tc(t,e.type,n):e.hasOwnProperty("defaultValue")&&Tc(t,e.type,er(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Of(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Tc(t,e,n){(e!=="number"||nl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var di=Array.isArray;function as(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+er(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Pc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return He({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Mf(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(K(92));if(di(n)){if(1<n.length)throw Error(K(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:er(n)}}function nm(t,e){var n=er(e.value),r=er(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ff(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function rm(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ic(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?rm(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Co,sm=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Co=Co||document.createElement("div"),Co.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Co.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ji(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var pi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ov=["Webkit","ms","Moz","O"];Object.keys(pi).forEach(function(t){ov.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),pi[e]=pi[t]})});function im(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||pi.hasOwnProperty(t)&&pi[t]?(""+e).trim():e+"px"}function om(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=im(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var lv=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rc(t,e){if(e){if(lv[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function Ac(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dc=null;function Hd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wc=null,cs=null,ds=null;function Bf(t){if(t=ro(t)){if(typeof Wc!="function")throw Error(K(280));var e=t.stateNode;e&&(e=Ql(e),Wc(t.stateNode,t.type,e))}}function lm(t){cs?ds?ds.push(t):ds=[t]:cs=t}function am(){if(cs){var t=cs,e=ds;if(ds=cs=null,Bf(t),e)for(t=0;t<e.length;t++)Bf(e[t])}}function cm(t,e){return t(e)}function dm(){}var za=!1;function um(t,e,n){if(za)return t(e,n);za=!0;try{return cm(t,e,n)}finally{za=!1,(cs!==null||ds!==null)&&(dm(),am())}}function Ti(t,e){var n=t.stateNode;if(n===null)return null;var r=Ql(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(K(231,e,typeof n));return n}var Lc=!1;if(Sn)try{var Xs={};Object.defineProperty(Xs,"passive",{get:function(){Lc=!0}}),window.addEventListener("test",Xs,Xs),window.removeEventListener("test",Xs,Xs)}catch{Lc=!1}function av(t,e,n,r,s,o,l,c,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(g){this.onError(g)}}var hi=!1,rl=null,sl=!1,zc=null,cv={onError:function(t){hi=!0,rl=t}};function dv(t,e,n,r,s,o,l,c,a){hi=!1,rl=null,av.apply(cv,arguments)}function uv(t,e,n,r,s,o,l,c,a){if(dv.apply(this,arguments),hi){if(hi){var u=rl;hi=!1,rl=null}else throw Error(K(198));sl||(sl=!0,zc=u)}}function Wr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function fm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function $f(t){if(Wr(t)!==t)throw Error(K(188))}function fv(t){var e=t.alternate;if(!e){if(e=Wr(t),e===null)throw Error(K(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return $f(s),t;if(o===r)return $f(s),e;o=o.sibling}throw Error(K(188))}if(n.return!==r.return)n=s,r=o;else{for(var l=!1,c=s.child;c;){if(c===n){l=!0,n=s,r=o;break}if(c===r){l=!0,r=s,n=o;break}c=c.sibling}if(!l){for(c=o.child;c;){if(c===n){l=!0,n=o,r=s;break}if(c===r){l=!0,r=o,n=s;break}c=c.sibling}if(!l)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?t:e}function pm(t){return t=fv(t),t!==null?hm(t):null}function hm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=hm(t);if(e!==null)return e;t=t.sibling}return null}var mm=Dt.unstable_scheduleCallback,Uf=Dt.unstable_cancelCallback,pv=Dt.unstable_shouldYield,hv=Dt.unstable_requestPaint,Qe=Dt.unstable_now,mv=Dt.unstable_getCurrentPriorityLevel,Gd=Dt.unstable_ImmediatePriority,gm=Dt.unstable_UserBlockingPriority,il=Dt.unstable_NormalPriority,gv=Dt.unstable_LowPriority,ym=Dt.unstable_IdlePriority,Gl=null,cn=null;function yv(t){if(cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(Gl,t,void 0,(t.current.flags&128)===128)}catch{}}var Xt=Math.clz32?Math.clz32:wv,xv=Math.log,vv=Math.LN2;function wv(t){return t>>>=0,t===0?32:31-(xv(t)/vv|0)|0}var Eo=64,No=4194304;function ui(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ol(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,o=t.pingedLanes,l=n&268435455;if(l!==0){var c=l&~s;c!==0?r=ui(c):(o&=l,o!==0&&(r=ui(o)))}else l=n&~s,l!==0?r=ui(l):o!==0&&(r=ui(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Xt(e),s=1<<n,r|=t[n],e&=~s;return r}function kv(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bv(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var l=31-Xt(o),c=1<<l,a=s[l];a===-1?(!(c&n)||c&r)&&(s[l]=kv(c,e)):a<=e&&(t.expiredLanes|=c),o&=~c}}function Oc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function xm(){var t=Eo;return Eo<<=1,!(Eo&4194240)&&(Eo=64),t}function Oa(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function to(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xt(e),t[e]=n}function Sv(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Xt(n),o=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~o}}function Vd(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Xt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Te=0;function vm(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var wm,Yd,km,bm,Sm,Mc=!1,jo=[],$n=null,Un=null,Hn=null,Pi=new Map,Ii=new Map,zn=[],_v="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hf(t,e){switch(t){case"focusin":case"focusout":$n=null;break;case"dragenter":case"dragleave":Un=null;break;case"mouseover":case"mouseout":Hn=null;break;case"pointerover":case"pointerout":Pi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ii.delete(e.pointerId)}}function Js(t,e,n,r,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},e!==null&&(e=ro(e),e!==null&&Yd(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Cv(t,e,n,r,s){switch(e){case"focusin":return $n=Js($n,t,e,n,r,s),!0;case"dragenter":return Un=Js(Un,t,e,n,r,s),!0;case"mouseover":return Hn=Js(Hn,t,e,n,r,s),!0;case"pointerover":var o=s.pointerId;return Pi.set(o,Js(Pi.get(o)||null,t,e,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Ii.set(o,Js(Ii.get(o)||null,t,e,n,r,s)),!0}return!1}function _m(t){var e=wr(t.target);if(e!==null){var n=Wr(e);if(n!==null){if(e=n.tag,e===13){if(e=fm(n),e!==null){t.blockedOn=e,Sm(t.priority,function(){km(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ho(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Fc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Dc=r,n.target.dispatchEvent(r),Dc=null}else return e=ro(n),e!==null&&Yd(e),t.blockedOn=n,!1;e.shift()}return!0}function Gf(t,e,n){Ho(t)&&n.delete(e)}function Ev(){Mc=!1,$n!==null&&Ho($n)&&($n=null),Un!==null&&Ho(Un)&&(Un=null),Hn!==null&&Ho(Hn)&&(Hn=null),Pi.forEach(Gf),Ii.forEach(Gf)}function Zs(t,e){t.blockedOn===e&&(t.blockedOn=null,Mc||(Mc=!0,Dt.unstable_scheduleCallback(Dt.unstable_NormalPriority,Ev)))}function Ri(t){function e(s){return Zs(s,t)}if(0<jo.length){Zs(jo[0],t);for(var n=1;n<jo.length;n++){var r=jo[n];r.blockedOn===t&&(r.blockedOn=null)}}for($n!==null&&Zs($n,t),Un!==null&&Zs(Un,t),Hn!==null&&Zs(Hn,t),Pi.forEach(e),Ii.forEach(e),n=0;n<zn.length;n++)r=zn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<zn.length&&(n=zn[0],n.blockedOn===null);)_m(n),n.blockedOn===null&&zn.shift()}var us=Tn.ReactCurrentBatchConfig,ll=!0;function Nv(t,e,n,r){var s=Te,o=us.transition;us.transition=null;try{Te=1,Kd(t,e,n,r)}finally{Te=s,us.transition=o}}function jv(t,e,n,r){var s=Te,o=us.transition;us.transition=null;try{Te=4,Kd(t,e,n,r)}finally{Te=s,us.transition=o}}function Kd(t,e,n,r){if(ll){var s=Fc(t,e,n,r);if(s===null)Ka(t,e,r,al,n),Hf(t,r);else if(Cv(s,t,e,n,r))r.stopPropagation();else if(Hf(t,r),e&4&&-1<_v.indexOf(t)){for(;s!==null;){var o=ro(s);if(o!==null&&wm(o),o=Fc(t,e,n,r),o===null&&Ka(t,e,r,al,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else Ka(t,e,r,null,n)}}var al=null;function Fc(t,e,n,r){if(al=null,t=Hd(r),t=wr(t),t!==null)if(e=Wr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=fm(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return al=t,null}function Cm(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mv()){case Gd:return 1;case gm:return 4;case il:case gv:return 16;case ym:return 536870912;default:return 16}default:return 16}}var Mn=null,Qd=null,Go=null;function Em(){if(Go)return Go;var t,e=Qd,n=e.length,r,s="value"in Mn?Mn.value:Mn.textContent,o=s.length;for(t=0;t<n&&e[t]===s[t];t++);var l=n-t;for(r=1;r<=l&&e[n-r]===s[o-r];r++);return Go=s.slice(t,1<r?1-r:void 0)}function Vo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function To(){return!0}function Vf(){return!1}function Lt(t){function e(n,r,s,o,l){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(o):o[c]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?To:Vf,this.isPropagationStopped=Vf,this}return He(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=To)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=To)},persist:function(){},isPersistent:To}),e}var As={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qd=Lt(As),no=He({},As,{view:0,detail:0}),Tv=Lt(no),Ma,Fa,ei,Vl=He({},no,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ei&&(ei&&t.type==="mousemove"?(Ma=t.screenX-ei.screenX,Fa=t.screenY-ei.screenY):Fa=Ma=0,ei=t),Ma)},movementY:function(t){return"movementY"in t?t.movementY:Fa}}),Yf=Lt(Vl),Pv=He({},Vl,{dataTransfer:0}),Iv=Lt(Pv),Rv=He({},no,{relatedTarget:0}),Ba=Lt(Rv),Av=He({},As,{animationName:0,elapsedTime:0,pseudoElement:0}),Dv=Lt(Av),Wv=He({},As,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Lv=Lt(Wv),zv=He({},As,{data:0}),Kf=Lt(zv),Ov={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bv(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Fv[t])?!!e[t]:!1}function Xd(){return Bv}var $v=He({},no,{key:function(t){if(t.key){var e=Ov[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Vo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Mv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xd,charCode:function(t){return t.type==="keypress"?Vo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Uv=Lt($v),Hv=He({},Vl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qf=Lt(Hv),Gv=He({},no,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xd}),Vv=Lt(Gv),Yv=He({},As,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kv=Lt(Yv),Qv=He({},Vl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qv=Lt(Qv),Xv=[9,13,27,32],Jd=Sn&&"CompositionEvent"in window,mi=null;Sn&&"documentMode"in document&&(mi=document.documentMode);var Jv=Sn&&"TextEvent"in window&&!mi,Nm=Sn&&(!Jd||mi&&8<mi&&11>=mi),qf=" ",Xf=!1;function jm(t,e){switch(t){case"keyup":return Xv.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xr=!1;function Zv(t,e){switch(t){case"compositionend":return Tm(e);case"keypress":return e.which!==32?null:(Xf=!0,qf);case"textInput":return t=e.data,t===qf&&Xf?null:t;default:return null}}function ew(t,e){if(Xr)return t==="compositionend"||!Jd&&jm(t,e)?(t=Em(),Go=Qd=Mn=null,Xr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Nm&&e.locale!=="ko"?null:e.data;default:return null}}var tw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!tw[t.type]:e==="textarea"}function Pm(t,e,n,r){lm(r),e=cl(e,"onChange"),0<e.length&&(n=new qd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var gi=null,Ai=null;function nw(t){Bm(t,0)}function Yl(t){var e=es(t);if(em(e))return t}function rw(t,e){if(t==="change")return e}var Im=!1;if(Sn){var $a;if(Sn){var Ua="oninput"in document;if(!Ua){var Zf=document.createElement("div");Zf.setAttribute("oninput","return;"),Ua=typeof Zf.oninput=="function"}$a=Ua}else $a=!1;Im=$a&&(!document.documentMode||9<document.documentMode)}function ep(){gi&&(gi.detachEvent("onpropertychange",Rm),Ai=gi=null)}function Rm(t){if(t.propertyName==="value"&&Yl(Ai)){var e=[];Pm(e,Ai,t,Hd(t)),um(nw,e)}}function sw(t,e,n){t==="focusin"?(ep(),gi=e,Ai=n,gi.attachEvent("onpropertychange",Rm)):t==="focusout"&&ep()}function iw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yl(Ai)}function ow(t,e){if(t==="click")return Yl(e)}function lw(t,e){if(t==="input"||t==="change")return Yl(e)}function aw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var en=typeof Object.is=="function"?Object.is:aw;function Di(t,e){if(en(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!bc.call(e,s)||!en(t[s],e[s]))return!1}return!0}function tp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function np(t,e){var n=tp(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=tp(n)}}function Am(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Am(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Dm(){for(var t=window,e=nl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=nl(t.document)}return e}function Zd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function cw(t){var e=Dm(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Am(n.ownerDocument.documentElement,n)){if(r!==null&&Zd(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!t.extend&&o>r&&(s=r,r=o,o=s),s=np(n,o);var l=np(n,r);s&&l&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var dw=Sn&&"documentMode"in document&&11>=document.documentMode,Jr=null,Bc=null,yi=null,$c=!1;function rp(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$c||Jr==null||Jr!==nl(r)||(r=Jr,"selectionStart"in r&&Zd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yi&&Di(yi,r)||(yi=r,r=cl(Bc,"onSelect"),0<r.length&&(e=new qd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Jr)))}function Po(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Zr={animationend:Po("Animation","AnimationEnd"),animationiteration:Po("Animation","AnimationIteration"),animationstart:Po("Animation","AnimationStart"),transitionend:Po("Transition","TransitionEnd")},Ha={},Wm={};Sn&&(Wm=document.createElement("div").style,"AnimationEvent"in window||(delete Zr.animationend.animation,delete Zr.animationiteration.animation,delete Zr.animationstart.animation),"TransitionEvent"in window||delete Zr.transitionend.transition);function Kl(t){if(Ha[t])return Ha[t];if(!Zr[t])return t;var e=Zr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Wm)return Ha[t]=e[n];return t}var Lm=Kl("animationend"),zm=Kl("animationiteration"),Om=Kl("animationstart"),Mm=Kl("transitionend"),Fm=new Map,sp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ir(t,e){Fm.set(t,e),Dr(e,[t])}for(var Ga=0;Ga<sp.length;Ga++){var Va=sp[Ga],uw=Va.toLowerCase(),fw=Va[0].toUpperCase()+Va.slice(1);ir(uw,"on"+fw)}ir(Lm,"onAnimationEnd");ir(zm,"onAnimationIteration");ir(Om,"onAnimationStart");ir("dblclick","onDoubleClick");ir("focusin","onFocus");ir("focusout","onBlur");ir(Mm,"onTransitionEnd");ys("onMouseEnter",["mouseout","mouseover"]);ys("onMouseLeave",["mouseout","mouseover"]);ys("onPointerEnter",["pointerout","pointerover"]);ys("onPointerLeave",["pointerout","pointerover"]);Dr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Dr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Dr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Dr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Dr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Dr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pw=new Set("cancel close invalid load scroll toggle".split(" ").concat(fi));function ip(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,uv(r,e,void 0,t),t.currentTarget=null}function Bm(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var l=r.length-1;0<=l;l--){var c=r[l],a=c.instance,u=c.currentTarget;if(c=c.listener,a!==o&&s.isPropagationStopped())break e;ip(s,c,u),o=a}else for(l=0;l<r.length;l++){if(c=r[l],a=c.instance,u=c.currentTarget,c=c.listener,a!==o&&s.isPropagationStopped())break e;ip(s,c,u),o=a}}}if(sl)throw t=zc,sl=!1,zc=null,t}function Me(t,e){var n=e[Yc];n===void 0&&(n=e[Yc]=new Set);var r=t+"__bubble";n.has(r)||($m(e,t,2,!1),n.add(r))}function Ya(t,e,n){var r=0;e&&(r|=4),$m(n,t,r,e)}var Io="_reactListening"+Math.random().toString(36).slice(2);function Wi(t){if(!t[Io]){t[Io]=!0,Qh.forEach(function(n){n!=="selectionchange"&&(pw.has(n)||Ya(n,!1,t),Ya(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Io]||(e[Io]=!0,Ya("selectionchange",!1,e))}}function $m(t,e,n,r){switch(Cm(e)){case 1:var s=Nv;break;case 4:s=jv;break;default:s=Kd}n=s.bind(null,e,n,t),s=void 0,!Lc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Ka(t,e,n,r,s){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var c=r.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(l===4)for(l=r.return;l!==null;){var a=l.tag;if((a===3||a===4)&&(a=l.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;l=l.return}for(;c!==null;){if(l=wr(c),l===null)return;if(a=l.tag,a===5||a===6){r=o=l;continue e}c=c.parentNode}}r=r.return}um(function(){var u=o,g=Hd(n),f=[];e:{var h=Fm.get(t);if(h!==void 0){var C=qd,b=t;switch(t){case"keypress":if(Vo(n)===0)break e;case"keydown":case"keyup":C=Uv;break;case"focusin":b="focus",C=Ba;break;case"focusout":b="blur",C=Ba;break;case"beforeblur":case"afterblur":C=Ba;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":C=Yf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":C=Iv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":C=Vv;break;case Lm:case zm:case Om:C=Dv;break;case Mm:C=Kv;break;case"scroll":C=Tv;break;case"wheel":C=qv;break;case"copy":case"cut":case"paste":C=Lv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":C=Qf}var P=(e&4)!==0,R=!P&&t==="scroll",S=P?h!==null?h+"Capture":null:h;P=[];for(var x=u,N;x!==null;){N=x;var L=N.stateNode;if(N.tag===5&&L!==null&&(N=L,S!==null&&(L=Ti(x,S),L!=null&&P.push(Li(x,L,N)))),R)break;x=x.return}0<P.length&&(h=new C(h,b,null,n,g),f.push({event:h,listeners:P}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",C=t==="mouseout"||t==="pointerout",h&&n!==Dc&&(b=n.relatedTarget||n.fromElement)&&(wr(b)||b[_n]))break e;if((C||h)&&(h=g.window===g?g:(h=g.ownerDocument)?h.defaultView||h.parentWindow:window,C?(b=n.relatedTarget||n.toElement,C=u,b=b?wr(b):null,b!==null&&(R=Wr(b),b!==R||b.tag!==5&&b.tag!==6)&&(b=null)):(C=null,b=u),C!==b)){if(P=Yf,L="onMouseLeave",S="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(P=Qf,L="onPointerLeave",S="onPointerEnter",x="pointer"),R=C==null?h:es(C),N=b==null?h:es(b),h=new P(L,x+"leave",C,n,g),h.target=R,h.relatedTarget=N,L=null,wr(g)===u&&(P=new P(S,x+"enter",b,n,g),P.target=N,P.relatedTarget=R,L=P),R=L,C&&b)t:{for(P=C,S=b,x=0,N=P;N;N=Yr(N))x++;for(N=0,L=S;L;L=Yr(L))N++;for(;0<x-N;)P=Yr(P),x--;for(;0<N-x;)S=Yr(S),N--;for(;x--;){if(P===S||S!==null&&P===S.alternate)break t;P=Yr(P),S=Yr(S)}P=null}else P=null;C!==null&&op(f,h,C,P,!1),b!==null&&R!==null&&op(f,R,b,P,!0)}}e:{if(h=u?es(u):window,C=h.nodeName&&h.nodeName.toLowerCase(),C==="select"||C==="input"&&h.type==="file")var G=rw;else if(Jf(h))if(Im)G=lw;else{G=iw;var U=sw}else(C=h.nodeName)&&C.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(G=ow);if(G&&(G=G(t,u))){Pm(f,G,n,g);break e}U&&U(t,h,u),t==="focusout"&&(U=h._wrapperState)&&U.controlled&&h.type==="number"&&Tc(h,"number",h.value)}switch(U=u?es(u):window,t){case"focusin":(Jf(U)||U.contentEditable==="true")&&(Jr=U,Bc=u,yi=null);break;case"focusout":yi=Bc=Jr=null;break;case"mousedown":$c=!0;break;case"contextmenu":case"mouseup":case"dragend":$c=!1,rp(f,n,g);break;case"selectionchange":if(dw)break;case"keydown":case"keyup":rp(f,n,g)}var B;if(Jd)e:{switch(t){case"compositionstart":var W="onCompositionStart";break e;case"compositionend":W="onCompositionEnd";break e;case"compositionupdate":W="onCompositionUpdate";break e}W=void 0}else Xr?jm(t,n)&&(W="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(W="onCompositionStart");W&&(Nm&&n.locale!=="ko"&&(Xr||W!=="onCompositionStart"?W==="onCompositionEnd"&&Xr&&(B=Em()):(Mn=g,Qd="value"in Mn?Mn.value:Mn.textContent,Xr=!0)),U=cl(u,W),0<U.length&&(W=new Kf(W,t,null,n,g),f.push({event:W,listeners:U}),B?W.data=B:(B=Tm(n),B!==null&&(W.data=B)))),(B=Jv?Zv(t,n):ew(t,n))&&(u=cl(u,"onBeforeInput"),0<u.length&&(g=new Kf("onBeforeInput","beforeinput",null,n,g),f.push({event:g,listeners:u}),g.data=B))}Bm(f,e)})}function Li(t,e,n){return{instance:t,listener:e,currentTarget:n}}function cl(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Ti(t,n),o!=null&&r.unshift(Li(t,o,s)),o=Ti(t,e),o!=null&&r.push(Li(t,o,s))),t=t.return}return r}function Yr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function op(t,e,n,r,s){for(var o=e._reactName,l=[];n!==null&&n!==r;){var c=n,a=c.alternate,u=c.stateNode;if(a!==null&&a===r)break;c.tag===5&&u!==null&&(c=u,s?(a=Ti(n,o),a!=null&&l.unshift(Li(n,a,c))):s||(a=Ti(n,o),a!=null&&l.push(Li(n,a,c)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var hw=/\r\n?/g,mw=/\u0000|\uFFFD/g;function lp(t){return(typeof t=="string"?t:""+t).replace(hw,`
`).replace(mw,"")}function Ro(t,e,n){if(e=lp(e),lp(t)!==e&&n)throw Error(K(425))}function dl(){}var Uc=null,Hc=null;function Gc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Vc=typeof setTimeout=="function"?setTimeout:void 0,gw=typeof clearTimeout=="function"?clearTimeout:void 0,ap=typeof Promise=="function"?Promise:void 0,yw=typeof queueMicrotask=="function"?queueMicrotask:typeof ap<"u"?function(t){return ap.resolve(null).then(t).catch(xw)}:Vc;function xw(t){setTimeout(function(){throw t})}function Qa(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ri(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ri(e)}function Gn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function cp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ds=Math.random().toString(36).slice(2),an="__reactFiber$"+Ds,zi="__reactProps$"+Ds,_n="__reactContainer$"+Ds,Yc="__reactEvents$"+Ds,vw="__reactListeners$"+Ds,ww="__reactHandles$"+Ds;function wr(t){var e=t[an];if(e)return e;for(var n=t.parentNode;n;){if(e=n[_n]||n[an]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=cp(t);t!==null;){if(n=t[an])return n;t=cp(t)}return e}t=n,n=t.parentNode}return null}function ro(t){return t=t[an]||t[_n],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function es(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(K(33))}function Ql(t){return t[zi]||null}var Kc=[],ts=-1;function or(t){return{current:t}}function Fe(t){0>ts||(t.current=Kc[ts],Kc[ts]=null,ts--)}function ze(t,e){ts++,Kc[ts]=t.current,t.current=e}var tr={},xt=or(tr),jt=or(!1),Er=tr;function xs(t,e){var n=t.type.contextTypes;if(!n)return tr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Tt(t){return t=t.childContextTypes,t!=null}function ul(){Fe(jt),Fe(xt)}function dp(t,e,n){if(xt.current!==tr)throw Error(K(168));ze(xt,e),ze(jt,n)}function Um(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(K(108,sv(t)||"Unknown",s));return He({},n,r)}function fl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||tr,Er=xt.current,ze(xt,t),ze(jt,jt.current),!0}function up(t,e,n){var r=t.stateNode;if(!r)throw Error(K(169));n?(t=Um(t,e,Er),r.__reactInternalMemoizedMergedChildContext=t,Fe(jt),Fe(xt),ze(xt,t)):Fe(jt),ze(jt,n)}var yn=null,ql=!1,qa=!1;function Hm(t){yn===null?yn=[t]:yn.push(t)}function kw(t){ql=!0,Hm(t)}function lr(){if(!qa&&yn!==null){qa=!0;var t=0,e=Te;try{var n=yn;for(Te=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}yn=null,ql=!1}catch(s){throw yn!==null&&(yn=yn.slice(t+1)),mm(Gd,lr),s}finally{Te=e,qa=!1}}return null}var ns=[],rs=0,pl=null,hl=0,zt=[],Ot=0,Nr=null,xn=1,vn="";function hr(t,e){ns[rs++]=hl,ns[rs++]=pl,pl=t,hl=e}function Gm(t,e,n){zt[Ot++]=xn,zt[Ot++]=vn,zt[Ot++]=Nr,Nr=t;var r=xn;t=vn;var s=32-Xt(r)-1;r&=~(1<<s),n+=1;var o=32-Xt(e)+s;if(30<o){var l=s-s%5;o=(r&(1<<l)-1).toString(32),r>>=l,s-=l,xn=1<<32-Xt(e)+s|n<<s|r,vn=o+t}else xn=1<<o|n<<s|r,vn=t}function eu(t){t.return!==null&&(hr(t,1),Gm(t,1,0))}function tu(t){for(;t===pl;)pl=ns[--rs],ns[rs]=null,hl=ns[--rs],ns[rs]=null;for(;t===Nr;)Nr=zt[--Ot],zt[Ot]=null,vn=zt[--Ot],zt[Ot]=null,xn=zt[--Ot],zt[Ot]=null}var At=null,Rt=null,Be=!1,Kt=null;function Vm(t,e){var n=Mt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function fp(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,At=t,Rt=Gn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,At=t,Rt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Nr!==null?{id:xn,overflow:vn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Mt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,At=t,Rt=null,!0):!1;default:return!1}}function Qc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function qc(t){if(Be){var e=Rt;if(e){var n=e;if(!fp(t,e)){if(Qc(t))throw Error(K(418));e=Gn(n.nextSibling);var r=At;e&&fp(t,e)?Vm(r,n):(t.flags=t.flags&-4097|2,Be=!1,At=t)}}else{if(Qc(t))throw Error(K(418));t.flags=t.flags&-4097|2,Be=!1,At=t}}}function pp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;At=t}function Ao(t){if(t!==At)return!1;if(!Be)return pp(t),Be=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Gc(t.type,t.memoizedProps)),e&&(e=Rt)){if(Qc(t))throw Ym(),Error(K(418));for(;e;)Vm(t,e),e=Gn(e.nextSibling)}if(pp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Rt=Gn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Rt=null}}else Rt=At?Gn(t.stateNode.nextSibling):null;return!0}function Ym(){for(var t=Rt;t;)t=Gn(t.nextSibling)}function vs(){Rt=At=null,Be=!1}function nu(t){Kt===null?Kt=[t]:Kt.push(t)}var bw=Tn.ReactCurrentBatchConfig;function ti(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,t));var s=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(l){var c=s.refs;l===null?delete c[o]:c[o]=l},e._stringRef=o,e)}if(typeof t!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,t))}return t}function Do(t,e){throw t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function hp(t){var e=t._init;return e(t._payload)}function Km(t){function e(S,x){if(t){var N=S.deletions;N===null?(S.deletions=[x],S.flags|=16):N.push(x)}}function n(S,x){if(!t)return null;for(;x!==null;)e(S,x),x=x.sibling;return null}function r(S,x){for(S=new Map;x!==null;)x.key!==null?S.set(x.key,x):S.set(x.index,x),x=x.sibling;return S}function s(S,x){return S=Qn(S,x),S.index=0,S.sibling=null,S}function o(S,x,N){return S.index=N,t?(N=S.alternate,N!==null?(N=N.index,N<x?(S.flags|=2,x):N):(S.flags|=2,x)):(S.flags|=1048576,x)}function l(S){return t&&S.alternate===null&&(S.flags|=2),S}function c(S,x,N,L){return x===null||x.tag!==6?(x=rc(N,S.mode,L),x.return=S,x):(x=s(x,N),x.return=S,x)}function a(S,x,N,L){var G=N.type;return G===qr?g(S,x,N.props.children,L,N.key):x!==null&&(x.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===Wn&&hp(G)===x.type)?(L=s(x,N.props),L.ref=ti(S,x,N),L.return=S,L):(L=Zo(N.type,N.key,N.props,null,S.mode,L),L.ref=ti(S,x,N),L.return=S,L)}function u(S,x,N,L){return x===null||x.tag!==4||x.stateNode.containerInfo!==N.containerInfo||x.stateNode.implementation!==N.implementation?(x=sc(N,S.mode,L),x.return=S,x):(x=s(x,N.children||[]),x.return=S,x)}function g(S,x,N,L,G){return x===null||x.tag!==7?(x=Cr(N,S.mode,L,G),x.return=S,x):(x=s(x,N),x.return=S,x)}function f(S,x,N){if(typeof x=="string"&&x!==""||typeof x=="number")return x=rc(""+x,S.mode,N),x.return=S,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case So:return N=Zo(x.type,x.key,x.props,null,S.mode,N),N.ref=ti(S,null,x),N.return=S,N;case Qr:return x=sc(x,S.mode,N),x.return=S,x;case Wn:var L=x._init;return f(S,L(x._payload),N)}if(di(x)||qs(x))return x=Cr(x,S.mode,N,null),x.return=S,x;Do(S,x)}return null}function h(S,x,N,L){var G=x!==null?x.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return G!==null?null:c(S,x,""+N,L);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case So:return N.key===G?a(S,x,N,L):null;case Qr:return N.key===G?u(S,x,N,L):null;case Wn:return G=N._init,h(S,x,G(N._payload),L)}if(di(N)||qs(N))return G!==null?null:g(S,x,N,L,null);Do(S,N)}return null}function C(S,x,N,L,G){if(typeof L=="string"&&L!==""||typeof L=="number")return S=S.get(N)||null,c(x,S,""+L,G);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case So:return S=S.get(L.key===null?N:L.key)||null,a(x,S,L,G);case Qr:return S=S.get(L.key===null?N:L.key)||null,u(x,S,L,G);case Wn:var U=L._init;return C(S,x,N,U(L._payload),G)}if(di(L)||qs(L))return S=S.get(N)||null,g(x,S,L,G,null);Do(x,L)}return null}function b(S,x,N,L){for(var G=null,U=null,B=x,W=x=0,pe=null;B!==null&&W<N.length;W++){B.index>W?(pe=B,B=null):pe=B.sibling;var Y=h(S,B,N[W],L);if(Y===null){B===null&&(B=pe);break}t&&B&&Y.alternate===null&&e(S,B),x=o(Y,x,W),U===null?G=Y:U.sibling=Y,U=Y,B=pe}if(W===N.length)return n(S,B),Be&&hr(S,W),G;if(B===null){for(;W<N.length;W++)B=f(S,N[W],L),B!==null&&(x=o(B,x,W),U===null?G=B:U.sibling=B,U=B);return Be&&hr(S,W),G}for(B=r(S,B);W<N.length;W++)pe=C(B,S,W,N[W],L),pe!==null&&(t&&pe.alternate!==null&&B.delete(pe.key===null?W:pe.key),x=o(pe,x,W),U===null?G=pe:U.sibling=pe,U=pe);return t&&B.forEach(function(A){return e(S,A)}),Be&&hr(S,W),G}function P(S,x,N,L){var G=qs(N);if(typeof G!="function")throw Error(K(150));if(N=G.call(N),N==null)throw Error(K(151));for(var U=G=null,B=x,W=x=0,pe=null,Y=N.next();B!==null&&!Y.done;W++,Y=N.next()){B.index>W?(pe=B,B=null):pe=B.sibling;var A=h(S,B,Y.value,L);if(A===null){B===null&&(B=pe);break}t&&B&&A.alternate===null&&e(S,B),x=o(A,x,W),U===null?G=A:U.sibling=A,U=A,B=pe}if(Y.done)return n(S,B),Be&&hr(S,W),G;if(B===null){for(;!Y.done;W++,Y=N.next())Y=f(S,Y.value,L),Y!==null&&(x=o(Y,x,W),U===null?G=Y:U.sibling=Y,U=Y);return Be&&hr(S,W),G}for(B=r(S,B);!Y.done;W++,Y=N.next())Y=C(B,S,W,Y.value,L),Y!==null&&(t&&Y.alternate!==null&&B.delete(Y.key===null?W:Y.key),x=o(Y,x,W),U===null?G=Y:U.sibling=Y,U=Y);return t&&B.forEach(function($){return e(S,$)}),Be&&hr(S,W),G}function R(S,x,N,L){if(typeof N=="object"&&N!==null&&N.type===qr&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case So:e:{for(var G=N.key,U=x;U!==null;){if(U.key===G){if(G=N.type,G===qr){if(U.tag===7){n(S,U.sibling),x=s(U,N.props.children),x.return=S,S=x;break e}}else if(U.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===Wn&&hp(G)===U.type){n(S,U.sibling),x=s(U,N.props),x.ref=ti(S,U,N),x.return=S,S=x;break e}n(S,U);break}else e(S,U);U=U.sibling}N.type===qr?(x=Cr(N.props.children,S.mode,L,N.key),x.return=S,S=x):(L=Zo(N.type,N.key,N.props,null,S.mode,L),L.ref=ti(S,x,N),L.return=S,S=L)}return l(S);case Qr:e:{for(U=N.key;x!==null;){if(x.key===U)if(x.tag===4&&x.stateNode.containerInfo===N.containerInfo&&x.stateNode.implementation===N.implementation){n(S,x.sibling),x=s(x,N.children||[]),x.return=S,S=x;break e}else{n(S,x);break}else e(S,x);x=x.sibling}x=sc(N,S.mode,L),x.return=S,S=x}return l(S);case Wn:return U=N._init,R(S,x,U(N._payload),L)}if(di(N))return b(S,x,N,L);if(qs(N))return P(S,x,N,L);Do(S,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,x!==null&&x.tag===6?(n(S,x.sibling),x=s(x,N),x.return=S,S=x):(n(S,x),x=rc(N,S.mode,L),x.return=S,S=x),l(S)):n(S,x)}return R}var ws=Km(!0),Qm=Km(!1),ml=or(null),gl=null,ss=null,ru=null;function su(){ru=ss=gl=null}function iu(t){var e=ml.current;Fe(ml),t._currentValue=e}function Xc(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function fs(t,e){gl=t,ru=ss=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Et=!0),t.firstContext=null)}function $t(t){var e=t._currentValue;if(ru!==t)if(t={context:t,memoizedValue:e,next:null},ss===null){if(gl===null)throw Error(K(308));ss=t,gl.dependencies={lanes:0,firstContext:t}}else ss=ss.next=t;return e}var kr=null;function ou(t){kr===null?kr=[t]:kr.push(t)}function qm(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,ou(e)):(n.next=s.next,s.next=n),e.interleaved=n,Cn(t,r)}function Cn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ln=!1;function lu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function kn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Vn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Se&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Cn(t,n)}return s=r.interleaved,s===null?(e.next=e,ou(r)):(e.next=s.next,s.next=e),r.interleaved=e,Cn(t,n)}function Yo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Vd(t,n)}}function mp(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=l:o=o.next=l,n=n.next}while(n!==null);o===null?s=o=e:o=o.next=e}else s=o=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function yl(t,e,n,r){var s=t.updateQueue;Ln=!1;var o=s.firstBaseUpdate,l=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var a=c,u=a.next;a.next=null,l===null?o=u:l.next=u,l=a;var g=t.alternate;g!==null&&(g=g.updateQueue,c=g.lastBaseUpdate,c!==l&&(c===null?g.firstBaseUpdate=u:c.next=u,g.lastBaseUpdate=a))}if(o!==null){var f=s.baseState;l=0,g=u=a=null,c=o;do{var h=c.lane,C=c.eventTime;if((r&h)===h){g!==null&&(g=g.next={eventTime:C,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var b=t,P=c;switch(h=e,C=n,P.tag){case 1:if(b=P.payload,typeof b=="function"){f=b.call(C,f,h);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=P.payload,h=typeof b=="function"?b.call(C,f,h):b,h==null)break e;f=He({},f,h);break e;case 2:Ln=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[c]:h.push(c))}else C={eventTime:C,lane:h,tag:c.tag,payload:c.payload,callback:c.callback,next:null},g===null?(u=g=C,a=f):g=g.next=C,l|=h;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;h=c,c=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(g===null&&(a=f),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=g,e=s.shared.interleaved,e!==null){s=e;do l|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);Tr|=l,t.lanes=l,t.memoizedState=f}}function gp(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(K(191,s));s.call(r)}}}var so={},dn=or(so),Oi=or(so),Mi=or(so);function br(t){if(t===so)throw Error(K(174));return t}function au(t,e){switch(ze(Mi,e),ze(Oi,t),ze(dn,so),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ic(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ic(e,t)}Fe(dn),ze(dn,e)}function ks(){Fe(dn),Fe(Oi),Fe(Mi)}function Jm(t){br(Mi.current);var e=br(dn.current),n=Ic(e,t.type);e!==n&&(ze(Oi,t),ze(dn,n))}function cu(t){Oi.current===t&&(Fe(dn),Fe(Oi))}var $e=or(0);function xl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Xa=[];function du(){for(var t=0;t<Xa.length;t++)Xa[t]._workInProgressVersionPrimary=null;Xa.length=0}var Ko=Tn.ReactCurrentDispatcher,Ja=Tn.ReactCurrentBatchConfig,jr=0,Ue=null,Xe=null,rt=null,vl=!1,xi=!1,Fi=0,Sw=0;function pt(){throw Error(K(321))}function uu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!en(t[n],e[n]))return!1;return!0}function fu(t,e,n,r,s,o){if(jr=o,Ue=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ko.current=t===null||t.memoizedState===null?Nw:jw,t=n(r,s),xi){o=0;do{if(xi=!1,Fi=0,25<=o)throw Error(K(301));o+=1,rt=Xe=null,e.updateQueue=null,Ko.current=Tw,t=n(r,s)}while(xi)}if(Ko.current=wl,e=Xe!==null&&Xe.next!==null,jr=0,rt=Xe=Ue=null,vl=!1,e)throw Error(K(300));return t}function pu(){var t=Fi!==0;return Fi=0,t}function ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?Ue.memoizedState=rt=t:rt=rt.next=t,rt}function Ut(){if(Xe===null){var t=Ue.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var e=rt===null?Ue.memoizedState:rt.next;if(e!==null)rt=e,Xe=t;else{if(t===null)throw Error(K(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},rt===null?Ue.memoizedState=rt=t:rt=rt.next=t}return rt}function Bi(t,e){return typeof e=="function"?e(t):e}function Za(t){var e=Ut(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=Xe,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var l=s.next;s.next=o.next,o.next=l}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var c=l=null,a=null,u=o;do{var g=u.lane;if((jr&g)===g)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:g,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(c=a=f,l=r):a=a.next=f,Ue.lanes|=g,Tr|=g}u=u.next}while(u!==null&&u!==o);a===null?l=r:a.next=c,en(r,e.memoizedState)||(Et=!0),e.memoizedState=r,e.baseState=l,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do o=s.lane,Ue.lanes|=o,Tr|=o,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ec(t){var e=Ut(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,o=e.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do o=t(o,l.action),l=l.next;while(l!==s);en(o,e.memoizedState)||(Et=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Zm(){}function eg(t,e){var n=Ue,r=Ut(),s=e(),o=!en(r.memoizedState,s);if(o&&(r.memoizedState=s,Et=!0),r=r.queue,hu(rg.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||rt!==null&&rt.memoizedState.tag&1){if(n.flags|=2048,$i(9,ng.bind(null,n,r,s,e),void 0,null),it===null)throw Error(K(349));jr&30||tg(n,e,s)}return s}function tg(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ue.updateQueue,e===null?(e={lastEffect:null,stores:null},Ue.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ng(t,e,n,r){e.value=n,e.getSnapshot=r,sg(e)&&ig(t)}function rg(t,e,n){return n(function(){sg(e)&&ig(t)})}function sg(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!en(t,n)}catch{return!0}}function ig(t){var e=Cn(t,1);e!==null&&Jt(e,t,1,-1)}function yp(t){var e=ln();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:t},e.queue=t,t=t.dispatch=Ew.bind(null,Ue,t),[e.memoizedState,t]}function $i(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ue.updateQueue,e===null?(e={lastEffect:null,stores:null},Ue.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function og(){return Ut().memoizedState}function Qo(t,e,n,r){var s=ln();Ue.flags|=t,s.memoizedState=$i(1|e,n,void 0,r===void 0?null:r)}function Xl(t,e,n,r){var s=Ut();r=r===void 0?null:r;var o=void 0;if(Xe!==null){var l=Xe.memoizedState;if(o=l.destroy,r!==null&&uu(r,l.deps)){s.memoizedState=$i(e,n,o,r);return}}Ue.flags|=t,s.memoizedState=$i(1|e,n,o,r)}function xp(t,e){return Qo(8390656,8,t,e)}function hu(t,e){return Xl(2048,8,t,e)}function lg(t,e){return Xl(4,2,t,e)}function ag(t,e){return Xl(4,4,t,e)}function cg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function dg(t,e,n){return n=n!=null?n.concat([t]):null,Xl(4,4,cg.bind(null,e,t),n)}function mu(){}function ug(t,e){var n=Ut();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&uu(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function fg(t,e){var n=Ut();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&uu(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function pg(t,e,n){return jr&21?(en(n,e)||(n=xm(),Ue.lanes|=n,Tr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Et=!0),t.memoizedState=n)}function _w(t,e){var n=Te;Te=n!==0&&4>n?n:4,t(!0);var r=Ja.transition;Ja.transition={};try{t(!1),e()}finally{Te=n,Ja.transition=r}}function hg(){return Ut().memoizedState}function Cw(t,e,n){var r=Kn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},mg(t))gg(e,n);else if(n=qm(t,e,n,r),n!==null){var s=kt();Jt(n,t,r,s),yg(n,e,r)}}function Ew(t,e,n){var r=Kn(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(mg(t))gg(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var l=e.lastRenderedState,c=o(l,n);if(s.hasEagerState=!0,s.eagerState=c,en(c,l)){var a=e.interleaved;a===null?(s.next=s,ou(e)):(s.next=a.next,a.next=s),e.interleaved=s;return}}catch{}finally{}n=qm(t,e,s,r),n!==null&&(s=kt(),Jt(n,t,r,s),yg(n,e,r))}}function mg(t){var e=t.alternate;return t===Ue||e!==null&&e===Ue}function gg(t,e){xi=vl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function yg(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Vd(t,n)}}var wl={readContext:$t,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useInsertionEffect:pt,useLayoutEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useMutableSource:pt,useSyncExternalStore:pt,useId:pt,unstable_isNewReconciler:!1},Nw={readContext:$t,useCallback:function(t,e){return ln().memoizedState=[t,e===void 0?null:e],t},useContext:$t,useEffect:xp,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Qo(4194308,4,cg.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Qo(4194308,4,t,e)},useInsertionEffect:function(t,e){return Qo(4,2,t,e)},useMemo:function(t,e){var n=ln();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ln();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Cw.bind(null,Ue,t),[r.memoizedState,t]},useRef:function(t){var e=ln();return t={current:t},e.memoizedState=t},useState:yp,useDebugValue:mu,useDeferredValue:function(t){return ln().memoizedState=t},useTransition:function(){var t=yp(!1),e=t[0];return t=_w.bind(null,t[1]),ln().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ue,s=ln();if(Be){if(n===void 0)throw Error(K(407));n=n()}else{if(n=e(),it===null)throw Error(K(349));jr&30||tg(r,e,n)}s.memoizedState=n;var o={value:n,getSnapshot:e};return s.queue=o,xp(rg.bind(null,r,o,t),[t]),r.flags|=2048,$i(9,ng.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=ln(),e=it.identifierPrefix;if(Be){var n=vn,r=xn;n=(r&~(1<<32-Xt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Fi++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Sw++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},jw={readContext:$t,useCallback:ug,useContext:$t,useEffect:hu,useImperativeHandle:dg,useInsertionEffect:lg,useLayoutEffect:ag,useMemo:fg,useReducer:Za,useRef:og,useState:function(){return Za(Bi)},useDebugValue:mu,useDeferredValue:function(t){var e=Ut();return pg(e,Xe.memoizedState,t)},useTransition:function(){var t=Za(Bi)[0],e=Ut().memoizedState;return[t,e]},useMutableSource:Zm,useSyncExternalStore:eg,useId:hg,unstable_isNewReconciler:!1},Tw={readContext:$t,useCallback:ug,useContext:$t,useEffect:hu,useImperativeHandle:dg,useInsertionEffect:lg,useLayoutEffect:ag,useMemo:fg,useReducer:ec,useRef:og,useState:function(){return ec(Bi)},useDebugValue:mu,useDeferredValue:function(t){var e=Ut();return Xe===null?e.memoizedState=t:pg(e,Xe.memoizedState,t)},useTransition:function(){var t=ec(Bi)[0],e=Ut().memoizedState;return[t,e]},useMutableSource:Zm,useSyncExternalStore:eg,useId:hg,unstable_isNewReconciler:!1};function Vt(t,e){if(t&&t.defaultProps){e=He({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Jc(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:He({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Jl={isMounted:function(t){return(t=t._reactInternals)?Wr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=kt(),s=Kn(t),o=kn(r,s);o.payload=e,n!=null&&(o.callback=n),e=Vn(t,o,s),e!==null&&(Jt(e,t,s,r),Yo(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=kt(),s=Kn(t),o=kn(r,s);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Vn(t,o,s),e!==null&&(Jt(e,t,s,r),Yo(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=kt(),r=Kn(t),s=kn(n,r);s.tag=2,e!=null&&(s.callback=e),e=Vn(t,s,r),e!==null&&(Jt(e,t,r,n),Yo(e,t,r))}};function vp(t,e,n,r,s,o,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,l):e.prototype&&e.prototype.isPureReactComponent?!Di(n,r)||!Di(s,o):!0}function xg(t,e,n){var r=!1,s=tr,o=e.contextType;return typeof o=="object"&&o!==null?o=$t(o):(s=Tt(e)?Er:xt.current,r=e.contextTypes,o=(r=r!=null)?xs(t,s):tr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Jl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function wp(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Jl.enqueueReplaceState(e,e.state,null)}function Zc(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},lu(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=$t(o):(o=Tt(e)?Er:xt.current,s.context=xs(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Jc(t,e,o,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Jl.enqueueReplaceState(s,s.state,null),yl(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function bs(t,e){try{var n="",r=e;do n+=rv(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function tc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ed(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Pw=typeof WeakMap=="function"?WeakMap:Map;function vg(t,e,n){n=kn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){bl||(bl=!0,dd=r),ed(t,e)},n}function wg(t,e,n){n=kn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){ed(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){ed(t,e),typeof r!="function"&&(Yn===null?Yn=new Set([this]):Yn.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function kp(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Pw;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Hw.bind(null,t,e,n),e.then(t,t))}function bp(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Sp(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=kn(-1,1),e.tag=2,Vn(n,e,1))),n.lanes|=1),t)}var Iw=Tn.ReactCurrentOwner,Et=!1;function vt(t,e,n,r){e.child=t===null?Qm(e,null,n,r):ws(e,t.child,n,r)}function _p(t,e,n,r,s){n=n.render;var o=e.ref;return fs(e,s),r=fu(t,e,n,r,o,s),n=pu(),t!==null&&!Et?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,En(t,e,s)):(Be&&n&&eu(e),e.flags|=1,vt(t,e,r,s),e.child)}function Cp(t,e,n,r,s){if(t===null){var o=n.type;return typeof o=="function"&&!Su(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,kg(t,e,o,r,s)):(t=Zo(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var l=o.memoizedProps;if(n=n.compare,n=n!==null?n:Di,n(l,r)&&t.ref===e.ref)return En(t,e,s)}return e.flags|=1,t=Qn(o,r),t.ref=e.ref,t.return=e,e.child=t}function kg(t,e,n,r,s){if(t!==null){var o=t.memoizedProps;if(Di(o,r)&&t.ref===e.ref)if(Et=!1,e.pendingProps=r=o,(t.lanes&s)!==0)t.flags&131072&&(Et=!0);else return e.lanes=t.lanes,En(t,e,s)}return td(t,e,n,r,s)}function bg(t,e,n){var r=e.pendingProps,s=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(os,It),It|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ze(os,It),It|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ze(os,It),It|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,ze(os,It),It|=r;return vt(t,e,s,n),e.child}function Sg(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function td(t,e,n,r,s){var o=Tt(n)?Er:xt.current;return o=xs(e,o),fs(e,s),n=fu(t,e,n,r,o,s),r=pu(),t!==null&&!Et?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,En(t,e,s)):(Be&&r&&eu(e),e.flags|=1,vt(t,e,n,s),e.child)}function Ep(t,e,n,r,s){if(Tt(n)){var o=!0;fl(e)}else o=!1;if(fs(e,s),e.stateNode===null)qo(t,e),xg(e,n,r),Zc(e,n,r,s),r=!0;else if(t===null){var l=e.stateNode,c=e.memoizedProps;l.props=c;var a=l.context,u=n.contextType;typeof u=="object"&&u!==null?u=$t(u):(u=Tt(n)?Er:xt.current,u=xs(e,u));var g=n.getDerivedStateFromProps,f=typeof g=="function"||typeof l.getSnapshotBeforeUpdate=="function";f||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==r||a!==u)&&wp(e,l,r,u),Ln=!1;var h=e.memoizedState;l.state=h,yl(e,r,l,s),a=e.memoizedState,c!==r||h!==a||jt.current||Ln?(typeof g=="function"&&(Jc(e,n,g,r),a=e.memoizedState),(c=Ln||vp(e,n,c,r,h,a,u))?(f||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),l.props=r,l.state=a,l.context=u,r=c):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{l=e.stateNode,Xm(t,e),c=e.memoizedProps,u=e.type===e.elementType?c:Vt(e.type,c),l.props=u,f=e.pendingProps,h=l.context,a=n.contextType,typeof a=="object"&&a!==null?a=$t(a):(a=Tt(n)?Er:xt.current,a=xs(e,a));var C=n.getDerivedStateFromProps;(g=typeof C=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==f||h!==a)&&wp(e,l,r,a),Ln=!1,h=e.memoizedState,l.state=h,yl(e,r,l,s);var b=e.memoizedState;c!==f||h!==b||jt.current||Ln?(typeof C=="function"&&(Jc(e,n,C,r),b=e.memoizedState),(u=Ln||vp(e,n,u,r,h,b,a)||!1)?(g||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,b,a),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,b,a)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||c===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),l.props=r,l.state=b,l.context=a,r=u):(typeof l.componentDidUpdate!="function"||c===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return nd(t,e,n,r,o,s)}function nd(t,e,n,r,s,o){Sg(t,e);var l=(e.flags&128)!==0;if(!r&&!l)return s&&up(e,n,!1),En(t,e,o);r=e.stateNode,Iw.current=e;var c=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&l?(e.child=ws(e,t.child,null,o),e.child=ws(e,null,c,o)):vt(t,e,c,o),e.memoizedState=r.state,s&&up(e,n,!0),e.child}function _g(t){var e=t.stateNode;e.pendingContext?dp(t,e.pendingContext,e.pendingContext!==e.context):e.context&&dp(t,e.context,!1),au(t,e.containerInfo)}function Np(t,e,n,r,s){return vs(),nu(s),e.flags|=256,vt(t,e,n,r),e.child}var rd={dehydrated:null,treeContext:null,retryLane:0};function sd(t){return{baseLanes:t,cachePool:null,transitions:null}}function Cg(t,e,n){var r=e.pendingProps,s=$e.current,o=!1,l=(e.flags&128)!==0,c;if((c=l)||(c=t!==null&&t.memoizedState===null?!1:(s&2)!==0),c?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ze($e,s&1),t===null)return qc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=r.children,t=r.fallback,o?(r=e.mode,o=e.child,l={mode:"hidden",children:l},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=ta(l,r,0,null),t=Cr(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=sd(n),e.memoizedState=rd,t):gu(e,l));if(s=t.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return Rw(t,e,l,r,c,s,n);if(o){o=r.fallback,l=e.mode,s=t.child,c=s.sibling;var a={mode:"hidden",children:r.children};return!(l&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=Qn(s,a),r.subtreeFlags=s.subtreeFlags&14680064),c!==null?o=Qn(c,o):(o=Cr(o,l,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,l=t.child.memoizedState,l=l===null?sd(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=t.childLanes&~n,e.memoizedState=rd,r}return o=t.child,t=o.sibling,r=Qn(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function gu(t,e){return e=ta({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Wo(t,e,n,r){return r!==null&&nu(r),ws(e,t.child,null,n),t=gu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Rw(t,e,n,r,s,o,l){if(n)return e.flags&256?(e.flags&=-257,r=tc(Error(K(422))),Wo(t,e,l,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,s=e.mode,r=ta({mode:"visible",children:r.children},s,0,null),o=Cr(o,s,l,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&ws(e,t.child,null,l),e.child.memoizedState=sd(l),e.memoizedState=rd,o);if(!(e.mode&1))return Wo(t,e,l,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var c=r.dgst;return r=c,o=Error(K(419)),r=tc(o,r,void 0),Wo(t,e,l,r)}if(c=(l&t.childLanes)!==0,Et||c){if(r=it,r!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|l)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Cn(t,s),Jt(r,t,s,-1))}return bu(),r=tc(Error(K(421))),Wo(t,e,l,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Gw.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,Rt=Gn(s.nextSibling),At=e,Be=!0,Kt=null,t!==null&&(zt[Ot++]=xn,zt[Ot++]=vn,zt[Ot++]=Nr,xn=t.id,vn=t.overflow,Nr=e),e=gu(e,r.children),e.flags|=4096,e)}function jp(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Xc(t.return,e,n)}function nc(t,e,n,r,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function Eg(t,e,n){var r=e.pendingProps,s=r.revealOrder,o=r.tail;if(vt(t,e,r.children,n),r=$e.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jp(t,n,e);else if(t.tag===19)jp(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ze($e,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&xl(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),nc(e,!1,s,n,o);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&xl(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}nc(e,!0,n,null,o);break;case"together":nc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function qo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function En(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Tr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,n=Qn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Qn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Aw(t,e,n){switch(e.tag){case 3:_g(e),vs();break;case 5:Jm(e);break;case 1:Tt(e.type)&&fl(e);break;case 4:au(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ze(ml,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ze($e,$e.current&1),e.flags|=128,null):n&e.child.childLanes?Cg(t,e,n):(ze($e,$e.current&1),t=En(t,e,n),t!==null?t.sibling:null);ze($e,$e.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Eg(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ze($e,$e.current),r)break;return null;case 22:case 23:return e.lanes=0,bg(t,e,n)}return En(t,e,n)}var Ng,id,jg,Tg;Ng=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};id=function(){};jg=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,br(dn.current);var o=null;switch(n){case"input":s=Nc(t,s),r=Nc(t,r),o=[];break;case"select":s=He({},s,{value:void 0}),r=He({},r,{value:void 0}),o=[];break;case"textarea":s=Pc(t,s),r=Pc(t,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=dl)}Rc(n,r);var l;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var c=s[u];for(l in c)c.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ni.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var a=r[u];if(c=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&a!==c&&(a!=null||c!=null))if(u==="style")if(c){for(l in c)!c.hasOwnProperty(l)||a&&a.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in a)a.hasOwnProperty(l)&&c[l]!==a[l]&&(n||(n={}),n[l]=a[l])}else n||(o||(o=[]),o.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,c=c?c.__html:void 0,a!=null&&c!==a&&(o=o||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ni.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&Me("scroll",t),o||c===a||(o=[])):(o=o||[]).push(u,a))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};Tg=function(t,e,n,r){n!==r&&(e.flags|=4)};function ni(t,e){if(!Be)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ht(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Dw(t,e,n){var r=e.pendingProps;switch(tu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(e),null;case 1:return Tt(e.type)&&ul(),ht(e),null;case 3:return r=e.stateNode,ks(),Fe(jt),Fe(xt),du(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ao(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Kt!==null&&(pd(Kt),Kt=null))),id(t,e),ht(e),null;case 5:cu(e);var s=br(Mi.current);if(n=e.type,t!==null&&e.stateNode!=null)jg(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(K(166));return ht(e),null}if(t=br(dn.current),Ao(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[an]=e,r[zi]=o,t=(e.mode&1)!==0,n){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(s=0;s<fi.length;s++)Me(fi[s],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":zf(r,o),Me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Me("invalid",r);break;case"textarea":Mf(r,o),Me("invalid",r)}Rc(n,o),s=null;for(var l in o)if(o.hasOwnProperty(l)){var c=o[l];l==="children"?typeof c=="string"?r.textContent!==c&&(o.suppressHydrationWarning!==!0&&Ro(r.textContent,c,t),s=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(o.suppressHydrationWarning!==!0&&Ro(r.textContent,c,t),s=["children",""+c]):Ni.hasOwnProperty(l)&&c!=null&&l==="onScroll"&&Me("scroll",r)}switch(n){case"input":_o(r),Of(r,o,!0);break;case"textarea":_o(r),Ff(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=dl)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=rm(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),n==="select"&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[an]=e,t[zi]=r,Ng(t,e,!1,!1),e.stateNode=t;e:{switch(l=Ac(n,r),n){case"dialog":Me("cancel",t),Me("close",t),s=r;break;case"iframe":case"object":case"embed":Me("load",t),s=r;break;case"video":case"audio":for(s=0;s<fi.length;s++)Me(fi[s],t);s=r;break;case"source":Me("error",t),s=r;break;case"img":case"image":case"link":Me("error",t),Me("load",t),s=r;break;case"details":Me("toggle",t),s=r;break;case"input":zf(t,r),s=Nc(t,r),Me("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=He({},r,{value:void 0}),Me("invalid",t);break;case"textarea":Mf(t,r),s=Pc(t,r),Me("invalid",t);break;default:s=r}Rc(n,s),c=s;for(o in c)if(c.hasOwnProperty(o)){var a=c[o];o==="style"?om(t,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&sm(t,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&ji(t,a):typeof a=="number"&&ji(t,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ni.hasOwnProperty(o)?a!=null&&o==="onScroll"&&Me("scroll",t):a!=null&&Fd(t,o,a,l))}switch(n){case"input":_o(t),Of(t,r,!1);break;case"textarea":_o(t),Ff(t);break;case"option":r.value!=null&&t.setAttribute("value",""+er(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?as(t,!!r.multiple,o,!1):r.defaultValue!=null&&as(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=dl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ht(e),null;case 6:if(t&&e.stateNode!=null)Tg(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(K(166));if(n=br(Mi.current),br(dn.current),Ao(e)){if(r=e.stateNode,n=e.memoizedProps,r[an]=e,(o=r.nodeValue!==n)&&(t=At,t!==null))switch(t.tag){case 3:Ro(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ro(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[an]=e,e.stateNode=r}return ht(e),null;case 13:if(Fe($e),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Be&&Rt!==null&&e.mode&1&&!(e.flags&128))Ym(),vs(),e.flags|=98560,o=!1;else if(o=Ao(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(K(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(K(317));o[an]=e}else vs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ht(e),o=!1}else Kt!==null&&(pd(Kt),Kt=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||$e.current&1?et===0&&(et=3):bu())),e.updateQueue!==null&&(e.flags|=4),ht(e),null);case 4:return ks(),id(t,e),t===null&&Wi(e.stateNode.containerInfo),ht(e),null;case 10:return iu(e.type._context),ht(e),null;case 17:return Tt(e.type)&&ul(),ht(e),null;case 19:if(Fe($e),o=e.memoizedState,o===null)return ht(e),null;if(r=(e.flags&128)!==0,l=o.rendering,l===null)if(r)ni(o,!1);else{if(et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=xl(t),l!==null){for(e.flags|=128,ni(o,!1),r=l.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,t=l.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ze($e,$e.current&1|2),e.child}t=t.sibling}o.tail!==null&&Qe()>Ss&&(e.flags|=128,r=!0,ni(o,!1),e.lanes=4194304)}else{if(!r)if(t=xl(l),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ni(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!Be)return ht(e),null}else 2*Qe()-o.renderingStartTime>Ss&&n!==1073741824&&(e.flags|=128,r=!0,ni(o,!1),e.lanes=4194304);o.isBackwards?(l.sibling=e.child,e.child=l):(n=o.last,n!==null?n.sibling=l:e.child=l,o.last=l)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Qe(),e.sibling=null,n=$e.current,ze($e,r?n&1|2:n&1),e):(ht(e),null);case 22:case 23:return ku(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?It&1073741824&&(ht(e),e.subtreeFlags&6&&(e.flags|=8192)):ht(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function Ww(t,e){switch(tu(e),e.tag){case 1:return Tt(e.type)&&ul(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ks(),Fe(jt),Fe(xt),du(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return cu(e),null;case 13:if(Fe($e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));vs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Fe($e),null;case 4:return ks(),null;case 10:return iu(e.type._context),null;case 22:case 23:return ku(),null;case 24:return null;default:return null}}var Lo=!1,yt=!1,Lw=typeof WeakSet=="function"?WeakSet:Set,ie=null;function is(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ge(t,e,r)}else n.current=null}function od(t,e,n){try{n()}catch(r){Ge(t,e,r)}}var Tp=!1;function zw(t,e){if(Uc=ll,t=Dm(),Zd(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var l=0,c=-1,a=-1,u=0,g=0,f=t,h=null;t:for(;;){for(var C;f!==n||s!==0&&f.nodeType!==3||(c=l+s),f!==o||r!==0&&f.nodeType!==3||(a=l+r),f.nodeType===3&&(l+=f.nodeValue.length),(C=f.firstChild)!==null;)h=f,f=C;for(;;){if(f===t)break t;if(h===n&&++u===s&&(c=l),h===o&&++g===r&&(a=l),(C=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=C}n=c===-1||a===-1?null:{start:c,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Hc={focusedElem:t,selectionRange:n},ll=!1,ie=e;ie!==null;)if(e=ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ie=t;else for(;ie!==null;){e=ie;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var P=b.memoizedProps,R=b.memoizedState,S=e.stateNode,x=S.getSnapshotBeforeUpdate(e.elementType===e.type?P:Vt(e.type,P),R);S.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var N=e.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(L){Ge(e,e.return,L)}if(t=e.sibling,t!==null){t.return=e.return,ie=t;break}ie=e.return}return b=Tp,Tp=!1,b}function vi(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&od(e,n,o)}s=s.next}while(s!==r)}}function Zl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ld(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Pg(t){var e=t.alternate;e!==null&&(t.alternate=null,Pg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[an],delete e[zi],delete e[Yc],delete e[vw],delete e[ww])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ig(t){return t.tag===5||t.tag===3||t.tag===4}function Pp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ig(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ad(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=dl));else if(r!==4&&(t=t.child,t!==null))for(ad(t,e,n),t=t.sibling;t!==null;)ad(t,e,n),t=t.sibling}function cd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(cd(t,e,n),t=t.sibling;t!==null;)cd(t,e,n),t=t.sibling}var ot=null,Yt=!1;function Rn(t,e,n){for(n=n.child;n!==null;)Rg(t,e,n),n=n.sibling}function Rg(t,e,n){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(Gl,n)}catch{}switch(n.tag){case 5:yt||is(n,e);case 6:var r=ot,s=Yt;ot=null,Rn(t,e,n),ot=r,Yt=s,ot!==null&&(Yt?(t=ot,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ot.removeChild(n.stateNode));break;case 18:ot!==null&&(Yt?(t=ot,n=n.stateNode,t.nodeType===8?Qa(t.parentNode,n):t.nodeType===1&&Qa(t,n),Ri(t)):Qa(ot,n.stateNode));break;case 4:r=ot,s=Yt,ot=n.stateNode.containerInfo,Yt=!0,Rn(t,e,n),ot=r,Yt=s;break;case 0:case 11:case 14:case 15:if(!yt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&od(n,e,l),s=s.next}while(s!==r)}Rn(t,e,n);break;case 1:if(!yt&&(is(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){Ge(n,e,c)}Rn(t,e,n);break;case 21:Rn(t,e,n);break;case 22:n.mode&1?(yt=(r=yt)||n.memoizedState!==null,Rn(t,e,n),yt=r):Rn(t,e,n);break;default:Rn(t,e,n)}}function Ip(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Lw),e.forEach(function(r){var s=Vw.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Gt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=t,l=e,c=l;e:for(;c!==null;){switch(c.tag){case 5:ot=c.stateNode,Yt=!1;break e;case 3:ot=c.stateNode.containerInfo,Yt=!0;break e;case 4:ot=c.stateNode.containerInfo,Yt=!0;break e}c=c.return}if(ot===null)throw Error(K(160));Rg(o,l,s),ot=null,Yt=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){Ge(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ag(e,t),e=e.sibling}function Ag(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Gt(e,t),on(t),r&4){try{vi(3,t,t.return),Zl(3,t)}catch(P){Ge(t,t.return,P)}try{vi(5,t,t.return)}catch(P){Ge(t,t.return,P)}}break;case 1:Gt(e,t),on(t),r&512&&n!==null&&is(n,n.return);break;case 5:if(Gt(e,t),on(t),r&512&&n!==null&&is(n,n.return),t.flags&32){var s=t.stateNode;try{ji(s,"")}catch(P){Ge(t,t.return,P)}}if(r&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,l=n!==null?n.memoizedProps:o,c=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{c==="input"&&o.type==="radio"&&o.name!=null&&tm(s,o),Ac(c,l);var u=Ac(c,o);for(l=0;l<a.length;l+=2){var g=a[l],f=a[l+1];g==="style"?om(s,f):g==="dangerouslySetInnerHTML"?sm(s,f):g==="children"?ji(s,f):Fd(s,g,f,u)}switch(c){case"input":jc(s,o);break;case"textarea":nm(s,o);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var C=o.value;C!=null?as(s,!!o.multiple,C,!1):h!==!!o.multiple&&(o.defaultValue!=null?as(s,!!o.multiple,o.defaultValue,!0):as(s,!!o.multiple,o.multiple?[]:"",!1))}s[zi]=o}catch(P){Ge(t,t.return,P)}}break;case 6:if(Gt(e,t),on(t),r&4){if(t.stateNode===null)throw Error(K(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(P){Ge(t,t.return,P)}}break;case 3:if(Gt(e,t),on(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ri(e.containerInfo)}catch(P){Ge(t,t.return,P)}break;case 4:Gt(e,t),on(t);break;case 13:Gt(e,t),on(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(vu=Qe())),r&4&&Ip(t);break;case 22:if(g=n!==null&&n.memoizedState!==null,t.mode&1?(yt=(u=yt)||g,Gt(e,t),yt=u):Gt(e,t),on(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!g&&t.mode&1)for(ie=t,g=t.child;g!==null;){for(f=ie=g;ie!==null;){switch(h=ie,C=h.child,h.tag){case 0:case 11:case 14:case 15:vi(4,h,h.return);break;case 1:is(h,h.return);var b=h.stateNode;if(typeof b.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(P){Ge(r,n,P)}}break;case 5:is(h,h.return);break;case 22:if(h.memoizedState!==null){Ap(f);continue}}C!==null?(C.return=h,ie=C):Ap(f)}g=g.sibling}e:for(g=null,f=t;;){if(f.tag===5){if(g===null){g=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(c=f.stateNode,a=f.memoizedProps.style,l=a!=null&&a.hasOwnProperty("display")?a.display:null,c.style.display=im("display",l))}catch(P){Ge(t,t.return,P)}}}else if(f.tag===6){if(g===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(P){Ge(t,t.return,P)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;g===f&&(g=null),f=f.return}g===f&&(g=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Gt(e,t),on(t),r&4&&Ip(t);break;case 21:break;default:Gt(e,t),on(t)}}function on(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Ig(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ji(s,""),r.flags&=-33);var o=Pp(t);cd(t,o,s);break;case 3:case 4:var l=r.stateNode.containerInfo,c=Pp(t);ad(t,c,l);break;default:throw Error(K(161))}}catch(a){Ge(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Ow(t,e,n){ie=t,Dg(t)}function Dg(t,e,n){for(var r=(t.mode&1)!==0;ie!==null;){var s=ie,o=s.child;if(s.tag===22&&r){var l=s.memoizedState!==null||Lo;if(!l){var c=s.alternate,a=c!==null&&c.memoizedState!==null||yt;c=Lo;var u=yt;if(Lo=l,(yt=a)&&!u)for(ie=s;ie!==null;)l=ie,a=l.child,l.tag===22&&l.memoizedState!==null?Dp(s):a!==null?(a.return=l,ie=a):Dp(s);for(;o!==null;)ie=o,Dg(o),o=o.sibling;ie=s,Lo=c,yt=u}Rp(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,ie=o):Rp(t)}}function Rp(t){for(;ie!==null;){var e=ie;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:yt||Zl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!yt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Vt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&gp(e,o,r);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}gp(e,l,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var g=u.memoizedState;if(g!==null){var f=g.dehydrated;f!==null&&Ri(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}yt||e.flags&512&&ld(e)}catch(h){Ge(e,e.return,h)}}if(e===t){ie=null;break}if(n=e.sibling,n!==null){n.return=e.return,ie=n;break}ie=e.return}}function Ap(t){for(;ie!==null;){var e=ie;if(e===t){ie=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ie=n;break}ie=e.return}}function Dp(t){for(;ie!==null;){var e=ie;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Zl(4,e)}catch(a){Ge(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(a){Ge(e,s,a)}}var o=e.return;try{ld(e)}catch(a){Ge(e,o,a)}break;case 5:var l=e.return;try{ld(e)}catch(a){Ge(e,l,a)}}}catch(a){Ge(e,e.return,a)}if(e===t){ie=null;break}var c=e.sibling;if(c!==null){c.return=e.return,ie=c;break}ie=e.return}}var Mw=Math.ceil,kl=Tn.ReactCurrentDispatcher,yu=Tn.ReactCurrentOwner,Bt=Tn.ReactCurrentBatchConfig,Se=0,it=null,qe=null,at=0,It=0,os=or(0),et=0,Ui=null,Tr=0,ea=0,xu=0,wi=null,Ct=null,vu=0,Ss=1/0,gn=null,bl=!1,dd=null,Yn=null,zo=!1,Fn=null,Sl=0,ki=0,ud=null,Xo=-1,Jo=0;function kt(){return Se&6?Qe():Xo!==-1?Xo:Xo=Qe()}function Kn(t){return t.mode&1?Se&2&&at!==0?at&-at:bw.transition!==null?(Jo===0&&(Jo=xm()),Jo):(t=Te,t!==0||(t=window.event,t=t===void 0?16:Cm(t.type)),t):1}function Jt(t,e,n,r){if(50<ki)throw ki=0,ud=null,Error(K(185));to(t,n,r),(!(Se&2)||t!==it)&&(t===it&&(!(Se&2)&&(ea|=n),et===4&&On(t,at)),Pt(t,r),n===1&&Se===0&&!(e.mode&1)&&(Ss=Qe()+500,ql&&lr()))}function Pt(t,e){var n=t.callbackNode;bv(t,e);var r=ol(t,t===it?at:0);if(r===0)n!==null&&Uf(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Uf(n),e===1)t.tag===0?kw(Wp.bind(null,t)):Hm(Wp.bind(null,t)),yw(function(){!(Se&6)&&lr()}),n=null;else{switch(vm(r)){case 1:n=Gd;break;case 4:n=gm;break;case 16:n=il;break;case 536870912:n=ym;break;default:n=il}n=$g(n,Wg.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Wg(t,e){if(Xo=-1,Jo=0,Se&6)throw Error(K(327));var n=t.callbackNode;if(ps()&&t.callbackNode!==n)return null;var r=ol(t,t===it?at:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=_l(t,r);else{e=r;var s=Se;Se|=2;var o=zg();(it!==t||at!==e)&&(gn=null,Ss=Qe()+500,_r(t,e));do try{$w();break}catch(c){Lg(t,c)}while(!0);su(),kl.current=o,Se=s,qe!==null?e=0:(it=null,at=0,e=et)}if(e!==0){if(e===2&&(s=Oc(t),s!==0&&(r=s,e=fd(t,s))),e===1)throw n=Ui,_r(t,0),On(t,r),Pt(t,Qe()),n;if(e===6)On(t,r);else{if(s=t.current.alternate,!(r&30)&&!Fw(s)&&(e=_l(t,r),e===2&&(o=Oc(t),o!==0&&(r=o,e=fd(t,o))),e===1))throw n=Ui,_r(t,0),On(t,r),Pt(t,Qe()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(K(345));case 2:mr(t,Ct,gn);break;case 3:if(On(t,r),(r&130023424)===r&&(e=vu+500-Qe(),10<e)){if(ol(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){kt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Vc(mr.bind(null,t,Ct,gn),e);break}mr(t,Ct,gn);break;case 4:if(On(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var l=31-Xt(r);o=1<<l,l=e[l],l>s&&(s=l),r&=~o}if(r=s,r=Qe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Mw(r/1960))-r,10<r){t.timeoutHandle=Vc(mr.bind(null,t,Ct,gn),r);break}mr(t,Ct,gn);break;case 5:mr(t,Ct,gn);break;default:throw Error(K(329))}}}return Pt(t,Qe()),t.callbackNode===n?Wg.bind(null,t):null}function fd(t,e){var n=wi;return t.current.memoizedState.isDehydrated&&(_r(t,e).flags|=256),t=_l(t,e),t!==2&&(e=Ct,Ct=n,e!==null&&pd(e)),t}function pd(t){Ct===null?Ct=t:Ct.push.apply(Ct,t)}function Fw(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!en(o(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function On(t,e){for(e&=~xu,e&=~ea,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Xt(e),r=1<<n;t[n]=-1,e&=~r}}function Wp(t){if(Se&6)throw Error(K(327));ps();var e=ol(t,0);if(!(e&1))return Pt(t,Qe()),null;var n=_l(t,e);if(t.tag!==0&&n===2){var r=Oc(t);r!==0&&(e=r,n=fd(t,r))}if(n===1)throw n=Ui,_r(t,0),On(t,e),Pt(t,Qe()),n;if(n===6)throw Error(K(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,mr(t,Ct,gn),Pt(t,Qe()),null}function wu(t,e){var n=Se;Se|=1;try{return t(e)}finally{Se=n,Se===0&&(Ss=Qe()+500,ql&&lr())}}function Pr(t){Fn!==null&&Fn.tag===0&&!(Se&6)&&ps();var e=Se;Se|=1;var n=Bt.transition,r=Te;try{if(Bt.transition=null,Te=1,t)return t()}finally{Te=r,Bt.transition=n,Se=e,!(Se&6)&&lr()}}function ku(){It=os.current,Fe(os)}function _r(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,gw(n)),qe!==null)for(n=qe.return;n!==null;){var r=n;switch(tu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ul();break;case 3:ks(),Fe(jt),Fe(xt),du();break;case 5:cu(r);break;case 4:ks();break;case 13:Fe($e);break;case 19:Fe($e);break;case 10:iu(r.type._context);break;case 22:case 23:ku()}n=n.return}if(it=t,qe=t=Qn(t.current,null),at=It=e,et=0,Ui=null,xu=ea=Tr=0,Ct=wi=null,kr!==null){for(e=0;e<kr.length;e++)if(n=kr[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var l=o.next;o.next=s,r.next=l}n.pending=r}kr=null}return t}function Lg(t,e){do{var n=qe;try{if(su(),Ko.current=wl,vl){for(var r=Ue.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}vl=!1}if(jr=0,rt=Xe=Ue=null,xi=!1,Fi=0,yu.current=null,n===null||n.return===null){et=1,Ui=e,qe=null;break}e:{var o=t,l=n.return,c=n,a=e;if(e=at,c.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,g=c,f=g.tag;if(!(g.mode&1)&&(f===0||f===11||f===15)){var h=g.alternate;h?(g.updateQueue=h.updateQueue,g.memoizedState=h.memoizedState,g.lanes=h.lanes):(g.updateQueue=null,g.memoizedState=null)}var C=bp(l);if(C!==null){C.flags&=-257,Sp(C,l,c,o,e),C.mode&1&&kp(o,u,e),e=C,a=u;var b=e.updateQueue;if(b===null){var P=new Set;P.add(a),e.updateQueue=P}else b.add(a);break e}else{if(!(e&1)){kp(o,u,e),bu();break e}a=Error(K(426))}}else if(Be&&c.mode&1){var R=bp(l);if(R!==null){!(R.flags&65536)&&(R.flags|=256),Sp(R,l,c,o,e),nu(bs(a,c));break e}}o=a=bs(a,c),et!==4&&(et=2),wi===null?wi=[o]:wi.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var S=vg(o,a,e);mp(o,S);break e;case 1:c=a;var x=o.type,N=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Yn===null||!Yn.has(N)))){o.flags|=65536,e&=-e,o.lanes|=e;var L=wg(o,c,e);mp(o,L);break e}}o=o.return}while(o!==null)}Mg(n)}catch(G){e=G,qe===n&&n!==null&&(qe=n=n.return);continue}break}while(!0)}function zg(){var t=kl.current;return kl.current=wl,t===null?wl:t}function bu(){(et===0||et===3||et===2)&&(et=4),it===null||!(Tr&268435455)&&!(ea&268435455)||On(it,at)}function _l(t,e){var n=Se;Se|=2;var r=zg();(it!==t||at!==e)&&(gn=null,_r(t,e));do try{Bw();break}catch(s){Lg(t,s)}while(!0);if(su(),Se=n,kl.current=r,qe!==null)throw Error(K(261));return it=null,at=0,et}function Bw(){for(;qe!==null;)Og(qe)}function $w(){for(;qe!==null&&!pv();)Og(qe)}function Og(t){var e=Bg(t.alternate,t,It);t.memoizedProps=t.pendingProps,e===null?Mg(t):qe=e,yu.current=null}function Mg(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Ww(n,e),n!==null){n.flags&=32767,qe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{et=6,qe=null;return}}else if(n=Dw(n,e,It),n!==null){qe=n;return}if(e=e.sibling,e!==null){qe=e;return}qe=e=t}while(e!==null);et===0&&(et=5)}function mr(t,e,n){var r=Te,s=Bt.transition;try{Bt.transition=null,Te=1,Uw(t,e,n,r)}finally{Bt.transition=s,Te=r}return null}function Uw(t,e,n,r){do ps();while(Fn!==null);if(Se&6)throw Error(K(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(K(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(Sv(t,o),t===it&&(qe=it=null,at=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||zo||(zo=!0,$g(il,function(){return ps(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Bt.transition,Bt.transition=null;var l=Te;Te=1;var c=Se;Se|=4,yu.current=null,zw(t,n),Ag(n,t),cw(Hc),ll=!!Uc,Hc=Uc=null,t.current=n,Ow(n),hv(),Se=c,Te=l,Bt.transition=o}else t.current=n;if(zo&&(zo=!1,Fn=t,Sl=s),o=t.pendingLanes,o===0&&(Yn=null),yv(n.stateNode),Pt(t,Qe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(bl)throw bl=!1,t=dd,dd=null,t;return Sl&1&&t.tag!==0&&ps(),o=t.pendingLanes,o&1?t===ud?ki++:(ki=0,ud=t):ki=0,lr(),null}function ps(){if(Fn!==null){var t=vm(Sl),e=Bt.transition,n=Te;try{if(Bt.transition=null,Te=16>t?16:t,Fn===null)var r=!1;else{if(t=Fn,Fn=null,Sl=0,Se&6)throw Error(K(331));var s=Se;for(Se|=4,ie=t.current;ie!==null;){var o=ie,l=o.child;if(ie.flags&16){var c=o.deletions;if(c!==null){for(var a=0;a<c.length;a++){var u=c[a];for(ie=u;ie!==null;){var g=ie;switch(g.tag){case 0:case 11:case 15:vi(8,g,o)}var f=g.child;if(f!==null)f.return=g,ie=f;else for(;ie!==null;){g=ie;var h=g.sibling,C=g.return;if(Pg(g),g===u){ie=null;break}if(h!==null){h.return=C,ie=h;break}ie=C}}}var b=o.alternate;if(b!==null){var P=b.child;if(P!==null){b.child=null;do{var R=P.sibling;P.sibling=null,P=R}while(P!==null)}}ie=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,ie=l;else e:for(;ie!==null;){if(o=ie,o.flags&2048)switch(o.tag){case 0:case 11:case 15:vi(9,o,o.return)}var S=o.sibling;if(S!==null){S.return=o.return,ie=S;break e}ie=o.return}}var x=t.current;for(ie=x;ie!==null;){l=ie;var N=l.child;if(l.subtreeFlags&2064&&N!==null)N.return=l,ie=N;else e:for(l=x;ie!==null;){if(c=ie,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Zl(9,c)}}catch(G){Ge(c,c.return,G)}if(c===l){ie=null;break e}var L=c.sibling;if(L!==null){L.return=c.return,ie=L;break e}ie=c.return}}if(Se=s,lr(),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(Gl,t)}catch{}r=!0}return r}finally{Te=n,Bt.transition=e}}return!1}function Lp(t,e,n){e=bs(n,e),e=vg(t,e,1),t=Vn(t,e,1),e=kt(),t!==null&&(to(t,1,e),Pt(t,e))}function Ge(t,e,n){if(t.tag===3)Lp(t,t,n);else for(;e!==null;){if(e.tag===3){Lp(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yn===null||!Yn.has(r))){t=bs(n,t),t=wg(e,t,1),e=Vn(e,t,1),t=kt(),e!==null&&(to(e,1,t),Pt(e,t));break}}e=e.return}}function Hw(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=kt(),t.pingedLanes|=t.suspendedLanes&n,it===t&&(at&n)===n&&(et===4||et===3&&(at&130023424)===at&&500>Qe()-vu?_r(t,0):xu|=n),Pt(t,e)}function Fg(t,e){e===0&&(t.mode&1?(e=No,No<<=1,!(No&130023424)&&(No=4194304)):e=1);var n=kt();t=Cn(t,e),t!==null&&(to(t,e,n),Pt(t,n))}function Gw(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Fg(t,n)}function Vw(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(e),Fg(t,n)}var Bg;Bg=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||jt.current)Et=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Et=!1,Aw(t,e,n);Et=!!(t.flags&131072)}else Et=!1,Be&&e.flags&1048576&&Gm(e,hl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;qo(t,e),t=e.pendingProps;var s=xs(e,xt.current);fs(e,n),s=fu(null,e,r,t,s,n);var o=pu();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Tt(r)?(o=!0,fl(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,lu(e),s.updater=Jl,e.stateNode=s,s._reactInternals=e,Zc(e,r,t,n),e=nd(null,e,r,!0,o,n)):(e.tag=0,Be&&o&&eu(e),vt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(qo(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Kw(r),t=Vt(r,t),s){case 0:e=td(null,e,r,t,n);break e;case 1:e=Ep(null,e,r,t,n);break e;case 11:e=_p(null,e,r,t,n);break e;case 14:e=Cp(null,e,r,Vt(r.type,t),n);break e}throw Error(K(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Vt(r,s),td(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Vt(r,s),Ep(t,e,r,s,n);case 3:e:{if(_g(e),t===null)throw Error(K(387));r=e.pendingProps,o=e.memoizedState,s=o.element,Xm(t,e),yl(e,r,null,n);var l=e.memoizedState;if(r=l.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=bs(Error(K(423)),e),e=Np(t,e,r,n,s);break e}else if(r!==s){s=bs(Error(K(424)),e),e=Np(t,e,r,n,s);break e}else for(Rt=Gn(e.stateNode.containerInfo.firstChild),At=e,Be=!0,Kt=null,n=Qm(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(vs(),r===s){e=En(t,e,n);break e}vt(t,e,r,n)}e=e.child}return e;case 5:return Jm(e),t===null&&qc(e),r=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,l=s.children,Gc(r,s)?l=null:o!==null&&Gc(r,o)&&(e.flags|=32),Sg(t,e),vt(t,e,l,n),e.child;case 6:return t===null&&qc(e),null;case 13:return Cg(t,e,n);case 4:return au(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ws(e,null,r,n):vt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Vt(r,s),_p(t,e,r,s,n);case 7:return vt(t,e,e.pendingProps,n),e.child;case 8:return vt(t,e,e.pendingProps.children,n),e.child;case 12:return vt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,o=e.memoizedProps,l=s.value,ze(ml,r._currentValue),r._currentValue=l,o!==null)if(en(o.value,l)){if(o.children===s.children&&!jt.current){e=En(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var c=o.dependencies;if(c!==null){l=o.child;for(var a=c.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=kn(-1,n&-n),a.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var g=u.pending;g===null?a.next=a:(a.next=g.next,g.next=a),u.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Xc(o.return,n,e),c.lanes|=n;break}a=a.next}}else if(o.tag===10)l=o.type===e.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(K(341));l.lanes|=n,c=l.alternate,c!==null&&(c.lanes|=n),Xc(l,n,e),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===e){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}vt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,fs(e,n),s=$t(s),r=r(s),e.flags|=1,vt(t,e,r,n),e.child;case 14:return r=e.type,s=Vt(r,e.pendingProps),s=Vt(r.type,s),Cp(t,e,r,s,n);case 15:return kg(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Vt(r,s),qo(t,e),e.tag=1,Tt(r)?(t=!0,fl(e)):t=!1,fs(e,n),xg(e,r,s),Zc(e,r,s,n),nd(null,e,r,!0,t,n);case 19:return Eg(t,e,n);case 22:return bg(t,e,n)}throw Error(K(156,e.tag))};function $g(t,e){return mm(t,e)}function Yw(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(t,e,n,r){return new Yw(t,e,n,r)}function Su(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Kw(t){if(typeof t=="function")return Su(t)?1:0;if(t!=null){if(t=t.$$typeof,t===$d)return 11;if(t===Ud)return 14}return 2}function Qn(t,e){var n=t.alternate;return n===null?(n=Mt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Zo(t,e,n,r,s,o){var l=2;if(r=t,typeof t=="function")Su(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case qr:return Cr(n.children,s,o,e);case Bd:l=8,s|=8;break;case Sc:return t=Mt(12,n,e,s|2),t.elementType=Sc,t.lanes=o,t;case _c:return t=Mt(13,n,e,s),t.elementType=_c,t.lanes=o,t;case Cc:return t=Mt(19,n,e,s),t.elementType=Cc,t.lanes=o,t;case Jh:return ta(n,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case qh:l=10;break e;case Xh:l=9;break e;case $d:l=11;break e;case Ud:l=14;break e;case Wn:l=16,r=null;break e}throw Error(K(130,t==null?t:typeof t,""))}return e=Mt(l,n,e,s),e.elementType=t,e.type=r,e.lanes=o,e}function Cr(t,e,n,r){return t=Mt(7,t,r,e),t.lanes=n,t}function ta(t,e,n,r){return t=Mt(22,t,r,e),t.elementType=Jh,t.lanes=n,t.stateNode={isHidden:!1},t}function rc(t,e,n){return t=Mt(6,t,null,e),t.lanes=n,t}function sc(t,e,n){return e=Mt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Qw(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oa(0),this.expirationTimes=Oa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oa(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function _u(t,e,n,r,s,o,l,c,a){return t=new Qw(t,e,n,c,a),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Mt(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},lu(o),t}function qw(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Ug(t){if(!t)return tr;t=t._reactInternals;e:{if(Wr(t)!==t||t.tag!==1)throw Error(K(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Tt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(t.tag===1){var n=t.type;if(Tt(n))return Um(t,n,e)}return e}function Hg(t,e,n,r,s,o,l,c,a){return t=_u(n,r,!0,t,s,o,l,c,a),t.context=Ug(null),n=t.current,r=kt(),s=Kn(n),o=kn(r,s),o.callback=e??null,Vn(n,o,s),t.current.lanes=s,to(t,s,r),Pt(t,r),t}function na(t,e,n,r){var s=e.current,o=kt(),l=Kn(s);return n=Ug(n),e.context===null?e.context=n:e.pendingContext=n,e=kn(o,l),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Vn(s,e,l),t!==null&&(Jt(t,s,l,o),Yo(t,s,l)),l}function Cl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function zp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Cu(t,e){zp(t,e),(t=t.alternate)&&zp(t,e)}function Xw(){return null}var Gg=typeof reportError=="function"?reportError:function(t){console.error(t)};function Eu(t){this._internalRoot=t}ra.prototype.render=Eu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));na(t,e,null,null)};ra.prototype.unmount=Eu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Pr(function(){na(null,t,null,null)}),e[_n]=null}};function ra(t){this._internalRoot=t}ra.prototype.unstable_scheduleHydration=function(t){if(t){var e=bm();t={blockedOn:null,target:t,priority:e};for(var n=0;n<zn.length&&e!==0&&e<zn[n].priority;n++);zn.splice(n,0,t),n===0&&_m(t)}};function Nu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function sa(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Op(){}function Jw(t,e,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=Cl(l);o.call(u)}}var l=Hg(e,r,t,0,null,!1,!1,"",Op);return t._reactRootContainer=l,t[_n]=l.current,Wi(t.nodeType===8?t.parentNode:t),Pr(),l}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var c=r;r=function(){var u=Cl(a);c.call(u)}}var a=_u(t,0,!1,null,null,!1,!1,"",Op);return t._reactRootContainer=a,t[_n]=a.current,Wi(t.nodeType===8?t.parentNode:t),Pr(function(){na(e,a,n,r)}),a}function ia(t,e,n,r,s){var o=n._reactRootContainer;if(o){var l=o;if(typeof s=="function"){var c=s;s=function(){var a=Cl(l);c.call(a)}}na(e,l,t,s)}else l=Jw(n,e,t,s,r);return Cl(l)}wm=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ui(e.pendingLanes);n!==0&&(Vd(e,n|1),Pt(e,Qe()),!(Se&6)&&(Ss=Qe()+500,lr()))}break;case 13:Pr(function(){var r=Cn(t,1);if(r!==null){var s=kt();Jt(r,t,1,s)}}),Cu(t,1)}};Yd=function(t){if(t.tag===13){var e=Cn(t,134217728);if(e!==null){var n=kt();Jt(e,t,134217728,n)}Cu(t,134217728)}};km=function(t){if(t.tag===13){var e=Kn(t),n=Cn(t,e);if(n!==null){var r=kt();Jt(n,t,e,r)}Cu(t,e)}};bm=function(){return Te};Sm=function(t,e){var n=Te;try{return Te=t,e()}finally{Te=n}};Wc=function(t,e,n){switch(e){case"input":if(jc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Ql(r);if(!s)throw Error(K(90));em(r),jc(r,s)}}}break;case"textarea":nm(t,n);break;case"select":e=n.value,e!=null&&as(t,!!n.multiple,e,!1)}};cm=wu;dm=Pr;var Zw={usingClientEntryPoint:!1,Events:[ro,es,Ql,lm,am,wu]},ri={findFiberByHostInstance:wr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},e1={bundleType:ri.bundleType,version:ri.version,rendererPackageName:ri.rendererPackageName,rendererConfig:ri.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=pm(t),t===null?null:t.stateNode},findFiberByHostInstance:ri.findFiberByHostInstance||Xw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oo.isDisabled&&Oo.supportsFiber)try{Gl=Oo.inject(e1),cn=Oo}catch{}}Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zw;Wt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nu(e))throw Error(K(200));return qw(t,e,null,n)};Wt.createRoot=function(t,e){if(!Nu(t))throw Error(K(299));var n=!1,r="",s=Gg;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=_u(t,1,!1,null,null,n,!1,r,s),t[_n]=e.current,Wi(t.nodeType===8?t.parentNode:t),new Eu(e)};Wt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=pm(e),t=t===null?null:t.stateNode,t};Wt.flushSync=function(t){return Pr(t)};Wt.hydrate=function(t,e,n){if(!sa(e))throw Error(K(200));return ia(null,t,e,!0,n)};Wt.hydrateRoot=function(t,e,n){if(!Nu(t))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",l=Gg;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=Hg(e,null,t,1,n??null,s,!1,o,l),t[_n]=e.current,Wi(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new ra(e)};Wt.render=function(t,e,n){if(!sa(e))throw Error(K(200));return ia(null,t,e,!1,n)};Wt.unmountComponentAtNode=function(t){if(!sa(t))throw Error(K(40));return t._reactRootContainer?(Pr(function(){ia(null,null,t,!1,function(){t._reactRootContainer=null,t[_n]=null})}),!0):!1};Wt.unstable_batchedUpdates=wu;Wt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!sa(n))throw Error(K(200));if(t==null||t._reactInternals===void 0)throw Error(K(38));return ia(t,e,n,!1,r)};Wt.version="18.3.1-next-f1338f8080-20240426";function Vg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Vg)}catch(t){console.error(t)}}Vg(),Vh.exports=Wt;var t1=Vh.exports,Mp=t1;kc.createRoot=Mp.createRoot,kc.hydrateRoot=Mp.hydrateRoot;var Fp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J=function(t,e){if(!t)throw Ws(e)},Ws=function(t){return new Error("Firebase Database ("+Yg.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},n1=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],l=t[n++],c=t[n++],a=((s&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(a&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|l&63)}}return e.join("")},ju={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],l=s+1<t.length,c=l?t[s+1]:0,a=s+2<t.length,u=a?t[s+2]:0,g=o>>2,f=(o&3)<<4|c>>4;let h=(c&15)<<2|u>>6,C=u&63;a||(C=64,l||(h=64)),r.push(n[g],n[f],n[h],n[C])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Kg(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):n1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||c==null||u==null||f==null)throw new r1;const h=o<<2|c>>4;if(r.push(h),u!==64){const C=c<<4&240|u>>2;if(r.push(C),f!==64){const b=u<<6&192|f;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class r1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Qg=function(t){const e=Kg(t);return ju.encodeByteArray(e,!0)},El=function(t){return Qg(t).replace(/\./g,"")},hd=function(t){try{return ju.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(t){return qg(void 0,t)}function qg(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!i1(n)||(t[n]=qg(t[n],e[n]));return t}function i1(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=()=>o1().__FIREBASE_DEFAULTS__,a1=()=>{if(typeof process>"u"||typeof Fp>"u")return;const t=Fp.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},c1=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&hd(t[1]);return e&&JSON.parse(e)},Xg=()=>{try{return l1()||a1()||c1()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},d1=t=>{var e,n;return(n=(e=Xg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},u1=t=>{const e=d1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Jg=()=>{var t;return(t=Xg())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[El(JSON.stringify(n)),El(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Zg(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(p1())}function h1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function m1(){return Yg.NODE_ADMIN===!0}function g1(){try{return typeof indexedDB=="object"}catch{return!1}}function y1(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="FirebaseError";class oo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=x1,Object.setPrototypeOf(this,oo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ey.prototype.create)}}class ey{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],l=o?v1(o,r):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new oo(s,c,r)}}function v1(t,e){return t.replace(w1,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const w1=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(t){return JSON.parse(t)}function Ze(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty=function(t){let e={},n={},r={},s="";try{const o=t.split(".");e=Hi(hd(o[0])||""),n=Hi(hd(o[1])||""),s=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},k1=function(t){const e=ty(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},b1=function(t){const e=ty(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _s(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Bp(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Nl(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function md(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],l=e[s];if($p(o)&&$p(l)){if(!md(o,l))return!1}else if(o!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function $p(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)r[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)r[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const h=r[f-3]^r[f-8]^r[f-14]^r[f-16];r[f]=(h<<1|h>>>31)&4294967295}let s=this.chain_[0],o=this.chain_[1],l=this.chain_[2],c=this.chain_[3],a=this.chain_[4],u,g;for(let f=0;f<80;f++){f<40?f<20?(u=c^o&(l^c),g=1518500249):(u=o^l^c,g=1859775393):f<60?(u=o&l|c&(o|l),g=2400959708):(u=o^l^c,g=3395469782);const h=(s<<5|s>>>27)+u+a+g+r[f]&4294967295;a=c,c=l,l=(o<<30|o>>>2)&4294967295,o=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const o=this.buf_;let l=this.inbuf_;for(;s<n;){if(l===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(o[l]=e.charCodeAt(s),++l,++s,l===this.blockSize){this.compress_(o),l=0;break}}else for(;s<n;)if(o[l]=e[s],++l,++s,l===this.blockSize){this.compress_(o),l=0;break}}this.inbuf_=l,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[s]>>o&255,++r;return e}}function oa(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const o=s-55296;r++,J(r<t.length,"Surrogate pair missing trail surrogate.");const l=t.charCodeAt(r)-56320;s=65536+(o<<10)+l}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},la=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(t){return t&&t._delegate?t._delegate:t}class Gi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new io;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(j1(e))try{this.getOrInitializeService({instanceIdentifier:gr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=gr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=gr){return this.instances.has(e)}getOptions(e=gr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&l.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:N1(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=gr){return this.component?this.component.multipleInstances?e:gr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function N1(t){return t===gr?void 0:t}function j1(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new E1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(We||(We={}));const P1={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},I1=We.INFO,R1={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},A1=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=R1[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ny{constructor(e){this.name=e,this._logLevel=I1,this._logHandler=A1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?P1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...e),this._logHandler(this,We.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...e),this._logHandler(this,We.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,We.INFO,...e),this._logHandler(this,We.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,We.WARN,...e),this._logHandler(this,We.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...e),this._logHandler(this,We.ERROR,...e)}}const D1=(t,e)=>e.some(n=>t instanceof n);let Up,Hp;function W1(){return Up||(Up=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function L1(){return Hp||(Hp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ry=new WeakMap,gd=new WeakMap,sy=new WeakMap,ic=new WeakMap,Tu=new WeakMap;function z1(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(qn(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&ry.set(n,t)}).catch(()=>{}),Tu.set(e,t),e}function O1(t){if(gd.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});gd.set(t,e)}let yd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return gd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||sy.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function M1(t){yd=t(yd)}function F1(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(oc(this),e,...n);return sy.set(r,e.sort?e.sort():[e]),qn(r)}:L1().includes(t)?function(...e){return t.apply(oc(this),e),qn(ry.get(this))}:function(...e){return qn(t.apply(oc(this),e))}}function B1(t){return typeof t=="function"?F1(t):(t instanceof IDBTransaction&&O1(t),D1(t,W1())?new Proxy(t,yd):t)}function qn(t){if(t instanceof IDBRequest)return z1(t);if(ic.has(t))return ic.get(t);const e=B1(t);return e!==t&&(ic.set(t,e),Tu.set(e,t)),e}const oc=t=>Tu.get(t);function $1(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const l=indexedDB.open(t,e),c=qn(l);return r&&l.addEventListener("upgradeneeded",a=>{r(qn(l.result),a.oldVersion,a.newVersion,qn(l.transaction),a)}),n&&l.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),c.then(a=>{o&&a.addEventListener("close",()=>o()),s&&a.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),c}const U1=["get","getKey","getAll","getAllKeys","count"],H1=["put","add","delete","clear"],lc=new Map;function Gp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(lc.get(e))return lc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=H1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||U1.includes(n)))return;const o=async function(l,...c){const a=this.transaction(l,s?"readwrite":"readonly");let u=a.store;return r&&(u=u.index(c.shift())),(await Promise.all([u[n](...c),s&&a.done]))[0]};return lc.set(e,o),o}M1(t=>({...t,get:(e,n,r)=>Gp(e,n)||t.get(e,n,r),has:(e,n)=>!!Gp(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(V1(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function V1(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xd="@firebase/app",Vp="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nn=new ny("@firebase/app"),Y1="@firebase/app-compat",K1="@firebase/analytics-compat",Q1="@firebase/analytics",q1="@firebase/app-check-compat",X1="@firebase/app-check",J1="@firebase/auth",Z1="@firebase/auth-compat",ek="@firebase/database",tk="@firebase/data-connect",nk="@firebase/database-compat",rk="@firebase/functions",sk="@firebase/functions-compat",ik="@firebase/installations",ok="@firebase/installations-compat",lk="@firebase/messaging",ak="@firebase/messaging-compat",ck="@firebase/performance",dk="@firebase/performance-compat",uk="@firebase/remote-config",fk="@firebase/remote-config-compat",pk="@firebase/storage",hk="@firebase/storage-compat",mk="@firebase/firestore",gk="@firebase/vertexai-preview",yk="@firebase/firestore-compat",xk="firebase",vk="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd="[DEFAULT]",wk={[xd]:"fire-core",[Y1]:"fire-core-compat",[Q1]:"fire-analytics",[K1]:"fire-analytics-compat",[X1]:"fire-app-check",[q1]:"fire-app-check-compat",[J1]:"fire-auth",[Z1]:"fire-auth-compat",[ek]:"fire-rtdb",[tk]:"fire-data-connect",[nk]:"fire-rtdb-compat",[rk]:"fire-fn",[sk]:"fire-fn-compat",[ik]:"fire-iid",[ok]:"fire-iid-compat",[lk]:"fire-fcm",[ak]:"fire-fcm-compat",[ck]:"fire-perf",[dk]:"fire-perf-compat",[uk]:"fire-rc",[fk]:"fire-rc-compat",[pk]:"fire-gcs",[hk]:"fire-gcs-compat",[mk]:"fire-fst",[yk]:"fire-fst-compat",[gk]:"fire-vertex","fire-js":"fire-js",[xk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl=new Map,kk=new Map,wd=new Map;function Yp(t,e){try{t.container.addComponent(e)}catch(n){Nn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Tl(t){const e=t.name;if(wd.has(e))return Nn.debug(`There were multiple attempts to register component ${e}.`),!1;wd.set(e,t);for(const n of jl.values())Yp(n,t);for(const n of kk.values())Yp(n,t);return!0}function bk(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xn=new ey("app","Firebase",Sk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck=vk;function iy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:vd,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Xn.create("bad-app-name",{appName:String(s)});if(n||(n=Jg()),!n)throw Xn.create("no-options");const o=jl.get(s);if(o){if(md(n,o.options)&&md(r,o.config))return o;throw Xn.create("duplicate-app",{appName:s})}const l=new T1(s);for(const a of wd.values())l.addComponent(a);const c=new _k(n,r,l);return jl.set(s,c),c}function Ek(t=vd){const e=jl.get(t);if(!e&&t===vd&&Jg())return iy();if(!e)throw Xn.create("no-app",{appName:t});return e}function hs(t,e,n){var r;let s=(r=wk[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Nn.warn(c.join(" "));return}Tl(new Gi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk="firebase-heartbeat-database",jk=1,Vi="firebase-heartbeat-store";let ac=null;function oy(){return ac||(ac=$1(Nk,jk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Vi)}catch(n){console.warn(n)}}}}).catch(t=>{throw Xn.create("idb-open",{originalErrorMessage:t.message})})),ac}async function Tk(t){try{const n=(await oy()).transaction(Vi),r=await n.objectStore(Vi).get(ly(t));return await n.done,r}catch(e){if(e instanceof oo)Nn.warn(e.message);else{const n=Xn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Nn.warn(n.message)}}}async function Kp(t,e){try{const r=(await oy()).transaction(Vi,"readwrite");await r.objectStore(Vi).put(e,ly(t)),await r.done}catch(n){if(n instanceof oo)Nn.warn(n.message);else{const r=Xn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Nn.warn(r.message)}}}function ly(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk=1024,Ik=30*24*60*60*1e3;class Rk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Dk(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Qp();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const c=new Date(l.date).valueOf();return Date.now()-c<=Ik}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Nn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Qp(),{heartbeatsToSend:r,unsentEntries:s}=Ak(this._heartbeatsCache.heartbeats),o=El(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Nn.warn(n),""}}}function Qp(){return new Date().toISOString().substring(0,10)}function Ak(t,e=Pk){const n=[];let r=t.slice();for(const s of t){const o=n.find(l=>l.agent===s.agent);if(o){if(o.dates.push(s.date),qp(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),qp(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Dk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return g1()?y1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Tk(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Kp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Kp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function qp(t){return El(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk(t){Tl(new Gi("platform-logger",e=>new G1(e),"PRIVATE")),Tl(new Gi("heartbeat",e=>new Rk(e),"PRIVATE")),hs(xd,Vp,t),hs(xd,Vp,"esm2017"),hs("fire-js","")}Wk("");var Lk="firebase",zk="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hs(Lk,zk,"app");var Xp={};const Jp="@firebase/database",Zp="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ay="";function cy(t){ay=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ze(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Hi(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return pn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Ok(e)}}catch{}return new Mk},Sr=dy("localStorage"),Fk=dy("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms=new ny("@firebase/database"),Bk=function(){let t=1;return function(){return t++}}(),uy=function(t){const e=C1(t),n=new _1;n.update(e);const r=n.digest();return ju.encodeByteArray(r)},lo=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=lo.apply(null,r):typeof r=="object"?e+=Ze(r):e+=r,e+=" "}return e};let bi=null,eh=!0;const $k=function(t,e){J(!0,"Can't turn on custom loggers persistently."),ms.logLevel=We.VERBOSE,bi=ms.log.bind(ms)},lt=function(...t){if(eh===!0&&(eh=!1,bi===null&&Fk.get("logging_enabled")===!0&&$k()),bi){const e=lo.apply(null,t);bi(e)}},ao=function(t){return function(...e){lt(t,...e)}},kd=function(...t){const e="FIREBASE INTERNAL ERROR: "+lo(...t);ms.error(e)},jn=function(...t){const e=`FIREBASE FATAL ERROR: ${lo(...t)}`;throw ms.error(e),new Error(e)},bt=function(...t){const e="FIREBASE WARNING: "+lo(...t);ms.warn(e)},Uk=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&bt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Pu=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Hk=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Cs="[MIN_NAME]",Ir="[MAX_NAME]",zr=function(t,e){if(t===e)return 0;if(t===Cs||e===Ir)return-1;if(e===Cs||t===Ir)return 1;{const n=th(t),r=th(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},Gk=function(t,e){return t===e?0:t<e?-1:1},si=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ze(e))},Iu=function(t){if(typeof t!="object"||t===null)return Ze(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Ze(e[r]),n+=":",n+=Iu(t[e[r]]);return n+="}",n},fy=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function dt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const py=function(t){J(!Pu(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,o,l,c,a;t===0?(o=0,l=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=c+r,l=Math.round(t*Math.pow(2,n-c)-Math.pow(2,n))):(o=0,l=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(a=n;a;a-=1)u.push(l%2?1:0),l=Math.floor(l/2);for(a=e;a;a-=1)u.push(o%2?1:0),o=Math.floor(o/2);u.push(s?1:0),u.reverse();const g=u.join("");let f="";for(a=0;a<64;a+=8){let h=parseInt(g.substr(a,8),2).toString(16);h.length===1&&(h="0"+h),f=f+h}return f.toLowerCase()},Vk=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Yk=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Kk(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const Qk=new RegExp("^-?(0*)\\d{1,10}$"),qk=-2147483648,Xk=2147483647,th=function(t){if(Qk.test(t)){const e=Number(t);if(e>=qk&&e<=Xk)return e}return null},Ls=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw bt("Exception was thrown by user callback.",n),e},Math.floor(0))}},Jk=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Si=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){bt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(lt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',bt(e)}}class el{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}el.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ru="5",hy="v",my="s",gy="r",yy="f",xy=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,vy="ls",wy="p",bd="ac",ky="websocket",by="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e,n,r,s,o=!1,l="",c=!1,a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=o,this.persistenceKey=l,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Sr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Sr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function tb(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function _y(t,e,n){J(typeof e=="string","typeof type must == string"),J(typeof n=="object","typeof params must == object");let r;if(e===ky)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===by)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);tb(t)&&(n.ns=t.namespace);const s=[];return dt(n,(o,l)=>{s.push(o+"="+l)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(){this.counters_={}}incrementCounter(e,n=1){pn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return s1(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc={},dc={};function Au(t){const e=t.toString();return cc[e]||(cc[e]=new nb),cc[e]}function rb(t,e){const n=t.toString();return dc[n]||(dc[n]=e()),dc[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&Ls(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh="start",ib="close",ob="pLPCommand",lb="pRTLPCB",Cy="id",Ey="pw",Ny="ser",ab="cb",cb="seg",db="ts",ub="d",fb="dframe",jy=1870,Ty=30,pb=jy-Ty,hb=25e3,mb=3e4;class ls{constructor(e,n,r,s,o,l,c){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=o,this.transportSessionId=l,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ao(e),this.stats_=Au(n),this.urlFn=a=>(this.appCheckToken&&(a[bd]=this.appCheckToken),_y(n,by,a))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new sb(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(mb)),Hk(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Du((...o)=>{const[l,c,a,u,g]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,l===nh)this.id=c,this.password=a;else if(l===ib)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+l)},(...o)=>{const[l,c]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(l,c)},()=>{this.onClosed_()},this.urlFn);const r={};r[nh]="t",r[Ny]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[ab]=this.scriptTagHolder.uniqueCallbackIdentifier),r[hy]=Ru,this.transportSessionId&&(r[my]=this.transportSessionId),this.lastSessionId&&(r[vy]=this.lastSessionId),this.applicationId&&(r[wy]=this.applicationId),this.appCheckToken&&(r[bd]=this.appCheckToken),typeof location<"u"&&location.hostname&&xy.test(location.hostname)&&(r[gy]=yy);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ls.forceAllow_=!0}static forceDisallow(){ls.forceDisallow_=!0}static isAvailable(){return ls.forceAllow_?!0:!ls.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Vk()&&!Yk()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ze(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Qg(n),s=fy(r,pb);for(let o=0;o<s.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[fb]="t",r[Cy]=e,r[Ey]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ze(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Du{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Bk(),window[ob+this.uniqueCallbackIdentifier]=e,window[lb+this.uniqueCallbackIdentifier]=n,this.myIFrame=Du.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(c){lt("frame writing exception"),c.stack&&lt(c.stack),lt(c)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||lt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Cy]=this.myID,e[Ey]=this.myPW,e[Ny]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Ty+r.length<=jy;){const l=this.pendingSegs.shift();r=r+"&"+cb+s+"="+l.seg+"&"+db+s+"="+l.ts+"&"+ub+s+"="+l.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(hb)),o=()=>{clearTimeout(s),r()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{lt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb=16384,yb=45e3;let Pl=null;typeof MozWebSocket<"u"?Pl=MozWebSocket:typeof WebSocket<"u"&&(Pl=WebSocket);class Qt{constructor(e,n,r,s,o,l,c){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ao(this.connId),this.stats_=Au(n),this.connURL=Qt.connectionURL_(n,l,c,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,o){const l={};return l[hy]=Ru,typeof location<"u"&&location.hostname&&xy.test(location.hostname)&&(l[gy]=yy),n&&(l[my]=n),r&&(l[vy]=r),s&&(l[bd]=s),o&&(l[wy]=o),_y(e,ky,l)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Sr.set("previous_websocket_failure",!0);try{let r;m1(),this.mySock=new Pl(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Qt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Pl!==null&&!Qt.forceDisallow_}static previouslyFailed(){return Sr.isInMemoryStorage||Sr.get("previous_websocket_failure")===!0}markConnectionHealthy(){Sr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Hi(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(J(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Ze(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=fy(n,gb);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(yb))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Qt.responsesRequiredToBeHealthy=2;Qt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[ls,Qt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Qt&&Qt.isAvailable();let r=n&&!Qt.previouslyFailed();if(e.webSocketOnly&&(n||bt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Qt];else{const s=this.transports_=[];for(const o of Yi.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);Yi.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Yi.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb=6e4,vb=5e3,wb=10*1024,kb=100*1024,uc="t",rh="d",bb="s",sh="r",Sb="e",ih="o",oh="a",lh="n",ah="p",_b="h";class Cb{constructor(e,n,r,s,o,l,c,a,u,g){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=o,this.onMessage_=l,this.onReady_=c,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ao("c:"+this.id+":"),this.transportManager_=new Yi(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=Si(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>kb?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>wb?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(uc in e){const n=e[uc];n===oh?this.upgradeIfSecondaryHealthy_():n===sh?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===ih&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=si("t",e),r=si("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:ah,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:oh,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:lh,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=si("t",e),r=si("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=si(uc,e);if(rh in e){const r=e[rh];if(n===_b){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===lh){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===bb?this.onConnectionShutdown_(r):n===sh?this.onReset_(r):n===Sb?kd("Server Error: "+r):n===ih?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):kd("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Ru!==r&&bt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Si(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(xb))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Si(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(vb))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:ah,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Sr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e){this.allowedEvents_=e,this.listeners_={},J(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let o=0;o<s.length;o++)if(s[o].callback===n&&(!r||r===s[o].context)){s.splice(o,1);return}}validateEventType_(e){J(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il extends Iy{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Zg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Il}getInitialEvent(e){return J(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=32,dh=768;class Pe{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ce(){return new Pe("")}function me(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function nr(t){return t.pieces_.length-t.pieceNum_}function Le(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Pe(t.pieces_,e)}function Wu(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Eb(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Ki(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Ry(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Pe(e,0)}function Ve(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Pe)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new Pe(n,0)}function ye(t){return t.pieceNum_>=t.pieces_.length}function wt(t,e){const n=me(t),r=me(e);if(n===null)return e;if(n===r)return wt(Le(t),Le(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Nb(t,e){const n=Ki(t,0),r=Ki(e,0);for(let s=0;s<n.length&&s<r.length;s++){const o=zr(n[s],r[s]);if(o!==0)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Lu(t,e){if(nr(t)!==nr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Ft(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(nr(t)>nr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class jb{constructor(e,n){this.errorPrefix_=n,this.parts_=Ki(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=la(this.parts_[r]);Ay(this)}}function Tb(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=la(e),Ay(t)}function Pb(t){const e=t.parts_.pop();t.byteLength_-=la(e),t.parts_.length>0&&(t.byteLength_-=1)}function Ay(t){if(t.byteLength_>dh)throw new Error(t.errorPrefix_+"has a key path longer than "+dh+" bytes ("+t.byteLength_+").");if(t.parts_.length>ch)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ch+") or object contains a cycle "+yr(t))}function yr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu extends Iy{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new zu}getInitialEvent(e){return J(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii=1e3,Ib=60*5*1e3,uh=30*1e3,Rb=1.3,Ab=3e4,Db="server_kill",fh=3;class bn extends Py{constructor(e,n,r,s,o,l,c,a){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=l,this.appCheckTokenProvider_=c,this.authOverride_=a,this.id=bn.nextPersistentConnectionId_++,this.log_=ao("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ii,this.maxReconnectDelay_=Ib,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");zu.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Il.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,o={r:s,a:e,b:n};this.log_(Ze(o)),J(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new io,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:l=>{const c=l.d;l.s==="ok"?n.resolve(c):n.reject(c)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,r,s){this.initConnection_();const o=e._queryIdentifier,l=e._path.toString();this.log_("Listen called for "+l+" "+o),this.listens.has(l)||this.listens.set(l,new Map),J(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),J(!this.listens.get(l).has(o),"listen() called twice for same path/queryId.");const c={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(l).set(o,c),this.connected_&&this.sendListen_(c)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const o={p:r},l="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(l,o,c=>{const a=c.d,u=c.s;bn.warnOnListenWarnings_(a,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",c),u!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(u,a))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&pn(e,"w")){const r=_s(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();bt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||b1(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=uh)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=k1(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const o=s.s,l=s.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,l))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),J(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const o={p:e},l="n";s&&(o.q=r,o.t=s),this.sendRequest(l,o)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const o={p:n,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,l=>{s&&setTimeout(()=>{s(l.s,l.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,o){this.initConnection_();const l={p:n,d:r};o!==void 0&&(l.h=o),this.outstandingPuts_.push({action:e,request:l,onComplete:s}),this.outstandingPutCount_++;const c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ze(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):kd("Unrecognized action received from server: "+Ze(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){J(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ii,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ii,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Ab&&(this.reconnectDelay_=ii),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Rb)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+bn.nextConnectionId_++,o=this.lastSessionId;let l=!1,c=null;const a=function(){c?c.close():(l=!0,r())},u=function(f){J(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)};this.realtime_={close:a,sendRequest:u};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,h]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);l?lt("getToken() completed but was canceled"):(lt("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,c=new Cb(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,C=>{bt(C+" ("+this.repoInfo_.toString()+")"),this.interrupt(Db)},o))}catch(f){this.log_("Failed to get token: "+f),l||(this.repoInfo_.nodeAdmin&&bt(f),a())}}}interrupt(e){lt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){lt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Bp(this.interruptReasons_)&&(this.reconnectDelay_=ii,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(o=>Iu(o)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new Pe(e).toString();let s;if(this.listens.has(r)){const o=this.listens.get(r);s=o.get(n),o.delete(n),o.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){lt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=fh&&(this.reconnectDelay_=uh,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){lt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=fh&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+ay.replace(/\./g,"-")]=1,Zg()?e["framework.cordova"]=1:h1()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Il.getInstance().currentlyOnline();return Bp(this.interruptReasons_)&&e}}bn.nextPersistentConnectionId_=0;bn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ge(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ge(Cs,e),s=new ge(Cs,n);return this.compare(r,s)!==0}minPost(){return ge.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mo;class Dy extends aa{static get __EMPTY_NODE(){return Mo}static set __EMPTY_NODE(e){Mo=e}compare(e,n){return zr(e.name,n.name)}isDefinedOn(e){throw Ws("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ge.MIN}maxPost(){return new ge(Ir,Mo)}makePost(e,n){return J(typeof e=="string","KeyIndex indexValue must always be a string."),new ge(e,Mo)}toString(){return".key"}}const gs=new Dy;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,n,r,s,o=null){this.isReverse_=s,this.resultGenerator_=o,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(e=e,l=n?r(e.key,n):1,s&&(l*=-1),l<0)this.isReverse_?e=e.left:e=e.right;else if(l===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class st{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??st.RED,this.left=s??Nt.EMPTY_NODE,this.right=o??Nt.EMPTY_NODE}copy(e,n,r,s,o){return new st(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Nt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Nt.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,st.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,st.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}st.RED=!0;st.BLACK=!1;class Wb{copy(e,n,r,s,o){return this}insert(e,n,r){return new st(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Nt{constructor(e,n=Nt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Nt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,st.BLACK,null,null))}remove(e){return new Nt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,st.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Fo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Fo(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Fo(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Fo(this.root_,null,this.comparator_,!0,e)}}Nt.EMPTY_NODE=new Wb;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(t,e){return zr(t.name,e.name)}function Ou(t,e){return zr(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sd;function zb(t){Sd=t}const Wy=function(t){return typeof t=="number"?"number:"+py(t):"string:"+t},Ly=function(t){if(t.isLeafNode()){const e=t.val();J(typeof e=="string"||typeof e=="number"||typeof e=="object"&&pn(e,".sv"),"Priority must be a string or number.")}else J(t===Sd||t.isEmpty(),"priority of unexpected type.");J(t===Sd||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ph;class nt{constructor(e,n=nt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,J(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Ly(this.priorityNode_)}static set __childrenNodeConstructor(e){ph=e}static get __childrenNodeConstructor(){return ph}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new nt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:nt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ye(e)?this:me(e)===".priority"?this.priorityNode_:nt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:nt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=me(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(J(r!==".priority"||nr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,nt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Le(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Wy(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=py(this.value_):e+=this.value_,this.lazyHash_=uy(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===nt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof nt.__childrenNodeConstructor?-1:(J(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=nt.VALUE_TYPE_ORDER.indexOf(n),o=nt.VALUE_TYPE_ORDER.indexOf(r);return J(s>=0,"Unknown leaf type: "+n),J(o>=0,"Unknown leaf type: "+r),s===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}nt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zy,Oy;function Ob(t){zy=t}function Mb(t){Oy=t}class Fb extends aa{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),o=r.compareTo(s);return o===0?zr(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ge.MIN}maxPost(){return new ge(Ir,new nt("[PRIORITY-POST]",Oy))}makePost(e,n){const r=zy(e);return new ge(n,new nt("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ye=new Fb;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb=Math.log(2);class $b{constructor(e){const n=o=>parseInt(Math.log(o)/Bb,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Rl=function(t,e,n,r){t.sort(e);const s=function(a,u){const g=u-a;let f,h;if(g===0)return null;if(g===1)return f=t[a],h=n?n(f):f,new st(h,f.node,st.BLACK,null,null);{const C=parseInt(g/2,10)+a,b=s(a,C),P=s(C+1,u);return f=t[C],h=n?n(f):f,new st(h,f.node,st.BLACK,b,P)}},o=function(a){let u=null,g=null,f=t.length;const h=function(b,P){const R=f-b,S=f;f-=b;const x=s(R+1,S),N=t[R],L=n?n(N):N;C(new st(L,N.node,P,null,x))},C=function(b){u?(u.left=b,u=b):(g=b,u=b)};for(let b=0;b<a.count;++b){const P=a.nextBitIsOne(),R=Math.pow(2,a.count-(b+1));P?h(R,st.BLACK):(h(R,st.BLACK),h(R,st.RED))}return g},l=new $b(t.length),c=o(l);return new Nt(r||e,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fc;const Kr={};class wn{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return J(Kr&&Ye,"ChildrenNode.ts has not been loaded"),fc=fc||new wn({".priority":Kr},{".priority":Ye}),fc}get(e){const n=_s(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Nt?n:null}hasIndex(e){return pn(this.indexSet_,e.toString())}addIndex(e,n){J(e!==gs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const o=n.getIterator(ge.Wrap);let l=o.getNext();for(;l;)s=s||e.isDefinedOn(l.node),r.push(l),l=o.getNext();let c;s?c=Rl(r,e.getCompare()):c=Kr;const a=e.toString(),u=Object.assign({},this.indexSet_);u[a]=e;const g=Object.assign({},this.indexes_);return g[a]=c,new wn(g,u)}addToIndexes(e,n){const r=Nl(this.indexes_,(s,o)=>{const l=_s(this.indexSet_,o);if(J(l,"Missing index implementation for "+o),s===Kr)if(l.isDefinedOn(e.node)){const c=[],a=n.getIterator(ge.Wrap);let u=a.getNext();for(;u;)u.name!==e.name&&c.push(u),u=a.getNext();return c.push(e),Rl(c,l.getCompare())}else return Kr;else{const c=n.get(e.name);let a=s;return c&&(a=a.remove(new ge(e.name,c))),a.insert(e,e.node)}});return new wn(r,this.indexSet_)}removeFromIndexes(e,n){const r=Nl(this.indexes_,s=>{if(s===Kr)return s;{const o=n.get(e.name);return o?s.remove(new ge(e.name,o)):s}});return new wn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oi;class he{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Ly(this.priorityNode_),this.children_.isEmpty()&&J(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return oi||(oi=new he(new Nt(Ou),null,wn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||oi}updatePriority(e){return this.children_.isEmpty()?this:new he(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?oi:n}}getChild(e){const n=me(e);return n===null?this:this.getImmediateChild(n).getChild(Le(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(J(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new ge(e,n);let s,o;n.isEmpty()?(s=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));const l=s.isEmpty()?oi:this.priorityNode_;return new he(s,l,o)}}updateChild(e,n){const r=me(e);if(r===null)return n;{J(me(e)!==".priority"||nr(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(Le(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,o=!0;if(this.forEachChild(Ye,(l,c)=>{n[l]=c.val(e),r++,o&&he.INTEGER_REGEXP_.test(l)?s=Math.max(s,Number(l)):o=!1}),!e&&o&&s<2*r){const l=[];for(const c in n)l[c]=n[c];return l}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Wy(this.getPriority().val())+":"),this.forEachChild(Ye,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":uy(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const o=s.getPredecessorKey(new ge(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ge(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ge(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,ge.Wrap);let o=s.peek();for(;o!=null&&n.compare(o,e)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,ge.Wrap);let o=s.peek();for(;o!=null&&n.compare(o,e)>0;)s.getNext(),o=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===co?-1:0}withIndex(e){if(e===gs||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new he(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===gs||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Ye),s=n.getIterator(Ye);let o=r.getNext(),l=s.getNext();for(;o&&l;){if(o.name!==l.name||!o.node.equals(l.node))return!1;o=r.getNext(),l=s.getNext()}return o===null&&l===null}else return!1;else return!1}}resolveIndex_(e){return e===gs?null:this.indexMap_.get(e.toString())}}he.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Ub extends he{constructor(){super(new Nt(Ou),he.EMPTY_NODE,wn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return he.EMPTY_NODE}isEmpty(){return!1}}const co=new Ub;Object.defineProperties(ge,{MIN:{value:new ge(Cs,he.EMPTY_NODE)},MAX:{value:new ge(Ir,co)}});Dy.__EMPTY_NODE=he.EMPTY_NODE;nt.__childrenNodeConstructor=he;zb(co);Mb(co);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb=!0;function Je(t,e=null){if(t===null)return he.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),J(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new nt(n,Je(e))}if(!(t instanceof Array)&&Hb){const n=[];let r=!1;if(dt(t,(l,c)=>{if(l.substring(0,1)!=="."){const a=Je(c);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new ge(l,a)))}}),n.length===0)return he.EMPTY_NODE;const o=Rl(n,Lb,l=>l.name,Ou);if(r){const l=Rl(n,Ye.getCompare());return new he(o,Je(e),new wn({".priority":l},{".priority":Ye}))}else return new he(o,Je(e),wn.Default)}else{let n=he.EMPTY_NODE;return dt(t,(r,s)=>{if(pn(t,r)&&r.substring(0,1)!=="."){const o=Je(s);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Je(e))}}Ob(Je);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb extends aa{constructor(e){super(),this.indexPath_=e,J(!ye(e)&&me(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),o=r.compareTo(s);return o===0?zr(e.name,n.name):o}makePost(e,n){const r=Je(e),s=he.EMPTY_NODE.updateChild(this.indexPath_,r);return new ge(n,s)}maxPost(){const e=he.EMPTY_NODE.updateChild(this.indexPath_,co);return new ge(Ir,e)}toString(){return Ki(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb extends aa{compare(e,n){const r=e.node.compareTo(n.node);return r===0?zr(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ge.MIN}maxPost(){return ge.MAX}makePost(e,n){const r=Je(e);return new ge(n,r)}toString(){return".value"}}const Yb=new Vb;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My(t){return{type:"value",snapshotNode:t}}function Es(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Qi(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function qi(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Kb(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e){this.index_=e}updateChild(e,n,r,s,o,l){J(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const c=e.getImmediateChild(n);return c.getChild(s).equals(r.getChild(s))&&c.isEmpty()===r.isEmpty()||(l!=null&&(r.isEmpty()?e.hasChild(n)?l.trackChildChange(Qi(n,c)):J(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?l.trackChildChange(Es(n,r)):l.trackChildChange(qi(n,r,c))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Ye,(s,o)=>{n.hasChild(s)||r.trackChildChange(Qi(s,o))}),n.isLeafNode()||n.forEachChild(Ye,(s,o)=>{if(e.hasChild(s)){const l=e.getImmediateChild(s);l.equals(o)||r.trackChildChange(qi(s,o,l))}else r.trackChildChange(Es(s,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?he.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e){this.indexedFilter_=new Mu(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Xi.getStartPost_(e),this.endPost_=Xi.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,s,o,l){return this.matches(new ge(n,r))||(r=he.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,s,o,l)}updateFullNode(e,n,r){n.isLeafNode()&&(n=he.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(he.EMPTY_NODE);const o=this;return n.forEachChild(Ye,(l,c)=>{o.matches(new ge(l,c))||(s=s.updateImmediateChild(l,he.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Xi(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,s,o,l){return this.rangedFilter_.matches(new ge(n,r))||(r=he.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,s,o,l):this.fullLimitUpdateChild_(e,n,r,o,l)}updateFullNode(e,n,r){let s;if(n.isLeafNode()||n.isEmpty())s=he.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=he.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;o.hasNext()&&l<this.limit_;){const c=o.getNext();if(this.withinDirectionalStart(c))if(this.withinDirectionalEnd(c))s=s.updateImmediateChild(c.name,c.node),l++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(he.EMPTY_NODE);let o;this.reverse_?o=s.getReverseIterator(this.index_):o=s.getIterator(this.index_);let l=0;for(;o.hasNext();){const c=o.getNext();l<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?l++:s=s.updateImmediateChild(c.name,he.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,s,o){let l;if(this.reverse_){const f=this.index_.getCompare();l=(h,C)=>f(C,h)}else l=this.index_.getCompare();const c=e;J(c.numChildren()===this.limit_,"");const a=new ge(n,r),u=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),g=this.rangedFilter_.matches(a);if(c.hasChild(n)){const f=c.getImmediateChild(n);let h=s.getChildAfterChild(this.index_,u,this.reverse_);for(;h!=null&&(h.name===n||c.hasChild(h.name));)h=s.getChildAfterChild(this.index_,h,this.reverse_);const C=h==null?1:l(h,a);if(g&&!r.isEmpty()&&C>=0)return o!=null&&o.trackChildChange(qi(n,r,f)),c.updateImmediateChild(n,r);{o!=null&&o.trackChildChange(Qi(n,f));const P=c.updateImmediateChild(n,he.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(o!=null&&o.trackChildChange(Es(h.name,h.node)),P.updateImmediateChild(h.name,h.node)):P}}else return r.isEmpty()?e:g&&l(u,a)>=0?(o!=null&&(o.trackChildChange(Qi(u.name,u.node)),o.trackChildChange(Es(n,r))),c.updateImmediateChild(n,r).updateImmediateChild(u.name,he.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ye}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return J(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return J(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Cs}hasEnd(){return this.endSet_}getIndexEndValue(){return J(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return J(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ir}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return J(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ye}copy(){const e=new ca;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function qb(t){return t.loadsAllData()?new Mu(t.getIndex()):t.hasLimit()?new Qb(t):new Xi(t)}function hh(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ye?n="$priority":t.index_===Yb?n="$value":t.index_===gs?n="$key":(J(t.index_ instanceof Gb,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ze(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Ze(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Ze(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Ze(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Ze(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function mh(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ye&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al extends Py{constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=ao("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(J(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,s){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const l=Al.getListenId_(e,r),c={};this.listens_[l]=c;const a=hh(e._queryParams);this.restRequest_(o+".json",a,(u,g)=>{let f=g;if(u===404&&(f=null,u=null),u===null&&this.onDataUpdate_(o,f,!1,r),_s(this.listens_,l)===c){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",s(h,null)}})}unlisten(e,n){const r=Al.getListenId_(e,n);delete this.listens_[r]}get(e){const n=hh(e._queryParams),r=e._path.toString(),s=new io;return this.restRequest_(r+".json",n,(o,l)=>{let c=l;o===404&&(c=null,o=null),o===null?(this.onDataUpdate_(r,c,!1,null),s.resolve(c)):s.reject(new Error(c))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,o])=>{s&&s.accessToken&&(n.auth=s.accessToken),o&&o.token&&(n.ac=o.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+S1(n);this.log_("Sending REST request for "+l);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(r&&c.readyState===4){this.log_("REST Response for "+l+" received. status:",c.status,"response:",c.responseText);let a=null;if(c.status>=200&&c.status<300){try{a=Hi(c.responseText)}catch{bt("Failed to parse JSON response for "+l+": "+c.responseText)}r(null,a)}else c.status!==401&&c.status!==404&&bt("Got unsuccessful REST response for "+l+" Status: "+c.status),r(c.status);r=null}},c.open("GET",l,!0),c.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(){this.rootNode_=he.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(){return{value:null,children:new Map}}function Fy(t,e,n){if(ye(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=me(e);t.children.has(r)||t.children.set(r,Dl());const s=t.children.get(r);e=Le(e),Fy(s,e,n)}}function _d(t,e,n){t.value!==null?n(e,t.value):Jb(t,(r,s)=>{const o=new Pe(e.toString()+"/"+r);_d(s,o,n)})}function Jb(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&dt(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh=10*1e3,eS=30*1e3,tS=5*60*1e3;class nS{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Zb(e);const r=gh+(eS-gh)*Math.random();Si(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;dt(e,(s,o)=>{o>0&&pn(this.statsToReport_,s)&&(n[s]=o,r=!0)}),r&&this.server_.reportStats(n),Si(this.reportStats_.bind(this),Math.floor(Math.random()*2*tS))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(qt||(qt={}));function Fu(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Bu(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function $u(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=qt.ACK_USER_WRITE,this.source=Fu()}operationForChild(e){if(ye(this.path)){if(this.affectedTree.value!=null)return J(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Pe(e));return new Wl(Ce(),n,this.revert)}}else return J(me(this.path)===e,"operationForChild called for unrelated child."),new Wl(Le(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,n){this.source=e,this.path=n,this.type=qt.LISTEN_COMPLETE}operationForChild(e){return ye(this.path)?new Ji(this.source,Ce()):new Ji(this.source,Le(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=qt.OVERWRITE}operationForChild(e){return ye(this.path)?new Rr(this.source,Ce(),this.snap.getImmediateChild(e)):new Rr(this.source,Le(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=qt.MERGE}operationForChild(e){if(ye(this.path)){const n=this.children.subtree(new Pe(e));return n.isEmpty()?null:n.value?new Rr(this.source,Ce(),n.value):new Ns(this.source,Ce(),n)}else return J(me(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ns(this.source,Le(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ye(e))return this.isFullyInitialized()&&!this.filtered_;const n=me(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function sS(t,e,n,r){const s=[],o=[];return e.forEach(l=>{l.type==="child_changed"&&t.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&o.push(Kb(l.childName,l.snapshotNode))}),li(t,s,"child_removed",e,r,n),li(t,s,"child_added",e,r,n),li(t,s,"child_moved",o,r,n),li(t,s,"child_changed",e,r,n),li(t,s,"value",e,r,n),s}function li(t,e,n,r,s,o){const l=r.filter(c=>c.type===n);l.sort((c,a)=>oS(t,c,a)),l.forEach(c=>{const a=iS(t,c,o);s.forEach(u=>{u.respondsTo(c.type)&&e.push(u.createEvent(a,t.query_))})})}function iS(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function oS(t,e,n){if(e.childName==null||n.childName==null)throw Ws("Should only compare child_ events.");const r=new ge(e.childName,e.snapshotNode),s=new ge(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function da(t,e){return{eventCache:t,serverCache:e}}function _i(t,e,n,r){return da(new rr(e,n,r),t.serverCache)}function By(t,e,n,r){return da(t.eventCache,new rr(e,n,r))}function Ll(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ar(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pc;const lS=()=>(pc||(pc=new Nt(Gk)),pc);class De{constructor(e,n=lS()){this.value=e,this.children=n}static fromObject(e){let n=new De(null);return dt(e,(r,s)=>{n=n.set(new Pe(r),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ce(),value:this.value};if(ye(e))return null;{const r=me(e),s=this.children.get(r);if(s!==null){const o=s.findRootMostMatchingPathAndValue(Le(e),n);return o!=null?{path:Ve(new Pe(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ye(e))return this;{const n=me(e),r=this.children.get(n);return r!==null?r.subtree(Le(e)):new De(null)}}set(e,n){if(ye(e))return new De(n,this.children);{const r=me(e),o=(this.children.get(r)||new De(null)).set(Le(e),n),l=this.children.insert(r,o);return new De(this.value,l)}}remove(e){if(ye(e))return this.children.isEmpty()?new De(null):new De(null,this.children);{const n=me(e),r=this.children.get(n);if(r){const s=r.remove(Le(e));let o;return s.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,s),this.value===null&&o.isEmpty()?new De(null):new De(this.value,o)}else return this}}get(e){if(ye(e))return this.value;{const n=me(e),r=this.children.get(n);return r?r.get(Le(e)):null}}setTree(e,n){if(ye(e))return n;{const r=me(e),o=(this.children.get(r)||new De(null)).setTree(Le(e),n);let l;return o.isEmpty()?l=this.children.remove(r):l=this.children.insert(r,o),new De(this.value,l)}}fold(e){return this.fold_(Ce(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,o)=>{r[s]=o.fold_(Ve(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Ce(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(ye(e))return null;{const o=me(e),l=this.children.get(o);return l?l.findOnPath_(Le(e),Ve(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ce(),n)}foreachOnPath_(e,n,r){if(ye(e))return this;{this.value&&r(n,this.value);const s=me(e),o=this.children.get(s);return o?o.foreachOnPath_(Le(e),Ve(n,s),r):new De(null)}}foreach(e){this.foreach_(Ce(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(Ve(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.writeTree_=e}static empty(){return new Zt(new De(null))}}function Ci(t,e,n){if(ye(e))return new Zt(new De(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let o=r.value;const l=wt(s,e);return o=o.updateChild(l,n),new Zt(t.writeTree_.set(s,o))}else{const s=new De(n),o=t.writeTree_.setTree(e,s);return new Zt(o)}}}function Cd(t,e,n){let r=t;return dt(n,(s,o)=>{r=Ci(r,Ve(e,s),o)}),r}function yh(t,e){if(ye(e))return Zt.empty();{const n=t.writeTree_.setTree(e,new De(null));return new Zt(n)}}function Ed(t,e){return Or(t,e)!=null}function Or(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(wt(n.path,e)):null}function xh(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ye,(r,s)=>{e.push(new ge(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new ge(r,s.value))}),e}function Jn(t,e){if(ye(e))return t;{const n=Or(t,e);return n!=null?new Zt(new De(n)):new Zt(t.writeTree_.subtree(e))}}function Nd(t){return t.writeTree_.isEmpty()}function js(t,e){return $y(Ce(),t.writeTree_,e)}function $y(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,o)=>{s===".priority"?(J(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=$y(Ve(t,s),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Ve(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(t,e){return Vy(e,t)}function aS(t,e,n,r,s){J(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=Ci(t.visibleWrites,e,n)),t.lastWriteId=r}function cS(t,e,n,r){J(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Cd(t.visibleWrites,e,n),t.lastWriteId=r}function dS(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function uS(t,e){const n=t.allWrites.findIndex(c=>c.writeId===e);J(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,o=!1,l=t.allWrites.length-1;for(;s&&l>=0;){const c=t.allWrites[l];c.visible&&(l>=n&&fS(c,r.path)?s=!1:Ft(r.path,c.path)&&(o=!0)),l--}if(s){if(o)return pS(t),!0;if(r.snap)t.visibleWrites=yh(t.visibleWrites,r.path);else{const c=r.children;dt(c,a=>{t.visibleWrites=yh(t.visibleWrites,Ve(r.path,a))})}return!0}else return!1}function fS(t,e){if(t.snap)return Ft(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ft(Ve(t.path,n),e))return!0;return!1}function pS(t){t.visibleWrites=Uy(t.allWrites,hS,Ce()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function hS(t){return t.visible}function Uy(t,e,n){let r=Zt.empty();for(let s=0;s<t.length;++s){const o=t[s];if(e(o)){const l=o.path;let c;if(o.snap)Ft(n,l)?(c=wt(n,l),r=Ci(r,c,o.snap)):Ft(l,n)&&(c=wt(l,n),r=Ci(r,Ce(),o.snap.getChild(c)));else if(o.children){if(Ft(n,l))c=wt(n,l),r=Cd(r,c,o.children);else if(Ft(l,n))if(c=wt(l,n),ye(c))r=Cd(r,Ce(),o.children);else{const a=_s(o.children,me(c));if(a){const u=a.getChild(Le(c));r=Ci(r,Ce(),u)}}}else throw Ws("WriteRecord should have .snap or .children")}}return r}function Hy(t,e,n,r,s){if(!r&&!s){const o=Or(t.visibleWrites,e);if(o!=null)return o;{const l=Jn(t.visibleWrites,e);if(Nd(l))return n;if(n==null&&!Ed(l,Ce()))return null;{const c=n||he.EMPTY_NODE;return js(l,c)}}}else{const o=Jn(t.visibleWrites,e);if(!s&&Nd(o))return n;if(!s&&n==null&&!Ed(o,Ce()))return null;{const l=function(u){return(u.visible||s)&&(!r||!~r.indexOf(u.writeId))&&(Ft(u.path,e)||Ft(e,u.path))},c=Uy(t.allWrites,l,e),a=n||he.EMPTY_NODE;return js(c,a)}}}function mS(t,e,n){let r=he.EMPTY_NODE;const s=Or(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Ye,(o,l)=>{r=r.updateImmediateChild(o,l)}),r;if(n){const o=Jn(t.visibleWrites,e);return n.forEachChild(Ye,(l,c)=>{const a=js(Jn(o,new Pe(l)),c);r=r.updateImmediateChild(l,a)}),xh(o).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}else{const o=Jn(t.visibleWrites,e);return xh(o).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}}function gS(t,e,n,r,s){J(r||s,"Either existingEventSnap or existingServerSnap must exist");const o=Ve(e,n);if(Ed(t.visibleWrites,o))return null;{const l=Jn(t.visibleWrites,o);return Nd(l)?s.getChild(n):js(l,s.getChild(n))}}function yS(t,e,n,r){const s=Ve(e,n),o=Or(t.visibleWrites,s);if(o!=null)return o;if(r.isCompleteForChild(n)){const l=Jn(t.visibleWrites,s);return js(l,r.getNode().getImmediateChild(n))}else return null}function xS(t,e){return Or(t.visibleWrites,e)}function vS(t,e,n,r,s,o,l){let c;const a=Jn(t.visibleWrites,e),u=Or(a,Ce());if(u!=null)c=u;else if(n!=null)c=js(a,n);else return[];if(c=c.withIndex(l),!c.isEmpty()&&!c.isLeafNode()){const g=[],f=l.getCompare(),h=o?c.getReverseIteratorFrom(r,l):c.getIteratorFrom(r,l);let C=h.getNext();for(;C&&g.length<s;)f(C,r)!==0&&g.push(C),C=h.getNext();return g}else return[]}function wS(){return{visibleWrites:Zt.empty(),allWrites:[],lastWriteId:-1}}function zl(t,e,n,r){return Hy(t.writeTree,t.treePath,e,n,r)}function Uu(t,e){return mS(t.writeTree,t.treePath,e)}function vh(t,e,n,r){return gS(t.writeTree,t.treePath,e,n,r)}function Ol(t,e){return xS(t.writeTree,Ve(t.treePath,e))}function kS(t,e,n,r,s,o){return vS(t.writeTree,t.treePath,e,n,r,s,o)}function Hu(t,e,n){return yS(t.writeTree,t.treePath,e,n)}function Gy(t,e){return Vy(Ve(t.treePath,e),t.writeTree)}function Vy(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;J(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),J(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const o=s.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,qi(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,Qi(r,s.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,Es(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,qi(r,e.snapshotNode,s.oldSnap));else throw Ws("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const Yy=new SS;class Gu{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new rr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Hu(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ar(this.viewCache_),o=kS(this.writes_,s,n,1,r,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _S(t){return{filter:t}}function CS(t,e){J(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),J(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function ES(t,e,n,r,s){const o=new bS;let l,c;if(n.type===qt.OVERWRITE){const u=n;u.source.fromUser?l=jd(t,e,u.path,u.snap,r,s,o):(J(u.source.fromServer,"Unknown source."),c=u.source.tagged||e.serverCache.isFiltered()&&!ye(u.path),l=Ml(t,e,u.path,u.snap,r,s,c,o))}else if(n.type===qt.MERGE){const u=n;u.source.fromUser?l=jS(t,e,u.path,u.children,r,s,o):(J(u.source.fromServer,"Unknown source."),c=u.source.tagged||e.serverCache.isFiltered(),l=Td(t,e,u.path,u.children,r,s,c,o))}else if(n.type===qt.ACK_USER_WRITE){const u=n;u.revert?l=IS(t,e,u.path,r,s,o):l=TS(t,e,u.path,u.affectedTree,r,s,o)}else if(n.type===qt.LISTEN_COMPLETE)l=PS(t,e,n.path,r,o);else throw Ws("Unknown operation type: "+n.type);const a=o.getChanges();return NS(e,l,a),{viewCache:l,changes:a}}function NS(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Ll(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(My(Ll(e)))}}function Ky(t,e,n,r,s,o){const l=e.eventCache;if(Ol(r,n)!=null)return e;{let c,a;if(ye(n))if(J(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Ar(e),g=u instanceof he?u:he.EMPTY_NODE,f=Uu(r,g);c=t.filter.updateFullNode(e.eventCache.getNode(),f,o)}else{const u=zl(r,Ar(e));c=t.filter.updateFullNode(e.eventCache.getNode(),u,o)}else{const u=me(n);if(u===".priority"){J(nr(n)===1,"Can't have a priority with additional path components");const g=l.getNode();a=e.serverCache.getNode();const f=vh(r,n,g,a);f!=null?c=t.filter.updatePriority(g,f):c=l.getNode()}else{const g=Le(n);let f;if(l.isCompleteForChild(u)){a=e.serverCache.getNode();const h=vh(r,n,l.getNode(),a);h!=null?f=l.getNode().getImmediateChild(u).updateChild(g,h):f=l.getNode().getImmediateChild(u)}else f=Hu(r,u,e.serverCache);f!=null?c=t.filter.updateChild(l.getNode(),u,f,g,s,o):c=l.getNode()}}return _i(e,c,l.isFullyInitialized()||ye(n),t.filter.filtersNodes())}}function Ml(t,e,n,r,s,o,l,c){const a=e.serverCache;let u;const g=l?t.filter:t.filter.getIndexedFilter();if(ye(n))u=g.updateFullNode(a.getNode(),r,null);else if(g.filtersNodes()&&!a.isFiltered()){const C=a.getNode().updateChild(n,r);u=g.updateFullNode(a.getNode(),C,null)}else{const C=me(n);if(!a.isCompleteForPath(n)&&nr(n)>1)return e;const b=Le(n),R=a.getNode().getImmediateChild(C).updateChild(b,r);C===".priority"?u=g.updatePriority(a.getNode(),R):u=g.updateChild(a.getNode(),C,R,b,Yy,null)}const f=By(e,u,a.isFullyInitialized()||ye(n),g.filtersNodes()),h=new Gu(s,f,o);return Ky(t,f,n,s,h,c)}function jd(t,e,n,r,s,o,l){const c=e.eventCache;let a,u;const g=new Gu(s,e,o);if(ye(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,l),a=_i(e,u,!0,t.filter.filtersNodes());else{const f=me(n);if(f===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),a=_i(e,u,c.isFullyInitialized(),c.isFiltered());else{const h=Le(n),C=c.getNode().getImmediateChild(f);let b;if(ye(h))b=r;else{const P=g.getCompleteChild(f);P!=null?Wu(h)===".priority"&&P.getChild(Ry(h)).isEmpty()?b=P:b=P.updateChild(h,r):b=he.EMPTY_NODE}if(C.equals(b))a=e;else{const P=t.filter.updateChild(c.getNode(),f,b,h,g,l);a=_i(e,P,c.isFullyInitialized(),t.filter.filtersNodes())}}}return a}function wh(t,e){return t.eventCache.isCompleteForChild(e)}function jS(t,e,n,r,s,o,l){let c=e;return r.foreach((a,u)=>{const g=Ve(n,a);wh(e,me(g))&&(c=jd(t,c,g,u,s,o,l))}),r.foreach((a,u)=>{const g=Ve(n,a);wh(e,me(g))||(c=jd(t,c,g,u,s,o,l))}),c}function kh(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function Td(t,e,n,r,s,o,l,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let a=e,u;ye(n)?u=r:u=new De(null).setTree(n,r);const g=e.serverCache.getNode();return u.children.inorderTraversal((f,h)=>{if(g.hasChild(f)){const C=e.serverCache.getNode().getImmediateChild(f),b=kh(t,C,h);a=Ml(t,a,new Pe(f),b,s,o,l,c)}}),u.children.inorderTraversal((f,h)=>{const C=!e.serverCache.isCompleteForChild(f)&&h.value===null;if(!g.hasChild(f)&&!C){const b=e.serverCache.getNode().getImmediateChild(f),P=kh(t,b,h);a=Ml(t,a,new Pe(f),P,s,o,l,c)}}),a}function TS(t,e,n,r,s,o,l){if(Ol(s,n)!=null)return e;const c=e.serverCache.isFiltered(),a=e.serverCache;if(r.value!=null){if(ye(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return Ml(t,e,n,a.getNode().getChild(n),s,o,c,l);if(ye(n)){let u=new De(null);return a.getNode().forEachChild(gs,(g,f)=>{u=u.set(new Pe(g),f)}),Td(t,e,n,u,s,o,c,l)}else return e}else{let u=new De(null);return r.foreach((g,f)=>{const h=Ve(n,g);a.isCompleteForPath(h)&&(u=u.set(g,a.getNode().getChild(h)))}),Td(t,e,n,u,s,o,c,l)}}function PS(t,e,n,r,s){const o=e.serverCache,l=By(e,o.getNode(),o.isFullyInitialized()||ye(n),o.isFiltered());return Ky(t,l,n,r,Yy,s)}function IS(t,e,n,r,s,o){let l;if(Ol(r,n)!=null)return e;{const c=new Gu(r,e,s),a=e.eventCache.getNode();let u;if(ye(n)||me(n)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=zl(r,Ar(e));else{const f=e.serverCache.getNode();J(f instanceof he,"serverChildren would be complete if leaf node"),g=Uu(r,f)}g=g,u=t.filter.updateFullNode(a,g,o)}else{const g=me(n);let f=Hu(r,g,e.serverCache);f==null&&e.serverCache.isCompleteForChild(g)&&(f=a.getImmediateChild(g)),f!=null?u=t.filter.updateChild(a,g,f,Le(n),c,o):e.eventCache.getNode().hasChild(g)?u=t.filter.updateChild(a,g,he.EMPTY_NODE,Le(n),c,o):u=a,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=zl(r,Ar(e)),l.isLeafNode()&&(u=t.filter.updateFullNode(u,l,o)))}return l=e.serverCache.isFullyInitialized()||Ol(r,Ce())!=null,_i(e,u,l,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,s=new Mu(r.getIndex()),o=qb(r);this.processor_=_S(o);const l=n.serverCache,c=n.eventCache,a=s.updateFullNode(he.EMPTY_NODE,l.getNode(),null),u=o.updateFullNode(he.EMPTY_NODE,c.getNode(),null),g=new rr(a,l.isFullyInitialized(),s.filtersNodes()),f=new rr(u,c.isFullyInitialized(),o.filtersNodes());this.viewCache_=da(f,g),this.eventGenerator_=new rS(this.query_)}get query(){return this.query_}}function AS(t){return t.viewCache_.serverCache.getNode()}function DS(t){return Ll(t.viewCache_)}function WS(t,e){const n=Ar(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ye(e)&&!n.getImmediateChild(me(e)).isEmpty())?n.getChild(e):null}function bh(t){return t.eventRegistrations_.length===0}function LS(t,e){t.eventRegistrations_.push(e)}function Sh(t,e,n){const r=[];if(n){J(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(o=>{const l=o.createCancelEvent(n,s);l&&r.push(l)})}if(e){let s=[];for(let o=0;o<t.eventRegistrations_.length;++o){const l=t.eventRegistrations_[o];if(!l.matches(e))s.push(l);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function _h(t,e,n,r){e.type===qt.MERGE&&e.source.queryId!==null&&(J(Ar(t.viewCache_),"We should always have a full cache before handling merges"),J(Ll(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,o=ES(t.processor_,s,e,n,r);return CS(t.processor_,o.viewCache),J(o.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,Qy(t,o.changes,o.viewCache.eventCache.getNode(),null)}function zS(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ye,(o,l)=>{r.push(Es(o,l))}),n.isFullyInitialized()&&r.push(My(n.getNode())),Qy(t,r,n.getNode(),e)}function Qy(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return sS(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fl;class qy{constructor(){this.views=new Map}}function OS(t){J(!Fl,"__referenceConstructor has already been defined"),Fl=t}function MS(){return J(Fl,"Reference.ts has not been loaded"),Fl}function FS(t){return t.views.size===0}function Vu(t,e,n,r){const s=e.source.queryId;if(s!==null){const o=t.views.get(s);return J(o!=null,"SyncTree gave us an op for an invalid query."),_h(o,e,n,r)}else{let o=[];for(const l of t.views.values())o=o.concat(_h(l,e,n,r));return o}}function Xy(t,e,n,r,s){const o=e._queryIdentifier,l=t.views.get(o);if(!l){let c=zl(n,s?r:null),a=!1;c?a=!0:r instanceof he?(c=Uu(n,r),a=!1):(c=he.EMPTY_NODE,a=!1);const u=da(new rr(c,a,!1),new rr(r,s,!1));return new RS(e,u)}return l}function BS(t,e,n,r,s,o){const l=Xy(t,e,r,s,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,l),LS(l,n),zS(l,n)}function $S(t,e,n,r){const s=e._queryIdentifier,o=[];let l=[];const c=sr(t);if(s==="default")for(const[a,u]of t.views.entries())l=l.concat(Sh(u,n,r)),bh(u)&&(t.views.delete(a),u.query._queryParams.loadsAllData()||o.push(u.query));else{const a=t.views.get(s);a&&(l=l.concat(Sh(a,n,r)),bh(a)&&(t.views.delete(s),a.query._queryParams.loadsAllData()||o.push(a.query)))}return c&&!sr(t)&&o.push(new(MS())(e._repo,e._path)),{removed:o,events:l}}function Jy(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Zn(t,e){let n=null;for(const r of t.views.values())n=n||WS(r,e);return n}function Zy(t,e){if(e._queryParams.loadsAllData())return fa(t);{const r=e._queryIdentifier;return t.views.get(r)}}function e0(t,e){return Zy(t,e)!=null}function sr(t){return fa(t)!=null}function fa(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bl;function US(t){J(!Bl,"__referenceConstructor has already been defined"),Bl=t}function HS(){return J(Bl,"Reference.ts has not been loaded"),Bl}let GS=1;class Ch{constructor(e){this.listenProvider_=e,this.syncPointTree_=new De(null),this.pendingWriteTree_=wS(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function t0(t,e,n,r,s){return aS(t.pendingWriteTree_,e,n,r,s),s?zs(t,new Rr(Fu(),e,n)):[]}function VS(t,e,n,r){cS(t.pendingWriteTree_,e,n,r);const s=De.fromObject(n);return zs(t,new Ns(Fu(),e,s))}function Bn(t,e,n=!1){const r=dS(t.pendingWriteTree_,e);if(uS(t.pendingWriteTree_,e)){let o=new De(null);return r.snap!=null?o=o.set(Ce(),!0):dt(r.children,l=>{o=o.set(new Pe(l),!0)}),zs(t,new Wl(r.path,o,n))}else return[]}function uo(t,e,n){return zs(t,new Rr(Bu(),e,n))}function YS(t,e,n){const r=De.fromObject(n);return zs(t,new Ns(Bu(),e,r))}function KS(t,e){return zs(t,new Ji(Bu(),e))}function QS(t,e,n){const r=Ku(t,n);if(r){const s=Qu(r),o=s.path,l=s.queryId,c=wt(o,e),a=new Ji($u(l),c);return qu(t,o,a)}else return[]}function $l(t,e,n,r,s=!1){const o=e._path,l=t.syncPointTree_.get(o);let c=[];if(l&&(e._queryIdentifier==="default"||e0(l,e))){const a=$S(l,e,n,r);FS(l)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const u=a.removed;if(c=a.events,!s){const g=u.findIndex(h=>h._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(o,(h,C)=>sr(C));if(g&&!f){const h=t.syncPointTree_.subtree(o);if(!h.isEmpty()){const C=JS(h);for(let b=0;b<C.length;++b){const P=C[b],R=P.query,S=i0(t,P);t.listenProvider_.startListening(Ei(R),Zi(t,R),S.hashFn,S.onComplete)}}}!f&&u.length>0&&!r&&(g?t.listenProvider_.stopListening(Ei(e),null):u.forEach(h=>{const C=t.queryToTagMap.get(pa(h));t.listenProvider_.stopListening(Ei(h),C)}))}ZS(t,u)}return c}function n0(t,e,n,r){const s=Ku(t,r);if(s!=null){const o=Qu(s),l=o.path,c=o.queryId,a=wt(l,e),u=new Rr($u(c),a,n);return qu(t,l,u)}else return[]}function qS(t,e,n,r){const s=Ku(t,r);if(s){const o=Qu(s),l=o.path,c=o.queryId,a=wt(l,e),u=De.fromObject(n),g=new Ns($u(c),a,u);return qu(t,l,g)}else return[]}function Pd(t,e,n,r=!1){const s=e._path;let o=null,l=!1;t.syncPointTree_.foreachOnPath(s,(h,C)=>{const b=wt(h,s);o=o||Zn(C,b),l=l||sr(C)});let c=t.syncPointTree_.get(s);c?(l=l||sr(c),o=o||Zn(c,Ce())):(c=new qy,t.syncPointTree_=t.syncPointTree_.set(s,c));let a;o!=null?a=!0:(a=!1,o=he.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((C,b)=>{const P=Zn(b,Ce());P&&(o=o.updateImmediateChild(C,P))}));const u=e0(c,e);if(!u&&!e._queryParams.loadsAllData()){const h=pa(e);J(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const C=e_();t.queryToTagMap.set(h,C),t.tagToQueryMap.set(C,h)}const g=ua(t.pendingWriteTree_,s);let f=BS(c,e,n,g,o,a);if(!u&&!l&&!r){const h=Zy(c,e);f=f.concat(t_(t,e,h))}return f}function Yu(t,e,n){const s=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(l,c)=>{const a=wt(l,e),u=Zn(c,a);if(u)return u});return Hy(s,e,o,n,!0)}function XS(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(u,g)=>{const f=wt(u,n);r=r||Zn(g,f)});let s=t.syncPointTree_.get(n);s?r=r||Zn(s,Ce()):(s=new qy,t.syncPointTree_=t.syncPointTree_.set(n,s));const o=r!=null,l=o?new rr(r,!0,!1):null,c=ua(t.pendingWriteTree_,e._path),a=Xy(s,e,c,o?l.getNode():he.EMPTY_NODE,o);return DS(a)}function zs(t,e){return r0(e,t.syncPointTree_,null,ua(t.pendingWriteTree_,Ce()))}function r0(t,e,n,r){if(ye(t.path))return s0(t,e,n,r);{const s=e.get(Ce());n==null&&s!=null&&(n=Zn(s,Ce()));let o=[];const l=me(t.path),c=t.operationForChild(l),a=e.children.get(l);if(a&&c){const u=n?n.getImmediateChild(l):null,g=Gy(r,l);o=o.concat(r0(c,a,u,g))}return s&&(o=o.concat(Vu(s,t,r,n))),o}}function s0(t,e,n,r){const s=e.get(Ce());n==null&&s!=null&&(n=Zn(s,Ce()));let o=[];return e.children.inorderTraversal((l,c)=>{const a=n?n.getImmediateChild(l):null,u=Gy(r,l),g=t.operationForChild(l);g&&(o=o.concat(s0(g,c,a,u)))}),s&&(o=o.concat(Vu(s,t,r,n))),o}function i0(t,e){const n=e.query,r=Zi(t,n);return{hashFn:()=>(AS(e)||he.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return r?QS(t,n._path,r):KS(t,n._path);{const o=Kk(s,n);return $l(t,n,null,o)}}}}function Zi(t,e){const n=pa(e);return t.queryToTagMap.get(n)}function pa(t){return t._path.toString()+"$"+t._queryIdentifier}function Ku(t,e){return t.tagToQueryMap.get(e)}function Qu(t){const e=t.indexOf("$");return J(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Pe(t.substr(0,e))}}function qu(t,e,n){const r=t.syncPointTree_.get(e);J(r,"Missing sync point for query tag that we're tracking");const s=ua(t.pendingWriteTree_,e);return Vu(r,n,s,null)}function JS(t){return t.fold((e,n,r)=>{if(n&&sr(n))return[fa(n)];{let s=[];return n&&(s=Jy(n)),dt(r,(o,l)=>{s=s.concat(l)}),s}})}function Ei(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(HS())(t._repo,t._path):t}function ZS(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const s=pa(r),o=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(o)}}}function e_(){return GS++}function t_(t,e,n){const r=e._path,s=Zi(t,e),o=i0(t,n),l=t.listenProvider_.startListening(Ei(e),s,o.hashFn,o.onComplete),c=t.syncPointTree_.subtree(r);if(s)J(!sr(c.value),"If we're adding a query, it shouldn't be shadowed");else{const a=c.fold((u,g,f)=>{if(!ye(u)&&g&&sr(g))return[fa(g).query];{let h=[];return g&&(h=h.concat(Jy(g).map(C=>C.query))),dt(f,(C,b)=>{h=h.concat(b)}),h}});for(let u=0;u<a.length;++u){const g=a[u];t.listenProvider_.stopListening(Ei(g),Zi(t,g))}}return l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Xu(n)}node(){return this.node_}}class Ju{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ve(this.path_,e);return new Ju(this.syncTree_,n)}node(){return Yu(this.syncTree_,this.path_)}}const n_=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Eh=function(t,e,n){if(!t||typeof t!="object")return t;if(J(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return r_(t[".sv"],e,n);if(typeof t[".sv"]=="object")return s_(t[".sv"],e);J(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},r_=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:J(!1,"Unexpected server value: "+t)}},s_=function(t,e,n){t.hasOwnProperty("increment")||J(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&J(!1,"Unexpected increment value: "+r);const s=e.node();if(J(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const l=s.getValue();return typeof l!="number"?r:l+r},o0=function(t,e,n,r){return Zu(e,new Ju(n,t),r)},l0=function(t,e,n){return Zu(t,new Xu(e),n)};function Zu(t,e,n){const r=t.getPriority().val(),s=Eh(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const l=t,c=Eh(l.getValue(),e,n);return c!==l.getValue()||s!==l.getPriority().val()?new nt(c,Je(s)):t}else{const l=t;return o=l,s!==l.getPriority().val()&&(o=o.updatePriority(new nt(s))),l.forEachChild(Ye,(c,a)=>{const u=Zu(a,e.getImmediateChild(c),n);u!==a&&(o=o.updateImmediateChild(c,u))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function tf(t,e){let n=e instanceof Pe?e:new Pe(e),r=t,s=me(n);for(;s!==null;){const o=_s(r.node.children,s)||{children:{},childCount:0};r=new ef(s,r,o),n=Le(n),s=me(n)}return r}function Os(t){return t.node.value}function a0(t,e){t.node.value=e,Id(t)}function c0(t){return t.node.childCount>0}function i_(t){return Os(t)===void 0&&!c0(t)}function ha(t,e){dt(t.node.children,(n,r)=>{e(new ef(n,t,r))})}function d0(t,e,n,r){n&&e(t),ha(t,s=>{d0(s,e,!0)})}function o_(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function fo(t){return new Pe(t.parent===null?t.name:fo(t.parent)+"/"+t.name)}function Id(t){t.parent!==null&&l_(t.parent,t.name,t)}function l_(t,e,n){const r=i_(n),s=pn(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,Id(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,Id(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_=/[\[\].#$\/\u0000-\u001F\u007F]/,c_=/[\[\].#$\u0000-\u001F\u007F]/,hc=10*1024*1024,nf=function(t){return typeof t=="string"&&t.length!==0&&!a_.test(t)},u0=function(t){return typeof t=="string"&&t.length!==0&&!c_.test(t)},d_=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),u0(t)},u_=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Pu(t)||t&&typeof t=="object"&&pn(t,".sv")},f0=function(t,e,n,r){r&&e===void 0||ma(oa(t,"value"),e,n)},ma=function(t,e,n){const r=n instanceof Pe?new jb(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+yr(r));if(typeof e=="function")throw new Error(t+"contains a function "+yr(r)+" with contents = "+e.toString());if(Pu(e))throw new Error(t+"contains "+e.toString()+" "+yr(r));if(typeof e=="string"&&e.length>hc/3&&la(e)>hc)throw new Error(t+"contains a string greater than "+hc+" utf8 bytes "+yr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,o=!1;if(dt(e,(l,c)=>{if(l===".value")s=!0;else if(l!==".priority"&&l!==".sv"&&(o=!0,!nf(l)))throw new Error(t+" contains an invalid key ("+l+") "+yr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Tb(r,l),ma(t,c,r),Pb(r)}),s&&o)throw new Error(t+' contains ".value" child '+yr(r)+" in addition to actual children.")}},f_=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const o=Ki(r);for(let l=0;l<o.length;l++)if(!(o[l]===".priority"&&l===o.length-1)){if(!nf(o[l]))throw new Error(t+"contains an invalid key ("+o[l]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(Nb);let s=null;for(n=0;n<e.length;n++){if(r=e[n],s!==null&&Ft(s,r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}},p_=function(t,e,n,r){const s=oa(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(s+" must be an object containing the children to replace.");const o=[];dt(e,(l,c)=>{const a=new Pe(l);if(ma(s,c,Ve(n,a)),Wu(a)===".priority"&&!u_(c))throw new Error(s+"contains an invalid value for '"+a.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(a)}),f_(s,o)},rf=function(t,e,n,r){if(!u0(n))throw new Error(oa(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},h_=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),rf(t,e,n)},ga=function(t,e){if(me(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},m_=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!nf(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!d_(n))throw new Error(oa(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ya(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],o=s.getPath();n!==null&&!Lu(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(s)}n&&t.eventLists_.push(n)}function p0(t,e,n){ya(t,n),h0(t,r=>Lu(r,e))}function Ht(t,e,n){ya(t,n),h0(t,r=>Ft(r,e)||Ft(e,r))}function h0(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const o=s.path;e(o)?(y_(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function y_(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();bi&&lt("event: "+n.toString()),Ls(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="repo_interrupt",v_=25;class w_{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new g_,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Dl(),this.transactionQueueTree_=new ef,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function k_(t,e,n){if(t.stats_=Au(t.repoInfo_),t.forceRestClient_||Jk())t.server_=new Al(t.repoInfo_,(r,s,o,l)=>{Nh(t,r,s,o,l)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>jh(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ze(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new bn(t.repoInfo_,e,(r,s,o,l)=>{Nh(t,r,s,o,l)},r=>{jh(t,r)},r=>{b_(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=rb(t.repoInfo_,()=>new nS(t.stats_,t.server_)),t.infoData_=new Xb,t.infoSyncTree_=new Ch({startListening:(r,s,o,l)=>{let c=[];const a=t.infoData_.getNode(r._path);return a.isEmpty()||(c=uo(t.infoSyncTree_,r._path,a),setTimeout(()=>{l("ok")},0)),c},stopListening:()=>{}}),sf(t,"connected",!1),t.serverSyncTree_=new Ch({startListening:(r,s,o,l)=>(t.server_.listen(r,o,s,(c,a)=>{const u=l(c,a);Ht(t.eventQueue_,r._path,u)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function m0(t){const n=t.infoData_.getNode(new Pe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function xa(t){return n_({timestamp:m0(t)})}function Nh(t,e,n,r,s){t.dataUpdateCount++;const o=new Pe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let l=[];if(s)if(r){const a=Nl(n,u=>Je(u));l=qS(t.serverSyncTree_,o,a,s)}else{const a=Je(n);l=n0(t.serverSyncTree_,o,a,s)}else if(r){const a=Nl(n,u=>Je(u));l=YS(t.serverSyncTree_,o,a)}else{const a=Je(n);l=uo(t.serverSyncTree_,o,a)}let c=o;l.length>0&&(c=Ts(t,o)),Ht(t.eventQueue_,c,l)}function jh(t,e){sf(t,"connected",e),e===!1&&E_(t)}function b_(t,e){dt(e,(n,r)=>{sf(t,n,r)})}function sf(t,e,n){const r=new Pe("/.info/"+e),s=Je(n);t.infoData_.updateSnapshot(r,s);const o=uo(t.infoSyncTree_,r,s);Ht(t.eventQueue_,r,o)}function of(t){return t.nextWriteId_++}function S_(t,e,n){const r=XS(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(s=>{const o=Je(s).withIndex(e._queryParams.getIndex());Pd(t.serverSyncTree_,e,n,!0);let l;if(e._queryParams.loadsAllData())l=uo(t.serverSyncTree_,e._path,o);else{const c=Zi(t.serverSyncTree_,e);l=n0(t.serverSyncTree_,e._path,o,c)}return Ht(t.eventQueue_,e._path,l),$l(t.serverSyncTree_,e,n,null,!0),o},s=>(po(t,"get for query "+Ze(e)+" failed: "+s),Promise.reject(new Error(s))))}function __(t,e,n,r,s){po(t,"set",{path:e.toString(),value:n,priority:r});const o=xa(t),l=Je(n,r),c=Yu(t.serverSyncTree_,e),a=l0(l,c,o),u=of(t),g=t0(t.serverSyncTree_,e,a,u,!0);ya(t.eventQueue_,g),t.server_.put(e.toString(),l.val(!0),(h,C)=>{const b=h==="ok";b||bt("set at "+e+" failed: "+h);const P=Bn(t.serverSyncTree_,u,!b);Ht(t.eventQueue_,e,P),Rd(t,s,h,C)});const f=af(t,e);Ts(t,f),Ht(t.eventQueue_,f,[])}function C_(t,e,n,r){po(t,"update",{path:e.toString(),value:n});let s=!0;const o=xa(t),l={};if(dt(n,(c,a)=>{s=!1,l[c]=o0(Ve(e,c),Je(a),t.serverSyncTree_,o)}),s)lt("update() called with empty data.  Don't do anything."),Rd(t,r,"ok",void 0);else{const c=of(t),a=VS(t.serverSyncTree_,e,l,c);ya(t.eventQueue_,a),t.server_.merge(e.toString(),n,(u,g)=>{const f=u==="ok";f||bt("update at "+e+" failed: "+u);const h=Bn(t.serverSyncTree_,c,!f),C=h.length>0?Ts(t,e):e;Ht(t.eventQueue_,C,h),Rd(t,r,u,g)}),dt(n,u=>{const g=af(t,Ve(e,u));Ts(t,g)}),Ht(t.eventQueue_,e,[])}}function E_(t){po(t,"onDisconnectEvents");const e=xa(t),n=Dl();_d(t.onDisconnect_,Ce(),(s,o)=>{const l=o0(s,o,t.serverSyncTree_,e);Fy(n,s,l)});let r=[];_d(n,Ce(),(s,o)=>{r=r.concat(uo(t.serverSyncTree_,s,o));const l=af(t,s);Ts(t,l)}),t.onDisconnect_=Dl(),Ht(t.eventQueue_,Ce(),r)}function N_(t,e,n){let r;me(e._path)===".info"?r=Pd(t.infoSyncTree_,e,n):r=Pd(t.serverSyncTree_,e,n),p0(t.eventQueue_,e._path,r)}function Th(t,e,n){let r;me(e._path)===".info"?r=$l(t.infoSyncTree_,e,n):r=$l(t.serverSyncTree_,e,n),p0(t.eventQueue_,e._path,r)}function j_(t){t.persistentConnection_&&t.persistentConnection_.interrupt(x_)}function po(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),lt(n,...e)}function Rd(t,e,n,r){e&&Ls(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let o=s;r&&(o+=": "+r);const l=new Error(o);l.code=s,e(l)}})}function g0(t,e,n){return Yu(t.serverSyncTree_,e,n)||he.EMPTY_NODE}function lf(t,e=t.transactionQueueTree_){if(e||va(t,e),Os(e)){const n=x0(t,e);J(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&T_(t,fo(e),n)}else c0(e)&&ha(e,n=>{lf(t,n)})}function T_(t,e,n){const r=n.map(u=>u.currentWriteId),s=g0(t,e,r);let o=s;const l=s.hash();for(let u=0;u<n.length;u++){const g=n[u];J(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const f=wt(e,g.path);o=o.updateChild(f,g.currentOutputSnapshotRaw)}const c=o.val(!0),a=e;t.server_.put(a.toString(),c,u=>{po(t,"transaction put response",{path:a.toString(),status:u});let g=[];if(u==="ok"){const f=[];for(let h=0;h<n.length;h++)n[h].status=2,g=g.concat(Bn(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&f.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();va(t,tf(t.transactionQueueTree_,e)),lf(t,t.transactionQueueTree_),Ht(t.eventQueue_,e,g);for(let h=0;h<f.length;h++)Ls(f[h])}else{if(u==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{bt("transaction at "+a.toString()+" failed: "+u);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=u}Ts(t,e)}},l)}function Ts(t,e){const n=y0(t,e),r=fo(n),s=x0(t,n);return P_(t,s,r),r}function P_(t,e,n){if(e.length===0)return;const r=[];let s=[];const l=e.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){const a=e[c],u=wt(n,a.path);let g=!1,f;if(J(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)g=!0,f=a.abortReason,s=s.concat(Bn(t.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=v_)g=!0,f="maxretry",s=s.concat(Bn(t.serverSyncTree_,a.currentWriteId,!0));else{const h=g0(t,a.path,l);a.currentInputSnapshot=h;const C=e[c].update(h.val());if(C!==void 0){ma("transaction failed: Data returned ",C,a.path);let b=Je(C);typeof C=="object"&&C!=null&&pn(C,".priority")||(b=b.updatePriority(h.getPriority()));const R=a.currentWriteId,S=xa(t),x=l0(b,h,S);a.currentOutputSnapshotRaw=b,a.currentOutputSnapshotResolved=x,a.currentWriteId=of(t),l.splice(l.indexOf(R),1),s=s.concat(t0(t.serverSyncTree_,a.path,x,a.currentWriteId,a.applyLocally)),s=s.concat(Bn(t.serverSyncTree_,R,!0))}else g=!0,f="nodata",s=s.concat(Bn(t.serverSyncTree_,a.currentWriteId,!0))}Ht(t.eventQueue_,n,s),s=[],g&&(e[c].status=2,function(h){setTimeout(h,Math.floor(0))}(e[c].unwatcher),e[c].onComplete&&(f==="nodata"?r.push(()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot)):r.push(()=>e[c].onComplete(new Error(f),!1,null))))}va(t,t.transactionQueueTree_);for(let c=0;c<r.length;c++)Ls(r[c]);lf(t,t.transactionQueueTree_)}function y0(t,e){let n,r=t.transactionQueueTree_;for(n=me(e);n!==null&&Os(r)===void 0;)r=tf(r,n),e=Le(e),n=me(e);return r}function x0(t,e){const n=[];return v0(t,e,n),n.sort((r,s)=>r.order-s.order),n}function v0(t,e,n){const r=Os(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);ha(e,s=>{v0(t,s,n)})}function va(t,e){const n=Os(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,a0(e,n.length>0?n:void 0)}ha(e,r=>{va(t,r)})}function af(t,e){const n=fo(y0(t,e)),r=tf(t.transactionQueueTree_,e);return o_(r,s=>{mc(t,s)}),mc(t,r),d0(r,s=>{mc(t,s)}),n}function mc(t,e){const n=Os(e);if(n){const r=[];let s=[],o=-1;for(let l=0;l<n.length;l++)n[l].status===3||(n[l].status===1?(J(o===l-1,"All SENT items should be at beginning of queue."),o=l,n[l].status=3,n[l].abortReason="set"):(J(n[l].status===0,"Unexpected transaction status in abort"),n[l].unwatcher(),s=s.concat(Bn(t.serverSyncTree_,n[l].currentWriteId,!0)),n[l].onComplete&&r.push(n[l].onComplete.bind(null,new Error("set"),!1,null))));o===-1?a0(e,void 0):n.length=o+1,Ht(t.eventQueue_,fo(e),s);for(let l=0;l<r.length;l++)Ls(r[l])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function R_(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):bt(`Invalid query segment '${n}' in query '${t}'`)}return e}const Ph=function(t,e){const n=A_(t),r=n.namespace;n.domain==="firebase.com"&&jn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&jn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Uk();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Sy(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new Pe(n.pathString)}},A_=function(t){let e="",n="",r="",s="",o="",l=!0,c="https",a=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(c=t.substring(0,u-1),t=t.substring(u+2));let g=t.indexOf("/");g===-1&&(g=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(g,f)),g<f&&(s=I_(t.substring(g,f)));const h=R_(t.substring(Math.min(t.length,f)));u=e.indexOf(":"),u>=0?(l=c==="https"||c==="wss",a=parseInt(e.substring(u+1),10)):u=e.length;const C=e.slice(0,u);if(C.toLowerCase()==="localhost")n="localhost";else if(C.split(".").length<=2)n=C;else{const b=e.indexOf(".");r=e.substring(0,b).toLowerCase(),n=e.substring(b+1),o=r}"ns"in h&&(o=h.ns)}return{host:e,port:a,domain:n,subdomain:r,secure:l,scheme:c,pathString:s,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",D_=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let s;const o=new Array(8);for(s=7;s>=0;s--)o[s]=Ih.charAt(n%64),n=Math.floor(n/64);J(n===0,"Cannot push at time == 0");let l=o.join("");if(r){for(s=11;s>=0&&e[s]===63;s--)e[s]=0;e[s]++}else for(s=0;s<12;s++)e[s]=Math.floor(Math.random()*64);for(s=0;s<12;s++)l+=Ih.charAt(e[s]);return J(l.length===20,"nextPushId: Length should be 20."),l}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(e,n,r,s){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ze(this.snapshot.exportVal())}}class L_{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return J(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return ye(this._path)?null:Wu(this._path)}get ref(){return new hn(this._repo,this._path)}get _queryIdentifier(){const e=mh(this._queryParams),n=Iu(e);return n==="{}"?"default":n}get _queryObject(){return mh(this._queryParams)}isEqual(e){if(e=Lr(e),!(e instanceof wa))return!1;const n=this._repo===e._repo,r=Lu(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+Eb(this._path)}}class hn extends wa{constructor(e,n){super(e,n,new ca,!1)}get parent(){const e=Ry(this._path);return e===null?null:new hn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Ps{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Pe(e),r=Is(this.ref,e);return new Ps(this._node.getChild(n),r,Ye)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,s)=>e(new Ps(s,Is(this.ref,r),Ye)))}hasChild(e){const n=new Pe(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function te(t,e){return t=Lr(t),t._checkNotDeleted("ref"),e!==void 0?Is(t._root,e):t._root}function Is(t,e){return t=Lr(t),me(t._path)===null?h_("child","path",e):rf("child","path",e),new hn(t._repo,Ve(t._path,e))}function vr(t,e){t=Lr(t),ga("push",t._path),f0("push",e,t._path,!0);const n=m0(t._repo),r=D_(n),s=Is(t,r),o=Is(t,r);let l;return e!=null?l=be(o,e).then(()=>o):l=Promise.resolve(o),s.then=l.then.bind(l),s.catch=l.then.bind(l,void 0),s}function tl(t){return ga("remove",t._path),be(t,null)}function be(t,e){t=Lr(t),ga("set",t._path),f0("set",e,t._path,!1);const n=new io;return __(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function xr(t,e){p_("update",e,t._path);const n=new io;return C_(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function mt(t){t=Lr(t);const e=new w0(()=>{}),n=new ka(e);return S_(t._repo,t,n).then(r=>new Ps(r,new hn(t._repo,t._path),t._queryParams.getIndex()))}class ka{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new W_("value",this,new Ps(e.snapshotNode,new hn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new L_(this,e,n):null}matches(e){return e instanceof ka?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function z_(t,e,n,r,s){let o;if(typeof r=="object"&&(o=void 0,s=r),typeof r=="function"&&(o=r),s&&s.onlyOnce){const a=n,u=(g,f)=>{Th(t._repo,t,c),a(g,f)};u.userCallback=n.userCallback,u.context=n.context,n=u}const l=new w0(n,o||void 0),c=new ka(l);return N_(t._repo,t,c),()=>Th(t._repo,t,c)}function gt(t,e,n,r){return z_(t,"value",e,n,r)}OS(hn);US(hn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_="FIREBASE_DATABASE_EMULATOR_HOST",Ad={};let M_=!1;function F_(t,e,n,r){t.repoInfo_=new Sy(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function k0(t,e,n,r,s){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||jn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),lt("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let l=Ph(o,s),c=l.repoInfo,a;typeof process<"u"&&Xp&&(a=Xp[O_]),a?(o=`http://${a}?ns=${c.namespace}`,l=Ph(o,s),c=l.repoInfo):l.repoInfo.secure;const u=new eb(t.name,t.options,e);m_("Invalid Firebase Database URL",l),ye(l.path)||jn("Database URL must point to the root of a Firebase Database (not including a child path).");const g=$_(c,t,u,new Zk(t.name,n));return new b0(g,t)}function B_(t,e){const n=Ad[e];(!n||n[t.key]!==t)&&jn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),j_(t),delete n[t.key]}function $_(t,e,n,r){let s=Ad[e.name];s||(s={},Ad[e.name]=s);let o=s[t.toURLString()];return o&&jn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new w_(t,M_,n,r),s[t.toURLString()]=o,o}class b0{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(k_(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new hn(this._repo,Ce())),this._rootInternal}_delete(){return this._rootInternal!==null&&(B_(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&jn("Cannot call "+e+" on a deleted database.")}}function ba(t=Ek(),e){const n=bk(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=u1("database");r&&S0(n,...r)}return n}function S0(t,e,n,r={}){t=Lr(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&jn("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let o;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&jn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new el(el.OWNER);else if(r.mockUserToken){const l=typeof r.mockUserToken=="string"?r.mockUserToken:f1(r.mockUserToken,t.app.options.projectId);o=new el(l)}F_(s,e,n,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(t){cy(Ck),Tl(new Gi("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return k0(r,s,o,n)},"PUBLIC").setMultipleInstances(!0)),hs(Jp,Zp,t),hs(Jp,Zp,"esm2017")}bn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};bn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};U_();const gc=Object.freeze(Object.defineProperty({__proto__:null,DataSnapshot:Ps,Database:b0,_QueryImpl:wa,_QueryParams:ca,_ReferenceImpl:hn,_repoManagerDatabaseFromApp:k0,_setSDKVersion:cy,_validatePathString:rf,_validateWritablePath:ga,child:Is,connectDatabaseEmulator:S0,get:mt,getDatabase:ba,onValue:gt,push:vr,ref:te,remove:tl,set:be,update:xr},Symbol.toStringTag,{value:"Module"}));function H_({allPicks:t,actualScores:e,gameStatus:n,currentWeek:r,playerName:s,playerCode:o,isPoolManager:l,prizePool:c,officialWinners:a,publishedWinners:u,onLogout:g,weekCompletionStatus:f,rankMostCorrectWinners:h,rankClosestPoints:C,rankCorrectSuperBowlWinner:b,rankClosestSuperBowlPoints:P,rankMostCorrectAllWeeks:R,rankClosestPointsAllWeeks:S,isWeekComplete:x,calculateCorrectWinners:N,calculateWeeklyTotal:L,calculateTotalCorrectWinners:G,calculateGrandTotal:U}){const[B,W]=F.useState({"Week 1":!0,"Week 2":!1,"Week 3":!1,"Week 4":!1}),[pe,Y]=F.useState({}),A=E=>{W(q=>({...q,[E]:!q[E]}))},$=E=>{Y(q=>({...q,[E]:!q[E]}))},D=()=>{W({"Week 1":!0,"Week 2":!0,"Week 3":!0,"Week 4":!0})},z=()=>{W({"Week 1":!1,"Week 2":!1,"Week 3":!1,"Week 4":!1})},V=F.useMemo(()=>{if(!a||Object.keys(a).length===0)return{};if(Object.keys(a)[0].startsWith("prize"))return a;const q={},se={1:"Prize #1 - Week 1 Most Correct Predictions",2:"Prize #2 - Week 1 Closest Total Points",3:"Prize #3 - Week 2 Most Correct Predictions",4:"Prize #4 - Week 2 Closest Total Points",5:"Prize #5 - Week 3 Most Correct Predictions",6:"Prize #6 - Week 3 Closest Total Points",7:"Prize #7 - Week 4 Most Correct Predictions",8:"Prize #8 - Week 4 Closest Total Points",9:"Prize #9 - Overall 4-Week Grand Total Most Correct Predictions",10:"Prize #10 - Overall 4-Week Grand Total Closest Points"};return Object.values(a).forEach(de=>{de.prizes&&Array.isArray(de.prizes)&&de.prizes.forEach(le=>{const Ke=le.prizeNumber;let je=56;c&&(c.prizeValue?je=c.prizeValue:c.totalFees&&(je=c.totalFees*.1)),q[`prize${Ke}`]={prizeNumber:Ke,prizeName:se[Ke]||`Prize #${Ke}`,prizeValue:je,winners:le.winners||[],declaredBy:de.publishedBy||"POOL_MANAGER",declaredAt:de.publishedAt||new Date().toISOString()}})}),q},[a,c]),Z=F.useMemo(()=>{const E=[],q=h&&h("wildcard"),se=C&&C("wildcard"),de=x&&x("wildcard");E.push({prizeNumber:1,name:"Most Correct NFL Winners",week:"wildcard",weekName:"Week 1",type:"correctWinners",rankings:q||[],isComplete:de}),E.push({prizeNumber:2,name:"Closest Total Points",week:"wildcard",weekName:"Week 1",type:"pointsDifference",rankings:se||[],isComplete:de});const le=h&&h("divisional"),Ke=C&&C("divisional"),je=x&&x("divisional");E.push({prizeNumber:3,name:"Most Correct NFL Winners",week:"divisional",weekName:"Week 2",type:"correctWinners",rankings:le||[],isComplete:je}),E.push({prizeNumber:4,name:"Closest Total Points",week:"divisional",weekName:"Week 2",type:"pointsDifference",rankings:Ke||[],isComplete:je});const tt=h&&h("conference"),ue=C&&C("conference"),ut=x&&x("conference");E.push({prizeNumber:5,name:"Most Correct NFL Winners",week:"conference",weekName:"Week 3",type:"correctWinners",rankings:tt||[],isComplete:ut}),E.push({prizeNumber:6,name:"Closest Total Points",week:"conference",weekName:"Week 3",type:"pointsDifference",rankings:ue||[],isComplete:ut});const ar=b&&b(),Ms=P&&P(),ae=R&&R(),Sa=S&&S(),Ie=x&&x("superbowl");return E.push({prizeNumber:7,name:"Correct Super Bowl Winner",subname:"(Super Bowl game only)",week:"superbowl",weekName:"Week 4",type:"superBowlWinner",rankings:ar||[],isComplete:Ie}),E.push({prizeNumber:8,name:"Closest Super Bowl Points",subname:"(Super Bowl game only)",week:"superbowl",weekName:"Week 4",type:"pointsDifference",rankings:Ms||[],isComplete:Ie}),E.push({prizeNumber:9,name:"Most Correct NFL Winners",subname:"(Entire 4-week playoffs)",week:"all",weekName:"Week 4",type:"correctWinnersAll",rankings:ae||[],isComplete:Ie}),E.push({prizeNumber:10,name:"Closest Total Points",subname:"(Entire 4-week playoffs)",week:"all",weekName:"Week 4",type:"pointsDifferenceAll",rankings:Sa||[],isComplete:Ie}),E},[h,C,b,P,R,S,x]),Q=E=>{const q=`prize${E.prizeNumber}`,se=pe[q]||!1,de=E.rankings||[],le=se?de.length:Math.min(10,de.length),Ke=de.slice(0,le);let je="";E.type==="correctWinners"||E.type==="correctWinnersAll"||E.type==="superBowlWinner"?je="Players who correctly predicted the most winning teams":je="Players whose predicted scores were closest to actual scores";const tt=ue=>{if(E.type==="correctWinners")return`${ue.correctCount} correct (${ue.weekDifference} pts diff)`;if(E.type==="correctWinnersAll")return`${ue.totalCorrect} correct (${ue.grandDifference} pts diff)`;if(E.type==="superBowlWinner")return ue.pickedCorrect?` Correct (W4:${ue.week4Difference}, W3:${ue.week3Difference}, W2:${ue.week2Difference}, W1:${ue.week1Difference})`:` Incorrect (W4:${ue.week4Difference}, W3:${ue.week3Difference}, W2:${ue.week2Difference}, W1:${ue.week1Difference})`;if(E.type==="pointsDifference")return`${ue.weekDifference} pts off`;if(E.type==="pointsDifferenceAll"){const ut=`W1:${ue.week1Difference}, W2:${ue.week2Difference}, W3:${ue.week3Difference}, W4:${ue.week4Difference}`;return`${ue.grandDifference} pts off (${ut})`}return"-"};return i.jsxs("div",{className:"prize-card",children:[i.jsxs("div",{className:"prize-header",children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"5px"},children:[i.jsxs("div",{className:"prize-number",children:["PRIZE #",E.prizeNumber]}),i.jsx("div",{title:je,style:{cursor:"help",fontSize:"1.1rem",opacity:.7,transition:"opacity 0.2s"},onMouseOver:ue=>ue.target.style.opacity="1",onMouseOut:ue=>ue.target.style.opacity="0.7",children:""})]}),i.jsx("div",{className:"prize-name",children:E.name}),E.subname&&i.jsx("div",{style:{fontSize:"0.85rem",color:"#666",fontStyle:"italic"},children:E.subname}),i.jsx("div",{style:{fontSize:"0.85rem",color:"#666",fontWeight:"600",marginTop:"5px",fontStyle:"italic"},children:"Current Standings"})]}),i.jsx("div",{className:"prize-leaders",children:de.length===0?i.jsx("div",{className:"no-data",children:"No data available yet"}):i.jsxs(i.Fragment,{children:[i.jsxs("table",{className:"leaders-table",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Rank"}),i.jsx("th",{children:"Player"}),i.jsx("th",{children:"Score"})]})}),i.jsx("tbody",{children:Ke.map((ue,ut)=>{const ar=ue.rank===1,Ms=E.isComplete?"WINNER":"LEADING",ae=E.isComplete?"#28a745":"#4facfe";return i.jsxs("tr",{className:ar?"leader-first":"",children:[i.jsxs("td",{className:"rank",children:[ue.rank,ue.tied&&i.jsx("span",{style:{color:"#ff9800",marginLeft:"5px",fontSize:"0.8em"},children:"(tied)"}),ar&&i.jsx("span",{style:{marginLeft:"5px",fontSize:"0.8em"},children:""})]}),i.jsxs("td",{className:"player-name",children:[ue.playerName,ar&&i.jsxs("span",{style:{marginLeft:"8px",fontSize:"0.7rem",background:ae,color:"white",padding:"2px 6px",borderRadius:"4px",fontWeight:"600"},children:[" ",Ms]})]}),i.jsx("td",{className:"score",children:tt(ue)})]},ut)})})]}),de.length>10&&i.jsx("button",{onClick:()=>$(q),style:{marginTop:"15px",padding:"8px 16px",background:"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600",width:"100%"},children:se?" Show Top 10 Only":` Show All ${de.length} Players`})]})})]},E.prizeNumber)};return i.jsx("div",{className:"standings-page",children:i.jsxs("div",{className:"container",children:[i.jsxs("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"20px",borderRadius:"8px",marginBottom:"20px",color:"white"},children:[i.jsx("div",{style:{fontSize:"0.9rem",marginBottom:"5px"},children:" VERIFIED"}),i.jsxs("div",{style:{fontSize:"1.2rem",fontWeight:"bold",marginBottom:"5px"},children:["Viewing as: ",s]}),l&&i.jsx("div",{style:{fontSize:"0.9rem",marginBottom:"10px",color:"#ffd700",fontWeight:"600"},children:" POOL MANAGER"}),i.jsx("button",{onClick:()=>{console.log(" STANDINGS: Logout button clicked"),console.log(" STANDINGS: onLogout function:",g),console.log(" STANDINGS: Calling onLogout..."),g(),console.log(" STANDINGS: onLogout called")},style:{background:"white",color:"#764ba2",border:"none",padding:"10px 20px",borderRadius:"6px",fontSize:"0.95rem",fontWeight:"600",cursor:"pointer",marginTop:"10px",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:" Logout / Switch Entry"}),i.jsx("p",{style:{fontSize:"0.85rem",marginTop:"10px",opacity:.9,fontStyle:"italic"},children:" Playing with multiple entries? Logout to switch between your codes."})]}),i.jsx("h1",{className:"standings-title",children:" Standings & Prize Leaders"}),c&&c.totalFees>0&&i.jsxs("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"25px",borderRadius:"12px",marginBottom:"30px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[i.jsx("h2",{style:{margin:"0 0 20px 0",fontSize:"1.5rem"},children:" Prize Pool Information"}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginBottom:"15px"},children:[i.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:"15px",borderRadius:"8px"},children:[i.jsx("div",{style:{fontSize:"0.9rem",opacity:.9,marginBottom:"5px"},children:"Total Pool Fees"}),i.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:["$",c.totalFees.toFixed(2)]})]}),i.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:"15px",borderRadius:"8px"},children:[i.jsx("div",{style:{fontSize:"0.9rem",opacity:.9,marginBottom:"5px"},children:"Number of Players"}),i.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:c.numberOfPlayers})]}),i.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:"15px",borderRadius:"8px"},children:[i.jsx("div",{style:{fontSize:"0.9rem",opacity:.9,marginBottom:"5px"},children:"Entry Fee"}),i.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:["$",c.entryFee]})]}),i.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:"15px",borderRadius:"8px"},children:[i.jsx("div",{style:{fontSize:"0.9rem",opacity:.9,marginBottom:"5px"},children:"Each Prize (10%)"}),i.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:["$",c.prizeValue.toFixed(2)]})]})]}),i.jsx("div",{style:{fontSize:"0.9rem",opacity:.9},children:" 10 prizes total  Equal 10% distribution  Ties split equally"})]}),V&&Object.keys(V).length>0&&i.jsxs("div",{style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"white",padding:"25px",borderRadius:"12px",marginBottom:"30px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[i.jsx("h2",{style:{margin:"0 0 5px 0",fontSize:"1.5rem"},children:" OFFICIAL PRIZE AWARDS"}),i.jsx("div",{style:{fontSize:"0.9rem",opacity:.9,marginBottom:"20px",fontStyle:"italic"},children:"Declared by Pool Manager"}),i.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"20px"},children:Object.entries(V).sort((E,q)=>E[1].prizeNumber-q[1].prizeNumber).map(([E,q])=>i.jsxs("div",{style:{background:"rgba(255,255,255,0.95)",color:"#333",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 8px rgba(0,0,0,0.15)"},children:[i.jsxs("div",{style:{fontWeight:"bold",fontSize:"1.1rem",marginBottom:"8px",color:"#f5576c"},children:["Prize #",q.prizeNumber]}),i.jsx("div",{style:{fontSize:"0.9rem",color:"#666",marginBottom:"12px"},children:q.prizeName.replace(`Prize #${q.prizeNumber} - `,"")}),i.jsxs("div",{style:{fontSize:"0.85rem",fontWeight:"600",color:"#999",marginBottom:"12px"},children:["Prize Value: $",q.prizeValue.toFixed(2)]}),i.jsx("div",{style:{borderTop:"2px solid #f093fb",paddingTop:"12px"},children:q.winners.map((se,de)=>i.jsxs("div",{style:{padding:"8px 0",borderBottom:de<q.winners.length-1?"1px solid #eee":"none"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"10px"},children:[i.jsxs("div",{style:{fontWeight:"700",fontSize:"1rem",color:"#333"},children:[" ",se.playerName]}),i.jsxs("div",{style:{fontSize:"0.95rem",fontWeight:"600",color:"#f5576c"},children:["$",se.amount.toFixed(2)]})]}),i.jsxs("div",{style:{fontSize:"0.8rem",color:"#888",marginTop:"2px"},children:[se.percentage.toFixed(2),"% of prize"]})]},de))})]},E))})]}),i.jsx("div",{style:{background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",color:"white",padding:"20px 25px",borderRadius:"12px",marginBottom:"25px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",border:"2px solid rgba(255,255,255,0.3)"},children:i.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"15px"},children:[i.jsx("div",{style:{fontSize:"2rem",lineHeight:"1"},children:""}),i.jsxs("div",{style:{flex:1},children:[i.jsx("h3",{style:{margin:"0 0 10px 0",fontSize:"1.2rem",fontWeight:"700"},children:"How Prize Leaders Work"}),i.jsxs("div",{style:{fontSize:"0.95rem",lineHeight:"1.6",opacity:.95},children:[i.jsxs("p",{style:{margin:"0 0 10px 0"},children:["This page shows ",i.jsx("strong",{children:"current leaders"})," for each prize category based on games scored so far."]}),i.jsxs("p",{style:{margin:"0 0 10px 0"},children:[i.jsx("strong",{children:" These are NOT final results!"})," Rankings will change as more games are scored throughout the playoffs."]}),i.jsxs("p",{style:{margin:"0"},children:[i.jsx("strong",{children:"Official prize awards"})," will be declared by the Pool Manager after all games are completed and verified."]})]})]})]})}),i.jsxs("div",{style:{display:"flex",gap:"15px",justifyContent:"center",margin:"20px 0"},children:[i.jsx("button",{onClick:D,style:{padding:"10px 20px",background:"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.95rem",fontWeight:"600",transition:"all 0.2s"},onMouseOver:E=>E.target.style.background="#5568d3",onMouseOut:E=>E.target.style.background="#667eea",children:" Expand All Weeks"}),i.jsx("button",{onClick:z,style:{padding:"10px 20px",background:"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.95rem",fontWeight:"600",transition:"all 0.2s"},onMouseOver:E=>E.target.style.background="#5568d3",onMouseOut:E=>E.target.style.background="#667eea",children:" Collapse All Weeks"})]}),i.jsxs("div",{style:{marginBottom:"20px"},children:[i.jsxs("h3",{onClick:()=>A("Week 1"),style:{cursor:"pointer",userSelect:"none",display:"flex",alignItems:"center",gap:"10px",padding:"15px 20px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:"8px",transition:"all 0.3s",marginBottom:B["Week 1"]?"20px":"0",borderBottomLeftRadius:B["Week 1"]?"0":"8px",borderBottomRightRadius:B["Week 1"]?"0":"8px"},onMouseEnter:E=>{E.currentTarget.style.transform="translateX(5px)",E.currentTarget.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)"},onMouseLeave:E=>{E.currentTarget.style.transform="translateX(0)",E.currentTarget.style.boxShadow="none"},children:[i.jsx("span",{style:{fontSize:"1.2rem",transition:"transform 0.3s"},children:B["Week 1"]?"":""}),"Week 1 Prizes (Wild Card Round)"]}),B["Week 1"]&&i.jsx("div",{className:"prizes-grid",children:Z.filter(E=>E.prizeNumber>=1&&E.prizeNumber<=2).map(E=>Q(E))})]}),i.jsxs("div",{style:{marginBottom:"20px"},children:[i.jsxs("h3",{onClick:()=>A("Week 2"),style:{cursor:"pointer",userSelect:"none",display:"flex",alignItems:"center",gap:"10px",padding:"15px 20px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:"8px",transition:"all 0.3s",marginBottom:B["Week 2"]?"20px":"0",borderBottomLeftRadius:B["Week 2"]?"0":"8px",borderBottomRightRadius:B["Week 2"]?"0":"8px"},onMouseEnter:E=>{E.currentTarget.style.transform="translateX(5px)",E.currentTarget.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)"},onMouseLeave:E=>{E.currentTarget.style.transform="translateX(0)",E.currentTarget.style.boxShadow="none"},children:[i.jsx("span",{style:{fontSize:"1.2rem",transition:"transform 0.3s"},children:B["Week 2"]?"":""}),"Week 2 Prizes (Divisional Round)"]}),B["Week 2"]&&i.jsx("div",{className:"prizes-grid",children:Z.filter(E=>E.prizeNumber>=3&&E.prizeNumber<=4).map(E=>Q(E))})]}),i.jsxs("div",{style:{marginBottom:"20px"},children:[i.jsxs("h3",{onClick:()=>A("Week 3"),style:{cursor:"pointer",userSelect:"none",display:"flex",alignItems:"center",gap:"10px",padding:"15px 20px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:"8px",transition:"all 0.3s",marginBottom:B["Week 3"]?"20px":"0",borderBottomLeftRadius:B["Week 3"]?"0":"8px",borderBottomRightRadius:B["Week 3"]?"0":"8px"},onMouseEnter:E=>{E.currentTarget.style.transform="translateX(5px)",E.currentTarget.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)"},onMouseLeave:E=>{E.currentTarget.style.transform="translateX(0)",E.currentTarget.style.boxShadow="none"},children:[i.jsx("span",{style:{fontSize:"1.2rem",transition:"transform 0.3s"},children:B["Week 3"]?"":""}),"Week 3 Prizes (Conference Championships)"]}),B["Week 3"]&&i.jsx("div",{className:"prizes-grid",children:Z.filter(E=>E.prizeNumber>=5&&E.prizeNumber<=6).map(E=>Q(E))})]}),i.jsxs("div",{style:{marginBottom:"20px"},children:[i.jsxs("h3",{onClick:()=>A("Week 4"),style:{cursor:"pointer",userSelect:"none",display:"flex",alignItems:"center",gap:"10px",padding:"15px 20px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:"8px",transition:"all 0.3s",marginBottom:B["Week 4"]?"20px":"0",borderBottomLeftRadius:B["Week 4"]?"0":"8px",borderBottomRightRadius:B["Week 4"]?"0":"8px"},onMouseEnter:E=>{E.currentTarget.style.transform="translateX(5px)",E.currentTarget.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)"},onMouseLeave:E=>{E.currentTarget.style.transform="translateX(0)",E.currentTarget.style.boxShadow="none"},children:[i.jsx("span",{style:{fontSize:"1.2rem",transition:"transform 0.3s"},children:B["Week 4"]?"":""}),"Week 4 Prizes (Super Bowl)"]}),B["Week 4"]&&i.jsxs("div",{children:[i.jsxs("div",{style:{background:"#f8f9fa",padding:"15px",borderRadius:"8px",marginBottom:"20px",border:"2px solid #667eea"},children:[i.jsx("h4",{style:{margin:"0 0 15px 0",color:"#667eea",fontSize:"1.1rem",fontWeight:"bold",textAlign:"center"},children:" SUPER BOWL GAME ONLY"}),i.jsx("div",{className:"prizes-grid",children:Z.filter(E=>E.prizeNumber===7||E.prizeNumber===8).map(E=>Q(E))})]}),i.jsxs("div",{style:{background:"#fff8e1",padding:"15px",borderRadius:"8px",border:"2px solid #ffa726"},children:[i.jsx("h4",{style:{margin:"0 0 15px 0",color:"#f57c00",fontSize:"1.1rem",fontWeight:"bold",textAlign:"center"},children:" ENTIRE 4-WEEK PLAYOFFS"}),i.jsx("div",{className:"prizes-grid",children:Z.filter(E=>E.prizeNumber===9||E.prizeNumber===10).map(E=>Q(E))})]})]})]}),i.jsx("div",{className:"standings-note",children:i.jsxs("p",{children:[i.jsx("strong",{children:"Note:"})," Tied players are shown with tied indicators. Rankings use official tie-breaker rules. Pool Manager will declare official winners after all games are completed."]})})]})})}function G_({currentWeek:t,games:e,actualScores:n,teamCodes:r,onScoresFetched:s,onGameLockToggle:o,gameLocks:l,espnAutoRefresh:c}){const[a,u]=F.useState(!1),[g,f]=F.useState(null),[h,C]=F.useState(null),[b,P]=F.useState(!1),[R,S]=F.useState(!1),x=async()=>{if(!(a||R)){u(!0),C({type:"loading",message:"Fetching scores from ESPN..."});try{await s(),f(new Date),C({type:"success",message:"Scores updated successfully!"}),setTimeout(()=>C(null),3e3)}catch(B){C({type:"error",message:`Error: ${B.message}`})}finally{u(!1)}}},N=()=>{b?(c.stop(),P(!1),C({type:"info",message:"Auto-refresh stopped"})):(c.start(),P(!0),C({type:"info",message:"Auto-refresh started (every 5 minutes)"})),setTimeout(()=>C(null),3e3)},L=()=>{R?(S(!1),C({type:"info",message:"API resumed - fetching enabled"})):(S(!0),b&&(c.stop(),P(!1)),C({type:"warning",message:"API paused - all fetching disabled"})),setTimeout(()=>C(null),3e3)},G=B=>{var W;return((W=l==null?void 0:l[t])==null?void 0:W[B])===!0},U=B=>{var W,pe;return((pe=(W=n==null?void 0:n[t])==null?void 0:W[B])==null?void 0:pe.source)==="espn"};return i.jsxs("div",{className:"espn-controls",children:[i.jsxs("div",{className:"espn-header",children:[i.jsx("h3",{children:" ESPN API Controls"}),i.jsxs("div",{className:"espn-status-badges",children:[R&&i.jsx("span",{className:"status-badge paused",children:" API PAUSED"}),b&&!R&&i.jsx("span",{className:"status-badge active",children:" AUTO-REFRESH ON"}),g&&i.jsxs("span",{className:"status-badge info",children:["Last fetch: ",g.toLocaleTimeString()]})]})]}),i.jsxs("div",{className:"espn-global-controls",children:[i.jsx("button",{className:"espn-btn fetch-now",onClick:x,disabled:a||R,children:a?" Fetching...":" Fetch Scores Now"}),i.jsx("button",{className:`espn-btn auto-refresh ${b?"active":""}`,onClick:N,disabled:R,children:b?" Stop Auto-Refresh":" Start Auto-Refresh (5 min)"}),i.jsx("button",{className:`espn-btn pause-api ${R?"paused":""}`,onClick:L,children:R?" Resume API":" Pause API"})]}),h&&i.jsx("div",{className:`fetch-status ${h.type}`,children:h.message}),i.jsxs("div",{className:"game-overrides",children:[i.jsx("h4",{children:"Game Override Controls"}),i.jsxs("p",{className:"override-info",children:[" Lock = Manual entry only (ignore API)",i.jsx("br",{})," Unlock = Auto-update from ESPN API"]}),i.jsx("div",{className:"game-override-list",children:e.map(B=>{var D,z,V,Z,Q;const W=G(B.id),pe=U(B.id),Y=(D=n==null?void 0:n[t])==null?void 0:D[B.id],A=((V=(z=r==null?void 0:r[t])==null?void 0:z[B.id])==null?void 0:V.team1)||B.team1,$=((Q=(Z=r==null?void 0:r[t])==null?void 0:Z[B.id])==null?void 0:Q.team2)||B.team2;return i.jsxs("div",{className:"game-override-item",children:[i.jsxs("div",{className:"game-info",children:[i.jsxs("span",{className:"game-matchup",children:[A," vs ",$]}),Y&&i.jsxs("span",{className:"game-scores",children:[n[t][B.id].team1," - ",n[t][B.id].team2]})]}),i.jsxs("div",{className:"game-status-badges",children:[pe&&!W&&i.jsx("span",{className:"game-badge api",children:" From API"}),W&&i.jsx("span",{className:"game-badge manual",children:" Manual Entry"}),!Y&&i.jsx("span",{className:"game-badge no-score",children:"No Score"})]}),i.jsx("button",{className:`lock-btn ${W?"locked":"unlocked"}`,onClick:()=>o(B.id),title:W?"Unlock to allow API updates":"Lock to prevent API updates",children:W?" Locked":" Unlocked"})]},B.id)})})]}),i.jsxs("div",{className:"espn-help",children:[i.jsx("h4",{children:" How It Works:"}),i.jsxs("ul",{children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Fetch Now:"})," Manually fetch latest scores from ESPN"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Auto-Refresh:"})," Automatically fetch every 5 minutes"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Pause API:"})," Stop all API fetching (use manual entry only)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Lock Game:"})," Prevent API from overwriting your manual score for that game"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Unlock Game:"})," Allow API to update score automatically"]})]}),i.jsxs("p",{className:"help-note",children:[i.jsx("strong",{children:"Tip:"})," Lock a game if you need to manually correct a score that ESPN has wrong."]})]})]})}const V_="https://site.api.espn.com/apis/site/v2/sports/football/nfl";async function Y_(){try{const t=await fetch(`${V_}/scoreboard`);if(!t.ok)throw new Error(`ESPN API error: ${t.status}`);const e=await t.json();return K_(e)}catch(t){return console.error("Error fetching ESPN scores:",t),{success:!1,error:t.message,games:[]}}}function K_(t){return!t.events||t.events.length===0?{success:!0,games:[],message:"No games currently available"}:{success:!0,games:t.events.map(n=>{const r=n.competitions[0],s=r.status,o=r.competitors,l=o.find(b=>b.homeAway==="away"),c=o.find(b=>b.homeAway==="home"),a=l.team.abbreviation,u=c.team.abbreviation,g=parseInt(l.score)||0,f=parseInt(c.score)||0,h=Q_(s);return{espnGameId:n.id,awayTeam:{abbreviation:a,fullName:l.team.displayName,score:g},homeTeam:{abbreviation:u,fullName:c.team.displayName,score:f},status:h.status,statusText:h.text,period:h.period,clock:h.clock,isFinal:h.isFinal,isLive:h.isLive,isScheduled:h.isScheduled,startTime:n.date,lastUpdated:new Date().toISOString()}}),fetchedAt:new Date().toISOString()}}function Q_(t){const e=t.type.name,n=t.period,r=t.displayClock,s=t.type.detail;let o="scheduled",l=s,c=!1,a=!1,u=!1;return e==="STATUS_SCHEDULED"?(o="scheduled",l="Scheduled",u=!0):e==="STATUS_IN_PROGRESS"?(o="live",c=!0,n===1?l=`1st Quarter - ${r}`:n===2?l=`2nd Quarter - ${r}`:n===3?l=`3rd Quarter - ${r}`:n===4?l=`4th Quarter - ${r}`:n>4&&(l=`OT ${n-4} - ${r}`)):e==="STATUS_HALFTIME"?(o="halftime",l="Halftime",c=!0):e==="STATUS_END_PERIOD"?(o="live",l=`End of ${n===1?"1st":n===2?"2nd":n===3?"3rd":"4th"} Quarter`,c=!0):(e==="STATUS_FINAL"||e==="STATUS_FINAL_OVERTIME")&&(o="final",a=!0,e==="STATUS_FINAL_OVERTIME"?l=n>4?`Final/OT${n-4}`:"Final/OT":l="Final"),{status:o,text:l,period:n,clock:r||"",isLive:c,isFinal:a,isScheduled:u}}function q_(t,e,n,r){if(!r||!r[n])return null;const s=e[n].games,o=r[n];for(const l of s){const c=o[l.id];if(!c)continue;const a=c.team1===t.awayTeam.abbreviation||c.team1===t.homeTeam.abbreviation,u=c.team2===t.awayTeam.abbreviation||c.team2===t.homeTeam.abbreviation;if(a&&u){const g=c.team1===t.awayTeam.abbreviation;return{gameId:l.id,team1Score:g?t.awayTeam.score:t.homeTeam.score,team2Score:g?t.homeTeam.score:t.awayTeam.score,status:t.status,statusText:t.statusText,period:t.period,clock:t.clock,isFinal:t.isFinal,isLive:t.isLive,espnGameId:t.espnGameId}}}return null}class X_{constructor(e,n=5){this.onFetch=e,this.intervalMinutes=n,this.intervalId=null,this.isRunning=!1}start(){if(this.isRunning){console.log("Auto-refresh already running");return}console.log(`Starting auto-refresh every ${this.intervalMinutes} minutes`),this.isRunning=!0,this.onFetch(),this.intervalId=setInterval(()=>{console.log("Auto-fetching ESPN scores..."),this.onFetch()},this.intervalMinutes*60*1e3)}stop(){if(!this.isRunning){console.log("Auto-refresh not running");return}console.log("Stopping auto-refresh"),clearInterval(this.intervalId),this.intervalId=null,this.isRunning=!1}isActive(){return this.isRunning}setInterval(e){this.intervalMinutes=e,this.isRunning&&(this.stop(),this.start())}}const J_={wildcard:{name:"Week 1 - Wildcard Round",shortName:"Wildcard",deadline:"Fri Jan 9, 11:59 PM PST",number:1},divisional:{name:"Week 2 - Divisional Round",shortName:"Divisional",deadline:"Fri Jan 16, 11:59 PM PST",number:2},conference:{name:"Week 3 - Conference Championships",shortName:"Conference",deadline:"Fri Jan 23, 11:59 PM PST",number:3},superbowl:{name:"Week 4 - Super Bowl LIX",shortName:"Super Bowl",deadline:"Fri Feb 6, 11:59 PM PST",number:4}};function Z_(t,e,n,r){return n?{icon:"",text:"LOCKED",color:"gray",className:"locked"}:r?{icon:"",text:"EDITING NOW",color:"purple",className:"editing"}:e&&e.complete?{icon:"",text:"ALL PICKS SAVED",color:"green",className:"saved"}:{icon:"",text:"READY TO PICK",color:"blue",className:"ready"}}function eC({currentWeek:t,onWeekChange:e,weekPicks:n={},weekLockStatus:r={},hasUnsavedChanges:s=!1}){const o=l=>{l!==t&&e(l)};return i.jsxs("div",{className:"week-selector-container",children:[i.jsxs("div",{className:"week-selector-header",children:[i.jsx("h2",{children:" SELECT WEEK TO MAKE/EDIT YOUR PICKS"}),s&&i.jsx("div",{className:"unsaved-indicator",children:" You have unsaved changes"})]}),i.jsx("div",{className:"week-cards",children:Object.entries(J_).map(([l,c])=>{var h;const a=l===t,u=((h=r[l])==null?void 0:h.locked)||!1,g=n[l],f=Z_(l,g,u,a);return i.jsxs("div",{className:`week-card ${f.className} ${a?"current":""}`,onClick:()=>o(l),role:"button",tabIndex:0,onKeyPress:C=>{(C.key==="Enter"||C.key===" ")&&o(l)},children:[i.jsxs("div",{className:"week-card-header",children:[i.jsxs("div",{className:"week-number",children:["WEEK ",c.number]}),a&&i.jsx("div",{className:"current-indicator",children:" YOU ARE HERE "})]}),i.jsxs("div",{className:"week-card-title",children:[l==="superbowl"?"":""," ",c.shortName]}),i.jsxs("div",{className:"week-card-deadline",children:[l==="superbowl"?"Game Day: ":"Deadline: ",c.deadline]}),i.jsxs("div",{className:`week-card-status status-${f.className}`,children:[i.jsx("span",{className:"status-icon",children:f.icon}),i.jsx("span",{className:"status-text",children:f.text})]}),u&&i.jsx("div",{className:"locked-overlay",children:i.jsx("div",{className:"locked-message",children:" Cannot Edit"})})]},l)})}),i.jsx("div",{className:"week-selector-footer",children:i.jsx("p",{className:"info-text",children:" You can make picks for all weeks in advance, even if teams aren't known yet."})})]})}function tC({currentWeek:t,onDiscard:e,onSaveAndSwitch:n,onCancel:r}){const s={wildcard:"Week 1",divisional:"Week 2",conference:"Week 3",superbowl:"Week 4"};return i.jsx("div",{className:"popup-overlay",children:i.jsxs("div",{className:"popup-container warning-popup",children:[i.jsxs("div",{className:"popup-header warning",children:[i.jsx("span",{className:"popup-icon",children:""}),i.jsx("h3",{children:"UNSAVED CHANGES"})]}),i.jsxs("div",{className:"popup-body",children:[i.jsxs("p",{children:["You have unsaved changes for ",s[t],"."]}),i.jsx("p",{children:"What would you like to do?"})]}),i.jsxs("div",{className:"popup-buttons",children:[i.jsx("button",{className:"popup-btn btn-secondary",onClick:e,children:"Discard Changes"}),i.jsx("button",{className:"popup-btn btn-primary",onClick:n,children:"Save & Switch"}),i.jsx("button",{className:"popup-btn btn-neutral",onClick:r,children:"Cancel"})]})]})})}function nC({onKeepEditing:t,onDiscard:e}){return i.jsx("div",{className:"popup-overlay",children:i.jsxs("div",{className:"popup-container warning-popup",children:[i.jsxs("div",{className:"popup-header warning",children:[i.jsx("span",{className:"popup-icon",children:""}),i.jsx("h3",{children:"DISCARD CHANGES?"})]}),i.jsxs("div",{className:"popup-body",children:[i.jsx("p",{children:"Your changes will not be saved."}),i.jsx("p",{children:"Your previously saved picks will remain unchanged in the system."})]}),i.jsxs("div",{className:"popup-buttons",children:[i.jsx("button",{className:"popup-btn btn-primary",onClick:t,children:"Keep Editing"}),i.jsx("button",{className:"popup-btn btn-danger",onClick:e,children:"Discard Changes"})]})]})})}function rC({missingGames:t,totalGames:e,onClose:n}){return i.jsx("div",{className:"popup-overlay",children:i.jsxs("div",{className:"popup-container error-popup",children:[i.jsxs("div",{className:"popup-header error",children:[i.jsx("span",{className:"popup-icon",children:""}),i.jsx("h3",{children:"CANNOT SAVE - INCOMPLETE ENTRY"})]}),i.jsxs("div",{className:"popup-body",children:[i.jsx("p",{children:"You must predict scores for ALL games."}),i.jsxs("p",{className:"count-text",children:["Completed: ",i.jsx("strong",{children:e-t.length})," of ",i.jsx("strong",{children:e})," games "]}),i.jsxs("div",{className:"missing-games-list",children:[i.jsx("p",{children:i.jsx("strong",{children:"Missing scores for:"})}),i.jsx("ul",{children:t.map((r,s)=>i.jsxs("li",{children:[" Game ",s+1,": ",r.team1," vs ",r.team2]},s))})]}),i.jsx("p",{className:"instruction-text",children:"Please fill in all games before saving."})]}),i.jsx("div",{className:"popup-buttons",children:i.jsx("button",{className:"popup-btn btn-primary",onClick:n,children:"OK - Go Back and Complete"})})]})})}function sC({invalidScores:t,onClose:e}){return i.jsx("div",{className:"popup-overlay",children:i.jsxs("div",{className:"popup-container error-popup",children:[i.jsxs("div",{className:"popup-header error",children:[i.jsx("span",{className:"popup-icon",children:""}),i.jsx("h3",{children:"INVALID SCORES"})]}),i.jsxs("div",{className:"popup-body",children:[i.jsx("p",{children:"All scores must be between 10 and 50."}),i.jsxs("div",{className:"invalid-scores-list",children:[i.jsx("p",{children:i.jsx("strong",{children:"Invalid scores:"})}),i.jsx("ul",{children:t.map((n,r)=>i.jsxs("li",{children:[" Game ",r+1," (",n.team,"): ",i.jsx("strong",{children:n.score})," (",n.score<10?"too low":"too high",")"]},r))})]}),i.jsx("p",{className:"instruction-text",children:"Please fix these scores."})]}),i.jsx("div",{className:"popup-buttons",children:i.jsx("button",{className:"popup-btn btn-primary",onClick:e,children:"OK - Go Back and Fix"})})]})})}function iC({weekName:t,deadline:e,onClose:n}){return i.jsx("div",{className:"popup-overlay",children:i.jsxs("div",{className:"popup-container success-popup",children:[i.jsxs("div",{className:"popup-header success",children:[i.jsx("span",{className:"popup-icon",children:""}),i.jsx("h3",{children:"PICKS SAVED SUCCESSFULLY!"})]}),i.jsxs("div",{className:"popup-body",children:[i.jsxs("p",{children:["Your ",t," picks have been saved."]}),i.jsx("p",{children:"You can edit them anytime before the deadline:"}),i.jsx("p",{className:"deadline-text",children:i.jsx("strong",{children:e})})]}),i.jsx("div",{className:"popup-buttons",children:i.jsx("button",{className:"popup-btn btn-success",onClick:n,children:"OK"})})]})})}function oC({onClose:t}){return i.jsx("div",{className:"popup-overlay",children:i.jsxs("div",{className:"popup-container info-popup",children:[i.jsxs("div",{className:"popup-header info",children:[i.jsx("span",{className:"popup-icon",children:""}),i.jsx("h3",{children:"NO CHANGES TO SAVE"})]}),i.jsxs("div",{className:"popup-body",children:[i.jsx("p",{children:"You haven't made any changes to your picks."}),i.jsx("p",{children:"Your picks are already saved."})]}),i.jsx("div",{className:"popup-buttons",children:i.jsx("button",{className:"popup-btn btn-primary",onClick:t,children:"OK"})})]})})}function lC({tiedGames:t,gameData:e,onClose:n}){return i.jsx("div",{className:"popup-overlay",children:i.jsxs("div",{className:"popup-container error-popup",children:[i.jsxs("div",{className:"popup-header error",children:[i.jsx("span",{className:"popup-icon",children:""}),i.jsx("h3",{children:"PLAYOFF GAMES CANNOT END IN A TIE!"})]}),i.jsxs("div",{className:"popup-body",children:[i.jsx("p",{style:{fontWeight:"bold",marginBottom:"15px"},children:"The following game(s) have tied scores:"}),i.jsx("ul",{style:{listStyle:"none",padding:0,marginBottom:"15px"},children:t.map(r=>{const s=e.find(o=>o.id===r);return i.jsxs("li",{style:{padding:"8px",background:"#ffebee",border:"1px solid #ef5350",borderRadius:"4px",marginBottom:"8px",color:"#c62828"},children:[" ",s.team1," vs. ",s.team2]},r)})}),i.jsx("p",{style:{fontStyle:"italic",color:"#666"},children:"NFL Playoff games go to overtime until there's a winner!"}),i.jsx("p",{style:{fontWeight:"bold"},children:"Please change the scores so one team wins."})]}),i.jsx("div",{className:"popup-buttons",children:i.jsx("button",{className:"popup-btn btn-primary",onClick:n,children:"Fix Scores"})})]})})}const _0={1:{name:"Most Correct Predictions",week:"wildcard",weekName:"Week 1"},2:{name:"Closest Total Points",week:"wildcard",weekName:"Week 1"},3:{name:"Most Correct Predictions",week:"divisional",weekName:"Week 2"},4:{name:"Closest Total Points",week:"divisional",weekName:"Week 2"},5:{name:"Most Correct Predictions",week:"conference",weekName:"Week 3"},6:{name:"Closest Total Points",week:"conference",weekName:"Week 3"},7:{name:"Most Correct Predictions",week:"superbowl",weekName:"Week 4"},8:{name:"Closest Total Points",week:"superbowl",weekName:"Week 4"},9:{name:"Overall Most Correct Predictions",week:"all",weekName:"All Weeks"},10:{name:"Overall Closest Total Points",week:"all",weekName:"All Weeks"}};function aC(t,e,n){var r;if(t.week==="all"){let s=0,o=0;return Object.keys(n).forEach(l=>{const c=n[l].games;s+=c.length,c.forEach(a=>{var g;const u=(g=e[l])==null?void 0:g[a.id];if(u){const f=parseInt(u.team1),h=parseInt(u.team2);!isNaN(f)&&!isNaN(h)&&o++}})}),o===0?{status:"NOT_STARTED",gamesCompleted:0,totalGames:s,message:"First game Saturday, January 10, 2026! Standings will update as games finish."}:o<s?{status:"LIVE",gamesCompleted:o,totalGames:s,message:`LIVE NOW! ${o} of ${s} playoff games completed. Standings updating in real-time!`}:{status:"COMPLETE",gamesCompleted:o,totalGames:s,message:"Playoffs complete! Final standings shown above."}}else{const s=((r=n[t.week])==null?void 0:r.games)||[],o=s.length;let l=0;return s.forEach(c=>{var u;const a=(u=e[t.week])==null?void 0:u[c.id];if(a){const g=parseInt(a.team1),f=parseInt(a.team2);!isNaN(g)&&!isNaN(f)&&l++}}),l===0?{status:"NOT_STARTED",gamesCompleted:0,totalGames:o,message:"Games not started yet. Standings will update as games finish!"}:l<o?{status:"LIVE",gamesCompleted:l,totalGames:o,message:`LIVE NOW! ${l} of ${o} games completed. Standings changing in real-time!`}:{status:"COMPLETE",gamesCompleted:l,totalGames:o,message:"All games complete! Final standings shown above."}}}function cC(t,e,n,r){var u,g,f,h;const s=_0[t],o=[1,3,5,7,9].includes(t);let l=[],c={},a=[];if(s.week==="all"){l=e,c=n,Object.keys(r).forEach(b=>{a=a.concat(r[b].games.map(P=>({...P,week:b})))});const C={};l.forEach(b=>{C[b.playerCode]||(C[b.playerCode]={playerCode:b.playerCode,playerName:b.playerName,weeklyPicks:[]}),C[b.playerCode].weeklyPicks.push(b)}),l=Object.values(C)}else l=e.filter(C=>C.week===s.week),c=n[s.week]||{},a=((u=r[s.week])==null?void 0:u.games)||[];if(l.length===0)return{leaders:[],allPlayers:[],hasTie:!1,tieCount:0};if(o){let C=0;a.forEach(x=>{var L;const N=s.week==="all"?(L=n[x.week])==null?void 0:L[x.id]:c[x.id];N&&(C+=(parseInt(N.team1)||0)+(parseInt(N.team2)||0))});const b=l.map(x=>{let N=0,L=0;(x.weeklyPicks||[x]).forEach(B=>{a.forEach(W=>{var Q,E;const pe=(Q=B.predictions)==null?void 0:Q[W.id],Y=s.week==="all"?(E=n[W.week])==null?void 0:E[W.id]:c[W.id];if(!pe||!Y)return;const A=parseInt(Y.team1),$=parseInt(Y.team2),D=parseInt(pe.team1),z=parseInt(pe.team2);if(isNaN(A)||isNaN($)||isNaN(D)||isNaN(z))return;L+=D+z;const V=D>z?"team1":z>D?"team2":"tie",Z=A>$?"team1":$>A?"team2":"tie";V!=="tie"&&Z!=="tie"&&V===Z&&N++})});const U=Math.abs(L-C);return{playerCode:x.playerCode,playerName:x.playerName,score:N,actualTotal:C,playerTotal:L,difference:U}});b.sort((x,N)=>x.score!==N.score?N.score-x.score:x.difference-N.difference);const P=((g=b[0])==null?void 0:g.score)||0,R=((f=b[0])==null?void 0:f.difference)||0,S=b.filter(x=>x.score===P&&x.difference===R);return s.name==="Most Correct Predictions"&&s.weekName==="Week 1"&&(console.log(" WEEK 1 PRIZE #1 - MOST CORRECT WINNERS DEBUG:"),console.log("Top 5 players after sort:",b.slice(0,5).map(x=>({name:x.playerName,correctWinners:x.score,predictedTotal:x.playerTotal,actualTotal:x.actualTotal,difference:x.difference}))),console.log("topScore (most correct):",P),console.log("topDifference (closest):",R),console.log("tiedLeaders:",S.map(x=>x.playerName)),console.log("hasTie:",S.length>1)),{leaders:S,allPlayers:b,hasTie:S.length>1,tieCount:S.length,actualTotal:C}}else{let C=0;a.forEach(S=>{var N;const x=s.week==="all"?(N=n[S.week])==null?void 0:N[S.id]:c[S.id];x&&(C+=(parseInt(x.team1)||0)+(parseInt(x.team2)||0))});const b=l.map(S=>{let x=0;(S.weeklyPicks||[S]).forEach(G=>{a.forEach(U=>{var W;const B=(W=G.predictions)==null?void 0:W[U.id];B&&(x+=(parseInt(B.team1)||0)+(parseInt(B.team2)||0))})});const L=Math.abs(x-C);return{playerCode:S.playerCode,playerName:S.playerName,score:x,actualTotal:C,difference:L}});b.sort((S,x)=>S.difference-x.difference);const P=((h=b[0])==null?void 0:h.difference)||0,R=b.filter(S=>S.difference===P);return{leaders:R,allPlayers:b,hasTie:R.length>1,tieCount:R.length,actualTotal:C}}}function ai({prizeNumber:t,allPicks:e,actualScores:n,weekData:r,officialWinner:s=null}){const[o,l]=F.useState(null),[c,a]=F.useState(!0),u=_0[t],g=[1,3,5,7,9].includes(t);if(F.useEffect(()=>{try{const R=cC(t,e,n,r);l(R),a(!1)}catch(R){console.error(`Error calculating leaders for Prize ${t}:`,R),a(!1)}},[t,e,n,r]),c)return i.jsxs("div",{className:"leader-card loading",children:[i.jsx("div",{className:"leader-card-header",children:i.jsxs("h3",{children:["Prize #",t," - ",u.name]})}),i.jsx("div",{className:"leader-card-body",children:i.jsx("p",{children:"Calculating leaders..."})})]});if(!o||o.allPlayers.length===0)return i.jsxs("div",{className:"leader-card no-data",children:[i.jsxs("div",{className:"leader-card-header",children:[i.jsxs("h3",{children:["Prize #",t," - ",u.name]}),i.jsx("span",{className:"prize-week",children:u.weekName})]}),i.jsx("div",{className:"leader-card-body",children:i.jsx("p",{children:"No picks available yet."})})]});const{leaders:f,allPlayers:h,hasTie:C,tieCount:b}=o,P=aC(u,n,r);return i.jsxs("div",{className:`leader-card ${C?"has-tie":""}`,children:[i.jsxs("div",{className:"leader-card-header",children:[i.jsxs("h3",{children:["Prize #",t," - ",u.name]}),i.jsx("span",{className:"prize-week",children:u.weekName})]}),i.jsxs("div",{className:"leader-card-body",children:[i.jsxs("div",{className:`game-status ${P.status.toLowerCase()}`,children:[i.jsxs("div",{className:"status-badge",children:[P.status==="NOT_STARTED"&&" NOT STARTED",P.status==="LIVE"&&" LIVE",P.status==="COMPLETE"&&" COMPLETE"]}),i.jsx("div",{className:"status-details",children:P.status!=="NOT_STARTED"&&i.jsxs("span",{className:"games-count",children:[P.gamesCompleted," of ",P.totalGames," games"]})}),i.jsx("p",{className:"status-message",children:P.message})]}),C&&i.jsxs("div",{className:"tie-warning",children:[" ",b,"-WAY TIE FOR 1ST PLACE!"]}),C&&i.jsxs("div",{className:"tied-leaders-section",children:[i.jsx("h4",{children:" TIED FOR 1ST PLACE:"}),i.jsx("div",{className:"leaders-list",children:f.map((R,S)=>i.jsxs("div",{className:`leader-item ${(s==null?void 0:s.playerCode)===R.playerCode?"official-winner":"tied-leader"}`,children:[i.jsxs("span",{className:"leader-rank",children:[S+1,"."]}),i.jsxs("span",{className:"leader-name",children:[R.playerName,(s==null?void 0:s.playerCode)===R.playerCode?i.jsx("span",{className:"official-badge",style:{marginLeft:"8px"},children:" OFFICIAL WINNER"}):i.jsx("span",{className:"leading-badge",style:{marginLeft:"8px"},children:" LEADING"})]}),i.jsx("span",{className:"leader-score",children:g?` Correctly predicted ${R.score} NFL winning teams (out of ${P.totalGames})`:`${R.score} pts  Actual: ${R.actualTotal||0} pts  Off by: ${R.difference} pts`})]},S))})]}),C&&h.length>b&&i.jsxs("div",{className:"next-in-line-section",children:[i.jsx("h4",{children:" NEXT IN LINE:"}),i.jsx("div",{className:"leaders-list",children:h.slice(b,b+10).map((R,S)=>i.jsxs("div",{className:"leader-item",children:[i.jsxs("span",{className:"leader-rank",children:[b+S+1,"."]}),i.jsx("span",{className:"leader-name",children:R.playerName}),i.jsx("span",{className:"leader-score",children:g?` Correctly predicted ${R.score} NFL winning teams (out of ${P.totalGames})`:`${R.score} pts  Actual: ${R.actualTotal||0} pts  Off by: ${R.difference} pts`})]},S))})]}),!C&&i.jsxs("div",{className:"all-players-section",children:[i.jsx("h4",{children:" ALL PLAYERS RANKED:"}),i.jsx("div",{className:"leaders-list",children:h.map((R,S)=>i.jsxs("div",{className:`leader-item ${S===0&&(s==null?void 0:s.playerCode)===R.playerCode?"official-winner":""}`,children:[i.jsxs("span",{className:"leader-rank",children:[S+1,"."]}),i.jsxs("span",{className:"leader-name",children:[R.playerName,S===0&&((s==null?void 0:s.playerCode)===R.playerCode?i.jsx("span",{className:"official-badge",style:{marginLeft:"8px"},children:" OFFICIAL WINNER"}):i.jsx("span",{className:"leading-badge",style:{marginLeft:"8px"},children:" LEADING"}))]}),i.jsx("span",{className:"leader-score",children:g?`${R.score} correct`:`${R.score} pts  Actual: ${R.actualTotal||0} pts  Off by: ${R.difference} pts`})]},S))})]}),!s&&i.jsx("div",{className:"no-official-winner",children:i.jsx("em",{children:"No official winner declared yet"})})]})]})}function dC({allPicks:t,actualScores:e,games:n,officialWinners:r,weekData:s}){const[o,l]=F.useState({"Week 1":!0,"Week 2":!1,"Week 3":!1,"Week 4":!1,"Grand Prizes":!1}),c=f=>{l(h=>({...h,[f]:!h[f]}))},a=()=>{l({"Week 1":!0,"Week 2":!0,"Week 3":!0,"Week 4":!0,"Grand Prizes":!0})},u=()=>{l({"Week 1":!1,"Week 2":!1,"Week 3":!1,"Week 4":!1,"Grand Prizes":!1})},g=f=>({cursor:"pointer",userSelect:"none",display:"flex",alignItems:"center",gap:"10px",padding:"15px 20px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:"8px",transition:"all 0.3s",marginBottom:f?"20px":"0",borderBottomLeftRadius:f?"0":"8px",borderBottomRightRadius:f?"0":"8px"});return i.jsxs("div",{className:"leaders-section",children:[i.jsx("h2",{children:" Prize Leaders"}),i.jsx("p",{className:"leaders-description",children:"Current standings for all 10 prizes. Winners will be officially announced by the Pool Manager."}),i.jsxs("div",{style:{display:"flex",gap:"15px",justifyContent:"center",margin:"20px 0"},children:[i.jsx("button",{onClick:a,style:{padding:"10px 20px",background:"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.95rem",fontWeight:"600",transition:"all 0.2s"},onMouseOver:f=>f.target.style.background="#5568d3",onMouseOut:f=>f.target.style.background="#667eea",children:" Expand All Weeks"}),i.jsx("button",{onClick:u,style:{padding:"10px 20px",background:"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.95rem",fontWeight:"600",transition:"all 0.2s"},onMouseOver:f=>f.target.style.background="#5568d3",onMouseOut:f=>f.target.style.background="#667eea",children:" Collapse All Weeks"})]}),i.jsxs("div",{style:{marginBottom:"20px"},children:[i.jsxs("h3",{onClick:()=>c("Week 1"),style:g(o["Week 1"]),onMouseEnter:f=>{f.currentTarget.style.transform="translateX(5px)",f.currentTarget.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)"},onMouseLeave:f=>{f.currentTarget.style.transform="translateX(0)",f.currentTarget.style.boxShadow="none"},children:[i.jsx("span",{style:{fontSize:"1.2rem"},children:o["Week 1"]?"":""}),"Week 1 Prizes (Wild Card Round)"]}),o["Week 1"]&&i.jsx("div",{className:"prize-grid",children:[1,2].map(f=>i.jsx(ai,{prizeNumber:f,allPicks:t,actualScores:e,weekData:s,officialWinner:r==null?void 0:r[f]},f))})]}),i.jsxs("div",{style:{marginBottom:"20px"},children:[i.jsxs("h3",{onClick:()=>c("Week 2"),style:g(o["Week 2"]),onMouseEnter:f=>{f.currentTarget.style.transform="translateX(5px)",f.currentTarget.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)"},onMouseLeave:f=>{f.currentTarget.style.transform="translateX(0)",f.currentTarget.style.boxShadow="none"},children:[i.jsx("span",{style:{fontSize:"1.2rem"},children:o["Week 2"]?"":""}),"Week 2 Prizes (Divisional Round)"]}),o["Week 2"]&&i.jsx("div",{className:"prize-grid",children:[3,4].map(f=>i.jsx(ai,{prizeNumber:f,allPicks:t,actualScores:e,weekData:s,officialWinner:r==null?void 0:r[f]},f))})]}),i.jsxs("div",{style:{marginBottom:"20px"},children:[i.jsxs("h3",{onClick:()=>c("Week 3"),style:g(o["Week 3"]),onMouseEnter:f=>{f.currentTarget.style.transform="translateX(5px)",f.currentTarget.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)"},onMouseLeave:f=>{f.currentTarget.style.transform="translateX(0)",f.currentTarget.style.boxShadow="none"},children:[i.jsx("span",{style:{fontSize:"1.2rem"},children:o["Week 3"]?"":""}),"Week 3 Prizes (Conference Championships)"]}),o["Week 3"]&&i.jsx("div",{className:"prize-grid",children:[5,6].map(f=>i.jsx(ai,{prizeNumber:f,allPicks:t,actualScores:e,weekData:s,officialWinner:r==null?void 0:r[f]},f))})]}),i.jsxs("div",{style:{marginBottom:"20px"},children:[i.jsxs("h3",{onClick:()=>c("Week 4"),style:g(o["Week 4"]),onMouseEnter:f=>{f.currentTarget.style.transform="translateX(5px)",f.currentTarget.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)"},onMouseLeave:f=>{f.currentTarget.style.transform="translateX(0)",f.currentTarget.style.boxShadow="none"},children:[i.jsx("span",{style:{fontSize:"1.2rem"},children:o["Week 4"]?"":""}),"Week 4 Prizes (Super Bowl)"]}),o["Week 4"]&&i.jsx("div",{className:"prize-grid",children:[7,8].map(f=>i.jsx(ai,{prizeNumber:f,allPicks:t,actualScores:e,weekData:s,officialWinner:r==null?void 0:r[f]},f))})]}),i.jsxs("div",{style:{marginBottom:"20px"},children:[i.jsxs("h3",{onClick:()=>c("Grand Prizes"),style:g(o["Grand Prizes"]),onMouseEnter:f=>{f.currentTarget.style.transform="translateX(5px)",f.currentTarget.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)"},onMouseLeave:f=>{f.currentTarget.style.transform="translateX(0)",f.currentTarget.style.boxShadow="none"},children:[i.jsx("span",{style:{fontSize:"1.2rem"},children:o["Grand Prizes"]?"":""}),"Grand Prizes (All Weeks Combined)"]}),o["Grand Prizes"]&&i.jsx("div",{className:"prize-grid",children:[9,10].map(f=>i.jsx(ai,{prizeNumber:f,allPicks:t,actualScores:e,weekData:s,officialWinner:r==null?void 0:r[f]},f))})]})]})}const uC=({week:t,weekName:e,prizes:n,allPlayers:r,totalPool:s,prizeAmount:o,onPublish:l,onCancel:c,onOverride:a})=>{const[u,g]=F.useState(null),f={1:"Prize #1 - Week 1 Most Correct Predictions",2:"Prize #2 - Week 1 Closest Total Points",3:"Prize #3 - Week 2 Most Correct Predictions",4:"Prize #4 - Week 2 Closest Total Points",5:"Prize #5 - Week 3 Most Correct Predictions",6:"Prize #6 - Week 3 Closest Total Points",7:"Prize #7 - Week 4 Most Correct Predictions",8:"Prize #8 - Week 4 Closest Total Points",9:"Prize #9 - Overall 4-Week Grand Total Most Correct Predictions",10:"Prize #10 - Overall 4-Week Grand Total Closest Points"},C=(b=>({wildcard:[1,2],divisional:[3,4],conference:[5,6],superbowl:[7,8],grand:[9,10]})[b]||[])(t);return i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",zIndex:1e4,overflowY:"auto",padding:"20px"},children:i.jsxs("div",{style:{maxWidth:"900px",margin:"0 auto",backgroundColor:"#fff",borderRadius:"12px",padding:"0"},children:[i.jsxs("div",{style:{padding:"20px 30px",backgroundColor:"#2196F3",color:"#fff",borderTopLeftRadius:"12px",borderTopRightRadius:"12px",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"10px"},children:[i.jsxs("div",{children:[i.jsx("h2",{style:{margin:0,fontSize:"24px",fontWeight:"bold",color:"#fff"},children:" Review Winners"}),i.jsxs("p",{style:{margin:"5px 0 0 0",fontSize:"16px",color:"#fff",opacity:.9},children:[e," - Not Yet Published"]})]}),i.jsx("button",{onClick:c,style:{padding:"10px 20px",backgroundColor:"rgba(255, 255, 255, 0.2)",color:"#fff",border:"2px solid #fff",borderRadius:"6px",cursor:"pointer",fontSize:"16px",fontWeight:"bold",minHeight:"44px"},children:" Close"})]}),i.jsx("div",{style:{padding:"20px 30px",backgroundColor:"#f5f5f5",borderBottom:"2px solid #ddd"},children:i.jsxs("div",{style:{display:"flex",gap:"40px",flexWrap:"wrap",color:"#000"},children:[i.jsxs("div",{children:[i.jsx("p",{style:{margin:"0 0 5px 0",fontSize:"14px",color:"#666",fontWeight:"bold"},children:"Total Prize Pool"}),i.jsxs("p",{style:{margin:0,fontSize:"24px",fontWeight:"bold",color:"#000"},children:["$",s.toFixed(2)]})]}),i.jsxs("div",{children:[i.jsx("p",{style:{margin:"0 0 5px 0",fontSize:"14px",color:"#666",fontWeight:"bold"},children:"Per Prize (10%)"}),i.jsxs("p",{style:{margin:0,fontSize:"24px",fontWeight:"bold",color:"#000"},children:["$",o.toFixed(2)]})]})]})}),i.jsx("div",{style:{padding:"30px"},children:C.map(b=>{const P=n.find(x=>x.prizeNumber===b),R=(P==null?void 0:P.winners)||[],S=R.length>1;return i.jsxs("div",{style:{marginBottom:"30px",border:"2px solid #ddd",borderRadius:"8px",overflow:"hidden"},children:[i.jsxs("div",{style:{padding:"15px 20px",backgroundColor:S?"#fff3cd":"#d4edda",borderBottom:"2px solid #ddd"},children:[i.jsx("h3",{style:{margin:"0 0 5px 0",fontSize:"18px",fontWeight:"bold",color:"#000"},children:f[b]}),i.jsxs("p",{style:{margin:0,fontSize:"14px",color:"#000"},children:["Prize Amount: $",o.toFixed(2)]})]}),i.jsxs("div",{style:{padding:"20px"},children:[S?i.jsxs("div",{children:[i.jsxs("p",{style:{margin:"0 0 10px 0",fontSize:"14px",color:"#000",fontWeight:"bold"},children:[" TIE DETECTED - ",R.length," Winners:"]}),R.map((x,N)=>{const L=o/R.length,U=N===R.length-1?o-L*(R.length-1):L;return i.jsxs("div",{style:{padding:"15px",backgroundColor:"#fff3cd",borderRadius:"6px",marginBottom:"10px"},children:[i.jsxs("p",{style:{margin:0,fontSize:"18px",fontWeight:"bold",color:"#000"},children:[" ",x.playerName]}),i.jsxs("p",{style:{margin:"5px 0 0 0",fontSize:"14px",color:"#000"},children:["Score: ",x.score," points (tied)"]}),i.jsxs("p",{style:{margin:"5px 0 0 0",fontSize:"16px",fontWeight:"bold",color:"#856404"},children:["Split: $",U.toFixed(2)," (",(100/R.length).toFixed(2),"%)"]})]},N)}),i.jsxs("div",{style:{padding:"15px",backgroundColor:"#e7f3ff",borderRadius:"6px",marginTop:"15px"},children:[i.jsxs("p",{style:{margin:0,fontSize:"14px",color:"#000",fontWeight:"bold"},children:["Auto Split: $",o.toFixed(2),"  ",R.length," = $",(o/R.length).toFixed(2)," each"]}),i.jsx("p",{style:{margin:"5px 0 0 0",fontSize:"12px",color:"#666"},children:"(Last winner adjusted for rounding to balance exactly)"})]}),i.jsxs("p",{style:{margin:"15px 0 0 0",fontSize:"14px",color:"#000"},children:["Status: ",i.jsxs("span",{style:{color:"#f57c00",fontWeight:"bold"},children:[" ",R.length,"-Way Tie"]})]})]}):i.jsxs("div",{children:[i.jsx("p",{style:{margin:"0 0 10px 0",fontSize:"14px",color:"#666",fontWeight:"bold"},children:"Calculated Winner:"}),R.map((x,N)=>i.jsxs("div",{style:{padding:"15px",backgroundColor:"#e8f5e9",borderRadius:"6px",marginBottom:"10px"},children:[i.jsxs("p",{style:{margin:0,fontSize:"18px",fontWeight:"bold",color:"#000"},children:[" ",x.playerName]}),i.jsxs("p",{style:{margin:"5px 0 0 0",fontSize:"14px",color:"#000"},children:["Score: ",x.score," points"]}),i.jsxs("p",{style:{margin:"5px 0 0 0",fontSize:"16px",fontWeight:"bold",color:"#2e7d32"},children:["Amount: $",o.toFixed(2)," (100%)"]})]},N)),i.jsxs("p",{style:{margin:"10px 0 0 0",fontSize:"14px",color:"#000"},children:["Status: ",i.jsx("span",{style:{color:"#2e7d32",fontWeight:"bold"},children:" Single Winner"})]})]}),i.jsx("button",{onClick:()=>a(b,P),style:{marginTop:"15px",padding:"12px 24px",backgroundColor:"#ff9800",color:"#000",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"16px",fontWeight:"bold",width:"100%",minHeight:"44px"},children:" Override Winners/Split"})]})]},b)})}),i.jsxs("div",{style:{padding:"20px 30px",backgroundColor:"#f5f5f5",borderTop:"2px solid #ddd",display:"flex",gap:"15px",flexWrap:"wrap",justifyContent:"flex-end"},children:[i.jsx("button",{onClick:c,style:{padding:"14px 30px",backgroundColor:"#fff",color:"#000",border:"2px solid #ddd",borderRadius:"6px",cursor:"pointer",fontSize:"16px",fontWeight:"bold",minHeight:"44px",flex:"1",minWidth:"120px"},children:" Cancel"}),i.jsxs("button",{onClick:l,style:{padding:"14px 30px",backgroundColor:"#4caf50",color:"#fff",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"18px",fontWeight:"bold",minHeight:"44px",flex:"2",minWidth:"200px"},children:[" PUBLISH ",e.toUpperCase()," WINNERS"]})]})]})})},fC=({prizeNumber:t,prizeName:e,prizeAmount:n,currentWinners:r,allPlayers:s,onSave:o,onCancel:l})=>{const[c,a]=F.useState([]),[u,g]=F.useState(""),[f,h]=F.useState(!1);F.useEffect(()=>{r&&r.length>0&&a(r.map(x=>x.playerCode))},[r]);const C=x=>{c.includes(x)?a(c.filter(N=>N!==x)):a([...c,x])},b=()=>{if(c.length===0){alert("Please select at least one winner");return}const x=n/c.length,N=c.map((L,G)=>{const U=s.find(pe=>pe.playerCode===L),W=G===c.length-1?n-x*(c.length-1):x;return{playerCode:L,playerName:(U==null?void 0:U.playerName)||"Unknown",amount:parseFloat(W.toFixed(2)),percentage:parseFloat((100/c.length).toFixed(2))}});o({prizeNumber:t,winners:N,overrideNote:u.trim(),isOverride:!0})},R=(()=>{if(c.length===0)return[];const x=n/c.length;return c.map((N,L)=>{const G=s.find(W=>W.playerCode===N),B=L===c.length-1?n-x*(c.length-1):x;return{playerName:(G==null?void 0:G.playerName)||"Unknown",amount:B.toFixed(2),percentage:(100/c.length).toFixed(2)}})})(),S=f?s:s.slice(0,10);return i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.9)",zIndex:11e3,overflowY:"auto",padding:"20px"},children:i.jsxs("div",{style:{maxWidth:"700px",margin:"0 auto",backgroundColor:"#fff",borderRadius:"12px",padding:"0"},children:[i.jsxs("div",{style:{padding:"20px 30px",backgroundColor:"#ff9800",color:"#000",borderTopLeftRadius:"12px",borderTopRightRadius:"12px"},children:[i.jsx("h2",{style:{margin:0,fontSize:"22px",fontWeight:"bold",color:"#000"},children:" Override Winners"}),i.jsx("p",{style:{margin:"8px 0 0 0",fontSize:"16px",color:"#000",fontWeight:"bold"},children:e}),i.jsxs("p",{style:{margin:"5px 0 0 0",fontSize:"14px",color:"#000"},children:["Prize Amount: $",n.toFixed(2)]})]}),i.jsxs("div",{style:{padding:"30px"},children:[i.jsx("div",{style:{padding:"15px",backgroundColor:"#fff3cd",borderRadius:"6px",marginBottom:"20px",border:"2px solid #ffc107"},children:i.jsx("p",{style:{margin:0,fontSize:"14px",color:"#000",fontWeight:"bold"},children:" Select winner(s) below. Prize will be split equally among all selected players."})}),i.jsxs("div",{children:[i.jsx("p",{style:{margin:"0 0 15px 0",fontSize:"16px",fontWeight:"bold",color:"#000"},children:"Select Winner(s):"}),i.jsx("div",{style:{maxHeight:"300px",overflowY:"auto",border:"2px solid #ddd",borderRadius:"6px",padding:"10px"},children:S.map(x=>{const N=c.includes(x.playerCode);return i.jsxs("div",{onClick:()=>C(x.playerCode),style:{padding:"12px 15px",marginBottom:"8px",backgroundColor:N?"#e3f2fd":"#f9f9f9",border:N?"3px solid #2196F3":"2px solid #ddd",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",gap:"10px",minHeight:"44px"},children:[i.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"4px",border:"2px solid "+(N?"#2196F3":"#999"),backgroundColor:N?"#2196F3":"#fff",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:N&&i.jsx("span",{style:{color:"#fff",fontSize:"18px",fontWeight:"bold"},children:""})}),i.jsx("span",{style:{fontSize:"16px",fontWeight:N?"bold":"normal",color:"#000"},children:x.playerName})]},x.playerCode)})}),!f&&s.length>10&&i.jsxs("button",{onClick:()=>h(!0),style:{marginTop:"10px",padding:"10px 20px",backgroundColor:"#e3f2fd",color:"#000",border:"2px solid #2196F3",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",width:"100%",minHeight:"44px"},children:["Show All ",s.length," Players "]})]}),c.length>0&&i.jsxs("div",{style:{marginTop:"20px",padding:"15px",backgroundColor:"#e8f5e9",borderRadius:"6px",border:"2px solid #4caf50"},children:[i.jsxs("p",{style:{margin:"0 0 10px 0",fontSize:"16px",fontWeight:"bold",color:"#000"},children:["Selected: ",c.length," winner",c.length>1?"s":""]}),i.jsx("p",{style:{margin:"0 0 10px 0",fontSize:"14px",color:"#000",fontWeight:"bold"},children:"Prize Split:"}),R.map((x,N)=>i.jsxs("p",{style:{margin:"5px 0",fontSize:"14px",color:"#000"},children:[" ",x.playerName,": $",x.amount," (",x.percentage,"%)"]},N)),i.jsxs("p",{style:{margin:"10px 0 0 0",fontSize:"14px",fontWeight:"bold",color:"#2e7d32"},children:["Total: $",n.toFixed(2)," "]})]}),i.jsxs("div",{style:{marginTop:"20px"},children:[i.jsx("p",{style:{margin:"0 0 8px 0",fontSize:"14px",fontWeight:"bold",color:"#000"},children:"Optional Note (visible to players):"}),i.jsx("textarea",{value:u,onChange:x=>g(x.target.value),placeholder:"E.g., 'Prize split due to tie in points' or 'Corrected calculation error'",style:{width:"100%",minHeight:"80px",padding:"12px",fontSize:"14px",color:"#000",border:"2px solid #ddd",borderRadius:"6px",fontFamily:"inherit",resize:"vertical",boxSizing:"border-box"}})]})]}),i.jsxs("div",{style:{padding:"20px 30px",backgroundColor:"#f5f5f5",borderTop:"2px solid #ddd",display:"flex",gap:"15px",flexWrap:"wrap"},children:[i.jsx("button",{onClick:l,style:{padding:"14px 30px",backgroundColor:"#fff",color:"#000",border:"2px solid #ddd",borderRadius:"6px",cursor:"pointer",fontSize:"16px",fontWeight:"bold",minHeight:"44px",flex:"1",minWidth:"120px"},children:"Cancel"}),i.jsx("button",{onClick:b,disabled:c.length===0,style:{padding:"14px 30px",backgroundColor:c.length===0?"#ccc":"#ff9800",color:c.length===0?"#666":"#000",border:"none",borderRadius:"6px",cursor:c.length===0?"not-allowed":"pointer",fontSize:"16px",fontWeight:"bold",minHeight:"44px",flex:"2",minWidth:"180px"},children:" Save Override"})]})]})})},pC=({weekName:t,prizes:e,onConfirm:n,onCancel:r})=>{const s={1:"Prize #1 - Week 1 Most Correct Predictions",2:"Prize #2 - Week 1 Closest Total Points",3:"Prize #3 - Week 2 Most Correct Predictions",4:"Prize #4 - Week 2 Closest Total Points",5:"Prize #5 - Week 3 Most Correct Predictions",6:"Prize #6 - Week 3 Closest Total Points",7:"Prize #7 - Week 4 Most Correct Predictions",8:"Prize #8 - Week 4 Closest Total Points",9:"Prize #9 - Overall 4-Week Grand Total Most Correct Predictions",10:"Prize #10 - Overall 4-Week Grand Total Closest Points"};return i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.9)",zIndex:12e3,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:i.jsxs("div",{style:{maxWidth:"600px",width:"100%",backgroundColor:"#fff",borderRadius:"12px",padding:"0",maxHeight:"90vh",overflowY:"auto"},children:[i.jsxs("div",{style:{padding:"25px 30px",backgroundColor:"#ff5722",color:"#fff",borderTopLeftRadius:"12px",borderTopRightRadius:"12px",textAlign:"center"},children:[i.jsx("h2",{style:{margin:0,fontSize:"28px",fontWeight:"bold",color:"#fff"},children:" CONFIRM PUBLICATION"}),i.jsxs("p",{style:{margin:"10px 0 0 0",fontSize:"18px",color:"#fff"},children:[t," Winners"]})]}),i.jsxs("div",{style:{padding:"30px"},children:[i.jsx("div",{style:{padding:"15px",backgroundColor:"#fff3cd",border:"2px solid #ffc107",borderRadius:"8px",marginBottom:"25px"},children:i.jsxs("p",{style:{margin:0,fontSize:"14px",color:"#000",lineHeight:"1.6"},children:[i.jsx("strong",{children:"Once published, these results will be visible to all players."}),i.jsx("br",{}),"You can still unpublish and edit them later if needed."]})}),i.jsxs("div",{style:{marginBottom:"20px"},children:[i.jsx("h3",{style:{margin:"0 0 15px 0",fontSize:"18px",fontWeight:"bold",color:"#000"},children:"Winners Summary:"}),e.map(o=>{const l=o.winners||[],c=l.length>1;return i.jsxs("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#f9f9f9",border:"2px solid #ddd",borderRadius:"8px"},children:[i.jsx("p",{style:{margin:"0 0 10px 0",fontSize:"14px",fontWeight:"bold",color:"#000"},children:s[o.prizeNumber]}),l.map((a,u)=>i.jsxs("div",{style:{padding:"10px",backgroundColor:"#fff",borderRadius:"4px",marginBottom:u<l.length-1?"8px":"0"},children:[i.jsx("p",{style:{margin:"0 0 3px 0",fontSize:"16px",fontWeight:"bold",color:"#000"},children:a.playerName}),i.jsxs("p",{style:{margin:0,fontSize:"18px",fontWeight:"bold",color:"#4caf50"},children:["$",a.amount?a.amount.toFixed(2):"0.00",c&&i.jsxs("span",{style:{fontSize:"14px",color:"#666",marginLeft:"8px"},children:["(",(a.percentage||100/l.length).toFixed(0),"%)"]})]})]},u)),o.overrideNote&&i.jsxs("div",{style:{marginTop:"10px",padding:"10px",backgroundColor:"#e3f2fd",borderRadius:"4px",border:"1px solid #2196F3"},children:[i.jsx("p",{style:{margin:"0 0 3px 0",fontSize:"12px",fontWeight:"bold",color:"#000"},children:"Note:"}),i.jsxs("p",{style:{margin:0,fontSize:"14px",color:"#000",fontStyle:"italic"},children:['"',o.overrideNote,'"']})]})]},o.prizeNumber)})]})]}),i.jsxs("div",{style:{padding:"20px 30px",backgroundColor:"#f5f5f5",borderTop:"2px solid #ddd",display:"flex",gap:"15px",flexWrap:"wrap"},children:[i.jsx("button",{onClick:r,style:{padding:"14px 30px",backgroundColor:"#fff",color:"#000",border:"2px solid #ddd",borderRadius:"6px",cursor:"pointer",fontSize:"16px",fontWeight:"bold",minHeight:"44px",flex:"1",minWidth:"120px"},children:" Go Back"}),i.jsx("button",{onClick:n,style:{padding:"14px 30px",backgroundColor:"#4caf50",color:"#fff",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"18px",fontWeight:"bold",minHeight:"44px",flex:"2",minWidth:"180px"},children:" PUBLISH NOW"})]})]})})},hC={1:{name:"Most Correct Winners",week:"wildcard",weekName:"Week 1 - Wild Card",prizeNum:1},2:{name:"Closest Total Points",week:"wildcard",weekName:"Week 1 - Wild Card",prizeNum:2},3:{name:"Most Correct Winners",week:"divisional",weekName:"Week 2 - Divisional",prizeNum:3},4:{name:"Closest Total Points",week:"divisional",weekName:"Week 2 - Divisional",prizeNum:4},5:{name:"Most Correct Winners",week:"conference",weekName:"Week 3 - Conference",prizeNum:5},6:{name:"Closest Total Points",week:"conference",weekName:"Week 3 - Conference",prizeNum:6},7:{name:"Most Correct Winners",week:"superbowl",weekName:"Week 4 - Super Bowl",prizeNum:7},8:{name:"Closest Total Points",week:"superbowl",weekName:"Week 4 - Super Bowl",prizeNum:8},9:{name:"Overall Most Correct Winners",week:"all",weekName:"Grand Prize",prizeNum:9},10:{name:"Overall Closest Total Points",week:"all",weekName:"Grand Prize",prizeNum:10}},mC={1:"Prize #1 - Week 1 Most Correct Predictions",2:"Prize #2 - Week 1 Closest Total Points",3:"Prize #3 - Week 2 Most Correct Predictions",4:"Prize #4 - Week 2 Closest Total Points",5:"Prize #5 - Week 3 Most Correct Predictions",6:"Prize #6 - Week 3 Closest Total Points",7:"Prize #7 - Week 4 Most Correct Predictions",8:"Prize #8 - Week 4 Closest Total Points",9:"Prize #9 - Overall 4-Week Grand Total Most Correct Predictions",10:"Prize #10 - Overall 4-Week Grand Total Closest Points"};function gC(t,e,n,r){var u;const s=hC[t],o=[1,3,5,7,9].includes(t);let l=[],c={},a=[];if(s.week==="all"?(l=e,c=n,Object.keys(r).forEach(g=>{a=a.concat(r[g].games.map(f=>({...f,week:g})))})):(l=e.filter(g=>g.week===s.week),c=n[s.week]||{},a=((u=r[s.week])==null?void 0:u.games)||[]),l.length===0)return[];if(o){const g=l.map(C=>{let b=0;return a.forEach(P=>{var L,G;const R=(L=C.predictions)==null?void 0:L[P.id],S=s.week==="all"?(G=n[P.week])==null?void 0:G[P.id]:c[P.id];if(!R||!S)return;const x=parseInt(R.team1)>parseInt(R.team2)?"team1":"team2",N=parseInt(S.team1)>parseInt(S.team2)?"team1":"team2";x===N&&b++}),{playerCode:C.playerCode,playerName:C.playerName,score:b}});g.sort((C,b)=>b.score-C.score);const f=g[0].score;return g.filter(C=>C.score===f)}else{let g=0;a.forEach(b=>{var R;const P=s.week==="all"?(R=n[b.week])==null?void 0:R[b.id]:c[b.id];P&&(g+=(parseInt(P.team1)||0)+(parseInt(P.team2)||0))});const f=l.map(b=>{let P=0;a.forEach(S=>{var N;const x=(N=b.predictions)==null?void 0:N[S.id];x&&(P+=(parseInt(x.team1)||0)+(parseInt(x.team2)||0))});const R=Math.abs(P-g);return{playerCode:b.playerCode,playerName:b.playerName,score:P,difference:R}});f.sort((b,P)=>b.difference-P.difference);const h=f[0].difference;return f.filter(b=>b.difference===h)}}function yC({weekKey:t,weekName:e,isPublished:n,gamesComplete:r,onReview:s,onUnpublish:o}){const c=n?{text:" Published",color:"#4caf50"}:r?{text:" Ready for Review",color:"#ff9800"}:{text:" Games In Progress",color:"#999"};return i.jsx("div",{style:{padding:"20px",backgroundColor:"#f9f9f9",border:"2px solid #ddd",borderRadius:"8px",marginBottom:"15px"},children:i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"15px"},children:[i.jsxs("div",{children:[i.jsx("h3",{style:{margin:"0 0 5px 0",fontSize:"18px",fontWeight:"bold",color:"#000"},children:e}),i.jsxs("p",{style:{margin:0,fontSize:"14px",color:"#000",fontWeight:"bold"},children:["Status: ",i.jsx("span",{style:{color:c.color},children:c.text})]}),n&&i.jsxs("p",{style:{margin:"5px 0 0 0",fontSize:"12px",color:"#666"},children:["Published on ",new Date().toLocaleDateString()]})]}),i.jsx("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:n?i.jsx("button",{onClick:o,style:{padding:"12px 24px",backgroundColor:"#ff5722",color:"#fff",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"16px",fontWeight:"bold",minHeight:"44px"},children:" UNPUBLISH TO EDIT"}):r?i.jsx("button",{onClick:s,style:{padding:"12px 24px",backgroundColor:"#2196F3",color:"#fff",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"16px",fontWeight:"bold",minHeight:"44px"},children:" REVIEW & PUBLISH"}):i.jsx("button",{disabled:!0,style:{padding:"12px 24px",backgroundColor:"#ccc",color:"#666",border:"none",borderRadius:"6px",cursor:"not-allowed",fontSize:"16px",fontWeight:"bold",minHeight:"44px"},children:" Waiting for Games"})})]})})}function xC({allPicks:t,actualScores:e,games:n,officialWinners:r,onPublishWinners:s,onUnpublishWinners:o,isPoolManager:l,totalPrizePool:c,weekCompletionStatus:a}){var z,V;const[u,g]=F.useState(!1),[f,h]=F.useState(null),[C,b]=F.useState(!1),[P,R]=F.useState(null),[S,x]=F.useState(!1),[N,L]=F.useState([]);if(!l)return null;const G=c*.1,U=Z=>{h(Z);const E={wildcard:[1,2],divisional:[3,4],conference:[5,6],superbowl:[7,8],grand:[9,10]}[Z].map(q=>{const se=gC(q,t,e,n);return{prizeNumber:q,winners:se.map(de=>({playerCode:de.playerCode,playerName:de.playerName,score:de.score,amount:G/se.length,percentage:100/se.length})),isOverride:!1,overrideNote:""}});L(E),g(!0)},B=(Z,Q)=>{R({prizeNumber:Z,prizeName:mC[Z],currentWinners:Q.winners,prizeAmount:G}),b(!0)},W=Z=>{L(Q=>Q.map(E=>E.prizeNumber===Z.prizeNumber?{...E,winners:Z.winners,overrideNote:Z.overrideNote,isOverride:!0}:E)),b(!1),R(null)},pe=()=>{x(!0)},Y=()=>{s(f,N),x(!1),g(!1),h(null),L([])},A=Z=>{window.confirm(`Are you sure you want to unpublish ${Z} winners? They will no longer be visible to players.`)&&o(Z)},$=()=>{g(!1),h(null),L([])},D={wildcard:{name:"Week 1 - Wild Card",key:"wildcard"},divisional:{name:"Week 2 - Divisional",key:"divisional"},conference:{name:"Week 3 - Conference Championships",key:"conference"},superbowl:{name:"Week 4 - Super Bowl",key:"superbowl"},grand:{name:"Grand Prizes (Full Season)",key:"grand"}};return i.jsxs("div",{className:"winner-declaration-section",children:[i.jsxs("div",{style:{marginBottom:"30px"},children:[i.jsx("h2",{style:{margin:"0 0 10px 0",fontSize:"28px",fontWeight:"bold",color:"#000"},children:" Winner Management - Pool Manager"}),i.jsx("p",{style:{margin:0,fontSize:"16px",color:"#000",lineHeight:"1.6"},children:"Review calculated winners, make overrides if needed, then publish results for players to see."}),i.jsx("div",{style:{marginTop:"15px",padding:"15px",backgroundColor:"#e3f2fd",border:"2px solid #2196F3",borderRadius:"8px"},children:i.jsxs("p",{style:{margin:0,fontSize:"14px",color:"#000",fontWeight:"bold"},children:[" Total Prize Pool: $",c.toFixed(2)," | Each Prize: $",G.toFixed(2)," (10%)"]})})]}),Object.values(D).map(Z=>{var q;const Q=((q=r==null?void 0:r[Z.key])==null?void 0:q.published)||!1,E=(a==null?void 0:a[Z.key])||!1;return i.jsx(yC,{weekKey:Z.key,weekName:Z.name,isPublished:Q,gamesComplete:E,onReview:()=>U(Z.key),onUnpublish:()=>A(Z.key)},Z.key)}),u&&i.jsx(uC,{week:f,weekName:(z=D[f])==null?void 0:z.name,prizes:N,allPlayers:t,totalPool:c,prizeAmount:G,onPublish:pe,onCancel:$,onOverride:B}),C&&P&&i.jsx(fC,{prizeNumber:P.prizeNumber,prizeName:P.prizeName,prizeAmount:P.prizeAmount,currentWinners:P.currentWinners,allPlayers:t.map(Z=>({playerCode:Z.playerCode,playerName:Z.playerName})),onSave:W,onCancel:()=>{b(!1),R(null)}}),S&&i.jsx(pC,{weekName:(V=D[f])==null?void 0:V.name,prizes:N,onConfirm:Y,onCancel:()=>x(!1)})]})}const vC=({isPoolManager:t,playerCodes:e,onClearLogs:n})=>{const[r,s]=F.useState([]),[o,l]=F.useState(!0),[c,a]=F.useState(null),[u,g]=F.useState("all"),[f,h]=F.useState(""),[C,b]=F.useState("newest");F.useEffect(()=>{if(!t){l(!1);return}try{const x=ba(),N=te(x,"loginLogs"),L=gt(N,G=>{const U=G.val();if(console.log(" Login logs data:",U),U){const B=Object.keys(U).map(W=>({id:W,...U[W]}));console.log(" Parsed logs array:",B),s(B)}else console.log(" No login logs data found"),s([]);l(!1),a(null)},G=>{console.error(" Error fetching login logs:",G),a("Failed to load login logs. Check console for details."),l(!1)});return()=>{L&&L()}}catch(x){console.error(" Error setting up Firebase listener:",x),a("Failed to initialize Firebase. Check console for details."),l(!1)}},[t]);const P=r.filter(x=>{var N,L;if(u==="success"&&!x.success||u==="failed"&&x.success)return!1;if(f){const G=f.toLowerCase(),U=(N=x.playerCode)==null?void 0:N.toLowerCase().includes(G),B=(L=x.playerName)==null?void 0:L.toLowerCase().includes(G);return U||B}return!0}).sort((x,N)=>C==="newest"?N.timestamp-x.timestamp:x.timestamp-N.timestamp),R=()=>{if(P.length===0){alert("No logs to export!");return}const x=["Timestamp","Date/Time","Player Code","Player Name","Status","Error Message","Browser","Device"],N=P.map(W=>[W.timestamp,new Date(W.timestamp).toLocaleString(),W.playerCode||"",W.playerName||"",W.success?"Success":"Failed",W.errorMessage||"",W.browser||"",W.device||""]),L=[x.join(","),...N.map(W=>W.map(pe=>`"${pe}"`).join(","))].join(`
`),G=new Blob([L],{type:"text/csv;charset=utf-8;"}),U=document.createElement("a"),B=URL.createObjectURL(G);U.setAttribute("href",B),U.setAttribute("download",`login-logs-${new Date().toISOString().split("T")[0]}.csv`),U.style.visibility="hidden",document.body.appendChild(U),U.click(),document.body.removeChild(U),window.URL.revokeObjectURL(B)},S={total:r.length,successful:r.filter(x=>x.success).length,failed:r.filter(x=>x.success===!1).length,uniquePlayers:new Set(r.filter(x=>x.success).map(x=>x.playerCode)).size};return t?o?i.jsx("div",{style:{padding:"60px",textAlign:"center"},children:i.jsxs("div",{style:{display:"inline-block",padding:"20px 40px",background:"#f0f4f8",borderRadius:"10px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[i.jsx("p",{style:{fontSize:"1.2rem",margin:"0 0 10px 0",color:"#000"},children:" Loading login logs..."}),i.jsx("p",{style:{fontSize:"0.9rem",color:"#666",margin:0},children:"Connecting to Firebase..."})]})}):c?i.jsx("div",{style:{padding:"60px",textAlign:"center"},children:i.jsxs("div",{style:{display:"inline-block",padding:"30px",background:"#fff3cd",border:"2px solid #ffc107",borderRadius:"10px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",maxWidth:"600px"},children:[i.jsx("h3",{style:{margin:"0 0 15px 0",color:"#856404"},children:" Error Loading Logs"}),i.jsx("p",{style:{color:"#856404",margin:"0 0 15px 0"},children:c}),i.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:"20px",padding:"12px 24px",background:"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"600"},children:" Reload Page"})]})}):i.jsxs("div",{style:{margin:"40px auto",maxWidth:"1400px",padding:"0 20px"},children:[i.jsxs("div",{style:{marginBottom:"30px"},children:[i.jsxs("h1",{style:{fontSize:"2rem",margin:"0 0 10px 0",color:"#000",display:"flex",alignItems:"center",gap:"10px"},children:[" Login Activity Log",i.jsx("span",{style:{fontSize:"0.7rem",padding:"4px 12px",background:"#667eea",color:"white",borderRadius:"20px",fontWeight:"500"},children:"Pool Manager Only"})]}),i.jsx("p",{style:{color:"#666",margin:0},children:"Monitor all login attempts to the NFL Playoff Pool"}),t&&n&&i.jsxs("div",{style:{marginTop:"20px"},children:[i.jsx("button",{onClick:n,style:{padding:"12px 24px",fontSize:"1rem",background:"#e74c3c",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold",boxShadow:"0 2px 8px rgba(231, 76, 60, 0.3)",transition:"all 0.3s ease"},onMouseOver:x=>{x.target.style.background="#c0392b",x.target.style.transform="translateY(-2px)",x.target.style.boxShadow="0 4px 12px rgba(231, 76, 60, 0.4)"},onMouseOut:x=>{x.target.style.background="#e74c3c",x.target.style.transform="translateY(0)",x.target.style.boxShadow="0 2px 8px rgba(231, 76, 60, 0.3)"},children:" Clear All Login Logs"}),i.jsx("p",{style:{fontSize:"0.85rem",color:"#e74c3c",marginTop:"8px",marginBottom:0,fontStyle:"italic"},children:" Warning: This will permanently delete all login history"})]})]}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginBottom:"30px"},children:[i.jsxs("div",{style:{background:"linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%)",padding:"25px",borderRadius:"12px",boxShadow:"0 4px 15px rgba(0,0,0,0.1)",color:"#000"},children:[i.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"bold",marginBottom:"5px"},children:S.successful}),i.jsx("div",{style:{fontSize:"1rem",fontWeight:"500"},children:"Successful Logins"})]}),i.jsxs("div",{style:{background:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)",padding:"25px",borderRadius:"12px",boxShadow:"0 4px 15px rgba(0,0,0,0.1)",color:"#000"},children:[i.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"bold",marginBottom:"5px"},children:S.failed}),i.jsx("div",{style:{fontSize:"1rem",fontWeight:"500"},children:"Failed Attempts"})]}),i.jsxs("div",{style:{background:"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)",padding:"25px",borderRadius:"12px",boxShadow:"0 4px 15px rgba(0,0,0,0.1)",color:"#000"},children:[i.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"bold",marginBottom:"5px"},children:S.uniquePlayers}),i.jsx("div",{style:{fontSize:"1rem",fontWeight:"500"},children:"Unique Players"})]}),i.jsxs("div",{style:{background:"linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)",padding:"25px",borderRadius:"12px",boxShadow:"0 4px 15px rgba(0,0,0,0.1)",color:"#000"},children:[i.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"bold",marginBottom:"5px"},children:S.total}),i.jsx("div",{style:{fontSize:"1rem",fontWeight:"500"},children:"Total Attempts"})]})]}),i.jsxs("div",{style:{background:"white",padding:"20px",borderRadius:"10px",marginBottom:"20px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",display:"flex",flexWrap:"wrap",gap:"15px",alignItems:"center"},children:[i.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[i.jsxs("button",{onClick:()=>g("all"),style:{padding:"10px 20px",background:u==="all"?"#667eea":"#f0f0f0",color:u==="all"?"white":"#333",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"0.9rem"},children:["All (",S.total,")"]}),i.jsxs("button",{onClick:()=>g("success"),style:{padding:"10px 20px",background:u==="success"?"#4caf50":"#f0f0f0",color:u==="success"?"white":"#333",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"0.9rem"},children:[" Success (",S.successful,")"]}),i.jsxs("button",{onClick:()=>g("failed"),style:{padding:"10px 20px",background:u==="failed"?"#f44336":"#f0f0f0",color:u==="failed"?"white":"#333",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"0.9rem"},children:[" Failed (",S.failed,")"]})]}),i.jsx("input",{type:"text",placeholder:"Search by code or name...",value:f,onChange:x=>h(x.target.value),style:{padding:"10px 15px",border:"2px solid #e0e0e0",borderRadius:"6px",fontSize:"0.9rem",flex:"1",minWidth:"200px",color:"#000"}}),i.jsxs("select",{value:C,onChange:x=>b(x.target.value),style:{padding:"10px 15px",border:"2px solid #e0e0e0",borderRadius:"6px",fontSize:"0.9rem",cursor:"pointer",background:"white",color:"#000"},children:[i.jsx("option",{value:"newest",children:"Newest First"}),i.jsx("option",{value:"oldest",children:"Oldest First"})]}),i.jsx("button",{onClick:R,style:{padding:"10px 20px",background:"#4caf50",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"0.9rem",display:"flex",alignItems:"center",gap:"8px"},children:" Export CSV"})]}),P.length===0?i.jsx("div",{style:{background:"white",padding:"60px 40px",borderRadius:"10px",textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:f?i.jsx("p",{style:{fontSize:"1.2rem",margin:0,color:"#666"},children:" No logs match your search"}):i.jsxs(i.Fragment,{children:[i.jsx("p",{style:{fontSize:"1.5rem",margin:"0 0 20px 0",color:"#333"},children:" No login attempts logged yet"}),i.jsxs("div",{style:{background:"#f8f9fa",padding:"25px",borderRadius:"8px",maxWidth:"600px",margin:"0 auto",textAlign:"left"},children:[i.jsx("p",{style:{margin:"0 0 15px 0",fontSize:"1rem",color:"#666"},children:i.jsx("strong",{children:"To test login tracking:"})}),i.jsxs("ol",{style:{margin:0,paddingLeft:"20px",color:"#666",lineHeight:"2"},children:[i.jsx("li",{children:'Logout (click " Logout" button)'}),i.jsx("li",{children:'Try logging in with a WRONG code (e.g., "ABC123")'}),i.jsx("li",{children:"See the failed attempt appear here"}),i.jsx("li",{children:"Login with your correct code"}),i.jsx("li",{children:"See the successful login appear here"})]})]})]})}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{style:{padding:"15px 20px",background:"#f8f9fa",borderRadius:"8px",marginBottom:"15px",display:"flex",alignItems:"center",gap:"10px"},children:[i.jsx("span",{style:{fontSize:"1.2rem"},children:""}),i.jsxs("span",{style:{fontWeight:"600",color:"#000"},children:["Showing: ",P.length," of ",r.length," total attempts"]})]}),i.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:P.map((x,N)=>i.jsxs("div",{style:{padding:"20px",background:x.success?"#e8f5e9":"#ffebee",border:`3px solid ${x.success?"#4caf50":"#f44336"}`,borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",transition:"transform 0.2s",cursor:"default"},onMouseEnter:L=>L.currentTarget.style.transform="scale(1.01)",onMouseLeave:L=>L.currentTarget.style.transform="scale(1)",children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px",flexWrap:"wrap",gap:"10px"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[i.jsxs("span",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#000"},children:["#",P.length-N]}),i.jsx("span",{style:{padding:"8px 16px",background:x.success?"#4caf50":"#f44336",color:"white",borderRadius:"20px",fontWeight:"bold",fontSize:"0.9rem"},children:x.success?" SUCCESS":" FAILED"})]}),i.jsx("div",{style:{fontSize:"0.95rem",color:"#666",fontWeight:"500"},children:new Date(x.timestamp).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})})]}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px"},children:[i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"5px",fontWeight:"500"},children:"Player Code"}),i.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#000",fontFamily:"monospace"},children:x.playerCode||"N/A"})]}),i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"5px",fontWeight:"500"},children:"Player Name"}),i.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#000"},children:x.playerName||"N/A"})]}),i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"5px",fontWeight:"500"},children:"Browser"}),i.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#000"},children:x.browser||"N/A"})]}),i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"5px",fontWeight:"500"},children:"Device"}),i.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#000"},children:x.device||"N/A"})]})]}),!x.success&&x.errorMessage&&i.jsxs("div",{style:{marginTop:"15px",padding:"12px",background:"#fff",borderLeft:"4px solid #f44336",borderRadius:"4px"},children:[i.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"5px",fontWeight:"500"},children:"Error Message"}),i.jsx("div",{style:{fontSize:"1rem",color:"#d32f2f",fontWeight:"600",fontStyle:"italic"},children:x.errorMessage})]})]},x.id))})]}),i.jsx("div",{style:{marginTop:"30px",padding:"20px",background:"#f8f9fa",borderRadius:"8px",textAlign:"center"},children:i.jsx("p",{style:{margin:0,color:"#666",fontSize:"0.9rem",fontStyle:"italic"},children:" Logs update in real-time. Failed attempts help identify players who need assistance with their codes."})})]}):i.jsx("div",{style:{padding:"40px",textAlign:"center",color:"#999"},children:i.jsx("p",{children:" This feature is only available to Pool Managers"})})},wC=()=>{const t=navigator.userAgent;let e="Unknown";if(t.indexOf("Firefox")>-1){const n=t.match(/Firefox\/(\d+)/);e=n?`Firefox ${n[1]}`:"Firefox"}else if(t.indexOf("SamsungBrowser")>-1)e="Samsung Internet";else if(t.indexOf("Opera")>-1||t.indexOf("OPR")>-1)e="Opera";else if(t.indexOf("Trident")>-1)e="Internet Explorer";else if(t.indexOf("Edge")>-1)e="Edge";else if(t.indexOf("Chrome")>-1){const n=t.match(/Chrome\/(\d+)/);e=n?`Chrome ${n[1]}`:"Chrome"}else if(t.indexOf("Safari")>-1){const n=t.match(/Version\/(\d+)/);e=n?`Safari ${n[1]}`:"Safari"}return e},kC=()=>{const t=navigator.userAgent;return/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(t)?"Tablet":/Mobile|iP(hone|od)|Android|BlackBerry|IEMobile|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(t)?"Mobile":"Desktop"},C0=async({playerCode:t,playerName:e=null,success:n,errorMessage:r=null})=>{try{const s=ba(),o=te(s,"loginLogs"),l={timestamp:Date.now(),playerCode:t||"EMPTY",playerName:e||null,success:n,errorMessage:r||null,browser:wC(),device:kC(),userAgent:navigator.userAgent};await vr(o,l),console.log(" Login attempt logged:",{code:t,success:n,browser:l.browser,device:l.device})}catch(s){console.error(" Failed to log login attempt:",s)}},bC=async(t,e)=>C0({playerCode:t,playerName:e,success:!0,errorMessage:null}),yc=async(t,e)=>C0({playerCode:t,playerName:null,success:!1,errorMessage:e});function un(t,e){if(!t||!t[e])return 0;let n=0;const r=t[e];return Object.keys(r).forEach(s=>{const o=r[s];o&&o.team1!==void 0&&o.team2!==void 0&&(n+=parseInt(o.team1)+parseInt(o.team2))}),n}function fn(t,e){if(!t||!t[e])return 0;let n=0;const r=t[e];return Object.keys(r).forEach(s=>{const o=r[s];o&&o.team1!==void 0&&o.team2!==void 0&&(n+=parseInt(o.team1)+parseInt(o.team2))}),n}function cf(t,e){if(!t||!t[e])return{};const n={},r=t[e];return Object.keys(r).forEach(s=>{const o=r[s];if(o&&o.team1!==void 0&&o.team2!==void 0){const l=parseInt(o.team1),c=parseInt(o.team2);l>c?n[s]="team1":c>l&&(n[s]="team2")}}),n}function E0(t,e,n){if(!t||!t[n])return 0;let r=0;const s=t[n];return Object.keys(e).forEach(o=>{const l=e[o],c=s[o];if(c&&c.team1!==void 0&&c.team2!==void 0){const a=parseInt(c.team1),u=parseInt(c.team2);let g=null;a>u?g="team1":u>a&&(g="team2"),g===l&&r++}}),r}function tn(t,e){return Math.abs(t-e)}function xc(t,e,n){const r=cf(e,n);if(Object.keys(r).length===0)return{status:"not_scored",winner:null,message:"Waiting for game results"};const s=fn(e,n),o=[];if(Object.keys(t).forEach(h=>{const C=t[h],b=C.name,P=C.picks;if(!P||!P[n])return;const R=E0(P,r,n),S=un(P,n),x=tn(S,s);o.push({name:b,code:h,picks:P,correctWinners:R,predictedTotal:S,difference:x})}),o.length===0)return{status:"no_picks",winner:null,message:"No picks submitted for this week"};const l=Math.max(...o.map(h=>h.correctWinners)),c=o.filter(h=>h.correctWinners===l);if(c.length===1)return{status:"calculated",winner:c[0].name,winnerCode:c[0].code,correctWinners:l,tiebreakerUsed:!1,isTrueTie:!1,tiedPlayers:null,allPlayerResults:o.sort((h,C)=>C.correctWinners-h.correctWinners)};const a=Math.min(...c.map(h=>h.difference));let u=c.filter(h=>h.difference===a);const g=[{level:`${n} Total Points`,actualTotal:s,remaining:u.length,minDifference:a}];if(u.length>1){const h=[];n==="conference"?h.push("divisional","wildcard"):n==="divisional"&&h.push("wildcard");for(const C of h){if(u.length===1)break;const b=fn(e,C),P=u.map(S=>{const x=o.find(G=>G.code===S.code),N=un(x.picks||t[S.code].picks,C),L=tn(N,b);return{...S,prevDiff:L,prevPredicted:N,prevActualTotal:b}}),R=Math.min(...P.map(S=>S.prevDiff));u=P.filter(S=>S.prevDiff===R),g.push({level:`${C} Total Points`,actualTotal:b,remaining:u.length,minDifference:R})}}const f=u.length>1;return{status:"calculated",winner:f?u.map(h=>h.name):u[0].name,winnerCode:f?u.map(h=>h.code):u[0].code,correctWinners:l,actualTotal:s,predictedTotal:u[0].predictedTotal,difference:u[0].difference,tiebreakerUsed:!0,tiebreakerLevel:g.map(h=>h.level).join("  "),isTrueTie:f,tiedPlayers:c.map(h=>h.name),tiedPlayersDetails:c.map(h=>({name:h.name,correctWinners:h.correctWinners,predictedTotal:h.predictedTotal,difference:h.difference})),tiebreakerSteps:g,allPlayerResults:o.sort((h,C)=>C.correctWinners-h.correctWinners)}}function vc(t,e,n){const r=fn(e,n);if(r===0)return{status:"not_scored",winner:null,message:"Waiting for game results"};const s=[];if(Object.keys(t).forEach(u=>{const g=t[u],f=g.name,h=g.picks;if(!h||!h[n])return;const C=un(h,n),b=tn(C,r);s.push({name:f,code:u,picks:h,predictedTotal:C,difference:b})}),s.length===0)return{status:"no_picks",winner:null,message:"No picks submitted for this week"};const o=Math.min(...s.map(u=>u.difference));let l=s.filter(u=>u.difference===o);if(l.length===0)return{status:"no_picks",winner:null,message:"No valid picks submitted for this week"};const c=[{level:`${n} Total Points`,actualTotal:r,remaining:l.length,minDifference:o}];if(l.length>1){const u=[];n==="conference"?u.push("divisional","wildcard"):n==="divisional"&&u.push("wildcard");for(const g of u){if(l.length===1)break;const f=fn(e,g),h=l.map(b=>{const P=un(b.picks,g),R=tn(P,f);return{...b,prevDiff:R,prevPredicted:P,prevActualTotal:f}}),C=Math.min(...h.map(b=>b.prevDiff));l=h.filter(b=>b.prevDiff===C),c.push({level:`${g} Total Points`,actualTotal:f,remaining:l.length,minDifference:C})}}const a=l.length>1;return{status:"calculated",winner:a?l.map(u=>u.name):l[0].name,winnerCode:a?l.map(u=>u.code):l[0].code,actualTotal:r,predictedTotal:l[0].predictedTotal,difference:o,tiebreakerUsed:c.length>1,tiebreakerLevel:c.map(u=>u.level).join("  "),isTrueTie:a,tiedPlayers:a?l.map(u=>u.name):null,tiebreakerSteps:c,allPlayerResults:s.sort((u,g)=>u.difference-g.difference)}}function SC(t,e){const n="superbowl",r=cf(e,n);if(Object.keys(r).length===0)return{status:"not_scored",winner:null,message:"Waiting for Super Bowl results"};const s=r[13];if(!s)return{status:"not_scored",winner:null,message:"Super Bowl winner not determined"};const o=[];if(Object.keys(t).forEach(g=>{const f=t[g],h=f.name,C=f.picks;if(!C||!C[n]||!C[n][13])return;const b=C[n][13],P=parseInt(b.team1),R=parseInt(b.team2);let S=null;P>R?S="team1":R>P&&(S="team2"),S===s&&o.push({name:h,code:g,picks:C})}),o.length===0)return{status:"no_winner",winner:null,message:"No players picked the correct Super Bowl winner"};if(o.length===1)return{status:"calculated",winner:o[0].name,winnerCode:o[0].code,pickedCorrectWinner:!0,eligiblePlayers:1,eliminatedPlayers:Object.keys(t).length-1,tiebreakerUsed:!1,isTrueTie:!1,steps:[{level:"Correct Super Bowl Winner",remaining:1,winner:o[0].name}]};const l=[{key:"superbowl",name:"Week 4"},{key:"conference",name:"Week 3"},{key:"divisional",name:"Week 2"},{key:"wildcard",name:"Week 1"}];let c=[...o];const a=[{level:"Correct Super Bowl Winner",remaining:o.length,tied:o.map(g=>g.name)}];for(const g of l){if(c.length===1)break;const f=fn(e,g.key),h=c.map(b=>{const P=un(b.picks,g.key),R=tn(P,f);return{...b,predictedTotal:P,difference:R,actualTotal:f}}),C=Math.min(...h.map(b=>b.difference));if(c=h.filter(b=>b.difference===C),a.push({level:`${g.name} Total Points`,actualTotal:f,remaining:c.length,tied:c.map(b=>b.name),minDifference:C,details:h.map(b=>({name:b.name,predictedTotal:b.predictedTotal,difference:b.difference}))}),c.length===1)break}const u=c.length>1;return{status:"calculated",winner:u?c.map(g=>g.name):c[0].name,winnerCode:u?c.map(g=>g.code):c[0].code,pickedCorrectWinner:!0,eligiblePlayers:o.length,eliminatedPlayers:Object.keys(t).length-o.length,tiebreakerUsed:a.length>1,isTrueTie:u,steps:a}}function _C(t,e){const n="superbowl",r=fn(e,n);if(r===0)return{status:"not_scored",winner:null,message:"Waiting for Super Bowl results"};const s=[];if(Object.keys(t).forEach(g=>{const f=t[g],h=f.name,C=f.picks;if(!C||!C[n])return;const b=un(C,n),P=tn(b,r);s.push({name:h,code:g,picks:C,predictedTotal:b,difference:P})}),s.length===0)return{status:"no_picks",winner:null,message:"No picks submitted for Super Bowl"};const o=Math.min(...s.map(g=>g.difference));let l=s.filter(g=>g.difference===o);if(l.length===1)return{status:"calculated",winner:l[0].name,winnerCode:l[0].code,actualTotal:r,predictedTotal:l[0].predictedTotal,difference:o,tiebreakerUsed:!1,isTrueTie:!1,steps:[{level:"Week 4 Total Points",actualTotal:r,remaining:1,winner:l[0].name,minDifference:o}]};const c=[{key:"conference",name:"Week 3"},{key:"divisional",name:"Week 2"},{key:"wildcard",name:"Week 1"}],a=[{level:"Week 4 Total Points",actualTotal:r,remaining:l.length,tied:l.map(g=>g.name),minDifference:o,details:l.map(g=>({name:g.name,predictedTotal:g.predictedTotal,difference:g.difference}))}];for(const g of c){if(l.length===1)break;const f=fn(e,g.key),h=l.map(b=>{const P=un(b.picks,g.key),R=tn(P,f);return{...b,weekPredictedTotal:P,weekDifference:R,weekActualTotal:f}}),C=Math.min(...h.map(b=>b.weekDifference));if(l=h.filter(b=>b.weekDifference===C),a.push({level:`${g.name} Total Points`,actualTotal:f,remaining:l.length,tied:l.map(b=>b.name),minDifference:C,details:h.map(b=>({name:b.name,predictedTotal:b.weekPredictedTotal,difference:b.weekDifference}))}),l.length===1)break}if(l.length===0)return{status:"no_picks",winner:null,message:"No valid picks for tiebreaker weeks"};const u=l.length>1;return{status:"calculated",winner:u?l.map(g=>g.name):l[0].name,winnerCode:u?l.map(g=>g.code):l[0].code,actualTotal:r,predictedTotal:l[0].predictedTotal,difference:l[0].difference,tiebreakerUsed:a.length>1,isTrueTie:u,steps:a,allPlayerResults:s.sort((g,f)=>g.difference-f.difference)}}function CC(t,e){const n=[{key:"wildcard",name:"Week 1"},{key:"divisional",name:"Week 2"},{key:"conference",name:"Week 3"},{key:"superbowl",name:"Week 4"}],r={};if(n.forEach(f=>{r[f.key]=cf(e,f.key)}),!n.every(f=>Object.keys(r[f.key]).length>0))return{status:"not_scored",winner:null,message:"Waiting for all playoff rounds to complete"};const o=[];if(Object.keys(t).forEach(f=>{const h=t[f],C=h.name,b=h.picks;let P=0;const R={};n.forEach(S=>{const x=E0(b,r[S.key],S.key);R[S.key]=x,P+=x}),o.push({name:C,code:f,picks:b,totalCorrect:P,weeklyCorrect:R})}),o.length===0)return{status:"no_picks",winner:null,message:"No picks submitted"};const l=Math.max(...o.map(f=>f.totalCorrect));let c=o.filter(f=>f.totalCorrect===l);if(c.length===1)return{status:"calculated",winner:c[0].name,winnerCode:c[0].code,correctWinners:l,tiebreakerUsed:!1,isTrueTie:!1,steps:[{layer:0,type:"Overall Correct Winners",remaining:1,winner:c[0].name,correctWinners:l}]};const a=[{layer:0,type:"Overall Correct Winners",remaining:c.length,tied:c.map(f=>f.name),correctWinners:l}];if(c.length>1){let f=0;n.forEach(b=>{f+=fn(e,b.key)});const h=c.map(b=>{let P=0;n.forEach(S=>{P+=un(b.picks,S.key)});const R=tn(P,f);return{...b,overallPredictedTotal:P,grandDifference:R,overallActualTotal:f}}),C=Math.min(...h.map(b=>b.grandDifference));c=h.filter(b=>b.grandDifference===C),a.push({layer:1,type:"Grand Total Points",level:"Overall Total Points Difference",actualTotal:f,remaining:c.length,tied:c.map(b=>b.name),minDifference:C,details:h.map(b=>({name:b.name,predictedTotal:b.overallPredictedTotal,difference:b.grandDifference}))})}if(c.length===1)return{status:"calculated",winner:c[0].name,winnerCode:c[0].code,correctWinners:l,tiebreakerUsed:!0,isTrueTie:!1,steps:a};const u=[...n].reverse();for(const f of u){if(c.length===1)break;const h=fn(e,f.key),C=c.map(R=>{const S=un(R.picks,f.key),x=tn(S,h);return{...R,weekPredictedTotal:S,weekDifference:x}}),b=Math.min(...C.map(R=>R.weekDifference)),P=c.length;if(c=C.filter(R=>R.weekDifference===b),a.push({layer:2,type:"Individual Week Points",level:`${f.name} Total Points`,actualTotal:h,remaining:c.length,tied:c.map(R=>R.name),minDifference:b,eliminated:P-c.length,details:C.map(R=>({name:R.name,predictedTotal:R.weekPredictedTotal,difference:R.weekDifference}))}),c.length===1)break}if(c.length===0)return{status:"no_picks",winner:null,message:"No valid picks for tiebreaker weeks"};const g=c.length>1;return{status:"calculated",winner:g?c.map(f=>f.name):c[0].name,winnerCode:g?c.map(f=>f.code):c[0].code,correctWinners:l,tiebreakerUsed:!0,isTrueTie:g,steps:a,allPlayerResults:o.sort((f,h)=>h.totalCorrect-f.totalCorrect)}}function EC(t,e){const n=[{key:"wildcard",name:"Week 1"},{key:"divisional",name:"Week 2"},{key:"conference",name:"Week 3"},{key:"superbowl",name:"Week 4"}],r={};let s=0;if(n.forEach(f=>{const h=fn(e,f.key);r[f.key]=h,s+=h}),s===0)return{status:"not_scored",winner:null,message:"Waiting for all playoff rounds to complete"};const o=[];if(Object.keys(t).forEach(f=>{const h=t[f],C=h.name,b=h.picks;let P=0;const R={};n.forEach(x=>{const N=un(b,x.key);R[x.key]=N,P+=N});const S=tn(P,s);o.push({name:C,code:f,picks:b,overallPredictedTotal:P,overallDifference:S,weeklyPredictedTotals:R})}),o.length===0)return{status:"no_picks",winner:null,message:"No picks submitted"};const l=Math.min(...o.map(f=>f.overallDifference));let c=o.filter(f=>f.overallDifference===l);if(c.length===1)return{status:"calculated",winner:c[0].name,winnerCode:c[0].code,overallActualTotal:s,overallPredictedTotal:c[0].overallPredictedTotal,difference:l,tiebreakerUsed:!1,isTrueTie:!1,steps:[{level:"Overall Total Points",actualTotal:s,remaining:1,winner:c[0].name,minDifference:l}],allPlayerResults:o.sort((f,h)=>f.overallDifference-h.overallDifference)};const a=[{level:"Overall Total Points",actualTotal:s,remaining:c.length,tied:c.map(f=>f.name),minDifference:l,details:c.map(f=>({name:f.name,predictedTotal:f.overallPredictedTotal,difference:f.overallDifference}))}],u=[...n].reverse();for(const f of u){if(c.length===1)break;const h=r[f.key],C=c.map(R=>{const S=R.weeklyPredictedTotals[f.key],x=tn(S,h);return{...R,weekPredictedTotal:S,weekDifference:x}}),b=Math.min(...C.map(R=>R.weekDifference)),P=c.length;if(c=C.filter(R=>R.weekDifference===b),a.push({level:`${f.name} Total Points`,actualTotal:h,remaining:c.length,tied:c.map(R=>R.name),minDifference:b,eliminated:P-c.length,details:C.map(R=>({name:R.name,predictedTotal:R.weekPredictedTotal,difference:R.weekDifference}))}),c.length===1)break}if(c.length===0)return{status:"no_picks",winner:null,message:"No valid picks for tiebreaker weeks"};const g=c.length>1;return{status:"calculated",winner:g?c.map(f=>f.name):c[0].name,winnerCode:g?c.map(f=>f.code):c[0].code,overallActualTotal:s,overallPredictedTotal:c[0].overallPredictedTotal,difference:c[0].overallDifference,tiebreakerUsed:a.length>1,isTrueTie:g,steps:a,allPlayerResults:o.sort((f,h)=>f.overallDifference-h.overallDifference)}}const NC=({calculatedWinners:t,publishedWinners:e,isPoolManager:n,onPublishPrize:r,onUnpublishPrize:s,allPicks:o=[],actualScores:l={},prizePool:c={prizeValue:50}})=>{const[a,u]=F.useState({"Week 1":!0,"Week 2":!1,"Week 3":!1,"Week 4":!1,"Grand Prize":!1}),[g,f]=F.useState({}),h=D=>{u(z=>({...z,[D]:!z[D]}))},C=D=>{f(z=>({...z,[D]:!z[D]}))},b=()=>{u({"Week 1":!0,"Week 2":!0,"Week 3":!0,"Week 4":!0,"Grand Prize":!0})},P=()=>{u({"Week 1":!1,"Week 2":!1,"Week 3":!1,"Week 4":!1,"Grand Prize":!1})},R=`$${((c==null?void 0:c.prizeValue)||50).toFixed(2)}`,S=[{week:"Week 1",title:"Most Correct Winners",amount:R,icon:"",calcKey:"week1.prize1",pubKey:"week1_prize1"},{week:"Week 1",title:"Closest Total Points",amount:R,icon:"",calcKey:"week1.prize2",pubKey:"week1_prize2"},{week:"Week 2",title:"Most Correct Winners",amount:R,icon:"",calcKey:"week2.prize1",pubKey:"week2_prize1"},{week:"Week 2",title:"Closest Total Points",amount:R,icon:"",calcKey:"week2.prize2",pubKey:"week2_prize2"},{week:"Week 3",title:"Most Correct Winners",amount:R,icon:"",calcKey:"week3.prize1",pubKey:"week3_prize1"},{week:"Week 3",title:"Closest Total Points",amount:R,icon:"",calcKey:"week3.prize2",pubKey:"week3_prize2"},{week:"Week 4",title:"Correct Winner",amount:R,icon:"",calcKey:"week4.prize1",pubKey:"week4_prize1"},{week:"Week 4",title:"Closest Total Points",amount:R,icon:"",calcKey:"week4.prize2",pubKey:"week4_prize2"},{week:"Grand Prize",title:"Most Correct Winners",amount:R,icon:"",calcKey:"grandPrize.prize1",pubKey:"grand_prize1"},{week:"Grand Prize",title:"Closest Total Points",amount:R,icon:"",calcKey:"grandPrize.prize2",pubKey:"grand_prize2"}],x=D=>{const z=D.split(".");let V=t;for(const Z of z)if(V=V==null?void 0:V[Z],!V)return null;return V},N=D=>(e==null?void 0:e[D])===!0,L=(D,z)=>{r&&r(D.pubKey,D,z)},G=(D,z)=>{const V=z.steps&&z.steps.length>0,Z=z.tiebreakerUsed&&z.tiedPlayersDetails&&z.tiedPlayersDetails.length>0;if(!V&&!Z)return i.jsxs("div",{className:"expanded-view",children:[i.jsx("div",{className:"breakdown-header",children:" FULL BREAKDOWN "}),i.jsx("p",{children:"Winner determined without tiebreakers."})]});if(V)return i.jsxs("div",{className:"expanded-view",children:[i.jsx("div",{className:"breakdown-header",children:" FULL TIEBREAKER BREAKDOWN "}),z.steps.map((Q,E)=>i.jsxs("div",{className:"breakdown-step",children:[i.jsxs("div",{className:"step-header",children:[Q.layer!==void 0&&i.jsxs("span",{className:"layer-badge",children:["Layer ",Q.layer]}),"STEP ",E+1,": ",Q.level]}),Q.actualTotal!==void 0&&i.jsxs("div",{className:"step-detail",children:["Actual total: ",Q.actualTotal," points"]}),Q.remaining!==void 0&&i.jsxs("div",{className:"step-detail",children:[Q.remaining," player",Q.remaining!==1?"s":""," remain",Q.remaining===1?"s":""]}),Q.tied&&Q.tied.length>1&&i.jsxs("div",{className:"step-detail tied-players",children:[" Tied: ",Q.tied.join(", ")]}),Q.winner&&i.jsxs("div",{className:"step-detail winner",children:[" Winner: ",i.jsx("strong",{children:Q.winner})]}),Q.eliminated>0&&i.jsxs("div",{className:"step-detail eliminated",children:[" ",Q.eliminated," player",Q.eliminated!==1?"s":""," eliminated"]}),Q.details&&Q.details.length>0&&i.jsx("div",{className:"player-details",children:Q.details.map((q,se)=>i.jsxs("div",{className:"player-row",children:[i.jsxs("span",{className:"player-name",children:[q.name,":"]}),i.jsxs("span",{className:"player-prediction",children:[q.predictedTotal," predicted"]}),i.jsxs("span",{className:"player-diff",children:["(off by ",q.difference,")"]})]},se))})]},E))]});if(Z)return i.jsxs("div",{className:"expanded-view",children:[i.jsx("div",{className:"breakdown-header",children:" FULL TIEBREAKER BREAKDOWN "}),i.jsxs("div",{className:"breakdown-step",children:[i.jsxs("div",{className:"step-header",children:["INITIAL TIE: Correctly predicted ",z.correctWinners," NFL winning team",z.correctWinners!==1?"s":""]}),i.jsxs("div",{className:"step-detail tied-players",children:[" Tied: ",z.tiedPlayers.join(", ")]})]}),i.jsxs("div",{className:"breakdown-step",children:[i.jsxs("div",{className:"step-header",children:["TIEBREAKER: ",z.tiebreakerLevel]}),i.jsxs("div",{className:"step-detail",children:["Actual total: ",z.actualTotal," points"]}),i.jsx("div",{className:"player-details",children:z.tiedPlayersDetails.map((Q,E)=>i.jsxs("div",{className:"player-row",children:[i.jsxs("span",{className:"player-name",children:[Q.name,":"]}),i.jsxs("span",{className:"player-prediction",children:[Q.predictedTotal," predicted"]}),i.jsxs("span",{className:"player-diff",children:["(off by ",Q.difference,")"]}),Q.name===z.winner&&i.jsx("span",{className:"winner-badge",children:" WINNER"})]},E))})]})]})},U=D=>{var Q;const z=x(D.calcKey),V=N(D.pubKey),Z=g[D.pubKey]||!1;return!z||z.status==="not_scored"||z.status==="no_picks"?i.jsxs("div",{className:"prize-card",children:[i.jsxs("div",{className:"prize-header",children:[i.jsx("span",{className:"prize-icon",children:D.icon}),i.jsx("span",{className:"prize-title",children:D.title}),i.jsx("span",{className:"prize-amount",children:D.amount})]}),i.jsx("div",{className:"prize-status waiting",children:" Waiting for game results"})]},D.pubKey):V?i.jsxs("div",{className:"prize-card published",children:[i.jsxs("div",{className:"prize-header",children:[i.jsx("span",{className:"prize-icon",children:D.icon}),i.jsx("span",{className:"prize-title",children:D.title}),i.jsx("span",{className:"prize-amount",children:D.amount})]}),i.jsxs("div",{className:"moderate-view",children:[i.jsxs("div",{className:"winner-announcement",children:[" Winner: ",i.jsx("strong",{children:Array.isArray(z.winner)?z.winner.join(", "):z.winner})]}),z.correctWinners!==void 0&&i.jsxs("div",{className:"winner-stat",children:[" Correctly predicted ",z.correctWinners," NFL winning team",z.correctWinners!==1?"s":""]}),z.difference!==void 0&&i.jsxs("div",{className:"winner-stat",children:["Off by ",z.difference," point",z.difference!==1?"s":"",z.predictedTotal!==void 0&&z.actualTotal!==void 0&&i.jsxs("span",{children:[" (Predicted: ",z.predictedTotal,", Actual: ",z.actualTotal,")"]})]}),z.tiebreakerUsed&&i.jsxs("div",{className:"tiebreaker-info",children:[z.tiedPlayers&&z.tiedPlayers.length>1&&i.jsxs("div",{className:"tied-count",children:[z.tiedPlayers.length," players tied - each correctly predicted ",z.correctWinners," NFL winning team",z.correctWinners!==1?"s":""]}),z.tiebreakerLevel&&i.jsxs("div",{className:"tiebreaker-method",children:["Tiebreaker: ",z.tiebreakerLevel]}),z.tiedPlayers&&z.tiedPlayers.length>0&&i.jsxs("div",{className:"tied-players-list",children:["Tied players: ",z.tiedPlayers.join(", ")]})]}),z.isTrueTie&&i.jsx("div",{className:"true-tie-notice",children:" TRUE TIE - Prize will be split equally"}),!z.tiebreakerUsed&&!z.isTrueTie&&i.jsx("div",{className:"no-tiebreaker",children:"No tiebreaker needed"})]}),(((Q=z.steps)==null?void 0:Q.length)>0||z.tiebreakerUsed)&&i.jsx("button",{className:"toggle-breakdown-btn",onClick:()=>C(D.pubKey),children:Z?" Hide Full Breakdown":" Show Full Breakdown"}),Z&&G(D,z),n&&i.jsxs("button",{className:"unpublish-btn",onClick:()=>s(D.pubKey),children:[" Unpublish ",D.title]})]},D.pubKey):i.jsxs("div",{className:"prize-card unpublished",children:[i.jsxs("div",{className:"prize-header",children:[i.jsx("span",{className:"prize-icon",children:D.icon}),i.jsx("span",{className:"prize-title",children:D.title}),i.jsx("span",{className:"prize-amount",children:D.amount})]}),i.jsx("div",{className:"prize-status unpublished",children:n?i.jsxs(i.Fragment,{children:[" Not yet published",i.jsx("button",{className:"publish-btn",onClick:()=>L(D,z),children:" Review & Publish"})]}):i.jsxs("div",{children:[" Not yet published",i.jsx("div",{style:{fontSize:"0.85rem",marginTop:"5px",opacity:.8},children:"(Pool Manager is reviewing calculations)"})]})})]},D.pubKey)},B={wildcard:{name:"Wild Card Round",weekNum:1},divisional:{name:"Divisional Round",weekNum:2},conference:{name:"Conference Championships",weekNum:3},superbowl:{name:"Super Bowl LIX",weekNum:4}},W=D=>D.lastUpdated||D.timestamp||0,pe=D=>{if(!D)return"No timestamp";const z=new Date(D),V=String(z.getMonth()+1).padStart(2,"0"),Z=String(z.getDate()).padStart(2,"0"),Q=z.getHours(),E=String(z.getMinutes()).padStart(2,"0"),q=String(z.getSeconds()).padStart(2,"0"),se=Q>=12?"PM":"AM",de=Q%12||12;return`${V}/${Z}, ${String(de).padStart(2,"0")}:${E}:${q} ${se}`},Y=F.useMemo(()=>{const D={weeks:{},seasonSummary:{weeksAnalyzed:0,totalPrizes:0,prizesWithTies:0,tiesWouldBreak:0}};return Object.entries(B).forEach(([z,V])=>{const Z=o.filter(se=>se.week===z);if(!l[z]||Z.length===0)return;D.seasonSummary.weeksAnalyzed++;const E={weekName:V.name,prizes:[]};S.filter(se=>se.week===`Week ${V.weekNum}`).forEach(se=>{D.seasonSummary.totalPrizes++;const de=x(se.calcKey);if(!de)return;const le=Array.isArray(de.winner)?de.winner:[de.winner].filter(Boolean);if(le.length>1){D.seasonSummary.prizesWithTies++;const Ke=le.map(tt=>{const ue=Z.find(ut=>ut.playerCode===tt);return{playerCode:tt,playerName:(ue==null?void 0:ue.playerName)||tt,timestamp:W(ue),pick:ue}}).filter(tt=>tt.pick);Ke.sort((tt,ue)=>tt.timestamp-ue.timestamp);const je={prizeTitle:se.title,officialResult:`${le.length}-way tie`,tiedPlayers:Ke,hypotheticalWinner:Ke[0],timestampWouldBreak:Ke.length>1};je.timestampWouldBreak&&D.seasonSummary.tiesWouldBreak++,E.prizes.push(je)}}),E.prizes.length>0&&(D.weeks[z]=E)}),D},[t,o,l,S]),A=F.useMemo(()=>{const{weeksAnalyzed:D,prizesWithTies:z,totalPrizes:V}=Y.seasonSummary;return D===0||V===0?null:{currentPlayers:50,tieRate:z/V,projections:{1e3:{expectedTiesPerPrize:"15-30 way ties",prizeWithout:"$100  20 = $5.00 each",prizeWith:"$100  1 = $100.00",improvement:"+$95.00 (1900% increase)"},1e4:{expectedTiesPerPrize:"50-200 way ties",prizeWithout:"$100  100 = $1.00 each",prizeWith:"$100  1 = $100.00",improvement:"+$99.00 (9900% increase)"}}}},[Y]),$=[{key:"Week 1",title:"Week 1 - Wild Card Round (6 games)",prizes:S.filter(D=>D.week==="Week 1")},{key:"Week 2",title:"Week 2 - Divisional Round (4 games)",prizes:S.filter(D=>D.week==="Week 2")},{key:"Week 3",title:"Week 3 - Conference Championships (2 games)",prizes:S.filter(D=>D.week==="Week 3")},{key:"Week 4",title:"Week 4 - Super Bowl (1 game)",prizes:S.filter(D=>D.week==="Week 4")},{key:"Grand Prize",title:"Grand Prizes",prizes:S.filter(D=>D.week==="Grand Prize")}];return i.jsxs("div",{className:"how-winners-container",children:[i.jsx("h2",{children:" How Winners Are Determined"}),i.jsx("p",{className:"intro-text",children:"Winners are published after the Pool Manager reviews calculations. Check back after each week's games complete."}),i.jsxs("div",{className:"week-controls",children:[i.jsx("button",{className:"control-btn",onClick:b,children:" Expand All Weeks"}),i.jsx("button",{className:"control-btn",onClick:P,children:" Collapse All Weeks"})]}),i.jsx("div",{className:"divider"}),$.map((D,z)=>i.jsxs("div",{className:"week-section",children:[i.jsxs("h3",{className:`week-header collapsible ${a[D.key]?"expanded":"collapsed"}`,onClick:()=>h(D.key),children:[i.jsx("span",{className:"toggle-icon",children:a[D.key]?"":""}),D.title]}),a[D.key]&&i.jsx("div",{className:"prizes-container",children:D.prizes.map(V=>U(V))}),z<$.length-1&&i.jsx("div",{className:"divider"})]},D.key)),n&&Y.seasonSummary.weeksAnalyzed>0&&i.jsxs("div",{className:"timestamp-analysis-section",children:[i.jsxs("div",{className:"testing-warning-banner",children:[i.jsx("h2",{children:" EXPERIMENTAL FEATURE - FOR TESTING ONLY"}),i.jsx("p",{children:"This analysis shows what WOULD happen if submission timestamp was used as a final tie-breaker."}),i.jsxs("p",{children:[i.jsx("strong",{children:"This is NOT used for actual prizes this season."})," Data is for planning next year only."]})]}),i.jsxs("div",{className:"timestamp-analysis-content",children:[i.jsxs("div",{className:"analysis-header",children:[i.jsx("h3",{children:" HYPOTHETICAL: TIMESTAMP TIE-BREAKER ANALYSIS"}),i.jsxs("p",{className:"last-updated",children:["Last updated: ",new Date().toLocaleString()]})]}),Object.entries(Y.weeks).map(([D,z])=>i.jsxs("div",{className:"week-timestamp-analysis",children:[i.jsxs("h4",{className:"week-analysis-title",children:[" ",z.weekName.toUpperCase()," - TIMESTAMP IMPACT"]}),z.prizes.filter(V=>V.timestampWouldBreak).length===0?i.jsx("div",{className:"no-ties-message",children:" No ties this week - timestamp not needed"}):z.prizes.map((V,Z)=>V.timestampWouldBreak?i.jsxs("div",{className:"prize-timestamp-comparison",children:[i.jsx("h5",{children:V.prizeTitle}),i.jsxs("div",{className:"official-result-box",children:[i.jsx("div",{className:"box-label",children:" Official Result (Current Rules):"}),i.jsxs("div",{className:"box-content",children:[V.officialResult," - Prize split equally",i.jsx("div",{className:"tied-players-list",children:V.tiedPlayers.map(Q=>Q.playerName).join(", ")})]})]}),i.jsxs("div",{className:"hypothetical-result-box",children:[i.jsx("div",{className:"box-label",children:" Hypothetical (If Timestamp Was Used):"}),i.jsxs("div",{className:"box-content",children:[i.jsx("div",{className:"timestamp-ranking",children:V.tiedPlayers.map((Q,E)=>i.jsxs("div",{className:`timestamp-entry ${E===0?"winner":""}`,children:[i.jsxs("span",{className:"rank",children:[E+1,E===0?"st":E===1?"nd":E===2?"rd":"th",":"]}),i.jsx("span",{className:"player-name",children:Q.playerName}),i.jsx("span",{className:"timestamp",children:pe(Q.timestamp)}),E===0&&i.jsx("span",{className:"winner-badge",children:" WINNER"})]},E))}),i.jsxs("div",{className:"impact-note",children:[" Impact: ",V.tiedPlayers.length,"-way split  Solo winner"]})]})]})]},Z):null)]},D)),i.jsxs("div",{className:"season-summary-section",children:[i.jsx("h3",{className:"summary-title",children:" SEASON SUMMARY (Cumulative Statistics)"}),i.jsxs("div",{className:"summary-box current-season",children:[i.jsx("h4",{children:"CURRENT SEASON (50 players):"}),i.jsxs("div",{className:"stats-grid",children:[i.jsxs("div",{className:"stat-item",children:[i.jsx("span",{className:"stat-label",children:"Weeks Analyzed:"}),i.jsxs("span",{className:"stat-value",children:[Y.seasonSummary.weeksAnalyzed," / 4"]})]}),i.jsxs("div",{className:"stat-item",children:[i.jsx("span",{className:"stat-label",children:"Prizes Awarded:"}),i.jsxs("span",{className:"stat-value",children:[Y.seasonSummary.totalPrizes," / 10"]})]}),i.jsxs("div",{className:"stat-item",children:[i.jsx("span",{className:"stat-label",children:"Ties After Rules:"}),i.jsxs("span",{className:"stat-value",children:[Y.seasonSummary.prizesWithTies," (",Y.seasonSummary.totalPrizes>0?Math.round(Y.seasonSummary.prizesWithTies/Y.seasonSummary.totalPrizes*100):0,"%)"]})]}),i.jsxs("div",{className:"stat-item",children:[i.jsx("span",{className:"stat-label",children:"Timestamp Would Break:"}),i.jsxs("span",{className:"stat-value",children:[Y.seasonSummary.tiesWouldBreak," (",Y.seasonSummary.prizesWithTies>0?Math.round(Y.seasonSummary.tiesWouldBreak/Y.seasonSummary.prizesWithTies*100):0,"% of ties)"]})]})]})]}),A&&i.jsxs("div",{className:"scale-projections-section",children:[i.jsx("h3",{className:"projections-title",children:" PROJECTION: SCALING TO LARGER POOLS"}),i.jsxs("p",{className:"projections-subtitle",children:["Based on current tie rate (",Math.round(A.tieRate*100),"% after ",Y.seasonSummary.weeksAnalyzed," week",Y.seasonSummary.weeksAnalyzed!==1?"s":""," with ",A.currentPlayers," players):"]}),i.jsxs("div",{className:"projection-box projection-1000",children:[i.jsx("h4",{children:"WITH 1,000 PLAYERS:"}),i.jsxs("div",{className:"projection-stats",children:[i.jsxs("div",{className:"projection-item",children:[i.jsx("span",{className:"projection-label",children:"Expected Ties per Prize:"}),i.jsx("span",{className:"projection-value",children:A.projections[1e3].expectedTiesPerPrize})]}),i.jsxs("div",{className:"projection-item",children:[i.jsx("span",{className:"projection-label",children:"Timestamp Impact:"}),i.jsx("span",{className:"projection-value critical",children:"Critical"})]}),i.jsxs("div",{className:"projection-item",children:[i.jsx("span",{className:"projection-label",children:"Prize Split Improvement:"}),i.jsxs("div",{className:"prize-comparison",children:[i.jsxs("div",{children:["Without: ",A.projections[1e3].prizeWithout]}),i.jsxs("div",{children:["With: ",A.projections[1e3].prizeWith]}),i.jsx("div",{className:"improvement",children:A.projections[1e3].improvement})]})]})]})]}),i.jsxs("div",{className:"projection-box projection-10000",children:[i.jsx("h4",{children:"WITH 10,000 PLAYERS:"}),i.jsxs("div",{className:"projection-stats",children:[i.jsxs("div",{className:"projection-item",children:[i.jsx("span",{className:"projection-label",children:"Expected Ties per Prize:"}),i.jsx("span",{className:"projection-value",children:A.projections[1e4].expectedTiesPerPrize})]}),i.jsxs("div",{className:"projection-item",children:[i.jsx("span",{className:"projection-label",children:"Timestamp Impact:"}),i.jsx("span",{className:"projection-value essential",children:"ESSENTIAL"})]}),i.jsxs("div",{className:"projection-item",children:[i.jsx("span",{className:"projection-label",children:"Prize Split Improvement:"}),i.jsxs("div",{className:"prize-comparison",children:[i.jsxs("div",{children:["Without: ",A.projections[1e4].prizeWithout]}),i.jsxs("div",{children:["With: ",A.projections[1e4].prizeWith]}),i.jsx("div",{className:"improvement",children:A.projections[1e4].improvement})]})]}),i.jsxs("div",{className:"critical-note",children:[" Without timestamp: Prizes become nearly worthless",i.jsx("br",{}),"With timestamp: Meaningful prize amounts"]})]})]}),i.jsxs("div",{className:"conclusion-box",children:[i.jsx("strong",{children:" CONCLUSION:"})," Timestamp tie-breaker becomes ",i.jsx("strong",{children:"CRITICAL"})," for pools with 500+ players. ",i.jsx("strong",{children:"Essential"})," for 1,000+."]})]})]})]})]})]})},jC="modulepreload",TC=function(t){return"/nfl-playoff-pool/"+t},Rh={},wc=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(n.map(a=>{if(a=TC(a),a in Rh)return;Rh[a]=!0;const u=a.endsWith(".css"),g=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${g}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":jC,u||(f.as="script"),f.crossOrigin="",f.href=a,c&&f.setAttribute("nonce",c),document.head.appendChild(f),u)return new Promise((h,C)=>{f.addEventListener("load",h),f.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${a}`)))})}))}function o(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return s.then(l=>{for(const c of l||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})},An=[{id:1,name:"ARI",fullName:"Arizona Cardinals"},{id:2,name:"ATL",fullName:"Atlanta Falcons"},{id:3,name:"BAL",fullName:"Baltimore Ravens"},{id:4,name:"BUF",fullName:"Buffalo Bills"},{id:5,name:"CAR",fullName:"Carolina Panthers"},{id:6,name:"CHI",fullName:"Chicago Bears"},{id:7,name:"CIN",fullName:"Cincinnati Bengals"},{id:8,name:"CLE",fullName:"Cleveland Browns"},{id:9,name:"DAL",fullName:"Dallas Cowboys"},{id:10,name:"DEN",fullName:"Denver Broncos"},{id:11,name:"DET",fullName:"Detroit Lions"},{id:12,name:"GB",fullName:"Green Bay Packers"},{id:13,name:"HOU",fullName:"Houston Texans"},{id:14,name:"IND",fullName:"Indianapolis Colts"},{id:15,name:"JAC",fullName:"Jacksonville Jaguars"},{id:16,name:"KC",fullName:"Kansas City Chiefs"},{id:17,name:"LV",fullName:"Las Vegas Raiders"},{id:18,name:"LAC",fullName:"Los Angeles Chargers"},{id:19,name:"LAR",fullName:"Los Angeles Rams"},{id:20,name:"MIA",fullName:"Miami Dolphins"},{id:21,name:"MIN",fullName:"Minnesota Vikings"},{id:22,name:"NE",fullName:"New England Patriots"},{id:23,name:"NO",fullName:"New Orleans Saints"},{id:24,name:"NYG",fullName:"New York Giants"},{id:25,name:"NYJ",fullName:"New York Jets"},{id:26,name:"PHI",fullName:"Philadelphia Eagles"},{id:27,name:"PIT",fullName:"Pittsburgh Steelers"},{id:28,name:"SF",fullName:"San Francisco 49ers"},{id:29,name:"SEA",fullName:"Seattle Seahawks"},{id:30,name:"TB",fullName:"Tampa Bay Buccaneers"},{id:31,name:"TEN",fullName:"Tennessee Titans"},{id:32,name:"WAS",fullName:"Washington Commanders"}];function PC({playoffTeams:t,actualScores:e,onSavePlayoffTeams:n,isPoolManager:r,database:s,weekCompletionStatus:o={}}){const[l,c]=F.useState({afc:{seed1:null,seed2:null,seed3:null,seed4:null,seed5:null,seed6:null,seed7:null},nfc:{seed1:null,seed2:null,seed3:null,seed4:null,seed5:null,seed6:null,seed7:null}}),[a,u]=F.useState({game7:{away:null,home:null},game8:{away:null,home:null},game9:{away:null,home:null},game10:{away:null,home:null}}),[g,f]=F.useState({game11:{away:null,home:null},game12:{away:null,home:null}}),[h,C]=F.useState({game13:{away:null,home:null}});F.useEffect(()=>{t!=null&&t.week1&&c(t.week1),t!=null&&t.week2Manual&&u(t.week2Manual),t!=null&&t.week3Manual&&f(t.week3Manual),t!=null&&t.week4Manual&&C(t.week4Manual)},[t]);const b=()=>{if(!(t!=null&&t.week1))return!1;const A=t.week1.afc||{},$=t.week1.nfc||{};for(let D=1;D<=7;D++)if(!A[`seed${D}`]||!$[`seed${D}`])return!1;return!0},P=()=>{var $,D,z,V,Z,Q,E,q;if(!(t!=null&&t.week2Manual))return!1;const A=t.week2Manual;return(($=A.game7)==null?void 0:$.away)&&((D=A.game7)==null?void 0:D.home)&&((z=A.game8)==null?void 0:z.away)&&((V=A.game8)==null?void 0:V.home)&&((Z=A.game9)==null?void 0:Z.away)&&((Q=A.game9)==null?void 0:Q.home)&&((E=A.game10)==null?void 0:E.away)&&((q=A.game10)==null?void 0:q.home)},R=()=>{var $,D,z,V;if(!(t!=null&&t.week3Manual))return!1;const A=t.week3Manual;return(($=A.game11)==null?void 0:$.away)&&((D=A.game11)==null?void 0:D.home)&&((z=A.game12)==null?void 0:z.away)&&((V=A.game12)==null?void 0:V.home)},S=()=>{var $,D;if(!(t!=null&&t.week4Manual))return!1;const A=t.week4Manual;return(($=A.game13)==null?void 0:$.away)&&((D=A.game13)==null?void 0:D.home)},x=(A,$,D)=>{const z=An.find(V=>V.id===parseInt(D));c(V=>({...V,[A]:{...V[A],[$]:z||null}}))},N=(A,$,D)=>{const z=An.find(V=>V.name===D);u(V=>({...V,[A]:{...V[A],[$]:z||null}}))},L=(A,$,D)=>{const z=An.find(V=>V.name===D);f(V=>({...V,[A]:{...V[A],[$]:z||null}}))},G=(A,$,D)=>{const z=An.find(V=>V.name===D);C(V=>({...V,[A]:{...V[A],[$]:z||null}}))},U=()=>{n({week1:l}),alert(" Week 1 playoff teams saved!")},B=async()=>{if(!a.game7.away||!a.game7.home||!a.game8.away||!a.game8.home||!a.game9.away||!a.game9.home||!a.game10.away||!a.game10.home){alert(" Please select both teams for all 4 games!");return}const{ref:A,set:$}=await wc(async()=>{const{ref:z,set:V}=await Promise.resolve().then(()=>gc);return{ref:z,set:V}},void 0);n({week2Manual:a});try{await $(A(s,"teamCodes/divisional"),{7:{team1:a.game7.away.name,team2:a.game7.home.name},8:{team1:a.game8.away.name,team2:a.game8.home.name},9:{team1:a.game9.away.name,team2:a.game9.home.name},10:{team1:a.game10.away.name,team2:a.game10.home.name}}),alert(` Week 2 teams saved successfully!

Please refresh your browser (Ctrl+Shift+R) to see the changes.`)}catch(z){console.error("Error saving team codes:",z),alert(" Error saving to database. Check console.")}},W=async()=>{if(!g.game11.away||!g.game11.home||!g.game12.away||!g.game12.home){alert(" Please select both teams for both games!");return}const{ref:A,set:$}=await wc(async()=>{const{ref:z,set:V}=await Promise.resolve().then(()=>gc);return{ref:z,set:V}},void 0),D={week3Manual:g,week3:{afcChampionship:{team1:g.game11.away,team2:g.game11.home},nfcChampionship:{team1:g.game12.away,team2:g.game12.home}}};n(D);try{await $(A(s,"teamCodes/conference"),{11:{team1:g.game11.away.name,team2:g.game11.home.name},12:{team1:g.game12.away.name,team2:g.game12.home.name}}),alert(` Week 3 teams saved successfully!

Please refresh your browser (Ctrl+Shift+R) to see the changes.`)}catch(z){console.error("Error saving team codes:",z),alert(" Error saving to database. Check console.")}},pe=async()=>{if(!h.game13.away||!h.game13.home){alert(" Please select both teams for Super Bowl!");return}const{ref:A,set:$}=await wc(async()=>{const{ref:z,set:V}=await Promise.resolve().then(()=>gc);return{ref:z,set:V}},void 0),D={week4Manual:h,week4:{superBowl:{team1:h.game13.away,team2:h.game13.home}}};n(D);try{await $(A(s,"teamCodes/superbowl"),{13:{team1:h.game13.away.name,team2:h.game13.home.name}}),alert(` Super Bowl teams saved successfully!

Please refresh your browser (Ctrl+Shift+R) to see the changes.`)}catch(z){console.error("Error saving team codes:",z),alert(" Error saving to database. Check console.")}};if(!r)return i.jsxs("div",{className:"playoff-setup-container",children:[i.jsx("h2",{children:" Playoff Teams Setup"}),i.jsx("p",{children:"Only the Pool Manager can access this page."})]});const Y=({gameNumber:A,gameLabel:$,awayTeam:D,homeTeam:z,onAwayChange:V,onHomeChange:Z})=>i.jsxs("div",{className:"game-setup",style:{border:"2px solid #ddd",borderRadius:"8px",padding:"15px",marginBottom:"15px",backgroundColor:"#f9f9f9"},children:[i.jsx("h4",{style:{marginBottom:"15px"},children:$}),i.jsxs("div",{style:{display:"flex",gap:"20px",alignItems:"center",justifyContent:"space-between"},children:[i.jsxs("div",{style:{flex:1,padding:"15px",backgroundColor:"#e3f2fd",borderRadius:"8px",border:"2px solid #2196f3"},children:[i.jsx("label",{style:{display:"block",fontWeight:"bold",marginBottom:"8px",color:"#1976d2",fontSize:"1.1rem"},children:" AWAY TEAM (Visiting)"}),i.jsxs("select",{value:(D==null?void 0:D.name)||"",onChange:Q=>V(Q.target.value),style:{width:"100%",padding:"10px",fontSize:"1rem",border:"2px solid #2196f3",borderRadius:"4px"},children:[i.jsx("option",{value:"",children:"-- Select Away Team --"}),An.map(Q=>i.jsxs("option",{value:Q.name,children:[Q.name," - ",Q.fullName]},Q.id))]})]}),i.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#666",padding:"0 10px"},children:"@"}),i.jsxs("div",{style:{flex:1,padding:"15px",backgroundColor:"#e8f5e9",borderRadius:"8px",border:"2px solid #4caf50"},children:[i.jsx("label",{style:{display:"block",fontWeight:"bold",marginBottom:"8px",color:"#2e7d32",fontSize:"1.1rem"},children:" HOME TEAM"}),i.jsxs("select",{value:(z==null?void 0:z.name)||"",onChange:Q=>Z(Q.target.value),style:{width:"100%",padding:"10px",fontSize:"1rem",border:"2px solid #4caf50",borderRadius:"4px"},children:[i.jsx("option",{value:"",children:"-- Select Home Team --"}),An.map(Q=>i.jsxs("option",{value:Q.name,children:[Q.name," - ",Q.fullName]},Q.id))]})]})]})]});return i.jsxs("div",{className:"playoff-setup-container",children:[i.jsx("h2",{children:" Playoff Teams Setup"}),i.jsxs("div",{className:"setup-status",children:[i.jsx("h3",{children:" Current Status"}),i.jsxs("div",{className:"status-grid",children:[i.jsxs("div",{className:`status-item ${b()?"configured":"not-configured"}`,children:[i.jsx("strong",{children:"Week 1:"})," ",b()?" Configured":" Not Configured"]}),i.jsxs("div",{className:`status-item ${P()?"configured":"not-configured"}`,children:[i.jsx("strong",{children:"Week 2:"})," ",P()?" Configured":" Not Configured"]}),i.jsxs("div",{className:`status-item ${R()?"configured":"not-configured"}`,children:[i.jsx("strong",{children:"Week 3:"})," ",R()?" Configured":" Not Configured"]}),i.jsxs("div",{className:`status-item ${S()?"configured":"not-configured"}`,children:[i.jsx("strong",{children:"Week 4:"})," ",S()?" Configured":" Not Configured"]})]})]}),i.jsxs("div",{className:"setup-section",children:[i.jsx("h3",{children:" WEEK 1 - Wild Card Round (Manual Setup)"}),i.jsx("p",{children:"Select the 14 playoff teams and assign their seeds."}),i.jsxs("div",{className:"conference-setup",children:[i.jsxs("div",{className:"conference-column",children:[i.jsx("h4",{children:"AFC Teams"}),[1,2,3,4,5,6,7].map(A=>{var $;return i.jsxs("div",{className:"seed-selector",children:[i.jsxs("label",{children:["AFC #",A," Seed:"]}),i.jsxs("select",{value:(($=l.afc[`seed${A}`])==null?void 0:$.id)||"",onChange:D=>x("afc",`seed${A}`,D.target.value),children:[i.jsx("option",{value:"",children:"Select Team"}),An.map(D=>i.jsxs("option",{value:D.id,children:[D.name," - ",D.fullName]},D.id))]})]},`afc-${A}`)})]}),i.jsxs("div",{className:"conference-column",children:[i.jsx("h4",{children:"NFC Teams"}),[1,2,3,4,5,6,7].map(A=>{var $;return i.jsxs("div",{className:"seed-selector",children:[i.jsxs("label",{children:["NFC #",A," Seed:"]}),i.jsxs("select",{value:(($=l.nfc[`seed${A}`])==null?void 0:$.id)||"",onChange:D=>x("nfc",`seed${A}`,D.target.value),children:[i.jsx("option",{value:"",children:"Select Team"}),An.map(D=>i.jsxs("option",{value:D.id,children:[D.name," - ",D.fullName]},D.id))]})]},`nfc-${A}`)})]})]}),i.jsx("button",{className:"save-btn",onClick:U,children:" Save Week 1 Playoff Teams"})]}),b()&&(o.wildcard||P())&&i.jsxs("div",{className:"setup-section",children:[i.jsx("h3",{children:" WEEK 2 - Divisional Round (Manual Setup)"}),!o.wildcard&&i.jsxs("p",{style:{color:"#ff9800",fontWeight:"bold",marginBottom:"10px",backgroundColor:"#fff3cd",padding:"10px",borderRadius:"4px"},children:[" Week 1 must be closed before you can configure Week 2 teams.",i.jsx("br",{}),'(Pool Manager: Use "Close Week 1" button after all games are FINAL)']}),i.jsx("p",{style:{color:"#d63031",fontWeight:"bold",marginBottom:"20px"},children:" Blue box = AWAY team (visiting) | Green box = HOME team"}),i.jsx(Y,{gameNumber:7,gameLabel:"Game 7 - Saturday 1:30 PM PST",awayTeam:a.game7.away,homeTeam:a.game7.home,onAwayChange:A=>N("game7","away",A),onHomeChange:A=>N("game7","home",A)}),i.jsx(Y,{gameNumber:8,gameLabel:"Game 8 - Saturday 5:00 PM PST",awayTeam:a.game8.away,homeTeam:a.game8.home,onAwayChange:A=>N("game8","away",A),onHomeChange:A=>N("game8","home",A)}),i.jsx(Y,{gameNumber:9,gameLabel:"Game 9 - Sunday 12:00 PM PST",awayTeam:a.game9.away,homeTeam:a.game9.home,onAwayChange:A=>N("game9","away",A),onHomeChange:A=>N("game9","home",A)}),i.jsx(Y,{gameNumber:10,gameLabel:"Game 10 - Sunday 3:30 PM PST",awayTeam:a.game10.away,homeTeam:a.game10.home,onAwayChange:A=>N("game10","away",A),onHomeChange:A=>N("game10","home",A)}),i.jsx("button",{className:"save-btn",onClick:B,style:{marginTop:"20px",fontSize:"1.1rem",padding:"12px 30px"},children:" Save Week 2 Teams"}),P()&&i.jsx("div",{className:"confirmed-status",style:{marginTop:"15px"},children:" Week 2 teams configured and saved!"})]}),P()&&(o.divisional||R())&&i.jsxs("div",{className:"setup-section",children:[i.jsx("h3",{children:" WEEK 3 - Conference Championships (Manual Setup)"}),!o.divisional&&i.jsxs("p",{style:{color:"#ff9800",fontWeight:"bold",marginBottom:"10px",backgroundColor:"#fff3cd",padding:"10px",borderRadius:"4px"},children:[" Week 2 must be closed before you can configure Week 3 teams.",i.jsx("br",{}),'(Pool Manager: Use "Close Week 2" button after all games are FINAL)']}),i.jsx("p",{style:{color:"#d63031",fontWeight:"bold",marginBottom:"20px"},children:" Blue box = AWAY team (visiting) | Green box = HOME team"}),i.jsx(Y,{gameNumber:11,gameLabel:"Game 11 - AFC Championship (Sunday TBD)",awayTeam:g.game11.away,homeTeam:g.game11.home,onAwayChange:A=>L("game11","away",A),onHomeChange:A=>L("game11","home",A)}),i.jsx(Y,{gameNumber:12,gameLabel:"Game 12 - NFC Championship (Sunday TBD)",awayTeam:g.game12.away,homeTeam:g.game12.home,onAwayChange:A=>L("game12","away",A),onHomeChange:A=>L("game12","home",A)}),i.jsx("button",{className:"save-btn",onClick:W,style:{marginTop:"20px",fontSize:"1.1rem",padding:"12px 30px"},children:" Save Week 3 Teams"}),R()&&i.jsx("div",{className:"confirmed-status",style:{marginTop:"15px"},children:" Week 3 teams configured and saved!"})]}),R()&&(o.conference||S())&&i.jsxs("div",{className:"setup-section",children:[i.jsx("h3",{children:" WEEK 4 - Super Bowl (Manual Setup)"}),!o.conference&&i.jsxs("p",{style:{color:"#ff9800",fontWeight:"bold",marginBottom:"10px",backgroundColor:"#fff3cd",padding:"10px",borderRadius:"4px"},children:[" Week 3 must be closed before you can configure Week 4 teams.",i.jsx("br",{}),'(Pool Manager: Use "Close Week 3" button after all games are FINAL)']}),i.jsx("p",{style:{color:"#d63031",fontWeight:"bold",marginBottom:"20px"},children:" Blue box = Team 1 (listed first) | Green box = Team 2 (listed second)"}),i.jsx(Y,{gameNumber:13,gameLabel:"Game 13 - Super Bowl LIX (Sunday, February 8, 2026)",awayTeam:h.game13.away,homeTeam:h.game13.home,onAwayChange:A=>G("game13","away",A),onHomeChange:A=>G("game13","home",A)}),i.jsx("button",{className:"save-btn",onClick:pe,style:{marginTop:"20px",fontSize:"1.1rem",padding:"12px 30px"},children:" Save Super Bowl Teams"}),S()&&i.jsx("div",{className:"confirmed-status",style:{marginTop:"15px"},children:" Super Bowl teams configured and saved!"})]})]})}const IC=({players:t=[],allPicks:e=[],onUpdatePayment:n,onTogglePlayerVisibility:r,onRemovePlayer:s,onToggleTableDisplay:o,onUpdatePlayerCode:l})=>{const[c,a]=F.useState(""),[u,g]=F.useState(""),[f,h]=F.useState("all"),[C,b]=F.useState("name"),P=A=>e.some($=>$.playerCode===A),R=A=>{const $=A.playerCode,D=prompt(`Edit Access Code for ${A.playerName}

Current code: ${$}

Enter new 6-character code (letters and numbers only):`);if(!D)return;const z=D.trim().toUpperCase();if(z.length!==6){alert(" Code must be exactly 6 characters!");return}if(!/^[A-Z0-9]{6}$/.test(z)){alert(" Code must contain only letters and numbers!");return}if(t.some(Q=>Q.playerCode.toUpperCase()===z&&Q.playerCode!==$)){alert(` Code "${z}" is already in use!`);return}window.confirm(` Change Access Code?

Player: ${A.playerName}
Old: ${$}
New: ${z}

The player will need the NEW code to login!

Continue?`)&&l($,z)},S=A=>{const $=A.trim().split(`
`).filter(z=>z.trim()),D=[];return $.forEach((z,V)=>{const Z=z.split("-").map(se=>se.trim());if(Z.length!==3){console.warn(`Line ${V+1} invalid format: ${z}`);return}const[Q,E,q]=Z;if(!/^\d{12}$/.test(E)){console.warn(`Line ${V+1} invalid timestamp: ${E}`);return}D.push({name:Q,timestamp:E,method:q})}),D},x=()=>{const A=S(c);if(A.length===0){alert(` No valid entries found. Check format:
Name - YYYYMMDDHHMM - method`);return}let $=0,D=0;A.forEach(z=>{const V=t.find(Z=>Z.playerName.toLowerCase().includes(z.name.toLowerCase()));V?(n(V.playerCode,{status:"PAID",timestamp:z.timestamp,method:z.method.toUpperCase(),amount:20}),$++):(console.warn(`Player not found: ${z.name}`),D++)}),$>0?(alert(` ${$} payment(s) saved successfully!${D>0?`
 ${D} player(s) not found.`:""}`),a("")):alert(" No players found. Check player names.")},N=F.useMemo(()=>{let A=[...t];return u&&(A=A.filter($=>$.playerName.toLowerCase().includes(u.toLowerCase())||$.playerCode.toLowerCase().includes(u.toLowerCase()))),f!=="all"&&(A=A.filter($=>($.paymentStatus||"UNPAID").toLowerCase()===f.toLowerCase())),A.sort(($,D)=>{if(C==="name")return $.playerName.localeCompare(D.playerName);if(C==="status"){const z=$.paymentStatus||"UNPAID",V=D.paymentStatus||"UNPAID";return z.localeCompare(V)}else if(C==="time"){const z=$.paymentTimestamp||"0";return(D.paymentTimestamp||"0").localeCompare(z)}return 0}),A},[t,u,f,C]),L=F.useMemo(()=>{const A=t.filter(E=>E.paymentStatus==="PAID").length,$=t.filter(E=>!E.paymentStatus||E.paymentStatus==="UNPAID").length,D=t.filter(E=>E.paymentStatus==="PENDING").length,z=t.filter(E=>E.paymentStatus==="PAID").reduce((E,q)=>E+(q.paymentAmount||20),0),V=t.filter(E=>E.paymentStatus==="PAID"&&E.visibleToPlayers!==!1).length,Z=t.length-V,Q=t.filter(E=>P(E.playerCode)||E.showInPicksTable===!0).length;return{paid:A,unpaid:$,pending:D,totalCollected:z,total:t.length,eligible:V,ineligible:Z,inTable:Q}},[t,e]),G=(A,$)=>{const D=prompt(`Mark ${$} as PAID

Enter payment timestamp (YYYYMMDDHHMM):
Example: 202412202130`,"");if(!D)return;if(!/^\d{12}$/.test(D)){alert(" Invalid timestamp format. Must be 12 digits (YYYYMMDDHHMM)");return}const z=prompt("Payment method:","E-TRANSFER");z&&n(A,{status:"PAID",timestamp:D,method:z.toUpperCase(),amount:20})},U=(A,$)=>{confirm(` MARK ${$} AS UNPAID?

This will make them INELIGIBLE to win prizes!

Continue?`)&&n(A,{status:"UNPAID",timestamp:null,method:null,amount:null})},B=(A,$,D,z)=>{(D===!1?"SHOW":"HIDE")==="HIDE"&&z&&!confirm(` HIDE ${$}?

This player is PAID!

Hiding them will make them INELIGIBLE to win prizes.

Continue?`)||r(A)},W=(A,$,D,z)=>{if(z){alert(` Cannot hide ${$} from table - they have submitted picks!`);return}const V=D===!0?"HIDE":"SHOW";confirm(`${V==="SHOW"?"":""} ${V} ${$} IN TABLE?

This will ${V==="SHOW"?"add them to":"remove them from"} the "All Player Picks" table.

Continue?`)&&o(A)},pe=(A,$)=>{confirm(` PERMANENTLY REMOVE ${$}?

This will delete the player from ALL views (Pool Manager + Players).

This CANNOT be undone!

Type the player name to confirm:`)&&(prompt(`Type "${$}" to confirm deletion:`)===$?(s(A),alert(` ${$} has been permanently removed.`)):alert(" Name did not match. Deletion cancelled."))},Y=A=>{const $=A.paymentStatus==="PAID",D=A.visibleToPlayers!==!1;return $&&D?{eligible:!0,badge:"",text:"ELIGIBLE"}:!$&&D?{eligible:!1,badge:"",text:"NOT PAID"}:$&&!D?{eligible:!1,badge:"",text:"HIDDEN"}:{eligible:!1,badge:"",text:"UNPAID+HIDDEN"}};return i.jsxs("div",{className:"payment-management-container",children:[i.jsx("h2",{children:" Payment Management"}),i.jsx("p",{className:"subtitle",children:"Track player payments, manage visibility, and control table display"}),i.jsxs("div",{className:"eligibility-warning",children:[i.jsx("h3",{children:" Prize Eligibility Rule"}),i.jsxs("p",{children:[i.jsx("strong",{children:"Only players who are PAID + VISIBLE can win prizes!"}),i.jsx("br",{}),"Actions that make players ineligible:"]}),i.jsxs("ul",{children:[i.jsx("li",{children:" Mark as UNPAID  Player cannot win prizes"}),i.jsx("li",{children:" Hide Player  Player cannot win prizes"}),i.jsx("li",{children:" Mark as PAID + Show Player  Player can win prizes"})]})]}),i.jsxs("div",{className:"payment-stats",children:[i.jsxs("div",{className:"stat-box paid",children:[i.jsx("div",{className:"stat-value",children:L.paid}),i.jsx("div",{className:"stat-label",children:"Paid Players"})]}),i.jsxs("div",{className:"stat-box unpaid",children:[i.jsx("div",{className:"stat-value",children:L.unpaid}),i.jsx("div",{className:"stat-label",children:"Unpaid Players"})]}),i.jsxs("div",{className:"stat-box eligible",children:[i.jsx("div",{className:"stat-value",children:L.eligible}),i.jsx("div",{className:"stat-label",children:" Eligible to Win"})]}),i.jsxs("div",{className:"stat-box total",style:{background:"linear-gradient(135deg, #e0f2fe 0%, #bae6fd 100%)",border:"3px solid #0ea5e9"},children:[i.jsx("div",{className:"stat-value",children:L.inTable}),i.jsx("div",{className:"stat-label",children:" Shown in Table"})]}),i.jsxs("div",{className:"stat-box total",children:[i.jsxs("div",{className:"stat-value",children:["$",L.totalCollected]}),i.jsx("div",{className:"stat-label",children:"Total Collected"})]})]}),i.jsxs("div",{className:"batch-entry-section",children:[i.jsx("h3",{children:" Quick Batch Entry"}),i.jsxs("p",{className:"batch-instructions",children:["Enter payments (one per line)",i.jsx("br",{}),i.jsx("strong",{children:"Format:"})," Name - YYYYMMDDHHMM - method",i.jsx("br",{}),i.jsx("strong",{children:"Example:"})," Bob Casson - 202412200815 - etransfer"]}),i.jsx("textarea",{className:"batch-input",value:c,onChange:A=>a(A.target.value),placeholder:`Bob Casson - 202412200815 - etransfer
Bonnie Biletski - 202412201430 - cash
Richard Smith - 202412212130 - etransfer`,rows:8}),i.jsxs("div",{className:"batch-buttons",children:[i.jsx("button",{className:"save-batch-btn",onClick:x,children:" Save All Payments"}),i.jsx("button",{className:"clear-batch-btn",onClick:()=>a(""),children:" Clear"})]})]}),i.jsxs("div",{className:"payment-table-section",children:[i.jsx("h3",{children:" All Players - Payment Status & Table Display"}),i.jsxs("div",{className:"table-controls",children:[i.jsx("input",{type:"text",className:"search-input",placeholder:" Search by name or code...",value:u,onChange:A=>g(A.target.value)}),i.jsxs("div",{className:"filter-buttons",children:[i.jsxs("button",{className:f==="all"?"active":"",onClick:()=>h("all"),children:["All (",t.length,")"]}),i.jsxs("button",{className:f==="paid"?"active":"",onClick:()=>h("paid"),children:["Paid (",L.paid,")"]}),i.jsxs("button",{className:f==="unpaid"?"active":"",onClick:()=>h("unpaid"),children:["Unpaid (",L.unpaid,")"]})]}),i.jsxs("select",{className:"sort-select",value:C,onChange:A=>b(A.target.value),children:[i.jsx("option",{value:"name",children:"Sort by Name"}),i.jsx("option",{value:"status",children:"Sort by Status"}),i.jsx("option",{value:"time",children:"Sort by Payment Time"})]})]}),i.jsx("div",{className:"payment-table-wrapper",children:i.jsxs("table",{className:"payment-table",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Player Name"}),i.jsx("th",{children:"Code"}),i.jsx("th",{children:"Payment Status"}),i.jsx("th",{children:"Payment Time"}),i.jsx("th",{children:"Method"}),i.jsx("th",{children:"Picks"}),i.jsx("th",{children:"Show in Table"}),i.jsx("th",{children:"Visibility"}),i.jsx("th",{children:"Prize Eligibility"}),i.jsx("th",{children:"Actions"})]})}),i.jsx("tbody",{children:N.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:"10",className:"no-results",children:"No players found"})}):N.map(A=>{const $=A.paymentStatus||"UNPAID",D=A.visibleToPlayers!==!1,z=$==="PAID",V=Y(A),Z=P(A.playerCode),Q=A.showInPicksTable===!0;return i.jsxs("tr",{className:`status-${$.toLowerCase()} ${V.eligible?"eligible-row":"ineligible-row"}`,children:[i.jsx("td",{className:"player-name-cell",children:A.playerName}),i.jsx("td",{className:"code-cell",children:i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[i.jsx("span",{children:A.playerCode}),i.jsx("button",{onClick:()=>R(A),style:{padding:"4px 8px",background:"#667eea",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.7rem",fontWeight:"600",whiteSpace:"nowrap"},title:"Edit access code",children:" Edit"})]})}),i.jsxs("td",{className:"status-cell",children:[$==="PAID"&&i.jsx("span",{className:"status-badge paid",children:" PAID"}),$==="UNPAID"&&i.jsx("span",{className:"status-badge unpaid",children:" UNPAID"}),$==="PENDING"&&i.jsx("span",{className:"status-badge pending",children:" PENDING"})]}),i.jsx("td",{className:"time-cell",children:A.paymentTimestamp||""}),i.jsx("td",{className:"method-cell",children:A.paymentMethod||""}),i.jsx("td",{className:"picks-cell",children:Z?i.jsx("span",{style:{color:"#10b981",fontWeight:"bold"},children:" Has Picks"}):i.jsx("span",{style:{color:"#ef4444"},children:"No Picks"})}),i.jsx("td",{className:"table-display-cell",children:Z?i.jsx("span",{className:"table-badge locked",children:" IN TABLE "}):Q?i.jsx("button",{className:"table-toggle-btn show",onClick:()=>W(A.playerCode,A.playerName,Q,Z),children:" Shown"}):i.jsx("button",{className:"table-toggle-btn hide",onClick:()=>W(A.playerCode,A.playerName,Q,Z),children:" Hidden"})}),i.jsx("td",{className:"visibility-cell",children:D?i.jsx("span",{className:"visibility-badge visible",children:" VISIBLE"}):i.jsx("span",{className:"visibility-badge hidden",children:" HIDDEN"})}),i.jsx("td",{className:"eligibility-cell",children:i.jsxs("span",{className:`eligibility-badge ${V.eligible?"eligible":"ineligible"}`,children:[V.badge," ",V.text]})}),i.jsx("td",{className:"actions-cell",children:i.jsxs("div",{className:"action-buttons",children:[$!=="PAID"?i.jsx("button",{className:"action-btn paid-btn",onClick:()=>G(A.playerCode,A.playerName),title:"Mark as Paid",children:" Mark Paid"}):i.jsx("button",{className:"action-btn unpaid-btn",onClick:()=>U(A.playerCode,A.playerName),title:"Mark as Unpaid (Makes Ineligible!)",children:" Mark Unpaid"}),i.jsx("button",{className:"action-btn visibility-btn",onClick:()=>B(A.playerCode,A.playerName,D,z),title:D?"Hide from Players (Makes Ineligible!)":"Show to Players",children:D?" Hide":" Show"}),i.jsx("button",{className:"action-btn remove-btn",onClick:()=>pe(A.playerCode,A.playerName),title:"Remove Permanently",children:" Remove"})]})})]},A.playerCode)})})]})}),i.jsxs("div",{className:"table-footer",children:["Showing ",N.length," of ",t.length," players |  ",L.eligible," Eligible to Win Prizes |  ",L.inTable," Shown in Picks Table"]})]})]})},RC={apiKey:"AIzaSyDr3PPXC90wvQW_LG8TkAyR9K-7e0loQ3A",authDomain:"nfl-playoff-pool-2025-scores.firebaseapp.com",databaseURL:"https://nfl-playoff-pool-2025-scores-default-rtdb.firebaseio.com",projectId:"nfl-playoff-pool-2025-scores",storageBucket:"nfl-playoff-pool-2025-scores.firebasestorage.app",messagingSenderId:"844539772456",appId:"1:844539772456:web:9bbfcf523195a5eedfff1d"},AC=iy(RC),ee=ba(AC),Ah={firstFriday:"2026-01-09",lastMonday:"2026-02-09"},Dn={wildcard:"2026-01-10",divisional:"2026-01-17",conference:"2026-01-25",superbowl:"2026-02-08"},mn=["76BB89","Z9Y8X7"],Oe={"76BB89":"POOL MANAGER - Richard",Z9Y8X7:"POOL MANAGER - Dennis",J239W4:"Bob Casson",B7Y4X3:"Bob Desrosiers",PG3MR8:"Bob Pich",D4F7G5:"Bonnie Biletski","536EE2":"Brian Colburg",X8HH67:"Chris Neufeld",W2FD56:"Colin Pich","4HX33H":"Corey Denham",G7R3P5:"Curtis Braun",A4LJC9:"Curtis Palidwor",X3P8N1:"Dallas Pylypow",W32R1Z:"Daniel Bennett",HM8T67:"Darrell Klassen",TA89R2:"Dave Boyarski",K2P9W5:"Dave Desrosiers",A5K4T7:"Dennis Biletski","6WRUJR":"Emily Chadwick",AB6C89:"Gareth Reeve","6FSH6G":"Harold Braun",XX87CW:"Ian Pich",D3F6G9:"Jarrod Reimer",T42B67:"Jo Behr",PUEFKF:"Joshua Biletski",ABC378:"Ken Mcleod",K9R3N6:"Kevin Pich",H7P3N5:"Larry Bretecher",B5R4T6:"Larry Strand",BSSWRR:"Marcus Degenhardt","72GG3D":"Mark Lang TSBC?","2Q93DB":"Michael Pilato",L2W9X2:"Michelle Desrosiers","5GGPL3":"Mike Brkich",PC12L3:"Natasha Biletski",T4M8Z8:"Neema Dadmand","9CD72G":"Neil Banman",T7Y4R8:"Neil Foster",KWBZ86:"Nick Melanidis","2WQA9X":"Nima Ahmadi",E4T6J7:"Orest Pich",N4M8Q2:"Randy Moffatt",B8L9M2:"Richard Biletski","62R92L":"Rob Crowe",H8M3N7:"Rob Kost",WW3F44:"Ryan Moffatt",MX8A7H:"Tim Gunness",E5G7G8:"Tony Creta",WXY324:"Travis Biletski",KD2RD2:"Travis McKillop"},ke={wildcard:{name:"Wild Card Round (Jan 10-12, 2026)",deadline:"Friday, January 9, 2026 at 11:59 PM PST",games:[{id:5,team1:"AFC #7",team2:"AFC #2"},{id:3,team1:"AFC #6",team2:"AFC #3"},{id:6,team1:"AFC #5",team2:"AFC #4"},{id:2,team1:"NFC #7",team2:"NFC #2"},{id:4,team1:"NFC #6",team2:"NFC #3"},{id:1,team1:"NFC #5",team2:"NFC #4"}]},divisional:{name:"Divisional Round (Jan 17-18, 2026)",deadline:"Friday, January 16, 2026 at 11:59 PM PST",games:[{id:7,team1:"BUF",team2:"DEN"},{id:8,team1:"SF",team2:"SEA"},{id:9,team1:"HOU",team2:"NE"},{id:10,team1:"LAR",team2:"CHI"}]},conference:{name:"Conference Championships (Jan 25, 2026)",deadline:"Friday, January 23, 2026 at 11:59 PM PST",games:[{id:11,team1:"AFC Winner A",team2:"AFC Winner B"},{id:12,team1:"NFC Winner A",team2:"NFC Winner B"}]},superbowl:{name:"Super Bowl LIX (Feb 8, 2026)",deadline:"Friday, February 6, 2026 at 11:59 PM PST",games:[{id:13,team1:"AFC Champion",team2:"NFC Champion"}]}},Ae=(t,e,n,r)=>{var s;if(!((s=r==null?void 0:r.week1)!=null&&s.configured)){const o=ke[t].games.find(l=>l.id===e);return o?o[n]:`Team ${n}`}if(t==="wildcard"){const o=ke.wildcard.games.find(a=>a.id===e);if(!o)return"TBD";const l=o[n],c=l.match(/(AFC|NFC) #(\d)/);if(c){const a=c[1].toLowerCase(),u=parseInt(c[2]),g=r.week1[a][`seed${u}`];if(g)return`${g.name} (${l})`}return l}if(t==="divisional"){const o=ke.divisional.games.find(c=>c.id===e);if(!o)return"TBD";const l=o[n];if(r!=null&&r.week2){let c=null;if(e===7?c=r.week2.afc[0][n]:e===8?c=r.week2.afc[1][n]:e===9?c=r.week2.nfc[0][n]:e===10&&(c=r.week2.nfc[1][n]),c)return`${c.name} (${l})`}return l}if(t==="conference"){const o=ke.conference.games.find(c=>c.id===e);if(!o)return"TBD";const l=o[n];if(r!=null&&r.week3){let c=null;if(e===11?c=r.week3.afcChampionship[n]:e===12&&(c=r.week3.nfcChampionship[n]),c)return`${c.name} (${l})`}return l}if(t==="superbowl"){const o=ke.superbowl.games.find(c=>c.id===e);if(!o)return"TBD";const l=o[n];if(r!=null&&r.week4){const c=r.week4.superBowl[n];if(c)return`${c.name} (${l})`}return l}return"TBD"},DC=[{score:3,visitor:2,home:3},{score:6,visitor:8,home:3},{score:7,visitor:3,home:4},{score:8,visitor:2,home:1},{score:9,visitor:7,home:4},{score:10,visitor:14,home:12},{score:11,visitor:1,home:0},{score:12,visitor:2,home:3},{score:13,visitor:14,home:10},{score:14,visitor:5,home:8},{score:15,visitor:2,home:4},{score:16,visitor:9,home:7},{score:17,visitor:11,home:13},{score:18,visitor:2,home:4},{score:19,visitor:5,home:9},{score:20,visitor:19,home:25},{score:21,visitor:10,home:13},{score:22,visitor:8,home:6},{score:23,visitor:13,home:9},{score:24,visitor:23,home:11},{score:25,visitor:2,home:5},{score:26,visitor:12,home:10},{score:27,visitor:19,home:19},{score:28,visitor:7,home:8},{score:29,visitor:5,home:6},{score:30,visitor:7,home:6},{score:31,visitor:17,home:6},{score:32,visitor:3,home:3},{score:33,visitor:6,home:3},{score:34,visitor:7,home:12},{score:35,visitor:2,home:3},{score:36,visitor:0,home:2},{score:37,visitor:5,home:4},{score:38,visitor:5,home:4},{score:39,visitor:1,home:1},{score:40,visitor:4,home:4},{score:41,visitor:3,home:5},{score:42,visitor:2,home:3},{score:43,visitor:0,home:0},{score:44,visitor:2,home:6},{score:45,visitor:2,home:0},{score:46,visitor:0,home:0},{score:47,visitor:1,home:0},{score:48,visitor:1,home:2},{score:49,visitor:0,home:0},{score:50,visitor:0,home:0},{score:51,visitor:0,home:0},{score:52,visitor:0,home:1}].map(t=>({...t,total:t.visitor+t.home,frequency:t.visitor+t.home>=30?"very-common":t.visitor+t.home>=15?"common":t.visitor+t.home>=5?"less-common":"rare"})),Ul=()=>{const t=new Date;return new Date(t.toLocaleString("en-US",{timeZone:"America/Los_Angeles"}))},WC=()=>{const t=Ul(),e=t.getDay();let n=(5-e+7)%7;e===5&&t.getHours()>=23&&t.getMinutes()>=59&&(n=7),n===0&&(t.getHours()<23||t.getHours()===23&&t.getMinutes()<59)&&(n=0);const r=new Date(t);return r.setDate(r.getDate()+n),r.setHours(23,59,59,999),r},Dh=()=>{const t=Ul(),n=WC()-t;if(n<=0)return{expired:!0,hours:0,minutes:0,seconds:0,formatted:"00:00:00"};const r=Math.floor(n/(1e3*60*60)),s=Math.floor(n%(1e3*60*60)/(1e3*60)),o=Math.floor(n%(1e3*60)/1e3);return{expired:!1,hours:r,minutes:s,seconds:o,formatted:`${r.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`}};function LC(){var Tf;const[t,e]=F.useState("picks"),[n,r]=F.useState(""),[s,o]=F.useState(""),[l,c]=F.useState(!1),[a,u]=F.useState("wildcard"),[g,f]=F.useState({}),[h,C]=F.useState([]),[b,P]=F.useState(!1),[R,S]=F.useState(!1),[x,N]=F.useState(1),[L,G]=F.useState("asc"),[U,B]=F.useState({}),[W,pe]=F.useState({}),[Y,A]=F.useState({}),[$,D]=F.useState({wildcard:"",divisional:"",conference:"",superbowl_week4:"",superbowl_week3:"",superbowl_week2:"",superbowl_week1:"",superbowl_grand:""}),[z,V]=F.useState({}),[Z,Q]=F.useState({}),[E,q]=F.useState({}),[se,de]=F.useState(!1),[le,Ke]=F.useState({superbowl_week4:!1,superbowl_week3:!1,superbowl_week2:!1,superbowl_week1:!1,superbowl_grand:!1}),[je,tt]=F.useState({wildcard:{locked:!1,lockDate:null,autoLockDate:Dn.wildcard},divisional:{locked:!1,lockDate:null,autoLockDate:Dn.divisional},conference:{locked:!1,lockDate:null,autoLockDate:Dn.conference},superbowl:{locked:!1,lockDate:null,autoLockDate:Dn.superbowl}}),[ue,ut]=F.useState({}),[ar,Ms]=F.useState(null),[ae,Sa]=F.useState(null),[Ie,df]=F.useState("asc"),[zC,N0]=F.useState(null),[j0,ho]=F.useState(!1),[mo,T0]=F.useState(Ul()),[cr,P0]=F.useState(Dh()),[I0,R0]=F.useState(!1),[Mr,Pn]=F.useState(!1),[dr,ft]=F.useState(null),[go,_a]=F.useState(null),[Fs,uf]=F.useState(!1),[ff,pf]=F.useState([]),[A0,D0]=F.useState([]),[Ca,W0]=F.useState({}),[ce,hf]=F.useState(null),[we,mf]=F.useState({totalFees:0,prizeValue:0,numberOfPlayers:0,entryFee:20,perfectScoreBonusEnabled:!1,perfectScorePrizeType:"dollar",perfectScorePrizeAmount:0,perfectScoreCutoff:30}),[L0,yo]=F.useState(!1),[Ea,Bs]=F.useState({}),[z0,O0]=F.useState({}),[M0,$s]=F.useState(!1),[_e,Fr]=F.useState(""),[Br,Us]=F.useState(null),[ur,Hs]=F.useState(null),[F0,Gs]=F.useState(!1),[gf,$r]=F.useState(null),[Vs,Na]=F.useState(null),[OC,MC]=F.useState(!1),[FC,BC]=F.useState("dollar"),[$C,UC]=F.useState(""),[HC,GC]=F.useState(""),[VC,YC]=F.useState(!0),[KC,QC]=F.useState(!1),[fr,yf]=F.useState([]),ve=()=>mn.includes(s)&&l,B0=async(d,v)=>{try{const p=te(ee,"players"),m=await mt(p);if(!m.exists()){alert(" No players found in database.");return}const y=m.val();let k=null;for(const[w,_]of Object.entries(y))if(_.playerCode===d){k=w;break}if(!k){alert(` Player ${d} not found.`);return}const j=te(ee,`players/${k}`);await xr(j,{paymentStatus:v.status,paymentTimestamp:v.timestamp,paymentMethod:v.method,paymentAmount:v.amount,updatedAt:Date.now()}),console.log(` Payment updated for ${d}`)}catch(p){console.error("Error updating payment:",p),alert(" Error updating payment. Please try again.")}},$0=async d=>{try{const v=te(ee,"players"),p=await mt(v);if(!p.exists()){alert(" No players found in database.");return}const m=p.val();let y=null,k=!0;for(const[_,T]of Object.entries(m))if(T.playerCode===d){y=_,k=T.visibleToPlayers!==!1;break}if(!y){alert(` Player ${d} not found.`);return}const j=!k,w=te(ee,`players/${y}`);await xr(w,{visibleToPlayers:j,updatedAt:Date.now()}),console.log(` Visibility toggled for ${d}: ${j?"VISIBLE":"HIDDEN"}`),alert(` Player ${k?"hidden from":"shown to"} regular players!`)}catch(v){console.error("Error toggling visibility:",v),alert(" Error updating visibility. Please try again.")}},U0=async d=>{try{const v=te(ee,"players"),p=await mt(v);if(!p.exists()){alert(" No players found in database.");return}const m=p.val();let y=null,k="";for(const[w,_]of Object.entries(m))if(_.playerCode===d){y=w,k=_.playerName||d;break}if(!y){alert(` Player ${d} not found.`);return}const j=te(ee,`players/${y}`);await tl(j),console.log(` Player ${d} removed permanently`),alert(` ${k} has been permanently removed from the system.`)}catch(v){console.error("Error removing player:",v),alert(" Error removing player. Please try again.")}},H0=async d=>{try{const v=te(ee,"players"),p=await mt(v);if(!p.exists()){alert(" No players found in database.");return}const m=p.val();let y=null,k=!1;for(const[_,T]of Object.entries(m))if(T.playerCode===d){y=_,k=T.showInPicksTable===!0;break}if(!y){alert(` Player ${d} not found.`);return}const j=!k,w=te(ee,`players/${y}`);await xr(w,{showInPicksTable:j,updatedAt:Date.now()}),console.log(` Table display toggled for ${d}: ${j?"SHOW":"HIDE"}`)}catch(v){console.error("Error toggling table display:",v),alert(" Error updating table display. Please try again.")}},G0=async(d,v)=>{try{const p=te(ee,"players"),m=await mt(p);if(!m.exists()){alert(" No players found in database.");return}const y=m.val();let k=null,j="";for(const[_,T]of Object.entries(y))if(T.playerCode===d){k=_,j=T.playerName;break}if(!k){alert(` Player with code ${d} not found.`);return}const w=te(ee,`players/${k}`);await xr(w,{playerCode:v,updatedAt:Date.now()}),console.log(` Updated ${j}: ${d}  ${v}`),alert(` Code Updated!

Player: ${j}
Old: ${d}
New: ${v}

 Make sure to tell the player their new code!`)}catch(p){console.error("Error updating player code:",p),alert(" Error updating code: "+p.message)}},V0=async()=>{try{const d=te(ee,"players"),v=await mt(d);if(!v.exists()){alert(" No players found in database.");return}const p=v.val(),m=Object.entries(p).map(([I,O])=>({"Firebase Key":I,"Player Name":O.playerName||"","Access Code":O.playerCode||"",Role:O.role||"PLAYER","Payment Status":O.paymentStatus||"UNPAID","Payment Time":O.paymentTimestamp?new Date(O.paymentTimestamp).toLocaleString():"","Payment Method":O.paymentMethod||"","Payment Amount":O.paymentAmount||0,"Visible to Players":O.visibleToPlayers?"YES":"NO","Show in Picks Table":O.showInPicksTable?"YES":"NO",Created:O.createdAt?new Date(O.createdAt).toLocaleString():"","Last Updated":O.updatedAt?new Date(O.updatedAt).toLocaleString():""}));m.sort((I,O)=>I["Player Name"].localeCompare(O["Player Name"]));const y=Object.keys(m[0]),k=[y.join(","),...m.map(I=>y.map(O=>{const M=I[O].toString();return M.includes(",")||M.includes('"')?`"${M.replace(/"/g,'""')}"`:M}).join(","))].join(`
`),j=new Blob([k],{type:"text/csv;charset=utf-8;"}),w=document.createElement("a"),_=URL.createObjectURL(j),T=new Date().toISOString().split("T")[0];w.setAttribute("href",_),w.setAttribute("download",`NFL_Pool_Players_${T}.csv`),w.style.visibility="hidden",document.body.appendChild(w),w.click(),document.body.removeChild(w),alert(` SUCCESS!

Downloaded ${m.length} players to CSV file!

File: NFL_Pool_Players_${T}.csv

Open with Excel or Google Sheets.`)}catch(d){console.error("Error exporting players:",d),alert(" Error exporting players: "+d.message)}},Y0=()=>{let d=Math.floor(Math.random()*41)+10,v=Math.floor(Math.random()*41)+10;for(;d===v;)v=Math.floor(Math.random()*41)+10;return{team1:d,team2:v}},xf=()=>{const d=ke[a].games,v={};d.forEach(p=>{v[p.id]=Y0()}),Hs(v),Gs(!0)},K0=async()=>{if(!_e||!ur)return;const d=Oe[_e];if(d)try{const v=te(ee,"picks"),p=await mt(v);let m=null;if(p.exists()){const k=p.val();for(const[j,w]of Object.entries(k))if(w.playerCode===_e&&w.week===a){m=j;break}}const y={playerName:d,playerCode:_e,week:a,predictions:ur,timestamp:m&&p.val()[m].timestamp||Date.now(),lastUpdated:Date.now(),enteredBy:"POOL_MANAGER_RNG",enteredByCode:s,enteredByName:n};m?await be(te(ee,`picks/${m}`),y):await vr(te(ee,"picks"),y),alert(` RNG picks successfully submitted for ${d}!`),Gs(!1),Hs(null),$s(!1),Fr("")}catch(v){console.error("Error submitting RNG picks:",v),alert(" Error submitting RNG picks. Please try again.")}},Q0=()=>{if(!_e)return;const d=h.find(v=>v.playerCode===_e&&v.week===a);d&&d.predictions?(f(d.predictions),Bs({...d.predictions}),Us("manual")):(f({}),Bs({}),Us("manual"))},q0=async d=>{if(d.preventDefault(),!_e){alert("Please select a player first.");return}const v=Oe[_e];ke[a];try{const p=te(ee,"picks"),m=await mt(p);let y=null;if(m.exists()){const j=m.val();for(const[w,_]of Object.entries(j))if(_.playerCode===_e&&_.week===a){y=w;break}}const k={playerName:v,playerCode:_e,week:a,predictions:g,timestamp:y&&m.val()[y].timestamp||Date.now(),lastUpdated:Date.now(),enteredBy:"POOL_MANAGER_MANUAL",enteredByCode:s,enteredByName:n};y?await be(te(ee,`picks/${y}`),k):await vr(te(ee,"picks"),k),alert(` Picks successfully submitted for ${v}!`),f({}),$s(!1),Fr(""),Us(null)}catch(p){console.error("Error submitting picks for player:",p),alert(" Error submitting picks. Please try again.")}},X0=async()=>{if(!_e)return;const d=Oe[_e];try{console.log(" DEBUG: Starting delete for player:",d),console.log(" DEBUG: Player code:",_e),console.log(" DEBUG: Current week:",a);const v=te(ee,"picks"),p=await mt(v);if(console.log(" DEBUG: Got snapshot, exists?",p.exists()),p.exists()){const m=p.val();console.log(" DEBUG: Total picks in database:",Object.keys(m).length);let y=null;for(const[k,j]of Object.entries(m))if(console.log(` DEBUG: Checking pick ${k}:`,j.playerCode,j.week),j.playerCode===_e&&j.week===a){y=k,console.log(" DEBUG: FOUND KEY TO DELETE:",y);break}y?(console.log(" DEBUG: Attempting to delete key:",y),await tl(te(ee,`picks/${y}`)),console.log(" DEBUG: Delete successful!"),alert(` ${d}'s picks for ${a==="wildcard"?"Week 1":a==="divisional"?"Week 2":a==="conference"?"Week 3":"Week 4"} have been deleted!`)):(console.log(" DEBUG: No pick found to delete"),alert(` ${d} has no picks for this week.`))}$r(null),Fr("")}catch(v){console.error(" DEBUG: Error deleting picks:",v),console.error(" DEBUG: Error message:",v.message),console.error(" DEBUG: Error code:",v.code),alert(` Error deleting picks: ${v.message}

Check browser console (F12) for details.`)}},J0=async()=>{if(!_e)return;const d=Oe[_e];try{console.log(" DEBUG: Starting delete ALL for player:",d),console.log(" DEBUG: Player code:",_e);const v=te(ee,"picks"),p=await mt(v);if(console.log(" DEBUG: Got snapshot, exists?",p.exists()),p.exists()){const m=p.val(),y=[];console.log(" DEBUG: Total picks in database:",Object.keys(m).length);for(const[k,j]of Object.entries(m))j.playerCode===_e&&(console.log(" DEBUG: Found pick to delete:",k,j.week),y.push(k));if(console.log(" DEBUG: Total keys to delete:",y.length),y.length>0){console.log(" DEBUG: Attempting to delete keys:",y);const k=y.map(j=>tl(te(ee,`picks/${j}`)));await Promise.all(k),console.log(" DEBUG: Delete ALL successful!"),alert(` ALL picks for ${d} have been deleted!

Deleted ${y.length} pick(s) across all weeks.`)}else console.log(" DEBUG: No picks found to delete"),alert(` ${d} has no picks in any week.`)}$r(null),Fr(""),$s(!1)}catch(v){console.error(" DEBUG: Error deleting all picks:",v),console.error(" DEBUG: Error message:",v.message),console.error(" DEBUG: Error code:",v.code),alert(` Error deleting picks: ${v.message}

Check browser console (F12) for details.`)}},Z0=async d=>{try{console.log(" Clearing week data for:",d),U[d]&&(await be(te(ee,`teamCodes/${d}`),null),console.log(" Cleared team codes")),W[d]&&(await be(te(ee,`actualScores/${d}`),null),console.log(" Cleared actual scores")),Y[d]&&(await be(te(ee,`gameStatus/${d}`),null),console.log(" Cleared game status")),alert(` Week ${d==="wildcard"?"1":d==="divisional"?"2":d==="conference"?"3":"4"} data cleared!

Team names, scores, and statuses have been deleted.
Player picks are still intact.`),Na(null)}catch(v){console.error(" Error clearing week data:",v),alert(` Error clearing week data: ${v.message}`)}},Ur=(d,v,p,m,y,k)=>{const j=Number(d)>Number(v),w=Number(v)>Number(d);if(d===v||!d||!v)return{background:"transparent",color:"#000"};if(!p&&!m)return k&&j?{background:"#b3e5fc",color:"#000"}:!k&&w?{background:"#b3e5fc",color:"#000"}:{background:"transparent",color:"#000"};if(p!==void 0&&m!==void 0&&p!==""&&m!==""){const _=Number(p)>Number(m),T=Number(m)>Number(p);if(!y||y===""){if(k&&j)return _?{background:"#fff9c4",color:"#000"}:{background:"#b3e5fc",color:"#000"};if(!k&&w)return T?{background:"#fff9c4",color:"#000"}:{background:"#b3e5fc",color:"#000"}}if(y==="live"){if(k&&j)return _?{background:"#c8e6c9",color:"#000"}:{background:"#ffcdd2",color:"#000"};if(!k&&w)return T?{background:"#c8e6c9",color:"#000"}:{background:"#ffcdd2",color:"#000"}}if(y==="final"){if(k&&j)return _?{background:"#4caf50",color:"#000"}:{background:"#f44336",color:"#000"};if(!k&&w)return T?{background:"#4caf50",color:"#000"}:{background:"#f44336",color:"#000"}}}return{background:"transparent",color:"#000"}},ex=async(d,v,p,m,y,k,j)=>{try{const w=d/10,_={totalFees:Number(d),prizeValue:Number(w.toFixed(2)),numberOfPlayers:Number(v),entryFee:Number(p),perfectScoreBonusEnabled:m||!1,perfectScorePrizeType:y||"dollar",perfectScorePrizeAmount:m?Number(k):0,perfectScoreCutoff:m?Number(j):30,lastUpdated:new Date().toISOString()};await be(te(ee,"prizePool"),_),mf(_);let T=` Prize pool saved!

Total Pool: $${d}
Each Prize: $${w.toFixed(2)} (10%)`;if(m){const I=y==="percentage"?(d*k/100).toFixed(2):k;T+=`

 Perfect Score Prizes:
Type: ${y==="percentage"?k+"% of total pool":"Fixed amount"}
Prize Pool: $${I}
Cutoff: ${j} perfect scores`}alert(T),yo(!1)}catch(w){console.error("Error saving prize pool:",w),alert(` Error saving prize pool: ${w.message}`)}},tx=async(d,v)=>{try{const p={weekKey:d,prizes:v,publishedBy:s,publishedByName:n,publishedAt:new Date().toISOString(),published:!0};await be(te(ee,`officialWinners/${d}`),p);const y={wildcard:"week1",divisional:"week2",conference:"week3",superbowl:"week4",grand:"grand"}[d],k={};v.forEach(j=>{const w=j.prizeNumber;let _;y==="grand"?_=w===9?"grand_prize1":"grand_prize2":_=`${y}_prize${w%2===1?"1":"2"}`,k[_]=!0});for(const[j,w]of Object.entries(k))await be(te(ee,`publishedWinners/${j}`),w);alert(` Winners published for ${d}!`)}catch(p){console.error("Error publishing winners:",p),alert(` Error publishing winners: ${p.message}`)}},nx=async d=>{try{await be(te(ee,`officialWinners/${d}/published`),!1);const p={wildcard:"week1",divisional:"week2",conference:"week3",superbowl:"week4",grand:"grand"}[d],m=p==="grand"?[9,10]:p==="week1"?[1,2]:p==="week2"?[3,4]:p==="week3"?[5,6]:[7,8];for(const y of m){let k;p==="grand"?k=y===9?"grand_prize1":"grand_prize2":k=`${p}_prize${y%2===1?"1":"2"}`,await be(te(ee,`publishedWinners/${k}`),!1)}alert(` Winners unpublished for ${d}. You can now edit them.`)}catch(v){console.error("Error unpublishing winners:",v),alert(` Error unpublishing winners: ${v.message}`)}},vf=d=>{const v=Dn[d];if(!v)return!1;const p=new Date,m=new Date(p.toLocaleString("en-US",{timeZone:"America/Los_Angeles"})),y=new Date(v+"T00:00:00"),k=new Date(y);return k.setDate(k.getDate()-1),k.setHours(23,59,59,999),m>=k},nn=d=>{var v;return ve()||d!==a?!1:(v=je[d])!=null&&v.locked?!0:vf(d)};F.useEffect(()=>{const d=te(ee,"weekLockStatus");gt(d,v=>{const p=v.val();if(p){const m={};Object.keys(Dn).forEach(y=>{var k,j;m[y]={locked:((k=p[y])==null?void 0:k.locked)||!1,lockDate:((j=p[y])==null?void 0:j.lockDate)||null,autoLockDate:Dn[y]}}),tt(m)}})},[]),F.useEffect(()=>{(()=>{const v=Ul();T0(v),P0(Dh());const m=v.getDay()===5,y=(Y==null?void 0:Y.superbowl)&&Object.values(Y.superbowl||{}).every(k=>k==="final");R0(m&&!y)})()},[Y]);const rx=d=>{const v=!je[d].locked,p=v?new Date().toISOString():null,m={...je,[d]:{...je[d],locked:v,lockDate:p}};tt(m),be(te(ee,`weekLockStatus/${d}`),{locked:v,lockDate:p,autoLockDate:Dn[d]}),alert(v?` Week ${d} is now LOCKED

Players cannot edit picks for this week.`:` Week ${d} is now UNLOCKED

Players can edit picks for this week.`)};F.useEffect(()=>{const d=te(ee,"picks");gt(d,v=>{const p=v.val();if(p){const m=Object.keys(p).map(y=>({...p[y],firebaseKey:y}));C(m)}else C([])})},[]),F.useEffect(()=>{const d=te(ee,"teamCodes");gt(d,v=>{const p=v.val();p&&B(p)})},[]),F.useEffect(()=>{const d=te(ee,"actualScores");gt(d,v=>{const p=v.val();p&&pe(p)})},[]),F.useEffect(()=>{const d=te(ee,"gameStatus");gt(d,v=>{const p=v.val();p&&A(p)})},[]),F.useEffect(()=>{const d=te(ee,"officialWinners");gt(d,v=>{const p=v.val();p&&W0(p)})},[]),F.useEffect(()=>{console.log(" Setting up weekCompletionStatus listener..."),console.log(" database object:",ee),console.log(" database type:",typeof ee);try{const d=te(ee,"weekCompletionStatus");console.log(" ref created:",d);const v=gt(d,p=>{console.log(" ===== SNAPSHOT RECEIVED =====");const m=p.val();console.log(" Data from Firebase:",m),console.log(" Data type:",typeof m);const y=m||{wildcard:!1,divisional:!1,conference:!1,superbowl:!1};console.log(" Final data to set:",y),hf(y),console.log(" weekCompletionStatus state updated")},p=>{console.error(" Firebase listener error:",p)});return console.log(" Listener attached successfully"),()=>{console.log(" Cleaning up listener"),v()}}catch(d){console.error(" Error setting up listener:",d)}},[]),F.useEffect(()=>{const d=te(ee,"prizePool");gt(d,v=>{const p=v.val();p&&mf(p)})},[]),F.useEffect(()=>{const d=te(ee,"calculatedWinners");gt(d,v=>{const p=v.val();p&&V(p)})},[]),F.useEffect(()=>{const d=te(ee,"publishedWinners");gt(d,v=>{const p=v.val();p&&Q(p)})},[]),F.useEffect(()=>{const d=te(ee,"playoffTeams");gt(d,v=>{const p=v.val();p?(q(p),console.log(" Loaded playoff teams:",p)):q({})})},[]),F.useEffect(()=>{const d=te(ee,"gameLocks");gt(d,v=>{const p=v.val();p&&ut(p)})},[]),F.useEffect(()=>{const d=te(ee,"manualWeekTotals");gt(d,v=>{const p=v.val();p&&D(p)})},[]),F.useEffect(()=>{if(l&&n&&h.length>0){const d=h.find(v=>v.playerName===n&&v.week===a);d&&d.predictions?(console.log("Loading existing picks for",n,"week",a),f(d.predictions)):(console.log("No existing picks found - clearing form"),f({}))}},[a,h,l,n]);const ja=F.useRef();F.useEffect(()=>{const d=()=>{ja.current&&ja.current()},v=new X_(d,5);return Ms(v),()=>{v&&v.stop()}},[]);const wf=async()=>{try{console.log("Fetching scores from ESPN...");const d=await Y_();if(!d.success){console.error("ESPN fetch failed:",d.error);return}console.log("ESPN games fetched:",d.games.length);const v=ke[a].games,p={};if(d.games.forEach(m=>{var k;const y=q_(m,ke,a,U);if(y){const j=y.gameId;if((k=ue[a])!=null&&k[j]){console.log(`Game ${j} is locked, skipping API update`);return}p[j]={team1:y.team1Score,team2:y.team2Score,source:"espn",lastUpdated:new Date().toISOString()};const w=y.isFinal?"final":y.isLive?"live":"";A(_=>({..._,[a]:{..._[a],[j]:w}})),w&&be(te(ee,`gameStatus/${a}/${j}`),w)}}),Object.keys(p).length>0){pe(y=>({...y,[a]:{...y[a],...p}}));const m=te(ee,`actualScores/${a}`);await be(m,{...W[a],...p}),console.log(`Updated ${Object.keys(p).length} games from ESPN`)}N0(new Date)}catch(d){console.error("Error fetching ESPN scores:",d)}};ja.current=wf;const sx=d=>{var v;console.log(" Toggle clicked for game:",d),console.log(" Current week:",a),console.log(" Current locks:",ue),console.log(" Current value for game",d,":",(v=ue[a])==null?void 0:v[d]),ut(p=>{const m={...p};m[a]||(m[a]={});const y=m[a][d],k=!y;console.log(" Old value:",y),console.log(" New value:",k),m[a][d]=k;const j=te(ee,`gameLocks/${a}/${d}`);return be(j,k),console.log(" Saved to Firebase:",k),console.log(" Returning new locks:",m),m})},kf=(d,v,p)=>{f(m=>({...m,[d]:{...m[d],[v]:p}})),console.log(" User typed score - setting hasUnsavedChanges to TRUE"),Pn(!0)},ix=()=>{if(Object.keys(g).some(p=>{var m,y;return((m=g[p])==null?void 0:m.team1)||((y=g[p])==null?void 0:y.team2)})&&!window.confirm(` WARNING!

Clicking RNG will OVERWRITE all your current picks!

Are you sure you want to continue?`))return;const v={};Ee.games.forEach(p=>{let m=Math.floor(Math.random()*43)+3,y=Math.floor(Math.random()*43)+3;for(;m===y;)y=Math.floor(Math.random()*43)+3;v[p.id]={team1:m.toString(),team2:y.toString()}}),f(v),console.log(" RNG: Setting hasUnsavedChanges to TRUE"),Pn(!0),console.log(" RNG: hasUnsavedChanges should now be true"),alert(` RNG picks generated for all ${Ee.games.length} games!

Score range: 3-45 points per team
No tied games guaranteed!

You can now edit any scores before submitting.`)},Ta=Uo.useRef({}),bf=(d,v,p)=>{var k,j,w,_,T;const m={...U,[a]:{...U[a]||{},[d]:{...((k=U[a])==null?void 0:k[d])||{},[v]:p.toUpperCase()}}};if(B(m),a==="conference"){const O={name:p.toUpperCase()},M={...E,week3:{...E.week3||{},afcChampionship:d===11?{...((j=E.week3)==null?void 0:j.afcChampionship)||{},[v]:O}:((w=E.week3)==null?void 0:w.afcChampionship)||{},nfcChampionship:d===12?{...((_=E.week3)==null?void 0:_.nfcChampionship)||{},[v]:O}:((T=E.week3)==null?void 0:T.nfcChampionship)||{}}};q(M),be(te(ee,"playoffTeams/week3"),M.week3)}const y=`${a}-${d}-${v}`;Ta.current[y]&&clearTimeout(Ta.current[y]),Ta.current[y]=setTimeout(()=>{be(te(ee,`teamCodes/${a}/${d}/${v}`),p.toUpperCase())},3e3)},Sf=(d,v,p)=>{var y;const m={...W,[a]:{...W[a]||{},[d]:{...((y=W[a])==null?void 0:y[d])||{},[v]:p}}};pe(m),be(te(ee,`actualScores/${a}/${d}/${v}`),p)};F.useEffect(()=>{const d=te(ee,"players"),v=gt(d,p=>{if(p.exists()){const m=p.val(),y=Object.keys(m).map(k=>({id:k,...m[k]}));yf(y),console.log(` Loaded ${y.length} players from Firebase`)}else console.log(" No players found in Firebase. Run migration script to create players table."),yf([])});return()=>v()},[]);const ox=(d,v)=>{const p={...Y,[a]:{...Y[a]||{},[d]:v}};A(p),be(te(ee,`gameStatus/${a}/${d}`),v)},Hr=(d,v)=>{const p={...$,[d]:v};D(p);const m=v!==""&&v!==null&&v!==void 0;Ke(y=>({...y,[d]:m})),be(te(ee,`manualWeekTotals/${d}`),v||null)},lx=(d,v,p)=>{console.log("Publishing prize:",d),Q(m=>({...m,[d]:!0})),be(te(ee,`publishedWinners/${d}`),!0),alert(` Published: ${v.title}

Winner: ${p.winner}

Players can now see this result!`)},ax=d=>{window.confirm(` UNPUBLISH PRIZE?

This will hide the winner from all players.

Continue?`)&&(console.log("Unpublishing prize:",d),Q(p=>({...p,[d]:!1})),be(te(ee,`publishedWinners/${d}`),!1),alert(" Prize unpublished successfully!"))},xo=d=>{var m;if(console.log(" Checking if all games final for:",d),console.log(" gameStatus:",Y),console.log(" gameStatus[weekKey]:",Y[d]),!Y||!Y[d])return console.log(" No game status found"),!1;const v=Y[d],p=((m=ke[d])==null?void 0:m.games)||[];return Object.keys(v).length<p.length?!1:p.every(y=>v[y.id]==="final")},vo=async d=>{console.log(" ===== CLOSE WEEK BUTTON CLICKED ====="),console.log(" weekKey:",d),console.log(" weekCompletionStatus:",ce);const v={wildcard:"Week 1",divisional:"Week 2",conference:"Week 3",superbowl:"Week 4"},p={wildcard:"divisional",divisional:"conference",conference:"superbowl",superbowl:null},m=v[d],y=p[d],k=y?v[y]:null;if(!window.confirm(` CLOSE ${m.toUpperCase()} & CONFIGURE ${k?k.toUpperCase():"NONE"}?

This will:
 Mark ${m} as completed
 ${y?`Allow you to configure ${k} teams immediately`:"Complete the playoffs"}
 ${m} results are finalized

Continue?`)){console.log(" User cancelled");return}console.log(" User confirmed, proceeding...");try{console.log(" Step 1: Creating updated status object...");const w={...ce,[d]:!0};console.log(" Updated status object:",w),console.log(" Step 2: Setting local state..."),hf(w),console.log(" Local state updated"),console.log(" Step 3: Saving to Firebase..."),console.log(" Firebase path:",`weekCompletionStatus/${d}`),console.log(" Firebase value:",!0),await be(te(ee,`weekCompletionStatus/${d}`),!0),console.log(" Firebase save successful! "),alert(y?` ${m} closed successfully!

You can now configure ${k} teams in the "Setup Playoff Teams" page.`:` ${m} closed successfully!

All playoffs complete!`)}catch(w){console.error(" ERROR CAUGHT "),console.error("Error object:",w),console.error("Error message:",w.message),console.error("Error name:",w.name),console.error("Error stack:",w.stack),alert(" Error closing week. Check console for details.")}},cx=async d=>{if(!ve()){alert(" Only Pool Manager can save playoff teams configuration.");return}try{const v=te(ee,"playoffTeams"),m={...E||{},...d};await be(v,m),console.log(" Playoff teams saved:",m)}catch(v){console.error(" Error saving playoff teams:",v),alert("Error saving playoff teams. Check console for details.")}},Ys=d=>{D(v=>({...v,[d]:""})),Ke(v=>({...v,[d]:!1})),be(te(ee,`manualWeekTotals/${d}`),null)},rn=d=>{ae===d?df(Ie==="asc"?"desc":"asc"):(Sa(d),df("asc"))},dx=d=>ae?[...d].sort((v,p)=>{var k,j;let m,y;if(ae==="correct")if(a==="superbowl"){const w=_=>{let T=0;return["wildcard","divisional","conference","superbowl"].forEach(O=>{const M=W[O];if(M&&Object.keys(M).length>0){const X=h.find(ne=>ne.playerCode===_.playerCode&&ne.week===O);X&&X.predictions&&Object.keys(M).forEach(ne=>{const re=M[ne],oe=X.predictions[ne];if(oe&&re&&re.team1&&re.team2&&oe.team1&&oe.team2){const fe=parseInt(re.team1),Ne=parseInt(re.team2),pr=parseInt(oe.team1),Vr=parseInt(oe.team2);if(!isNaN(fe)&&!isNaN(Ne)){const Pf=fe>Ne?"team1":Ne>fe?"team2":"tie",jx=pr>Vr?"team1":Vr>pr?"team2":"tie";Pf===jx&&Pf!=="tie"&&T++}}})}}),T};m=w(v),y=w(p)}else m=Ee.games.filter(w=>{var M;const _=v.predictions[w.id],T=(M=W[a])==null?void 0:M[w.id];if(!_||!T||!T.team1||!T.team2)return!1;const I=parseInt(T.team1)>parseInt(T.team2)?"team1":"team2",O=parseInt(_.team1)>parseInt(_.team2)?"team1":"team2";return I===O}).length,y=Ee.games.filter(w=>{var M;const _=p.predictions[w.id],T=(M=W[a])==null?void 0:M[w.id];if(!_||!T||!T.team1||!T.team2)return!1;const I=parseInt(T.team1)>parseInt(T.team2)?"team1":"team2",O=parseInt(_.team1)>parseInt(_.team2)?"team1":"team2";return I===O}).length;else if(ae==="perfect")if(a==="superbowl"){const w=_=>{let T=0;return["wildcard","divisional","conference","superbowl"].forEach(O=>{const M=W[O];if(M&&Object.values(M).some(X=>X&&X.team1!==null&&X.team1!==void 0&&X.team1!==""&&X.team1!==0&&X.team2!==null&&X.team2!==void 0&&X.team2!==""&&X.team2!==0)){const X=h.find(ne=>ne.playerCode===_.playerCode&&ne.week===O);X&&X.predictions&&Object.keys(M).forEach(ne=>{const re=M[ne],oe=X.predictions[ne];if(oe&&re&&re.team1&&re.team2&&oe.team1&&oe.team2){const fe=parseInt(re.team1),Ne=parseInt(re.team2),pr=parseInt(oe.team1),Vr=parseInt(oe.team2);fe===pr&&Ne===Vr&&T++}})}}),T};m=w(v),y=w(p)}else m=Ee.games.filter(w=>{var I;const _=v.predictions[w.id],T=(I=W[a])==null?void 0:I[w.id];return!_||!T||!T.team1||!T.team2?!1:parseInt(T.team1)===parseInt(_.team1)&&parseInt(T.team2)===parseInt(_.team2)}).length,y=Ee.games.filter(w=>{var I;const _=p.predictions[w.id],T=(I=W[a])==null?void 0:I[w.id];return!_||!T||!T.team1||!T.team2?!1:parseInt(T.team1)===parseInt(_.team1)&&parseInt(T.team2)===parseInt(_.team2)}).length;else if(ae==="difference"){const w=((k=Ra[v.playerName])==null?void 0:k.current)||"0",_=((j=Ra[p.playerName])==null?void 0:j.current)||"0";w.includes("/")?m=parseInt(w.split("/")[1]):m=parseInt(w),_.includes("/")?y=parseInt(_.split("/")[1]):y=parseInt(_)}else if(ae==="week1"||ae==="week2"||ae==="week3"||ae==="week4"){const _={week1:"wildcard",week2:"divisional",week3:"conference",week4:"superbowl"}[ae],T=sn(v.playerCode,_,parseInt(ae.replace("week",""))).display,I=sn(p.playerCode,_,parseInt(ae.replace("week",""))).display;T.includes("/")?m=parseInt(T.split("/")[1]):T==="-"?m=999999:m=parseInt(T),I.includes("/")?y=parseInt(I.split("/")[1]):I==="-"?y=999999:y=parseInt(I)}else if(ae==="grand"){const w=wo(v.playerCode).display,_=wo(p.playerCode).display;w.includes("/")?m=parseInt(w.split("/")[1]):w==="-"?m=999999:m=parseInt(w),_.includes("/")?y=parseInt(_.split("/")[1]):_==="-"?y=999999:y=parseInt(_)}else if(ae==="timestamp")m=v.lastUpdated||v.timestamp||0,y=p.lastUpdated||p.timestamp||0;else if(ae==="name"){const w=v.playerName.split(" ")[0].toLowerCase(),_=p.playerName.split(" ")[0].toLowerCase();return Ie==="asc"?w.localeCompare(_):_.localeCompare(w)}return Ie==="asc"?m-y:y-m}):d,_f=(d,v)=>{const p=h.find(y=>y.playerCode===d&&y.week===v);if(!p||!p.predictions)return null;let m=0;return Object.keys(p.predictions).forEach(y=>{const k=p.predictions[y];k&&k.team1&&k.team2&&(m+=(parseInt(k.team1)||0)+(parseInt(k.team2)||0))}),m},ux=d=>{const v=[],p={wildcard:1,divisional:2,conference:3,superbowl:4};return["wildcard","divisional","conference","superbowl"].forEach(m=>{h.some(k=>k.playerCode===d&&k.week===m)&&v.push(p[m])}),v},Re=(d,v)=>{console.log(` calculateWeeklyTotal for ${d}, week ${v}`);const p=h.find(j=>j.playerCode===d&&j.week===v);if(console.log(" Found playerPick:",!!p),!p||!p.predictions)return 0;const m=W[v];if(console.log(" weekActualScores:",m),!m)return 0;let y=0,k=0;return Array.isArray(p.predictions)?p.predictions.forEach((j,w)=>{if(w===0||!j)return;const _=m[w];j&&_&&j.team1&&j.team2&&_.team1!==""&&_.team2!==""&&(y+=parseInt(j.team1)+parseInt(j.team2),k+=parseInt(_.team1)+parseInt(_.team2))}):Object.keys(p.predictions).forEach(j=>{const w=p.predictions[j],_=m[j];console.log(` GameId ${j}: pred=${JSON.stringify(w)}, actual=${JSON.stringify(_)}`),w&&_&&w.team1&&w.team2&&_.team1!==""&&_.team2!==""&&(y+=parseInt(w.team1)+parseInt(w.team2),k+=parseInt(_.team1)+parseInt(_.team2))}),Math.abs(y-k)},Pa=d=>{const v=Re(d,"wildcard"),p=Re(d,"divisional"),m=Re(d,"conference"),y=Re(d,"superbowl");return v+p+m+y},sn=(d,v,p)=>{const m=_f(d,v),y=Re(d,v),k=W[v],j=k&&Object.values(k).some(w=>w&&w.team1!==null&&w.team1!==void 0&&w.team1!==""&&w.team1!==0&&w.team2!==null&&w.team2!==void 0&&w.team2!==""&&w.team2!==0);return m?!j||y===0?{display:`${m}`,tooltip:`Predicted: ${m}`,fontSize:"16px"}:{display:`${m}/${y}`,tooltip:`Predicted: ${m} | Off by: ${y}`,fontSize:"16px"}:{display:"-",tooltip:"",fontSize:"16px"}},wo=d=>{console.log(" formatGrandDisplay called for:",d);const v=ux(d);if(console.log(" Player weeks:",v),v.length===0)return{display:"-",tooltip:"",fontSize:"16px"};let p=0,m=!1;const y={1:"wildcard",2:"divisional",3:"conference",4:"superbowl"};if(v.forEach(_=>{const T=y[_],I=_f(d,T);console.log(` Week ${_} (${T}): pred=${I}`);const O=W[T],M=O&&Object.values(O).some(H=>H&&H.team1!==null&&H.team1!==void 0&&H.team1!==""&&H.team1!==0&&H.team2!==null&&H.team2!==void 0&&H.team2!==""&&H.team2!==0);I&&M&&(p+=I,m=!0)}),!m)return{display:"-",tooltip:"No completed weeks yet",fontSize:"16px"};const k=Ia(),j=Math.abs(p-(k||0)),w=`Predicted: ${p} | Off by: ${j}`;return{display:`${p}/${j}`,tooltip:w,fontSize:"16px"}},Ks=d=>{const v=W[d];if(!v)return 0;let p=0;return Object.values(v).forEach(m=>{m&&m.team1&&m.team2&&(p+=(parseInt(m.team1)||0)+(parseInt(m.team2)||0))}),p},In=(d,v)=>{if($[d])return $[d];const p=Ks(v);return p>0?p:""},Ia=()=>{if($.superbowl_grand)return $.superbowl_grand;const d=Ks("wildcard"),v=Ks("divisional"),p=Ks("conference"),m=Ks("superbowl"),y=d+v+p+m;return y>0?y:""},Gr=(d,v)=>{const p=h.find(k=>k.playerCode===d&&k.week===v);if(!p||!p.predictions)return 0;const m=ke[v];if(!m)return 0;let y=0;return m.games.forEach(k=>{var X;const j=p.predictions[k.id],w=(X=W[v])==null?void 0:X[k.id];if(!j||!w)return;const _=parseInt(j.team1)||0,T=parseInt(j.team2)||0,I=parseInt(w.team1)||0,O=parseInt(w.team2)||0,M=_>T?"team1":_<T?"team2":"tie",H=I>O?"team1":I<O?"team2":"tie";M===H&&M!=="tie"&&y++}),y},Cf=d=>{const v=Gr(d,"wildcard"),p=Gr(d,"divisional"),m=Gr(d,"conference"),y=Gr(d,"superbowl");return v+p+m+y},fx=d=>{var O;const v=h.find(M=>M.playerCode===d&&M.week==="superbowl");if(!v||!v.predictions)return!1;const p=ke.superbowl.games[0],m=v.predictions[p.id],y=(O=W.superbowl)==null?void 0:O[p.id];if(!m||!y)return!1;const k=parseInt(m.team1)||0,j=parseInt(m.team2)||0,w=parseInt(y.team1)||0,_=parseInt(y.team2)||0,T=k>j?"team1":k<j?"team2":"tie",I=w>_?"team1":w<_?"team2":"tie";return T===I&&T!=="tie"},px=d=>{const v=(ce==null?void 0:ce[d])===!0,p=ke[d];if(!p)return!1;const m=p.games.every(y=>{var k;return((k=Y[d])==null?void 0:k[y.id])==="final"});return v&&m},hx=d=>{const v=[],p={};h.forEach(y=>{p[y.playerCode]||(p[y.playerCode]=y.playerName)}),Object.keys(p).forEach(y=>{const k=p[y],j=Gr(y,d),w=Re(y,d),_=["wildcard","divisional","conference","superbowl"],T=_.indexOf(d),I=[];for(let O=T-1;O>=0;O--)I.push({week:_[O],difference:Re(y,_[O])});v.push({playerName:k,playerCode:y,correctCount:j,weekDifference:w,previousWeeksDifference:I})}),v.sort((y,k)=>{if(k.correctCount!==y.correctCount)return k.correctCount-y.correctCount;if(y.weekDifference!==k.weekDifference)return y.weekDifference-k.weekDifference;for(let j=0;j<Math.min(y.previousWeeksDifference.length,k.previousWeeksDifference.length);j++){const w=y.previousWeeksDifference[j].difference,_=k.previousWeeksDifference[j].difference;if(w!==_)return w-_}return 0});let m=1;return v.forEach((y,k)=>{if(k===0)y.rank=1;else{const j=v[k-1],w=y.correctCount===j.correctCount,_=y.weekDifference===j.weekDifference;let T=!0;for(let I=0;I<y.previousWeeksDifference.length;I++)if(y.previousWeeksDifference[I].difference!==j.previousWeeksDifference[I].difference){T=!1;break}w&&_&&T?(y.rank=j.rank,y.tied=!0):(m=k+1,y.rank=m)}}),v},mx=d=>{const v=[],p={};h.forEach(y=>{p[y.playerCode]||(p[y.playerCode]=y.playerName)}),Object.keys(p).forEach(y=>{const k=p[y],j=Re(y,d),w=["wildcard","divisional","conference","superbowl"],_=w.indexOf(d),T=[];for(let I=_-1;I>=0;I--)T.push({week:w[I],difference:Re(y,w[I])});v.push({playerName:k,playerCode:y,weekDifference:j,previousWeeksDifference:T})}),v.sort((y,k)=>{if(y.weekDifference!==k.weekDifference)return y.weekDifference-k.weekDifference;for(let j=0;j<Math.min(y.previousWeeksDifference.length,k.previousWeeksDifference.length);j++){const w=y.previousWeeksDifference[j].difference,_=k.previousWeeksDifference[j].difference;if(w!==_)return w-_}return 0});let m=1;return v.forEach((y,k)=>{if(k===0)y.rank=1;else{const j=v[k-1],w=y.weekDifference===j.weekDifference;let _=!0;for(let T=0;T<y.previousWeeksDifference.length;T++)if(y.previousWeeksDifference[T].difference!==j.previousWeeksDifference[T].difference){_=!1;break}w&&_?(y.rank=j.rank,y.tied=!0):(m=k+1,y.rank=m)}}),v},gx=()=>{const d=[],v={};h.forEach(m=>{v[m.playerCode]||(v[m.playerCode]=m.playerName)}),Object.keys(v).forEach(m=>{const y=v[m],k=fx(m),j=Re(m,"superbowl"),w=Re(m,"conference"),_=Re(m,"divisional"),T=Re(m,"wildcard");d.push({playerName:y,playerCode:m,pickedCorrect:k,week4Difference:j,week3Difference:w,week2Difference:_,week1Difference:T})}),d.sort((m,y)=>m.pickedCorrect!==y.pickedCorrect?y.pickedCorrect-m.pickedCorrect:m.week4Difference!==y.week4Difference?m.week4Difference-y.week4Difference:m.week3Difference!==y.week3Difference?m.week3Difference-y.week3Difference:m.week2Difference!==y.week2Difference?m.week2Difference-y.week2Difference:m.week1Difference!==y.week1Difference?m.week1Difference-y.week1Difference:0);let p=1;return d.forEach((m,y)=>{if(y===0)m.rank=1;else{const k=d[y-1],j=m.pickedCorrect===k.pickedCorrect,w=m.week4Difference===k.week4Difference,_=m.week3Difference===k.week3Difference,T=m.week2Difference===k.week2Difference,I=m.week1Difference===k.week1Difference;j&&w&&_&&T&&I?(m.rank=k.rank,m.tied=!0):(p=y+1,m.rank=p)}}),d},yx=()=>{const d=[],v={};h.forEach(m=>{v[m.playerCode]||(v[m.playerCode]=m.playerName)}),Object.keys(v).forEach(m=>{const y=v[m],k=Cf(m),j=Pa(m),w=Re(m,"superbowl"),_=Re(m,"conference"),T=Re(m,"divisional"),I=Re(m,"wildcard");d.push({playerName:y,playerCode:m,totalCorrect:k,grandDifference:j,week4Difference:w,week3Difference:_,week2Difference:T,week1Difference:I})}),d.sort((m,y)=>y.totalCorrect!==m.totalCorrect?y.totalCorrect-m.totalCorrect:m.grandDifference!==y.grandDifference?m.grandDifference-y.grandDifference:m.week4Difference!==y.week4Difference?m.week4Difference-y.week4Difference:m.week3Difference!==y.week3Difference?m.week3Difference-y.week3Difference:m.week2Difference!==y.week2Difference?m.week2Difference-y.week2Difference:m.week1Difference!==y.week1Difference?m.week1Difference-y.week1Difference:0);let p=1;return d.forEach((m,y)=>{if(y===0)m.rank=1;else{const k=d[y-1];m.totalCorrect===k.totalCorrect&&m.grandDifference===k.grandDifference&&m.week4Difference===k.week4Difference&&m.week3Difference===k.week3Difference&&m.week2Difference===k.week2Difference&&m.week1Difference===k.week1Difference?(m.rank=k.rank,m.tied=!0):(p=y+1,m.rank=p)}}),d},xx=()=>{const d=[],v={};h.forEach(m=>{v[m.playerCode]||(v[m.playerCode]=m.playerName)}),Object.keys(v).forEach(m=>{const y=v[m],k=Pa(m),j=Re(m,"superbowl"),w=Re(m,"conference"),_=Re(m,"divisional"),T=Re(m,"wildcard");d.push({playerName:y,playerCode:m,grandDifference:k,week4Difference:j,week3Difference:w,week2Difference:_,week1Difference:T})}),d.sort((m,y)=>m.grandDifference!==y.grandDifference?m.grandDifference-y.grandDifference:m.week4Difference!==y.week4Difference?m.week4Difference-y.week4Difference:m.week3Difference!==y.week3Difference?m.week3Difference-y.week3Difference:m.week2Difference!==y.week2Difference?m.week2Difference-y.week2Difference:m.week1Difference!==y.week1Difference?m.week1Difference-y.week1Difference:0);let p=1;return d.forEach((m,y)=>{if(y===0)m.rank=1;else{const k=d[y-1];m.grandDifference===k.grandDifference&&m.week4Difference===k.week4Difference&&m.week3Difference===k.week3Difference&&m.week2Difference===k.week2Difference&&m.week1Difference===k.week1Difference?(m.rank=k.rank,m.tied=!0):(p=y+1,m.rank=p)}}),d},vx=()=>{const d=[],v={};h.forEach(m=>{v[m.playerCode]||(v[m.playerCode]=m.playerName)}),Object.keys(v).forEach(m=>{const y=v[m],k=Re(m,"superbowl"),j=Re(m,"conference"),w=Re(m,"divisional"),_=Re(m,"wildcard");d.push({playerName:y,playerCode:m,weekDifference:k,week3Difference:j,week2Difference:w,week1Difference:_})}),d.sort((m,y)=>m.weekDifference!==y.weekDifference?m.weekDifference-y.weekDifference:m.week3Difference!==y.week3Difference?m.week3Difference-y.week3Difference:m.week2Difference!==y.week2Difference?m.week2Difference-y.week2Difference:m.week1Difference!==y.week1Difference?m.week1Difference-y.week1Difference:0);let p=1;return d.forEach((m,y)=>{if(y===0)m.rank=1;else{const k=d[y-1];m.weekDifference===k.weekDifference&&m.week3Difference===k.week3Difference&&m.week2Difference===k.week2Difference&&m.week1Difference===k.week1Difference?(m.rank=k.rank,m.tied=!0):(p=y+1,m.rank=p)}}),d},wx=["ARI","ATL","BAL","BUF","CAR","CHI","CIN","CLE","DAL","DEN","DET","GB","HOU","IND","JAC","KC","LV","LAC","LAR","MIA","MIN","NE","NO","NYG","NYJ","PHI","PIT","SF","SEA","TB","TEN","WAS"],kx=()=>{const d=Ee.games.some(I=>{var O,M,H,X;return((M=(O=U[a])==null?void 0:O[I.id])==null?void 0:M.team1)||((X=(H=U[a])==null?void 0:H[I.id])==null?void 0:X.team2)}),v=Ee.games.some(I=>{var O,M,H,X;return((M=(O=W[a])==null?void 0:O[I.id])==null?void 0:M.team1)||((X=(H=W[a])==null?void 0:H[I.id])==null?void 0:X.team2)}),p=Ee.games.some(I=>{var O;return(O=Y[a])==null?void 0:O[I.id]});if((d||v||p)&&!window.confirm(` POOL MANAGER RNG WARNING!

This will OVERWRITE:
 All team codes
 All actual scores
 All game statuses

Are you sure you want to continue?`))return;const m=[...wx].sort(()=>Math.random()-.5),y=Ee.games.length,k=y*2;if(k>m.length){alert(" Not enough unique teams for all games!");return}const j=m.slice(0,k),w={...U},_={...W},T={...Y};w[a]||(w[a]={}),_[a]||(_[a]={}),T[a]||(T[a]={}),Ee.games.forEach((I,O)=>{const M=j[O*2],H=j[O*2+1];let X=Math.floor(Math.random()*48)+3,ne=Math.floor(Math.random()*48)+3;for(;X===ne;)ne=Math.floor(Math.random()*48)+3;w[a][I.id]={team1:M,team2:H},_[a][I.id]={team1:X.toString(),team2:ne.toString()},T[a][I.id]="final",be(te(ee,`teamCodes/${a}/${I.id}`),{team1:M,team2:H}),be(te(ee,`actualScores/${a}/${I.id}`),{team1:X.toString(),team2:ne.toString()}),be(te(ee,`gameStatus/${a}/${I.id}`),"final")}),B(w),pe(_),A(T),alert(` POOL MANAGER RNG Complete!

 ${y} games populated
 Random teams assigned (each used once)
 Scores: 3-50 points
 No tied games guaranteed
 All games marked FINAL

Ready for testing!`)},Ef=()=>{if(console.log(""),console.log(" HANDLE LOGOUT CALLED"),console.log(" Current hasUnsavedChanges value:",Mr),console.log(" Current predictions:",JSON.stringify(g)),console.log(" Current originalPicks:",JSON.stringify(Ea)),console.log(" Are they equal?",JSON.stringify(g)===JSON.stringify(Ea)),Mr){if(console.log(" HAS UNSAVED CHANGES - SHOWING WARNING "),!window.confirm(` UNSAVED CHANGES!

You have unsaved picks that will be lost.

Click OK to DISCARD changes and logout
Click CANCEL to stay and save your picks`)){console.log(" User cancelled logout"),console.log("");return}console.log(" User confirmed logout - discarding changes")}else console.log(" NO UNSAVED CHANGES - LOGGING OUT DIRECTLY ");console.log(" Proceeding with logout..."),c(!1),o(""),r(""),f({}),e("picks"),Pn(!1),console.log(" Logout complete"),console.log("")},bx=()=>{uf(!0),setTimeout(()=>{uf(!1)},800)},Sx=()=>{if(Mr&&!window.confirm(` DISCARD CHANGES?

This will reset your picks to the last saved version.

Are you sure you want to discard your changes?`))return;const d=h.find(v=>v.playerCode===s&&v.week===a);f(d?d.predictions:{}),Pn(!1)},_x=d=>{Mr?(_a(d),ft("unsavedChanges")):(u(d),ko(d))},ko=d=>{console.log(" LOAD WEEK PICKS CALLED "),console.log(" Loading picks for week:",d);const v=h.find(p=>p.week===d&&p.playerCode===s);if(v&&v.predictions){console.log(" Found existing picks:",JSON.stringify(v.predictions)),console.log(" Creating deep copies for predictions and originalPicks");const p=JSON.parse(JSON.stringify(v.predictions)),m=JSON.parse(JSON.stringify(v.predictions));f(p),Bs(m),Pn(!1),console.log(" Set hasUnsavedChanges to FALSE"),console.log(" LOAD WEEK PICKS COMPLETE ")}else console.log(" No existing picks found - clearing state"),f({}),Bs({}),Pn(!1),console.log(" LOAD WEEK PICKS COMPLETE (EMPTY) ")};F.useEffect(()=>{l&&s&&ko(a)},[a,l,s]),F.useEffect(()=>{if(h.length>0&&s){const d={};["wildcard","divisional","conference","superbowl"].forEach(v=>{const p=h.find(m=>m.week===v&&m.playerCode===s);if(p&&p.predictions){const m=ke[v].games.length,y=Object.keys(p.predictions).filter(k=>{var j,w;return((j=p.predictions[k])==null?void 0:j.team1)&&((w=p.predictions[k])==null?void 0:w.team2)}).length;d[v]={complete:y===m,count:y,total:m}}}),O0(d)}},[h,s]);const Qs=()=>{if(ve())return!0;const d=new Date,v=new Date(d.toLocaleString("en-US",{timeZone:"America/Los_Angeles"})),p=new Date(Ah.firstFriday+"T00:00:00"),m=new Date(Ah.lastMonday+"T23:59:59");if(v<p)return!0;if(v>m)return!1;const y=v.getDay(),k=v.getHours(),j=v.getMinutes();return!(y===5&&k===23&&j>=59||y===6||y===0||y===1&&k===0&&j===0)},Nf=()=>{const d=s.trim().toUpperCase();if(!d){yc(d,"Empty code"),alert("Please enter your 6-character player code");return}if(d.length!==6||!/^[A-Z0-9]{6}$/.test(d)){yc(d,"Invalid format - must be 6 alphanumeric characters"),alert(`Invalid code format!

Player codes must be exactly 6 characters (letters and numbers).
Example: A7K9M2`);return}let v=null;const p=fr.find(y=>y.playerCode===d);if(p?(v=p.playerName,console.log(" Player found in Firebase:",v)):(v=Oe[d],v&&console.log(" Player found in App.jsx backup (not in Firebase):",v)),!v){yc(d,"Code not recognized"),alert(`Invalid player code!

This code is not recognized in Firebase OR App.jsx.

Make sure you:
1. Paid your $20 entry fee
2. Received your code from the pool manager
3. Entered the code correctly

Contact: gammoneer2b@gmail.com`);return}if(h.find(y=>y.playerName===v&&y.week===a))if(mn.includes(d))alert(`Welcome, Pool Manager!

You have unrestricted access to:
 Enter picks anytime (no lockout)
 Enter team codes
 Enter actual game scores
 Set game status (LIVE/FINAL)
 Lock/unlock weeks
 View all player codes`);else{const y=nn(a);alert(y?`Welcome back, ${v}!

 WARNING: This week is LOCKED!

Your existing picks for ${ke[a].name} will be loaded, but you cannot edit them because the games have been played.

You can only view your submitted picks.`:`Welcome back, ${v}!

Your existing picks for ${ke[a].name} will be loaded automatically.

You can edit and resubmit anytime except during playoff weekends (Friday 11:59 PM - Monday 12:01 AM PST).`)}else mn.includes(d)&&alert(`Welcome, Pool Manager!

You have unrestricted access to:
 Enter picks anytime (no lockout)
 Enter team codes
 Enter actual game scores
 Set game status (LIVE/FINAL)
 Lock/unlock weeks
 View all player codes`);bC(d,v),r(v),o(d),c(!0)},Cx=()=>{const d=h.filter(w=>w.week===a),v=ke[a];let p="";p+="TEAM CODES:,",v.games.forEach(w=>{var I,O,M,H;const _=((O=(I=U[a])==null?void 0:I[w.id])==null?void 0:O.team1)||"-",T=((H=(M=U[a])==null?void 0:M[w.id])==null?void 0:H.team2)||"-";p+=`${_},${T},`}),a==="superbowl"&&(p+=",,,,"),p+=`
`,p+="TEAM NAMES:,",v.games.forEach(w=>{const _=Ae(a,w.id,"team1",E),T=Ae(a,w.id,"team2",E);p+=`${_},${T},`}),a==="superbowl"&&(p+=",,,,"),p+=`
`,p+="ACTUAL SCORES:,",v.games.forEach(w=>{var I,O,M,H;const _=((O=(I=W[a])==null?void 0:I[w.id])==null?void 0:O.team1)||"-",T=((H=(M=W[a])==null?void 0:M[w.id])==null?void 0:H.team2)||"-";p+=`${_},${T},`}),a==="superbowl"&&(p+=",,,,"),p+=`
`,p+="GAME TOTALS:,",v.games.forEach(w=>{var M,H,X,ne;const _=parseInt((H=(M=W[a])==null?void 0:M[w.id])==null?void 0:H.team1)||0,T=parseInt((ne=(X=W[a])==null?void 0:X[w.id])==null?void 0:ne.team2)||0,I=_+T,O=_>0||T>0?I:"-";p+=`${O},,`}),a==="superbowl"&&(p+=",,,,"),p+=`
`,p+="GAME STATUS:,",v.games.forEach(w=>{var I;const _=((I=Y[a])==null?void 0:I[w.id])||"-";p+=`${_==="final"?"FINAL":_==="live"?"LIVE":"-"},,`}),a==="superbowl"&&(p+=",,,,"),p+=`
`,p+="OFFICIAL TOTALS:,",v.games.forEach(()=>{p+=",,"}),a==="superbowl"?(p+=`${$.superbowl_week4||"-"},`,p+=`${$.superbowl_week3||"-"},`,p+=`${$.superbowl_week2||"-"},`,p+=`${$.superbowl_week1||"-"},`,p+=`${$.superbowl_grand||"-"},`):p+=`${$[a]||"-"},`,p+=`
`,p+=`
`,p+=",",v.games.forEach(w=>{p+=`Game ${w.id},Game ${w.id},`}),p+=`
`,p+="Player Name,",v.games.forEach(w=>{const _=Ae(a,w.id,"team1",E),T=Ae(a,w.id,"team2",E);p+=`${_},${T},`}),a==="superbowl"?p+="Week 4 Total,Week 3 Total,Week 2 Total,Week 1 Total,GRAND TOTAL,":p+="Total Points,",p+=`Submitted At
`,Object.entries(Oe).map(([w,_])=>{const T=d.find(I=>I.playerCode===w);return{playerName:_,playerCode:w,predictions:(T==null?void 0:T.predictions)||{},timestamp:(T==null?void 0:T.timestamp)||null,lastUpdated:(T==null?void 0:T.lastUpdated)||null}}).sort((w,_)=>{const T=Object.keys(w.predictions).length>0,I=Object.keys(_.predictions).length>0;return T&&!I?-1:!T&&I?1:T&&I?(_.lastUpdated||_.timestamp||0)-(w.lastUpdated||w.timestamp||0):w.playerName.localeCompare(_.playerName)}).forEach(w=>{p+=`"${w.playerName}",`,v.games.forEach(I=>{var H,X;const O=((H=w.predictions[I.id])==null?void 0:H.team1)||"--",M=((X=w.predictions[I.id])==null?void 0:X.team2)||"--";p+=`${O},${M},`});const _=Object.keys(w.predictions).length>0;if(a==="superbowl"){const I=(()=>{const ne=h.find(oe=>oe.playerCode===w.playerCode&&oe.week==="superbowl");if(!ne)return"--";let re=0;return ke.superbowl.games.forEach(oe=>{const fe=ne.predictions[oe.id];fe&&(re+=(Number(fe.team1)||0)+(Number(fe.team2)||0))}),re>0?re:"--"})(),O=(()=>{const ne=h.find(oe=>oe.playerCode===w.playerCode&&oe.week==="conference");if(!ne)return"--";let re=0;return ke.conference.games.forEach(oe=>{const fe=ne.predictions[oe.id];fe&&(re+=(Number(fe.team1)||0)+(Number(fe.team2)||0))}),re>0?re:"--"})(),M=(()=>{const ne=h.find(oe=>oe.playerCode===w.playerCode&&oe.week==="divisional");if(!ne)return"--";let re=0;return ke.divisional.games.forEach(oe=>{const fe=ne.predictions[oe.id];fe&&(re+=(Number(fe.team1)||0)+(Number(fe.team2)||0))}),re>0?re:"--"})(),H=(()=>{const ne=h.find(oe=>oe.playerCode===w.playerCode&&oe.week==="wildcard");if(!ne)return"--";let re=0;return ke.wildcard.games.forEach(oe=>{const fe=ne.predictions[oe.id];fe&&(re+=(Number(fe.team1)||0)+(Number(fe.team2)||0))}),re>0?re:"--"})(),X=[I,O,M,H].filter(ne=>ne!=="--").reduce((ne,re)=>ne+re,0);p+=`${I},${O},${M},${H},${X||"--"},`}else if(!_)p+="--,";else{const I=v.games.reduce((O,M)=>{var ne,re;const H=parseInt((ne=w.predictions[M.id])==null?void 0:ne.team1)||0,X=parseInt((re=w.predictions[M.id])==null?void 0:re.team2)||0;return O+H+X},0);p+=`${I},`}let T=0;if(_&&v.games.forEach(I=>{var H;const O=w.predictions[I.id],M=(H=W[a])==null?void 0:H[I.id];if(O&&M&&O.team1&&O.team2&&M.team1&&M.team2){const X=parseInt(M.team1),ne=parseInt(M.team2),re=parseInt(O.team1),oe=parseInt(O.team2);if(!isNaN(X)&&!isNaN(ne)){const fe=X>ne?"team1":ne>X?"team2":"tie",Ne=re>oe?"team1":oe>re?"team2":"tie";fe===Ne&&fe!=="tie"&&T++}}}),p+=`${T},`,!_||!w.timestamp)p+=`"-"
`;else{const I=new Date(w.lastUpdated||w.timestamp).toLocaleString("en-US",{month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0});p+=`"${I}"
`}});const y=new Blob([p],{type:"text/csv;charset=utf-8;"}),k=document.createElement("a"),j=URL.createObjectURL(y);k.setAttribute("href",j),k.setAttribute("download",`nfl_playoff_picks_${a}_${Date.now()}.csv`),k.style.visibility="hidden",document.body.appendChild(k),k.click(),document.body.removeChild(k)},Ex=()=>{const d=ke[a],v=(()=>{if(a==="superbowl"){const j=new Map;return h.forEach(w=>{if(!j.has(w.playerCode)){const _=h.find(T=>T.playerCode===w.playerCode&&T.week==="superbowl");j.set(w.playerCode,_||{playerName:w.playerName,playerCode:w.playerCode,week:"superbowl",predictions:{},timestamp:w.timestamp,lastUpdated:w.lastUpdated||w.timestamp})}}),fr.forEach(w=>{w.showInPicksTable===!0&&!j.has(w.playerCode)&&j.set(w.playerCode,{playerName:w.playerName,playerCode:w.playerCode,week:"superbowl",predictions:{},timestamp:Date.now(),lastUpdated:Date.now()})}),Array.from(j.values())}else{const j=h.filter(_=>_.week===a),w=new Set(j.map(_=>_.playerCode));return fr.forEach(_=>{const T=_.paid===!0||_.paymentStatus==="PAID",I=_.visible!==!1,O=_.role!=="MANAGER";T&&I&&O&&!w.has(_.playerCode)&&j.push({playerName:_.playerName,playerCode:_.playerCode,week:a,predictions:{},timestamp:Date.now(),lastUpdated:Date.now()})}),j}})();if(v.length===0){alert("No picks to download for this week.");return}let p="";p+="TEAM CODES:,",d.games.forEach(j=>{var T,I,O,M;const w=((I=(T=U[a])==null?void 0:T[j.id])==null?void 0:I.team1)||"-",_=((M=(O=U[a])==null?void 0:O[j.id])==null?void 0:M.team2)||"-";p+=`${w},${_},`}),a==="superbowl"&&(p+=",,,,"),p+=`
`,p+="TEAM NAMES:,",d.games.forEach(j=>{const w=Ae(a,j.id,"team1",E),_=Ae(a,j.id,"team2",E);p+=`${w},${_},`}),a==="superbowl"&&(p+=",,,,"),p+=`
`,p+="ACTUAL SCORES:,",d.games.forEach(j=>{var T,I,O,M;const w=((I=(T=W[a])==null?void 0:T[j.id])==null?void 0:I.team1)||"-",_=((M=(O=W[a])==null?void 0:O[j.id])==null?void 0:M.team2)||"-";p+=`${w},${_},`}),a==="superbowl"&&(p+=",,,,"),p+=`
`,p+="GAME TOTALS:,",d.games.forEach(j=>{var O,M,H,X;const w=parseInt((M=(O=W[a])==null?void 0:O[j.id])==null?void 0:M.team1)||0,_=parseInt((X=(H=W[a])==null?void 0:H[j.id])==null?void 0:X.team2)||0,T=w+_,I=w>0||_>0?T:"-";p+=`${I},,`}),a==="superbowl"&&(p+=",,,,"),p+=`
`,p+="GAME STATUS:,",d.games.forEach(j=>{var T;const w=((T=Y[a])==null?void 0:T[j.id])||"-";p+=`${w==="final"?"FINAL":w==="live"?"LIVE":"-"},,`}),a==="superbowl"&&(p+=",,,,"),p+=`
`,p+="OFFICIAL TOTALS:,",d.games.forEach(()=>{p+=",,"}),a==="superbowl"?(p+=`${$.superbowl_week4||"-"},`,p+=`${$.superbowl_week3||"-"},`,p+=`${$.superbowl_week2||"-"},`,p+=`${$.superbowl_week1||"-"},`,p+=`${$.superbowl_grand||"-"},`):p+=`${$[a]||"-"},`,p+=`
`,p+=`
`,p+=",",d.games.forEach(j=>{p+=`Game ${j.id},Game ${j.id},`}),p+=`
`,p+="Player Name,",d.games.forEach(j=>{const w=Ae(a,j.id,"team1",E),_=Ae(a,j.id,"team2",E);p+=`${w},${_},`}),a==="superbowl"?p+="Week 4 Total,Week 3 Total,Week 2 Total,Week 1 Total,GRAND TOTAL,":p+="Total Points,",p+="Correct Picks,",p+="Perfect Scores,",p+=`Submitted At
`,v.sort((j,w)=>{const _=Object.keys(j.predictions).length>0,T=Object.keys(w.predictions).length>0;return _&&!T?-1:!_&&T?1:_&&T?(w.lastUpdated||w.timestamp||0)-(j.lastUpdated||j.timestamp||0):j.playerName.localeCompare(w.playerName)}).forEach(j=>{p+=`"${j.playerName}",`;const w=Object.keys(j.predictions).length>0;if(d.games.forEach(I=>{var H,X;const O=((H=j.predictions[I.id])==null?void 0:H.team1)||"-",M=((X=j.predictions[I.id])==null?void 0:X.team2)||"-";p+=`${O},${M},`}),a==="superbowl"){const I=(()=>{const re=h.find(fe=>fe.playerCode===j.playerCode&&fe.week==="superbowl");if(!re)return"-";let oe=0;return ke.superbowl.games.forEach(fe=>{const Ne=re.predictions[fe.id];Ne&&(oe+=(Number(Ne.team1)||0)+(Number(Ne.team2)||0))}),oe>0?oe:"-"})(),O=(()=>{const re=h.find(fe=>fe.playerCode===j.playerCode&&fe.week==="conference");if(!re)return"-";let oe=0;return ke.conference.games.forEach(fe=>{const Ne=re.predictions[fe.id];Ne&&(oe+=(Number(Ne.team1)||0)+(Number(Ne.team2)||0))}),oe>0?oe:"-"})(),M=(()=>{const re=h.find(fe=>fe.playerCode===j.playerCode&&fe.week==="divisional");if(!re)return"-";let oe=0;return ke.divisional.games.forEach(fe=>{const Ne=re.predictions[fe.id];Ne&&(oe+=(Number(Ne.team1)||0)+(Number(Ne.team2)||0))}),oe>0?oe:"-"})(),H=(()=>{const re=h.find(fe=>fe.playerCode===j.playerCode&&fe.week==="wildcard");if(!re)return"-";let oe=0;return ke.wildcard.games.forEach(fe=>{const Ne=re.predictions[fe.id];Ne&&(oe+=(Number(Ne.team1)||0)+(Number(Ne.team2)||0))}),oe>0?oe:"-"})(),X=[I,O,M,H].filter(re=>re!=="-"),ne=X.length>0?X.reduce((re,oe)=>re+oe,0):"-";p+=`${I},${O},${M},${H},${ne},`}else if(!w)p+="-,";else{const I=d.games.reduce((O,M)=>{var ne,re;const H=parseInt((ne=j.predictions[M.id])==null?void 0:ne.team1)||0,X=parseInt((re=j.predictions[M.id])==null?void 0:re.team2)||0;return O+H+X},0);p+=`${I},`}let _=0;w&&d.games.forEach(I=>{var H;const O=j.predictions[I.id],M=(H=W[a])==null?void 0:H[I.id];if(O&&M&&O.team1&&O.team2&&M.team1&&M.team2){const X=parseInt(M.team1),ne=parseInt(M.team2),re=parseInt(O.team1),oe=parseInt(O.team2);if(!isNaN(X)&&!isNaN(ne)){const fe=X>ne?"team1":ne>X?"team2":"tie",Ne=re>oe?"team1":oe>re?"team2":"tie";fe===Ne&&fe!=="tie"&&_++}}}),p+=`${_},`;let T=0;if(w&&d.games.forEach(I=>{var H;const O=j.predictions[I.id],M=(H=W[a])==null?void 0:H[I.id];if(O&&M&&O.team1&&O.team2&&M.team1&&M.team2){const X=parseInt(M.team1),ne=parseInt(M.team2),re=parseInt(O.team1),oe=parseInt(O.team2);X===re&&ne===oe&&T++}}),p+=`${T},`,!w||!j.timestamp)p+=`"-"
`;else{const I=new Date(j.lastUpdated||j.timestamp).toLocaleString("en-US",{month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0});p+=`"${I}"
`}});const m=new Blob([p],{type:"text/csv;charset=utf-8;"}),y=document.createElement("a"),k=URL.createObjectURL(m);y.setAttribute("href",k),y.setAttribute("download",`nfl_playoff_picks_${a}_${Date.now()}.csv`),y.style.visibility="hidden",document.body.appendChild(y),y.click(),document.body.removeChild(y)},jf=async d=>{if(d.preventDefault(),nn(a)){alert(` WEEK LOCKED

This week's games have been played.
Picks are permanently locked.`);return}if(!Qs()){alert(` SUBMISSIONS CLOSED

During playoff weekends, picks are locked from:
 Friday 11:59 PM PST
 Through Monday 12:01 AM PST`);return}const v=ke[a],p=[];if(v.games.forEach(k=>{var T,I;const j=(T=g[k.id])==null?void 0:T.team1,w=(I=g[k.id])==null?void 0:I.team2,_=O=>O==="-"||O&&O.toString().trim()!=="";(!g[k.id]||!_(j)||!_(w))&&p.push(k.id)}),p.length>0){pf(p),ft("incomplete");return}const m=[];if(v.games.forEach(k=>{var I,O;const j=(I=g[k.id])==null?void 0:I.team1,w=(O=g[k.id])==null?void 0:O.team2;if(j==="-"||w==="-")return;const _=parseInt(j),T=parseInt(w);(isNaN(_)||isNaN(T)||_<0||T<0)&&m.push(k.id)}),m.length>0){D0(m),ft("invalidScores");return}const y=[];if(v.games.forEach(k=>{var I,O;const j=(I=g[k.id])==null?void 0:I.team1,w=(O=g[k.id])==null?void 0:O.team2;if(j==="-"||w==="-")return;const _=parseInt(j),T=parseInt(w);_===T&&y.push(k.id)}),y.length>0){pf(y),ft("tiedGames");return}if(!Mr){ft("noChanges");return}try{const k=te(ee,"picks"),j=await mt(k);let w=null,_=null;if(j.exists()){const M=j.val();for(const[H,X]of Object.entries(M))if(X.playerCode===s&&X.week===a){w=X,_=H;break}}const T={};Object.keys(g).forEach(M=>{const H=g[M];H&&(T[M]={team1:H.team1==="-"||H.team1===""?"":H.team1,team2:H.team2==="-"||H.team2===""?"":H.team2})});const I={playerName:n,playerCode:s,week:a,predictions:T,timestamp:w?w.timestamp:Date.now(),lastUpdated:Date.now()};_?await be(te(ee,`picks/${_}`),I):await vr(te(ee,"picks"),I),console.log(" SUBMIT SUCCESS "),P(!0),console.log(" Creating deep copy of predictions for originalPicks");const O=JSON.parse(JSON.stringify(g));Bs(O),console.log(" Setting hasUnsavedChanges to FALSE"),Pn(!1),ft("success"),console.log(" SUBMIT COMPLETE - allPicks will update but NOT trigger reload! "),setTimeout(()=>{const M=document.querySelector(".all-picks");M&&M.scrollIntoView({behavior:"smooth"})},100)}catch(k){console.error("Error submitting picks:",k),alert("Error submitting picks. Please try again.")}},Ee=ke[a],Ra=F.useMemo(()=>{const d={};return(a==="superbowl"?(()=>{const p=new Map;return h.forEach(m=>{var y;p.has(m.playerName)||p.set(m.playerName,{playerName:m.playerName,playerCode:m.playerCode,week:a,predictions:((y=h.find(k=>k.playerCode===m.playerCode&&k.week==="superbowl"))==null?void 0:y.predictions)||{}})}),Array.from(p.values())})():h.filter(p=>p.week===a)).forEach(p=>{d[p.playerName]||(d[p.playerName]={week4:0,week3:0,week2:0,week1:0,grand:0,current:0});let m=0;const y=ke[a].games;y.forEach(_=>{const T=p.predictions[_.id];T&&T.team1&&T.team2&&(m+=(parseInt(T.team1)||0)+(parseInt(T.team2)||0))});const k=W[a],j=k&&Object.values(k).some(_=>_&&_.team1!==null&&_.team1!==void 0&&_.team1!==""&&_.team1!==0&&_.team2!==null&&_.team2!==void 0&&_.team2!==""&&_.team2!==0);let w=m.toString();if(j){let _=0;y.forEach(I=>{const O=k==null?void 0:k[I.id];O&&O.team1&&O.team2&&(_+=(parseInt(O.team1)||0)+(parseInt(O.team2)||0))});const T=Math.abs(m-_);w=`${m}/${T}`}if(d[p.playerName].current=w,a==="superbowl"){d[p.playerName].week4Display=sn(p.playerCode,"superbowl").display,d[p.playerName].week3Display=sn(p.playerCode,"conference").display,d[p.playerName].week2Display=sn(p.playerCode,"divisional").display,d[p.playerName].week1Display=sn(p.playerCode,"wildcard").display;const _=wo(p.playerCode);d[p.playerName].grand=_.display,d[p.playerName].grandTooltip=_.tooltip,d[p.playerName].grandFontSize=_.fontSize}}),d},[h,a,W]),Nx=()=>{console.log(" Starting winner calculations...");const d={};h.forEach(m=>{if(m.firebaseKey&&m.playerCode&&m.predictions){d[m.playerCode]||(d[m.playerCode]={name:m.playerName,picks:{}});const y={};Array.isArray(m.predictions)?m.predictions.forEach((k,j)=>{j>0&&k&&(y[j.toString()]=k)}):Object.assign(y,m.predictions),d[m.playerCode].picks[m.week]=y}});const v={};Object.keys(W).forEach(m=>{if(W[m]){const y={};Object.keys(W[m]).forEach(k=>{y[k.toString()]=W[m][k]}),v[m]=y}}),console.log(" Converted picks:",Object.keys(d).length,"players"),console.log(" Converted scores:",Object.keys(v));const p={week1:{prize1:xc(d,v,"wildcard"),prize2:vc(d,v,"wildcard")},week2:{prize1:xc(d,v,"divisional"),prize2:vc(d,v,"divisional")},week3:{prize1:xc(d,v,"conference"),prize2:vc(d,v,"conference")},week4:{prize1:SC(d,v),prize2:_C(d,v)},grandPrize:{prize1:CC(d,v),prize2:EC(d,v)}};return console.log(" All calculations complete!"),console.log(" Results:",p),p};return F.useEffect(()=>{if(h.length>0&&W)try{const d=Nx();d&&typeof d=="object"&&(V(d),be(te(ee,"calculatedWinners"),d))}catch(d){console.error("Error calculating winners:",d)}},[h,W]),i.jsxs("div",{className:"App",children:[I0&&i.jsxs("div",{style:{background:cr.hours===0&&cr.minutes<60&&!cr.expired?"#dc3545":"#667eea",color:"#fff",padding:"20px",marginBottom:"20px",borderRadius:"8px",border:"3px solid "+(cr.hours===0&&cr.minutes<60&&!cr.expired?"#a71d2a":"#5568d3"),textAlign:"center",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[i.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"700",marginBottom:"15px",letterSpacing:"0.5px",borderBottom:"2px solid rgba(255,255,255,0.3)",paddingBottom:"10px",color:"#fff"},children:" ALL TIMES IN THIS APP ARE IN PACIFIC STANDARD TIME (PST) "}),i.jsxs("div",{style:{fontSize:"1.1rem",fontWeight:"600",marginBottom:"15px",color:"#fff",backgroundColor:"rgba(255,255,255,0.1)",padding:"15px",borderRadius:"8px",lineHeight:"1.8"},children:[i.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"700",marginBottom:"10px"},children:" Your Session Info:"}),i.jsxs("div",{style:{backgroundColor:"rgba(255,193,7,0.2)",border:"1px solid #ffc107",padding:"10px",borderRadius:"6px",marginBottom:"12px",fontSize:"0.95rem",lineHeight:"1.5"},children:[" IMPORTANT: Times below are from when you loaded this page.",i.jsx("br",{}),"They do NOT update automatically. Reload to see current time."]}),i.jsxs("div",{style:{paddingLeft:"10px"},children:[" Player logged in and loaded page at: ",mo.toLocaleTimeString("en-US",{timeZone:"America/Los_Angeles",hour:"numeric",minute:"2-digit",hour12:!0})," PST"]}),i.jsxs("div",{style:{paddingLeft:"10px"},children:[" Today's date: ",mo.toLocaleDateString("en-US",{timeZone:"America/Los_Angeles",weekday:"long",month:"long",day:"numeric",year:"numeric"})]}),i.jsx("div",{style:{paddingLeft:"10px"},children:" Current deadline: 11:59 PM PST tonight"}),i.jsxs("div",{style:{paddingLeft:"10px",marginTop:"8px",fontWeight:"700",color:"#080808ff"},children:[" Based on your login time, you have approximately ",(()=>{const d=new Date(mo);d.setHours(23,59,59,999);const v=d-mo,p=Math.floor(v/(1e3*60*60)),m=Math.floor(v%(1e3*60*60)/(1e3*60));return`${p} hours and ${m} minutes`})()," to submit your picks"]})]}),cr.expired?i.jsxs("div",{style:{background:"#28a745",padding:"15px",borderRadius:"6px",fontSize:"1.3rem",fontWeight:"700",marginTop:"10px",color:"#fff"},children:[" PICKS ARE LOCKED - Games In Progress",i.jsx("div",{style:{fontSize:"1rem",marginTop:"8px",fontWeight:"500"},children:"Picks closed at: 11:59 PM PST"})]}):i.jsxs("div",{style:{background:"rgba(255,193,7,0.2)",border:"2px solid #ffc107",padding:"15px",borderRadius:"8px",marginTop:"10px"},children:[i.jsx("div",{style:{fontSize:"1.4rem",fontWeight:"700",marginBottom:"8px",color:"#fff"},children:" IMPORTANT: Picks must be submitted before 11:59 PM PST tonight!"}),i.jsxs("div",{style:{fontSize:"1rem",marginTop:"12px",padding:"12px",background:"rgba(255,255,255,0.15)",borderRadius:"6px",color:"#fff",lineHeight:"1.6"},children:[" TIP: This time doesn't update automatically.",i.jsx("br",{}),"Reload your browser to see the most current information.",i.jsx("br",{}),i.jsx("span",{style:{fontSize:"0.9rem",opacity:.9},children:"(On mobile: Pull down to refresh. On computer: Press F5)"})]})]})]}),i.jsxs("header",{children:[i.jsx("h1",{children:" Richard's NFL Playoff Pool 2025"}),i.jsx("p",{children:"Enter your score predictions for each NFL Playoff 2025 game"}),i.jsxs("p",{style:{fontSize:"0.85rem",marginTop:"10px",opacity:.8},children:["v2.2-PLAYOFF-SCHEDULE-",new Date().toISOString().slice(0,10).replace(/-/g,"")]}),i.jsxs("div",{style:{marginTop:"15px",display:"flex",flexDirection:"column",gap:"10px",alignItems:"center"},children:[i.jsxs("div",{style:{display:"flex",gap:"15px",flexWrap:"wrap",justifyContent:"center"},children:[i.jsx("a",{href:"/nfl-playoff-pool/Playoff_Pool_Quick_Rules.pdf",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",padding:"10px 20px",backgroundColor:"#0984e3",color:"white",textDecoration:"none",borderRadius:"5px",fontSize:"0.95rem",fontWeight:"bold",transition:"background-color 0.3s ease",cursor:"pointer"},onMouseOver:d=>d.target.style.backgroundColor="#74b9ff",onMouseOut:d=>d.target.style.backgroundColor="#0984e3",children:" View Quick Rules (2 Pages)"}),i.jsx("a",{href:"/nfl-playoff-pool/Richards_Playoff_Pool_LIX_Rulebook.pdf",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",padding:"10px 20px",backgroundColor:"#6c5ce7",color:"white",textDecoration:"none",borderRadius:"5px",fontSize:"0.95rem",fontWeight:"bold",transition:"background-color 0.3s ease",cursor:"pointer"},onMouseOver:d=>d.target.style.backgroundColor="#a29bfe",onMouseOut:d=>d.target.style.backgroundColor="#6c5ce7",children:" View Full Rulebook (22 Pages)"})]}),i.jsx("p",{style:{fontSize:"1.1em",marginTop:"10px",color:"#ffffff",fontWeight:"500"},children:"Entry Fee: $20 - Must be paid before end of regular season"})]})]}),i.jsxs("div",{className:"container",children:[ve()&&l&&i.jsxs("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"15px 20px",borderRadius:"8px",marginBottom:"20px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[i.jsxs("h3",{style:{margin:"0 0 15px 0",display:"flex",alignItems:"center",gap:"10px"},children:[i.jsx("span",{children:""}),i.jsx("span",{children:"POOL MANAGER - WEEK LOCK CONTROLS"})]}),i.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"10px"},children:Object.keys(ke).map(d=>{var y,k;const v=(y=je[d])==null?void 0:y.locked,p=vf(d),m=v||p;return i.jsxs("div",{style:{background:"rgba(255,255,255,0.15)",padding:"12px",borderRadius:"6px",display:"flex",flexDirection:"column",gap:"8px"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",fontWeight:"bold",fontSize:"0.9rem"},children:[i.jsxs("span",{children:[m?"":""," Week ",d==="wildcard"?"1":d==="divisional"?"2":d==="conference"?"3":"4"]}),i.jsx("span",{style:{fontSize:"0.75rem",opacity:.9},children:(k=je[d])==null?void 0:k.autoLockDate})]}),p&&!v&&i.jsx("div",{style:{fontSize:"0.7rem",padding:"4px 8px",background:"rgba(255,193,7,0.3)",borderRadius:"4px",border:"1px solid rgba(255,193,7,0.5)"},children:" AUTO-LOCKED"}),v&&i.jsx("div",{style:{fontSize:"0.7rem",padding:"4px 8px",background:"rgba(220,53,69,0.3)",borderRadius:"4px",border:"1px solid rgba(220,53,69,0.5)"},children:" MANUALLY LOCKED"}),i.jsx("button",{onClick:()=>rx(d),style:{padding:"8px 12px",background:v?"#28a745":"#dc3545",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.85rem",fontWeight:"600",transition:"all 0.2s"},children:v?" Unlock Week":" Lock Week"}),i.jsx("button",{onClick:()=>Na(d),style:{padding:"8px 12px",background:"#e67e22",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.85rem",fontWeight:"600",transition:"all 0.2s",marginTop:"8px"},children:" Clear Week Data"})]},d)})}),i.jsx("p",{style:{fontSize:"0.8rem",marginTop:"12px",marginBottom:"0",opacity:.9},children:" Manual locks override automatic locks. Players cannot edit picks for locked weeks."})]}),ve()&&i.jsxs("div",{style:{background:"linear-gradient(135deg, #4caf50 0%, #45a049 100%)",color:"white",padding:"20px",borderRadius:"8px",marginBottom:"20px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[i.jsx("h3",{style:{margin:"0 0 10px 0"},children:" Close Completed Weeks & Configure Next Week"}),i.jsx("p",{style:{fontSize:"0.9rem",margin:"0 0 15px 0",opacity:.9},children:"After all games for a week are FINAL, close that week to configure the next week's teams immediately."}),i.jsxs("div",{style:{display:"flex",gap:"15px",flexWrap:"wrap"},children:[i.jsxs("div",{style:{flex:"1 1 200px",padding:"15px",border:"2px solid rgba(255,255,255,0.3)",borderRadius:"8px",backgroundColor:ce!=null&&ce.wildcard?"rgba(255,255,255,0.2)":"rgba(255,255,255,0.1)"},children:[i.jsx("div",{style:{fontWeight:"bold",marginBottom:"10px"},children:"Week 1 (Wildcard)"}),ce&&(ce!=null&&ce.wildcard)?i.jsx("div",{style:{color:"#fff",fontWeight:"bold"},children:" Completed"}):ce&&xo("wildcard")?i.jsx("button",{onClick:()=>vo("wildcard"),style:{padding:"10px 15px",backgroundColor:"#fff",color:"#4caf50",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"},children:" Close Week 1 & Configure Week 2"}):i.jsx("div",{style:{fontSize:"0.9rem",opacity:.8},children:" Loading..."})]}),i.jsxs("div",{style:{flex:"1 1 200px",padding:"15px",border:"2px solid rgba(255,255,255,0.3)",borderRadius:"8px",backgroundColor:ce!=null&&ce.divisional?"rgba(255,255,255,0.2)":"rgba(255,255,255,0.1)"},children:[i.jsx("div",{style:{fontWeight:"bold",marginBottom:"10px"},children:"Week 2 (Divisional)"}),ce&&(ce!=null&&ce.divisional)?i.jsx("div",{style:{color:"#fff",fontWeight:"bold"},children:" Completed"}):ce&&xo("divisional")?i.jsx("button",{onClick:()=>vo("divisional"),style:{padding:"10px 15px",backgroundColor:"#fff",color:"#4caf50",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"},children:" Close Week 2 & Configure Week 3"}):i.jsx("div",{style:{fontSize:"0.9rem",opacity:.8},children:" Loading..."})]}),i.jsxs("div",{style:{flex:"1 1 200px",padding:"15px",border:"2px solid rgba(255,255,255,0.3)",borderRadius:"8px",backgroundColor:ce!=null&&ce.conference?"rgba(255,255,255,0.2)":"rgba(255,255,255,0.1)"},children:[i.jsx("div",{style:{fontWeight:"bold",marginBottom:"10px"},children:"Week 3 (Conference)"}),ce&&(ce!=null&&ce.conference)?i.jsx("div",{style:{color:"#fff",fontWeight:"bold"},children:" Completed"}):ce&&xo("conference")?i.jsx("button",{onClick:()=>vo("conference"),style:{padding:"10px 15px",backgroundColor:"#fff",color:"#4caf50",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"},children:" Close Week 3 & Configure Week 4"}):i.jsx("div",{style:{fontSize:"0.9rem",opacity:.8},children:" Loading..."})]}),i.jsxs("div",{style:{flex:"1 1 200px",padding:"15px",border:"2px solid rgba(255,255,255,0.3)",borderRadius:"8px",backgroundColor:ce!=null&&ce.superbowl?"rgba(255,255,255,0.2)":"rgba(255,255,255,0.1)"},children:[i.jsx("div",{style:{fontWeight:"bold",marginBottom:"10px"},children:"Week 4 (Super Bowl)"}),ce&&(ce!=null&&ce.superbowl)?i.jsx("div",{style:{color:"#fff",fontWeight:"bold"},children:" Completed"}):ce&&xo("superbowl")?i.jsx("button",{onClick:()=>vo("superbowl"),style:{padding:"10px 15px",backgroundColor:"#fff",color:"#4caf50",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"},children:" Close Week 4 - Playoffs Complete!"}):i.jsx("div",{style:{fontSize:"0.9rem",opacity:.8},children:" Loading..."})]})]})]}),ve()&&l&&i.jsxs("div",{style:{background:"linear-gradient(135deg, #f39c12 0%, #e74c3c 100%)",color:"white",padding:"20px",borderRadius:"8px",marginBottom:"20px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[i.jsxs("h3",{style:{margin:"0 0 15px 0",display:"flex",alignItems:"center",gap:"10px"},children:[i.jsx("span",{children:""}),i.jsx("span",{children:"POOL MANAGER OVERRIDE - ENTER/EDIT PICKS FOR ANY PLAYER"})]}),M0?i.jsxs("div",{children:[i.jsxs("div",{style:{marginBottom:"20px"},children:[i.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"0.95rem"},children:"Select Player:"}),i.jsxs("select",{value:_e,onChange:d=>{Fr(d.target.value),Us(null),Hs(null),Gs(!1)},style:{width:"100%",padding:"12px",fontSize:"1rem",borderRadius:"6px",border:"2px solid white",background:"rgba(255,255,255,0.95)",color:"#333",fontWeight:"600"},children:[i.jsx("option",{value:"",children:"-- Select a Player --"}),Object.keys(Oe).sort((d,v)=>{const p=Oe[d].toUpperCase(),m=Oe[v].toUpperCase();return p.localeCompare(m)}).map(d=>i.jsxs("option",{value:d,children:[Oe[d]," (",d,")"]},d))]})]}),_e&&i.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:"15px",borderRadius:"6px",marginBottom:"15px"},children:[i.jsxs("div",{style:{marginBottom:"15px"},children:[i.jsx("strong",{children:"Selected:"})," ",Oe[_e]," (",_e,")",i.jsx("br",{}),i.jsx("strong",{children:"Week:"})," ",a==="wildcard"?"Week 1":a==="divisional"?"Week 2":a==="conference"?"Week 3":"Week 4",i.jsx("br",{}),i.jsx("strong",{children:"Status:"})," ",h.find(d=>d.playerCode===_e&&d.week===a)?" HAS PICKS":" NO PICKS"]}),i.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[i.jsx("button",{onClick:xf,style:{flex:"1",minWidth:"150px",padding:"12px",background:"#9b59b6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Generate RNG Picks"}),i.jsx("button",{onClick:Q0,style:{flex:"1",minWidth:"150px",padding:"12px",background:"#3498db",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Enter/Edit Manually"})]}),h.find(d=>d.playerCode===_e)&&i.jsxs("div",{style:{marginTop:"15px",padding:"15px",background:"rgba(220, 53, 69, 0.1)",borderRadius:"6px",border:"2px solid rgba(220, 53, 69, 0.3)"},children:[i.jsx("div",{style:{marginBottom:"10px",fontWeight:"600",color:"#dc3545"},children:" Danger Zone - Delete Operations"}),i.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[i.jsx("button",{onClick:()=>$r("week"),style:{flex:"1",minWidth:"150px",padding:"12px",background:"#e67e22",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Delete This Week Only"}),i.jsx("button",{onClick:()=>$r("all"),style:{flex:"1",minWidth:"150px",padding:"12px",background:"#c0392b",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Delete ALL Weeks"})]})]})]}),i.jsx("button",{onClick:()=>{$s(!1),Fr(""),Us(null),Hs(null),Gs(!1)},style:{padding:"10px 20px",background:"#95a5a6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Exit Override Mode"})]}):i.jsxs("div",{children:[i.jsx("p",{style:{marginBottom:"15px",fontSize:"0.9rem"},children:" Enter picks on behalf of players who missed the deadline or need assistance. Works even when week is locked."}),i.jsx("button",{onClick:()=>$s(!0),style:{padding:"12px 24px",background:"white",color:"#e74c3c",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:" Enter Override Mode"})]})]}),F0&&ur&&i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},children:i.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"30px",maxWidth:"600px",width:"100%",maxHeight:"90vh",overflow:"auto",boxShadow:"0 8px 32px rgba(0,0,0,0.3)"},children:[i.jsx("h3",{style:{marginTop:0,color:"#9b59b6"},children:" RNG PICKS GENERATED"}),i.jsxs("p",{style:{color:"#666",marginBottom:"20px"},children:["Player: ",i.jsx("strong",{children:Oe[_e]}),i.jsx("br",{}),"Week: ",i.jsx("strong",{children:a==="wildcard"?"Week 1":a==="divisional"?"Week 2":a==="conference"?"Week 3":"Week 4"})]}),i.jsx("div",{style:{marginBottom:"20px"},children:ke[a].games.map(d=>i.jsxs("div",{style:{padding:"12px",background:"#f8f9fa",borderRadius:"6px",marginBottom:"10px",border:"2px solid #e9ecef"},children:[i.jsxs("div",{style:{fontWeight:"600",marginBottom:"5px",color:"#333"},children:["Game ",d.id,": ",Ae(a,d.id,"team1",E)," vs ",Ae(a,d.id,"team2",E)]}),i.jsxs("div",{style:{fontSize:"1.2rem",fontWeight:"700",color:"#9b59b6"},children:[ur[d.id].team1," - ",ur[d.id].team2,ur[d.id].team1>ur[d.id].team2?` (${Ae(a,d.id,"team1",E)} wins)`:` (${Ae(a,d.id,"team2",E)} wins)`]})]},d.id))}),i.jsxs("div",{style:{background:"#d4edda",border:"1px solid #c3e6cb",color:"#155724",padding:"12px",borderRadius:"6px",marginBottom:"20px",fontSize:"0.9rem"},children:[" All scores between 10-50 (inclusive)",i.jsx("br",{})," No tied games",i.jsx("br",{}),' Will be marked as "POOL_MANAGER_RNG" in database']}),i.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[i.jsx("button",{onClick:K0,style:{flex:"1",padding:"14px 24px",background:"#28a745",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Submit RNG Picks"}),i.jsx("button",{onClick:xf,style:{flex:"1",padding:"14px 24px",background:"#ffc107",color:"#333",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Regenerate"}),i.jsx("button",{onClick:()=>{Gs(!1),Hs(null)},style:{padding:"14px 24px",background:"#dc3545",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Cancel"})]})]})}),gf&&i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},children:i.jsx("div",{style:{background:"white",borderRadius:"12px",padding:"30px",maxWidth:"500px",width:"100%",boxShadow:"0 8px 32px rgba(0,0,0,0.3)"},children:gf==="week"?i.jsxs(i.Fragment,{children:[i.jsxs("h3",{style:{marginTop:0,color:"#e67e22",display:"flex",alignItems:"center",gap:"10px"},children:[i.jsx("span",{children:""}),i.jsx("span",{children:"DELETE PICKS FOR THIS WEEK?"})]}),i.jsxs("div",{style:{marginBottom:"20px",color:"#666"},children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Player:"})," ",Oe[_e]]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Week:"})," ",a==="wildcard"?"Week 1 (Wildcard)":a==="divisional"?"Week 2 (Divisional)":a==="conference"?"Week 3 (Conference)":"Week 4 (Super Bowl)"]})]}),i.jsxs("div",{style:{background:"#fff3cd",border:"1px solid #ffc107",color:"#856404",padding:"15px",borderRadius:"6px",marginBottom:"20px",fontSize:"0.95rem"},children:[i.jsx("strong",{children:" Warning:"})," This will DELETE ",Oe[_e],"'s picks for this week only.",i.jsx("br",{}),i.jsx("strong",{children:"This action CANNOT be undone!"})]}),i.jsxs("div",{style:{display:"flex",gap:"10px"},children:[i.jsx("button",{onClick:()=>$r(null),style:{flex:"1",padding:"14px",background:"#95a5a6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Cancel"}),i.jsx("button",{onClick:X0,style:{flex:"1",padding:"14px",background:"#e67e22",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Yes, Delete This Week"})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("h3",{style:{marginTop:0,color:"#c0392b",display:"flex",alignItems:"center",gap:"10px"},children:[i.jsx("span",{children:""}),i.jsx("span",{children:"DELETE ALL PICKS?"})]}),i.jsx("div",{style:{marginBottom:"20px",color:"#666"},children:i.jsxs("p",{children:[i.jsx("strong",{children:"Player:"})," ",Oe[_e]]})}),i.jsxs("div",{style:{background:"#f8d7da",border:"2px solid #dc3545",color:"#721c24",padding:"15px",borderRadius:"6px",marginBottom:"20px",fontSize:"0.95rem"},children:[i.jsx("strong",{children:" DANGER:"})," This will DELETE ALL of ",Oe[_e],"'s picks:",i.jsx("br",{}),i.jsx("br",{}),h.filter(d=>d.playerCode===_e).map(d=>i.jsxs("div",{style:{marginLeft:"20px"},children:[" ",d.week==="wildcard"?"Week 1":d.week==="divisional"?"Week 2":d.week==="conference"?"Week 3":"Week 4"," picks"]},d.week)),i.jsx("br",{}),i.jsx("strong",{children:"This action CANNOT be undone!"}),i.jsx("br",{}),i.jsx("strong",{children:"Are you absolutely sure?"})]}),i.jsxs("div",{style:{display:"flex",gap:"10px"},children:[i.jsx("button",{onClick:()=>$r(null),style:{flex:"1",padding:"14px",background:"#95a5a6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Cancel"}),i.jsx("button",{onClick:J0,style:{flex:"1",padding:"14px",background:"#c0392b",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Yes, Delete Everything"})]})]})})}),Vs&&i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},children:i.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"30px",maxWidth:"500px",width:"100%",boxShadow:"0 8px 32px rgba(0,0,0,0.3)"},children:[i.jsxs("h3",{style:{marginTop:0,color:"#e67e22",display:"flex",alignItems:"center",gap:"10px"},children:[i.jsx("span",{children:""}),i.jsx("span",{children:"CLEAR WEEK DATA?"})]}),i.jsx("div",{style:{marginBottom:"20px",color:"#666"},children:i.jsxs("p",{children:[i.jsx("strong",{children:"Week:"})," ",Vs==="wildcard"?"Week 1 (Wildcard)":Vs==="divisional"?"Week 2 (Divisional)":Vs==="conference"?"Week 3 (Conference)":"Week 4 (Super Bowl)"]})}),i.jsxs("div",{style:{background:"#fff3cd",border:"2px solid #ffc107",color:"#856404",padding:"15px",borderRadius:"6px",marginBottom:"20px",fontSize:"0.95rem"},children:[i.jsx("strong",{children:" This will DELETE:"}),i.jsxs("div",{style:{marginLeft:"20px",marginTop:"10px"},children:[" All team names for this week",i.jsx("br",{})," All actual scores for this week",i.jsx("br",{})," All game statuses (FINAL/LIVE) for this week"]}),i.jsx("br",{}),i.jsx("strong",{style:{color:"#d63031"},children:" This will KEEP:"}),i.jsx("div",{style:{marginLeft:"20px",marginTop:"5px"},children:" ALL player picks (NOT deleted!)"}),i.jsx("br",{}),i.jsx("strong",{children:"This action CANNOT be undone!"})]}),i.jsxs("div",{style:{display:"flex",gap:"10px"},children:[i.jsx("button",{onClick:()=>Na(null),style:{flex:"1",padding:"14px",background:"#95a5a6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Cancel"}),i.jsx("button",{onClick:()=>Z0(Vs),style:{flex:"1",padding:"14px",background:"#e67e22",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Yes, Clear Week Data"})]})]})}),ve()&&l&&i.jsx(G_,{currentWeek:a,games:Ee.games,actualScores:W,teamCodes:U,onScoresFetched:wf,onGameLockToggle:sx,gameLocks:ue,espnAutoRefresh:ar}),ve()&&l&&i.jsx("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"20px",borderRadius:"8px",marginBottom:"20px",boxShadow:"0 4px 15px rgba(102, 126, 234, 0.4)"},children:i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[i.jsxs("div",{children:[i.jsxs("h3",{style:{margin:"0 0 8px 0",display:"flex",alignItems:"center",gap:"10px"},children:[i.jsx("span",{children:""}),i.jsx("span",{children:"POOL MANAGER RNG - Quick Test Data"})]}),i.jsx("p",{style:{margin:0,fontSize:"0.9rem",opacity:.9},children:"Auto-populate teams, scores, and mark games as FINAL for testing"})]}),i.jsx("button",{onClick:kx,style:{padding:"12px 24px",background:"white",color:"#667eea",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"1rem",fontWeight:"700",boxShadow:"0 4px 12px rgba(0,0,0,0.2)",transition:"all 0.3s ease",whiteSpace:"nowrap"},onMouseOver:d=>{d.target.style.transform="translateY(-2px)",d.target.style.boxShadow="0 6px 16px rgba(0,0,0,0.3)"},onMouseOut:d=>{d.target.style.transform="translateY(0)",d.target.style.boxShadow="0 4px 12px rgba(0,0,0,0.2)"},children:" Generate Test Data"})]})}),ve()&&l&&i.jsxs("div",{style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"white",padding:"15px 20px",borderRadius:"8px",marginBottom:"20px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[i.jsxs("h3",{style:{margin:"0 0 15px 0",display:"flex",alignItems:"center",gap:"10px"},children:[i.jsx("span",{children:""}),i.jsx("span",{children:"ALL PLAYER CODES"})]}),i.jsx("div",{style:{background:"rgba(255,255,255,0.95)",padding:"15px",borderRadius:"6px",maxHeight:"300px",overflowY:"auto"},children:i.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.9rem"},children:[i.jsx("thead",{children:i.jsxs("tr",{style:{background:"#f8f9fa",borderBottom:"2px solid #dee2e6"},children:[i.jsx("th",{style:{padding:"10px",textAlign:"left",color:"#495057",fontWeight:"600"},children:"Player Code"}),i.jsx("th",{style:{padding:"10px",textAlign:"left",color:"#495057",fontWeight:"600"},children:"Player Name"}),i.jsx("th",{style:{padding:"10px",textAlign:"center",color:"#495057",fontWeight:"600"},children:"Role"})]})}),i.jsx("tbody",{children:Object.entries(Oe).sort((d,v)=>{const p=mn.includes(d[0]),m=mn.includes(v[0]);return p&&!m?-1:!p&&m?1:d[1].localeCompare(v[1])}).map(([d,v],p)=>{const m=mn.includes(d);return i.jsxs("tr",{style:{background:p%2===0?"#ffffff":"#f8f9fa",borderBottom:"1px solid #dee2e6"},children:[i.jsx("td",{style:{padding:"10px",color:"#212529",fontFamily:"monospace",fontWeight:"bold",fontSize:"1rem"},children:d}),i.jsx("td",{style:{padding:"10px",color:"#212529"},children:v}),i.jsx("td",{style:{padding:"10px",textAlign:"center"},children:m?i.jsx("span",{style:{padding:"4px 8px",background:"#dc3545",color:"white",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"600"},children:" MANAGER"}):i.jsx("span",{style:{padding:"4px 8px",background:"#28a745",color:"white",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"600"},children:" PLAYER"})})]},d)})})]})}),i.jsxs("p",{style:{fontSize:"0.8rem",marginTop:"12px",marginBottom:"0",opacity:.9},children:[" Total Players: ",Object.keys(Oe).length," | Pool Managers: ",mn.length," | Regular Players: ",Object.keys(Oe).length-mn.length]})]}),l&&i.jsx(eC,{currentWeek:a,onWeekChange:_x,weekPicks:z0,weekLockStatus:je,hasUnsavedChanges:Mr,isPoolManager:ve()}),l&&i.jsxs("div",{className:"view-navigation",children:[i.jsxs("button",{className:`nav-btn ${t==="picks"?"active":""}`,onClick:()=>e("picks"),children:[" #1 Make Picks & Logout",t==="picks"&&i.jsx("span",{style:{marginLeft:"8px",fontSize:"0.75rem",opacity:.9,fontStyle:"italic"},children:"(you are here)"})]}),i.jsxs("button",{className:`nav-btn ${t==="standings"?"active":""}`,onClick:()=>e("standings"),children:[" #2 Standings & Prizes",t==="standings"&&i.jsx("span",{style:{marginLeft:"8px",fontSize:"0.75rem",opacity:.9,fontStyle:"italic"},children:"(you are here)"})]}),i.jsxs("button",{className:`nav-btn ${t==="winners"?"active":""}`,onClick:()=>e("winners"),children:[" #3 How Winners Are Determined",t==="winners"&&i.jsx("span",{style:{marginLeft:"8px",fontSize:"0.75rem",opacity:.9,fontStyle:"italic"},children:"(you are here)"})]}),ve()&&i.jsxs("button",{className:`nav-btn ${t==="payments"?"active":""}`,onClick:()=>e("payments"),children:[" Payments",i.jsx("span",{style:{marginLeft:"8px",fontSize:"0.7rem",padding:"2px 6px",background:"#667eea",color:"white",borderRadius:"10px",fontWeight:"500"},children:"Pool Manager"}),t==="payments"&&i.jsx("span",{style:{marginLeft:"8px",fontSize:"0.75rem",opacity:.9,fontStyle:"italic"},children:"(you are here)"})]}),ve()&&i.jsxs("button",{className:`nav-btn ${t==="playoffSetup"?"active":""}`,onClick:()=>e("playoffSetup"),children:[" Setup Playoff Teams",i.jsx("span",{style:{marginLeft:"8px",fontSize:"0.7rem",padding:"2px 6px",background:"#667eea",color:"white",borderRadius:"10px",fontWeight:"500"},children:"Pool Manager"}),t==="playoffSetup"&&i.jsx("span",{style:{marginLeft:"8px",fontSize:"0.75rem",opacity:.9,fontStyle:"italic"},children:"(you are here)"})]}),ve()&&i.jsxs("button",{className:`nav-btn ${t==="loginLogs"?"active":""}`,onClick:()=>e("loginLogs"),children:[" Login Logs",i.jsx("span",{style:{marginLeft:"8px",fontSize:"0.7rem",padding:"2px 6px",background:"#667eea",color:"white",borderRadius:"10px",fontWeight:"500"},children:"Pool Manager"}),t==="loginLogs"&&i.jsx("span",{style:{marginLeft:"8px",fontSize:"0.75rem",opacity:.9,fontStyle:"italic"},children:"(you are here)"})]}),ve()&&i.jsxs("button",{className:"nav-btn",style:{background:"#10b981",color:"white"},onClick:async()=>{if(confirm(`Create players table in Firebase?

This will add all `+Object.keys(Oe).length+" players to Firebase."))try{const d=te(ee,"players");if((await mt(d)).exists()){alert(" Players table already exists in Firebase!");return}let p=0;for(const[m,y]of Object.entries(Oe))await vr(te(ee,"players"),{playerCode:m,playerName:y,role:mn.includes(m)?"MANAGER":"PLAYER",paymentStatus:"UNPAID",paymentTimestamp:"",paymentMethod:"",paymentAmount:0,visibleToPlayers:!0,createdAt:Date.now(),updatedAt:Date.now()}),p++;alert(` SUCCESS!

Created `+p+` players in Firebase!

REFRESH THE PAGE NOW!`)}catch(d){alert(" Error: "+d.message),console.error("Migration error:",d)}},children:[" Create Players Table",i.jsx("span",{style:{marginLeft:"8px",fontSize:"0.7rem",padding:"2px 6px",background:"#059669",color:"white",borderRadius:"10px",fontWeight:"500"},children:"One-Time Setup"})]}),ve()&&i.jsxs("button",{className:"nav-btn",style:{background:"#3b82f6",color:"white"},onClick:async()=>{const d=prompt("Enter new player name:");if(!d||!d.trim()){alert(" Cancelled - no name entered");return}const v=prompt(`Enter 6-character access code
(or leave blank to auto-generate):`),p=v&&v.trim()?v.trim().toUpperCase():Math.random().toString(36).substring(2,8).toUpperCase();if(p.length!==6){alert(" Access code must be exactly 6 characters!");return}const m=te(ee,"players"),y=await mt(m);if(y.exists()){const k=y.val();if(Object.values(k).some(w=>w.playerCode===p)){alert(` Code "${p}" already exists! Please use a different code.`);return}}try{await vr(m,{playerCode:p,playerName:d.trim(),role:"PLAYER",paymentStatus:"UNPAID",paymentTimestamp:"",paymentMethod:"",paymentAmount:0,visibleToPlayers:!0,createdAt:Date.now(),updatedAt:Date.now()}),alert(` PLAYER ADDED!

Name: ${d.trim()}
Access Code: ${p}

 Give this code to the player!`)}catch(k){alert(" Error: "+k.message)}},children:[" Add New Player",i.jsx("span",{style:{marginLeft:"8px",fontSize:"0.7rem",padding:"2px 6px",background:"#2563eb",color:"white",borderRadius:"10px",fontWeight:"500"},children:"Pool Manager"})]}),ve()&&i.jsxs("button",{className:"nav-btn",style:{background:"#f59e0b",color:"white"},onClick:async()=>{if(confirm("Add showInPicksTable field to all players?"))try{const d=te(ee,"players"),v=await mt(d);if(!v.exists()){alert(" No players found");return}const p=v.val();let m=0;for(const[y,k]of Object.entries(p))if(k.showInPicksTable===void 0){const j=te(ee,`players/${y}`);await xr(j,{showInPicksTable:!1}),m++}alert(` Added showInPicksTable to ${m} players!

REFRESH PAGE NOW!`)}catch(d){alert(" Error: "+d.message)}},children:[" Add Table Field",i.jsx("span",{style:{marginLeft:"8px",fontSize:"0.7rem",padding:"2px 6px",background:"#d97706",color:"white",borderRadius:"10px",fontWeight:"500"},children:"One-Time"})]}),ve()&&i.jsxs("button",{className:"nav-btn",style:{background:"#10b981",color:"white"},onClick:V0,children:[" Download All Players (Excel)",i.jsx("span",{style:{marginLeft:"8px",fontSize:"0.7rem",padding:"2px 6px",background:"#059669",color:"white",borderRadius:"10px",fontWeight:"500"},children:"Backup"})]}),ve()&&i.jsxs("button",{className:"nav-btn",style:{background:"#dc2626",color:"white"},onClick:async()=>{if(!window.confirm(` EMERGENCY OVERRIDE 

This will OVERWRITE all player codes in Firebase
with the hardcoded PLAYER_CODES from App.jsx.

 Any codes manually updated in Firebase will be LOST!
 This should ONLY be used in emergencies!

Firebase is the SOURCE OF TRUTH.
App.jsx is only a backup.

Are you SURE you want to override Firebase?`)||!window.confirm(` FINAL WARNING 

Type YES in the next prompt to proceed.

This action CANNOT be undone!

Click OK to continue or Cancel to abort.`))return;if(prompt(` Type YES (all caps) to confirm:

I understand this will ERASE all Firebase player codes
and replace them with App.jsx PLAYER_CODES.`)!=="YES"){alert(" Cancelled - you must type YES exactly.");return}try{const m=te(ee,"players"),y=await mt(m);if(!y.exists()){alert(" No players found in Firebase.");return}const k=y.val();let j=0,w=[];for(const[T,I]of Object.entries(k)){const O=Object.entries(Oe).find(([M,H])=>H===I.playerName);if(O){const[M,H]=O,X=te(ee,`players/${T}`);await xr(X,{playerCode:M,updatedAt:Date.now()}),j++,console.log(` Updated ${H}: ${I.playerCode}  ${M}`)}else w.push(I.playerName)}let _=` Emergency Override Complete!

`;_+=`Updated ${j} player codes from App.jsx.

`,w.length>0&&(_+=` ${w.length} players NOT found in App.jsx PLAYER_CODES:
`,_+=w.join(", ")+`

`,_+=`These players were NOT updated!

`),_+="REFRESH PAGE NOW!",alert(_)}catch(m){alert(" Error: "+m.message)}},children:[" EMERGENCY: Override Firebase",i.jsx("span",{style:{marginLeft:"8px",fontSize:"0.7rem",padding:"2px 6px",background:"#991b1b",color:"white",borderRadius:"10px",fontWeight:"500"},children:"DANGER"})]})]}),t==="standings"&&l?i.jsx(H_,{allPicks:h,actualScores:W,gameStatus:Y,currentWeek:a,playerName:n,playerCode:s,isPoolManager:ve(),prizePool:we,officialWinners:Ca,publishedWinners:Z,onLogout:Ef,weekCompletionStatus:ce,rankMostCorrectWinners:hx,rankClosestPoints:mx,rankCorrectSuperBowlWinner:gx,rankClosestSuperBowlPoints:vx,rankMostCorrectAllWeeks:yx,rankClosestPointsAllWeeks:xx,isWeekComplete:px,calculateCorrectWinners:Gr,calculateWeeklyTotal:Re,calculateTotalCorrectWinners:Cf,calculateGrandTotal:Pa}):t==="winners"&&l?i.jsx(NC,{calculatedWinners:z,publishedWinners:Z,isPoolManager:ve(),onPublishPrize:lx,onUnpublishPrize:ax,allPicks:h,actualScores:W,prizePool:we}):t==="loginLogs"&&l?i.jsx(vC,{isPoolManager:ve(),playerCodes:Oe,onClearLogs:async()=>{if(window.confirm(` Are you sure you want to CLEAR ALL login logs?

This will permanently delete all login history from Firebase.

This action CANNOT be undone!`))try{await be(te(ee,"loginLogs"),null),alert(" All login logs have been cleared successfully!"),console.log(" Login logs cleared by Pool Manager"),window.location.reload()}catch(d){alert(" Error clearing login logs: "+d.message),console.error("Error clearing login logs:",d)}}}):t==="payments"&&l?i.jsx(IC,{players:fr,allPicks:h,onUpdatePayment:B0,onTogglePlayerVisibility:$0,onRemovePlayer:U0,onToggleTableDisplay:H0,onUpdatePlayerCode:G0}):t==="playoffSetup"&&l?i.jsx(PC,{playoffTeams:E,actualScores:W,onSavePlayoffTeams:cx,isPoolManager:ve(),database:ee,weekCompletionStatus:ce}):i.jsxs(i.Fragment,{children:[l?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"player-confirmed",children:[i.jsx("span",{className:"confirmation-badge",children:" VERIFIED"}),i.jsxs("h3",{children:["Welcome, ",i.jsx("span",{className:"player-name-highlight",children:n}),"!",ve()&&i.jsx("span",{style:{marginLeft:"10px",color:"#d63031"},children:" POOL MANAGER"})]}),i.jsxs("div",{style:{display:"inline-block",padding:"8px 20px",marginBottom:"10px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:"25px",fontWeight:"bold",fontSize:"1.1rem",boxShadow:"0 4px 15px rgba(102, 126, 234, 0.4)",letterSpacing:"0.5px"},children:[a==="wildcard"&&" WEEK 1 OF 4",a==="divisional"&&" WEEK 2 OF 4",a==="conference"&&" WEEK 3 OF 4",a==="superbowl"&&" WEEK 4 OF 4"]}),i.jsxs("p",{style:{color:"#000",marginTop:"8px"},children:["Making picks for: ",i.jsx("strong",{children:Ee.name})]}),nn(a)&&!ve()&&i.jsx("div",{style:{marginTop:"10px",padding:"10px 15px",background:"#fff3cd",border:"2px solid #ffc107",borderRadius:"6px",color:"#856404",fontWeight:"600"},children:" This week is LOCKED - You can view your picks but cannot edit them"}),i.jsx("button",{className:"validate-btn",style:{marginTop:"15px",padding:"10px 20px",fontSize:"0.9rem"},onClick:Ef,children:" Logout / Switch Entry"}),i.jsx("p",{style:{fontSize:"0.85rem",color:"#666",marginTop:"10px",fontStyle:"italic"},children:" Playing with multiple entries? Logout to switch between your codes."})]}),!((Tf=E==null?void 0:E.week1)!=null&&Tf.configured)&&i.jsxs("div",{style:{margin:"20px 0",padding:"20px",background:"linear-gradient(135deg, #ffd89b 0%, #19547b 100%)",borderRadius:"12px",border:"3px solid #ff9800",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",textAlign:"center"},children:[i.jsx("div",{style:{fontSize:"2rem",marginBottom:"10px"},children:""}),i.jsx("h3",{style:{color:"white",margin:"0 0 10px 0",fontSize:"1.3rem",textShadow:"2px 2px 4px rgba(0,0,0,0.3)"},children:"Playoff Teams Will Be Announced Soon"}),i.jsxs("p",{style:{color:"white",fontSize:"1rem",margin:0,opacity:.95},children:["The 2025 NFL Playoff teams will be determined after the regular season ends by end of day January 4, 2026.",i.jsx("br",{}),"Pool Manager will announce the 14 playoff teams here once finalized."]})]}),!Qs()&&i.jsx("div",{className:"closed-warning",children:" PICKS ARE LOCKED (Playoff Weekend: Friday 11:59 PM - Monday 12:01 AM PST)"}),i.jsxs("div",{className:"prediction-form",children:[Br==="manual"?i.jsxs("h2",{style:{color:"#e74c3c"},children:[" OVERRIDE MODE: Entering Picks for ",Oe[_e]]}):i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"15px",gap:"15px"},children:[i.jsxs("h2",{style:{margin:0,flex:"1"},children:["Enter Your Predictions: ",i.jsxs("span",{style:{fontSize:"0.95rem",color:"#667eea",fontWeight:"600"},children:[a==="wildcard"&&"Week 1",a==="divisional"&&"Week 2",a==="conference"&&"Week 3",a==="superbowl"&&"Week 4"]})]}),!nn(a)&&i.jsx("button",{type:"button",onClick:ix,style:{padding:"10px 20px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"0.95rem",fontWeight:"600",boxShadow:"0 4px 15px rgba(102, 126, 234, 0.4)",transition:"all 0.3s ease"},onMouseOver:d=>{d.target.style.transform="translateY(-2px)",d.target.style.boxShadow="0 6px 20px rgba(102, 126, 234, 0.6)"},onMouseOut:d=>{d.target.style.transform="translateY(0)",d.target.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)"},children:" Quick RNG Pick - Auto-fill all games"}),i.jsx("button",{type:"button",onClick:()=>ho(!0),style:{width:"100%",padding:"15px",marginTop:"10px",fontSize:"1.1rem",fontWeight:"bold",color:"white",background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",border:"none",borderRadius:"12px",cursor:"pointer",boxShadow:"0 4px 15px rgba(245, 87, 108, 0.4)",transition:"all 0.3s ease"},onMouseOver:d=>{d.target.style.transform="translateY(-2px)",d.target.style.boxShadow="0 6px 20px rgba(245, 87, 108, 0.6)"},onMouseOut:d=>{d.target.style.transform="translateY(0)",d.target.style.boxShadow="0 4px 15px rgba(245, 87, 108, 0.4)"},children:" NFL Scoring Guide - 2025 Season Stats"})]}),i.jsxs("div",{className:"progress-indicator",children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[i.jsx("strong",{children:"Progress:"}),i.jsxs("span",{children:[Object.keys(g).filter(d=>g[d]&&g[d].team1&&g[d].team2).length," of ",Ee.games.length," games completed"]})]}),i.jsx("div",{className:"progress-bar",children:i.jsxs("div",{className:"progress-fill",style:{width:`${Object.keys(g).filter(d=>g[d]&&g[d].team1&&g[d].team2).length/Ee.games.length*100}%`},children:[Math.round(Object.keys(g).filter(d=>g[d]&&g[d].team1&&g[d].team2).length/Ee.games.length*100),"%"]})})]}),i.jsxs("form",{onSubmit:Br==="manual"?q0:jf,children:[Ee.games.map(d=>{var v,p,m,y,k;return i.jsxs("div",{className:"game-prediction",children:[i.jsxs("h3",{children:["Game ",d.id,": ",Ae(a,d.id,"team1",E)," @ ",Ae(a,d.id,"team2",E)]}),((v=W[a])==null?void 0:v[d.id])&&i.jsxs("div",{style:{padding:"10px 15px",background:"#ffffff",border:"3px solid #4caf50",borderRadius:"6px",marginBottom:"12px",fontSize:"1rem"},children:[i.jsx("strong",{style:{color:"#000",fontSize:"1.05rem"},children:"Actual Score:"})," ",i.jsxs("span",{style:{color:"#000",fontWeight:"700",fontSize:"1.1rem"},children:[W[a][d.id].team1||"-"," - ",W[a][d.id].team2||"-"]}),((p=Y[a])==null?void 0:p[d.id])==="final"&&i.jsx("span",{style:{marginLeft:"10px",padding:"2px 8px",background:"#4caf50",color:"white",borderRadius:"4px",fontSize:"0.8rem",fontWeight:"bold"},children:" FINAL"}),((m=Y[a])==null?void 0:m[d.id])==="live"&&i.jsx("span",{style:{marginLeft:"10px",padding:"2px 8px",background:"#ff9800",color:"white",borderRadius:"4px",fontSize:"0.8rem",fontWeight:"bold"},children:" LIVE"})]}),i.jsxs("div",{className:"score-inputs",children:[i.jsxs("div",{className:"team-score",children:[i.jsxs("label",{children:[i.jsx("span",{className:"team-designation",children:"AWAY TEAM"}),i.jsx("span",{className:"team-name-label",style:{color:"#ffffff",fontWeight:"700"},children:d.team1})]}),i.jsx("input",{type:"text",value:((y=g[d.id])==null?void 0:y.team1)||"",onChange:j=>{const w=j.target.value;(w==="-"||w===""||/^\d{1,2}$/.test(w))&&kf(d.id,"team1",w)},placeholder:"-",disabled:nn(a),maxLength:"2"},`${d.id}-team1-${n}`)]}),i.jsx("div",{className:"vs",children:"VS"}),i.jsxs("div",{className:"team-score",children:[i.jsxs("label",{children:[i.jsx("span",{className:"team-designation",children:"HOME TEAM"}),i.jsx("span",{className:"team-name-label",style:{color:"#ffffff",fontWeight:"700"},children:d.team2})]}),i.jsx("input",{type:"text",value:((k=g[d.id])==null?void 0:k.team2)||"",onChange:j=>{const w=j.target.value;(w==="-"||w===""||/^\d{1,2}$/.test(w))&&kf(d.id,"team2",w)},placeholder:"-",disabled:nn(a),maxLength:"2"},`${d.id}-team2-${n}`)]})]})]},d.id)}),i.jsxs("div",{style:{display:"flex",gap:"15px",marginTop:"20px"},children:[i.jsx("button",{type:"submit",className:"submit-btn",disabled:Br==="manual"?!1:!Qs()||nn(a),style:Br==="manual"?{background:"#e74c3c",fontSize:"1.1rem",fontWeight:"700",flex:"1"}:{flex:"1"},children:Br==="manual"?` Submit for ${Oe[_e]}`:nn(a)&&!ve()?" Week Locked - Cannot Edit Picks":Qs()?" Submit / Update My Picks":" Submissions Locked (Playoff Weekend)"}),!nn(a)&&Br!=="manual"&&i.jsx("button",{type:"button",onClick:Sx,style:{padding:"15px 30px",background:"#6c757d",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"1.1rem",fontWeight:"600",transition:"all 0.3s ease",flex:"0 0 auto",minWidth:"150px"},onMouseOver:d=>{d.target.style.background="#5a6268"},onMouseOut:d=>{d.target.style.background="#6c757d"},children:" Cancel"})]}),Qs()&&!nn(a)&&i.jsx("p",{style:{textAlign:"center",marginTop:"15px",color:"#666",fontSize:"0.9rem"},children:"You can edit and resubmit your picks as many times as you want until Friday 11:59 PM PST (before game weekends)"})]})]})]}):i.jsx("div",{className:"prediction-form",children:i.jsxs("div",{className:"code-entry-section",children:[i.jsx("h3",{children:" Enter Your Player Code"}),i.jsx("p",{style:{marginBottom:"20px",color:"#666"},children:"You received a 6-character code when you paid your $20 entry fee."}),i.jsx("p",{style:{marginBottom:"20px",color:"#666",fontSize:"0.9rem",fontStyle:"italic"},children:" Have multiple entries? Enter one code at a time."}),i.jsxs("div",{className:"code-input-group",children:[i.jsx("label",{htmlFor:"playerCode",children:"Player Code LOGIN ACCESS (6 characters)"}),i.jsx("input",{type:"text",id:"playerCode",className:"code-input",value:s,onChange:d=>o(d.target.value.toUpperCase()),placeholder:"A7K9M2",maxLength:"6",autoComplete:"off",onKeyPress:d=>{d.key==="Enter"&&Nf()}}),i.jsx("button",{className:"validate-btn",onClick:Nf,children:"Validate Code & Continue"}),i.jsxs("div",{style:{marginTop:"20px",padding:"15px",background:"#fff3cd",border:"2px solid #ffc107",borderRadius:"8px",textAlign:"left"},children:[i.jsx("h4",{style:{margin:"0 0 10px 0",color:"#856404"},children:" Entry Fee Payment"}),i.jsxs("p",{style:{margin:"5px 0",fontSize:"0.9rem",color:"#856404"},children:[i.jsx("strong",{children:"Cost:"})," $20 per entry"]}),i.jsxs("p",{style:{margin:"5px 0",fontSize:"0.9rem",color:"#856404"},children:[i.jsx("strong",{children:"Send e-Transfer to:"})," gammoneer2b@gmail.com"]}),i.jsxs("p",{style:{margin:"5px 0",fontSize:"0.9rem",color:"#856404"},children:[i.jsx("strong",{children:"Password:"})," nflpool"]}),i.jsx("p",{style:{margin:"10px 0 5px 0",fontSize:"0.85rem",color:"#856404",fontStyle:"italic"},children:"You will receive your player code after payment is confirmed."})]}),i.jsx("p",{style:{marginTop:"15px",fontSize:"0.9rem",color:"#666",textAlign:"center"},children:"Questions? Contact: gammoneer2b@gmail.com"})]})]})}),i.jsxs("div",{className:"all-picks",children:[i.jsxs("h2",{children:["All Player Picks - ",Ee.name,i.jsx("button",{onClick:Ex,style:{marginLeft:"15px",padding:"8px 16px",background:"#4caf50",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Download CSV (Paid Players)"}),ve()&&i.jsx("button",{onClick:Cx,style:{marginLeft:"10px",padding:"8px 16px",background:"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Download COMPLETE CSV (All Players)"}),i.jsx("div",{style:{fontSize:"0.75rem",color:"#666",marginTop:"5px",fontStyle:"italic"},children:" Mobile: Open the DOWNLOADABLE CSV file with Google Sheets (free app) or MS Office EXCEL"}),i.jsx("button",{onClick:bx,disabled:Fs,style:{marginLeft:"10px",padding:"8px 16px",background:Fs?"#a0a0a0":"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:Fs?"not-allowed":"pointer",fontSize:"0.9rem",fontWeight:"600",opacity:Fs?.7:1},children:Fs?" Refreshed!":" Refresh Picks Table"})]}),i.jsx("button",{onClick:()=>S(!0),style:{padding:"12px 24px",marginBottom:"20px",marginTop:"10px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"#fff",border:"none",borderRadius:"8px",fontSize:"1rem",fontWeight:"bold",cursor:"pointer",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:" View Score Analysis"}),h.filter(d=>d.week===a).length===0?i.jsx("p",{className:"no-picks",children:"No picks submitted yet for this week."}):i.jsxs("div",{className:"picks-table-container",children:[i.jsxs("table",{className:"picks-table",children:[i.jsxs("thead",{children:[i.jsxs("tr",{children:[i.jsxs("th",{rowSpan:"2",children:["Player",i.jsx("div",{style:{marginTop:"4px"},children:i.jsx("button",{onClick:()=>rn("name"),style:{padding:"4px 8px",fontSize:"0.7rem",background:ae==="name"?"#4caf50":"#f0f0f0",color:ae==="name"?"#fff":"#000",border:"1px solid #ddd",borderRadius:"4px",cursor:"pointer"},title:`Sort by first name ${ae==="name"&&Ie==="asc"?"(A-Z)":"(Z-A)"}`,children:ae==="name"?Ie==="asc"?"":"":""})})]}),Ee.games.map((d,v)=>{var p,m,y,k;return i.jsxs("th",{colSpan:"2",style:{borderLeft:v>0?"4px solid #2c3e50":"none",paddingLeft:v>0?"12px":"8px"},children:["Game ",d.id,i.jsx("br",{}),i.jsxs("small",{style:{color:"#ffffff",fontWeight:"700"},children:[Ae(a,d.id,"team1",E)," @ ",Ae(a,d.id,"team2",E)]}),ve()&&i.jsxs("div",{style:{marginTop:"5px",display:"flex",gap:"5px",justifyContent:"center",alignItems:"center"},children:[i.jsxs("select",{value:((m=(p=U[a])==null?void 0:p[d.id])==null?void 0:m.team1)||"",onChange:j=>bf(d.id,"team1",j.target.value),style:{width:"80px",padding:"6px 4px",textAlign:"center",fontSize:"0.75rem",fontWeight:"bold",border:"2px solid #667eea",borderRadius:"4px",background:"#fff",color:"#000"},children:[i.jsx("option",{value:"",children:"--"}),i.jsx("option",{value:"ARI",children:"ARI"}),i.jsx("option",{value:"ATL",children:"ATL"}),i.jsx("option",{value:"BAL",children:"BAL"}),i.jsx("option",{value:"BUF",children:"BUF"}),i.jsx("option",{value:"CAR",children:"CAR"}),i.jsx("option",{value:"CHI",children:"CHI"}),i.jsx("option",{value:"CIN",children:"CIN"}),i.jsx("option",{value:"CLE",children:"CLE"}),i.jsx("option",{value:"DAL",children:"DAL"}),i.jsx("option",{value:"DEN",children:"DEN"}),i.jsx("option",{value:"DET",children:"DET"}),i.jsx("option",{value:"GB",children:"GB"}),i.jsx("option",{value:"HOU",children:"HOU"}),i.jsx("option",{value:"IND",children:"IND"}),i.jsx("option",{value:"JAC",children:"JAC"}),i.jsx("option",{value:"KC",children:"KC"}),i.jsx("option",{value:"LV",children:"LV"}),i.jsx("option",{value:"LAC",children:"LAC"}),i.jsx("option",{value:"LAR",children:"LAR"}),i.jsx("option",{value:"MIA",children:"MIA"}),i.jsx("option",{value:"MIN",children:"MIN"}),i.jsx("option",{value:"NE",children:"NE"}),i.jsx("option",{value:"NO",children:"NO"}),i.jsx("option",{value:"NYG",children:"NYG"}),i.jsx("option",{value:"NYJ",children:"NYJ"}),i.jsx("option",{value:"PHI",children:"PHI"}),i.jsx("option",{value:"PIT",children:"PIT"}),i.jsx("option",{value:"SF",children:"SF"}),i.jsx("option",{value:"SEA",children:"SEA"}),i.jsx("option",{value:"TB",children:"TB"}),i.jsx("option",{value:"TEN",children:"TEN"}),i.jsx("option",{value:"WAS",children:"WAS"})]}),i.jsx("span",{style:{fontSize:"0.8rem",fontWeight:"bold"},children:"@"}),i.jsxs("select",{value:((k=(y=U[a])==null?void 0:y[d.id])==null?void 0:k.team2)||"",onChange:j=>bf(d.id,"team2",j.target.value),style:{width:"80px",padding:"6px 4px",textAlign:"center",fontSize:"0.75rem",fontWeight:"bold",border:"2px solid #667eea",borderRadius:"4px",background:"#fff",color:"#000"},children:[i.jsx("option",{value:"",children:"--"}),i.jsx("option",{value:"ARI",children:"ARI"}),i.jsx("option",{value:"ATL",children:"ATL"}),i.jsx("option",{value:"BAL",children:"BAL"}),i.jsx("option",{value:"BUF",children:"BUF"}),i.jsx("option",{value:"CAR",children:"CAR"}),i.jsx("option",{value:"CHI",children:"CHI"}),i.jsx("option",{value:"CIN",children:"CIN"}),i.jsx("option",{value:"CLE",children:"CLE"}),i.jsx("option",{value:"DAL",children:"DAL"}),i.jsx("option",{value:"DEN",children:"DEN"}),i.jsx("option",{value:"DET",children:"DET"}),i.jsx("option",{value:"GB",children:"GB"}),i.jsx("option",{value:"HOU",children:"HOU"}),i.jsx("option",{value:"IND",children:"IND"}),i.jsx("option",{value:"JAC",children:"JAC"}),i.jsx("option",{value:"KC",children:"KC"}),i.jsx("option",{value:"LV",children:"LV"}),i.jsx("option",{value:"LAC",children:"LAC"}),i.jsx("option",{value:"LAR",children:"LAR"}),i.jsx("option",{value:"MIA",children:"MIA"}),i.jsx("option",{value:"MIN",children:"MIN"}),i.jsx("option",{value:"NE",children:"NE"}),i.jsx("option",{value:"NO",children:"NO"}),i.jsx("option",{value:"NYG",children:"NYG"}),i.jsx("option",{value:"NYJ",children:"NYJ"}),i.jsx("option",{value:"PHI",children:"PHI"}),i.jsx("option",{value:"PIT",children:"PIT"}),i.jsx("option",{value:"SF",children:"SF"}),i.jsx("option",{value:"SEA",children:"SEA"}),i.jsx("option",{value:"TB",children:"TB"}),i.jsx("option",{value:"TEN",children:"TEN"}),i.jsx("option",{value:"WAS",children:"WAS"})]})]})]},d.id)}),i.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#e8f5e9",fontWeight:"bold",color:"#090909ff",minWidth:"60px",fontSize:"0.75rem",padding:"8px 4px"},children:[i.jsx("div",{style:{marginBottom:"2px"},children:"Correct"}),i.jsx("div",{style:{marginBottom:"4px"},children:"Picks"}),i.jsx("button",{onClick:()=>rn("correct"),style:{padding:"4px 8px",fontSize:"0.7rem",background:ae==="correct"?"#4caf50":"#f0f0f0",color:ae==="correct"?"#fff":"#000",border:"1px solid #ddd",borderRadius:"4px",cursor:"pointer",marginTop:"2px"},title:`Sort by correct picks ${ae==="correct"&&Ie==="asc"?"(Low to High)":"(High to Low)"}`,children:ae==="correct"?Ie==="asc"?"":"":""})]}),i.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#fff9c4",fontWeight:"bold",color:"#000",minWidth:"60px",fontSize:"0.75rem",padding:"8px 4px"},children:[i.jsx("div",{style:{marginBottom:"2px"},children:"Perfect"}),i.jsx("div",{style:{marginBottom:"4px"},children:"Scores"}),i.jsx("button",{onClick:()=>rn("perfect"),style:{padding:"4px 8px",fontSize:"0.7rem",background:ae==="perfect"?"#4caf50":"#f0f0f0",color:ae==="perfect"?"#fff":"#000",border:"1px solid #ddd",borderRadius:"4px",cursor:"pointer",marginTop:"2px"},title:`Sort by perfect scores ${ae==="perfect"&&Ie==="asc"?"(Low to High)":"(High to Low)"}`,children:ae==="perfect"?Ie==="asc"?"":"":""})]}),a==="superbowl"?i.jsxs(i.Fragment,{children:[i.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#fff3cd",fontWeight:"bold",color:"#000"},children:[ve()?i.jsxs("div",{style:{marginBottom:"8px"},children:[i.jsxs("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"},children:["OFFICIAL ",le.superbowl_week4?"":"",le.superbowl_week4&&i.jsx("button",{onClick:()=>Ys("superbowl_week4"),title:"Return to auto-calculation",style:{padding:"2px 6px",fontSize:"0.65rem",background:"#e74c3c",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"},children:"Clear"})]}),i.jsx("input",{type:"number",min:"0",value:In("superbowl_week4","superbowl"),onChange:d=>Hr("superbowl_week4",d.target.value),placeholder:"Auto",title:le.superbowl_week4?"Manually overridden - click Clear to return to auto":"Auto-calculated - click to override",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:le.superbowl_week4?"2px solid #e74c3c":"2px solid #27ae60",borderRadius:"4px",color:"#000",backgroundColor:le.superbowl_week4?"#ffe5e5":"#e8f8f5"}})]}):i.jsxs("div",{style:{marginBottom:"8px"},children:[i.jsxs("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:["Official ",le.superbowl_week4?"":""]}),i.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:In("superbowl_week4","superbowl")||"-"})]}),"Week 4",i.jsx("br",{}),"Total",i.jsx("div",{style:{marginTop:"6px"},children:i.jsx("button",{onClick:()=>rn("week4"),style:{padding:"4px 8px",fontSize:"0.7rem",background:ae==="week4"?"#4caf50":"#f0f0f0",color:ae==="week4"?"#fff":"#000",border:"1px solid #ddd",borderRadius:"4px",cursor:"pointer"},title:`Sort by Week 4 difference ${ae==="week4"&&Ie==="asc"?"(Low to High)":"(High to Low)"}`,children:ae==="week4"?Ie==="asc"?"":"":""})})]}),i.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#d1ecf1",fontWeight:"bold",color:"#000"},children:[ve()?i.jsxs("div",{style:{marginBottom:"8px"},children:[i.jsxs("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"},children:["OFFICIAL ",le.superbowl_week3?"":"",le.superbowl_week3&&i.jsx("button",{onClick:()=>Ys("superbowl_week3"),title:"Return to auto-calculation",style:{padding:"2px 6px",fontSize:"0.65rem",background:"#e74c3c",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"},children:"Clear"})]}),i.jsx("input",{type:"number",min:"0",value:In("superbowl_week3","conference"),onChange:d=>Hr("superbowl_week3",d.target.value),placeholder:"Auto",title:le.superbowl_week3?"Manually overridden - click Clear to return to auto":"Auto-calculated - click to override",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:le.superbowl_week3?"2px solid #e74c3c":"2px solid #27ae60",borderRadius:"4px",color:"#000",backgroundColor:le.superbowl_week3?"#ffe5e5":"#e8f8f5"}})]}):i.jsxs("div",{style:{marginBottom:"8px"},children:[i.jsxs("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:["Official ",le.superbowl_week3?"":""]}),i.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:In("superbowl_week3","conference")||"-"})]}),"Week 3",i.jsx("br",{}),"Total",i.jsx("div",{style:{marginTop:"6px"},children:i.jsx("button",{onClick:()=>rn("week3"),style:{padding:"4px 8px",fontSize:"0.7rem",background:ae==="week3"?"#4caf50":"#f0f0f0",color:ae==="week3"?"#fff":"#000",border:"1px solid #ddd",borderRadius:"4px",cursor:"pointer"},title:`Sort by Week 3 difference ${ae==="week3"&&Ie==="asc"?"(Low to High)":"(High to Low)"}`,children:ae==="week3"?Ie==="asc"?"":"":""})})]}),i.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#d4edda",fontWeight:"bold",color:"#000"},children:[ve()?i.jsxs("div",{style:{marginBottom:"8px"},children:[i.jsxs("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"},children:["OFFICIAL ",le.superbowl_week2?"":"",le.superbowl_week2&&i.jsx("button",{onClick:()=>Ys("superbowl_week2"),title:"Return to auto-calculation",style:{padding:"2px 6px",fontSize:"0.65rem",background:"#e74c3c",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"},children:"Clear"})]}),i.jsx("input",{type:"number",min:"0",value:In("superbowl_week2","divisional"),onChange:d=>Hr("superbowl_week2",d.target.value),placeholder:"Auto",title:le.superbowl_week2?"Manually overridden - click Clear to return to auto":"Auto-calculated - click to override",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:le.superbowl_week2?"2px solid #e74c3c":"2px solid #27ae60",borderRadius:"4px",color:"#000",backgroundColor:le.superbowl_week2?"#ffe5e5":"#e8f8f5"}})]}):i.jsxs("div",{style:{marginBottom:"8px"},children:[i.jsxs("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:["Official ",le.superbowl_week2?"":""]}),i.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:In("superbowl_week2","divisional")||"-"})]}),"Week 2",i.jsx("br",{}),"Total",i.jsx("div",{style:{marginTop:"6px"},children:i.jsx("button",{onClick:()=>rn("week2"),style:{padding:"4px 8px",fontSize:"0.7rem",background:ae==="week2"?"#4caf50":"#f0f0f0",color:ae==="week2"?"#fff":"#000",border:"1px solid #ddd",borderRadius:"4px",cursor:"pointer"},title:`Sort by Week 2 difference ${ae==="week2"&&Ie==="asc"?"(Low to High)":"(High to Low)"}`,children:ae==="week2"?Ie==="asc"?"":"":""})})]}),i.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#f8d7da",fontWeight:"bold",color:"#000"},children:[ve()?i.jsxs("div",{style:{marginBottom:"8px"},children:[i.jsxs("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"},children:["OFFICIAL ",le.superbowl_week1?"":"",le.superbowl_week1&&i.jsx("button",{onClick:()=>Ys("superbowl_week1"),title:"Return to auto-calculation",style:{padding:"2px 6px",fontSize:"0.65rem",background:"#e74c3c",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"},children:"Clear"})]}),i.jsx("input",{type:"number",min:"0",value:In("superbowl_week1","wildcard"),onChange:d=>Hr("superbowl_week1",d.target.value),placeholder:"Auto",title:le.superbowl_week1?"Manually overridden - click Clear to return to auto":"Auto-calculated - click to override",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:le.superbowl_week1?"2px solid #e74c3c":"2px solid #27ae60",borderRadius:"4px",color:"#000",backgroundColor:le.superbowl_week1?"#ffe5e5":"#e8f8f5"}})]}):i.jsxs("div",{style:{marginBottom:"8px"},children:[i.jsxs("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:["Official ",le.superbowl_week1?"":""]}),i.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:In("superbowl_week1","wildcard")||"-"})]}),"Week 1",i.jsx("br",{}),"Total",i.jsx("div",{style:{marginTop:"6px"},children:i.jsx("button",{onClick:()=>rn("week1"),style:{padding:"4px 8px",fontSize:"0.7rem",background:ae==="week1"?"#4caf50":"#f0f0f0",color:ae==="week1"?"#fff":"#000",border:"1px solid #ddd",borderRadius:"4px",cursor:"pointer"},title:`Sort by Week 1 difference ${ae==="week1"&&Ie==="asc"?"(Low to High)":"(High to Low)"}`,children:ae==="week1"?Ie==="asc"?"":"":""})})]}),i.jsxs("th",{rowSpan:"2",className:"grand-total",children:[ve()?i.jsxs("div",{style:{marginBottom:"8px"},children:[i.jsxs("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"},children:[le.superbowl_grand?"":""," over",le.superbowl_grand&&i.jsx("button",{onClick:()=>Ys("superbowl_grand"),title:"Return to auto-calculation",style:{padding:"2px 6px",fontSize:"0.65rem",background:"#e74c3c",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"},children:"Clear"})]}),i.jsx("input",{type:"number",min:"0",value:Ia(),onChange:d=>Hr("superbowl_grand",d.target.value),placeholder:"Auto",title:le.superbowl_grand?"Manually overridden - click Clear to return to auto":"Auto-calculated - click to override",style:{width:"70px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:le.superbowl_grand?"3px solid #e74c3c":"3px solid #27ae60",borderRadius:"4px",backgroundColor:le.superbowl_grand?"#ffe5e5":"#e8f8f5",color:"#000"}})]}):i.jsxs("div",{style:{marginBottom:"8px"},children:[i.jsxs("div",{style:{fontSize:"0.7rem",color:"#fff",marginBottom:"2px"},children:[le.superbowl_grand?" ":" ","Official"]}),i.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"#fff"},children:Ia()||"-"})]}),"GRAND",i.jsx("br",{}),"TOTAL",i.jsx("div",{style:{marginTop:"6px"},children:i.jsx("button",{onClick:()=>rn("grand"),style:{padding:"4px 8px",fontSize:"0.7rem",background:ae==="grand"?"#4caf50":"#f0f0f0",color:ae==="grand"?"#fff":"#000",border:"1px solid #ddd",borderRadius:"4px",cursor:"pointer"},title:`Sort by Grand Total difference ${ae==="grand"&&Ie==="asc"?"(Low to High)":"(High to Low)"}`,children:ae==="grand"?Ie==="asc"?"":"":""})})]})]}):i.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#f8f9fa",fontWeight:"bold",color:"#000"},children:[!$[a]&&(()=>{const d=Ee.games.reduce((v,p)=>{var k,j,w,_;const m=parseInt((j=(k=W[a])==null?void 0:k[p.id])==null?void 0:j.team1)||0,y=parseInt((_=(w=W[a])==null?void 0:w[p.id])==null?void 0:_.team2)||0;return v+m+y},0);return i.jsxs("div",{style:{fontSize:"1.05rem",color:"#131515ff",marginBottom:"6px",fontWeight:"700"},children:["Actual Total: ",d>0?d:"-"]})})(),ve()?i.jsx("div",{style:{marginBottom:"8px"},children:i.jsx("input",{type:"number",min:"0",value:$[a]||"",onChange:d=>Hr(a,d.target.value),placeholder:"override",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"0.9rem",fontWeight:"bold",border:"2px solid #f39c12",borderRadius:"4px",color:"#000"}})}):null,$[a]&&i.jsxs("div",{style:{marginBottom:"8px"},children:[i.jsx("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:"Official"}),i.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:$[a]})]}),"Official",i.jsx("br",{}),"Total",i.jsx("div",{style:{marginTop:"6px"},children:i.jsx("button",{onClick:()=>rn("difference"),style:{padding:"4px 8px",fontSize:"0.7rem",background:ae==="difference"?"#4caf50":"#f0f0f0",color:ae==="difference"?"#fff":"#000",border:"1px solid #ddd",borderRadius:"4px",cursor:"pointer"},title:`Sort by difference ${ae==="difference"&&Ie==="asc"?"(Low to High)":"(High to Low)"}`,children:ae==="difference"?Ie==="asc"?"":"":""})})]}),i.jsxs("th",{rowSpan:"2",style:{textAlign:"center"},children:[i.jsxs("div",{style:{fontSize:"1rem",color:"#000",fontWeight:"bold",marginBottom:"4px",display:"block",lineHeight:"1.2"},children:[h.filter(d=>d.week===a&&d.predictions&&Object.keys(d.predictions).length>0).length," Players"]}),"Submitted",i.jsx("div",{style:{fontSize:"0.95rem",color:"#040404ff",fontWeight:"bold",marginTop:"2px"},children:"(PST)"}),i.jsx("div",{style:{marginTop:"4px"},children:i.jsx("button",{onClick:()=>rn("timestamp"),style:{padding:"4px 8px",fontSize:"0.7rem",background:ae==="timestamp"?"#4caf50":"#f0f0f0",color:ae==="timestamp"?"#fff":"#000",border:"1px solid #ddd",borderRadius:"4px",cursor:"pointer"},children:ae==="timestamp"?Ie==="asc"?"":"":""})})]})]}),i.jsx("tr",{style:{background:"#ffffff",borderTop:"3px solid #4caf50",borderBottom:"3px solid #4caf50"},children:Ee.games.map((d,v)=>{var p,m,y,k,j,w,_,T,I,O,M;return i.jsxs(Uo.Fragment,{children:[i.jsx("th",{style:{padding:"8px 4px",background:"#ffffff",borderLeft:v>0?"4px solid #2c3e50":"1px solid #ddd",paddingLeft:v>0?"12px":"4px"},children:ve()?i.jsxs("div",{children:[i.jsx("input",{type:"number",min:"0",max:"99",value:((m=(p=W[a])==null?void 0:p[d.id])==null?void 0:m.team1)||"",onChange:H=>Sf(d.id,"team1",H.target.value),placeholder:"-",style:{width:"50px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #4caf50",borderRadius:"4px",color:"#000",background:"#f0fff0"}}),i.jsx("div",{style:{fontSize:"0.75rem",marginTop:"3px",color:"#000",fontWeight:"700"},children:"ACTUAL"})]}):i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#000"},children:((k=(y=W[a])==null?void 0:y[d.id])==null?void 0:k.team1)||"-"}),i.jsx("div",{style:{fontSize:"0.75rem",color:"#000",fontWeight:"700"},children:"ACTUAL"})]})}),i.jsx("th",{style:{padding:"8px 4px",background:"#ffffff",borderRight:"1px solid #ddd"},children:ve()?i.jsxs("div",{children:[i.jsx("input",{type:"number",min:"0",max:"99",value:((w=(j=W[a])==null?void 0:j[d.id])==null?void 0:w.team2)||"",onChange:H=>Sf(d.id,"team2",H.target.value),placeholder:"-",style:{width:"50px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #4caf50",borderRadius:"4px",color:"#000",background:"#f0fff0"}}),i.jsx("div",{style:{fontSize:"0.75rem",marginTop:"3px",color:"#000",fontWeight:"700"},children:"ACTUAL"}),i.jsxs("select",{value:((_=Y[a])==null?void 0:_[d.id])||"",onChange:H=>ox(d.id,H.target.value),style:{width:"60px",padding:"2px",fontSize:"0.7rem",marginTop:"4px",borderRadius:"3px",border:"1px solid #999"},children:[i.jsx("option",{value:"",children:"--"}),i.jsx("option",{value:"live",children:" LIVE"}),i.jsx("option",{value:"final",children:" FINAL"})]})]}):i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#000"},children:((I=(T=W[a])==null?void 0:T[d.id])==null?void 0:I.team2)||"-"}),i.jsx("div",{style:{fontSize:"0.75rem",color:"#000",fontWeight:"700"},children:"ACTUAL"}),((O=Y[a])==null?void 0:O[d.id])==="final"&&i.jsx("div",{style:{display:"inline-block",padding:"2px 6px",background:"#4caf50",color:"white",borderRadius:"3px",fontSize:"0.65rem",fontWeight:"bold",marginTop:"4px"},children:" FINAL"}),((M=Y[a])==null?void 0:M[d.id])==="live"&&i.jsx("div",{style:{display:"inline-block",padding:"2px 6px",background:"#ff9800",color:"white",borderRadius:"3px",fontSize:"0.65rem",fontWeight:"bold",marginTop:"4px"},children:" LIVE"})]})})]},`actual-${d.id}`)})})]}),i.jsx("tbody",{children:(()=>{const d=(()=>{if(a==="superbowl"){const p=new Map;return h.forEach(m=>{if(!p.has(m.playerCode)){const y=h.find(k=>k.playerCode===m.playerCode&&k.week==="superbowl");p.set(m.playerCode,y||{playerName:m.playerName,playerCode:m.playerCode,week:"superbowl",predictions:{},timestamp:m.timestamp,lastUpdated:m.lastUpdated||m.timestamp})}}),fr.forEach(m=>{m.showInPicksTable===!0&&!p.has(m.playerCode)&&p.set(m.playerCode,{playerName:m.playerName,playerCode:m.playerCode,week:"superbowl",predictions:{},timestamp:Date.now(),lastUpdated:Date.now()})}),Array.from(p.values())}else{const p=h.filter(y=>y.week===a),m=new Set(p.map(y=>y.playerCode));return fr.forEach(y=>{const k=y.paid===!0||y.paymentStatus==="PAID",j=y.visible!==!1,w=y.role!=="MANAGER";k&&j&&w&&!m.has(y.playerCode)&&p.push({playerName:y.playerName,playerCode:y.playerCode,week:a,predictions:{},timestamp:Date.now(),lastUpdated:Date.now()})}),p}})();return(ae?dx(d):d.sort((p,m)=>(m.lastUpdated||m.timestamp)-(p.lastUpdated||p.timestamp))).map((p,m)=>{var j;const y=w=>{var re;const _=(re=W[a])==null?void 0:re[w],T=p.predictions[w];if(!_||!T)return!1;const I=parseInt(_.team1),O=parseInt(_.team2),M=parseInt(T.team1),H=parseInt(T.team2);if(isNaN(I)||isNaN(O))return!1;const X=I>O?"team1":O>I?"team2":"tie",ne=M>H?"team1":H>M?"team2":"tie";return X===ne&&X!=="tie"},k=p.enteredBy==="POOL_MANAGER_RNG";return i.jsxs("tr",{className:k?"rng-pick-row":"",children:[i.jsxs("td",{className:"player-name",children:[p.playerName,k&&i.jsx("span",{className:"rng-indicator",title:"Picks generated by Pool Manager (missed deadline)",children:""})]}),Ee.games.map((w,_)=>{var X,ne;let T;Array.isArray(p.predictions)?(T=p.predictions[w.id],p.playerName==="Dallas Pylypow"&&_<3&&console.log(` Dallas gameIdx=${_}, game.id=${w.id}, pred:`,T)):T=p.predictions[w.id];const I=(X=W[a])==null?void 0:X[w.id],O=(ne=Y[a])==null?void 0:ne[w.id];m===0&&_===1&&console.log(" COLUMNS 4-5 DEBUG:",{gameIdx:_,gameId:w.id,pred:T,"pred?.team1":T==null?void 0:T.team1,"pred?.team2":T==null?void 0:T.team2,"actual?.team1":I==null?void 0:I.team1,"actual?.team2":I==null?void 0:I.team2,status:O});const M=Ur(T==null?void 0:T.team1,T==null?void 0:T.team2,I==null?void 0:I.team1,I==null?void 0:I.team2,O,!0),H=Ur(T==null?void 0:T.team1,T==null?void 0:T.team2,I==null?void 0:I.team1,I==null?void 0:I.team2,O,!1);return i.jsxs(Uo.Fragment,{children:[i.jsx("td",{className:"score",style:{background:M.background,color:M.color,fontWeight:M.background!=="transparent"?"bold":"normal",borderLeft:_>0?"4px solid #2c3e50":"none",paddingLeft:_>0?"12px":"8px"},children:(T==null?void 0:T.team1)||"-"}),i.jsx("td",{className:"score",style:{background:H.background,color:H.color,fontWeight:H.background!=="transparent"?"bold":"normal"},children:(T==null?void 0:T.team2)||"-"})]},`${m}-${w.id}`)}),(()=>{let w=0;return a==="superbowl"?["wildcard","divisional","conference","superbowl"].forEach(T=>{const I=W[T];if(I&&Object.values(I).some(M=>M&&M.team1!==null&&M.team1!==void 0&&M.team1!==""&&M.team1!==0&&M.team2!==null&&M.team2!==void 0&&M.team2!==""&&M.team2!==0)){const M=h.find(H=>H.playerCode===p.playerCode&&H.week===T);M&&M.predictions&&Object.keys(I).forEach(H=>{const X=I[H],ne=M.predictions[H];if(ne&&X&&X.team1&&X.team2&&ne.team1&&ne.team2){const re=parseInt(X.team1),oe=parseInt(X.team2),fe=parseInt(ne.team1),Ne=parseInt(ne.team2);if(!isNaN(re)&&!isNaN(oe)){const pr=re>oe?"team1":oe>re?"team2":"tie",Vr=fe>Ne?"team1":Ne>fe?"team2":"tie";pr===Vr&&pr!=="tie"&&w++}}})}}):Ee.games.forEach(_=>{y(_.id)&&w++}),i.jsx("td",{style:{backgroundColor:"#f1f8f4",fontWeight:"bold",fontSize:"1rem",color:w>0?"#2e7d32":"#999",textAlign:"center",padding:"8px 4px"},children:w})})(),(()=>{let w=0;return a==="superbowl"?["wildcard","divisional","conference","superbowl"].forEach(T=>{const I=W[T];if(I&&Object.values(I).some(M=>M&&M.team1!==null&&M.team1!==void 0&&M.team1!==""&&M.team1!==0&&M.team2!==null&&M.team2!==void 0&&M.team2!==""&&M.team2!==0)){const M=h.find(H=>H.playerCode===p.playerCode&&H.week===T);M&&M.predictions&&Object.keys(I).forEach(H=>{const X=I[H],ne=M.predictions[H];if(ne&&X&&X.team1&&X.team2&&ne.team1&&ne.team2){const re=parseInt(X.team1),oe=parseInt(X.team2),fe=parseInt(ne.team1),Ne=parseInt(ne.team2);re===fe&&oe===Ne&&w++}})}}):Ee.games.forEach(_=>{var O;const T=p.predictions[_.id],I=(O=W[a])==null?void 0:O[_.id];if(T&&I&&I.team1&&I.team2&&T.team1&&T.team2){const M=parseInt(I.team1),H=parseInt(I.team2),X=parseInt(T.team1),ne=parseInt(T.team2);M===X&&H===ne&&w++}}),i.jsx("td",{style:{backgroundColor:"#fffbea",fontWeight:"bold",fontSize:"1rem",color:w>0?"#f57c00":"#999",textAlign:"center",padding:"8px 4px"},children:w})})(),a==="superbowl"?i.jsx(i.Fragment,{children:(()=>{const w=sn(p.playerCode,"superbowl"),_=sn(p.playerCode,"conference"),T=sn(p.playerCode,"divisional"),I=sn(p.playerCode,"wildcard"),O=wo(p.playerCode);return i.jsxs(i.Fragment,{children:[i.jsx("td",{style:{backgroundColor:"#fff3cd",fontWeight:"bold",fontSize:w.fontSize},title:w.tooltip,children:i.jsx("span",{style:{color:"#000"},children:w.display})}),i.jsx("td",{style:{backgroundColor:"#d1ecf1",fontWeight:"bold",fontSize:_.fontSize},title:_.tooltip,children:i.jsx("span",{style:{color:"#000"},children:_.display})}),i.jsx("td",{style:{backgroundColor:"#d4edda",fontWeight:"bold",fontSize:T.fontSize},title:T.tooltip,children:i.jsx("span",{style:{color:"#000"},children:T.display})}),i.jsx("td",{style:{backgroundColor:"#f8d7da",fontWeight:"bold",fontSize:I.fontSize},title:I.tooltip,children:i.jsx("span",{style:{color:"#000"},children:I.display})}),i.jsx("td",{className:"grand-total",style:{fontSize:O.fontSize},title:O.tooltip,children:O.display})]})})()}):i.jsx("td",{style:{backgroundColor:"#f8f9fa",fontWeight:"bold",fontSize:"16px"},children:i.jsx("span",{style:{color:"#000"},children:((j=Ra[p.playerName])==null?void 0:j.current)||"0"})}),i.jsxs("td",{className:"timestamp",style:{color:"#000000"},children:[new Date(p.lastUpdated||p.timestamp).toLocaleString("en-US",{timeZone:"America/Los_Angeles",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})," PST"]})]},m)})})()})]}),i.jsxs("div",{style:{marginTop:"15px",padding:"12px 20px",background:"#f8f9fa",border:"2px solid #dee2e6",borderRadius:"8px",fontSize:"0.9rem",color:"#495057",display:"flex",alignItems:"center",gap:"8px"},children:[i.jsx("span",{style:{fontSize:"1.2rem"},children:""}),i.jsx("span",{style:{fontWeight:"600"},children:"= Picks randomly generated by Pool Manager (player missed deadline)"})]}),i.jsxs("div",{style:{marginTop:"10px",padding:"10px 15px",background:"#e8f5e9",border:"1px solid #81c784",borderRadius:"6px",fontSize:"0.85rem",color:"#2e7d32"},children:[i.jsx("strong",{children:"Official Total Format:"}),i.jsxs("span",{style:{marginLeft:"8px"},children:[i.jsx("strong",{children:"333/14"})," = Predicted 333 pts, Off by 14 pts"]}),i.jsx("span",{style:{marginLeft:"15px",color:"#666"},children:"|"}),i.jsxs("span",{style:{marginLeft:"8px"},children:[i.jsx("strong",{children:"333"})," = Predicted 333 pts (week not played yet)"]})]})]}),l&&i.jsxs(i.Fragment,{children:[a==="superbowl"&&i.jsxs("div",{style:{marginTop:"40px",marginBottom:"40px",padding:"30px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"12px",border:"3px solid #5a67d8",boxShadow:"0 8px 20px rgba(0,0,0,0.15)"},children:[i.jsx("h3",{style:{color:"#fff",marginBottom:"20px",fontSize:"1.4rem",display:"flex",alignItems:"center",gap:"10px"},children:" Format Guide - How to Read the Totals"}),i.jsxs("div",{style:{background:"rgba(255,255,255,0.95)",padding:"25px",borderRadius:"10px",color:"#333"},children:[i.jsxs("div",{style:{marginBottom:"25px"},children:[i.jsx("p",{style:{fontWeight:"bold",color:"#5a67d8",marginBottom:"12px",fontSize:"1.1rem"},children:"Weekly Totals Format:"}),i.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0,lineHeight:"2.2"},children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Before Week is Played:"})," ",i.jsx("code",{style:{background:"#f0f4f8",padding:"4px 10px",borderRadius:"5px",fontWeight:"bold",color:"#2d3748"},children:"333"})," - Shows your predicted total"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"After Week is Played:"})," ",i.jsx("code",{style:{background:"#f0f4f8",padding:"4px 10px",borderRadius:"5px",fontWeight:"bold",color:"#2d3748"},children:"333/14"})," - Prediction / How far off"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Week Not Entered:"})," ",i.jsx("code",{style:{background:"#f0f4f8",padding:"4px 10px",borderRadius:"5px",fontWeight:"bold",color:"#2d3748"},children:"-"})," - Dash means no picks made"]})]})]}),i.jsxs("div",{style:{marginBottom:"25px"},children:[i.jsx("p",{style:{fontWeight:"bold",color:"#5a67d8",marginBottom:"12px",fontSize:"1.1rem"},children:"Grand Total Format (Shows ONLY Completed Weeks):"}),i.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0,lineHeight:"2.2"},children:[i.jsx("li",{children:i.jsx("code",{style:{background:"#f0f4f8",padding:"4px 10px",borderRadius:"5px",fontWeight:"bold",color:"#2d3748"},children:"579/39"})}),i.jsxs("li",{style:{marginLeft:"20px",fontSize:"0.95rem"},children:[" ",i.jsx("strong",{children:"First Number (579):"})," Sum of predictions for completed weeks"]}),i.jsxs("li",{style:{marginLeft:"20px",fontSize:"0.95rem"},children:[" ",i.jsx("strong",{children:"Second Number (39):"})," Sum of differences for completed weeks"]})]})]}),i.jsxs("div",{style:{marginBottom:"15px"},children:[i.jsx("p",{style:{fontWeight:"bold",color:"#5a67d8",marginBottom:"12px",fontSize:"1.1rem"},children:"Examples:"}),i.jsxs("div",{style:{marginBottom:"20px",padding:"15px",background:"#e6f7ff",borderRadius:"8px",border:"1px solid #91d5ff"},children:[i.jsx("p",{style:{fontWeight:"bold",marginBottom:"8px",color:"#0050b3"},children:"Richard - Only Week 1 Complete:"}),i.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0,lineHeight:"1.8"},children:[i.jsxs("li",{children:["Week 1: ",i.jsx("code",{style:{background:"#fff",padding:"2px 8px",borderRadius:"4px",fontWeight:"bold"},children:"333/14"}),"  Played"]}),i.jsxs("li",{children:["Week 2: ",i.jsx("code",{style:{background:"#fff",padding:"2px 8px",borderRadius:"4px",fontWeight:"bold"},children:"246"}),"  Not played (shows prediction)"]}),i.jsxs("li",{children:["Week 3: ",i.jsx("code",{style:{background:"#fff",padding:"2px 8px",borderRadius:"4px",fontWeight:"bold"},children:"108"}),"  Not played (shows prediction)"]}),i.jsxs("li",{children:["Week 4: ",i.jsx("code",{style:{background:"#fff",padding:"2px 8px",borderRadius:"4px",fontWeight:"bold"},children:"54"}),"  Not played (shows prediction)"]}),i.jsxs("li",{style:{marginTop:"8px",fontWeight:"bold"},children:["GRAND: ",i.jsx("code",{style:{background:"#52c41a",color:"white",padding:"2px 8px",borderRadius:"4px",fontWeight:"bold"},children:"333/14"}),"  Only Week 1"]})]})]}),i.jsxs("div",{style:{marginBottom:"20px",padding:"15px",background:"#fff7e6",borderRadius:"8px",border:"1px solid #ffd591"},children:[i.jsx("p",{style:{fontWeight:"bold",marginBottom:"8px",color:"#d46b08"},children:"Richard - Weeks 1 & 2 Complete:"}),i.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0,lineHeight:"1.8"},children:[i.jsxs("li",{children:["Week 1: ",i.jsx("code",{style:{background:"#fff",padding:"2px 8px",borderRadius:"4px",fontWeight:"bold"},children:"333/14"}),"  Played"]}),i.jsxs("li",{children:["Week 2: ",i.jsx("code",{style:{background:"#fff",padding:"2px 8px",borderRadius:"4px",fontWeight:"bold"},children:"246/25"}),"  Played"]}),i.jsxs("li",{children:["Week 3: ",i.jsx("code",{style:{background:"#fff",padding:"2px 8px",borderRadius:"4px",fontWeight:"bold"},children:"108"}),"  Not played (shows prediction)"]}),i.jsxs("li",{children:["Week 4: ",i.jsx("code",{style:{background:"#fff",padding:"2px 8px",borderRadius:"4px",fontWeight:"bold"},children:"54"}),"  Not played (shows prediction)"]}),i.jsxs("li",{style:{marginTop:"8px",fontWeight:"bold"},children:["GRAND: ",i.jsx("code",{style:{background:"#52c41a",color:"white",padding:"2px 8px",borderRadius:"4px",fontWeight:"bold"},children:"579/39"}),"  Week 1+2 (333+246=579, 14+25=39)"]})]})]})]}),i.jsxs("div",{style:{marginBottom:"15px"},children:[i.jsx("p",{style:{fontWeight:"bold",color:"#5a67d8",marginBottom:"12px",fontSize:"1.1rem"},children:"Special Indicators:"}),i.jsx("ul",{style:{listStyle:"none",padding:0,margin:0,lineHeight:"2.2"},children:i.jsxs("li",{children:[i.jsx("strong",{children:" Dice Icon:"})," Picks randomly generated by Pool Manager (player missed deadline)"]})})]}),i.jsx("div",{style:{paddingTop:"20px",borderTop:"2px solid #cbd5e0",marginTop:"15px"},children:i.jsxs("p",{style:{color:"#4a5568",fontStyle:"italic",fontSize:"1rem",margin:0},children:[" ",i.jsx("strong",{children:"Key Point:"})," Grand Total only includes completed weeks! Your future week predictions are visible but don't affect Grand Total until those weeks are played."]})})]})]}),i.jsx("div",{style:{marginTop:"60px"},children:i.jsx(dC,{allPicks:h,actualScores:W,games:ke,officialWinners:Ca,weekData:ke})})]}),l&&ve()&&i.jsxs("div",{style:{marginTop:"40px",marginBottom:"40px"},children:[i.jsxs("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"25px",borderRadius:"12px",marginBottom:"30px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[i.jsxs("h2",{style:{margin:"0 0 15px 0",display:"flex",alignItems:"center",gap:"10px"},children:[i.jsx("span",{children:""}),i.jsx("span",{children:"PRIZE POOL MANAGEMENT"})]}),we.totalFees>0?i.jsxs("div",{children:[i.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:"20px",borderRadius:"8px",marginBottom:"15px"},children:[i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"20px",marginBottom:"15px"},children:[i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:"0.85rem",opacity:.9},children:"Total Pool Fees"}),i.jsxs("div",{style:{fontSize:"1.8rem",fontWeight:"bold"},children:["$",we.totalFees.toFixed(2)]})]}),i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:"0.85rem",opacity:.9},children:"Number of Players"}),i.jsx("div",{style:{fontSize:"1.8rem",fontWeight:"bold"},children:we.numberOfPlayers})]}),i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:"0.85rem",opacity:.9},children:"Each Prize (10%)"}),i.jsxs("div",{style:{fontSize:"1.8rem",fontWeight:"bold"},children:["$",we.prizeValue.toFixed(2)]})]})]}),i.jsxs("div",{style:{fontSize:"0.85rem",opacity:.8},children:["Entry Fee: $",we.entryFee," per player"]})]}),i.jsx("button",{onClick:()=>yo(!0),style:{padding:"10px 20px",background:"rgba(255,255,255,0.3)",color:"white",border:"2px solid white",borderRadius:"6px",cursor:"pointer",fontWeight:"600"},children:" Edit Prize Pool Setup"})]}):i.jsxs("div",{children:[i.jsx("p",{style:{marginBottom:"15px"},children:" Set up your prize pool to enable winner declarations."}),i.jsx("button",{onClick:()=>yo(!0),style:{padding:"12px 24px",background:"white",color:"#667eea",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"700",fontSize:"1rem"},children:" Set Up Prize Pool"})]})]}),we.totalFees>0&&i.jsx("div",{style:{marginTop:"30px"},children:i.jsx(xC,{allPicks:h,actualScores:W,games:ke,officialWinners:Ca,onPublishWinners:tx,onUnpublishWinners:nx,isPoolManager:!0,totalPrizePool:we.totalFees,weekCompletionStatus:{wildcard:(ce==null?void 0:ce.wildcard)||!1,divisional:(ce==null?void 0:ce.divisional)||!1,conference:(ce==null?void 0:ce.conference)||!1,superbowl:(ce==null?void 0:ce.superbowl)||!1,grand:(ce==null?void 0:ce.superbowl)||!1}})})]}),L0&&i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},children:i.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"30px",maxWidth:"600px",width:"100%",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 8px 32px rgba(0,0,0,0.3)"},children:[i.jsx("h2",{style:{marginTop:0,color:"#667eea"},children:" Prize Pool Setup"}),i.jsxs("div",{style:{marginBottom:"20px"},children:[i.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Total Pool Fees Collected:"}),i.jsx("input",{type:"number",id:"totalFees",defaultValue:we.totalFees||"",placeholder:"1000",style:{width:"100%",padding:"12px",fontSize:"1.1rem",border:"2px solid #667eea",borderRadius:"6px"}}),i.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginTop:"5px"},children:"Total money collected from all players"})]}),i.jsxs("div",{style:{marginBottom:"20px"},children:[i.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Number of Players:"}),i.jsx("input",{type:"number",id:"numberOfPlayers",defaultValue:we.numberOfPlayers||"",placeholder:"50",style:{width:"100%",padding:"12px",fontSize:"1.1rem",border:"2px solid #667eea",borderRadius:"6px"}}),i.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginTop:"5px"},children:"Total number of players in the pool"})]}),i.jsxs("div",{style:{marginBottom:"20px"},children:[i.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Entry Fee per Player:"}),i.jsx("input",{type:"number",id:"entryFee",defaultValue:we.entryFee||20,placeholder:"20",style:{width:"100%",padding:"12px",fontSize:"1.1rem",border:"2px solid #667eea",borderRadius:"6px"}}),i.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginTop:"5px"},children:"Amount each player paid to enter ($20, $50, etc.)"})]}),i.jsxs("div",{style:{background:"#f0f8ff",padding:"15px",borderRadius:"8px",marginBottom:"20px"},children:[i.jsx("div",{style:{fontWeight:"600",marginBottom:"10px"},children:" Calculation Preview:"}),i.jsxs("div",{style:{fontSize:"0.9rem",lineHeight:"1.6"},children:["Each Prize = Total Pool  10",i.jsx("br",{}),i.jsx("span",{id:"prizePreview",style:{fontWeight:"bold",color:"#667eea"},children:"Example: $1,000  10 = $100 per prize"})]})]}),i.jsxs("div",{style:{marginTop:"25px",padding:"20px",background:"#fff3cd",border:"2px solid #ffc107",borderRadius:"8px",marginBottom:"20px"},children:[i.jsx("h3",{style:{margin:"0 0 15px 0",color:"#000",fontSize:"1.1rem",display:"flex",alignItems:"center",gap:"10px"},children:" Perfect Score Prizes (Optional)"}),i.jsxs("div",{style:{marginBottom:"15px"},children:[i.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer",color:"#000",fontWeight:"600",fontSize:"1rem"},children:[i.jsx("input",{type:"checkbox",id:"perfectScoreBonusEnabled",defaultChecked:we.perfectScoreBonusEnabled||!1,onChange:d=>{const v=d.target.checked,p=document.getElementById("perfectScoreOptions");document.getElementById("perfectScorePrizeAmount").disabled=!v,document.getElementById("perfectScoreCutoff").disabled=!v,p&&(p.style.opacity=v?"1":"0.5",p.style.pointerEvents=v?"auto":"none")},style:{width:"20px",height:"20px",cursor:"pointer"}}),"Enable Perfect Score Prizes"]}),i.jsxs("div",{style:{fontSize:"0.85rem",color:"#000",marginTop:"5px",marginLeft:"30px",lineHeight:"1.5"},children:["Award prizes for players who predict the exact final score of playoff games.",i.jsx("br",{}),"Each perfect score prediction = 1 winning entry. Players can win multiple times."]})]}),i.jsxs("div",{id:"perfectScoreOptions",style:{marginLeft:"0px",opacity:we.perfectScoreBonusEnabled?"1":"0.5",pointerEvents:we.perfectScoreBonusEnabled?"auto":"none"},children:[i.jsxs("div",{style:{marginBottom:"20px"},children:[i.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#000",fontSize:"1rem"},children:"Prize Amount Type:"}),i.jsxs("div",{style:{display:"flex",gap:"20px",flexWrap:"wrap",marginBottom:"10px"},children:[i.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",color:"#000",minHeight:"44px"},children:[i.jsx("input",{type:"radio",id:"perfectScoreTypeDollar",name:"perfectScoreType",value:"dollar",defaultChecked:we.perfectScorePrizeType==="dollar"||!we.perfectScorePrizeType,onChange:d=>{const v=document.getElementById("perfectScorePrizeAmount"),p=document.getElementById("prizeAmountLabel"),m=document.getElementById("prizeAmountHelper"),y=document.getElementById("totalFees").value||560;p.textContent="Perfect Score Prize Pool Amount ($):",v.placeholder="60",v.max="",v.step="1",m.innerHTML=`Total $ amount for perfect score prizes (e.g., $60 from $${y} total pool)`,updatePerfectScoreExample()},style:{width:"18px",height:"18px",cursor:"pointer"}}),i.jsx("span",{style:{fontSize:"0.95rem",fontWeight:"500"},children:"Fixed Dollar Amount"})]}),i.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",color:"#000",minHeight:"44px"},children:[i.jsx("input",{type:"radio",id:"perfectScoreTypePercent",name:"perfectScoreType",value:"percentage",defaultChecked:we.perfectScorePrizeType==="percentage",onChange:d=>{const v=document.getElementById("perfectScorePrizeAmount"),p=document.getElementById("prizeAmountLabel"),m=document.getElementById("prizeAmountHelper"),y=document.getElementById("totalFees").value||560;p.textContent="Perfect Score Prize Pool Percentage (%):",v.placeholder="10",v.max="100",v.step="0.1";const k=(y*(v.value||10)/100).toFixed(2);m.innerHTML=`Percentage of total pool for perfect score prizes (e.g., ${v.value||10}% of $${y} = $${k})`,updatePerfectScoreExample()},style:{width:"18px",height:"18px",cursor:"pointer"}}),i.jsx("span",{style:{fontSize:"0.95rem",fontWeight:"500"},children:"Percentage of Total Pool"})]})]})]}),i.jsxs("div",{style:{marginBottom:"20px"},children:[i.jsx("label",{id:"prizeAmountLabel",style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#000",fontSize:"1rem"},children:we.perfectScorePrizeType==="percentage"?"Perfect Score Prize Pool Percentage (%):":"Perfect Score Prize Pool Amount ($):"}),i.jsx("input",{type:"number",id:"perfectScorePrizeAmount",defaultValue:we.perfectScorePrizeAmount||"",placeholder:we.perfectScorePrizeType==="percentage"?"10":"60",min:"0",max:we.perfectScorePrizeType==="percentage"?"100":void 0,step:we.perfectScorePrizeType==="percentage"?"0.1":"1",disabled:!we.perfectScoreBonusEnabled,onChange:()=>{var y;updatePerfectScoreExample();const d=document.getElementById("totalFees").value||560,v=document.getElementById("perfectScorePrizeAmount"),p=document.getElementById("prizeAmountHelper");if((y=document.getElementById("perfectScoreTypePercent"))==null?void 0:y.checked){const k=(d*(v.value||10)/100).toFixed(2);p.innerHTML=`Percentage of total pool for perfect score prizes (e.g., ${v.value||10}% of $${d} = $${k})`}else p.innerHTML=`Total $ amount for perfect score prizes (e.g., $${v.value||60} from $${d} total pool)`},style:{width:"100%",padding:"12px",fontSize:"1rem",color:"#000",border:"2px solid #ffc107",borderRadius:"6px",minHeight:"44px",background:we.perfectScoreBonusEnabled?"white":"#f5f5f5"}}),i.jsx("div",{id:"prizeAmountHelper",style:{fontSize:"0.85rem",color:"#000",marginTop:"5px"},children:we.perfectScorePrizeType==="percentage"?`Percentage of total pool for perfect score prizes (e.g., ${we.perfectScorePrizeAmount||10}% of $${we.totalFees||560} = $${((we.totalFees||560)*(we.perfectScorePrizeAmount||10)/100).toFixed(2)})`:`Total $ amount for perfect score prizes (e.g., $${we.perfectScorePrizeAmount||60} from $${we.totalFees||560} total pool)`})]}),i.jsxs("div",{style:{marginBottom:"15px"},children:[i.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#000",fontSize:"1rem"},children:"Cutoff Number (Max Perfect Scores):"}),i.jsx("input",{type:"number",id:"perfectScoreCutoff",defaultValue:we.perfectScoreCutoff||"",placeholder:"30",min:"1",disabled:!we.perfectScoreBonusEnabled,onChange:()=>updatePerfectScoreExample(),style:{width:"100%",padding:"12px",fontSize:"1rem",color:"#000",border:"2px solid #ffc107",borderRadius:"6px",minHeight:"44px",background:we.perfectScoreBonusEnabled?"white":"#f5f5f5"}}),i.jsx("div",{style:{fontSize:"0.85rem",color:"#000",marginTop:"5px"},children:"If total perfect scores  this number  pay out. If > this number  cancel prizes, return money to main pool."})]}),i.jsxs("div",{style:{marginTop:"15px",padding:"15px",background:"rgba(255, 193, 7, 0.2)",borderRadius:"6px",border:"1px solid #ffc107"},children:[i.jsx("div",{style:{fontWeight:"600",marginBottom:"8px",color:"#000",fontSize:"0.95rem"},children:" Example:"}),i.jsxs("div",{id:"perfectScoreExample",style:{fontSize:"0.85rem",color:"#000",lineHeight:"1.6"},children:["$60 prize pool, 30 cutoff.",i.jsx("br",{}),"If 6 perfect scores total  each gets $10.00.",i.jsx("br",{}),"If 31+ perfect scores  nobody gets paid, money goes to main prizes."]})]})]})]}),i.jsx("script",{dangerouslySetInnerHTML:{__html:`
                  function updatePerfectScoreExample() {
                    const totalFees = parseFloat(document.getElementById('totalFees')?.value) || 560;
                    const isPercent = document.getElementById('perfectScoreTypePercent')?.checked;
                    const amount = parseFloat(document.getElementById('perfectScorePrizeAmount')?.value) || (isPercent ? 10 : 60);
                    const cutoff = parseInt(document.getElementById('perfectScoreCutoff')?.value) || 30;
                    
                    let prizePool;
                    if (isPercent) {
                      prizePool = (totalFees * amount / 100).toFixed(2);
                    } else {
                      prizePool = amount.toFixed(2);
                    }
                    
                    const perEntry = (prizePool / 6).toFixed(2);
                    
                    const example = document.getElementById('perfectScoreExample');
                    if (example) {
                      example.innerHTML = (isPercent 
                        ? \`\${amount}% of $\${totalFees} = $\${prizePool} prize pool, \${cutoff} cutoff.\`
                        : \`$\${prizePool} prize pool, \${cutoff} cutoff.\`) + 
                        \`<br/>If 6 perfect scores total  each gets $\${perEntry}.<br/>If \${cutoff + 1}+ perfect scores  nobody gets paid, money goes to main prizes.\`;
                    }
                  }
                  
                  // Update on total fees change
                  const totalFeesInput = document.getElementById('totalFees');
                  if (totalFeesInput) {
                    totalFeesInput.addEventListener('input', updatePerfectScoreExample);
                  }
                `}}),i.jsxs("div",{style:{display:"flex",gap:"10px"},children:[i.jsx("button",{onClick:()=>yo(!1),style:{flex:"1",padding:"14px",background:"#95a5a6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Cancel"}),i.jsx("button",{onClick:()=>{var w;const d=document.getElementById("totalFees").value,v=document.getElementById("numberOfPlayers").value,p=document.getElementById("entryFee").value,m=document.getElementById("perfectScoreBonusEnabled").checked,y=(w=document.getElementById("perfectScoreTypePercent"))!=null&&w.checked?"percentage":"dollar",k=document.getElementById("perfectScorePrizeAmount").value,j=document.getElementById("perfectScoreCutoff").value;if(!d||d<=0){alert(" Please enter a valid total pool amount.");return}if(m){if(!k||k<=0){alert(" Please enter a Perfect Score Prize Amount.");return}if(!j||j<=0){alert(" Please enter a Perfect Score Cutoff number.");return}}ex(d,v,p,m,y,k,j)},style:{flex:"1",padding:"14px",background:"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Save Prize Pool"})]})]})}),dr==="unsavedChanges"&&i.jsx(tC,{currentWeek:ke[a].name,onDiscard:()=>{u(go),ko(go),ft(null)},onSaveAndSwitch:async()=>{await jf(new Event("submit")),setTimeout(()=>{u(go),ko(go),ft(null),_a(null)},100)},onCancel:()=>{_a(null),ft(null)}}),dr==="discardChanges"&&i.jsx(nC,{onKeepEditing:()=>ft(null),onDiscard:()=>{f({...Ea}),Pn(!1),ft(null)}}),dr==="incomplete"&&i.jsx(rC,{missingGames:ff,totalGames:Ee.games.length,onClose:()=>ft(null)}),dr==="invalidScores"&&i.jsx(sC,{invalidScores:A0,onClose:()=>ft(null)}),dr==="success"&&i.jsx(iC,{weekName:Ee.name,deadline:Ee.deadline,onClose:()=>ft(null)}),dr==="noChanges"&&i.jsx(oC,{onClose:()=>ft(null)}),dr==="tiedGames"&&i.jsx(lC,{tiedGames:ff,gameData:Ee.games,onClose:()=>ft(null)})]})]})]}),j0&&i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},onClick:()=>ho(!1),children:i.jsxs("div",{style:{background:"white",borderRadius:"16px",maxWidth:"900px",width:"100%",maxHeight:"90vh",overflow:"auto",padding:"30px",boxShadow:"0 20px 60px rgba(0,0,0,0.3)"},onClick:d=>d.stopPropagation(),children:[i.jsxs("div",{style:{marginBottom:"25px"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"10px"},children:[i.jsxs("h2",{style:{fontSize:"1.8rem",margin:0,color:"#000",display:"flex",alignItems:"center",gap:"10px"},children:[" NFL Scoring Guide",i.jsx("span",{style:{fontSize:"0.6rem",padding:"4px 12px",background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"white",borderRadius:"20px",fontWeight:"500"},children:"2025 Regular Season Data"})]}),i.jsx("button",{onClick:()=>ho(!1),style:{padding:"8px 16px",fontSize:"1rem",fontWeight:"bold",color:"white",background:"#e74c3c",border:"none",borderRadius:"8px",cursor:"pointer",minWidth:"80px"},onMouseOver:d=>d.target.style.background="#c0392b",onMouseOut:d=>d.target.style.background="#e74c3c",children:" Close"})]}),i.jsxs("p",{style:{color:"#666",margin:"0 0 10px 0",fontSize:"0.95rem"},children:[i.jsx("strong",{children:"Real data from actual 2025 NFL Regular Season games played"})," - Use this to help you make smarter predictions!"]}),i.jsxs("div",{style:{background:"#fff3cd",border:"2px solid #ffc107",borderRadius:"8px",padding:"12px",marginBottom:"10px"},children:[i.jsx("p",{style:{color:"#856404",margin:"0 0 8px 0",fontSize:"0.9rem",fontWeight:"bold"},children:" How to Read This Table:"}),i.jsxs("p",{style:{color:"#856404",margin:"0 0 6px 0",fontSize:"0.85rem"},children:[" ",i.jsx("strong",{children:"Score"})," = Final points scored by ONE team in a game"]}),i.jsxs("p",{style:{color:"#856404",margin:"0 0 6px 0",fontSize:"0.85rem"},children:[" ",i.jsx("strong",{children:"Visitor"})," = How many times a visiting team finished with that score"]}),i.jsxs("p",{style:{color:"#856404",margin:"0 0 6px 0",fontSize:"0.85rem"},children:[" ",i.jsx("strong",{children:"Home"})," = How many times a home team finished with that score"]}),i.jsxs("p",{style:{color:"#856404",margin:"0 0 6px 0",fontSize:"0.85rem"},children:[" ",i.jsx("strong",{children:"Total"})," = Total times ANY team scored that many points"]}),i.jsxs("p",{style:{color:"#856404",margin:0,fontSize:"0.85rem",fontStyle:"italic"},children:[" ",i.jsx("strong",{children:"Mobile users:"})," Rotate to landscape for best viewing"]})]})]}),i.jsxs("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"20px",borderRadius:"12px",marginBottom:"25px",color:"white"},children:[i.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:"1.2rem"},children:" Quick Insights"}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"12px"},children:[i.jsxs("div",{children:[i.jsx("strong",{children:"Most Common:"})," 20 (44x), 27 (38x), 24 (34x)"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Sweet Spot:"})," 10-35 points"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Rarely Scored:"})," 0-9, 43-52"]})]})]}),i.jsxs("div",{style:{marginBottom:"20px"},children:[i.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:"1rem",color:"#333"},children:" Row Color Guide - These colored boxes match the table row backgrounds below:"}),i.jsx("p",{style:{color:"#666",fontSize:"0.85rem",margin:"0 0 10px 0",fontStyle:"italic"},children:"Each row in the table is colored based on how frequently that score occurred in 2025 games"}),i.jsxs("div",{style:{display:"flex",gap:"15px",flexWrap:"wrap",fontSize:"0.9rem"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",minWidth:"200px",marginBottom:"8px"},children:[i.jsx("div",{style:{width:"28px",height:"28px",background:"#a5d6a7",borderRadius:"4px",border:"2px solid #2e7d32",flexShrink:0}}),i.jsxs("span",{style:{color:"#000",fontSize:"0.9rem"},children:[i.jsx("strong",{children:"Very Common"})," (30+ times)"]})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",minWidth:"200px",marginBottom:"8px"},children:[i.jsx("div",{style:{width:"28px",height:"28px",background:"#fff59d",borderRadius:"4px",border:"2px solid #f9a825",flexShrink:0}}),i.jsxs("span",{style:{color:"#000",fontSize:"0.9rem"},children:[i.jsx("strong",{children:"Common"})," (15-29 times)"]})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",minWidth:"200px",marginBottom:"8px"},children:[i.jsx("div",{style:{width:"28px",height:"28px",background:"#ffcc80",borderRadius:"4px",border:"2px solid #ef6c00",flexShrink:0}}),i.jsxs("span",{style:{color:"#000",fontSize:"0.9rem"},children:[i.jsx("strong",{children:"Less Common"})," (5-14 times)"]})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",minWidth:"200px",marginBottom:"8px"},children:[i.jsx("div",{style:{width:"28px",height:"28px",background:"#ef9a9a",borderRadius:"4px",border:"2px solid #c62828",flexShrink:0}}),i.jsxs("span",{style:{color:"#000",fontSize:"0.9rem"},children:[i.jsx("strong",{children:"Rare"})," (0-4 times)"]})]})]})]}),i.jsx("div",{style:{overflowX:"auto"},children:i.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.95rem"},children:[i.jsx("thead",{children:i.jsxs("tr",{style:{background:"#2c3e50",color:"white"},children:[i.jsx("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #34495e",fontWeight:"bold"},children:"Score"}),i.jsx("th",{style:{padding:"12px",textAlign:"center",borderBottom:"2px solid #34495e",fontWeight:"bold"},children:"Visitor"}),i.jsx("th",{style:{padding:"12px",textAlign:"center",borderBottom:"2px solid #34495e",fontWeight:"bold"},children:"Home"}),i.jsx("th",{style:{padding:"12px",textAlign:"center",borderBottom:"2px solid #34495e",fontWeight:"bold"},children:"Total"}),i.jsx("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #34495e",fontWeight:"bold"},children:"Frequency"})]})}),i.jsx("tbody",{children:DC.map((d,v)=>{const p=d.frequency==="very-common"?"#a5d6a7":d.frequency==="common"?"#fff59d":d.frequency==="less-common"?"#ffcc80":"#ef9a9a",m=d.frequency==="very-common"?"#2e7d32":d.frequency==="common"?"#f9a825":d.frequency==="less-common"?"#ef6c00":"#c62828",y=Math.min(d.total/44*100,100);return i.jsxs("tr",{style:{background:p},children:[i.jsx("td",{style:{padding:"10px",fontWeight:"bold",borderBottom:"1px solid #999",color:"#000"},children:d.score}),i.jsx("td",{style:{padding:"10px",textAlign:"center",borderBottom:"1px solid #999",color:"#000"},children:d.visitor}),i.jsx("td",{style:{padding:"10px",textAlign:"center",borderBottom:"1px solid #999",color:"#000"},children:d.home}),i.jsx("td",{style:{padding:"10px",textAlign:"center",fontWeight:"bold",borderBottom:"1px solid #999",color:"#000",fontSize:"1.05rem"},children:d.total}),i.jsx("td",{style:{padding:"10px",borderBottom:"1px solid #999"},children:i.jsx("div",{style:{background:"#e0e0e0",height:"24px",borderRadius:"12px",overflow:"hidden",position:"relative",border:"1px solid #999"},children:i.jsx("div",{style:{background:m,height:"100%",width:`${y}%`,transition:"width 0.3s ease",display:"flex",alignItems:"center",justifyContent:"flex-end",paddingRight:"8px",color:"white",fontWeight:"bold",fontSize:"0.75rem"},children:y>15?`${d.total}x`:""})})})]},v)})})]})}),i.jsx("button",{onClick:()=>ho(!1),style:{marginTop:"25px",width:"100%",padding:"12px",fontSize:"1rem",fontWeight:"bold",color:"white",background:"#667eea",border:"none",borderRadius:"8px",cursor:"pointer"},children:" Got it, thanks!"})]})}),i.jsxs("footer",{children:[i.jsx("p",{children:"Richard's NFL Playoff Pool 2025 | Good luck! "}),i.jsx("p",{style:{fontSize:"0.85rem",marginTop:"5px"},children:"Questions? Contact: gammoneer2b@gmail.com"})]}),R&&i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",overflow:"auto"},children:i.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"12px",maxWidth:"95vw",maxHeight:"95vh",width:"100%",overflow:"auto",boxShadow:"0 10px 40px rgba(0,0,0,0.3)"},children:[i.jsxs("div",{style:{padding:"20px",borderBottom:"2px solid #ddd",backgroundColor:"#667eea",color:"#fff",borderRadius:"12px 12px 0 0",position:"sticky",top:0,zIndex:10},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsxs("h2",{style:{margin:0},children:[" Score Analysis - ",Ee.name]}),i.jsx("button",{onClick:()=>S(!1),style:{padding:"10px 20px",background:"#e74c3c",color:"#fff",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"bold"},children:" Close"})]}),i.jsxs("div",{style:{marginTop:"15px",display:"flex",gap:"10px",flexWrap:"wrap"},children:[Ee.games.map(d=>i.jsxs("button",{onClick:()=>N(d.id),style:{padding:"10px 15px",background:x===d.id?"#4caf50":"#fff",color:x===d.id?"#fff":"#000",border:"2px solid "+(x===d.id?"#4caf50":"#ddd"),borderRadius:"6px",cursor:"pointer",fontWeight:"bold",fontSize:"0.9rem"},children:["Game ",d.id,": ",Ae(a,d.id,"team1",E)," @ ",Ae(a,d.id,"team2",E)]},d.id)),i.jsxs("button",{onClick:()=>G(L==="asc"?"desc":"asc"),style:{padding:"10px 20px",background:"#f39c12",color:"#fff",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"bold",fontSize:"0.9rem",marginLeft:"auto"},children:["Sort: ",L==="asc"?"Low  High ":"High  Low "]})]})]}),i.jsx("div",{children:(()=>{const v=fr.map(y=>{const k=h.find(j=>j.playerCode===y.playerCode&&j.week===a);return{...y,predictions:(k==null?void 0:k.predictions)||{},timestamp:k==null?void 0:k.timestamp,lastUpdated:k==null?void 0:k.lastUpdated,enteredBy:k==null?void 0:k.enteredBy}}).filter(y=>{const k=y.paid===!0||y.paymentStatus==="PAID",j=y.visible!==!1,w=y.role!=="MANAGER";return k&&j&&w}),p=[...v].sort((y,k)=>{var _,T;const j=parseInt((_=y.predictions[x])==null?void 0:_.team1)||(L==="asc"?999:-1),w=parseInt((T=k.predictions[x])==null?void 0:T.team1)||(L==="asc"?999:-1);return L==="asc"?j-w:w-j}),m=[...v].sort((y,k)=>{var _,T;const j=parseInt((_=y.predictions[x])==null?void 0:_.team2)||(L==="asc"?999:-1),w=parseInt((T=k.predictions[x])==null?void 0:T.team2)||(L==="asc"?999:-1);return L==="asc"?j-w:w-j});return Ee.games.find(y=>y.id===x),i.jsxs(i.Fragment,{children:[i.jsxs("div",{style:{marginBottom:"30px"},children:[i.jsxs("h3",{style:{padding:"15px",margin:0,backgroundColor:"rgba(200, 230, 201, 0.5)",borderBottom:"3px solid #4caf50",color:"#000",fontWeight:"bold"},children:[" VISITING TEAM SORT - Game ",x,": ",Ae(a,x,"team1",E)," @ ",Ae(a,x,"team2",E)]}),i.jsx("div",{style:{overflowX:"auto",backgroundColor:"rgba(200, 230, 201, 0.15)"},children:i.jsxs("table",{className:"picks-table",style:{width:"100%",borderCollapse:"collapse"},children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{style:{padding:"10px",fontWeight:"bold",borderRight:"2px solid #ddd",backgroundColor:"#f5f5f5",color:"#000",fontSize:"14px",textAlign:"left"},children:"Player Name"}),i.jsx("th",{style:{padding:"10px",textAlign:"center",backgroundColor:"#e8f5e9",borderLeft:"3px solid #ccc",color:"#000",fontSize:"14px",fontWeight:"bold"},children:Ae(a,x,"team1",E)||"Visiting Team"}),i.jsx("th",{style:{padding:"10px",textAlign:"center",backgroundColor:"#e3f2fd",color:"#000",fontSize:"14px",fontWeight:"bold"},children:Ae(a,x,"team2",E)||"Home Team"}),i.jsx("th",{style:{padding:"10px",textAlign:"center",backgroundColor:"#f5f5f5",color:"#000",fontSize:"14px",fontWeight:"bold"},children:"Date/Time"})]})}),i.jsx("tbody",{children:p.map((y,k)=>{var M,H;const j=y.enteredBy==="POOL_MANAGER_RNG",w=y.predictions[x],_=(M=W[a])==null?void 0:M[x],T=(H=Y[a])==null?void 0:H[x],I=Ur(w==null?void 0:w.team1,w==null?void 0:w.team2,_==null?void 0:_.team1,_==null?void 0:_.team2,T,!0),O=Ur(w==null?void 0:w.team1,w==null?void 0:w.team2,_==null?void 0:_.team1,_==null?void 0:_.team2,T,!1);return i.jsxs("tr",{style:{backgroundColor:k%2===0?"#fff":"#f9f9f9"},children:[i.jsxs("td",{style:{padding:"10px",fontWeight:"bold",borderRight:"2px solid #ddd",color:"#000",fontSize:"14px"},children:[y.playerName||"Unknown Player",j&&i.jsx("span",{style:{marginLeft:"5px"},title:"Random picks",children:""})]}),i.jsx("td",{style:{padding:"10px",textAlign:"center",background:I.background,color:I.color||"#000",fontWeight:I.background!=="transparent"?"bold":"normal",borderLeft:"3px solid #ccc",fontSize:"14px"},children:(w==null?void 0:w.team1)||"-"}),i.jsx("td",{style:{padding:"10px",textAlign:"center",background:O.background,color:O.color||"#000",fontWeight:O.background!=="transparent"?"bold":"normal",fontSize:"14px"},children:(w==null?void 0:w.team2)||"-"}),i.jsx("td",{style:{padding:"10px",textAlign:"center",fontSize:"12px",color:"#666"},children:y.lastUpdated?new Date(y.lastUpdated).toLocaleString("en-US",{timeZone:"America/Los_Angeles"})+" PST":y.timestamp?new Date(y.timestamp).toLocaleString("en-US",{timeZone:"America/Los_Angeles"})+" PST":"-"})]},k)})})]})})]}),i.jsxs("div",{children:[i.jsxs("h3",{style:{padding:"15px",margin:0,backgroundColor:"rgba(179, 229, 252, 0.5)",borderBottom:"3px solid #2196F3",color:"#000",fontWeight:"bold"},children:[" HOME TEAM SORT - Game ",x,": ",Ae(a,x,"team1",E)," @ ",Ae(a,x,"team2",E)]}),i.jsx("div",{style:{overflowX:"auto",backgroundColor:"rgba(179, 229, 252, 0.15)"},children:i.jsxs("table",{className:"picks-table",style:{width:"100%",borderCollapse:"collapse"},children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{style:{padding:"10px",fontWeight:"bold",borderRight:"2px solid #ddd",backgroundColor:"#f5f5f5",color:"#000",fontSize:"14px",textAlign:"left"},children:"Player Name"}),i.jsx("th",{style:{padding:"10px",textAlign:"center",backgroundColor:"#e8f5e9",borderLeft:"3px solid #ccc",color:"#000",fontSize:"14px",fontWeight:"bold"},children:Ae(a,x,"team1",E)||"Visiting Team"}),i.jsx("th",{style:{padding:"10px",textAlign:"center",backgroundColor:"#e3f2fd",color:"#000",fontSize:"14px",fontWeight:"bold"},children:Ae(a,x,"team2",E)||"Home Team"}),i.jsx("th",{style:{padding:"10px",textAlign:"center",backgroundColor:"#f5f5f5",color:"#000",fontSize:"14px",fontWeight:"bold"},children:"Date/Time"})]})}),i.jsx("tbody",{children:m.map((y,k)=>{var M,H;const j=y.enteredBy==="POOL_MANAGER_RNG",w=y.predictions[x],_=(M=W[a])==null?void 0:M[x],T=(H=Y[a])==null?void 0:H[x],I=Ur(w==null?void 0:w.team1,w==null?void 0:w.team2,_==null?void 0:_.team1,_==null?void 0:_.team2,T,!0),O=Ur(w==null?void 0:w.team1,w==null?void 0:w.team2,_==null?void 0:_.team1,_==null?void 0:_.team2,T,!1);return i.jsxs("tr",{style:{backgroundColor:k%2===0?"#fff":"#f9f9f9"},children:[i.jsxs("td",{style:{padding:"10px",fontWeight:"bold",borderRight:"2px solid #ddd",color:"#000",fontSize:"14px"},children:[y.playerName||"Unknown Player",j&&i.jsx("span",{style:{marginLeft:"5px"},title:"Random picks",children:""})]}),i.jsx("td",{style:{padding:"10px",textAlign:"center",background:I.background,color:I.color||"#000",fontWeight:I.background!=="transparent"?"bold":"normal",borderLeft:"3px solid #ccc",fontSize:"14px"},children:(w==null?void 0:w.team1)||"-"}),i.jsx("td",{style:{padding:"10px",textAlign:"center",background:O.background,color:O.color||"#000",fontWeight:O.background!=="transparent"?"bold":"normal",fontSize:"14px"},children:(w==null?void 0:w.team2)||"-"}),i.jsx("td",{style:{padding:"10px",textAlign:"center",fontSize:"12px",color:"#666"},children:y.lastUpdated?new Date(y.lastUpdated).toLocaleString("en-US",{timeZone:"America/Los_Angeles"})+" PST":y.timestamp?new Date(y.timestamp).toLocaleString("en-US",{timeZone:"America/Los_Angeles"})+" PST":"-"})]},k)})})]})})]})]})})()})]})})]})}kc.createRoot(document.getElementById("root")).render(i.jsx(Uo.StrictMode,{children:i.jsx(LC,{})}));
