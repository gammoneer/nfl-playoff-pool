(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Xm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var of={exports:{}},Js={},lf={exports:{}},F={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wi=Symbol.for("react.element"),Jm=Symbol.for("react.portal"),Zm=Symbol.for("react.fragment"),eg=Symbol.for("react.strict_mode"),tg=Symbol.for("react.profiler"),ng=Symbol.for("react.provider"),rg=Symbol.for("react.context"),ig=Symbol.for("react.forward_ref"),sg=Symbol.for("react.suspense"),og=Symbol.for("react.memo"),lg=Symbol.for("react.lazy"),tc=Symbol.iterator;function ag(t){return t===null||typeof t!="object"?null:(t=tc&&t[tc]||t["@@iterator"],typeof t=="function"?t:null)}var af={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uf=Object.assign,cf={};function lr(t,e,n){this.props=t,this.context=e,this.refs=cf,this.updater=n||af}lr.prototype.isReactComponent={};lr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};lr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function df(){}df.prototype=lr.prototype;function ka(t,e,n){this.props=t,this.context=e,this.refs=cf,this.updater=n||af}var Ia=ka.prototype=new df;Ia.constructor=ka;uf(Ia,lr.prototype);Ia.isPureReactComponent=!0;var nc=Array.isArray,ff=Object.prototype.hasOwnProperty,Ta={current:null},hf={key:!0,ref:!0,__self:!0,__source:!0};function pf(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)ff.call(e,r)&&!hf.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:wi,type:t,key:s,ref:o,props:i,_owner:Ta.current}}function ug(t,e){return{$$typeof:wi,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Na(t){return typeof t=="object"&&t!==null&&t.$$typeof===wi}function cg(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var rc=/\/+/g;function xo(t,e){return typeof t=="object"&&t!==null&&t.key!=null?cg(""+t.key):e.toString(36)}function Ji(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case wi:case Jm:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+xo(o,0):r,nc(i)?(n="",t!=null&&(n=t.replace(rc,"$&/")+"/"),Ji(i,e,n,"",function(u){return u})):i!=null&&(Na(i)&&(i=ug(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(rc,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",nc(t))for(var l=0;l<t.length;l++){s=t[l];var a=r+xo(s,l);o+=Ji(s,e,n,a,i)}else if(a=ag(t),typeof a=="function")for(t=a.call(t),l=0;!(s=t.next()).done;)s=s.value,a=r+xo(s,l++),o+=Ji(s,e,n,a,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Oi(t,e,n){if(t==null)return t;var r=[],i=0;return Ji(t,r,"","",function(s){return e.call(n,s,i++)}),r}function dg(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ke={current:null},Zi={transition:null},fg={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:Zi,ReactCurrentOwner:Ta};function mf(){throw Error("act(...) is not supported in production builds of React.")}F.Children={map:Oi,forEach:function(t,e,n){Oi(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Oi(t,function(){e++}),e},toArray:function(t){return Oi(t,function(e){return e})||[]},only:function(t){if(!Na(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};F.Component=lr;F.Fragment=Zm;F.Profiler=tg;F.PureComponent=ka;F.StrictMode=eg;F.Suspense=sg;F.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fg;F.act=mf;F.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=uf({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Ta.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)ff.call(e,a)&&!hf.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:wi,type:t.type,key:i,ref:s,props:r,_owner:o}};F.createContext=function(t){return t={$$typeof:rg,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ng,_context:t},t.Consumer=t};F.createElement=pf;F.createFactory=function(t){var e=pf.bind(null,t);return e.type=t,e};F.createRef=function(){return{current:null}};F.forwardRef=function(t){return{$$typeof:ig,render:t}};F.isValidElement=Na;F.lazy=function(t){return{$$typeof:lg,_payload:{_status:-1,_result:t},_init:dg}};F.memo=function(t,e){return{$$typeof:og,type:t,compare:e===void 0?null:e}};F.startTransition=function(t){var e=Zi.transition;Zi.transition={};try{t()}finally{Zi.transition=e}};F.unstable_act=mf;F.useCallback=function(t,e){return ke.current.useCallback(t,e)};F.useContext=function(t){return ke.current.useContext(t)};F.useDebugValue=function(){};F.useDeferredValue=function(t){return ke.current.useDeferredValue(t)};F.useEffect=function(t,e){return ke.current.useEffect(t,e)};F.useId=function(){return ke.current.useId()};F.useImperativeHandle=function(t,e,n){return ke.current.useImperativeHandle(t,e,n)};F.useInsertionEffect=function(t,e){return ke.current.useInsertionEffect(t,e)};F.useLayoutEffect=function(t,e){return ke.current.useLayoutEffect(t,e)};F.useMemo=function(t,e){return ke.current.useMemo(t,e)};F.useReducer=function(t,e,n){return ke.current.useReducer(t,e,n)};F.useRef=function(t){return ke.current.useRef(t)};F.useState=function(t){return ke.current.useState(t)};F.useSyncExternalStore=function(t,e,n){return ke.current.useSyncExternalStore(t,e,n)};F.useTransition=function(){return ke.current.useTransition()};F.version="18.3.1";lf.exports=F;var dt=lf.exports;const gf=Xm(dt);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hg=dt,pg=Symbol.for("react.element"),mg=Symbol.for("react.fragment"),gg=Object.prototype.hasOwnProperty,_g=hg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vg={key:!0,ref:!0,__self:!0,__source:!0};function _f(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)gg.call(e,r)&&!vg.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:pg,type:t,key:s,ref:o,props:i,_owner:_g.current}}Js.Fragment=mg;Js.jsx=_f;Js.jsxs=_f;of.exports=Js;var R=of.exports,fl={},vf={exports:{}},je={},yf={exports:{}},wf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,D){var A=k.length;k.push(D);e:for(;0<A;){var te=A-1>>>1,le=k[te];if(0<i(le,D))k[te]=D,k[A]=le,A=te;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var D=k[0],A=k.pop();if(A!==D){k[0]=A;e:for(var te=0,le=k.length,Di=le>>>1;te<Di;){var Zt=2*(te+1)-1,No=k[Zt],en=Zt+1,Ai=k[en];if(0>i(No,A))en<le&&0>i(Ai,No)?(k[te]=Ai,k[en]=A,te=en):(k[te]=No,k[Zt]=A,te=Zt);else if(en<le&&0>i(Ai,A))k[te]=Ai,k[en]=A,te=en;else break e}}return D}function i(k,D){var A=k.sortIndex-D.sortIndex;return A!==0?A:k.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],u=[],f=1,c=null,d=3,_=!1,g=!1,v=!1,T=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(k){for(var D=n(u);D!==null;){if(D.callback===null)r(u);else if(D.startTime<=k)r(u),D.sortIndex=D.expirationTime,e(a,D);else break;D=n(u)}}function y(k){if(v=!1,m(k),!g)if(n(a)!==null)g=!0,Io(E);else{var D=n(u);D!==null&&To(y,D.startTime-k)}}function E(k,D){g=!1,v&&(v=!1,p(x),x=-1),_=!0;var A=d;try{for(m(D),c=n(a);c!==null&&(!(c.expirationTime>D)||k&&!Qe());){var te=c.callback;if(typeof te=="function"){c.callback=null,d=c.priorityLevel;var le=te(c.expirationTime<=D);D=t.unstable_now(),typeof le=="function"?c.callback=le:c===n(a)&&r(a),m(D)}else r(a);c=n(a)}if(c!==null)var Di=!0;else{var Zt=n(u);Zt!==null&&To(y,Zt.startTime-D),Di=!1}return Di}finally{c=null,d=A,_=!1}}var I=!1,N=null,x=-1,ee=5,z=-1;function Qe(){return!(t.unstable_now()-z<ee)}function mr(){if(N!==null){var k=t.unstable_now();z=k;var D=!0;try{D=N(!0,k)}finally{D?gr():(I=!1,N=null)}}else I=!1}var gr;if(typeof h=="function")gr=function(){h(mr)};else if(typeof MessageChannel<"u"){var ec=new MessageChannel,qm=ec.port2;ec.port1.onmessage=mr,gr=function(){qm.postMessage(null)}}else gr=function(){T(mr,0)};function Io(k){N=k,I||(I=!0,gr())}function To(k,D){x=T(function(){k(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){g||_||(g=!0,Io(E))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(k){switch(d){case 1:case 2:case 3:var D=3;break;default:D=d}var A=d;d=D;try{return k()}finally{d=A}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,D){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var A=d;d=k;try{return D()}finally{d=A}},t.unstable_scheduleCallback=function(k,D,A){var te=t.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?te+A:te):A=te,k){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=A+le,k={id:f++,callback:D,priorityLevel:k,startTime:A,expirationTime:le,sortIndex:-1},A>te?(k.sortIndex=A,e(u,k),n(a)===null&&k===n(u)&&(v?(p(x),x=-1):v=!0,To(y,A-te))):(k.sortIndex=le,e(a,k),g||_||(g=!0,Io(E))),k},t.unstable_shouldYield=Qe,t.unstable_wrapCallback=function(k){var D=d;return function(){var A=d;d=D;try{return k.apply(this,arguments)}finally{d=A}}}})(wf);yf.exports=wf;var yg=yf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wg=dt,Ue=yg;function w(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Cf=new Set,Qr={};function En(t,e){qn(t,e),qn(t+"Capture",e)}function qn(t,e){for(Qr[t]=e,t=0;t<e.length;t++)Cf.add(e[t])}var vt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hl=Object.prototype.hasOwnProperty,Cg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ic={},sc={};function Eg(t){return hl.call(sc,t)?!0:hl.call(ic,t)?!1:Cg.test(t)?sc[t]=!0:(ic[t]=!0,!1)}function Sg(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function kg(t,e,n,r){if(e===null||typeof e>"u"||Sg(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ie(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ge[t]=new Ie(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ge[e]=new Ie(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ge[t]=new Ie(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ge[t]=new Ie(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ge[t]=new Ie(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ge[t]=new Ie(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ge[t]=new Ie(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ge[t]=new Ie(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ge[t]=new Ie(t,5,!1,t.toLowerCase(),null,!1,!1)});var xa=/[\-:]([a-z])/g;function Ra(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(xa,Ra);ge[e]=new Ie(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(xa,Ra);ge[e]=new Ie(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(xa,Ra);ge[e]=new Ie(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ge[t]=new Ie(t,1,!1,t.toLowerCase(),null,!1,!1)});ge.xlinkHref=new Ie("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ge[t]=new Ie(t,1,!1,t.toLowerCase(),null,!0,!0)});function Pa(t,e,n,r){var i=ge.hasOwnProperty(e)?ge[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(kg(e,n,i,r)&&(n=null),r||i===null?Eg(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var It=wg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Mi=Symbol.for("react.element"),Nn=Symbol.for("react.portal"),xn=Symbol.for("react.fragment"),Da=Symbol.for("react.strict_mode"),pl=Symbol.for("react.profiler"),Ef=Symbol.for("react.provider"),Sf=Symbol.for("react.context"),Aa=Symbol.for("react.forward_ref"),ml=Symbol.for("react.suspense"),gl=Symbol.for("react.suspense_list"),Oa=Symbol.for("react.memo"),xt=Symbol.for("react.lazy"),kf=Symbol.for("react.offscreen"),oc=Symbol.iterator;function _r(t){return t===null||typeof t!="object"?null:(t=oc&&t[oc]||t["@@iterator"],typeof t=="function"?t:null)}var X=Object.assign,Ro;function Rr(t){if(Ro===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ro=e&&e[1]||""}return`
`+Ro+t}var Po=!1;function Do(t,e){if(!t||Po)return"";Po=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{Po=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Rr(t):""}function Ig(t){switch(t.tag){case 5:return Rr(t.type);case 16:return Rr("Lazy");case 13:return Rr("Suspense");case 19:return Rr("SuspenseList");case 0:case 2:case 15:return t=Do(t.type,!1),t;case 11:return t=Do(t.type.render,!1),t;case 1:return t=Do(t.type,!0),t;default:return""}}function _l(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case xn:return"Fragment";case Nn:return"Portal";case pl:return"Profiler";case Da:return"StrictMode";case ml:return"Suspense";case gl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Sf:return(t.displayName||"Context")+".Consumer";case Ef:return(t._context.displayName||"Context")+".Provider";case Aa:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Oa:return e=t.displayName||null,e!==null?e:_l(t.type)||"Memo";case xt:e=t._payload,t=t._init;try{return _l(t(e))}catch{}}return null}function Tg(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _l(e);case 8:return e===Da?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function $t(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function If(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ng(t){var e=If(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Li(t){t._valueTracker||(t._valueTracker=Ng(t))}function Tf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=If(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ds(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function vl(t,e){var n=e.checked;return X({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function lc(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=$t(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Nf(t,e){e=e.checked,e!=null&&Pa(t,"checked",e,!1)}function yl(t,e){Nf(t,e);var n=$t(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?wl(t,e.type,n):e.hasOwnProperty("defaultValue")&&wl(t,e.type,$t(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ac(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function wl(t,e,n){(e!=="number"||ds(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Pr=Array.isArray;function Wn(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+$t(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Cl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(w(91));return X({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function uc(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(w(92));if(Pr(n)){if(1<n.length)throw Error(w(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:$t(n)}}function xf(t,e){var n=$t(e.value),r=$t(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function cc(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Rf(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function El(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Rf(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Fi,Pf=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Fi=Fi||document.createElement("div"),Fi.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Fi.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Kr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Or={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xg=["Webkit","ms","Moz","O"];Object.keys(Or).forEach(function(t){xg.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Or[e]=Or[t]})});function Df(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Or.hasOwnProperty(t)&&Or[t]?(""+e).trim():e+"px"}function Af(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Df(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Rg=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sl(t,e){if(e){if(Rg[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(w(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(w(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(w(61))}if(e.style!=null&&typeof e.style!="object")throw Error(w(62))}}function kl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Il=null;function Ma(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Tl=null,Bn=null,Hn=null;function dc(t){if(t=Si(t)){if(typeof Tl!="function")throw Error(w(280));var e=t.stateNode;e&&(e=ro(e),Tl(t.stateNode,t.type,e))}}function Of(t){Bn?Hn?Hn.push(t):Hn=[t]:Bn=t}function Mf(){if(Bn){var t=Bn,e=Hn;if(Hn=Bn=null,dc(t),e)for(t=0;t<e.length;t++)dc(e[t])}}function Lf(t,e){return t(e)}function Ff(){}var Ao=!1;function zf(t,e,n){if(Ao)return t(e,n);Ao=!0;try{return Lf(t,e,n)}finally{Ao=!1,(Bn!==null||Hn!==null)&&(Ff(),Mf())}}function Yr(t,e){var n=t.stateNode;if(n===null)return null;var r=ro(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(w(231,e,typeof n));return n}var Nl=!1;if(vt)try{var vr={};Object.defineProperty(vr,"passive",{get:function(){Nl=!0}}),window.addEventListener("test",vr,vr),window.removeEventListener("test",vr,vr)}catch{Nl=!1}function Pg(t,e,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var Mr=!1,fs=null,hs=!1,xl=null,Dg={onError:function(t){Mr=!0,fs=t}};function Ag(t,e,n,r,i,s,o,l,a){Mr=!1,fs=null,Pg.apply(Dg,arguments)}function Og(t,e,n,r,i,s,o,l,a){if(Ag.apply(this,arguments),Mr){if(Mr){var u=fs;Mr=!1,fs=null}else throw Error(w(198));hs||(hs=!0,xl=u)}}function Sn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Uf(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function fc(t){if(Sn(t)!==t)throw Error(w(188))}function Mg(t){var e=t.alternate;if(!e){if(e=Sn(t),e===null)throw Error(w(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return fc(i),t;if(s===r)return fc(i),e;s=s.sibling}throw Error(w(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(w(189))}}if(n.alternate!==r)throw Error(w(190))}if(n.tag!==3)throw Error(w(188));return n.stateNode.current===n?t:e}function jf(t){return t=Mg(t),t!==null?Wf(t):null}function Wf(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Wf(t);if(e!==null)return e;t=t.sibling}return null}var Bf=Ue.unstable_scheduleCallback,hc=Ue.unstable_cancelCallback,Lg=Ue.unstable_shouldYield,Fg=Ue.unstable_requestPaint,ne=Ue.unstable_now,zg=Ue.unstable_getCurrentPriorityLevel,La=Ue.unstable_ImmediatePriority,Hf=Ue.unstable_UserBlockingPriority,ps=Ue.unstable_NormalPriority,Ug=Ue.unstable_LowPriority,Vf=Ue.unstable_IdlePriority,Zs=null,at=null;function jg(t){if(at&&typeof at.onCommitFiberRoot=="function")try{at.onCommitFiberRoot(Zs,t,void 0,(t.current.flags&128)===128)}catch{}}var tt=Math.clz32?Math.clz32:Hg,Wg=Math.log,Bg=Math.LN2;function Hg(t){return t>>>=0,t===0?32:31-(Wg(t)/Bg|0)|0}var zi=64,Ui=4194304;function Dr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ms(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Dr(l):(s&=o,s!==0&&(r=Dr(s)))}else o=n&~i,o!==0?r=Dr(o):s!==0&&(r=Dr(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-tt(e),i=1<<n,r|=t[n],e&=~i;return r}function Vg(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bg(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-tt(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=Vg(l,e)):a<=e&&(t.expiredLanes|=l),s&=~l}}function Rl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function bf(){var t=zi;return zi<<=1,!(zi&4194240)&&(zi=64),t}function Oo(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ci(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-tt(e),t[e]=n}function $g(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-tt(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Fa(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-tt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var W=0;function $f(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Gf,za,Qf,Kf,Yf,Pl=!1,ji=[],Mt=null,Lt=null,Ft=null,qr=new Map,Xr=new Map,Pt=[],Gg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pc(t,e){switch(t){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":Lt=null;break;case"mouseover":case"mouseout":Ft=null;break;case"pointerover":case"pointerout":qr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xr.delete(e.pointerId)}}function yr(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Si(e),e!==null&&za(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Qg(t,e,n,r,i){switch(e){case"focusin":return Mt=yr(Mt,t,e,n,r,i),!0;case"dragenter":return Lt=yr(Lt,t,e,n,r,i),!0;case"mouseover":return Ft=yr(Ft,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return qr.set(s,yr(qr.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Xr.set(s,yr(Xr.get(s)||null,t,e,n,r,i)),!0}return!1}function qf(t){var e=on(t.target);if(e!==null){var n=Sn(e);if(n!==null){if(e=n.tag,e===13){if(e=Uf(n),e!==null){t.blockedOn=e,Yf(t.priority,function(){Qf(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function es(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Dl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Il=r,n.target.dispatchEvent(r),Il=null}else return e=Si(n),e!==null&&za(e),t.blockedOn=n,!1;e.shift()}return!0}function mc(t,e,n){es(t)&&n.delete(e)}function Kg(){Pl=!1,Mt!==null&&es(Mt)&&(Mt=null),Lt!==null&&es(Lt)&&(Lt=null),Ft!==null&&es(Ft)&&(Ft=null),qr.forEach(mc),Xr.forEach(mc)}function wr(t,e){t.blockedOn===e&&(t.blockedOn=null,Pl||(Pl=!0,Ue.unstable_scheduleCallback(Ue.unstable_NormalPriority,Kg)))}function Jr(t){function e(i){return wr(i,t)}if(0<ji.length){wr(ji[0],t);for(var n=1;n<ji.length;n++){var r=ji[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Mt!==null&&wr(Mt,t),Lt!==null&&wr(Lt,t),Ft!==null&&wr(Ft,t),qr.forEach(e),Xr.forEach(e),n=0;n<Pt.length;n++)r=Pt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Pt.length&&(n=Pt[0],n.blockedOn===null);)qf(n),n.blockedOn===null&&Pt.shift()}var Vn=It.ReactCurrentBatchConfig,gs=!0;function Yg(t,e,n,r){var i=W,s=Vn.transition;Vn.transition=null;try{W=1,Ua(t,e,n,r)}finally{W=i,Vn.transition=s}}function qg(t,e,n,r){var i=W,s=Vn.transition;Vn.transition=null;try{W=4,Ua(t,e,n,r)}finally{W=i,Vn.transition=s}}function Ua(t,e,n,r){if(gs){var i=Dl(t,e,n,r);if(i===null)Vo(t,e,r,_s,n),pc(t,r);else if(Qg(i,t,e,n,r))r.stopPropagation();else if(pc(t,r),e&4&&-1<Gg.indexOf(t)){for(;i!==null;){var s=Si(i);if(s!==null&&Gf(s),s=Dl(t,e,n,r),s===null&&Vo(t,e,r,_s,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Vo(t,e,r,null,n)}}var _s=null;function Dl(t,e,n,r){if(_s=null,t=Ma(r),t=on(t),t!==null)if(e=Sn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Uf(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return _s=t,null}function Xf(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zg()){case La:return 1;case Hf:return 4;case ps:case Ug:return 16;case Vf:return 536870912;default:return 16}default:return 16}}var At=null,ja=null,ts=null;function Jf(){if(ts)return ts;var t,e=ja,n=e.length,r,i="value"in At?At.value:At.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return ts=i.slice(t,1<r?1-r:void 0)}function ns(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Wi(){return!0}function gc(){return!1}function We(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Wi:gc,this.isPropagationStopped=gc,this}return X(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wi)},persist:function(){},isPersistent:Wi}),e}var ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wa=We(ar),Ei=X({},ar,{view:0,detail:0}),Xg=We(Ei),Mo,Lo,Cr,eo=X({},Ei,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ba,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Cr&&(Cr&&t.type==="mousemove"?(Mo=t.screenX-Cr.screenX,Lo=t.screenY-Cr.screenY):Lo=Mo=0,Cr=t),Mo)},movementY:function(t){return"movementY"in t?t.movementY:Lo}}),_c=We(eo),Jg=X({},eo,{dataTransfer:0}),Zg=We(Jg),e_=X({},Ei,{relatedTarget:0}),Fo=We(e_),t_=X({},ar,{animationName:0,elapsedTime:0,pseudoElement:0}),n_=We(t_),r_=X({},ar,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),i_=We(r_),s_=X({},ar,{data:0}),vc=We(s_),o_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},l_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},a_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function u_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=a_[t])?!!e[t]:!1}function Ba(){return u_}var c_=X({},Ei,{key:function(t){if(t.key){var e=o_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ns(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?l_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ba,charCode:function(t){return t.type==="keypress"?ns(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ns(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),d_=We(c_),f_=X({},eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yc=We(f_),h_=X({},Ei,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ba}),p_=We(h_),m_=X({},ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),g_=We(m_),__=X({},eo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),v_=We(__),y_=[9,13,27,32],Ha=vt&&"CompositionEvent"in window,Lr=null;vt&&"documentMode"in document&&(Lr=document.documentMode);var w_=vt&&"TextEvent"in window&&!Lr,Zf=vt&&(!Ha||Lr&&8<Lr&&11>=Lr),wc=" ",Cc=!1;function eh(t,e){switch(t){case"keyup":return y_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function th(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Rn=!1;function C_(t,e){switch(t){case"compositionend":return th(e);case"keypress":return e.which!==32?null:(Cc=!0,wc);case"textInput":return t=e.data,t===wc&&Cc?null:t;default:return null}}function E_(t,e){if(Rn)return t==="compositionend"||!Ha&&eh(t,e)?(t=Jf(),ts=ja=At=null,Rn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Zf&&e.locale!=="ko"?null:e.data;default:return null}}var S_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ec(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!S_[t.type]:e==="textarea"}function nh(t,e,n,r){Of(r),e=vs(e,"onChange"),0<e.length&&(n=new Wa("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Fr=null,Zr=null;function k_(t){hh(t,0)}function to(t){var e=An(t);if(Tf(e))return t}function I_(t,e){if(t==="change")return e}var rh=!1;if(vt){var zo;if(vt){var Uo="oninput"in document;if(!Uo){var Sc=document.createElement("div");Sc.setAttribute("oninput","return;"),Uo=typeof Sc.oninput=="function"}zo=Uo}else zo=!1;rh=zo&&(!document.documentMode||9<document.documentMode)}function kc(){Fr&&(Fr.detachEvent("onpropertychange",ih),Zr=Fr=null)}function ih(t){if(t.propertyName==="value"&&to(Zr)){var e=[];nh(e,Zr,t,Ma(t)),zf(k_,e)}}function T_(t,e,n){t==="focusin"?(kc(),Fr=e,Zr=n,Fr.attachEvent("onpropertychange",ih)):t==="focusout"&&kc()}function N_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return to(Zr)}function x_(t,e){if(t==="click")return to(e)}function R_(t,e){if(t==="input"||t==="change")return to(e)}function P_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var it=typeof Object.is=="function"?Object.is:P_;function ei(t,e){if(it(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!hl.call(e,i)||!it(t[i],e[i]))return!1}return!0}function Ic(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Tc(t,e){var n=Ic(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ic(n)}}function sh(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?sh(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function oh(){for(var t=window,e=ds();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ds(t.document)}return e}function Va(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function D_(t){var e=oh(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&sh(n.ownerDocument.documentElement,n)){if(r!==null&&Va(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Tc(n,s);var o=Tc(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var A_=vt&&"documentMode"in document&&11>=document.documentMode,Pn=null,Al=null,zr=null,Ol=!1;function Nc(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ol||Pn==null||Pn!==ds(r)||(r=Pn,"selectionStart"in r&&Va(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),zr&&ei(zr,r)||(zr=r,r=vs(Al,"onSelect"),0<r.length&&(e=new Wa("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Pn)))}function Bi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Dn={animationend:Bi("Animation","AnimationEnd"),animationiteration:Bi("Animation","AnimationIteration"),animationstart:Bi("Animation","AnimationStart"),transitionend:Bi("Transition","TransitionEnd")},jo={},lh={};vt&&(lh=document.createElement("div").style,"AnimationEvent"in window||(delete Dn.animationend.animation,delete Dn.animationiteration.animation,delete Dn.animationstart.animation),"TransitionEvent"in window||delete Dn.transitionend.transition);function no(t){if(jo[t])return jo[t];if(!Dn[t])return t;var e=Dn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in lh)return jo[t]=e[n];return t}var ah=no("animationend"),uh=no("animationiteration"),ch=no("animationstart"),dh=no("transitionend"),fh=new Map,xc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yt(t,e){fh.set(t,e),En(e,[t])}for(var Wo=0;Wo<xc.length;Wo++){var Bo=xc[Wo],O_=Bo.toLowerCase(),M_=Bo[0].toUpperCase()+Bo.slice(1);Yt(O_,"on"+M_)}Yt(ah,"onAnimationEnd");Yt(uh,"onAnimationIteration");Yt(ch,"onAnimationStart");Yt("dblclick","onDoubleClick");Yt("focusin","onFocus");Yt("focusout","onBlur");Yt(dh,"onTransitionEnd");qn("onMouseEnter",["mouseout","mouseover"]);qn("onMouseLeave",["mouseout","mouseover"]);qn("onPointerEnter",["pointerout","pointerover"]);qn("onPointerLeave",["pointerout","pointerover"]);En("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));En("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));En("onBeforeInput",["compositionend","keypress","textInput","paste"]);En("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));En("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));En("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ar="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),L_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ar));function Rc(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Og(r,e,void 0,t),t.currentTarget=null}function hh(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;Rc(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;Rc(i,l,u),s=a}}}if(hs)throw t=xl,hs=!1,xl=null,t}function $(t,e){var n=e[Ul];n===void 0&&(n=e[Ul]=new Set);var r=t+"__bubble";n.has(r)||(ph(e,t,2,!1),n.add(r))}function Ho(t,e,n){var r=0;e&&(r|=4),ph(n,t,r,e)}var Hi="_reactListening"+Math.random().toString(36).slice(2);function ti(t){if(!t[Hi]){t[Hi]=!0,Cf.forEach(function(n){n!=="selectionchange"&&(L_.has(n)||Ho(n,!1,t),Ho(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Hi]||(e[Hi]=!0,Ho("selectionchange",!1,e))}}function ph(t,e,n,r){switch(Xf(e)){case 1:var i=Yg;break;case 4:i=qg;break;default:i=Ua}n=i.bind(null,e,n,t),i=void 0,!Nl||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Vo(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=on(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}zf(function(){var u=s,f=Ma(n),c=[];e:{var d=fh.get(t);if(d!==void 0){var _=Wa,g=t;switch(t){case"keypress":if(ns(n)===0)break e;case"keydown":case"keyup":_=d_;break;case"focusin":g="focus",_=Fo;break;case"focusout":g="blur",_=Fo;break;case"beforeblur":case"afterblur":_=Fo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=_c;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=Zg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=p_;break;case ah:case uh:case ch:_=n_;break;case dh:_=g_;break;case"scroll":_=Xg;break;case"wheel":_=v_;break;case"copy":case"cut":case"paste":_=i_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=yc}var v=(e&4)!==0,T=!v&&t==="scroll",p=v?d!==null?d+"Capture":null:d;v=[];for(var h=u,m;h!==null;){m=h;var y=m.stateNode;if(m.tag===5&&y!==null&&(m=y,p!==null&&(y=Yr(h,p),y!=null&&v.push(ni(h,y,m)))),T)break;h=h.return}0<v.length&&(d=new _(d,g,null,n,f),c.push({event:d,listeners:v}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",d&&n!==Il&&(g=n.relatedTarget||n.fromElement)&&(on(g)||g[yt]))break e;if((_||d)&&(d=f.window===f?f:(d=f.ownerDocument)?d.defaultView||d.parentWindow:window,_?(g=n.relatedTarget||n.toElement,_=u,g=g?on(g):null,g!==null&&(T=Sn(g),g!==T||g.tag!==5&&g.tag!==6)&&(g=null)):(_=null,g=u),_!==g)){if(v=_c,y="onMouseLeave",p="onMouseEnter",h="mouse",(t==="pointerout"||t==="pointerover")&&(v=yc,y="onPointerLeave",p="onPointerEnter",h="pointer"),T=_==null?d:An(_),m=g==null?d:An(g),d=new v(y,h+"leave",_,n,f),d.target=T,d.relatedTarget=m,y=null,on(f)===u&&(v=new v(p,h+"enter",g,n,f),v.target=m,v.relatedTarget=T,y=v),T=y,_&&g)t:{for(v=_,p=g,h=0,m=v;m;m=In(m))h++;for(m=0,y=p;y;y=In(y))m++;for(;0<h-m;)v=In(v),h--;for(;0<m-h;)p=In(p),m--;for(;h--;){if(v===p||p!==null&&v===p.alternate)break t;v=In(v),p=In(p)}v=null}else v=null;_!==null&&Pc(c,d,_,v,!1),g!==null&&T!==null&&Pc(c,T,g,v,!0)}}e:{if(d=u?An(u):window,_=d.nodeName&&d.nodeName.toLowerCase(),_==="select"||_==="input"&&d.type==="file")var E=I_;else if(Ec(d))if(rh)E=R_;else{E=N_;var I=T_}else(_=d.nodeName)&&_.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(E=x_);if(E&&(E=E(t,u))){nh(c,E,n,f);break e}I&&I(t,d,u),t==="focusout"&&(I=d._wrapperState)&&I.controlled&&d.type==="number"&&wl(d,"number",d.value)}switch(I=u?An(u):window,t){case"focusin":(Ec(I)||I.contentEditable==="true")&&(Pn=I,Al=u,zr=null);break;case"focusout":zr=Al=Pn=null;break;case"mousedown":Ol=!0;break;case"contextmenu":case"mouseup":case"dragend":Ol=!1,Nc(c,n,f);break;case"selectionchange":if(A_)break;case"keydown":case"keyup":Nc(c,n,f)}var N;if(Ha)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Rn?eh(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(Zf&&n.locale!=="ko"&&(Rn||x!=="onCompositionStart"?x==="onCompositionEnd"&&Rn&&(N=Jf()):(At=f,ja="value"in At?At.value:At.textContent,Rn=!0)),I=vs(u,x),0<I.length&&(x=new vc(x,t,null,n,f),c.push({event:x,listeners:I}),N?x.data=N:(N=th(n),N!==null&&(x.data=N)))),(N=w_?C_(t,n):E_(t,n))&&(u=vs(u,"onBeforeInput"),0<u.length&&(f=new vc("onBeforeInput","beforeinput",null,n,f),c.push({event:f,listeners:u}),f.data=N))}hh(c,e)})}function ni(t,e,n){return{instance:t,listener:e,currentTarget:n}}function vs(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Yr(t,n),s!=null&&r.unshift(ni(t,s,i)),s=Yr(t,e),s!=null&&r.push(ni(t,s,i))),t=t.return}return r}function In(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Pc(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=Yr(n,s),a!=null&&o.unshift(ni(n,a,l))):i||(a=Yr(n,s),a!=null&&o.push(ni(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var F_=/\r\n?/g,z_=/\u0000|\uFFFD/g;function Dc(t){return(typeof t=="string"?t:""+t).replace(F_,`
`).replace(z_,"")}function Vi(t,e,n){if(e=Dc(e),Dc(t)!==e&&n)throw Error(w(425))}function ys(){}var Ml=null,Ll=null;function Fl(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var zl=typeof setTimeout=="function"?setTimeout:void 0,U_=typeof clearTimeout=="function"?clearTimeout:void 0,Ac=typeof Promise=="function"?Promise:void 0,j_=typeof queueMicrotask=="function"?queueMicrotask:typeof Ac<"u"?function(t){return Ac.resolve(null).then(t).catch(W_)}:zl;function W_(t){setTimeout(function(){throw t})}function bo(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Jr(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Jr(e)}function zt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Oc(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ur=Math.random().toString(36).slice(2),lt="__reactFiber$"+ur,ri="__reactProps$"+ur,yt="__reactContainer$"+ur,Ul="__reactEvents$"+ur,B_="__reactListeners$"+ur,H_="__reactHandles$"+ur;function on(t){var e=t[lt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[yt]||n[lt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Oc(t);t!==null;){if(n=t[lt])return n;t=Oc(t)}return e}t=n,n=t.parentNode}return null}function Si(t){return t=t[lt]||t[yt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function An(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(w(33))}function ro(t){return t[ri]||null}var jl=[],On=-1;function qt(t){return{current:t}}function Q(t){0>On||(t.current=jl[On],jl[On]=null,On--)}function b(t,e){On++,jl[On]=t.current,t.current=e}var Gt={},Ce=qt(Gt),Pe=qt(!1),hn=Gt;function Xn(t,e){var n=t.type.contextTypes;if(!n)return Gt;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function De(t){return t=t.childContextTypes,t!=null}function ws(){Q(Pe),Q(Ce)}function Mc(t,e,n){if(Ce.current!==Gt)throw Error(w(168));b(Ce,e),b(Pe,n)}function mh(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(w(108,Tg(t)||"Unknown",i));return X({},n,r)}function Cs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Gt,hn=Ce.current,b(Ce,t),b(Pe,Pe.current),!0}function Lc(t,e,n){var r=t.stateNode;if(!r)throw Error(w(169));n?(t=mh(t,e,hn),r.__reactInternalMemoizedMergedChildContext=t,Q(Pe),Q(Ce),b(Ce,t)):Q(Pe),b(Pe,n)}var ft=null,io=!1,$o=!1;function gh(t){ft===null?ft=[t]:ft.push(t)}function V_(t){io=!0,gh(t)}function Xt(){if(!$o&&ft!==null){$o=!0;var t=0,e=W;try{var n=ft;for(W=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ft=null,io=!1}catch(i){throw ft!==null&&(ft=ft.slice(t+1)),Bf(La,Xt),i}finally{W=e,$o=!1}}return null}var Mn=[],Ln=0,Es=null,Ss=0,Be=[],He=0,pn=null,ht=1,pt="";function tn(t,e){Mn[Ln++]=Ss,Mn[Ln++]=Es,Es=t,Ss=e}function _h(t,e,n){Be[He++]=ht,Be[He++]=pt,Be[He++]=pn,pn=t;var r=ht;t=pt;var i=32-tt(r)-1;r&=~(1<<i),n+=1;var s=32-tt(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ht=1<<32-tt(e)+i|n<<i|r,pt=s+t}else ht=1<<s|n<<i|r,pt=t}function ba(t){t.return!==null&&(tn(t,1),_h(t,1,0))}function $a(t){for(;t===Es;)Es=Mn[--Ln],Mn[Ln]=null,Ss=Mn[--Ln],Mn[Ln]=null;for(;t===pn;)pn=Be[--He],Be[He]=null,pt=Be[--He],Be[He]=null,ht=Be[--He],Be[He]=null}var ze=null,Fe=null,K=!1,Xe=null;function vh(t,e){var n=Ve(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Fc(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ze=t,Fe=zt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ze=t,Fe=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=pn!==null?{id:ht,overflow:pt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ve(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ze=t,Fe=null,!0):!1;default:return!1}}function Wl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Bl(t){if(K){var e=Fe;if(e){var n=e;if(!Fc(t,e)){if(Wl(t))throw Error(w(418));e=zt(n.nextSibling);var r=ze;e&&Fc(t,e)?vh(r,n):(t.flags=t.flags&-4097|2,K=!1,ze=t)}}else{if(Wl(t))throw Error(w(418));t.flags=t.flags&-4097|2,K=!1,ze=t}}}function zc(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ze=t}function bi(t){if(t!==ze)return!1;if(!K)return zc(t),K=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Fl(t.type,t.memoizedProps)),e&&(e=Fe)){if(Wl(t))throw yh(),Error(w(418));for(;e;)vh(t,e),e=zt(e.nextSibling)}if(zc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(w(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Fe=zt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Fe=null}}else Fe=ze?zt(t.stateNode.nextSibling):null;return!0}function yh(){for(var t=Fe;t;)t=zt(t.nextSibling)}function Jn(){Fe=ze=null,K=!1}function Ga(t){Xe===null?Xe=[t]:Xe.push(t)}var b_=It.ReactCurrentBatchConfig;function Er(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(w(309));var r=n.stateNode}if(!r)throw Error(w(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(w(284));if(!n._owner)throw Error(w(290,t))}return t}function $i(t,e){throw t=Object.prototype.toString.call(e),Error(w(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Uc(t){var e=t._init;return e(t._payload)}function wh(t){function e(p,h){if(t){var m=p.deletions;m===null?(p.deletions=[h],p.flags|=16):m.push(h)}}function n(p,h){if(!t)return null;for(;h!==null;)e(p,h),h=h.sibling;return null}function r(p,h){for(p=new Map;h!==null;)h.key!==null?p.set(h.key,h):p.set(h.index,h),h=h.sibling;return p}function i(p,h){return p=Bt(p,h),p.index=0,p.sibling=null,p}function s(p,h,m){return p.index=m,t?(m=p.alternate,m!==null?(m=m.index,m<h?(p.flags|=2,h):m):(p.flags|=2,h)):(p.flags|=1048576,h)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function l(p,h,m,y){return h===null||h.tag!==6?(h=Jo(m,p.mode,y),h.return=p,h):(h=i(h,m),h.return=p,h)}function a(p,h,m,y){var E=m.type;return E===xn?f(p,h,m.props.children,y,m.key):h!==null&&(h.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===xt&&Uc(E)===h.type)?(y=i(h,m.props),y.ref=Er(p,h,m),y.return=p,y):(y=us(m.type,m.key,m.props,null,p.mode,y),y.ref=Er(p,h,m),y.return=p,y)}function u(p,h,m,y){return h===null||h.tag!==4||h.stateNode.containerInfo!==m.containerInfo||h.stateNode.implementation!==m.implementation?(h=Zo(m,p.mode,y),h.return=p,h):(h=i(h,m.children||[]),h.return=p,h)}function f(p,h,m,y,E){return h===null||h.tag!==7?(h=fn(m,p.mode,y,E),h.return=p,h):(h=i(h,m),h.return=p,h)}function c(p,h,m){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Jo(""+h,p.mode,m),h.return=p,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Mi:return m=us(h.type,h.key,h.props,null,p.mode,m),m.ref=Er(p,null,h),m.return=p,m;case Nn:return h=Zo(h,p.mode,m),h.return=p,h;case xt:var y=h._init;return c(p,y(h._payload),m)}if(Pr(h)||_r(h))return h=fn(h,p.mode,m,null),h.return=p,h;$i(p,h)}return null}function d(p,h,m,y){var E=h!==null?h.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return E!==null?null:l(p,h,""+m,y);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Mi:return m.key===E?a(p,h,m,y):null;case Nn:return m.key===E?u(p,h,m,y):null;case xt:return E=m._init,d(p,h,E(m._payload),y)}if(Pr(m)||_r(m))return E!==null?null:f(p,h,m,y,null);$i(p,m)}return null}function _(p,h,m,y,E){if(typeof y=="string"&&y!==""||typeof y=="number")return p=p.get(m)||null,l(h,p,""+y,E);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Mi:return p=p.get(y.key===null?m:y.key)||null,a(h,p,y,E);case Nn:return p=p.get(y.key===null?m:y.key)||null,u(h,p,y,E);case xt:var I=y._init;return _(p,h,m,I(y._payload),E)}if(Pr(y)||_r(y))return p=p.get(m)||null,f(h,p,y,E,null);$i(h,y)}return null}function g(p,h,m,y){for(var E=null,I=null,N=h,x=h=0,ee=null;N!==null&&x<m.length;x++){N.index>x?(ee=N,N=null):ee=N.sibling;var z=d(p,N,m[x],y);if(z===null){N===null&&(N=ee);break}t&&N&&z.alternate===null&&e(p,N),h=s(z,h,x),I===null?E=z:I.sibling=z,I=z,N=ee}if(x===m.length)return n(p,N),K&&tn(p,x),E;if(N===null){for(;x<m.length;x++)N=c(p,m[x],y),N!==null&&(h=s(N,h,x),I===null?E=N:I.sibling=N,I=N);return K&&tn(p,x),E}for(N=r(p,N);x<m.length;x++)ee=_(N,p,x,m[x],y),ee!==null&&(t&&ee.alternate!==null&&N.delete(ee.key===null?x:ee.key),h=s(ee,h,x),I===null?E=ee:I.sibling=ee,I=ee);return t&&N.forEach(function(Qe){return e(p,Qe)}),K&&tn(p,x),E}function v(p,h,m,y){var E=_r(m);if(typeof E!="function")throw Error(w(150));if(m=E.call(m),m==null)throw Error(w(151));for(var I=E=null,N=h,x=h=0,ee=null,z=m.next();N!==null&&!z.done;x++,z=m.next()){N.index>x?(ee=N,N=null):ee=N.sibling;var Qe=d(p,N,z.value,y);if(Qe===null){N===null&&(N=ee);break}t&&N&&Qe.alternate===null&&e(p,N),h=s(Qe,h,x),I===null?E=Qe:I.sibling=Qe,I=Qe,N=ee}if(z.done)return n(p,N),K&&tn(p,x),E;if(N===null){for(;!z.done;x++,z=m.next())z=c(p,z.value,y),z!==null&&(h=s(z,h,x),I===null?E=z:I.sibling=z,I=z);return K&&tn(p,x),E}for(N=r(p,N);!z.done;x++,z=m.next())z=_(N,p,x,z.value,y),z!==null&&(t&&z.alternate!==null&&N.delete(z.key===null?x:z.key),h=s(z,h,x),I===null?E=z:I.sibling=z,I=z);return t&&N.forEach(function(mr){return e(p,mr)}),K&&tn(p,x),E}function T(p,h,m,y){if(typeof m=="object"&&m!==null&&m.type===xn&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Mi:e:{for(var E=m.key,I=h;I!==null;){if(I.key===E){if(E=m.type,E===xn){if(I.tag===7){n(p,I.sibling),h=i(I,m.props.children),h.return=p,p=h;break e}}else if(I.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===xt&&Uc(E)===I.type){n(p,I.sibling),h=i(I,m.props),h.ref=Er(p,I,m),h.return=p,p=h;break e}n(p,I);break}else e(p,I);I=I.sibling}m.type===xn?(h=fn(m.props.children,p.mode,y,m.key),h.return=p,p=h):(y=us(m.type,m.key,m.props,null,p.mode,y),y.ref=Er(p,h,m),y.return=p,p=y)}return o(p);case Nn:e:{for(I=m.key;h!==null;){if(h.key===I)if(h.tag===4&&h.stateNode.containerInfo===m.containerInfo&&h.stateNode.implementation===m.implementation){n(p,h.sibling),h=i(h,m.children||[]),h.return=p,p=h;break e}else{n(p,h);break}else e(p,h);h=h.sibling}h=Zo(m,p.mode,y),h.return=p,p=h}return o(p);case xt:return I=m._init,T(p,h,I(m._payload),y)}if(Pr(m))return g(p,h,m,y);if(_r(m))return v(p,h,m,y);$i(p,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,h!==null&&h.tag===6?(n(p,h.sibling),h=i(h,m),h.return=p,p=h):(n(p,h),h=Jo(m,p.mode,y),h.return=p,p=h),o(p)):n(p,h)}return T}var Zn=wh(!0),Ch=wh(!1),ks=qt(null),Is=null,Fn=null,Qa=null;function Ka(){Qa=Fn=Is=null}function Ya(t){var e=ks.current;Q(ks),t._currentValue=e}function Hl(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function bn(t,e){Is=t,Qa=Fn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ne=!0),t.firstContext=null)}function $e(t){var e=t._currentValue;if(Qa!==t)if(t={context:t,memoizedValue:e,next:null},Fn===null){if(Is===null)throw Error(w(308));Fn=t,Is.dependencies={lanes:0,firstContext:t}}else Fn=Fn.next=t;return e}var ln=null;function qa(t){ln===null?ln=[t]:ln.push(t)}function Eh(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,qa(e)):(n.next=i.next,i.next=n),e.interleaved=n,wt(t,r)}function wt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Rt=!1;function Xa(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sh(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ut(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,U&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,wt(t,n)}return i=r.interleaved,i===null?(e.next=e,qa(r)):(e.next=i.next,i.next=e),r.interleaved=e,wt(t,n)}function rs(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Fa(t,n)}}function jc(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ts(t,e,n,r){var i=t.updateQueue;Rt=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=a))}if(s!==null){var c=i.baseState;o=0,f=u=a=null,l=s;do{var d=l.lane,_=l.eventTime;if((r&d)===d){f!==null&&(f=f.next={eventTime:_,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=t,v=l;switch(d=e,_=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){c=g.call(_,c,d);break e}c=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,d=typeof g=="function"?g.call(_,c,d):g,d==null)break e;c=X({},c,d);break e;case 2:Rt=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[l]:d.push(l))}else _={eventTime:_,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=_,a=c):f=f.next=_,o|=d;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;d=l,l=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(f===null&&(a=c),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);gn|=o,t.lanes=o,t.memoizedState=c}}function Wc(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(w(191,i));i.call(r)}}}var ki={},ut=qt(ki),ii=qt(ki),si=qt(ki);function an(t){if(t===ki)throw Error(w(174));return t}function Ja(t,e){switch(b(si,e),b(ii,t),b(ut,ki),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:El(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=El(e,t)}Q(ut),b(ut,e)}function er(){Q(ut),Q(ii),Q(si)}function kh(t){an(si.current);var e=an(ut.current),n=El(e,t.type);e!==n&&(b(ii,t),b(ut,n))}function Za(t){ii.current===t&&(Q(ut),Q(ii))}var Y=qt(0);function Ns(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Go=[];function eu(){for(var t=0;t<Go.length;t++)Go[t]._workInProgressVersionPrimary=null;Go.length=0}var is=It.ReactCurrentDispatcher,Qo=It.ReactCurrentBatchConfig,mn=0,q=null,ie=null,ue=null,xs=!1,Ur=!1,oi=0,$_=0;function _e(){throw Error(w(321))}function tu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!it(t[n],e[n]))return!1;return!0}function nu(t,e,n,r,i,s){if(mn=s,q=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,is.current=t===null||t.memoizedState===null?Y_:q_,t=n(r,i),Ur){s=0;do{if(Ur=!1,oi=0,25<=s)throw Error(w(301));s+=1,ue=ie=null,e.updateQueue=null,is.current=X_,t=n(r,i)}while(Ur)}if(is.current=Rs,e=ie!==null&&ie.next!==null,mn=0,ue=ie=q=null,xs=!1,e)throw Error(w(300));return t}function ru(){var t=oi!==0;return oi=0,t}function ot(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ue===null?q.memoizedState=ue=t:ue=ue.next=t,ue}function Ge(){if(ie===null){var t=q.alternate;t=t!==null?t.memoizedState:null}else t=ie.next;var e=ue===null?q.memoizedState:ue.next;if(e!==null)ue=e,ie=t;else{if(t===null)throw Error(w(310));ie=t,t={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},ue===null?q.memoizedState=ue=t:ue=ue.next=t}return ue}function li(t,e){return typeof e=="function"?e(t):e}function Ko(t){var e=Ge(),n=e.queue;if(n===null)throw Error(w(311));n.lastRenderedReducer=t;var r=ie,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,u=s;do{var f=u.lane;if((mn&f)===f)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var c={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=c,o=r):a=a.next=c,q.lanes|=f,gn|=f}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=l,it(r,e.memoizedState)||(Ne=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,q.lanes|=s,gn|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Yo(t){var e=Ge(),n=e.queue;if(n===null)throw Error(w(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);it(s,e.memoizedState)||(Ne=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Ih(){}function Th(t,e){var n=q,r=Ge(),i=e(),s=!it(r.memoizedState,i);if(s&&(r.memoizedState=i,Ne=!0),r=r.queue,iu(Rh.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ue!==null&&ue.memoizedState.tag&1){if(n.flags|=2048,ai(9,xh.bind(null,n,r,i,e),void 0,null),fe===null)throw Error(w(349));mn&30||Nh(n,e,i)}return i}function Nh(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=q.updateQueue,e===null?(e={lastEffect:null,stores:null},q.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function xh(t,e,n,r){e.value=n,e.getSnapshot=r,Ph(e)&&Dh(t)}function Rh(t,e,n){return n(function(){Ph(e)&&Dh(t)})}function Ph(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!it(t,n)}catch{return!0}}function Dh(t){var e=wt(t,1);e!==null&&nt(e,t,1,-1)}function Bc(t){var e=ot();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:t},e.queue=t,t=t.dispatch=K_.bind(null,q,t),[e.memoizedState,t]}function ai(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=q.updateQueue,e===null?(e={lastEffect:null,stores:null},q.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Ah(){return Ge().memoizedState}function ss(t,e,n,r){var i=ot();q.flags|=t,i.memoizedState=ai(1|e,n,void 0,r===void 0?null:r)}function so(t,e,n,r){var i=Ge();r=r===void 0?null:r;var s=void 0;if(ie!==null){var o=ie.memoizedState;if(s=o.destroy,r!==null&&tu(r,o.deps)){i.memoizedState=ai(e,n,s,r);return}}q.flags|=t,i.memoizedState=ai(1|e,n,s,r)}function Hc(t,e){return ss(8390656,8,t,e)}function iu(t,e){return so(2048,8,t,e)}function Oh(t,e){return so(4,2,t,e)}function Mh(t,e){return so(4,4,t,e)}function Lh(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Fh(t,e,n){return n=n!=null?n.concat([t]):null,so(4,4,Lh.bind(null,e,t),n)}function su(){}function zh(t,e){var n=Ge();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&tu(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Uh(t,e){var n=Ge();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&tu(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function jh(t,e,n){return mn&21?(it(n,e)||(n=bf(),q.lanes|=n,gn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ne=!0),t.memoizedState=n)}function G_(t,e){var n=W;W=n!==0&&4>n?n:4,t(!0);var r=Qo.transition;Qo.transition={};try{t(!1),e()}finally{W=n,Qo.transition=r}}function Wh(){return Ge().memoizedState}function Q_(t,e,n){var r=Wt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Bh(t))Hh(e,n);else if(n=Eh(t,e,n,r),n!==null){var i=Se();nt(n,t,r,i),Vh(n,e,r)}}function K_(t,e,n){var r=Wt(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Bh(t))Hh(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,it(l,o)){var a=e.interleaved;a===null?(i.next=i,qa(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=Eh(t,e,i,r),n!==null&&(i=Se(),nt(n,t,r,i),Vh(n,e,r))}}function Bh(t){var e=t.alternate;return t===q||e!==null&&e===q}function Hh(t,e){Ur=xs=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Vh(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Fa(t,n)}}var Rs={readContext:$e,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useInsertionEffect:_e,useLayoutEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useMutableSource:_e,useSyncExternalStore:_e,useId:_e,unstable_isNewReconciler:!1},Y_={readContext:$e,useCallback:function(t,e){return ot().memoizedState=[t,e===void 0?null:e],t},useContext:$e,useEffect:Hc,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ss(4194308,4,Lh.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ss(4194308,4,t,e)},useInsertionEffect:function(t,e){return ss(4,2,t,e)},useMemo:function(t,e){var n=ot();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ot();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Q_.bind(null,q,t),[r.memoizedState,t]},useRef:function(t){var e=ot();return t={current:t},e.memoizedState=t},useState:Bc,useDebugValue:su,useDeferredValue:function(t){return ot().memoizedState=t},useTransition:function(){var t=Bc(!1),e=t[0];return t=G_.bind(null,t[1]),ot().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=q,i=ot();if(K){if(n===void 0)throw Error(w(407));n=n()}else{if(n=e(),fe===null)throw Error(w(349));mn&30||Nh(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Hc(Rh.bind(null,r,s,t),[t]),r.flags|=2048,ai(9,xh.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ot(),e=fe.identifierPrefix;if(K){var n=pt,r=ht;n=(r&~(1<<32-tt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=oi++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=$_++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},q_={readContext:$e,useCallback:zh,useContext:$e,useEffect:iu,useImperativeHandle:Fh,useInsertionEffect:Oh,useLayoutEffect:Mh,useMemo:Uh,useReducer:Ko,useRef:Ah,useState:function(){return Ko(li)},useDebugValue:su,useDeferredValue:function(t){var e=Ge();return jh(e,ie.memoizedState,t)},useTransition:function(){var t=Ko(li)[0],e=Ge().memoizedState;return[t,e]},useMutableSource:Ih,useSyncExternalStore:Th,useId:Wh,unstable_isNewReconciler:!1},X_={readContext:$e,useCallback:zh,useContext:$e,useEffect:iu,useImperativeHandle:Fh,useInsertionEffect:Oh,useLayoutEffect:Mh,useMemo:Uh,useReducer:Yo,useRef:Ah,useState:function(){return Yo(li)},useDebugValue:su,useDeferredValue:function(t){var e=Ge();return ie===null?e.memoizedState=t:jh(e,ie.memoizedState,t)},useTransition:function(){var t=Yo(li)[0],e=Ge().memoizedState;return[t,e]},useMutableSource:Ih,useSyncExternalStore:Th,useId:Wh,unstable_isNewReconciler:!1};function Ye(t,e){if(t&&t.defaultProps){e=X({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Vl(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:X({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var oo={isMounted:function(t){return(t=t._reactInternals)?Sn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Se(),i=Wt(t),s=gt(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ut(t,s,i),e!==null&&(nt(e,t,i,r),rs(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Se(),i=Wt(t),s=gt(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ut(t,s,i),e!==null&&(nt(e,t,i,r),rs(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Se(),r=Wt(t),i=gt(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ut(t,i,r),e!==null&&(nt(e,t,r,n),rs(e,t,r))}};function Vc(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ei(n,r)||!ei(i,s):!0}function bh(t,e,n){var r=!1,i=Gt,s=e.contextType;return typeof s=="object"&&s!==null?s=$e(s):(i=De(e)?hn:Ce.current,r=e.contextTypes,s=(r=r!=null)?Xn(t,i):Gt),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=oo,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function bc(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&oo.enqueueReplaceState(e,e.state,null)}function bl(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Xa(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=$e(s):(s=De(e)?hn:Ce.current,i.context=Xn(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Vl(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&oo.enqueueReplaceState(i,i.state,null),Ts(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function tr(t,e){try{var n="",r=e;do n+=Ig(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function qo(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function $l(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var J_=typeof WeakMap=="function"?WeakMap:Map;function $h(t,e,n){n=gt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ds||(Ds=!0,ta=r),$l(t,e)},n}function Gh(t,e,n){n=gt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){$l(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){$l(t,e),typeof r!="function"&&(jt===null?jt=new Set([this]):jt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function $c(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new J_;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=fv.bind(null,t,e,n),e.then(t,t))}function Gc(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Qc(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=gt(-1,1),e.tag=2,Ut(n,e,1))),n.lanes|=1),t)}var Z_=It.ReactCurrentOwner,Ne=!1;function Ee(t,e,n,r){e.child=t===null?Ch(e,null,n,r):Zn(e,t.child,n,r)}function Kc(t,e,n,r,i){n=n.render;var s=e.ref;return bn(e,i),r=nu(t,e,n,r,s,i),n=ru(),t!==null&&!Ne?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ct(t,e,i)):(K&&n&&ba(e),e.flags|=1,Ee(t,e,r,i),e.child)}function Yc(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!hu(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Qh(t,e,s,r,i)):(t=us(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ei,n(o,r)&&t.ref===e.ref)return Ct(t,e,i)}return e.flags|=1,t=Bt(s,r),t.ref=e.ref,t.return=e,e.child=t}function Qh(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ei(s,r)&&t.ref===e.ref)if(Ne=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ne=!0);else return e.lanes=t.lanes,Ct(t,e,i)}return Gl(t,e,n,r,i)}function Kh(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},b(Un,Le),Le|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,b(Un,Le),Le|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,b(Un,Le),Le|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,b(Un,Le),Le|=r;return Ee(t,e,i,n),e.child}function Yh(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Gl(t,e,n,r,i){var s=De(n)?hn:Ce.current;return s=Xn(e,s),bn(e,i),n=nu(t,e,n,r,s,i),r=ru(),t!==null&&!Ne?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ct(t,e,i)):(K&&r&&ba(e),e.flags|=1,Ee(t,e,n,i),e.child)}function qc(t,e,n,r,i){if(De(n)){var s=!0;Cs(e)}else s=!1;if(bn(e,i),e.stateNode===null)os(t,e),bh(e,n,r),bl(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=$e(u):(u=De(n)?hn:Ce.current,u=Xn(e,u));var f=n.getDerivedStateFromProps,c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&bc(e,o,r,u),Rt=!1;var d=e.memoizedState;o.state=d,Ts(e,r,o,i),a=e.memoizedState,l!==r||d!==a||Pe.current||Rt?(typeof f=="function"&&(Vl(e,n,f,r),a=e.memoizedState),(l=Rt||Vc(e,n,l,r,d,a,u))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Sh(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Ye(e.type,l),o.props=u,c=e.pendingProps,d=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=$e(a):(a=De(n)?hn:Ce.current,a=Xn(e,a));var _=n.getDerivedStateFromProps;(f=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==c||d!==a)&&bc(e,o,r,a),Rt=!1,d=e.memoizedState,o.state=d,Ts(e,r,o,i);var g=e.memoizedState;l!==c||d!==g||Pe.current||Rt?(typeof _=="function"&&(Vl(e,n,_,r),g=e.memoizedState),(u=Rt||Vc(e,n,u,r,d,g,a)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Ql(t,e,n,r,s,i)}function Ql(t,e,n,r,i,s){Yh(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Lc(e,n,!1),Ct(t,e,s);r=e.stateNode,Z_.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Zn(e,t.child,null,s),e.child=Zn(e,null,l,s)):Ee(t,e,l,s),e.memoizedState=r.state,i&&Lc(e,n,!0),e.child}function qh(t){var e=t.stateNode;e.pendingContext?Mc(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Mc(t,e.context,!1),Ja(t,e.containerInfo)}function Xc(t,e,n,r,i){return Jn(),Ga(i),e.flags|=256,Ee(t,e,n,r),e.child}var Kl={dehydrated:null,treeContext:null,retryLane:0};function Yl(t){return{baseLanes:t,cachePool:null,transitions:null}}function Xh(t,e,n){var r=e.pendingProps,i=Y.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),b(Y,i&1),t===null)return Bl(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=uo(o,r,0,null),t=fn(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Yl(n),e.memoizedState=Kl,t):ou(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return ev(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=Bt(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Bt(l,s):(s=fn(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Yl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Kl,r}return s=t.child,t=s.sibling,r=Bt(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ou(t,e){return e=uo({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Gi(t,e,n,r){return r!==null&&Ga(r),Zn(e,t.child,null,n),t=ou(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ev(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=qo(Error(w(422))),Gi(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=uo({mode:"visible",children:r.children},i,0,null),s=fn(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Zn(e,t.child,null,o),e.child.memoizedState=Yl(o),e.memoizedState=Kl,s);if(!(e.mode&1))return Gi(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(w(419)),r=qo(s,r,void 0),Gi(t,e,o,r)}if(l=(o&t.childLanes)!==0,Ne||l){if(r=fe,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,wt(t,i),nt(r,t,i,-1))}return fu(),r=qo(Error(w(421))),Gi(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=hv.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Fe=zt(i.nextSibling),ze=e,K=!0,Xe=null,t!==null&&(Be[He++]=ht,Be[He++]=pt,Be[He++]=pn,ht=t.id,pt=t.overflow,pn=e),e=ou(e,r.children),e.flags|=4096,e)}function Jc(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Hl(t.return,e,n)}function Xo(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Jh(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ee(t,e,r.children,n),r=Y.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jc(t,n,e);else if(t.tag===19)Jc(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(b(Y,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ns(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Xo(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ns(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Xo(e,!0,n,null,s);break;case"together":Xo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function os(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ct(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),gn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(w(153));if(e.child!==null){for(t=e.child,n=Bt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Bt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function tv(t,e,n){switch(e.tag){case 3:qh(e),Jn();break;case 5:kh(e);break;case 1:De(e.type)&&Cs(e);break;case 4:Ja(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;b(ks,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(b(Y,Y.current&1),e.flags|=128,null):n&e.child.childLanes?Xh(t,e,n):(b(Y,Y.current&1),t=Ct(t,e,n),t!==null?t.sibling:null);b(Y,Y.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Jh(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),b(Y,Y.current),r)break;return null;case 22:case 23:return e.lanes=0,Kh(t,e,n)}return Ct(t,e,n)}var Zh,ql,ep,tp;Zh=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ql=function(){};ep=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,an(ut.current);var s=null;switch(n){case"input":i=vl(t,i),r=vl(t,r),s=[];break;case"select":i=X({},i,{value:void 0}),r=X({},r,{value:void 0}),s=[];break;case"textarea":i=Cl(t,i),r=Cl(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ys)}Sl(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Qr.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Qr.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&$("scroll",t),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};tp=function(t,e,n,r){n!==r&&(e.flags|=4)};function Sr(t,e){if(!K)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ve(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function nv(t,e,n){var r=e.pendingProps;switch($a(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ve(e),null;case 1:return De(e.type)&&ws(),ve(e),null;case 3:return r=e.stateNode,er(),Q(Pe),Q(Ce),eu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(bi(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Xe!==null&&(ia(Xe),Xe=null))),ql(t,e),ve(e),null;case 5:Za(e);var i=an(si.current);if(n=e.type,t!==null&&e.stateNode!=null)ep(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(w(166));return ve(e),null}if(t=an(ut.current),bi(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[lt]=e,r[ri]=s,t=(e.mode&1)!==0,n){case"dialog":$("cancel",r),$("close",r);break;case"iframe":case"object":case"embed":$("load",r);break;case"video":case"audio":for(i=0;i<Ar.length;i++)$(Ar[i],r);break;case"source":$("error",r);break;case"img":case"image":case"link":$("error",r),$("load",r);break;case"details":$("toggle",r);break;case"input":lc(r,s),$("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},$("invalid",r);break;case"textarea":uc(r,s),$("invalid",r)}Sl(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Vi(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Vi(r.textContent,l,t),i=["children",""+l]):Qr.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&$("scroll",r)}switch(n){case"input":Li(r),ac(r,s,!0);break;case"textarea":Li(r),cc(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ys)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Rf(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[lt]=e,t[ri]=r,Zh(t,e,!1,!1),e.stateNode=t;e:{switch(o=kl(n,r),n){case"dialog":$("cancel",t),$("close",t),i=r;break;case"iframe":case"object":case"embed":$("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ar.length;i++)$(Ar[i],t);i=r;break;case"source":$("error",t),i=r;break;case"img":case"image":case"link":$("error",t),$("load",t),i=r;break;case"details":$("toggle",t),i=r;break;case"input":lc(t,r),i=vl(t,r),$("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=X({},r,{value:void 0}),$("invalid",t);break;case"textarea":uc(t,r),i=Cl(t,r),$("invalid",t);break;default:i=r}Sl(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?Af(t,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Pf(t,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Kr(t,a):typeof a=="number"&&Kr(t,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Qr.hasOwnProperty(s)?a!=null&&s==="onScroll"&&$("scroll",t):a!=null&&Pa(t,s,a,o))}switch(n){case"input":Li(t),ac(t,r,!1);break;case"textarea":Li(t),cc(t);break;case"option":r.value!=null&&t.setAttribute("value",""+$t(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Wn(t,!!r.multiple,s,!1):r.defaultValue!=null&&Wn(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ys)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ve(e),null;case 6:if(t&&e.stateNode!=null)tp(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(w(166));if(n=an(si.current),an(ut.current),bi(e)){if(r=e.stateNode,n=e.memoizedProps,r[lt]=e,(s=r.nodeValue!==n)&&(t=ze,t!==null))switch(t.tag){case 3:Vi(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Vi(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[lt]=e,e.stateNode=r}return ve(e),null;case 13:if(Q(Y),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(K&&Fe!==null&&e.mode&1&&!(e.flags&128))yh(),Jn(),e.flags|=98560,s=!1;else if(s=bi(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(w(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(w(317));s[lt]=e}else Jn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ve(e),s=!1}else Xe!==null&&(ia(Xe),Xe=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Y.current&1?oe===0&&(oe=3):fu())),e.updateQueue!==null&&(e.flags|=4),ve(e),null);case 4:return er(),ql(t,e),t===null&&ti(e.stateNode.containerInfo),ve(e),null;case 10:return Ya(e.type._context),ve(e),null;case 17:return De(e.type)&&ws(),ve(e),null;case 19:if(Q(Y),s=e.memoizedState,s===null)return ve(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Sr(s,!1);else{if(oe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ns(t),o!==null){for(e.flags|=128,Sr(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return b(Y,Y.current&1|2),e.child}t=t.sibling}s.tail!==null&&ne()>nr&&(e.flags|=128,r=!0,Sr(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ns(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Sr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!K)return ve(e),null}else 2*ne()-s.renderingStartTime>nr&&n!==1073741824&&(e.flags|=128,r=!0,Sr(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ne(),e.sibling=null,n=Y.current,b(Y,r?n&1|2:n&1),e):(ve(e),null);case 22:case 23:return du(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Le&1073741824&&(ve(e),e.subtreeFlags&6&&(e.flags|=8192)):ve(e),null;case 24:return null;case 25:return null}throw Error(w(156,e.tag))}function rv(t,e){switch($a(e),e.tag){case 1:return De(e.type)&&ws(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return er(),Q(Pe),Q(Ce),eu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Za(e),null;case 13:if(Q(Y),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(w(340));Jn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Q(Y),null;case 4:return er(),null;case 10:return Ya(e.type._context),null;case 22:case 23:return du(),null;case 24:return null;default:return null}}var Qi=!1,ye=!1,iv=typeof WeakSet=="function"?WeakSet:Set,S=null;function zn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){J(t,e,r)}else n.current=null}function Xl(t,e,n){try{n()}catch(r){J(t,e,r)}}var Zc=!1;function sv(t,e){if(Ml=gs,t=oh(),Va(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,f=0,c=t,d=null;t:for(;;){for(var _;c!==n||i!==0&&c.nodeType!==3||(l=o+i),c!==s||r!==0&&c.nodeType!==3||(a=o+r),c.nodeType===3&&(o+=c.nodeValue.length),(_=c.firstChild)!==null;)d=c,c=_;for(;;){if(c===t)break t;if(d===n&&++u===i&&(l=o),d===s&&++f===r&&(a=o),(_=c.nextSibling)!==null)break;c=d,d=c.parentNode}c=_}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ll={focusedElem:t,selectionRange:n},gs=!1,S=e;S!==null;)if(e=S,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,S=t;else for(;S!==null;){e=S;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,T=g.memoizedState,p=e.stateNode,h=p.getSnapshotBeforeUpdate(e.elementType===e.type?v:Ye(e.type,v),T);p.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(w(163))}}catch(y){J(e,e.return,y)}if(t=e.sibling,t!==null){t.return=e.return,S=t;break}S=e.return}return g=Zc,Zc=!1,g}function jr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Xl(e,n,s)}i=i.next}while(i!==r)}}function lo(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Jl(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function np(t){var e=t.alternate;e!==null&&(t.alternate=null,np(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[lt],delete e[ri],delete e[Ul],delete e[B_],delete e[H_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function rp(t){return t.tag===5||t.tag===3||t.tag===4}function ed(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||rp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zl(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ys));else if(r!==4&&(t=t.child,t!==null))for(Zl(t,e,n),t=t.sibling;t!==null;)Zl(t,e,n),t=t.sibling}function ea(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ea(t,e,n),t=t.sibling;t!==null;)ea(t,e,n),t=t.sibling}var he=null,qe=!1;function Nt(t,e,n){for(n=n.child;n!==null;)ip(t,e,n),n=n.sibling}function ip(t,e,n){if(at&&typeof at.onCommitFiberUnmount=="function")try{at.onCommitFiberUnmount(Zs,n)}catch{}switch(n.tag){case 5:ye||zn(n,e);case 6:var r=he,i=qe;he=null,Nt(t,e,n),he=r,qe=i,he!==null&&(qe?(t=he,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):he.removeChild(n.stateNode));break;case 18:he!==null&&(qe?(t=he,n=n.stateNode,t.nodeType===8?bo(t.parentNode,n):t.nodeType===1&&bo(t,n),Jr(t)):bo(he,n.stateNode));break;case 4:r=he,i=qe,he=n.stateNode.containerInfo,qe=!0,Nt(t,e,n),he=r,qe=i;break;case 0:case 11:case 14:case 15:if(!ye&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Xl(n,e,o),i=i.next}while(i!==r)}Nt(t,e,n);break;case 1:if(!ye&&(zn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){J(n,e,l)}Nt(t,e,n);break;case 21:Nt(t,e,n);break;case 22:n.mode&1?(ye=(r=ye)||n.memoizedState!==null,Nt(t,e,n),ye=r):Nt(t,e,n);break;default:Nt(t,e,n)}}function td(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new iv),e.forEach(function(r){var i=pv.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ke(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:he=l.stateNode,qe=!1;break e;case 3:he=l.stateNode.containerInfo,qe=!0;break e;case 4:he=l.stateNode.containerInfo,qe=!0;break e}l=l.return}if(he===null)throw Error(w(160));ip(s,o,i),he=null,qe=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){J(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)sp(e,t),e=e.sibling}function sp(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ke(e,t),st(t),r&4){try{jr(3,t,t.return),lo(3,t)}catch(v){J(t,t.return,v)}try{jr(5,t,t.return)}catch(v){J(t,t.return,v)}}break;case 1:Ke(e,t),st(t),r&512&&n!==null&&zn(n,n.return);break;case 5:if(Ke(e,t),st(t),r&512&&n!==null&&zn(n,n.return),t.flags&32){var i=t.stateNode;try{Kr(i,"")}catch(v){J(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Nf(i,s),kl(l,o);var u=kl(l,s);for(o=0;o<a.length;o+=2){var f=a[o],c=a[o+1];f==="style"?Af(i,c):f==="dangerouslySetInnerHTML"?Pf(i,c):f==="children"?Kr(i,c):Pa(i,f,c,u)}switch(l){case"input":yl(i,s);break;case"textarea":xf(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var _=s.value;_!=null?Wn(i,!!s.multiple,_,!1):d!==!!s.multiple&&(s.defaultValue!=null?Wn(i,!!s.multiple,s.defaultValue,!0):Wn(i,!!s.multiple,s.multiple?[]:"",!1))}i[ri]=s}catch(v){J(t,t.return,v)}}break;case 6:if(Ke(e,t),st(t),r&4){if(t.stateNode===null)throw Error(w(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){J(t,t.return,v)}}break;case 3:if(Ke(e,t),st(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Jr(e.containerInfo)}catch(v){J(t,t.return,v)}break;case 4:Ke(e,t),st(t);break;case 13:Ke(e,t),st(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(uu=ne())),r&4&&td(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(ye=(u=ye)||f,Ke(e,t),ye=u):Ke(e,t),st(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(S=t,f=t.child;f!==null;){for(c=S=f;S!==null;){switch(d=S,_=d.child,d.tag){case 0:case 11:case 14:case 15:jr(4,d,d.return);break;case 1:zn(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){J(r,n,v)}}break;case 5:zn(d,d.return);break;case 22:if(d.memoizedState!==null){rd(c);continue}}_!==null?(_.return=d,S=_):rd(c)}f=f.sibling}e:for(f=null,c=t;;){if(c.tag===5){if(f===null){f=c;try{i=c.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=c.stateNode,a=c.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Df("display",o))}catch(v){J(t,t.return,v)}}}else if(c.tag===6){if(f===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(v){J(t,t.return,v)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===t)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:Ke(e,t),st(t),r&4&&td(t);break;case 21:break;default:Ke(e,t),st(t)}}function st(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(rp(n)){var r=n;break e}n=n.return}throw Error(w(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Kr(i,""),r.flags&=-33);var s=ed(t);ea(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=ed(t);Zl(t,l,o);break;default:throw Error(w(161))}}catch(a){J(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ov(t,e,n){S=t,op(t)}function op(t,e,n){for(var r=(t.mode&1)!==0;S!==null;){var i=S,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Qi;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||ye;l=Qi;var u=ye;if(Qi=o,(ye=a)&&!u)for(S=i;S!==null;)o=S,a=o.child,o.tag===22&&o.memoizedState!==null?id(i):a!==null?(a.return=o,S=a):id(i);for(;s!==null;)S=s,op(s),s=s.sibling;S=i,Qi=l,ye=u}nd(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,S=s):nd(t)}}function nd(t){for(;S!==null;){var e=S;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ye||lo(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ye)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ye(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Wc(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Wc(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var c=f.dehydrated;c!==null&&Jr(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(w(163))}ye||e.flags&512&&Jl(e)}catch(d){J(e,e.return,d)}}if(e===t){S=null;break}if(n=e.sibling,n!==null){n.return=e.return,S=n;break}S=e.return}}function rd(t){for(;S!==null;){var e=S;if(e===t){S=null;break}var n=e.sibling;if(n!==null){n.return=e.return,S=n;break}S=e.return}}function id(t){for(;S!==null;){var e=S;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{lo(4,e)}catch(a){J(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){J(e,i,a)}}var s=e.return;try{Jl(e)}catch(a){J(e,s,a)}break;case 5:var o=e.return;try{Jl(e)}catch(a){J(e,o,a)}}}catch(a){J(e,e.return,a)}if(e===t){S=null;break}var l=e.sibling;if(l!==null){l.return=e.return,S=l;break}S=e.return}}var lv=Math.ceil,Ps=It.ReactCurrentDispatcher,lu=It.ReactCurrentOwner,be=It.ReactCurrentBatchConfig,U=0,fe=null,re=null,me=0,Le=0,Un=qt(0),oe=0,ui=null,gn=0,ao=0,au=0,Wr=null,Te=null,uu=0,nr=1/0,ct=null,Ds=!1,ta=null,jt=null,Ki=!1,Ot=null,As=0,Br=0,na=null,ls=-1,as=0;function Se(){return U&6?ne():ls!==-1?ls:ls=ne()}function Wt(t){return t.mode&1?U&2&&me!==0?me&-me:b_.transition!==null?(as===0&&(as=bf()),as):(t=W,t!==0||(t=window.event,t=t===void 0?16:Xf(t.type)),t):1}function nt(t,e,n,r){if(50<Br)throw Br=0,na=null,Error(w(185));Ci(t,n,r),(!(U&2)||t!==fe)&&(t===fe&&(!(U&2)&&(ao|=n),oe===4&&Dt(t,me)),Ae(t,r),n===1&&U===0&&!(e.mode&1)&&(nr=ne()+500,io&&Xt()))}function Ae(t,e){var n=t.callbackNode;bg(t,e);var r=ms(t,t===fe?me:0);if(r===0)n!==null&&hc(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&hc(n),e===1)t.tag===0?V_(sd.bind(null,t)):gh(sd.bind(null,t)),j_(function(){!(U&6)&&Xt()}),n=null;else{switch($f(r)){case 1:n=La;break;case 4:n=Hf;break;case 16:n=ps;break;case 536870912:n=Vf;break;default:n=ps}n=pp(n,lp.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function lp(t,e){if(ls=-1,as=0,U&6)throw Error(w(327));var n=t.callbackNode;if($n()&&t.callbackNode!==n)return null;var r=ms(t,t===fe?me:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Os(t,r);else{e=r;var i=U;U|=2;var s=up();(fe!==t||me!==e)&&(ct=null,nr=ne()+500,dn(t,e));do try{cv();break}catch(l){ap(t,l)}while(!0);Ka(),Ps.current=s,U=i,re!==null?e=0:(fe=null,me=0,e=oe)}if(e!==0){if(e===2&&(i=Rl(t),i!==0&&(r=i,e=ra(t,i))),e===1)throw n=ui,dn(t,0),Dt(t,r),Ae(t,ne()),n;if(e===6)Dt(t,r);else{if(i=t.current.alternate,!(r&30)&&!av(i)&&(e=Os(t,r),e===2&&(s=Rl(t),s!==0&&(r=s,e=ra(t,s))),e===1))throw n=ui,dn(t,0),Dt(t,r),Ae(t,ne()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(w(345));case 2:nn(t,Te,ct);break;case 3:if(Dt(t,r),(r&130023424)===r&&(e=uu+500-ne(),10<e)){if(ms(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Se(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=zl(nn.bind(null,t,Te,ct),e);break}nn(t,Te,ct);break;case 4:if(Dt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-tt(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ne()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*lv(r/1960))-r,10<r){t.timeoutHandle=zl(nn.bind(null,t,Te,ct),r);break}nn(t,Te,ct);break;case 5:nn(t,Te,ct);break;default:throw Error(w(329))}}}return Ae(t,ne()),t.callbackNode===n?lp.bind(null,t):null}function ra(t,e){var n=Wr;return t.current.memoizedState.isDehydrated&&(dn(t,e).flags|=256),t=Os(t,e),t!==2&&(e=Te,Te=n,e!==null&&ia(e)),t}function ia(t){Te===null?Te=t:Te.push.apply(Te,t)}function av(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!it(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Dt(t,e){for(e&=~au,e&=~ao,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-tt(e),r=1<<n;t[n]=-1,e&=~r}}function sd(t){if(U&6)throw Error(w(327));$n();var e=ms(t,0);if(!(e&1))return Ae(t,ne()),null;var n=Os(t,e);if(t.tag!==0&&n===2){var r=Rl(t);r!==0&&(e=r,n=ra(t,r))}if(n===1)throw n=ui,dn(t,0),Dt(t,e),Ae(t,ne()),n;if(n===6)throw Error(w(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,nn(t,Te,ct),Ae(t,ne()),null}function cu(t,e){var n=U;U|=1;try{return t(e)}finally{U=n,U===0&&(nr=ne()+500,io&&Xt())}}function _n(t){Ot!==null&&Ot.tag===0&&!(U&6)&&$n();var e=U;U|=1;var n=be.transition,r=W;try{if(be.transition=null,W=1,t)return t()}finally{W=r,be.transition=n,U=e,!(U&6)&&Xt()}}function du(){Le=Un.current,Q(Un)}function dn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,U_(n)),re!==null)for(n=re.return;n!==null;){var r=n;switch($a(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ws();break;case 3:er(),Q(Pe),Q(Ce),eu();break;case 5:Za(r);break;case 4:er();break;case 13:Q(Y);break;case 19:Q(Y);break;case 10:Ya(r.type._context);break;case 22:case 23:du()}n=n.return}if(fe=t,re=t=Bt(t.current,null),me=Le=e,oe=0,ui=null,au=ao=gn=0,Te=Wr=null,ln!==null){for(e=0;e<ln.length;e++)if(n=ln[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ln=null}return t}function ap(t,e){do{var n=re;try{if(Ka(),is.current=Rs,xs){for(var r=q.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}xs=!1}if(mn=0,ue=ie=q=null,Ur=!1,oi=0,lu.current=null,n===null||n.return===null){oe=1,ui=e,re=null;break}e:{var s=t,o=n.return,l=n,a=e;if(e=me,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,f=l,c=f.tag;if(!(f.mode&1)&&(c===0||c===11||c===15)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var _=Gc(o);if(_!==null){_.flags&=-257,Qc(_,o,l,s,e),_.mode&1&&$c(s,u,e),e=_,a=u;var g=e.updateQueue;if(g===null){var v=new Set;v.add(a),e.updateQueue=v}else g.add(a);break e}else{if(!(e&1)){$c(s,u,e),fu();break e}a=Error(w(426))}}else if(K&&l.mode&1){var T=Gc(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),Qc(T,o,l,s,e),Ga(tr(a,l));break e}}s=a=tr(a,l),oe!==4&&(oe=2),Wr===null?Wr=[s]:Wr.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var p=$h(s,a,e);jc(s,p);break e;case 1:l=a;var h=s.type,m=s.stateNode;if(!(s.flags&128)&&(typeof h.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(jt===null||!jt.has(m)))){s.flags|=65536,e&=-e,s.lanes|=e;var y=Gh(s,l,e);jc(s,y);break e}}s=s.return}while(s!==null)}dp(n)}catch(E){e=E,re===n&&n!==null&&(re=n=n.return);continue}break}while(!0)}function up(){var t=Ps.current;return Ps.current=Rs,t===null?Rs:t}function fu(){(oe===0||oe===3||oe===2)&&(oe=4),fe===null||!(gn&268435455)&&!(ao&268435455)||Dt(fe,me)}function Os(t,e){var n=U;U|=2;var r=up();(fe!==t||me!==e)&&(ct=null,dn(t,e));do try{uv();break}catch(i){ap(t,i)}while(!0);if(Ka(),U=n,Ps.current=r,re!==null)throw Error(w(261));return fe=null,me=0,oe}function uv(){for(;re!==null;)cp(re)}function cv(){for(;re!==null&&!Lg();)cp(re)}function cp(t){var e=hp(t.alternate,t,Le);t.memoizedProps=t.pendingProps,e===null?dp(t):re=e,lu.current=null}function dp(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=rv(n,e),n!==null){n.flags&=32767,re=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{oe=6,re=null;return}}else if(n=nv(n,e,Le),n!==null){re=n;return}if(e=e.sibling,e!==null){re=e;return}re=e=t}while(e!==null);oe===0&&(oe=5)}function nn(t,e,n){var r=W,i=be.transition;try{be.transition=null,W=1,dv(t,e,n,r)}finally{be.transition=i,W=r}return null}function dv(t,e,n,r){do $n();while(Ot!==null);if(U&6)throw Error(w(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(w(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if($g(t,s),t===fe&&(re=fe=null,me=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ki||(Ki=!0,pp(ps,function(){return $n(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=be.transition,be.transition=null;var o=W;W=1;var l=U;U|=4,lu.current=null,sv(t,n),sp(n,t),D_(Ll),gs=!!Ml,Ll=Ml=null,t.current=n,ov(n),Fg(),U=l,W=o,be.transition=s}else t.current=n;if(Ki&&(Ki=!1,Ot=t,As=i),s=t.pendingLanes,s===0&&(jt=null),jg(n.stateNode),Ae(t,ne()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ds)throw Ds=!1,t=ta,ta=null,t;return As&1&&t.tag!==0&&$n(),s=t.pendingLanes,s&1?t===na?Br++:(Br=0,na=t):Br=0,Xt(),null}function $n(){if(Ot!==null){var t=$f(As),e=be.transition,n=W;try{if(be.transition=null,W=16>t?16:t,Ot===null)var r=!1;else{if(t=Ot,Ot=null,As=0,U&6)throw Error(w(331));var i=U;for(U|=4,S=t.current;S!==null;){var s=S,o=s.child;if(S.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(S=u;S!==null;){var f=S;switch(f.tag){case 0:case 11:case 15:jr(8,f,s)}var c=f.child;if(c!==null)c.return=f,S=c;else for(;S!==null;){f=S;var d=f.sibling,_=f.return;if(np(f),f===u){S=null;break}if(d!==null){d.return=_,S=d;break}S=_}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var T=v.sibling;v.sibling=null,v=T}while(v!==null)}}S=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,S=o;else e:for(;S!==null;){if(s=S,s.flags&2048)switch(s.tag){case 0:case 11:case 15:jr(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,S=p;break e}S=s.return}}var h=t.current;for(S=h;S!==null;){o=S;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,S=m;else e:for(o=h;S!==null;){if(l=S,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:lo(9,l)}}catch(E){J(l,l.return,E)}if(l===o){S=null;break e}var y=l.sibling;if(y!==null){y.return=l.return,S=y;break e}S=l.return}}if(U=i,Xt(),at&&typeof at.onPostCommitFiberRoot=="function")try{at.onPostCommitFiberRoot(Zs,t)}catch{}r=!0}return r}finally{W=n,be.transition=e}}return!1}function od(t,e,n){e=tr(n,e),e=$h(t,e,1),t=Ut(t,e,1),e=Se(),t!==null&&(Ci(t,1,e),Ae(t,e))}function J(t,e,n){if(t.tag===3)od(t,t,n);else for(;e!==null;){if(e.tag===3){od(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(jt===null||!jt.has(r))){t=tr(n,t),t=Gh(e,t,1),e=Ut(e,t,1),t=Se(),e!==null&&(Ci(e,1,t),Ae(e,t));break}}e=e.return}}function fv(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Se(),t.pingedLanes|=t.suspendedLanes&n,fe===t&&(me&n)===n&&(oe===4||oe===3&&(me&130023424)===me&&500>ne()-uu?dn(t,0):au|=n),Ae(t,e)}function fp(t,e){e===0&&(t.mode&1?(e=Ui,Ui<<=1,!(Ui&130023424)&&(Ui=4194304)):e=1);var n=Se();t=wt(t,e),t!==null&&(Ci(t,e,n),Ae(t,n))}function hv(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),fp(t,n)}function pv(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(w(314))}r!==null&&r.delete(e),fp(t,n)}var hp;hp=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Pe.current)Ne=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ne=!1,tv(t,e,n);Ne=!!(t.flags&131072)}else Ne=!1,K&&e.flags&1048576&&_h(e,Ss,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;os(t,e),t=e.pendingProps;var i=Xn(e,Ce.current);bn(e,n),i=nu(null,e,r,t,i,n);var s=ru();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,De(r)?(s=!0,Cs(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Xa(e),i.updater=oo,e.stateNode=i,i._reactInternals=e,bl(e,r,t,n),e=Ql(null,e,r,!0,s,n)):(e.tag=0,K&&s&&ba(e),Ee(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(os(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=gv(r),t=Ye(r,t),i){case 0:e=Gl(null,e,r,t,n);break e;case 1:e=qc(null,e,r,t,n);break e;case 11:e=Kc(null,e,r,t,n);break e;case 14:e=Yc(null,e,r,Ye(r.type,t),n);break e}throw Error(w(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ye(r,i),Gl(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ye(r,i),qc(t,e,r,i,n);case 3:e:{if(qh(e),t===null)throw Error(w(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Sh(t,e),Ts(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=tr(Error(w(423)),e),e=Xc(t,e,r,n,i);break e}else if(r!==i){i=tr(Error(w(424)),e),e=Xc(t,e,r,n,i);break e}else for(Fe=zt(e.stateNode.containerInfo.firstChild),ze=e,K=!0,Xe=null,n=Ch(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Jn(),r===i){e=Ct(t,e,n);break e}Ee(t,e,r,n)}e=e.child}return e;case 5:return kh(e),t===null&&Bl(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Fl(r,i)?o=null:s!==null&&Fl(r,s)&&(e.flags|=32),Yh(t,e),Ee(t,e,o,n),e.child;case 6:return t===null&&Bl(e),null;case 13:return Xh(t,e,n);case 4:return Ja(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Zn(e,null,r,n):Ee(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ye(r,i),Kc(t,e,r,i,n);case 7:return Ee(t,e,e.pendingProps,n),e.child;case 8:return Ee(t,e,e.pendingProps.children,n),e.child;case 12:return Ee(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,b(ks,r._currentValue),r._currentValue=o,s!==null)if(it(s.value,o)){if(s.children===i.children&&!Pe.current){e=Ct(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=gt(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?a.next=a:(a.next=f.next,f.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Hl(s.return,n,e),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(w(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Hl(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ee(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,bn(e,n),i=$e(i),r=r(i),e.flags|=1,Ee(t,e,r,n),e.child;case 14:return r=e.type,i=Ye(r,e.pendingProps),i=Ye(r.type,i),Yc(t,e,r,i,n);case 15:return Qh(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ye(r,i),os(t,e),e.tag=1,De(r)?(t=!0,Cs(e)):t=!1,bn(e,n),bh(e,r,i),bl(e,r,i,n),Ql(null,e,r,!0,t,n);case 19:return Jh(t,e,n);case 22:return Kh(t,e,n)}throw Error(w(156,e.tag))};function pp(t,e){return Bf(t,e)}function mv(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ve(t,e,n,r){return new mv(t,e,n,r)}function hu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gv(t){if(typeof t=="function")return hu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Aa)return 11;if(t===Oa)return 14}return 2}function Bt(t,e){var n=t.alternate;return n===null?(n=Ve(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function us(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")hu(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case xn:return fn(n.children,i,s,e);case Da:o=8,i|=8;break;case pl:return t=Ve(12,n,e,i|2),t.elementType=pl,t.lanes=s,t;case ml:return t=Ve(13,n,e,i),t.elementType=ml,t.lanes=s,t;case gl:return t=Ve(19,n,e,i),t.elementType=gl,t.lanes=s,t;case kf:return uo(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ef:o=10;break e;case Sf:o=9;break e;case Aa:o=11;break e;case Oa:o=14;break e;case xt:o=16,r=null;break e}throw Error(w(130,t==null?t:typeof t,""))}return e=Ve(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function fn(t,e,n,r){return t=Ve(7,t,r,e),t.lanes=n,t}function uo(t,e,n,r){return t=Ve(22,t,r,e),t.elementType=kf,t.lanes=n,t.stateNode={isHidden:!1},t}function Jo(t,e,n){return t=Ve(6,t,null,e),t.lanes=n,t}function Zo(t,e,n){return e=Ve(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function _v(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oo(0),this.expirationTimes=Oo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oo(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function pu(t,e,n,r,i,s,o,l,a){return t=new _v(t,e,n,l,a),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ve(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xa(s),t}function vv(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Nn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function mp(t){if(!t)return Gt;t=t._reactInternals;e:{if(Sn(t)!==t||t.tag!==1)throw Error(w(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(De(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(w(171))}if(t.tag===1){var n=t.type;if(De(n))return mh(t,n,e)}return e}function gp(t,e,n,r,i,s,o,l,a){return t=pu(n,r,!0,t,i,s,o,l,a),t.context=mp(null),n=t.current,r=Se(),i=Wt(n),s=gt(r,i),s.callback=e??null,Ut(n,s,i),t.current.lanes=i,Ci(t,i,r),Ae(t,r),t}function co(t,e,n,r){var i=e.current,s=Se(),o=Wt(i);return n=mp(n),e.context===null?e.context=n:e.pendingContext=n,e=gt(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ut(i,e,o),t!==null&&(nt(t,i,o,s),rs(t,i,o)),o}function Ms(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ld(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function mu(t,e){ld(t,e),(t=t.alternate)&&ld(t,e)}function yv(){return null}var _p=typeof reportError=="function"?reportError:function(t){console.error(t)};function gu(t){this._internalRoot=t}fo.prototype.render=gu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(w(409));co(t,e,null,null)};fo.prototype.unmount=gu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;_n(function(){co(null,t,null,null)}),e[yt]=null}};function fo(t){this._internalRoot=t}fo.prototype.unstable_scheduleHydration=function(t){if(t){var e=Kf();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Pt.length&&e!==0&&e<Pt[n].priority;n++);Pt.splice(n,0,t),n===0&&qf(t)}};function _u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ho(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ad(){}function wv(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Ms(o);s.call(u)}}var o=gp(e,r,t,0,null,!1,!1,"",ad);return t._reactRootContainer=o,t[yt]=o.current,ti(t.nodeType===8?t.parentNode:t),_n(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=Ms(a);l.call(u)}}var a=pu(t,0,!1,null,null,!1,!1,"",ad);return t._reactRootContainer=a,t[yt]=a.current,ti(t.nodeType===8?t.parentNode:t),_n(function(){co(e,a,n,r)}),a}function po(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=Ms(o);l.call(a)}}co(e,o,t,i)}else o=wv(n,e,t,i,r);return Ms(o)}Gf=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Dr(e.pendingLanes);n!==0&&(Fa(e,n|1),Ae(e,ne()),!(U&6)&&(nr=ne()+500,Xt()))}break;case 13:_n(function(){var r=wt(t,1);if(r!==null){var i=Se();nt(r,t,1,i)}}),mu(t,1)}};za=function(t){if(t.tag===13){var e=wt(t,134217728);if(e!==null){var n=Se();nt(e,t,134217728,n)}mu(t,134217728)}};Qf=function(t){if(t.tag===13){var e=Wt(t),n=wt(t,e);if(n!==null){var r=Se();nt(n,t,e,r)}mu(t,e)}};Kf=function(){return W};Yf=function(t,e){var n=W;try{return W=t,e()}finally{W=n}};Tl=function(t,e,n){switch(e){case"input":if(yl(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ro(r);if(!i)throw Error(w(90));Tf(r),yl(r,i)}}}break;case"textarea":xf(t,n);break;case"select":e=n.value,e!=null&&Wn(t,!!n.multiple,e,!1)}};Lf=cu;Ff=_n;var Cv={usingClientEntryPoint:!1,Events:[Si,An,ro,Of,Mf,cu]},kr={findFiberByHostInstance:on,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ev={bundleType:kr.bundleType,version:kr.version,rendererPackageName:kr.rendererPackageName,rendererConfig:kr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:It.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=jf(t),t===null?null:t.stateNode},findFiberByHostInstance:kr.findFiberByHostInstance||yv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yi.isDisabled&&Yi.supportsFiber)try{Zs=Yi.inject(Ev),at=Yi}catch{}}je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cv;je.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_u(e))throw Error(w(200));return vv(t,e,null,n)};je.createRoot=function(t,e){if(!_u(t))throw Error(w(299));var n=!1,r="",i=_p;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=pu(t,1,!1,null,null,n,!1,r,i),t[yt]=e.current,ti(t.nodeType===8?t.parentNode:t),new gu(e)};je.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(w(188)):(t=Object.keys(t).join(","),Error(w(268,t)));return t=jf(e),t=t===null?null:t.stateNode,t};je.flushSync=function(t){return _n(t)};je.hydrate=function(t,e,n){if(!ho(e))throw Error(w(200));return po(null,t,e,!0,n)};je.hydrateRoot=function(t,e,n){if(!_u(t))throw Error(w(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=_p;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=gp(e,null,t,1,n??null,i,!1,s,o),t[yt]=e.current,ti(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new fo(e)};je.render=function(t,e,n){if(!ho(e))throw Error(w(200));return po(null,t,e,!1,n)};je.unmountComponentAtNode=function(t){if(!ho(t))throw Error(w(40));return t._reactRootContainer?(_n(function(){po(null,null,t,!1,function(){t._reactRootContainer=null,t[yt]=null})}),!0):!1};je.unstable_batchedUpdates=cu;je.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ho(n))throw Error(w(200));if(t==null||t._reactInternals===void 0)throw Error(w(38));return po(t,e,n,!1,r)};je.version="18.3.1-next-f1338f8080-20240426";function vp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vp)}catch(t){console.error(t)}}vp(),vf.exports=je;var Sv=vf.exports,ud=Sv;fl.createRoot=ud.createRoot,fl.hydrateRoot=ud.hydrateRoot;var cd={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C=function(t,e){if(!t)throw cr(e)},cr=function(t){return new Error("Firebase Database ("+yp.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},kv=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(a&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},vu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,a=i+2<t.length,u=a?t[i+2]:0,f=s>>2,c=(s&3)<<4|l>>4;let d=(l&15)<<2|u>>6,_=u&63;a||(_=64,o||(d=64)),r.push(n[f],n[c],n[d],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(wp(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):kv(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const c=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||u==null||c==null)throw new Iv;const d=s<<2|l>>4;if(r.push(d),u!==64){const _=l<<4&240|u>>2;if(r.push(_),c!==64){const g=u<<6&192|c;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Iv extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Cp=function(t){const e=wp(t);return vu.encodeByteArray(e,!0)},Ls=function(t){return Cp(t).replace(/\./g,"")},sa=function(t){try{return vu.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(t){return Ep(void 0,t)}function Ep(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Nv(n)||(t[n]=Ep(t[n],e[n]));return t}function Nv(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv=()=>xv().__FIREBASE_DEFAULTS__,Pv=()=>{if(typeof process>"u"||typeof cd>"u")return;const t=cd.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Dv=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&sa(t[1]);return e&&JSON.parse(e)},Sp=()=>{try{return Rv()||Pv()||Dv()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Av=t=>{var e,n;return(n=(e=Sp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Ov=t=>{const e=Av(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},kp=()=>{var t;return(t=Sp())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ls(JSON.stringify(n)),Ls(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ip(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lv())}function Fv(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zv(){return yp.NODE_ADMIN===!0}function Uv(){try{return typeof indexedDB=="object"}catch{return!1}}function jv(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="FirebaseError";class Ii extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Wv,Object.setPrototypeOf(this,Ii.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tp.prototype.create)}}class Tp{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Bv(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Ii(i,l,r)}}function Bv(t,e){return t.replace(Hv,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Hv=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(t){return JSON.parse(t)}function de(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=ci(sa(s[0])||""),n=ci(sa(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},Vv=function(t){const e=Np(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},bv=function(t){const e=Np(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function rr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function dd(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fs(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function oa(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(fd(s)&&fd(o)){if(!oa(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function fd(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $v(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let c=0;c<16;c++)r[c]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let c=0;c<16;c++)r[c]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let c=16;c<80;c++){const d=r[c-3]^r[c-8]^r[c-14]^r[c-16];r[c]=(d<<1|d>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],a=this.chain_[4],u,f;for(let c=0;c<80;c++){c<40?c<20?(u=l^s&(o^l),f=1518500249):(u=s^o^l,f=1859775393):c<60?(u=s&o|l&(s|o),f=2400959708):(u=s^o^l,f=3395469782);const d=(i<<5|i>>>27)+u+a+f+r[c]&4294967295;a=l,l=o,o=(s<<30|s>>>2)&4294967295,s=i,i=d}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function yu(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,C(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},go=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(t){return t&&t._delegate?t._delegate:t}class di{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new mo;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qv(e))try{this.getOrInitializeService({instanceIdentifier:rn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=rn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=rn){return this.instances.has(e)}getOptions(e=rn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Yv(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=rn){return this.component?this.component.multipleInstances?e:rn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Yv(t){return t===rn?void 0:t}function qv(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Kv(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var H;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(H||(H={}));const Jv={debug:H.DEBUG,verbose:H.VERBOSE,info:H.INFO,warn:H.WARN,error:H.ERROR,silent:H.SILENT},Zv=H.INFO,ey={[H.DEBUG]:"log",[H.VERBOSE]:"log",[H.INFO]:"info",[H.WARN]:"warn",[H.ERROR]:"error"},ty=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=ey[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xp{constructor(e){this.name=e,this._logLevel=Zv,this._logHandler=ty,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in H))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Jv[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,H.DEBUG,...e),this._logHandler(this,H.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,H.VERBOSE,...e),this._logHandler(this,H.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,H.INFO,...e),this._logHandler(this,H.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,H.WARN,...e),this._logHandler(this,H.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,H.ERROR,...e),this._logHandler(this,H.ERROR,...e)}}const ny=(t,e)=>e.some(n=>t instanceof n);let hd,pd;function ry(){return hd||(hd=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iy(){return pd||(pd=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Rp=new WeakMap,la=new WeakMap,Pp=new WeakMap,el=new WeakMap,wu=new WeakMap;function sy(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ht(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Rp.set(n,t)}).catch(()=>{}),wu.set(e,t),e}function oy(t){if(la.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});la.set(t,e)}let aa={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return la.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Pp.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ht(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ly(t){aa=t(aa)}function ay(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(tl(this),e,...n);return Pp.set(r,e.sort?e.sort():[e]),Ht(r)}:iy().includes(t)?function(...e){return t.apply(tl(this),e),Ht(Rp.get(this))}:function(...e){return Ht(t.apply(tl(this),e))}}function uy(t){return typeof t=="function"?ay(t):(t instanceof IDBTransaction&&oy(t),ny(t,ry())?new Proxy(t,aa):t)}function Ht(t){if(t instanceof IDBRequest)return sy(t);if(el.has(t))return el.get(t);const e=uy(t);return e!==t&&(el.set(t,e),wu.set(e,t)),e}const tl=t=>wu.get(t);function cy(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Ht(o);return r&&o.addEventListener("upgradeneeded",a=>{r(Ht(o.result),a.oldVersion,a.newVersion,Ht(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const dy=["get","getKey","getAll","getAllKeys","count"],fy=["put","add","delete","clear"],nl=new Map;function md(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(nl.get(e))return nl.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=fy.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||dy.includes(n)))return;const s=async function(o,...l){const a=this.transaction(o,i?"readwrite":"readonly");let u=a.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&a.done]))[0]};return nl.set(e,s),s}ly(t=>({...t,get:(e,n,r)=>md(e,n)||t.get(e,n,r),has:(e,n)=>!!md(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(py(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function py(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ua="@firebase/app",gd="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Et=new xp("@firebase/app"),my="@firebase/app-compat",gy="@firebase/analytics-compat",_y="@firebase/analytics",vy="@firebase/app-check-compat",yy="@firebase/app-check",wy="@firebase/auth",Cy="@firebase/auth-compat",Ey="@firebase/database",Sy="@firebase/data-connect",ky="@firebase/database-compat",Iy="@firebase/functions",Ty="@firebase/functions-compat",Ny="@firebase/installations",xy="@firebase/installations-compat",Ry="@firebase/messaging",Py="@firebase/messaging-compat",Dy="@firebase/performance",Ay="@firebase/performance-compat",Oy="@firebase/remote-config",My="@firebase/remote-config-compat",Ly="@firebase/storage",Fy="@firebase/storage-compat",zy="@firebase/firestore",Uy="@firebase/vertexai-preview",jy="@firebase/firestore-compat",Wy="firebase",By="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="[DEFAULT]",Hy={[ua]:"fire-core",[my]:"fire-core-compat",[_y]:"fire-analytics",[gy]:"fire-analytics-compat",[yy]:"fire-app-check",[vy]:"fire-app-check-compat",[wy]:"fire-auth",[Cy]:"fire-auth-compat",[Ey]:"fire-rtdb",[Sy]:"fire-data-connect",[ky]:"fire-rtdb-compat",[Iy]:"fire-fn",[Ty]:"fire-fn-compat",[Ny]:"fire-iid",[xy]:"fire-iid-compat",[Ry]:"fire-fcm",[Py]:"fire-fcm-compat",[Dy]:"fire-perf",[Ay]:"fire-perf-compat",[Oy]:"fire-rc",[My]:"fire-rc-compat",[Ly]:"fire-gcs",[Fy]:"fire-gcs-compat",[zy]:"fire-fst",[jy]:"fire-fst-compat",[Uy]:"fire-vertex","fire-js":"fire-js",[Wy]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs=new Map,Vy=new Map,da=new Map;function _d(t,e){try{t.container.addComponent(e)}catch(n){Et.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Us(t){const e=t.name;if(da.has(e))return Et.debug(`There were multiple attempts to register component ${e}.`),!1;da.set(e,t);for(const n of zs.values())_d(n,t);for(const n of Vy.values())_d(n,t);return!0}function by(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vt=new Tp("app","Firebase",$y);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new di("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vt.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy=By;function Dp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ca,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Vt.create("bad-app-name",{appName:String(i)});if(n||(n=kp()),!n)throw Vt.create("no-options");const s=zs.get(i);if(s){if(oa(n,s.options)&&oa(r,s.config))return s;throw Vt.create("duplicate-app",{appName:i})}const o=new Xv(i);for(const a of da.values())o.addComponent(a);const l=new Gy(n,r,o);return zs.set(i,l),l}function Ky(t=ca){const e=zs.get(t);if(!e&&t===ca&&kp())return Dp();if(!e)throw Vt.create("no-app",{appName:t});return e}function Gn(t,e,n){var r;let i=(r=Hy[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Et.warn(l.join(" "));return}Us(new di(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy="firebase-heartbeat-database",qy=1,fi="firebase-heartbeat-store";let rl=null;function Ap(){return rl||(rl=cy(Yy,qy,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(fi)}catch(n){console.warn(n)}}}}).catch(t=>{throw Vt.create("idb-open",{originalErrorMessage:t.message})})),rl}async function Xy(t){try{const n=(await Ap()).transaction(fi),r=await n.objectStore(fi).get(Op(t));return await n.done,r}catch(e){if(e instanceof Ii)Et.warn(e.message);else{const n=Vt.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Et.warn(n.message)}}}async function vd(t,e){try{const r=(await Ap()).transaction(fi,"readwrite");await r.objectStore(fi).put(e,Op(t)),await r.done}catch(n){if(n instanceof Ii)Et.warn(n.message);else{const r=Vt.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Et.warn(r.message)}}}function Op(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy=1024,Zy=30*24*60*60*1e3;class e0{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new n0(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=yd();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=Zy}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Et.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=yd(),{heartbeatsToSend:r,unsentEntries:i}=t0(this._heartbeatsCache.heartbeats),s=Ls(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Et.warn(n),""}}}function yd(){return new Date().toISOString().substring(0,10)}function t0(t,e=Jy){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),wd(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),wd(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class n0{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Uv()?jv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Xy(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return vd(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return vd(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function wd(t){return Ls(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(t){Us(new di("platform-logger",e=>new hy(e),"PRIVATE")),Us(new di("heartbeat",e=>new e0(e),"PRIVATE")),Gn(ua,gd,t),Gn(ua,gd,"esm2017"),Gn("fire-js","")}r0("");var i0="firebase",s0="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gn(i0,s0,"app");var Cd={};const Ed="@firebase/database",Sd="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mp="";function o0(t){Mp=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),de(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:ci(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Tt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new l0(e)}}catch{}return new a0},un=Lp("localStorage"),u0=Lp("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn=new xp("@firebase/database"),c0=function(){let t=1;return function(){return t++}}(),Fp=function(t){const e=Qv(t),n=new Gv;n.update(e);const r=n.digest();return vu.encodeByteArray(r)},Ti=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ti.apply(null,r):typeof r=="object"?e+=de(r):e+=r,e+=" "}return e};let Hr=null,kd=!0;const d0=function(t,e){C(!0,"Can't turn on custom loggers persistently."),Qn.logLevel=H.VERBOSE,Hr=Qn.log.bind(Qn)},we=function(...t){if(kd===!0&&(kd=!1,Hr===null&&u0.get("logging_enabled")===!0&&d0()),Hr){const e=Ti.apply(null,t);Hr(e)}},Ni=function(t){return function(...e){we(t,...e)}},fa=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ti(...t);Qn.error(e)},St=function(...t){const e=`FIREBASE FATAL ERROR: ${Ti(...t)}`;throw Qn.error(e),new Error(e)},Oe=function(...t){const e="FIREBASE WARNING: "+Ti(...t);Qn.warn(e)},f0=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Oe("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},zp=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},h0=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ir="[MIN_NAME]",vn="[MAX_NAME]",fr=function(t,e){if(t===e)return 0;if(t===ir||e===vn)return-1;if(e===ir||t===vn)return 1;{const n=Id(t),r=Id(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},p0=function(t,e){return t===e?0:t<e?-1:1},Ir=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+de(e))},Cu=function(t){if(typeof t!="object"||t===null)return de(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=de(e[r]),n+=":",n+=Cu(t[e[r]]);return n+="}",n},Up=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Me(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const jp=function(t){C(!zp(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,l,a;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=l+r,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(a=n;a;a-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(a=e;a;a-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const f=u.join("");let c="";for(a=0;a<64;a+=8){let d=parseInt(f.substr(a,8),2).toString(16);d.length===1&&(d="0"+d),c=c+d}return c.toLowerCase()},m0=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},g0=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function _0(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const v0=new RegExp("^-?(0*)\\d{1,10}$"),y0=-2147483648,w0=2147483647,Id=function(t){if(v0.test(t)){const e=Number(t);if(e>=y0&&e<=w0)return e}return null},hr=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Oe("Exception was thrown by user callback.",n),e},Math.floor(0))}},C0=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Vr=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Oe(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(we("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Oe(e)}}class cs{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}cs.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu="5",Wp="v",Bp="s",Hp="r",Vp="f",bp=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,$p="ls",Gp="p",ha="ac",Qp="websocket",Kp="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e,n,r,i,s=!1,o="",l=!1,a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=un.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&un.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function k0(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function qp(t,e,n){C(typeof e=="string","typeof type must == string"),C(typeof n=="object","typeof params must == object");let r;if(e===Qp)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Kp)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);k0(t)&&(n.ns=t.namespace);const i=[];return Me(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(){this.counters_={}}incrementCounter(e,n=1){Tt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Tv(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const il={},sl={};function Su(t){const e=t.toString();return il[e]||(il[e]=new I0),il[e]}function T0(t,e){const n=t.toString();return sl[n]||(sl[n]=e()),sl[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&hr(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td="start",x0="close",R0="pLPCommand",P0="pRTLPCB",Xp="id",Jp="pw",Zp="ser",D0="cb",A0="seg",O0="ts",M0="d",L0="dframe",em=1870,tm=30,F0=em-tm,z0=25e3,U0=3e4;class jn{constructor(e,n,r,i,s,o,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ni(e),this.stats_=Su(n),this.urlFn=a=>(this.appCheckToken&&(a[ha]=this.appCheckToken),qp(n,Kp,a))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new N0(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(U0)),h0(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ku((...s)=>{const[o,l,a,u,f]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Td)this.id=l,this.password=a;else if(o===x0)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[Td]="t",r[Zp]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[D0]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Wp]=Eu,this.transportSessionId&&(r[Bp]=this.transportSessionId),this.lastSessionId&&(r[$p]=this.lastSessionId),this.applicationId&&(r[Gp]=this.applicationId),this.appCheckToken&&(r[ha]=this.appCheckToken),typeof location<"u"&&location.hostname&&bp.test(location.hostname)&&(r[Hp]=Vp);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){jn.forceAllow_=!0}static forceDisallow(){jn.forceDisallow_=!0}static isAvailable(){return jn.forceAllow_?!0:!jn.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!m0()&&!g0()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=de(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Cp(n),i=Up(r,F0);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[L0]="t",r[Xp]=e,r[Jp]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=de(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class ku{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=c0(),window[R0+this.uniqueCallbackIdentifier]=e,window[P0+this.uniqueCallbackIdentifier]=n,this.myIFrame=ku.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){we("frame writing exception"),l.stack&&we(l.stack),we(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||we("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Xp]=this.myID,e[Jp]=this.myPW,e[Zp]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+tm+r.length<=em;){const o=this.pendingSegs.shift();r=r+"&"+A0+i+"="+o.seg+"&"+O0+i+"="+o.ts+"&"+M0+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(z0)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{we("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0=16384,W0=45e3;let js=null;typeof MozWebSocket<"u"?js=MozWebSocket:typeof WebSocket<"u"&&(js=WebSocket);class Je{constructor(e,n,r,i,s,o,l){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ni(this.connId),this.stats_=Su(n),this.connURL=Je.connectionURL_(n,o,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[Wp]=Eu,typeof location<"u"&&location.hostname&&bp.test(location.hostname)&&(o[Hp]=Vp),n&&(o[Bp]=n),r&&(o[$p]=r),i&&(o[ha]=i),s&&(o[Gp]=s),qp(e,Qp,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,un.set("previous_websocket_failure",!0);try{let r;zv(),this.mySock=new js(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Je.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&js!==null&&!Je.forceDisallow_}static previouslyFailed(){return un.isInMemoryStorage||un.get("previous_websocket_failure")===!0}markConnectionHealthy(){un.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=ci(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(C(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=de(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Up(n,j0);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(W0))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Je.responsesRequiredToBeHealthy=2;Je.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[jn,Je]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Je&&Je.isAvailable();let r=n&&!Je.previouslyFailed();if(e.webSocketOnly&&(n||Oe("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Je];else{const i=this.transports_=[];for(const s of hi.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);hi.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}hi.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0=6e4,H0=5e3,V0=10*1024,b0=100*1024,ol="t",Nd="d",$0="s",xd="r",G0="e",Rd="o",Pd="a",Dd="n",Ad="p",Q0="h";class K0{constructor(e,n,r,i,s,o,l,a,u,f){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ni("c:"+this.id+":"),this.transportManager_=new hi(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Vr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>b0?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>V0?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(ol in e){const n=e[ol];n===Pd?this.upgradeIfSecondaryHealthy_():n===xd?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Rd&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Ir("t",e),r=Ir("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Ad,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Pd,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Dd,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Ir("t",e),r=Ir("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Ir(ol,e);if(Nd in e){const r=e[Nd];if(n===Q0){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Dd){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===$0?this.onConnectionShutdown_(r):n===xd?this.onReset_(r):n===G0?fa("Server Error: "+r):n===Rd?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):fa("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Eu!==r&&Oe("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Vr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(B0))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Vr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(H0))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Ad,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(un.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e){this.allowedEvents_=e,this.listeners_={},C(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){C(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws extends rm{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Ip()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ws}getInitialEvent(e){return C(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od=32,Md=768;class B{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function j(){return new B("")}function O(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Qt(t){return t.pieces_.length-t.pieceNum_}function V(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new B(t.pieces_,e)}function im(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Y0(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function sm(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function om(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new B(e,0)}function se(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof B)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new B(n,0)}function L(t){return t.pieceNum_>=t.pieces_.length}function xe(t,e){const n=O(t),r=O(e);if(n===null)return e;if(n===r)return xe(V(t),V(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Iu(t,e){if(Qt(t)!==Qt(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Ze(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Qt(t)>Qt(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class q0{constructor(e,n){this.errorPrefix_=n,this.parts_=sm(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=go(this.parts_[r]);lm(this)}}function X0(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=go(e),lm(t)}function J0(t){const e=t.parts_.pop();t.byteLength_-=go(e),t.parts_.length>0&&(t.byteLength_-=1)}function lm(t){if(t.byteLength_>Md)throw new Error(t.errorPrefix_+"has a key path longer than "+Md+" bytes ("+t.byteLength_+").");if(t.parts_.length>Od)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Od+") or object contains a cycle "+sn(t))}function sn(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu extends rm{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Tu}getInitialEvent(e){return C(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr=1e3,Z0=60*5*1e3,Ld=30*1e3,ew=1.3,tw=3e4,nw="server_kill",Fd=3;class _t extends nm{constructor(e,n,r,i,s,o,l,a){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=_t.nextPersistentConnectionId_++,this.log_=Ni("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Tr,this.maxReconnectDelay_=Z0,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Tu.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Ws.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(de(s)),C(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new mo,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),C(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),C(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,l=>{const a=l.d,u=l.s;_t.warnOnListenWarnings_(a,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,a))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Tt(e,"w")){const r=rr(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Oe(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||bv(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Ld)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=Vv(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),C(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+de(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):fa("Unrecognized action received from server: "+de(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){C(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Tr,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Tr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>tw&&(this.reconnectDelay_=Tr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*ew)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+_t.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const a=function(){l?l.close():(o=!0,r())},u=function(c){C(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(c)};this.realtime_={close:a,sendRequest:u};const f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[c,d]=await Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);o?we("getToken() completed but was canceled"):(we("getToken() completed. Creating connection."),this.authToken_=c&&c.accessToken,this.appCheckToken_=d&&d.token,l=new K0(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,_=>{Oe(_+" ("+this.repoInfo_.toString()+")"),this.interrupt(nw)},s))}catch(c){this.log_("Failed to get token: "+c),o||(this.repoInfo_.nodeAdmin&&Oe(c),a())}}}interrupt(e){we("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){we("Resuming connection for reason: "+e),delete this.interruptReasons_[e],dd(this.interruptReasons_)&&(this.reconnectDelay_=Tr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>Cu(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new B(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){we("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Fd&&(this.reconnectDelay_=Ld,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){we("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Fd&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Mp.replace(/\./g,"-")]=1,Ip()?e["framework.cordova"]=1:Fv()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ws.getInstance().currentlyOnline();return dd(this.interruptReasons_)&&e}}_t.nextPersistentConnectionId_=0;_t.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new M(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new M(ir,e),i=new M(ir,n);return this.compare(r,i)!==0}minPost(){return M.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qi;class am extends _o{static get __EMPTY_NODE(){return qi}static set __EMPTY_NODE(e){qi=e}compare(e,n){return fr(e.name,n.name)}isDefinedOn(e){throw cr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return M.MIN}maxPost(){return new M(vn,qi)}makePost(e,n){return C(typeof e=="string","KeyIndex indexValue must always be a string."),new M(e,qi)}toString(){return".key"}}const Kn=new am;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ce{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ce.RED,this.left=i??Re.EMPTY_NODE,this.right=s??Re.EMPTY_NODE}copy(e,n,r,i,s){return new ce(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Re.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Re.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ce.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ce.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ce.RED=!0;ce.BLACK=!1;class rw{copy(e,n,r,i,s){return this}insert(e,n,r){return new ce(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Re{constructor(e,n=Re.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Re(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ce.BLACK,null,null))}remove(e){return new Re(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ce.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Xi(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Xi(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Xi(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Xi(this.root_,null,this.comparator_,!0,e)}}Re.EMPTY_NODE=new rw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(t,e){return fr(t.name,e.name)}function Nu(t,e){return fr(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pa;function sw(t){pa=t}const um=function(t){return typeof t=="number"?"number:"+jp(t):"string:"+t},cm=function(t){if(t.isLeafNode()){const e=t.val();C(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Tt(e,".sv"),"Priority must be a string or number.")}else C(t===pa||t.isEmpty(),"priority of unexpected type.");C(t===pa||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zd;class ae{constructor(e,n=ae.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,C(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),cm(this.priorityNode_)}static set __childrenNodeConstructor(e){zd=e}static get __childrenNodeConstructor(){return zd}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ae(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:ae.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return L(e)?this:O(e)===".priority"?this.priorityNode_:ae.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:ae.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=O(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(C(r!==".priority"||Qt(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,ae.__childrenNodeConstructor.EMPTY_NODE.updateChild(V(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+um(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=jp(this.value_):e+=this.value_,this.lazyHash_=Fp(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ae.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ae.__childrenNodeConstructor?-1:(C(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=ae.VALUE_TYPE_ORDER.indexOf(n),s=ae.VALUE_TYPE_ORDER.indexOf(r);return C(i>=0,"Unknown leaf type: "+n),C(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}ae.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dm,fm;function ow(t){dm=t}function lw(t){fm=t}class aw extends _o{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?fr(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return M.MIN}maxPost(){return new M(vn,new ae("[PRIORITY-POST]",fm))}makePost(e,n){const r=dm(e);return new M(n,new ae("[PRIORITY-POST]",r))}toString(){return".priority"}}const Z=new aw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw=Math.log(2);class cw{constructor(e){const n=s=>parseInt(Math.log(s)/uw,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Bs=function(t,e,n,r){t.sort(e);const i=function(a,u){const f=u-a;let c,d;if(f===0)return null;if(f===1)return c=t[a],d=n?n(c):c,new ce(d,c.node,ce.BLACK,null,null);{const _=parseInt(f/2,10)+a,g=i(a,_),v=i(_+1,u);return c=t[_],d=n?n(c):c,new ce(d,c.node,ce.BLACK,g,v)}},s=function(a){let u=null,f=null,c=t.length;const d=function(g,v){const T=c-g,p=c;c-=g;const h=i(T+1,p),m=t[T],y=n?n(m):m;_(new ce(y,m.node,v,null,h))},_=function(g){u?(u.left=g,u=g):(f=g,u=g)};for(let g=0;g<a.count;++g){const v=a.nextBitIsOne(),T=Math.pow(2,a.count-(g+1));v?d(T,ce.BLACK):(d(T,ce.BLACK),d(T,ce.RED))}return f},o=new cw(t.length),l=s(o);return new Re(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ll;const Tn={};class mt{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return C(Tn&&Z,"ChildrenNode.ts has not been loaded"),ll=ll||new mt({".priority":Tn},{".priority":Z}),ll}get(e){const n=rr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Re?n:null}hasIndex(e){return Tt(this.indexSet_,e.toString())}addIndex(e,n){C(e!==Kn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(M.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let l;i?l=Bs(r,e.getCompare()):l=Tn;const a=e.toString(),u=Object.assign({},this.indexSet_);u[a]=e;const f=Object.assign({},this.indexes_);return f[a]=l,new mt(f,u)}addToIndexes(e,n){const r=Fs(this.indexes_,(i,s)=>{const o=rr(this.indexSet_,s);if(C(o,"Missing index implementation for "+s),i===Tn)if(o.isDefinedOn(e.node)){const l=[],a=n.getIterator(M.Wrap);let u=a.getNext();for(;u;)u.name!==e.name&&l.push(u),u=a.getNext();return l.push(e),Bs(l,o.getCompare())}else return Tn;else{const l=n.get(e.name);let a=i;return l&&(a=a.remove(new M(e.name,l))),a.insert(e,e.node)}});return new mt(r,this.indexSet_)}removeFromIndexes(e,n){const r=Fs(this.indexes_,i=>{if(i===Tn)return i;{const s=n.get(e.name);return s?i.remove(new M(e.name,s)):i}});return new mt(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nr;class P{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&cm(this.priorityNode_),this.children_.isEmpty()&&C(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Nr||(Nr=new P(new Re(Nu),null,mt.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Nr}updatePriority(e){return this.children_.isEmpty()?this:new P(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Nr:n}}getChild(e){const n=O(e);return n===null?this:this.getImmediateChild(n).getChild(V(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(C(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new M(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Nr:this.priorityNode_;return new P(i,o,s)}}updateChild(e,n){const r=O(e);if(r===null)return n;{C(O(e)!==".priority"||Qt(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(V(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Z,(o,l)=>{n[o]=l.val(e),r++,s&&P.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+um(this.getPriority().val())+":"),this.forEachChild(Z,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":Fp(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new M(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new M(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new M(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,M.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,M.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===xi?-1:0}withIndex(e){if(e===Kn||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new P(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Kn||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Z),i=n.getIterator(Z);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Kn?null:this.indexMap_.get(e.toString())}}P.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class dw extends P{constructor(){super(new Re(Nu),P.EMPTY_NODE,mt.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return P.EMPTY_NODE}isEmpty(){return!1}}const xi=new dw;Object.defineProperties(M,{MIN:{value:new M(ir,P.EMPTY_NODE)},MAX:{value:new M(vn,xi)}});am.__EMPTY_NODE=P.EMPTY_NODE;ae.__childrenNodeConstructor=P;sw(xi);lw(xi);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw=!0;function pe(t,e=null){if(t===null)return P.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),C(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new ae(n,pe(e))}if(!(t instanceof Array)&&fw){const n=[];let r=!1;if(Me(t,(o,l)=>{if(o.substring(0,1)!=="."){const a=pe(l);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new M(o,a)))}}),n.length===0)return P.EMPTY_NODE;const s=Bs(n,iw,o=>o.name,Nu);if(r){const o=Bs(n,Z.getCompare());return new P(s,pe(e),new mt({".priority":o},{".priority":Z}))}else return new P(s,pe(e),mt.Default)}else{let n=P.EMPTY_NODE;return Me(t,(r,i)=>{if(Tt(t,r)&&r.substring(0,1)!=="."){const s=pe(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(pe(e))}}ow(pe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw extends _o{constructor(e){super(),this.indexPath_=e,C(!L(e)&&O(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?fr(e.name,n.name):s}makePost(e,n){const r=pe(e),i=P.EMPTY_NODE.updateChild(this.indexPath_,r);return new M(n,i)}maxPost(){const e=P.EMPTY_NODE.updateChild(this.indexPath_,xi);return new M(vn,e)}toString(){return sm(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw extends _o{compare(e,n){const r=e.node.compareTo(n.node);return r===0?fr(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return M.MIN}maxPost(){return M.MAX}makePost(e,n){const r=pe(e);return new M(n,r)}toString(){return".value"}}const mw=new pw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(t){return{type:"value",snapshotNode:t}}function sr(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function pi(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function mi(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function gw(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){C(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(pi(n,l)):C(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(sr(n,r)):o.trackChildChange(mi(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Z,(i,s)=>{n.hasChild(i)||r.trackChildChange(pi(i,s))}),n.isLeafNode()||n.forEachChild(Z,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(mi(i,s,o))}else r.trackChildChange(sr(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?P.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e){this.indexedFilter_=new xu(e.getIndex()),this.index_=e.getIndex(),this.startPost_=gi.getStartPost_(e),this.endPost_=gi.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new M(n,r))||(r=P.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=P.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(P.EMPTY_NODE);const s=this;return n.forEachChild(Z,(o,l)=>{s.matches(new M(o,l))||(i=i.updateImmediateChild(o,P.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new gi(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new M(n,r))||(r=P.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=P.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=P.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const l=s.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(P.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const l=s.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:i=i.updateImmediateChild(l.name,P.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const c=this.index_.getCompare();o=(d,_)=>c(_,d)}else o=this.index_.getCompare();const l=e;C(l.numChildren()===this.limit_,"");const a=new M(n,r),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),f=this.rangedFilter_.matches(a);if(l.hasChild(n)){const c=l.getImmediateChild(n);let d=i.getChildAfterChild(this.index_,u,this.reverse_);for(;d!=null&&(d.name===n||l.hasChild(d.name));)d=i.getChildAfterChild(this.index_,d,this.reverse_);const _=d==null?1:o(d,a);if(f&&!r.isEmpty()&&_>=0)return s!=null&&s.trackChildChange(mi(n,r,c)),l.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(pi(n,c));const v=l.updateImmediateChild(n,P.EMPTY_NODE);return d!=null&&this.rangedFilter_.matches(d)?(s!=null&&s.trackChildChange(sr(d.name,d.node)),v.updateImmediateChild(d.name,d.node)):v}}else return r.isEmpty()?e:f&&o(u,a)>=0?(s!=null&&(s.trackChildChange(pi(u.name,u.node)),s.trackChildChange(sr(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(u.name,P.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Z}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return C(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return C(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ir}hasEnd(){return this.endSet_}getIndexEndValue(){return C(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return C(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:vn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return C(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Z}copy(){const e=new Ru;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function vw(t){return t.loadsAllData()?new xu(t.getIndex()):t.hasLimit()?new _w(t):new gi(t)}function Ud(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Z?n="$priority":t.index_===mw?n="$value":t.index_===Kn?n="$key":(C(t.index_ instanceof hw,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=de(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=de(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+de(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=de(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+de(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function jd(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Z&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs extends nm{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Ni("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(C(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Hs.getListenId_(e,r),l={};this.listens_[o]=l;const a=Ud(e._queryParams);this.restRequest_(s+".json",a,(u,f)=>{let c=f;if(u===404&&(c=null,u=null),u===null&&this.onDataUpdate_(s,c,!1,r),rr(this.listens_,o)===l){let d;u?u===401?d="permission_denied":d="rest_error:"+u:d="ok",i(d,null)}})}unlisten(e,n){const r=Hs.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Ud(e._queryParams),r=e._path.toString(),i=new mo;return this.restRequest_(r+".json",n,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+$v(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=ci(l.responseText)}catch{Oe("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,a)}else l.status!==401&&l.status!==404&&Oe("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(){this.rootNode_=P.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vs(){return{value:null,children:new Map}}function pm(t,e,n){if(L(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=O(e);t.children.has(r)||t.children.set(r,Vs());const i=t.children.get(r);e=V(e),pm(i,e,n)}}function ma(t,e,n){t.value!==null?n(e,t.value):ww(t,(r,i)=>{const s=new B(e.toString()+"/"+r);ma(i,s,n)})}function ww(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Me(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd=10*1e3,Ew=30*1e3,Sw=5*60*1e3;class kw{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Cw(e);const r=Wd+(Ew-Wd)*Math.random();Vr(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Me(e,(i,s)=>{s>0&&Tt(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Vr(this.reportStats_.bind(this),Math.floor(Math.random()*2*Sw))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(et||(et={}));function mm(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Pu(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Du(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=et.ACK_USER_WRITE,this.source=mm()}operationForChild(e){if(L(this.path)){if(this.affectedTree.value!=null)return C(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new B(e));return new bs(j(),n,this.revert)}}else return C(O(this.path)===e,"operationForChild called for unrelated child."),new bs(V(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e,n){this.source=e,this.path=n,this.type=et.LISTEN_COMPLETE}operationForChild(e){return L(this.path)?new _i(this.source,j()):new _i(this.source,V(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=et.OVERWRITE}operationForChild(e){return L(this.path)?new yn(this.source,j(),this.snap.getImmediateChild(e)):new yn(this.source,V(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=et.MERGE}operationForChild(e){if(L(this.path)){const n=this.children.subtree(new B(e));return n.isEmpty()?null:n.value?new yn(this.source,j(),n.value):new vi(this.source,j(),n)}else return C(O(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new vi(this.source,V(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(L(e))return this.isFullyInitialized()&&!this.filtered_;const n=O(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Tw(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(gw(o.childName,o.snapshotNode))}),xr(t,i,"child_removed",e,r,n),xr(t,i,"child_added",e,r,n),xr(t,i,"child_moved",s,r,n),xr(t,i,"child_changed",e,r,n),xr(t,i,"value",e,r,n),i}function xr(t,e,n,r,i,s){const o=r.filter(l=>l.type===n);o.sort((l,a)=>xw(t,l,a)),o.forEach(l=>{const a=Nw(t,l,s);i.forEach(u=>{u.respondsTo(l.type)&&e.push(u.createEvent(a,t.query_))})})}function Nw(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function xw(t,e,n){if(e.childName==null||n.childName==null)throw cr("Should only compare child_ events.");const r=new M(e.childName,e.snapshotNode),i=new M(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vo(t,e){return{eventCache:t,serverCache:e}}function br(t,e,n,r){return vo(new wn(e,n,r),t.serverCache)}function gm(t,e,n,r){return vo(t.eventCache,new wn(e,n,r))}function ga(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Cn(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let al;const Rw=()=>(al||(al=new Re(p0)),al);class G{constructor(e,n=Rw()){this.value=e,this.children=n}static fromObject(e){let n=new G(null);return Me(e,(r,i)=>{n=n.set(new B(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:j(),value:this.value};if(L(e))return null;{const r=O(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(V(e),n);return s!=null?{path:se(new B(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(L(e))return this;{const n=O(e),r=this.children.get(n);return r!==null?r.subtree(V(e)):new G(null)}}set(e,n){if(L(e))return new G(n,this.children);{const r=O(e),s=(this.children.get(r)||new G(null)).set(V(e),n),o=this.children.insert(r,s);return new G(this.value,o)}}remove(e){if(L(e))return this.children.isEmpty()?new G(null):new G(null,this.children);{const n=O(e),r=this.children.get(n);if(r){const i=r.remove(V(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new G(null):new G(this.value,s)}else return this}}get(e){if(L(e))return this.value;{const n=O(e),r=this.children.get(n);return r?r.get(V(e)):null}}setTree(e,n){if(L(e))return n;{const r=O(e),s=(this.children.get(r)||new G(null)).setTree(V(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new G(this.value,o)}}fold(e){return this.fold_(j(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(se(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,j(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(L(e))return null;{const s=O(e),o=this.children.get(s);return o?o.findOnPath_(V(e),se(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,j(),n)}foreachOnPath_(e,n,r){if(L(e))return this;{this.value&&r(n,this.value);const i=O(e),s=this.children.get(i);return s?s.foreachOnPath_(V(e),se(n,i),r):new G(null)}}foreach(e){this.foreach_(j(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(se(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.writeTree_=e}static empty(){return new rt(new G(null))}}function $r(t,e,n){if(L(e))return new rt(new G(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=xe(i,e);return s=s.updateChild(o,n),new rt(t.writeTree_.set(i,s))}else{const i=new G(n),s=t.writeTree_.setTree(e,i);return new rt(s)}}}function Bd(t,e,n){let r=t;return Me(n,(i,s)=>{r=$r(r,se(e,i),s)}),r}function Hd(t,e){if(L(e))return rt.empty();{const n=t.writeTree_.setTree(e,new G(null));return new rt(n)}}function _a(t,e){return kn(t,e)!=null}function kn(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(xe(n.path,e)):null}function Vd(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Z,(r,i)=>{e.push(new M(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new M(r,i.value))}),e}function bt(t,e){if(L(e))return t;{const n=kn(t,e);return n!=null?new rt(new G(n)):new rt(t.writeTree_.subtree(e))}}function va(t){return t.writeTree_.isEmpty()}function or(t,e){return _m(j(),t.writeTree_,e)}function _m(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(C(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=_m(se(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(se(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(t,e){return Cm(e,t)}function Pw(t,e,n,r,i){C(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=$r(t.visibleWrites,e,n)),t.lastWriteId=r}function Dw(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function Aw(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);C(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&Ow(l,r.path)?i=!1:Ze(r.path,l.path)&&(s=!0)),o--}if(i){if(s)return Mw(t),!0;if(r.snap)t.visibleWrites=Hd(t.visibleWrites,r.path);else{const l=r.children;Me(l,a=>{t.visibleWrites=Hd(t.visibleWrites,se(r.path,a))})}return!0}else return!1}function Ow(t,e){if(t.snap)return Ze(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ze(se(t.path,n),e))return!0;return!1}function Mw(t){t.visibleWrites=vm(t.allWrites,Lw,j()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Lw(t){return t.visible}function vm(t,e,n){let r=rt.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let l;if(s.snap)Ze(n,o)?(l=xe(n,o),r=$r(r,l,s.snap)):Ze(o,n)&&(l=xe(o,n),r=$r(r,j(),s.snap.getChild(l)));else if(s.children){if(Ze(n,o))l=xe(n,o),r=Bd(r,l,s.children);else if(Ze(o,n))if(l=xe(o,n),L(l))r=Bd(r,j(),s.children);else{const a=rr(s.children,O(l));if(a){const u=a.getChild(V(l));r=$r(r,j(),u)}}}else throw cr("WriteRecord should have .snap or .children")}}return r}function ym(t,e,n,r,i){if(!r&&!i){const s=kn(t.visibleWrites,e);if(s!=null)return s;{const o=bt(t.visibleWrites,e);if(va(o))return n;if(n==null&&!_a(o,j()))return null;{const l=n||P.EMPTY_NODE;return or(o,l)}}}else{const s=bt(t.visibleWrites,e);if(!i&&va(s))return n;if(!i&&n==null&&!_a(s,j()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Ze(u.path,e)||Ze(e,u.path))},l=vm(t.allWrites,o,e),a=n||P.EMPTY_NODE;return or(l,a)}}}function Fw(t,e,n){let r=P.EMPTY_NODE;const i=kn(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Z,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=bt(t.visibleWrites,e);return n.forEachChild(Z,(o,l)=>{const a=or(bt(s,new B(o)),l);r=r.updateImmediateChild(o,a)}),Vd(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=bt(t.visibleWrites,e);return Vd(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function zw(t,e,n,r,i){C(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=se(e,n);if(_a(t.visibleWrites,s))return null;{const o=bt(t.visibleWrites,s);return va(o)?i.getChild(n):or(o,i.getChild(n))}}function Uw(t,e,n,r){const i=se(e,n),s=kn(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=bt(t.visibleWrites,i);return or(o,r.getNode().getImmediateChild(n))}else return null}function jw(t,e){return kn(t.visibleWrites,e)}function Ww(t,e,n,r,i,s,o){let l;const a=bt(t.visibleWrites,e),u=kn(a,j());if(u!=null)l=u;else if(n!=null)l=or(a,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const f=[],c=o.getCompare(),d=s?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let _=d.getNext();for(;_&&f.length<i;)c(_,r)!==0&&f.push(_),_=d.getNext();return f}else return[]}function Bw(){return{visibleWrites:rt.empty(),allWrites:[],lastWriteId:-1}}function $s(t,e,n,r){return ym(t.writeTree,t.treePath,e,n,r)}function Ou(t,e){return Fw(t.writeTree,t.treePath,e)}function bd(t,e,n,r){return zw(t.writeTree,t.treePath,e,n,r)}function Gs(t,e){return jw(t.writeTree,se(t.treePath,e))}function Hw(t,e,n,r,i,s){return Ww(t.writeTree,t.treePath,e,n,r,i,s)}function Mu(t,e,n){return Uw(t.writeTree,t.treePath,e,n)}function wm(t,e){return Cm(se(t.treePath,e),t.writeTree)}function Cm(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;C(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),C(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,mi(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,pi(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,sr(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,mi(r,e.snapshotNode,i.oldSnap));else throw cr("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const Em=new bw;class Lu{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new wn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Mu(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Cn(this.viewCache_),s=Hw(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(t){return{filter:t}}function Gw(t,e){C(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),C(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Qw(t,e,n,r,i){const s=new Vw;let o,l;if(n.type===et.OVERWRITE){const u=n;u.source.fromUser?o=ya(t,e,u.path,u.snap,r,i,s):(C(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered()&&!L(u.path),o=Qs(t,e,u.path,u.snap,r,i,l,s))}else if(n.type===et.MERGE){const u=n;u.source.fromUser?o=Yw(t,e,u.path,u.children,r,i,s):(C(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered(),o=wa(t,e,u.path,u.children,r,i,l,s))}else if(n.type===et.ACK_USER_WRITE){const u=n;u.revert?o=Jw(t,e,u.path,r,i,s):o=qw(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===et.LISTEN_COMPLETE)o=Xw(t,e,n.path,r,s);else throw cr("Unknown operation type: "+n.type);const a=s.getChanges();return Kw(e,o,a),{viewCache:o,changes:a}}function Kw(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=ga(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(hm(ga(e)))}}function Sm(t,e,n,r,i,s){const o=e.eventCache;if(Gs(r,n)!=null)return e;{let l,a;if(L(n))if(C(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Cn(e),f=u instanceof P?u:P.EMPTY_NODE,c=Ou(r,f);l=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const u=$s(r,Cn(e));l=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=O(n);if(u===".priority"){C(Qt(n)===1,"Can't have a priority with additional path components");const f=o.getNode();a=e.serverCache.getNode();const c=bd(r,n,f,a);c!=null?l=t.filter.updatePriority(f,c):l=o.getNode()}else{const f=V(n);let c;if(o.isCompleteForChild(u)){a=e.serverCache.getNode();const d=bd(r,n,o.getNode(),a);d!=null?c=o.getNode().getImmediateChild(u).updateChild(f,d):c=o.getNode().getImmediateChild(u)}else c=Mu(r,u,e.serverCache);c!=null?l=t.filter.updateChild(o.getNode(),u,c,f,i,s):l=o.getNode()}}return br(e,l,o.isFullyInitialized()||L(n),t.filter.filtersNodes())}}function Qs(t,e,n,r,i,s,o,l){const a=e.serverCache;let u;const f=o?t.filter:t.filter.getIndexedFilter();if(L(n))u=f.updateFullNode(a.getNode(),r,null);else if(f.filtersNodes()&&!a.isFiltered()){const _=a.getNode().updateChild(n,r);u=f.updateFullNode(a.getNode(),_,null)}else{const _=O(n);if(!a.isCompleteForPath(n)&&Qt(n)>1)return e;const g=V(n),T=a.getNode().getImmediateChild(_).updateChild(g,r);_===".priority"?u=f.updatePriority(a.getNode(),T):u=f.updateChild(a.getNode(),_,T,g,Em,null)}const c=gm(e,u,a.isFullyInitialized()||L(n),f.filtersNodes()),d=new Lu(i,c,s);return Sm(t,c,n,i,d,l)}function ya(t,e,n,r,i,s,o){const l=e.eventCache;let a,u;const f=new Lu(i,e,s);if(L(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),a=br(e,u,!0,t.filter.filtersNodes());else{const c=O(n);if(c===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),a=br(e,u,l.isFullyInitialized(),l.isFiltered());else{const d=V(n),_=l.getNode().getImmediateChild(c);let g;if(L(d))g=r;else{const v=f.getCompleteChild(c);v!=null?im(d)===".priority"&&v.getChild(om(d)).isEmpty()?g=v:g=v.updateChild(d,r):g=P.EMPTY_NODE}if(_.equals(g))a=e;else{const v=t.filter.updateChild(l.getNode(),c,g,d,f,o);a=br(e,v,l.isFullyInitialized(),t.filter.filtersNodes())}}}return a}function $d(t,e){return t.eventCache.isCompleteForChild(e)}function Yw(t,e,n,r,i,s,o){let l=e;return r.foreach((a,u)=>{const f=se(n,a);$d(e,O(f))&&(l=ya(t,l,f,u,i,s,o))}),r.foreach((a,u)=>{const f=se(n,a);$d(e,O(f))||(l=ya(t,l,f,u,i,s,o))}),l}function Gd(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function wa(t,e,n,r,i,s,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let a=e,u;L(n)?u=r:u=new G(null).setTree(n,r);const f=e.serverCache.getNode();return u.children.inorderTraversal((c,d)=>{if(f.hasChild(c)){const _=e.serverCache.getNode().getImmediateChild(c),g=Gd(t,_,d);a=Qs(t,a,new B(c),g,i,s,o,l)}}),u.children.inorderTraversal((c,d)=>{const _=!e.serverCache.isCompleteForChild(c)&&d.value===null;if(!f.hasChild(c)&&!_){const g=e.serverCache.getNode().getImmediateChild(c),v=Gd(t,g,d);a=Qs(t,a,new B(c),v,i,s,o,l)}}),a}function qw(t,e,n,r,i,s,o){if(Gs(i,n)!=null)return e;const l=e.serverCache.isFiltered(),a=e.serverCache;if(r.value!=null){if(L(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return Qs(t,e,n,a.getNode().getChild(n),i,s,l,o);if(L(n)){let u=new G(null);return a.getNode().forEachChild(Kn,(f,c)=>{u=u.set(new B(f),c)}),wa(t,e,n,u,i,s,l,o)}else return e}else{let u=new G(null);return r.foreach((f,c)=>{const d=se(n,f);a.isCompleteForPath(d)&&(u=u.set(f,a.getNode().getChild(d)))}),wa(t,e,n,u,i,s,l,o)}}function Xw(t,e,n,r,i){const s=e.serverCache,o=gm(e,s.getNode(),s.isFullyInitialized()||L(n),s.isFiltered());return Sm(t,o,n,r,Em,i)}function Jw(t,e,n,r,i,s){let o;if(Gs(r,n)!=null)return e;{const l=new Lu(r,e,i),a=e.eventCache.getNode();let u;if(L(n)||O(n)===".priority"){let f;if(e.serverCache.isFullyInitialized())f=$s(r,Cn(e));else{const c=e.serverCache.getNode();C(c instanceof P,"serverChildren would be complete if leaf node"),f=Ou(r,c)}f=f,u=t.filter.updateFullNode(a,f,s)}else{const f=O(n);let c=Mu(r,f,e.serverCache);c==null&&e.serverCache.isCompleteForChild(f)&&(c=a.getImmediateChild(f)),c!=null?u=t.filter.updateChild(a,f,c,V(n),l,s):e.eventCache.getNode().hasChild(f)?u=t.filter.updateChild(a,f,P.EMPTY_NODE,V(n),l,s):u=a,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=$s(r,Cn(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||Gs(r,j())!=null,br(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new xu(r.getIndex()),s=vw(r);this.processor_=$w(s);const o=n.serverCache,l=n.eventCache,a=i.updateFullNode(P.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(P.EMPTY_NODE,l.getNode(),null),f=new wn(a,o.isFullyInitialized(),i.filtersNodes()),c=new wn(u,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=vo(c,f),this.eventGenerator_=new Iw(this.query_)}get query(){return this.query_}}function eC(t){return t.viewCache_.serverCache.getNode()}function tC(t,e){const n=Cn(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!L(e)&&!n.getImmediateChild(O(e)).isEmpty())?n.getChild(e):null}function Qd(t){return t.eventRegistrations_.length===0}function nC(t,e){t.eventRegistrations_.push(e)}function Kd(t,e,n){const r=[];if(n){C(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function Yd(t,e,n,r){e.type===et.MERGE&&e.source.queryId!==null&&(C(Cn(t.viewCache_),"We should always have a full cache before handling merges"),C(ga(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=Qw(t.processor_,i,e,n,r);return Gw(t.processor_,s.viewCache),C(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,km(t,s.changes,s.viewCache.eventCache.getNode(),null)}function rC(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Z,(s,o)=>{r.push(sr(s,o))}),n.isFullyInitialized()&&r.push(hm(n.getNode())),km(t,r,n.getNode(),e)}function km(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return Tw(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ks;class iC{constructor(){this.views=new Map}}function sC(t){C(!Ks,"__referenceConstructor has already been defined"),Ks=t}function oC(){return C(Ks,"Reference.ts has not been loaded"),Ks}function lC(t){return t.views.size===0}function Fu(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return C(s!=null,"SyncTree gave us an op for an invalid query."),Yd(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(Yd(o,e,n,r));return s}}function aC(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let l=$s(n,i?r:null),a=!1;l?a=!0:r instanceof P?(l=Ou(n,r),a=!1):(l=P.EMPTY_NODE,a=!1);const u=vo(new wn(l,a,!1),new wn(r,i,!1));return new Zw(e,u)}return o}function uC(t,e,n,r,i,s){const o=aC(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),nC(o,n),rC(o,n)}function cC(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const l=Kt(t);if(i==="default")for(const[a,u]of t.views.entries())o=o.concat(Kd(u,n,r)),Qd(u)&&(t.views.delete(a),u.query._queryParams.loadsAllData()||s.push(u.query));else{const a=t.views.get(i);a&&(o=o.concat(Kd(a,n,r)),Qd(a)&&(t.views.delete(i),a.query._queryParams.loadsAllData()||s.push(a.query)))}return l&&!Kt(t)&&s.push(new(oC())(e._repo,e._path)),{removed:s,events:o}}function Im(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Yn(t,e){let n=null;for(const r of t.views.values())n=n||tC(r,e);return n}function Tm(t,e){if(e._queryParams.loadsAllData())return yo(t);{const r=e._queryIdentifier;return t.views.get(r)}}function Nm(t,e){return Tm(t,e)!=null}function Kt(t){return yo(t)!=null}function yo(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ys;function dC(t){C(!Ys,"__referenceConstructor has already been defined"),Ys=t}function fC(){return C(Ys,"Reference.ts has not been loaded"),Ys}let hC=1;class qd{constructor(e){this.listenProvider_=e,this.syncPointTree_=new G(null),this.pendingWriteTree_=Bw(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function xm(t,e,n,r,i){return Pw(t.pendingWriteTree_,e,n,r,i),i?Ri(t,new yn(mm(),e,n)):[]}function cn(t,e,n=!1){const r=Dw(t.pendingWriteTree_,e);if(Aw(t.pendingWriteTree_,e)){let s=new G(null);return r.snap!=null?s=s.set(j(),!0):Me(r.children,o=>{s=s.set(new B(o),!0)}),Ri(t,new bs(r.path,s,n))}else return[]}function wo(t,e,n){return Ri(t,new yn(Pu(),e,n))}function pC(t,e,n){const r=G.fromObject(n);return Ri(t,new vi(Pu(),e,r))}function mC(t,e){return Ri(t,new _i(Pu(),e))}function gC(t,e,n){const r=Uu(t,n);if(r){const i=ju(r),s=i.path,o=i.queryId,l=xe(s,e),a=new _i(Du(o),l);return Wu(t,s,a)}else return[]}function Ca(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let l=[];if(o&&(e._queryIdentifier==="default"||Nm(o,e))){const a=cC(o,e,n,r);lC(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=a.removed;if(l=a.events,!i){const f=u.findIndex(d=>d._queryParams.loadsAllData())!==-1,c=t.syncPointTree_.findOnPath(s,(d,_)=>Kt(_));if(f&&!c){const d=t.syncPointTree_.subtree(s);if(!d.isEmpty()){const _=yC(d);for(let g=0;g<_.length;++g){const v=_[g],T=v.query,p=Dm(t,v);t.listenProvider_.startListening(Gr(T),qs(t,T),p.hashFn,p.onComplete)}}}!c&&u.length>0&&!r&&(f?t.listenProvider_.stopListening(Gr(e),null):u.forEach(d=>{const _=t.queryToTagMap.get(Co(d));t.listenProvider_.stopListening(Gr(d),_)}))}wC(t,u)}return l}function _C(t,e,n,r){const i=Uu(t,r);if(i!=null){const s=ju(i),o=s.path,l=s.queryId,a=xe(o,e),u=new yn(Du(l),a,n);return Wu(t,o,u)}else return[]}function vC(t,e,n,r){const i=Uu(t,r);if(i){const s=ju(i),o=s.path,l=s.queryId,a=xe(o,e),u=G.fromObject(n),f=new vi(Du(l),a,u);return Wu(t,o,f)}else return[]}function Xd(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(d,_)=>{const g=xe(d,i);s=s||Yn(_,g),o=o||Kt(_)});let l=t.syncPointTree_.get(i);l?(o=o||Kt(l),s=s||Yn(l,j())):(l=new iC,t.syncPointTree_=t.syncPointTree_.set(i,l));let a;s!=null?a=!0:(a=!1,s=P.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((_,g)=>{const v=Yn(g,j());v&&(s=s.updateImmediateChild(_,v))}));const u=Nm(l,e);if(!u&&!e._queryParams.loadsAllData()){const d=Co(e);C(!t.queryToTagMap.has(d),"View does not exist, but we have a tag");const _=CC();t.queryToTagMap.set(d,_),t.tagToQueryMap.set(_,d)}const f=Au(t.pendingWriteTree_,i);let c=uC(l,e,n,f,s,a);if(!u&&!o&&!r){const d=Tm(l,e);c=c.concat(EC(t,e,d))}return c}function zu(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,l)=>{const a=xe(o,e),u=Yn(l,a);if(u)return u});return ym(i,e,s,n,!0)}function Ri(t,e){return Rm(e,t.syncPointTree_,null,Au(t.pendingWriteTree_,j()))}function Rm(t,e,n,r){if(L(t.path))return Pm(t,e,n,r);{const i=e.get(j());n==null&&i!=null&&(n=Yn(i,j()));let s=[];const o=O(t.path),l=t.operationForChild(o),a=e.children.get(o);if(a&&l){const u=n?n.getImmediateChild(o):null,f=wm(r,o);s=s.concat(Rm(l,a,u,f))}return i&&(s=s.concat(Fu(i,t,r,n))),s}}function Pm(t,e,n,r){const i=e.get(j());n==null&&i!=null&&(n=Yn(i,j()));let s=[];return e.children.inorderTraversal((o,l)=>{const a=n?n.getImmediateChild(o):null,u=wm(r,o),f=t.operationForChild(o);f&&(s=s.concat(Pm(f,l,a,u)))}),i&&(s=s.concat(Fu(i,t,r,n))),s}function Dm(t,e){const n=e.query,r=qs(t,n);return{hashFn:()=>(eC(e)||P.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?gC(t,n._path,r):mC(t,n._path);{const s=_0(i,n);return Ca(t,n,null,s)}}}}function qs(t,e){const n=Co(e);return t.queryToTagMap.get(n)}function Co(t){return t._path.toString()+"$"+t._queryIdentifier}function Uu(t,e){return t.tagToQueryMap.get(e)}function ju(t){const e=t.indexOf("$");return C(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new B(t.substr(0,e))}}function Wu(t,e,n){const r=t.syncPointTree_.get(e);C(r,"Missing sync point for query tag that we're tracking");const i=Au(t.pendingWriteTree_,e);return Fu(r,n,i,null)}function yC(t){return t.fold((e,n,r)=>{if(n&&Kt(n))return[yo(n)];{let i=[];return n&&(i=Im(n)),Me(r,(s,o)=>{i=i.concat(o)}),i}})}function Gr(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(fC())(t._repo,t._path):t}function wC(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Co(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function CC(){return hC++}function EC(t,e,n){const r=e._path,i=qs(t,e),s=Dm(t,n),o=t.listenProvider_.startListening(Gr(e),i,s.hashFn,s.onComplete),l=t.syncPointTree_.subtree(r);if(i)C(!Kt(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((u,f,c)=>{if(!L(u)&&f&&Kt(f))return[yo(f).query];{let d=[];return f&&(d=d.concat(Im(f).map(_=>_.query))),Me(c,(_,g)=>{d=d.concat(g)}),d}});for(let u=0;u<a.length;++u){const f=a[u];t.listenProvider_.stopListening(Gr(f),qs(t,f))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Bu(n)}node(){return this.node_}}class Hu{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=se(this.path_,e);return new Hu(this.syncTree_,n)}node(){return zu(this.syncTree_,this.path_)}}const SC=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Jd=function(t,e,n){if(!t||typeof t!="object")return t;if(C(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return kC(t[".sv"],e,n);if(typeof t[".sv"]=="object")return IC(t[".sv"],e);C(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},kC=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:C(!1,"Unexpected server value: "+t)}},IC=function(t,e,n){t.hasOwnProperty("increment")||C(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&C(!1,"Unexpected increment value: "+r);const i=e.node();if(C(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},TC=function(t,e,n,r){return Vu(e,new Hu(n,t),r)},Am=function(t,e,n){return Vu(t,new Bu(e),n)};function Vu(t,e,n){const r=t.getPriority().val(),i=Jd(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,l=Jd(o.getValue(),e,n);return l!==o.getValue()||i!==o.getPriority().val()?new ae(l,pe(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new ae(i))),o.forEachChild(Z,(l,a)=>{const u=Vu(a,e.getImmediateChild(l),n);u!==a&&(s=s.updateImmediateChild(l,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function $u(t,e){let n=e instanceof B?e:new B(e),r=t,i=O(n);for(;i!==null;){const s=rr(r.node.children,i)||{children:{},childCount:0};r=new bu(i,r,s),n=V(n),i=O(n)}return r}function pr(t){return t.node.value}function Om(t,e){t.node.value=e,Ea(t)}function Mm(t){return t.node.childCount>0}function NC(t){return pr(t)===void 0&&!Mm(t)}function Eo(t,e){Me(t.node.children,(n,r)=>{e(new bu(n,t,r))})}function Lm(t,e,n,r){n&&e(t),Eo(t,i=>{Lm(i,e,!0)})}function xC(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Pi(t){return new B(t.parent===null?t.name:Pi(t.parent)+"/"+t.name)}function Ea(t){t.parent!==null&&RC(t.parent,t.name,t)}function RC(t,e,n){const r=NC(n),i=Tt(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Ea(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Ea(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=/[\[\].#$\/\u0000-\u001F\u007F]/,DC=/[\[\].#$\u0000-\u001F\u007F]/,ul=10*1024*1024,Fm=function(t){return typeof t=="string"&&t.length!==0&&!PC.test(t)},zm=function(t){return typeof t=="string"&&t.length!==0&&!DC.test(t)},AC=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),zm(t)},Um=function(t,e,n,r){r&&e===void 0||Gu(yu(t,"value"),e,n)},Gu=function(t,e,n){const r=n instanceof B?new q0(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+sn(r));if(typeof e=="function")throw new Error(t+"contains a function "+sn(r)+" with contents = "+e.toString());if(zp(e))throw new Error(t+"contains "+e.toString()+" "+sn(r));if(typeof e=="string"&&e.length>ul/3&&go(e)>ul)throw new Error(t+"contains a string greater than "+ul+" utf8 bytes "+sn(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Me(e,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!Fm(o)))throw new Error(t+" contains an invalid key ("+o+") "+sn(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);X0(r,o),Gu(t,l,r),J0(r)}),i&&s)throw new Error(t+' contains ".value" child '+sn(r)+" in addition to actual children.")}},jm=function(t,e,n,r){if(!zm(n))throw new Error(yu(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},OC=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),jm(t,e,n)},Wm=function(t,e){if(O(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},MC=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Fm(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!AC(n))throw new Error(yu(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Qu(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!Iu(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function Bm(t,e,n){Qu(t,n),Hm(t,r=>Iu(r,e))}function kt(t,e,n){Qu(t,n),Hm(t,r=>Ze(r,e)||Ze(e,r))}function Hm(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(FC(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function FC(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Hr&&we("event: "+n.toString()),hr(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC="repo_interrupt",UC=25;class jC{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new LC,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Vs(),this.transactionQueueTree_=new bu,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function WC(t,e,n){if(t.stats_=Su(t.repoInfo_),t.forceRestClient_||C0())t.server_=new Hs(t.repoInfo_,(r,i,s,o)=>{Zd(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>ef(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{de(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new _t(t.repoInfo_,e,(r,i,s,o)=>{Zd(t,r,i,s,o)},r=>{ef(t,r)},r=>{BC(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=T0(t.repoInfo_,()=>new kw(t.stats_,t.server_)),t.infoData_=new yw,t.infoSyncTree_=new qd({startListening:(r,i,s,o)=>{let l=[];const a=t.infoData_.getNode(r._path);return a.isEmpty()||(l=wo(t.infoSyncTree_,r._path,a),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),Yu(t,"connected",!1),t.serverSyncTree_=new qd({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(l,a)=>{const u=o(l,a);kt(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function Vm(t){const n=t.infoData_.getNode(new B(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Ku(t){return SC({timestamp:Vm(t)})}function Zd(t,e,n,r,i){t.dataUpdateCount++;const s=new B(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const a=Fs(n,u=>pe(u));o=vC(t.serverSyncTree_,s,a,i)}else{const a=pe(n);o=_C(t.serverSyncTree_,s,a,i)}else if(r){const a=Fs(n,u=>pe(u));o=pC(t.serverSyncTree_,s,a)}else{const a=pe(n);o=wo(t.serverSyncTree_,s,a)}let l=s;o.length>0&&(l=So(t,s)),kt(t.eventQueue_,l,o)}function ef(t,e){Yu(t,"connected",e),e===!1&&VC(t)}function BC(t,e){Me(e,(n,r)=>{Yu(t,n,r)})}function Yu(t,e,n){const r=new B("/.info/"+e),i=pe(n);t.infoData_.updateSnapshot(r,i);const s=wo(t.infoSyncTree_,r,i);kt(t.eventQueue_,r,s)}function bm(t){return t.nextWriteId_++}function HC(t,e,n,r,i){qu(t,"set",{path:e.toString(),value:n,priority:r});const s=Ku(t),o=pe(n,r),l=zu(t.serverSyncTree_,e),a=Am(o,l,s),u=bm(t),f=xm(t.serverSyncTree_,e,a,u,!0);Qu(t.eventQueue_,f),t.server_.put(e.toString(),o.val(!0),(d,_)=>{const g=d==="ok";g||Oe("set at "+e+" failed: "+d);const v=cn(t.serverSyncTree_,u,!g);kt(t.eventQueue_,e,v),QC(t,i,d,_)});const c=Ym(t,e);So(t,c),kt(t.eventQueue_,c,[])}function VC(t){qu(t,"onDisconnectEvents");const e=Ku(t),n=Vs();ma(t.onDisconnect_,j(),(i,s)=>{const o=TC(i,s,t.serverSyncTree_,e);pm(n,i,o)});let r=[];ma(n,j(),(i,s)=>{r=r.concat(wo(t.serverSyncTree_,i,s));const o=Ym(t,i);So(t,o)}),t.onDisconnect_=Vs(),kt(t.eventQueue_,j(),r)}function bC(t,e,n){let r;O(e._path)===".info"?r=Xd(t.infoSyncTree_,e,n):r=Xd(t.serverSyncTree_,e,n),Bm(t.eventQueue_,e._path,r)}function $C(t,e,n){let r;O(e._path)===".info"?r=Ca(t.infoSyncTree_,e,n):r=Ca(t.serverSyncTree_,e,n),Bm(t.eventQueue_,e._path,r)}function GC(t){t.persistentConnection_&&t.persistentConnection_.interrupt(zC)}function qu(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),we(n,...e)}function QC(t,e,n,r){e&&hr(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function $m(t,e,n){return zu(t.serverSyncTree_,e,n)||P.EMPTY_NODE}function Xu(t,e=t.transactionQueueTree_){if(e||ko(t,e),pr(e)){const n=Qm(t,e);C(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&KC(t,Pi(e),n)}else Mm(e)&&Eo(e,n=>{Xu(t,n)})}function KC(t,e,n){const r=n.map(u=>u.currentWriteId),i=$m(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const f=n[u];C(f.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;const c=xe(e,f.path);s=s.updateChild(c,f.currentOutputSnapshotRaw)}const l=s.val(!0),a=e;t.server_.put(a.toString(),l,u=>{qu(t,"transaction put response",{path:a.toString(),status:u});let f=[];if(u==="ok"){const c=[];for(let d=0;d<n.length;d++)n[d].status=2,f=f.concat(cn(t.serverSyncTree_,n[d].currentWriteId)),n[d].onComplete&&c.push(()=>n[d].onComplete(null,!0,n[d].currentOutputSnapshotResolved)),n[d].unwatcher();ko(t,$u(t.transactionQueueTree_,e)),Xu(t,t.transactionQueueTree_),kt(t.eventQueue_,e,f);for(let d=0;d<c.length;d++)hr(c[d])}else{if(u==="datastale")for(let c=0;c<n.length;c++)n[c].status===3?n[c].status=4:n[c].status=0;else{Oe("transaction at "+a.toString()+" failed: "+u);for(let c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=u}So(t,e)}},o)}function So(t,e){const n=Gm(t,e),r=Pi(n),i=Qm(t,n);return YC(t,i,r),r}function YC(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const a=e[l],u=xe(n,a.path);let f=!1,c;if(C(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)f=!0,c=a.abortReason,i=i.concat(cn(t.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=UC)f=!0,c="maxretry",i=i.concat(cn(t.serverSyncTree_,a.currentWriteId,!0));else{const d=$m(t,a.path,o);a.currentInputSnapshot=d;const _=e[l].update(d.val());if(_!==void 0){Gu("transaction failed: Data returned ",_,a.path);let g=pe(_);typeof _=="object"&&_!=null&&Tt(_,".priority")||(g=g.updatePriority(d.getPriority()));const T=a.currentWriteId,p=Ku(t),h=Am(g,d,p);a.currentOutputSnapshotRaw=g,a.currentOutputSnapshotResolved=h,a.currentWriteId=bm(t),o.splice(o.indexOf(T),1),i=i.concat(xm(t.serverSyncTree_,a.path,h,a.currentWriteId,a.applyLocally)),i=i.concat(cn(t.serverSyncTree_,T,!0))}else f=!0,c="nodata",i=i.concat(cn(t.serverSyncTree_,a.currentWriteId,!0))}kt(t.eventQueue_,n,i),i=[],f&&(e[l].status=2,function(d){setTimeout(d,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(c==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(c),!1,null))))}ko(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)hr(r[l]);Xu(t,t.transactionQueueTree_)}function Gm(t,e){let n,r=t.transactionQueueTree_;for(n=O(e);n!==null&&pr(r)===void 0;)r=$u(r,n),e=V(e),n=O(e);return r}function Qm(t,e){const n=[];return Km(t,e,n),n.sort((r,i)=>r.order-i.order),n}function Km(t,e,n){const r=pr(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Eo(e,i=>{Km(t,i,n)})}function ko(t,e){const n=pr(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,Om(e,n.length>0?n:void 0)}Eo(e,r=>{ko(t,r)})}function Ym(t,e){const n=Pi(Gm(t,e)),r=$u(t.transactionQueueTree_,e);return xC(r,i=>{cl(t,i)}),cl(t,r),Lm(r,i=>{cl(t,i)}),n}function cl(t,e){const n=pr(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(C(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(C(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(cn(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?Om(e,void 0):n.length=s+1,kt(t.eventQueue_,Pi(e),i);for(let o=0;o<r.length;o++)hr(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function XC(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Oe(`Invalid query segment '${n}' in query '${t}'`)}return e}const tf=function(t,e){const n=JC(t),r=n.namespace;n.domain==="firebase.com"&&St(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&St("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||f0();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Yp(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new B(n.pathString)}},JC=function(t){let e="",n="",r="",i="",s="",o=!0,l="https",a=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(l=t.substring(0,u-1),t=t.substring(u+2));let f=t.indexOf("/");f===-1&&(f=t.length);let c=t.indexOf("?");c===-1&&(c=t.length),e=t.substring(0,Math.min(f,c)),f<c&&(i=qC(t.substring(f,c)));const d=XC(t.substring(Math.min(t.length,c)));u=e.indexOf(":"),u>=0?(o=l==="https"||l==="wss",a=parseInt(e.substring(u+1),10)):u=e.length;const _=e.slice(0,u);if(_.toLowerCase()==="localhost")n="localhost";else if(_.split(".").length<=2)n=_;else{const g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),s=r}"ns"in d&&(s=d.ns)}return{host:e,port:a,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ZC=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=nf.charAt(n%64),n=Math.floor(n/64);C(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=nf.charAt(e[i]);return C(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+de(this.snapshot.exportVal())}}class tE{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return C(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return L(this._path)?null:im(this._path)}get ref(){return new Jt(this._repo,this._path)}get _queryIdentifier(){const e=jd(this._queryParams),n=Cu(e);return n==="{}"?"default":n}get _queryObject(){return jd(this._queryParams)}isEqual(e){if(e=dr(e),!(e instanceof Ju))return!1;const n=this._repo===e._repo,r=Iu(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Y0(this._path)}}class Jt extends Ju{constructor(e,n){super(e,n,new Ru,!1)}get parent(){const e=om(this._path);return e===null?null:new Jt(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Xs{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new B(e),r=yi(this.ref,e);return new Xs(this._node.getChild(n),r,Z)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Xs(i,yi(this.ref,r),Z)))}hasChild(e){const n=new B(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function rf(t,e){return t=dr(t),t._checkNotDeleted("ref"),yi(t._root,e)}function yi(t,e){return t=dr(t),O(t._path)===null?OC("child","path",e):jm("child","path",e),new Jt(t._repo,se(t._path,e))}function rE(t,e){t=dr(t),Wm("push",t._path),Um("push",e,t._path,!0);const n=Vm(t._repo),r=ZC(n),i=yi(t,r),s=yi(t,r);let o;return e!=null?o=iE(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function iE(t,e){t=dr(t),Wm("set",t._path),Um("set",e,t._path,!1);const n=new mo;return HC(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}class Zu{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new eE("value",this,new Xs(e.snapshotNode,new Jt(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new tE(this,e,n):null}matches(e){return e instanceof Zu?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function sE(t,e,n,r,i){const s=new nE(n,void 0),o=new Zu(s);return bC(t._repo,t,o),()=>$C(t._repo,t,o)}function oE(t,e,n,r){return sE(t,"value",e)}sC(Jt);dC(Jt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="FIREBASE_DATABASE_EMULATOR_HOST",Sa={};let aE=!1;function uE(t,e,n,r){t.repoInfo_=new Yp(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function cE(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||St("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),we("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=tf(s,i),l=o.repoInfo,a;typeof process<"u"&&Cd&&(a=Cd[lE]),a?(s=`http://${a}?ns=${l.namespace}`,o=tf(s,i),l=o.repoInfo):o.repoInfo.secure;const u=new S0(t.name,t.options,e);MC("Invalid Firebase Database URL",o),L(o.path)||St("Database URL must point to the root of a Firebase Database (not including a child path).");const f=fE(l,t,u,new E0(t.name,n));return new hE(f,t)}function dE(t,e){const n=Sa[e];(!n||n[t.key]!==t)&&St(`Database ${e}(${t.repoInfo_}) has already been deleted.`),GC(t),delete n[t.key]}function fE(t,e,n,r){let i=Sa[e.name];i||(i={},Sa[e.name]=i);let s=i[t.toURLString()];return s&&St("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new jC(t,aE,n,r),i[t.toURLString()]=s,s}class hE{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(WC(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Jt(this._repo,j())),this._rootInternal}_delete(){return this._rootInternal!==null&&(dE(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&St("Cannot call "+e+" on a deleted database.")}}function pE(t=Ky(),e){const n=by(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=Ov("database");r&&mE(n,...r)}return n}function mE(t,e,n,r={}){t=dr(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&St("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&St('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new cs(cs.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:Mv(r.mockUserToken,t.app.options.projectId);s=new cs(o)}uE(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(t){o0(Qy),Us(new di("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return cE(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Gn(Ed,Sd,t),Gn(Ed,Sd,"esm2017")}_t.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};_t.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};gE();const _E={apiKey:"AIzaSyDr3PPXC90wvQW_LG8TkAyR9K-7e0loQ3A",authDomain:"nfl-playoff-pool-2025-scores.firebaseapp.com",databaseURL:"https://nfl-playoff-pool-2025-scores-default-rtdb.firebaseio.com",projectId:"nfl-playoff-pool-2025-scores",storageBucket:"nfl-playoff-pool-2025-scores.firebasestorage.app",messagingSenderId:"844539772456",appId:"1:844539772456:web:9bbfcf523195a5eedfff1d"},vE=Dp(_E),sf=pE(vE),dl={wildcard:{name:"Wild Card Round",games:[{id:1,team1:"AFC #7",team2:"AFC #2"},{id:2,team1:"AFC #6",team2:"AFC #3"},{id:3,team1:"AFC #5",team2:"AFC #4"},{id:4,team1:"NFC #7",team2:"NFC #2"},{id:5,team1:"NFC #6",team2:"NFC #3"},{id:6,team1:"NFC #5",team2:"NFC #4"}]},divisional:{name:"Divisional Round",games:[{id:7,team1:"AFC Winner 1",team2:"AFC #1"},{id:8,team1:"AFC Winner 2",team2:"AFC Winner 3"},{id:9,team1:"NFC Winner 1",team2:"NFC #1"},{id:10,team1:"NFC Winner 2",team2:"NFC Winner 3"}]},conference:{name:"Conference Championships",games:[{id:11,team1:"AFC Winner A",team2:"AFC Winner B"},{id:12,team1:"NFC Winner A",team2:"NFC Winner B"}]},superbowl:{name:"Super Bowl LIX",games:[{id:13,team1:"AFC Champion",team2:"NFC Champion"}]}};function yE(){const[t,e]=dt.useState(""),[n,r]=dt.useState("wildcard"),[i,s]=dt.useState({}),[o,l]=dt.useState([]),[a,u]=dt.useState(!1);dt.useEffect(()=>{const g=rf(sf,"picks");oE(g,v=>{const T=v.val();if(T){const p=Object.values(T);l(p)}})},[]);const f=(g,v,T)=>{s(p=>({...p,[g]:{...p[g],[v]:T}}))},c=()=>{const g=new Date,v=new Date(g.toLocaleString("en-US",{timeZone:"America/Los_Angeles"})),T=v.getDay(),p=v.getHours(),h=v.getMinutes();return!(T===5&&p===23&&h>=59||T===6||T===0||T===1&&p===0&&h===0)},d=async g=>{if(g.preventDefault(),!t.trim()){alert("Please enter your name");return}if(!c()){const m=new Date,E=new Date(m.toLocaleString("en-US",{timeZone:"America/Los_Angeles"})).getDay();let I="";(E===5||E===6||E===0||E===1)&&(I="Monday at 12:01 AM PST"),alert(` SUBMISSIONS CLOSED

Pick submissions are not allowed from Friday 11:59 PM PST through Sunday.

Submissions will reopen: ${I}

Please submit your picks during the week.`);return}const v=dl[n].games;if(v.some(m=>{var y,E;return!((y=i[m.id])!=null&&y.team1)||!((E=i[m.id])!=null&&E.team2)})){alert("Please enter scores for all games");return}const p=v.filter(m=>{var y,E;return((y=i[m.id])==null?void 0:y.team1)&&((E=i[m.id])==null?void 0:E.team2)&&i[m.id].team1===i[m.id].team2});if(p.length>0){const m=p.map(y=>`Game ${y.id}`).join(", ");alert(`NFL playoff games cannot end in a tie!

Please change your scores for: ${m}

One team must win each game.`);return}const h={playerName:t.trim(),week:n,weekName:dl[n].name,predictions:i,timestamp:Date.now()};try{const m=rf(sf,"picks");await rE(m,h),u(!0),alert("Picks submitted successfully!"),s({}),e(""),setTimeout(()=>u(!1),3e3)}catch(m){alert("Error submitting picks: "+m.message)}},_=dl[n];return R.jsxs("div",{className:"App",children:[R.jsxs("header",{children:[R.jsx("h1",{children:" NFL Playoff Pool 2025"}),R.jsx("p",{children:"Enter your score predictions for each game"})]}),R.jsxs("div",{className:"container",children:[R.jsxs("div",{className:"week-selector",children:[R.jsx("button",{className:n==="wildcard"?"active":"",onClick:()=>r("wildcard"),children:"Wild Card"}),R.jsx("button",{className:n==="divisional"?"active":"",onClick:()=>r("divisional"),children:"Divisional"}),R.jsx("button",{className:n==="conference"?"active":"",onClick:()=>r("conference"),children:"Conference"}),R.jsx("button",{className:n==="superbowl"?"active":"",onClick:()=>r("superbowl"),children:"Super Bowl"})]}),R.jsxs("div",{className:"prediction-form",children:[R.jsx("h2",{children:_.name}),!c()&&R.jsx("div",{className:"closed-warning",children:" SUBMISSIONS CLOSED - Pool reopens Monday 12:01 AM PST"}),R.jsxs("form",{onSubmit:d,children:[R.jsxs("div",{className:"form-group",children:[R.jsx("label",{children:"Your Name:"}),R.jsx("input",{type:"text",value:t,onChange:g=>e(g.target.value),placeholder:"Enter your name",required:!0})]}),_.games.map(g=>{var v,T;return R.jsxs("div",{className:"game-prediction",children:[R.jsxs("h3",{children:["Game ",g.id]}),R.jsxs("div",{className:"score-inputs",children:[R.jsxs("div",{className:"team-score",children:[R.jsx("label",{children:g.team1}),R.jsx("input",{type:"number",min:"0",max:"99",value:((v=i[g.id])==null?void 0:v.team1)||"",onChange:p=>f(g.id,"team1",p.target.value),required:!0})]}),R.jsx("span",{className:"vs",children:"vs"}),R.jsxs("div",{className:"team-score",children:[R.jsx("label",{children:g.team2}),R.jsx("input",{type:"number",min:"0",max:"99",value:((T=i[g.id])==null?void 0:T.team2)||"",onChange:p=>f(g.id,"team2",p.target.value),required:!0})]})]})]},g.id)}),R.jsx("button",{type:"submit",className:"submit-btn",disabled:!c(),style:c()?{}:{backgroundColor:"#ccc",cursor:"not-allowed"},children:c()?a?" Submitted!":"Submit Picks":" Closed - Reopens Monday"})]})]}),R.jsxs("div",{className:"all-picks",children:[R.jsxs("h2",{children:["All Player Picks - ",_.name]}),o.filter(g=>g.week===n).length===0?R.jsx("p",{className:"no-picks",children:"No picks submitted yet for this week."}):R.jsx("div",{className:"picks-table-container",children:R.jsxs("table",{className:"picks-table",children:[R.jsx("thead",{children:R.jsxs("tr",{children:[R.jsx("th",{children:"Player"}),_.games.map(g=>R.jsxs("th",{colSpan:"2",children:["Game ",g.id,R.jsx("br",{}),R.jsxs("small",{children:[g.team1," vs ",g.team2]})]},g.id)),R.jsx("th",{children:"Submitted"})]})}),R.jsx("tbody",{children:o.filter(g=>g.week===n).sort((g,v)=>g.timestamp-v.timestamp).map((g,v)=>R.jsxs("tr",{children:[R.jsx("td",{className:"player-name",children:g.playerName}),_.games.map(T=>{var p,h;return R.jsxs(gf.Fragment,{children:[R.jsx("td",{className:"score",children:((p=g.predictions[T.id])==null?void 0:p.team1)??"-"}),R.jsx("td",{className:"score",children:((h=g.predictions[T.id])==null?void 0:h.team2)??"-"})]},T.id)}),R.jsx("td",{className:"timestamp",children:new Date(g.timestamp).toLocaleString("en-US",{month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0,timeZoneName:"short"})})]},v))})]})})]})]}),R.jsx("footer",{children:R.jsx("p",{children:"NFL Playoff Pool 2025  Updates in real-time"})})]})}fl.createRoot(document.getElementById("root")).render(R.jsx(gf.StrictMode,{children:R.jsx(yE,{})}));
