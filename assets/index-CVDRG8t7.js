(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Qy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ih={exports:{}},ul={},Ph={exports:{}},ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ts=Symbol.for("react.element"),Ky=Symbol.for("react.portal"),qy=Symbol.for("react.fragment"),Xy=Symbol.for("react.strict_mode"),Jy=Symbol.for("react.profiler"),Zy=Symbol.for("react.provider"),ev=Symbol.for("react.context"),tv=Symbol.for("react.forward_ref"),nv=Symbol.for("react.suspense"),rv=Symbol.for("react.memo"),iv=Symbol.for("react.lazy"),kd=Symbol.iterator;function sv(t){return t===null||typeof t!="object"?null:(t=kd&&t[kd]||t["@@iterator"],typeof t=="function"?t:null)}var jh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rh=Object.assign,Ah={};function ri(t,e,n){this.props=t,this.context=e,this.refs=Ah,this.updater=n||jh}ri.prototype.isReactComponent={};ri.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ri.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Dh(){}Dh.prototype=ri.prototype;function Wc(t,e,n){this.props=t,this.context=e,this.refs=Ah,this.updater=n||jh}var Bc=Wc.prototype=new Dh;Bc.constructor=Wc;Rh(Bc,ri.prototype);Bc.isPureReactComponent=!0;var Nd=Array.isArray,Oh=Object.prototype.hasOwnProperty,Uc={current:null},Lh={key:!0,ref:!0,__self:!0,__source:!0};function Mh(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Oh.call(e,r)&&!Lh.hasOwnProperty(r)&&(i[r]=e[r]);var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){for(var a=Array(c),u=0;u<c;u++)a[u]=arguments[u+2];i.children=a}if(t&&t.defaultProps)for(r in c=t.defaultProps,c)i[r]===void 0&&(i[r]=c[r]);return{$$typeof:Ts,type:t,key:s,ref:o,props:i,_owner:Uc.current}}function ov(t,e){return{$$typeof:Ts,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function $c(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ts}function lv(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Td=/\/+/g;function Vl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?lv(""+t.key):e.toString(36)}function co(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ts:case Ky:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Vl(o,0):r,Nd(i)?(n="",t!=null&&(n=t.replace(Td,"$&/")+"/"),co(i,e,n,"",function(u){return u})):i!=null&&($c(i)&&(i=ov(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Td,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Nd(t))for(var c=0;c<t.length;c++){s=t[c];var a=r+Vl(s,c);o+=co(s,e,n,a,i)}else if(a=sv(t),typeof a=="function")for(t=a.call(t),c=0;!(s=t.next()).done;)s=s.value,a=r+Vl(s,c++),o+=co(s,e,n,a,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Vs(t,e,n){if(t==null)return t;var r=[],i=0;return co(t,r,"","",function(s){return e.call(n,s,i++)}),r}function av(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var tt={current:null},uo={transition:null},cv={ReactCurrentDispatcher:tt,ReactCurrentBatchConfig:uo,ReactCurrentOwner:Uc};function Fh(){throw Error("act(...) is not supported in production builds of React.")}ee.Children={map:Vs,forEach:function(t,e,n){Vs(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Vs(t,function(){e++}),e},toArray:function(t){return Vs(t,function(e){return e})||[]},only:function(t){if(!$c(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ee.Component=ri;ee.Fragment=qy;ee.Profiler=Jy;ee.PureComponent=Wc;ee.StrictMode=Xy;ee.Suspense=nv;ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cv;ee.act=Fh;ee.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Rh({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Uc.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(a in e)Oh.call(e,a)&&!Lh.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&c!==void 0?c[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){c=Array(a);for(var u=0;u<a;u++)c[u]=arguments[u+2];r.children=c}return{$$typeof:Ts,type:t.type,key:i,ref:s,props:r,_owner:o}};ee.createContext=function(t){return t={$$typeof:ev,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Zy,_context:t},t.Consumer=t};ee.createElement=Mh;ee.createFactory=function(t){var e=Mh.bind(null,t);return e.type=t,e};ee.createRef=function(){return{current:null}};ee.forwardRef=function(t){return{$$typeof:tv,render:t}};ee.isValidElement=$c;ee.lazy=function(t){return{$$typeof:iv,_payload:{_status:-1,_result:t},_init:av}};ee.memo=function(t,e){return{$$typeof:rv,type:t,compare:e===void 0?null:e}};ee.startTransition=function(t){var e=uo.transition;uo.transition={};try{t()}finally{uo.transition=e}};ee.unstable_act=Fh;ee.useCallback=function(t,e){return tt.current.useCallback(t,e)};ee.useContext=function(t){return tt.current.useContext(t)};ee.useDebugValue=function(){};ee.useDeferredValue=function(t){return tt.current.useDeferredValue(t)};ee.useEffect=function(t,e){return tt.current.useEffect(t,e)};ee.useId=function(){return tt.current.useId()};ee.useImperativeHandle=function(t,e,n){return tt.current.useImperativeHandle(t,e,n)};ee.useInsertionEffect=function(t,e){return tt.current.useInsertionEffect(t,e)};ee.useLayoutEffect=function(t,e){return tt.current.useLayoutEffect(t,e)};ee.useMemo=function(t,e){return tt.current.useMemo(t,e)};ee.useReducer=function(t,e,n){return tt.current.useReducer(t,e,n)};ee.useRef=function(t){return tt.current.useRef(t)};ee.useState=function(t){return tt.current.useState(t)};ee.useSyncExternalStore=function(t,e,n){return tt.current.useSyncExternalStore(t,e,n)};ee.useTransition=function(){return tt.current.useTransition()};ee.version="18.3.1";Ph.exports=ee;var F=Ph.exports;const ba=Qy(F);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv=F,dv=Symbol.for("react.element"),fv=Symbol.for("react.fragment"),hv=Object.prototype.hasOwnProperty,pv=uv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mv={key:!0,ref:!0,__self:!0,__source:!0};function zh(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)hv.call(e,r)&&!mv.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:dv,type:t,key:s,ref:o,props:i,_owner:pv.current}}ul.Fragment=fv;ul.jsx=zh;ul.jsxs=zh;Ih.exports=ul;var l=Ih.exports,Ia={},Wh={exports:{}},mt={},Bh={exports:{}},Uh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,$){var H=M.length;M.push($);e:for(;0<H;){var he=H-1>>>1,Te=M[he];if(0<i(Te,$))M[he]=$,M[H]=Te,H=he;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var $=M[0],H=M.pop();if(H!==$){M[0]=H;e:for(var he=0,Te=M.length,Un=Te>>>1;he<Un;){var Yt=2*(he+1)-1,ui=M[Yt],vt=Yt+1,mr=M[vt];if(0>i(ui,H))vt<Te&&0>i(mr,ui)?(M[he]=mr,M[vt]=H,he=vt):(M[he]=ui,M[Yt]=H,he=Yt);else if(vt<Te&&0>i(mr,H))M[he]=mr,M[vt]=H,he=vt;else break e}}return $}function i(M,$){var H=M.sortIndex-$.sortIndex;return H!==0?H:M.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var a=[],u=[],p=1,h=null,f=3,_=!1,C=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(M){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=M)r(u),$.sortIndex=$.expirationTime,e(a,$);else break;$=n(u)}}function N(M){if(w=!1,x(M),!C)if(n(a)!==null)C=!0,yt(R);else{var $=n(u);$!==null&&Xe(N,$.startTime-M)}}function R(M,$){C=!1,w&&(w=!1,g(A),A=-1),_=!0;var H=f;try{for(x($),h=n(a);h!==null&&(!(h.expirationTime>$)||M&&!re());){var he=h.callback;if(typeof he=="function"){h.callback=null,f=h.priorityLevel;var Te=he(h.expirationTime<=$);$=t.unstable_now(),typeof Te=="function"?h.callback=Te:h===n(a)&&r(a),x($)}else r(a);h=n(a)}if(h!==null)var Un=!0;else{var Yt=n(u);Yt!==null&&Xe(N,Yt.startTime-$),Un=!1}return Un}finally{h=null,f=H,_=!1}}var E=!1,I=null,A=-1,Y=5,V=-1;function re(){return!(t.unstable_now()-V<Y)}function je(){if(I!==null){var M=t.unstable_now();V=M;var $=!0;try{$=I(!0,M)}finally{$?Ft():(E=!1,I=null)}}else E=!1}var Ft;if(typeof m=="function")Ft=function(){m(je)};else if(typeof MessageChannel<"u"){var hr=new MessageChannel,pr=hr.port2;hr.port1.onmessage=je,Ft=function(){pr.postMessage(null)}}else Ft=function(){S(je,0)};function yt(M){I=M,E||(E=!0,Ft())}function Xe(M,$){A=S(function(){M(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){C||_||(C=!0,yt(R))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(M){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var H=f;f=$;try{return M()}finally{f=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,$){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var H=f;f=M;try{return $()}finally{f=H}},t.unstable_scheduleCallback=function(M,$,H){var he=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?he+H:he):H=he,M){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=H+Te,M={id:p++,callback:$,priorityLevel:M,startTime:H,expirationTime:Te,sortIndex:-1},H>he?(M.sortIndex=H,e(u,M),n(a)===null&&M===n(u)&&(w?(g(A),A=-1):w=!0,Xe(N,H-he))):(M.sortIndex=Te,e(a,M),C||_||(C=!0,yt(R))),M},t.unstable_shouldYield=re,t.unstable_wrapCallback=function(M){var $=f;return function(){var H=f;f=$;try{return M.apply(this,arguments)}finally{f=H}}}})(Uh);Bh.exports=Uh;var gv=Bh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv=F,pt=gv;function j(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $h=new Set,Ji={};function cr(t,e){Hr(t,e),Hr(t+"Capture",e)}function Hr(t,e){for(Ji[t]=e,t=0;t<e.length;t++)$h.add(e[t])}var nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pa=Object.prototype.hasOwnProperty,vv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bd={},Id={};function _v(t){return Pa.call(Id,t)?!0:Pa.call(bd,t)?!1:vv.test(t)?Id[t]=!0:(bd[t]=!0,!1)}function xv(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function wv(t,e,n,r){if(e===null||typeof e>"u"||xv(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function nt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ge[t]=new nt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ge[e]=new nt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ge[t]=new nt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ge[t]=new nt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ge[t]=new nt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ge[t]=new nt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ge[t]=new nt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ge[t]=new nt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ge[t]=new nt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Vc=/[\-:]([a-z])/g;function Gc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Vc,Gc);Ge[e]=new nt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Vc,Gc);Ge[e]=new nt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Vc,Gc);Ge[e]=new nt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ge[t]=new nt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ge.xlinkHref=new nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ge[t]=new nt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Hc(t,e,n,r){var i=Ge.hasOwnProperty(e)?Ge[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(wv(e,n,i,r)&&(n=null),r||i===null?_v(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var cn=yv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gs=Symbol.for("react.element"),Er=Symbol.for("react.portal"),kr=Symbol.for("react.fragment"),Yc=Symbol.for("react.strict_mode"),ja=Symbol.for("react.profiler"),Vh=Symbol.for("react.provider"),Gh=Symbol.for("react.context"),Qc=Symbol.for("react.forward_ref"),Ra=Symbol.for("react.suspense"),Aa=Symbol.for("react.suspense_list"),Kc=Symbol.for("react.memo"),gn=Symbol.for("react.lazy"),Hh=Symbol.for("react.offscreen"),Pd=Symbol.iterator;function wi(t){return t===null||typeof t!="object"?null:(t=Pd&&t[Pd]||t["@@iterator"],typeof t=="function"?t:null)}var Ce=Object.assign,Gl;function Di(t){if(Gl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Gl=e&&e[1]||""}return`
`+Gl+t}var Hl=!1;function Yl(t,e){if(!t||Hl)return"";Hl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,c=s.length-1;1<=o&&0<=c&&i[o]!==s[c];)c--;for(;1<=o&&0<=c;o--,c--)if(i[o]!==s[c]){if(o!==1||c!==1)do if(o--,c--,0>c||i[o]!==s[c]){var a=`
`+i[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=c);break}}}finally{Hl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Di(t):""}function Sv(t){switch(t.tag){case 5:return Di(t.type);case 16:return Di("Lazy");case 13:return Di("Suspense");case 19:return Di("SuspenseList");case 0:case 2:case 15:return t=Yl(t.type,!1),t;case 11:return t=Yl(t.type.render,!1),t;case 1:return t=Yl(t.type,!0),t;default:return""}}function Da(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case kr:return"Fragment";case Er:return"Portal";case ja:return"Profiler";case Yc:return"StrictMode";case Ra:return"Suspense";case Aa:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Gh:return(t.displayName||"Context")+".Consumer";case Vh:return(t._context.displayName||"Context")+".Provider";case Qc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Kc:return e=t.displayName||null,e!==null?e:Da(t.type)||"Memo";case gn:e=t._payload,t=t._init;try{return Da(t(e))}catch{}}return null}function Cv(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Da(e);case 8:return e===Yc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Dn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yh(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ev(t){var e=Yh(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Hs(t){t._valueTracker||(t._valueTracker=Ev(t))}function Qh(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Yh(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Co(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Oa(t,e){var n=e.checked;return Ce({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function jd(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Dn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Kh(t,e){e=e.checked,e!=null&&Hc(t,"checked",e,!1)}function La(t,e){Kh(t,e);var n=Dn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ma(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ma(t,e.type,Dn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Rd(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ma(t,e,n){(e!=="number"||Co(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Oi=Array.isArray;function Mr(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Dn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Fa(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return Ce({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ad(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(j(92));if(Oi(n)){if(1<n.length)throw Error(j(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Dn(n)}}function qh(t,e){var n=Dn(e.value),r=Dn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Dd(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Xh(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function za(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Xh(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ys,Jh=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ys=Ys||document.createElement("div"),Ys.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ys.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Zi(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Fi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kv=["Webkit","ms","Moz","O"];Object.keys(Fi).forEach(function(t){kv.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Fi[e]=Fi[t]})});function Zh(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Fi.hasOwnProperty(t)&&Fi[t]?(""+e).trim():e+"px"}function ep(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Zh(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Nv=Ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wa(t,e){if(e){if(Nv[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function Ba(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ua=null;function qc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $a=null,Fr=null,zr=null;function Od(t){if(t=Ps(t)){if(typeof $a!="function")throw Error(j(280));var e=t.stateNode;e&&(e=ml(e),$a(t.stateNode,t.type,e))}}function tp(t){Fr?zr?zr.push(t):zr=[t]:Fr=t}function np(){if(Fr){var t=Fr,e=zr;if(zr=Fr=null,Od(t),e)for(t=0;t<e.length;t++)Od(e[t])}}function rp(t,e){return t(e)}function ip(){}var Ql=!1;function sp(t,e,n){if(Ql)return t(e,n);Ql=!0;try{return rp(t,e,n)}finally{Ql=!1,(Fr!==null||zr!==null)&&(ip(),np())}}function es(t,e){var n=t.stateNode;if(n===null)return null;var r=ml(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(j(231,e,typeof n));return n}var Va=!1;if(nn)try{var Si={};Object.defineProperty(Si,"passive",{get:function(){Va=!0}}),window.addEventListener("test",Si,Si),window.removeEventListener("test",Si,Si)}catch{Va=!1}function Tv(t,e,n,r,i,s,o,c,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(p){this.onError(p)}}var zi=!1,Eo=null,ko=!1,Ga=null,bv={onError:function(t){zi=!0,Eo=t}};function Iv(t,e,n,r,i,s,o,c,a){zi=!1,Eo=null,Tv.apply(bv,arguments)}function Pv(t,e,n,r,i,s,o,c,a){if(Iv.apply(this,arguments),zi){if(zi){var u=Eo;zi=!1,Eo=null}else throw Error(j(198));ko||(ko=!0,Ga=u)}}function ur(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function op(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ld(t){if(ur(t)!==t)throw Error(j(188))}function jv(t){var e=t.alternate;if(!e){if(e=ur(t),e===null)throw Error(j(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ld(i),t;if(s===r)return Ld(i),e;s=s.sibling}throw Error(j(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,c=i.child;c;){if(c===n){o=!0,n=i,r=s;break}if(c===r){o=!0,r=i,n=s;break}c=c.sibling}if(!o){for(c=s.child;c;){if(c===n){o=!0,n=s,r=i;break}if(c===r){o=!0,r=s,n=i;break}c=c.sibling}if(!o)throw Error(j(189))}}if(n.alternate!==r)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?t:e}function lp(t){return t=jv(t),t!==null?ap(t):null}function ap(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ap(t);if(e!==null)return e;t=t.sibling}return null}var cp=pt.unstable_scheduleCallback,Md=pt.unstable_cancelCallback,Rv=pt.unstable_shouldYield,Av=pt.unstable_requestPaint,Pe=pt.unstable_now,Dv=pt.unstable_getCurrentPriorityLevel,Xc=pt.unstable_ImmediatePriority,up=pt.unstable_UserBlockingPriority,No=pt.unstable_NormalPriority,Ov=pt.unstable_LowPriority,dp=pt.unstable_IdlePriority,dl=null,Vt=null;function Lv(t){if(Vt&&typeof Vt.onCommitFiberRoot=="function")try{Vt.onCommitFiberRoot(dl,t,void 0,(t.current.flags&128)===128)}catch{}}var Dt=Math.clz32?Math.clz32:zv,Mv=Math.log,Fv=Math.LN2;function zv(t){return t>>>=0,t===0?32:31-(Mv(t)/Fv|0)|0}var Qs=64,Ks=4194304;function Li(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function To(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var c=o&~i;c!==0?r=Li(c):(s&=o,s!==0&&(r=Li(s)))}else o=n&~i,o!==0?r=Li(o):s!==0&&(r=Li(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Dt(e),i=1<<n,r|=t[n],e&=~i;return r}function Wv(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bv(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Dt(s),c=1<<o,a=i[o];a===-1?(!(c&n)||c&r)&&(i[o]=Wv(c,e)):a<=e&&(t.expiredLanes|=c),s&=~c}}function Ha(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function fp(){var t=Qs;return Qs<<=1,!(Qs&4194240)&&(Qs=64),t}function Kl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function bs(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Dt(e),t[e]=n}function Uv(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Dt(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Jc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Dt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ae=0;function hp(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var pp,Zc,mp,gp,yp,Ya=!1,qs=[],Sn=null,Cn=null,En=null,ts=new Map,ns=new Map,vn=[],$v="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fd(t,e){switch(t){case"focusin":case"focusout":Sn=null;break;case"dragenter":case"dragleave":Cn=null;break;case"mouseover":case"mouseout":En=null;break;case"pointerover":case"pointerout":ts.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ns.delete(e.pointerId)}}function Ci(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ps(e),e!==null&&Zc(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Vv(t,e,n,r,i){switch(e){case"focusin":return Sn=Ci(Sn,t,e,n,r,i),!0;case"dragenter":return Cn=Ci(Cn,t,e,n,r,i),!0;case"mouseover":return En=Ci(En,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ts.set(s,Ci(ts.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ns.set(s,Ci(ns.get(s)||null,t,e,n,r,i)),!0}return!1}function vp(t){var e=Qn(t.target);if(e!==null){var n=ur(e);if(n!==null){if(e=n.tag,e===13){if(e=op(n),e!==null){t.blockedOn=e,yp(t.priority,function(){mp(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function fo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Qa(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ua=r,n.target.dispatchEvent(r),Ua=null}else return e=Ps(n),e!==null&&Zc(e),t.blockedOn=n,!1;e.shift()}return!0}function zd(t,e,n){fo(t)&&n.delete(e)}function Gv(){Ya=!1,Sn!==null&&fo(Sn)&&(Sn=null),Cn!==null&&fo(Cn)&&(Cn=null),En!==null&&fo(En)&&(En=null),ts.forEach(zd),ns.forEach(zd)}function Ei(t,e){t.blockedOn===e&&(t.blockedOn=null,Ya||(Ya=!0,pt.unstable_scheduleCallback(pt.unstable_NormalPriority,Gv)))}function rs(t){function e(i){return Ei(i,t)}if(0<qs.length){Ei(qs[0],t);for(var n=1;n<qs.length;n++){var r=qs[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Sn!==null&&Ei(Sn,t),Cn!==null&&Ei(Cn,t),En!==null&&Ei(En,t),ts.forEach(e),ns.forEach(e),n=0;n<vn.length;n++)r=vn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<vn.length&&(n=vn[0],n.blockedOn===null);)vp(n),n.blockedOn===null&&vn.shift()}var Wr=cn.ReactCurrentBatchConfig,bo=!0;function Hv(t,e,n,r){var i=ae,s=Wr.transition;Wr.transition=null;try{ae=1,eu(t,e,n,r)}finally{ae=i,Wr.transition=s}}function Yv(t,e,n,r){var i=ae,s=Wr.transition;Wr.transition=null;try{ae=4,eu(t,e,n,r)}finally{ae=i,Wr.transition=s}}function eu(t,e,n,r){if(bo){var i=Qa(t,e,n,r);if(i===null)sa(t,e,r,Io,n),Fd(t,r);else if(Vv(i,t,e,n,r))r.stopPropagation();else if(Fd(t,r),e&4&&-1<$v.indexOf(t)){for(;i!==null;){var s=Ps(i);if(s!==null&&pp(s),s=Qa(t,e,n,r),s===null&&sa(t,e,r,Io,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else sa(t,e,r,null,n)}}var Io=null;function Qa(t,e,n,r){if(Io=null,t=qc(r),t=Qn(t),t!==null)if(e=ur(t),e===null)t=null;else if(n=e.tag,n===13){if(t=op(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Io=t,null}function _p(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Dv()){case Xc:return 1;case up:return 4;case No:case Ov:return 16;case dp:return 536870912;default:return 16}default:return 16}}var xn=null,tu=null,ho=null;function xp(){if(ho)return ho;var t,e=tu,n=e.length,r,i="value"in xn?xn.value:xn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return ho=i.slice(t,1<r?1-r:void 0)}function po(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Xs(){return!0}function Wd(){return!1}function gt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(s):s[c]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Xs:Wd,this.isPropagationStopped=Wd,this}return Ce(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xs)},persist:function(){},isPersistent:Xs}),e}var ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nu=gt(ii),Is=Ce({},ii,{view:0,detail:0}),Qv=gt(Is),ql,Xl,ki,fl=Ce({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ru,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ki&&(ki&&t.type==="mousemove"?(ql=t.screenX-ki.screenX,Xl=t.screenY-ki.screenY):Xl=ql=0,ki=t),ql)},movementY:function(t){return"movementY"in t?t.movementY:Xl}}),Bd=gt(fl),Kv=Ce({},fl,{dataTransfer:0}),qv=gt(Kv),Xv=Ce({},Is,{relatedTarget:0}),Jl=gt(Xv),Jv=Ce({},ii,{animationName:0,elapsedTime:0,pseudoElement:0}),Zv=gt(Jv),e0=Ce({},ii,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),t0=gt(e0),n0=Ce({},ii,{data:0}),Ud=gt(n0),r0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},i0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},s0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function o0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=s0[t])?!!e[t]:!1}function ru(){return o0}var l0=Ce({},Is,{key:function(t){if(t.key){var e=r0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=po(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?i0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ru,charCode:function(t){return t.type==="keypress"?po(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?po(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),a0=gt(l0),c0=Ce({},fl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$d=gt(c0),u0=Ce({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ru}),d0=gt(u0),f0=Ce({},ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),h0=gt(f0),p0=Ce({},fl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),m0=gt(p0),g0=[9,13,27,32],iu=nn&&"CompositionEvent"in window,Wi=null;nn&&"documentMode"in document&&(Wi=document.documentMode);var y0=nn&&"TextEvent"in window&&!Wi,wp=nn&&(!iu||Wi&&8<Wi&&11>=Wi),Vd=" ",Gd=!1;function Sp(t,e){switch(t){case"keyup":return g0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Nr=!1;function v0(t,e){switch(t){case"compositionend":return Cp(e);case"keypress":return e.which!==32?null:(Gd=!0,Vd);case"textInput":return t=e.data,t===Vd&&Gd?null:t;default:return null}}function _0(t,e){if(Nr)return t==="compositionend"||!iu&&Sp(t,e)?(t=xp(),ho=tu=xn=null,Nr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return wp&&e.locale!=="ko"?null:e.data;default:return null}}var x0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!x0[t.type]:e==="textarea"}function Ep(t,e,n,r){tp(r),e=Po(e,"onChange"),0<e.length&&(n=new nu("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Bi=null,is=null;function w0(t){Op(t,0)}function hl(t){var e=Ir(t);if(Qh(e))return t}function S0(t,e){if(t==="change")return e}var kp=!1;if(nn){var Zl;if(nn){var ea="oninput"in document;if(!ea){var Yd=document.createElement("div");Yd.setAttribute("oninput","return;"),ea=typeof Yd.oninput=="function"}Zl=ea}else Zl=!1;kp=Zl&&(!document.documentMode||9<document.documentMode)}function Qd(){Bi&&(Bi.detachEvent("onpropertychange",Np),is=Bi=null)}function Np(t){if(t.propertyName==="value"&&hl(is)){var e=[];Ep(e,is,t,qc(t)),sp(w0,e)}}function C0(t,e,n){t==="focusin"?(Qd(),Bi=e,is=n,Bi.attachEvent("onpropertychange",Np)):t==="focusout"&&Qd()}function E0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hl(is)}function k0(t,e){if(t==="click")return hl(e)}function N0(t,e){if(t==="input"||t==="change")return hl(e)}function T0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Mt=typeof Object.is=="function"?Object.is:T0;function ss(t,e){if(Mt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Pa.call(e,i)||!Mt(t[i],e[i]))return!1}return!0}function Kd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qd(t,e){var n=Kd(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Kd(n)}}function Tp(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Tp(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function bp(){for(var t=window,e=Co();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Co(t.document)}return e}function su(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function b0(t){var e=bp(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Tp(n.ownerDocument.documentElement,n)){if(r!==null&&su(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=qd(n,s);var o=qd(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var I0=nn&&"documentMode"in document&&11>=document.documentMode,Tr=null,Ka=null,Ui=null,qa=!1;function Xd(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;qa||Tr==null||Tr!==Co(r)||(r=Tr,"selectionStart"in r&&su(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ui&&ss(Ui,r)||(Ui=r,r=Po(Ka,"onSelect"),0<r.length&&(e=new nu("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Tr)))}function Js(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var br={animationend:Js("Animation","AnimationEnd"),animationiteration:Js("Animation","AnimationIteration"),animationstart:Js("Animation","AnimationStart"),transitionend:Js("Transition","TransitionEnd")},ta={},Ip={};nn&&(Ip=document.createElement("div").style,"AnimationEvent"in window||(delete br.animationend.animation,delete br.animationiteration.animation,delete br.animationstart.animation),"TransitionEvent"in window||delete br.transitionend.transition);function pl(t){if(ta[t])return ta[t];if(!br[t])return t;var e=br[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Ip)return ta[t]=e[n];return t}var Pp=pl("animationend"),jp=pl("animationiteration"),Rp=pl("animationstart"),Ap=pl("transitionend"),Dp=new Map,Jd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zn(t,e){Dp.set(t,e),cr(e,[t])}for(var na=0;na<Jd.length;na++){var ra=Jd[na],P0=ra.toLowerCase(),j0=ra[0].toUpperCase()+ra.slice(1);zn(P0,"on"+j0)}zn(Pp,"onAnimationEnd");zn(jp,"onAnimationIteration");zn(Rp,"onAnimationStart");zn("dblclick","onDoubleClick");zn("focusin","onFocus");zn("focusout","onBlur");zn(Ap,"onTransitionEnd");Hr("onMouseEnter",["mouseout","mouseover"]);Hr("onMouseLeave",["mouseout","mouseover"]);Hr("onPointerEnter",["pointerout","pointerover"]);Hr("onPointerLeave",["pointerout","pointerover"]);cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cr("onBeforeInput",["compositionend","keypress","textInput","paste"]);cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mi));function Zd(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Pv(r,e,void 0,t),t.currentTarget=null}function Op(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var c=r[o],a=c.instance,u=c.currentTarget;if(c=c.listener,a!==s&&i.isPropagationStopped())break e;Zd(i,c,u),s=a}else for(o=0;o<r.length;o++){if(c=r[o],a=c.instance,u=c.currentTarget,c=c.listener,a!==s&&i.isPropagationStopped())break e;Zd(i,c,u),s=a}}}if(ko)throw t=Ga,ko=!1,Ga=null,t}function pe(t,e){var n=e[tc];n===void 0&&(n=e[tc]=new Set);var r=t+"__bubble";n.has(r)||(Lp(e,t,2,!1),n.add(r))}function ia(t,e,n){var r=0;e&&(r|=4),Lp(n,t,r,e)}var Zs="_reactListening"+Math.random().toString(36).slice(2);function os(t){if(!t[Zs]){t[Zs]=!0,$h.forEach(function(n){n!=="selectionchange"&&(R0.has(n)||ia(n,!1,t),ia(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Zs]||(e[Zs]=!0,ia("selectionchange",!1,e))}}function Lp(t,e,n,r){switch(_p(e)){case 1:var i=Hv;break;case 4:i=Yv;break;default:i=eu}n=i.bind(null,e,n,t),i=void 0,!Va||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function sa(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var c=r.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;c!==null;){if(o=Qn(c),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}c=c.parentNode}}r=r.return}sp(function(){var u=s,p=qc(n),h=[];e:{var f=Dp.get(t);if(f!==void 0){var _=nu,C=t;switch(t){case"keypress":if(po(n)===0)break e;case"keydown":case"keyup":_=a0;break;case"focusin":C="focus",_=Jl;break;case"focusout":C="blur",_=Jl;break;case"beforeblur":case"afterblur":_=Jl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=qv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=d0;break;case Pp:case jp:case Rp:_=Zv;break;case Ap:_=h0;break;case"scroll":_=Qv;break;case"wheel":_=m0;break;case"copy":case"cut":case"paste":_=t0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=$d}var w=(e&4)!==0,S=!w&&t==="scroll",g=w?f!==null?f+"Capture":null:f;w=[];for(var m=u,x;m!==null;){x=m;var N=x.stateNode;if(x.tag===5&&N!==null&&(x=N,g!==null&&(N=es(m,g),N!=null&&w.push(ls(m,N,x)))),S)break;m=m.return}0<w.length&&(f=new _(f,C,null,n,p),h.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",f&&n!==Ua&&(C=n.relatedTarget||n.fromElement)&&(Qn(C)||C[rn]))break e;if((_||f)&&(f=p.window===p?p:(f=p.ownerDocument)?f.defaultView||f.parentWindow:window,_?(C=n.relatedTarget||n.toElement,_=u,C=C?Qn(C):null,C!==null&&(S=ur(C),C!==S||C.tag!==5&&C.tag!==6)&&(C=null)):(_=null,C=u),_!==C)){if(w=Bd,N="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(w=$d,N="onPointerLeave",g="onPointerEnter",m="pointer"),S=_==null?f:Ir(_),x=C==null?f:Ir(C),f=new w(N,m+"leave",_,n,p),f.target=S,f.relatedTarget=x,N=null,Qn(p)===u&&(w=new w(g,m+"enter",C,n,p),w.target=x,w.relatedTarget=S,N=w),S=N,_&&C)t:{for(w=_,g=C,m=0,x=w;x;x=Sr(x))m++;for(x=0,N=g;N;N=Sr(N))x++;for(;0<m-x;)w=Sr(w),m--;for(;0<x-m;)g=Sr(g),x--;for(;m--;){if(w===g||g!==null&&w===g.alternate)break t;w=Sr(w),g=Sr(g)}w=null}else w=null;_!==null&&ef(h,f,_,w,!1),C!==null&&S!==null&&ef(h,S,C,w,!0)}}e:{if(f=u?Ir(u):window,_=f.nodeName&&f.nodeName.toLowerCase(),_==="select"||_==="input"&&f.type==="file")var R=S0;else if(Hd(f))if(kp)R=N0;else{R=E0;var E=C0}else(_=f.nodeName)&&_.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(R=k0);if(R&&(R=R(t,u))){Ep(h,R,n,p);break e}E&&E(t,f,u),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&Ma(f,"number",f.value)}switch(E=u?Ir(u):window,t){case"focusin":(Hd(E)||E.contentEditable==="true")&&(Tr=E,Ka=u,Ui=null);break;case"focusout":Ui=Ka=Tr=null;break;case"mousedown":qa=!0;break;case"contextmenu":case"mouseup":case"dragend":qa=!1,Xd(h,n,p);break;case"selectionchange":if(I0)break;case"keydown":case"keyup":Xd(h,n,p)}var I;if(iu)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Nr?Sp(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(wp&&n.locale!=="ko"&&(Nr||A!=="onCompositionStart"?A==="onCompositionEnd"&&Nr&&(I=xp()):(xn=p,tu="value"in xn?xn.value:xn.textContent,Nr=!0)),E=Po(u,A),0<E.length&&(A=new Ud(A,t,null,n,p),h.push({event:A,listeners:E}),I?A.data=I:(I=Cp(n),I!==null&&(A.data=I)))),(I=y0?v0(t,n):_0(t,n))&&(u=Po(u,"onBeforeInput"),0<u.length&&(p=new Ud("onBeforeInput","beforeinput",null,n,p),h.push({event:p,listeners:u}),p.data=I))}Op(h,e)})}function ls(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Po(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=es(t,n),s!=null&&r.unshift(ls(t,s,i)),s=es(t,e),s!=null&&r.push(ls(t,s,i))),t=t.return}return r}function Sr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ef(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var c=n,a=c.alternate,u=c.stateNode;if(a!==null&&a===r)break;c.tag===5&&u!==null&&(c=u,i?(a=es(n,s),a!=null&&o.unshift(ls(n,a,c))):i||(a=es(n,s),a!=null&&o.push(ls(n,a,c)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var A0=/\r\n?/g,D0=/\u0000|\uFFFD/g;function tf(t){return(typeof t=="string"?t:""+t).replace(A0,`
`).replace(D0,"")}function eo(t,e,n){if(e=tf(e),tf(t)!==e&&n)throw Error(j(425))}function jo(){}var Xa=null,Ja=null;function Za(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ec=typeof setTimeout=="function"?setTimeout:void 0,O0=typeof clearTimeout=="function"?clearTimeout:void 0,nf=typeof Promise=="function"?Promise:void 0,L0=typeof queueMicrotask=="function"?queueMicrotask:typeof nf<"u"?function(t){return nf.resolve(null).then(t).catch(M0)}:ec;function M0(t){setTimeout(function(){throw t})}function oa(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),rs(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);rs(e)}function kn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function rf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var si=Math.random().toString(36).slice(2),$t="__reactFiber$"+si,as="__reactProps$"+si,rn="__reactContainer$"+si,tc="__reactEvents$"+si,F0="__reactListeners$"+si,z0="__reactHandles$"+si;function Qn(t){var e=t[$t];if(e)return e;for(var n=t.parentNode;n;){if(e=n[rn]||n[$t]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=rf(t);t!==null;){if(n=t[$t])return n;t=rf(t)}return e}t=n,n=t.parentNode}return null}function Ps(t){return t=t[$t]||t[rn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ir(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(j(33))}function ml(t){return t[as]||null}var nc=[],Pr=-1;function Wn(t){return{current:t}}function ge(t){0>Pr||(t.current=nc[Pr],nc[Pr]=null,Pr--)}function fe(t,e){Pr++,nc[Pr]=t.current,t.current=e}var On={},qe=Wn(On),ot=Wn(!1),tr=On;function Yr(t,e){var n=t.type.contextTypes;if(!n)return On;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function lt(t){return t=t.childContextTypes,t!=null}function Ro(){ge(ot),ge(qe)}function sf(t,e,n){if(qe.current!==On)throw Error(j(168));fe(qe,e),fe(ot,n)}function Mp(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(j(108,Cv(t)||"Unknown",i));return Ce({},n,r)}function Ao(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||On,tr=qe.current,fe(qe,t),fe(ot,ot.current),!0}function of(t,e,n){var r=t.stateNode;if(!r)throw Error(j(169));n?(t=Mp(t,e,tr),r.__reactInternalMemoizedMergedChildContext=t,ge(ot),ge(qe),fe(qe,t)):ge(ot),fe(ot,n)}var qt=null,gl=!1,la=!1;function Fp(t){qt===null?qt=[t]:qt.push(t)}function W0(t){gl=!0,Fp(t)}function Bn(){if(!la&&qt!==null){la=!0;var t=0,e=ae;try{var n=qt;for(ae=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}qt=null,gl=!1}catch(i){throw qt!==null&&(qt=qt.slice(t+1)),cp(Xc,Bn),i}finally{ae=e,la=!1}}return null}var jr=[],Rr=0,Do=null,Oo=0,xt=[],wt=0,nr=null,Xt=1,Jt="";function Vn(t,e){jr[Rr++]=Oo,jr[Rr++]=Do,Do=t,Oo=e}function zp(t,e,n){xt[wt++]=Xt,xt[wt++]=Jt,xt[wt++]=nr,nr=t;var r=Xt;t=Jt;var i=32-Dt(r)-1;r&=~(1<<i),n+=1;var s=32-Dt(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xt=1<<32-Dt(e)+i|n<<i|r,Jt=s+t}else Xt=1<<s|n<<i|r,Jt=t}function ou(t){t.return!==null&&(Vn(t,1),zp(t,1,0))}function lu(t){for(;t===Do;)Do=jr[--Rr],jr[Rr]=null,Oo=jr[--Rr],jr[Rr]=null;for(;t===nr;)nr=xt[--wt],xt[wt]=null,Jt=xt[--wt],xt[wt]=null,Xt=xt[--wt],xt[wt]=null}var ht=null,ft=null,_e=!1,Pt=null;function Wp(t,e){var n=St(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function lf(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ht=t,ft=kn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ht=t,ft=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=nr!==null?{id:Xt,overflow:Jt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=St(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ht=t,ft=null,!0):!1;default:return!1}}function rc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ic(t){if(_e){var e=ft;if(e){var n=e;if(!lf(t,e)){if(rc(t))throw Error(j(418));e=kn(n.nextSibling);var r=ht;e&&lf(t,e)?Wp(r,n):(t.flags=t.flags&-4097|2,_e=!1,ht=t)}}else{if(rc(t))throw Error(j(418));t.flags=t.flags&-4097|2,_e=!1,ht=t}}}function af(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ht=t}function to(t){if(t!==ht)return!1;if(!_e)return af(t),_e=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Za(t.type,t.memoizedProps)),e&&(e=ft)){if(rc(t))throw Bp(),Error(j(418));for(;e;)Wp(t,e),e=kn(e.nextSibling)}if(af(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ft=kn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ft=null}}else ft=ht?kn(t.stateNode.nextSibling):null;return!0}function Bp(){for(var t=ft;t;)t=kn(t.nextSibling)}function Qr(){ft=ht=null,_e=!1}function au(t){Pt===null?Pt=[t]:Pt.push(t)}var B0=cn.ReactCurrentBatchConfig;function Ni(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(j(309));var r=n.stateNode}if(!r)throw Error(j(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var c=i.refs;o===null?delete c[s]:c[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(j(284));if(!n._owner)throw Error(j(290,t))}return t}function no(t,e){throw t=Object.prototype.toString.call(e),Error(j(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function cf(t){var e=t._init;return e(t._payload)}function Up(t){function e(g,m){if(t){var x=g.deletions;x===null?(g.deletions=[m],g.flags|=16):x.push(m)}}function n(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function i(g,m){return g=In(g,m),g.index=0,g.sibling=null,g}function s(g,m,x){return g.index=x,t?(x=g.alternate,x!==null?(x=x.index,x<m?(g.flags|=2,m):x):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function c(g,m,x,N){return m===null||m.tag!==6?(m=pa(x,g.mode,N),m.return=g,m):(m=i(m,x),m.return=g,m)}function a(g,m,x,N){var R=x.type;return R===kr?p(g,m,x.props.children,N,x.key):m!==null&&(m.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===gn&&cf(R)===m.type)?(N=i(m,x.props),N.ref=Ni(g,m,x),N.return=g,N):(N=wo(x.type,x.key,x.props,null,g.mode,N),N.ref=Ni(g,m,x),N.return=g,N)}function u(g,m,x,N){return m===null||m.tag!==4||m.stateNode.containerInfo!==x.containerInfo||m.stateNode.implementation!==x.implementation?(m=ma(x,g.mode,N),m.return=g,m):(m=i(m,x.children||[]),m.return=g,m)}function p(g,m,x,N,R){return m===null||m.tag!==7?(m=er(x,g.mode,N,R),m.return=g,m):(m=i(m,x),m.return=g,m)}function h(g,m,x){if(typeof m=="string"&&m!==""||typeof m=="number")return m=pa(""+m,g.mode,x),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Gs:return x=wo(m.type,m.key,m.props,null,g.mode,x),x.ref=Ni(g,null,m),x.return=g,x;case Er:return m=ma(m,g.mode,x),m.return=g,m;case gn:var N=m._init;return h(g,N(m._payload),x)}if(Oi(m)||wi(m))return m=er(m,g.mode,x,null),m.return=g,m;no(g,m)}return null}function f(g,m,x,N){var R=m!==null?m.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return R!==null?null:c(g,m,""+x,N);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Gs:return x.key===R?a(g,m,x,N):null;case Er:return x.key===R?u(g,m,x,N):null;case gn:return R=x._init,f(g,m,R(x._payload),N)}if(Oi(x)||wi(x))return R!==null?null:p(g,m,x,N,null);no(g,x)}return null}function _(g,m,x,N,R){if(typeof N=="string"&&N!==""||typeof N=="number")return g=g.get(x)||null,c(m,g,""+N,R);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Gs:return g=g.get(N.key===null?x:N.key)||null,a(m,g,N,R);case Er:return g=g.get(N.key===null?x:N.key)||null,u(m,g,N,R);case gn:var E=N._init;return _(g,m,x,E(N._payload),R)}if(Oi(N)||wi(N))return g=g.get(x)||null,p(m,g,N,R,null);no(m,N)}return null}function C(g,m,x,N){for(var R=null,E=null,I=m,A=m=0,Y=null;I!==null&&A<x.length;A++){I.index>A?(Y=I,I=null):Y=I.sibling;var V=f(g,I,x[A],N);if(V===null){I===null&&(I=Y);break}t&&I&&V.alternate===null&&e(g,I),m=s(V,m,A),E===null?R=V:E.sibling=V,E=V,I=Y}if(A===x.length)return n(g,I),_e&&Vn(g,A),R;if(I===null){for(;A<x.length;A++)I=h(g,x[A],N),I!==null&&(m=s(I,m,A),E===null?R=I:E.sibling=I,E=I);return _e&&Vn(g,A),R}for(I=r(g,I);A<x.length;A++)Y=_(I,g,A,x[A],N),Y!==null&&(t&&Y.alternate!==null&&I.delete(Y.key===null?A:Y.key),m=s(Y,m,A),E===null?R=Y:E.sibling=Y,E=Y);return t&&I.forEach(function(re){return e(g,re)}),_e&&Vn(g,A),R}function w(g,m,x,N){var R=wi(x);if(typeof R!="function")throw Error(j(150));if(x=R.call(x),x==null)throw Error(j(151));for(var E=R=null,I=m,A=m=0,Y=null,V=x.next();I!==null&&!V.done;A++,V=x.next()){I.index>A?(Y=I,I=null):Y=I.sibling;var re=f(g,I,V.value,N);if(re===null){I===null&&(I=Y);break}t&&I&&re.alternate===null&&e(g,I),m=s(re,m,A),E===null?R=re:E.sibling=re,E=re,I=Y}if(V.done)return n(g,I),_e&&Vn(g,A),R;if(I===null){for(;!V.done;A++,V=x.next())V=h(g,V.value,N),V!==null&&(m=s(V,m,A),E===null?R=V:E.sibling=V,E=V);return _e&&Vn(g,A),R}for(I=r(g,I);!V.done;A++,V=x.next())V=_(I,g,A,V.value,N),V!==null&&(t&&V.alternate!==null&&I.delete(V.key===null?A:V.key),m=s(V,m,A),E===null?R=V:E.sibling=V,E=V);return t&&I.forEach(function(je){return e(g,je)}),_e&&Vn(g,A),R}function S(g,m,x,N){if(typeof x=="object"&&x!==null&&x.type===kr&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Gs:e:{for(var R=x.key,E=m;E!==null;){if(E.key===R){if(R=x.type,R===kr){if(E.tag===7){n(g,E.sibling),m=i(E,x.props.children),m.return=g,g=m;break e}}else if(E.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===gn&&cf(R)===E.type){n(g,E.sibling),m=i(E,x.props),m.ref=Ni(g,E,x),m.return=g,g=m;break e}n(g,E);break}else e(g,E);E=E.sibling}x.type===kr?(m=er(x.props.children,g.mode,N,x.key),m.return=g,g=m):(N=wo(x.type,x.key,x.props,null,g.mode,N),N.ref=Ni(g,m,x),N.return=g,g=N)}return o(g);case Er:e:{for(E=x.key;m!==null;){if(m.key===E)if(m.tag===4&&m.stateNode.containerInfo===x.containerInfo&&m.stateNode.implementation===x.implementation){n(g,m.sibling),m=i(m,x.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else e(g,m);m=m.sibling}m=ma(x,g.mode,N),m.return=g,g=m}return o(g);case gn:return E=x._init,S(g,m,E(x._payload),N)}if(Oi(x))return C(g,m,x,N);if(wi(x))return w(g,m,x,N);no(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,m!==null&&m.tag===6?(n(g,m.sibling),m=i(m,x),m.return=g,g=m):(n(g,m),m=pa(x,g.mode,N),m.return=g,g=m),o(g)):n(g,m)}return S}var Kr=Up(!0),$p=Up(!1),Lo=Wn(null),Mo=null,Ar=null,cu=null;function uu(){cu=Ar=Mo=null}function du(t){var e=Lo.current;ge(Lo),t._currentValue=e}function sc(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Br(t,e){Mo=t,cu=Ar=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(it=!0),t.firstContext=null)}function Et(t){var e=t._currentValue;if(cu!==t)if(t={context:t,memoizedValue:e,next:null},Ar===null){if(Mo===null)throw Error(j(308));Ar=t,Mo.dependencies={lanes:0,firstContext:t}}else Ar=Ar.next=t;return e}var Kn=null;function fu(t){Kn===null?Kn=[t]:Kn.push(t)}function Vp(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,fu(e)):(n.next=i.next,i.next=n),e.interleaved=n,sn(t,r)}function sn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var yn=!1;function hu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function en(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Nn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ie&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,sn(t,n)}return i=r.interleaved,i===null?(e.next=e,fu(r)):(e.next=i.next,i.next=e),r.interleaved=e,sn(t,n)}function mo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Jc(t,n)}}function uf(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Fo(t,e,n,r){var i=t.updateQueue;yn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var a=c,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var p=t.alternate;p!==null&&(p=p.updateQueue,c=p.lastBaseUpdate,c!==o&&(c===null?p.firstBaseUpdate=u:c.next=u,p.lastBaseUpdate=a))}if(s!==null){var h=i.baseState;o=0,p=u=a=null,c=s;do{var f=c.lane,_=c.eventTime;if((r&f)===f){p!==null&&(p=p.next={eventTime:_,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var C=t,w=c;switch(f=e,_=n,w.tag){case 1:if(C=w.payload,typeof C=="function"){h=C.call(_,h,f);break e}h=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=w.payload,f=typeof C=="function"?C.call(_,h,f):C,f==null)break e;h=Ce({},h,f);break e;case 2:yn=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[c]:f.push(c))}else _={eventTime:_,lane:f,tag:c.tag,payload:c.payload,callback:c.callback,next:null},p===null?(u=p=_,a=h):p=p.next=_,o|=f;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;f=c,c=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(p===null&&(a=h),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ir|=o,t.lanes=o,t.memoizedState=h}}function df(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(j(191,i));i.call(r)}}}var js={},Gt=Wn(js),cs=Wn(js),us=Wn(js);function qn(t){if(t===js)throw Error(j(174));return t}function pu(t,e){switch(fe(us,e),fe(cs,t),fe(Gt,js),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:za(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=za(e,t)}ge(Gt),fe(Gt,e)}function qr(){ge(Gt),ge(cs),ge(us)}function Hp(t){qn(us.current);var e=qn(Gt.current),n=za(e,t.type);e!==n&&(fe(cs,t),fe(Gt,n))}function mu(t){cs.current===t&&(ge(Gt),ge(cs))}var we=Wn(0);function zo(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var aa=[];function gu(){for(var t=0;t<aa.length;t++)aa[t]._workInProgressVersionPrimary=null;aa.length=0}var go=cn.ReactCurrentDispatcher,ca=cn.ReactCurrentBatchConfig,rr=0,Se=null,Ae=null,ze=null,Wo=!1,$i=!1,ds=0,U0=0;function He(){throw Error(j(321))}function yu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Mt(t[n],e[n]))return!1;return!0}function vu(t,e,n,r,i,s){if(rr=s,Se=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,go.current=t===null||t.memoizedState===null?H0:Y0,t=n(r,i),$i){s=0;do{if($i=!1,ds=0,25<=s)throw Error(j(301));s+=1,ze=Ae=null,e.updateQueue=null,go.current=Q0,t=n(r,i)}while($i)}if(go.current=Bo,e=Ae!==null&&Ae.next!==null,rr=0,ze=Ae=Se=null,Wo=!1,e)throw Error(j(300));return t}function _u(){var t=ds!==0;return ds=0,t}function Ut(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?Se.memoizedState=ze=t:ze=ze.next=t,ze}function kt(){if(Ae===null){var t=Se.alternate;t=t!==null?t.memoizedState:null}else t=Ae.next;var e=ze===null?Se.memoizedState:ze.next;if(e!==null)ze=e,Ae=t;else{if(t===null)throw Error(j(310));Ae=t,t={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},ze===null?Se.memoizedState=ze=t:ze=ze.next=t}return ze}function fs(t,e){return typeof e=="function"?e(t):e}function ua(t){var e=kt(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=Ae,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var c=o=null,a=null,u=s;do{var p=u.lane;if((rr&p)===p)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:p,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(c=a=h,o=r):a=a.next=h,Se.lanes|=p,ir|=p}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=c,Mt(r,e.memoizedState)||(it=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Se.lanes|=s,ir|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function da(t){var e=kt(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Mt(s,e.memoizedState)||(it=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Yp(){}function Qp(t,e){var n=Se,r=kt(),i=e(),s=!Mt(r.memoizedState,i);if(s&&(r.memoizedState=i,it=!0),r=r.queue,xu(Xp.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ze!==null&&ze.memoizedState.tag&1){if(n.flags|=2048,hs(9,qp.bind(null,n,r,i,e),void 0,null),Ue===null)throw Error(j(349));rr&30||Kp(n,e,i)}return i}function Kp(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Se.updateQueue,e===null?(e={lastEffect:null,stores:null},Se.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function qp(t,e,n,r){e.value=n,e.getSnapshot=r,Jp(e)&&Zp(t)}function Xp(t,e,n){return n(function(){Jp(e)&&Zp(t)})}function Jp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Mt(t,n)}catch{return!0}}function Zp(t){var e=sn(t,1);e!==null&&Ot(e,t,1,-1)}function ff(t){var e=Ut();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:t},e.queue=t,t=t.dispatch=G0.bind(null,Se,t),[e.memoizedState,t]}function hs(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Se.updateQueue,e===null?(e={lastEffect:null,stores:null},Se.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function em(){return kt().memoizedState}function yo(t,e,n,r){var i=Ut();Se.flags|=t,i.memoizedState=hs(1|e,n,void 0,r===void 0?null:r)}function yl(t,e,n,r){var i=kt();r=r===void 0?null:r;var s=void 0;if(Ae!==null){var o=Ae.memoizedState;if(s=o.destroy,r!==null&&yu(r,o.deps)){i.memoizedState=hs(e,n,s,r);return}}Se.flags|=t,i.memoizedState=hs(1|e,n,s,r)}function hf(t,e){return yo(8390656,8,t,e)}function xu(t,e){return yl(2048,8,t,e)}function tm(t,e){return yl(4,2,t,e)}function nm(t,e){return yl(4,4,t,e)}function rm(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function im(t,e,n){return n=n!=null?n.concat([t]):null,yl(4,4,rm.bind(null,e,t),n)}function wu(){}function sm(t,e){var n=kt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&yu(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function om(t,e){var n=kt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&yu(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function lm(t,e,n){return rr&21?(Mt(n,e)||(n=fp(),Se.lanes|=n,ir|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,it=!0),t.memoizedState=n)}function $0(t,e){var n=ae;ae=n!==0&&4>n?n:4,t(!0);var r=ca.transition;ca.transition={};try{t(!1),e()}finally{ae=n,ca.transition=r}}function am(){return kt().memoizedState}function V0(t,e,n){var r=bn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},cm(t))um(e,n);else if(n=Vp(t,e,n,r),n!==null){var i=et();Ot(n,t,r,i),dm(n,e,r)}}function G0(t,e,n){var r=bn(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cm(t))um(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,c=s(o,n);if(i.hasEagerState=!0,i.eagerState=c,Mt(c,o)){var a=e.interleaved;a===null?(i.next=i,fu(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=Vp(t,e,i,r),n!==null&&(i=et(),Ot(n,t,r,i),dm(n,e,r))}}function cm(t){var e=t.alternate;return t===Se||e!==null&&e===Se}function um(t,e){$i=Wo=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function dm(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Jc(t,n)}}var Bo={readContext:Et,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useInsertionEffect:He,useLayoutEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useMutableSource:He,useSyncExternalStore:He,useId:He,unstable_isNewReconciler:!1},H0={readContext:Et,useCallback:function(t,e){return Ut().memoizedState=[t,e===void 0?null:e],t},useContext:Et,useEffect:hf,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,yo(4194308,4,rm.bind(null,e,t),n)},useLayoutEffect:function(t,e){return yo(4194308,4,t,e)},useInsertionEffect:function(t,e){return yo(4,2,t,e)},useMemo:function(t,e){var n=Ut();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ut();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=V0.bind(null,Se,t),[r.memoizedState,t]},useRef:function(t){var e=Ut();return t={current:t},e.memoizedState=t},useState:ff,useDebugValue:wu,useDeferredValue:function(t){return Ut().memoizedState=t},useTransition:function(){var t=ff(!1),e=t[0];return t=$0.bind(null,t[1]),Ut().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Se,i=Ut();if(_e){if(n===void 0)throw Error(j(407));n=n()}else{if(n=e(),Ue===null)throw Error(j(349));rr&30||Kp(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,hf(Xp.bind(null,r,s,t),[t]),r.flags|=2048,hs(9,qp.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Ut(),e=Ue.identifierPrefix;if(_e){var n=Jt,r=Xt;n=(r&~(1<<32-Dt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ds++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=U0++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Y0={readContext:Et,useCallback:sm,useContext:Et,useEffect:xu,useImperativeHandle:im,useInsertionEffect:tm,useLayoutEffect:nm,useMemo:om,useReducer:ua,useRef:em,useState:function(){return ua(fs)},useDebugValue:wu,useDeferredValue:function(t){var e=kt();return lm(e,Ae.memoizedState,t)},useTransition:function(){var t=ua(fs)[0],e=kt().memoizedState;return[t,e]},useMutableSource:Yp,useSyncExternalStore:Qp,useId:am,unstable_isNewReconciler:!1},Q0={readContext:Et,useCallback:sm,useContext:Et,useEffect:xu,useImperativeHandle:im,useInsertionEffect:tm,useLayoutEffect:nm,useMemo:om,useReducer:da,useRef:em,useState:function(){return da(fs)},useDebugValue:wu,useDeferredValue:function(t){var e=kt();return Ae===null?e.memoizedState=t:lm(e,Ae.memoizedState,t)},useTransition:function(){var t=da(fs)[0],e=kt().memoizedState;return[t,e]},useMutableSource:Yp,useSyncExternalStore:Qp,useId:am,unstable_isNewReconciler:!1};function bt(t,e){if(t&&t.defaultProps){e=Ce({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function oc(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ce({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var vl={isMounted:function(t){return(t=t._reactInternals)?ur(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=et(),i=bn(t),s=en(r,i);s.payload=e,n!=null&&(s.callback=n),e=Nn(t,s,i),e!==null&&(Ot(e,t,i,r),mo(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=et(),i=bn(t),s=en(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Nn(t,s,i),e!==null&&(Ot(e,t,i,r),mo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=et(),r=bn(t),i=en(n,r);i.tag=2,e!=null&&(i.callback=e),e=Nn(t,i,r),e!==null&&(Ot(e,t,r,n),mo(e,t,r))}};function pf(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ss(n,r)||!ss(i,s):!0}function fm(t,e,n){var r=!1,i=On,s=e.contextType;return typeof s=="object"&&s!==null?s=Et(s):(i=lt(e)?tr:qe.current,r=e.contextTypes,s=(r=r!=null)?Yr(t,i):On),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=vl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function mf(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&vl.enqueueReplaceState(e,e.state,null)}function lc(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},hu(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Et(s):(s=lt(e)?tr:qe.current,i.context=Yr(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(oc(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&vl.enqueueReplaceState(i,i.state,null),Fo(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Xr(t,e){try{var n="",r=e;do n+=Sv(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function fa(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ac(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var K0=typeof WeakMap=="function"?WeakMap:Map;function hm(t,e,n){n=en(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){$o||($o=!0,vc=r),ac(t,e)},n}function pm(t,e,n){n=en(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ac(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ac(t,e),typeof r!="function"&&(Tn===null?Tn=new Set([this]):Tn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function gf(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new K0;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=c_.bind(null,t,e,n),e.then(t,t))}function yf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function vf(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=en(-1,1),e.tag=2,Nn(n,e,1))),n.lanes|=1),t)}var q0=cn.ReactCurrentOwner,it=!1;function Je(t,e,n,r){e.child=t===null?$p(e,null,n,r):Kr(e,t.child,n,r)}function _f(t,e,n,r,i){n=n.render;var s=e.ref;return Br(e,i),r=vu(t,e,n,r,s,i),n=_u(),t!==null&&!it?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,on(t,e,i)):(_e&&n&&ou(e),e.flags|=1,Je(t,e,r,i),e.child)}function xf(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Iu(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,mm(t,e,s,r,i)):(t=wo(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ss,n(o,r)&&t.ref===e.ref)return on(t,e,i)}return e.flags|=1,t=In(s,r),t.ref=e.ref,t.return=e,e.child=t}function mm(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ss(s,r)&&t.ref===e.ref)if(it=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(it=!0);else return e.lanes=t.lanes,on(t,e,i)}return cc(t,e,n,r,i)}function gm(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},fe(Or,dt),dt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,fe(Or,dt),dt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,fe(Or,dt),dt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,fe(Or,dt),dt|=r;return Je(t,e,i,n),e.child}function ym(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function cc(t,e,n,r,i){var s=lt(n)?tr:qe.current;return s=Yr(e,s),Br(e,i),n=vu(t,e,n,r,s,i),r=_u(),t!==null&&!it?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,on(t,e,i)):(_e&&r&&ou(e),e.flags|=1,Je(t,e,n,i),e.child)}function wf(t,e,n,r,i){if(lt(n)){var s=!0;Ao(e)}else s=!1;if(Br(e,i),e.stateNode===null)vo(t,e),fm(e,n,r),lc(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,c=e.memoizedProps;o.props=c;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Et(u):(u=lt(n)?tr:qe.current,u=Yr(e,u));var p=n.getDerivedStateFromProps,h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==r||a!==u)&&mf(e,o,r,u),yn=!1;var f=e.memoizedState;o.state=f,Fo(e,r,o,i),a=e.memoizedState,c!==r||f!==a||ot.current||yn?(typeof p=="function"&&(oc(e,n,p,r),a=e.memoizedState),(c=yn||pf(e,n,c,r,f,a,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=u,r=c):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Gp(t,e),c=e.memoizedProps,u=e.type===e.elementType?c:bt(e.type,c),o.props=u,h=e.pendingProps,f=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Et(a):(a=lt(n)?tr:qe.current,a=Yr(e,a));var _=n.getDerivedStateFromProps;(p=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==h||f!==a)&&mf(e,o,r,a),yn=!1,f=e.memoizedState,o.state=f,Fo(e,r,o,i);var C=e.memoizedState;c!==h||f!==C||ot.current||yn?(typeof _=="function"&&(oc(e,n,_,r),C=e.memoizedState),(u=yn||pf(e,n,u,r,f,C,a)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,C,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,C,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=C),o.props=r,o.state=C,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||c===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return uc(t,e,n,r,s,i)}function uc(t,e,n,r,i,s){ym(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&of(e,n,!1),on(t,e,s);r=e.stateNode,q0.current=e;var c=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Kr(e,t.child,null,s),e.child=Kr(e,null,c,s)):Je(t,e,c,s),e.memoizedState=r.state,i&&of(e,n,!0),e.child}function vm(t){var e=t.stateNode;e.pendingContext?sf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&sf(t,e.context,!1),pu(t,e.containerInfo)}function Sf(t,e,n,r,i){return Qr(),au(i),e.flags|=256,Je(t,e,n,r),e.child}var dc={dehydrated:null,treeContext:null,retryLane:0};function fc(t){return{baseLanes:t,cachePool:null,transitions:null}}function _m(t,e,n){var r=e.pendingProps,i=we.current,s=!1,o=(e.flags&128)!==0,c;if((c=o)||(c=t!==null&&t.memoizedState===null?!1:(i&2)!==0),c?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),fe(we,i&1),t===null)return ic(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=wl(o,r,0,null),t=er(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=fc(n),e.memoizedState=dc,t):Su(e,o));if(i=t.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return X0(t,e,o,r,c,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,c=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=In(i,a),r.subtreeFlags=i.subtreeFlags&14680064),c!==null?s=In(c,s):(s=er(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?fc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=dc,r}return s=t.child,t=s.sibling,r=In(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Su(t,e){return e=wl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ro(t,e,n,r){return r!==null&&au(r),Kr(e,t.child,null,n),t=Su(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function X0(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=fa(Error(j(422))),ro(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=wl({mode:"visible",children:r.children},i,0,null),s=er(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Kr(e,t.child,null,o),e.child.memoizedState=fc(o),e.memoizedState=dc,s);if(!(e.mode&1))return ro(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var c=r.dgst;return r=c,s=Error(j(419)),r=fa(s,r,void 0),ro(t,e,o,r)}if(c=(o&t.childLanes)!==0,it||c){if(r=Ue,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,sn(t,i),Ot(r,t,i,-1))}return bu(),r=fa(Error(j(421))),ro(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=u_.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ft=kn(i.nextSibling),ht=e,_e=!0,Pt=null,t!==null&&(xt[wt++]=Xt,xt[wt++]=Jt,xt[wt++]=nr,Xt=t.id,Jt=t.overflow,nr=e),e=Su(e,r.children),e.flags|=4096,e)}function Cf(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),sc(t.return,e,n)}function ha(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function xm(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Je(t,e,r.children,n),r=we.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Cf(t,n,e);else if(t.tag===19)Cf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(fe(we,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&zo(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ha(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&zo(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ha(e,!0,n,null,s);break;case"together":ha(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function vo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function on(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ir|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(j(153));if(e.child!==null){for(t=e.child,n=In(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=In(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function J0(t,e,n){switch(e.tag){case 3:vm(e),Qr();break;case 5:Hp(e);break;case 1:lt(e.type)&&Ao(e);break;case 4:pu(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;fe(Lo,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(fe(we,we.current&1),e.flags|=128,null):n&e.child.childLanes?_m(t,e,n):(fe(we,we.current&1),t=on(t,e,n),t!==null?t.sibling:null);fe(we,we.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return xm(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),fe(we,we.current),r)break;return null;case 22:case 23:return e.lanes=0,gm(t,e,n)}return on(t,e,n)}var wm,hc,Sm,Cm;wm=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};hc=function(){};Sm=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,qn(Gt.current);var s=null;switch(n){case"input":i=Oa(t,i),r=Oa(t,r),s=[];break;case"select":i=Ce({},i,{value:void 0}),r=Ce({},r,{value:void 0}),s=[];break;case"textarea":i=Fa(t,i),r=Fa(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=jo)}Wa(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var c=i[u];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ji.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(c=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==c&&(a!=null||c!=null))if(u==="style")if(c){for(o in c)!c.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&c[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,c=c?c.__html:void 0,a!=null&&c!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ji.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&pe("scroll",t),s||c===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Cm=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ti(t,e){if(!_e)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ye(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Z0(t,e,n){var r=e.pendingProps;switch(lu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(e),null;case 1:return lt(e.type)&&Ro(),Ye(e),null;case 3:return r=e.stateNode,qr(),ge(ot),ge(qe),gu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(to(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Pt!==null&&(wc(Pt),Pt=null))),hc(t,e),Ye(e),null;case 5:mu(e);var i=qn(us.current);if(n=e.type,t!==null&&e.stateNode!=null)Sm(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(j(166));return Ye(e),null}if(t=qn(Gt.current),to(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[$t]=e,r[as]=s,t=(e.mode&1)!==0,n){case"dialog":pe("cancel",r),pe("close",r);break;case"iframe":case"object":case"embed":pe("load",r);break;case"video":case"audio":for(i=0;i<Mi.length;i++)pe(Mi[i],r);break;case"source":pe("error",r);break;case"img":case"image":case"link":pe("error",r),pe("load",r);break;case"details":pe("toggle",r);break;case"input":jd(r,s),pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},pe("invalid",r);break;case"textarea":Ad(r,s),pe("invalid",r)}Wa(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var c=s[o];o==="children"?typeof c=="string"?r.textContent!==c&&(s.suppressHydrationWarning!==!0&&eo(r.textContent,c,t),i=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(s.suppressHydrationWarning!==!0&&eo(r.textContent,c,t),i=["children",""+c]):Ji.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&pe("scroll",r)}switch(n){case"input":Hs(r),Rd(r,s,!0);break;case"textarea":Hs(r),Dd(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=jo)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Xh(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[$t]=e,t[as]=r,wm(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ba(n,r),n){case"dialog":pe("cancel",t),pe("close",t),i=r;break;case"iframe":case"object":case"embed":pe("load",t),i=r;break;case"video":case"audio":for(i=0;i<Mi.length;i++)pe(Mi[i],t);i=r;break;case"source":pe("error",t),i=r;break;case"img":case"image":case"link":pe("error",t),pe("load",t),i=r;break;case"details":pe("toggle",t),i=r;break;case"input":jd(t,r),i=Oa(t,r),pe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ce({},r,{value:void 0}),pe("invalid",t);break;case"textarea":Ad(t,r),i=Fa(t,r),pe("invalid",t);break;default:i=r}Wa(n,i),c=i;for(s in c)if(c.hasOwnProperty(s)){var a=c[s];s==="style"?ep(t,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Jh(t,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Zi(t,a):typeof a=="number"&&Zi(t,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ji.hasOwnProperty(s)?a!=null&&s==="onScroll"&&pe("scroll",t):a!=null&&Hc(t,s,a,o))}switch(n){case"input":Hs(t),Rd(t,r,!1);break;case"textarea":Hs(t),Dd(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Dn(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Mr(t,!!r.multiple,s,!1):r.defaultValue!=null&&Mr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=jo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ye(e),null;case 6:if(t&&e.stateNode!=null)Cm(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(j(166));if(n=qn(us.current),qn(Gt.current),to(e)){if(r=e.stateNode,n=e.memoizedProps,r[$t]=e,(s=r.nodeValue!==n)&&(t=ht,t!==null))switch(t.tag){case 3:eo(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&eo(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[$t]=e,e.stateNode=r}return Ye(e),null;case 13:if(ge(we),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(_e&&ft!==null&&e.mode&1&&!(e.flags&128))Bp(),Qr(),e.flags|=98560,s=!1;else if(s=to(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(j(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(j(317));s[$t]=e}else Qr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ye(e),s=!1}else Pt!==null&&(wc(Pt),Pt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||we.current&1?Le===0&&(Le=3):bu())),e.updateQueue!==null&&(e.flags|=4),Ye(e),null);case 4:return qr(),hc(t,e),t===null&&os(e.stateNode.containerInfo),Ye(e),null;case 10:return du(e.type._context),Ye(e),null;case 17:return lt(e.type)&&Ro(),Ye(e),null;case 19:if(ge(we),s=e.memoizedState,s===null)return Ye(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ti(s,!1);else{if(Le!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=zo(t),o!==null){for(e.flags|=128,Ti(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return fe(we,we.current&1|2),e.child}t=t.sibling}s.tail!==null&&Pe()>Jr&&(e.flags|=128,r=!0,Ti(s,!1),e.lanes=4194304)}else{if(!r)if(t=zo(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ti(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!_e)return Ye(e),null}else 2*Pe()-s.renderingStartTime>Jr&&n!==1073741824&&(e.flags|=128,r=!0,Ti(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Pe(),e.sibling=null,n=we.current,fe(we,r?n&1|2:n&1),e):(Ye(e),null);case 22:case 23:return Tu(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?dt&1073741824&&(Ye(e),e.subtreeFlags&6&&(e.flags|=8192)):Ye(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function e_(t,e){switch(lu(e),e.tag){case 1:return lt(e.type)&&Ro(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return qr(),ge(ot),ge(qe),gu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return mu(e),null;case 13:if(ge(we),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(j(340));Qr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ge(we),null;case 4:return qr(),null;case 10:return du(e.type._context),null;case 22:case 23:return Tu(),null;case 24:return null;default:return null}}var io=!1,Qe=!1,t_=typeof WeakSet=="function"?WeakSet:Set,B=null;function Dr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ke(t,e,r)}else n.current=null}function pc(t,e,n){try{n()}catch(r){ke(t,e,r)}}var Ef=!1;function n_(t,e){if(Xa=bo,t=bp(),su(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,c=-1,a=-1,u=0,p=0,h=t,f=null;t:for(;;){for(var _;h!==n||i!==0&&h.nodeType!==3||(c=o+i),h!==s||r!==0&&h.nodeType!==3||(a=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(_=h.firstChild)!==null;)f=h,h=_;for(;;){if(h===t)break t;if(f===n&&++u===i&&(c=o),f===s&&++p===r&&(a=o),(_=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=_}n=c===-1||a===-1?null:{start:c,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ja={focusedElem:t,selectionRange:n},bo=!1,B=e;B!==null;)if(e=B,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,B=t;else for(;B!==null;){e=B;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var w=C.memoizedProps,S=C.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(e.elementType===e.type?w:bt(e.type,w),S);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(N){ke(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,B=t;break}B=e.return}return C=Ef,Ef=!1,C}function Vi(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&pc(e,n,s)}i=i.next}while(i!==r)}}function _l(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function mc(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Em(t){var e=t.alternate;e!==null&&(t.alternate=null,Em(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[$t],delete e[as],delete e[tc],delete e[F0],delete e[z0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function km(t){return t.tag===5||t.tag===3||t.tag===4}function kf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||km(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function gc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=jo));else if(r!==4&&(t=t.child,t!==null))for(gc(t,e,n),t=t.sibling;t!==null;)gc(t,e,n),t=t.sibling}function yc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(yc(t,e,n),t=t.sibling;t!==null;)yc(t,e,n),t=t.sibling}var $e=null,It=!1;function hn(t,e,n){for(n=n.child;n!==null;)Nm(t,e,n),n=n.sibling}function Nm(t,e,n){if(Vt&&typeof Vt.onCommitFiberUnmount=="function")try{Vt.onCommitFiberUnmount(dl,n)}catch{}switch(n.tag){case 5:Qe||Dr(n,e);case 6:var r=$e,i=It;$e=null,hn(t,e,n),$e=r,It=i,$e!==null&&(It?(t=$e,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):$e.removeChild(n.stateNode));break;case 18:$e!==null&&(It?(t=$e,n=n.stateNode,t.nodeType===8?oa(t.parentNode,n):t.nodeType===1&&oa(t,n),rs(t)):oa($e,n.stateNode));break;case 4:r=$e,i=It,$e=n.stateNode.containerInfo,It=!0,hn(t,e,n),$e=r,It=i;break;case 0:case 11:case 14:case 15:if(!Qe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&pc(n,e,o),i=i.next}while(i!==r)}hn(t,e,n);break;case 1:if(!Qe&&(Dr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){ke(n,e,c)}hn(t,e,n);break;case 21:hn(t,e,n);break;case 22:n.mode&1?(Qe=(r=Qe)||n.memoizedState!==null,hn(t,e,n),Qe=r):hn(t,e,n);break;default:hn(t,e,n)}}function Nf(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new t_),e.forEach(function(r){var i=d_.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Tt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,c=o;e:for(;c!==null;){switch(c.tag){case 5:$e=c.stateNode,It=!1;break e;case 3:$e=c.stateNode.containerInfo,It=!0;break e;case 4:$e=c.stateNode.containerInfo,It=!0;break e}c=c.return}if($e===null)throw Error(j(160));Nm(s,o,i),$e=null,It=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){ke(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Tm(e,t),e=e.sibling}function Tm(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Tt(e,t),Bt(t),r&4){try{Vi(3,t,t.return),_l(3,t)}catch(w){ke(t,t.return,w)}try{Vi(5,t,t.return)}catch(w){ke(t,t.return,w)}}break;case 1:Tt(e,t),Bt(t),r&512&&n!==null&&Dr(n,n.return);break;case 5:if(Tt(e,t),Bt(t),r&512&&n!==null&&Dr(n,n.return),t.flags&32){var i=t.stateNode;try{Zi(i,"")}catch(w){ke(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,c=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{c==="input"&&s.type==="radio"&&s.name!=null&&Kh(i,s),Ba(c,o);var u=Ba(c,s);for(o=0;o<a.length;o+=2){var p=a[o],h=a[o+1];p==="style"?ep(i,h):p==="dangerouslySetInnerHTML"?Jh(i,h):p==="children"?Zi(i,h):Hc(i,p,h,u)}switch(c){case"input":La(i,s);break;case"textarea":qh(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var _=s.value;_!=null?Mr(i,!!s.multiple,_,!1):f!==!!s.multiple&&(s.defaultValue!=null?Mr(i,!!s.multiple,s.defaultValue,!0):Mr(i,!!s.multiple,s.multiple?[]:"",!1))}i[as]=s}catch(w){ke(t,t.return,w)}}break;case 6:if(Tt(e,t),Bt(t),r&4){if(t.stateNode===null)throw Error(j(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){ke(t,t.return,w)}}break;case 3:if(Tt(e,t),Bt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{rs(e.containerInfo)}catch(w){ke(t,t.return,w)}break;case 4:Tt(e,t),Bt(t);break;case 13:Tt(e,t),Bt(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(ku=Pe())),r&4&&Nf(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(Qe=(u=Qe)||p,Tt(e,t),Qe=u):Tt(e,t),Bt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!p&&t.mode&1)for(B=t,p=t.child;p!==null;){for(h=B=p;B!==null;){switch(f=B,_=f.child,f.tag){case 0:case 11:case 14:case 15:Vi(4,f,f.return);break;case 1:Dr(f,f.return);var C=f.stateNode;if(typeof C.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(w){ke(r,n,w)}}break;case 5:Dr(f,f.return);break;case 22:if(f.memoizedState!==null){bf(h);continue}}_!==null?(_.return=f,B=_):bf(h)}p=p.sibling}e:for(p=null,h=t;;){if(h.tag===5){if(p===null){p=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(c=h.stateNode,a=h.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,c.style.display=Zh("display",o))}catch(w){ke(t,t.return,w)}}}else if(h.tag===6){if(p===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){ke(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;p===h&&(p=null),h=h.return}p===h&&(p=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Tt(e,t),Bt(t),r&4&&Nf(t);break;case 21:break;default:Tt(e,t),Bt(t)}}function Bt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(km(n)){var r=n;break e}n=n.return}throw Error(j(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Zi(i,""),r.flags&=-33);var s=kf(t);yc(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,c=kf(t);gc(t,c,o);break;default:throw Error(j(161))}}catch(a){ke(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function r_(t,e,n){B=t,bm(t)}function bm(t,e,n){for(var r=(t.mode&1)!==0;B!==null;){var i=B,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||io;if(!o){var c=i.alternate,a=c!==null&&c.memoizedState!==null||Qe;c=io;var u=Qe;if(io=o,(Qe=a)&&!u)for(B=i;B!==null;)o=B,a=o.child,o.tag===22&&o.memoizedState!==null?If(i):a!==null?(a.return=o,B=a):If(i);for(;s!==null;)B=s,bm(s),s=s.sibling;B=i,io=c,Qe=u}Tf(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,B=s):Tf(t)}}function Tf(t){for(;B!==null;){var e=B;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Qe||_l(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Qe)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:bt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&df(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}df(e,o,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var p=u.memoizedState;if(p!==null){var h=p.dehydrated;h!==null&&rs(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}Qe||e.flags&512&&mc(e)}catch(f){ke(e,e.return,f)}}if(e===t){B=null;break}if(n=e.sibling,n!==null){n.return=e.return,B=n;break}B=e.return}}function bf(t){for(;B!==null;){var e=B;if(e===t){B=null;break}var n=e.sibling;if(n!==null){n.return=e.return,B=n;break}B=e.return}}function If(t){for(;B!==null;){var e=B;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{_l(4,e)}catch(a){ke(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){ke(e,i,a)}}var s=e.return;try{mc(e)}catch(a){ke(e,s,a)}break;case 5:var o=e.return;try{mc(e)}catch(a){ke(e,o,a)}}}catch(a){ke(e,e.return,a)}if(e===t){B=null;break}var c=e.sibling;if(c!==null){c.return=e.return,B=c;break}B=e.return}}var i_=Math.ceil,Uo=cn.ReactCurrentDispatcher,Cu=cn.ReactCurrentOwner,Ct=cn.ReactCurrentBatchConfig,ie=0,Ue=null,Re=null,Ve=0,dt=0,Or=Wn(0),Le=0,ps=null,ir=0,xl=0,Eu=0,Gi=null,rt=null,ku=0,Jr=1/0,Kt=null,$o=!1,vc=null,Tn=null,so=!1,wn=null,Vo=0,Hi=0,_c=null,_o=-1,xo=0;function et(){return ie&6?Pe():_o!==-1?_o:_o=Pe()}function bn(t){return t.mode&1?ie&2&&Ve!==0?Ve&-Ve:B0.transition!==null?(xo===0&&(xo=fp()),xo):(t=ae,t!==0||(t=window.event,t=t===void 0?16:_p(t.type)),t):1}function Ot(t,e,n,r){if(50<Hi)throw Hi=0,_c=null,Error(j(185));bs(t,n,r),(!(ie&2)||t!==Ue)&&(t===Ue&&(!(ie&2)&&(xl|=n),Le===4&&_n(t,Ve)),at(t,r),n===1&&ie===0&&!(e.mode&1)&&(Jr=Pe()+500,gl&&Bn()))}function at(t,e){var n=t.callbackNode;Bv(t,e);var r=To(t,t===Ue?Ve:0);if(r===0)n!==null&&Md(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Md(n),e===1)t.tag===0?W0(Pf.bind(null,t)):Fp(Pf.bind(null,t)),L0(function(){!(ie&6)&&Bn()}),n=null;else{switch(hp(r)){case 1:n=Xc;break;case 4:n=up;break;case 16:n=No;break;case 536870912:n=dp;break;default:n=No}n=Lm(n,Im.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Im(t,e){if(_o=-1,xo=0,ie&6)throw Error(j(327));var n=t.callbackNode;if(Ur()&&t.callbackNode!==n)return null;var r=To(t,t===Ue?Ve:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Go(t,r);else{e=r;var i=ie;ie|=2;var s=jm();(Ue!==t||Ve!==e)&&(Kt=null,Jr=Pe()+500,Zn(t,e));do try{l_();break}catch(c){Pm(t,c)}while(!0);uu(),Uo.current=s,ie=i,Re!==null?e=0:(Ue=null,Ve=0,e=Le)}if(e!==0){if(e===2&&(i=Ha(t),i!==0&&(r=i,e=xc(t,i))),e===1)throw n=ps,Zn(t,0),_n(t,r),at(t,Pe()),n;if(e===6)_n(t,r);else{if(i=t.current.alternate,!(r&30)&&!s_(i)&&(e=Go(t,r),e===2&&(s=Ha(t),s!==0&&(r=s,e=xc(t,s))),e===1))throw n=ps,Zn(t,0),_n(t,r),at(t,Pe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(j(345));case 2:Gn(t,rt,Kt);break;case 3:if(_n(t,r),(r&130023424)===r&&(e=ku+500-Pe(),10<e)){if(To(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){et(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ec(Gn.bind(null,t,rt,Kt),e);break}Gn(t,rt,Kt);break;case 4:if(_n(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Dt(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Pe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*i_(r/1960))-r,10<r){t.timeoutHandle=ec(Gn.bind(null,t,rt,Kt),r);break}Gn(t,rt,Kt);break;case 5:Gn(t,rt,Kt);break;default:throw Error(j(329))}}}return at(t,Pe()),t.callbackNode===n?Im.bind(null,t):null}function xc(t,e){var n=Gi;return t.current.memoizedState.isDehydrated&&(Zn(t,e).flags|=256),t=Go(t,e),t!==2&&(e=rt,rt=n,e!==null&&wc(e)),t}function wc(t){rt===null?rt=t:rt.push.apply(rt,t)}function s_(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Mt(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _n(t,e){for(e&=~Eu,e&=~xl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Dt(e),r=1<<n;t[n]=-1,e&=~r}}function Pf(t){if(ie&6)throw Error(j(327));Ur();var e=To(t,0);if(!(e&1))return at(t,Pe()),null;var n=Go(t,e);if(t.tag!==0&&n===2){var r=Ha(t);r!==0&&(e=r,n=xc(t,r))}if(n===1)throw n=ps,Zn(t,0),_n(t,e),at(t,Pe()),n;if(n===6)throw Error(j(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Gn(t,rt,Kt),at(t,Pe()),null}function Nu(t,e){var n=ie;ie|=1;try{return t(e)}finally{ie=n,ie===0&&(Jr=Pe()+500,gl&&Bn())}}function sr(t){wn!==null&&wn.tag===0&&!(ie&6)&&Ur();var e=ie;ie|=1;var n=Ct.transition,r=ae;try{if(Ct.transition=null,ae=1,t)return t()}finally{ae=r,Ct.transition=n,ie=e,!(ie&6)&&Bn()}}function Tu(){dt=Or.current,ge(Or)}function Zn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,O0(n)),Re!==null)for(n=Re.return;n!==null;){var r=n;switch(lu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ro();break;case 3:qr(),ge(ot),ge(qe),gu();break;case 5:mu(r);break;case 4:qr();break;case 13:ge(we);break;case 19:ge(we);break;case 10:du(r.type._context);break;case 22:case 23:Tu()}n=n.return}if(Ue=t,Re=t=In(t.current,null),Ve=dt=e,Le=0,ps=null,Eu=xl=ir=0,rt=Gi=null,Kn!==null){for(e=0;e<Kn.length;e++)if(n=Kn[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Kn=null}return t}function Pm(t,e){do{var n=Re;try{if(uu(),go.current=Bo,Wo){for(var r=Se.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Wo=!1}if(rr=0,ze=Ae=Se=null,$i=!1,ds=0,Cu.current=null,n===null||n.return===null){Le=1,ps=e,Re=null;break}e:{var s=t,o=n.return,c=n,a=e;if(e=Ve,c.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,p=c,h=p.tag;if(!(p.mode&1)&&(h===0||h===11||h===15)){var f=p.alternate;f?(p.updateQueue=f.updateQueue,p.memoizedState=f.memoizedState,p.lanes=f.lanes):(p.updateQueue=null,p.memoizedState=null)}var _=yf(o);if(_!==null){_.flags&=-257,vf(_,o,c,s,e),_.mode&1&&gf(s,u,e),e=_,a=u;var C=e.updateQueue;if(C===null){var w=new Set;w.add(a),e.updateQueue=w}else C.add(a);break e}else{if(!(e&1)){gf(s,u,e),bu();break e}a=Error(j(426))}}else if(_e&&c.mode&1){var S=yf(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),vf(S,o,c,s,e),au(Xr(a,c));break e}}s=a=Xr(a,c),Le!==4&&(Le=2),Gi===null?Gi=[s]:Gi.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=hm(s,a,e);uf(s,g);break e;case 1:c=a;var m=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Tn===null||!Tn.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var N=pm(s,c,e);uf(s,N);break e}}s=s.return}while(s!==null)}Am(n)}catch(R){e=R,Re===n&&n!==null&&(Re=n=n.return);continue}break}while(!0)}function jm(){var t=Uo.current;return Uo.current=Bo,t===null?Bo:t}function bu(){(Le===0||Le===3||Le===2)&&(Le=4),Ue===null||!(ir&268435455)&&!(xl&268435455)||_n(Ue,Ve)}function Go(t,e){var n=ie;ie|=2;var r=jm();(Ue!==t||Ve!==e)&&(Kt=null,Zn(t,e));do try{o_();break}catch(i){Pm(t,i)}while(!0);if(uu(),ie=n,Uo.current=r,Re!==null)throw Error(j(261));return Ue=null,Ve=0,Le}function o_(){for(;Re!==null;)Rm(Re)}function l_(){for(;Re!==null&&!Rv();)Rm(Re)}function Rm(t){var e=Om(t.alternate,t,dt);t.memoizedProps=t.pendingProps,e===null?Am(t):Re=e,Cu.current=null}function Am(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=e_(n,e),n!==null){n.flags&=32767,Re=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Le=6,Re=null;return}}else if(n=Z0(n,e,dt),n!==null){Re=n;return}if(e=e.sibling,e!==null){Re=e;return}Re=e=t}while(e!==null);Le===0&&(Le=5)}function Gn(t,e,n){var r=ae,i=Ct.transition;try{Ct.transition=null,ae=1,a_(t,e,n,r)}finally{Ct.transition=i,ae=r}return null}function a_(t,e,n,r){do Ur();while(wn!==null);if(ie&6)throw Error(j(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(j(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Uv(t,s),t===Ue&&(Re=Ue=null,Ve=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||so||(so=!0,Lm(No,function(){return Ur(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ct.transition,Ct.transition=null;var o=ae;ae=1;var c=ie;ie|=4,Cu.current=null,n_(t,n),Tm(n,t),b0(Ja),bo=!!Xa,Ja=Xa=null,t.current=n,r_(n),Av(),ie=c,ae=o,Ct.transition=s}else t.current=n;if(so&&(so=!1,wn=t,Vo=i),s=t.pendingLanes,s===0&&(Tn=null),Lv(n.stateNode),at(t,Pe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if($o)throw $o=!1,t=vc,vc=null,t;return Vo&1&&t.tag!==0&&Ur(),s=t.pendingLanes,s&1?t===_c?Hi++:(Hi=0,_c=t):Hi=0,Bn(),null}function Ur(){if(wn!==null){var t=hp(Vo),e=Ct.transition,n=ae;try{if(Ct.transition=null,ae=16>t?16:t,wn===null)var r=!1;else{if(t=wn,wn=null,Vo=0,ie&6)throw Error(j(331));var i=ie;for(ie|=4,B=t.current;B!==null;){var s=B,o=s.child;if(B.flags&16){var c=s.deletions;if(c!==null){for(var a=0;a<c.length;a++){var u=c[a];for(B=u;B!==null;){var p=B;switch(p.tag){case 0:case 11:case 15:Vi(8,p,s)}var h=p.child;if(h!==null)h.return=p,B=h;else for(;B!==null;){p=B;var f=p.sibling,_=p.return;if(Em(p),p===u){B=null;break}if(f!==null){f.return=_,B=f;break}B=_}}}var C=s.alternate;if(C!==null){var w=C.child;if(w!==null){C.child=null;do{var S=w.sibling;w.sibling=null,w=S}while(w!==null)}}B=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,B=o;else e:for(;B!==null;){if(s=B,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Vi(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,B=g;break e}B=s.return}}var m=t.current;for(B=m;B!==null;){o=B;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,B=x;else e:for(o=m;B!==null;){if(c=B,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:_l(9,c)}}catch(R){ke(c,c.return,R)}if(c===o){B=null;break e}var N=c.sibling;if(N!==null){N.return=c.return,B=N;break e}B=c.return}}if(ie=i,Bn(),Vt&&typeof Vt.onPostCommitFiberRoot=="function")try{Vt.onPostCommitFiberRoot(dl,t)}catch{}r=!0}return r}finally{ae=n,Ct.transition=e}}return!1}function jf(t,e,n){e=Xr(n,e),e=hm(t,e,1),t=Nn(t,e,1),e=et(),t!==null&&(bs(t,1,e),at(t,e))}function ke(t,e,n){if(t.tag===3)jf(t,t,n);else for(;e!==null;){if(e.tag===3){jf(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Tn===null||!Tn.has(r))){t=Xr(n,t),t=pm(e,t,1),e=Nn(e,t,1),t=et(),e!==null&&(bs(e,1,t),at(e,t));break}}e=e.return}}function c_(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=et(),t.pingedLanes|=t.suspendedLanes&n,Ue===t&&(Ve&n)===n&&(Le===4||Le===3&&(Ve&130023424)===Ve&&500>Pe()-ku?Zn(t,0):Eu|=n),at(t,e)}function Dm(t,e){e===0&&(t.mode&1?(e=Ks,Ks<<=1,!(Ks&130023424)&&(Ks=4194304)):e=1);var n=et();t=sn(t,e),t!==null&&(bs(t,e,n),at(t,n))}function u_(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Dm(t,n)}function d_(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(j(314))}r!==null&&r.delete(e),Dm(t,n)}var Om;Om=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ot.current)it=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return it=!1,J0(t,e,n);it=!!(t.flags&131072)}else it=!1,_e&&e.flags&1048576&&zp(e,Oo,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;vo(t,e),t=e.pendingProps;var i=Yr(e,qe.current);Br(e,n),i=vu(null,e,r,t,i,n);var s=_u();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,lt(r)?(s=!0,Ao(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,hu(e),i.updater=vl,e.stateNode=i,i._reactInternals=e,lc(e,r,t,n),e=uc(null,e,r,!0,s,n)):(e.tag=0,_e&&s&&ou(e),Je(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(vo(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=h_(r),t=bt(r,t),i){case 0:e=cc(null,e,r,t,n);break e;case 1:e=wf(null,e,r,t,n);break e;case 11:e=_f(null,e,r,t,n);break e;case 14:e=xf(null,e,r,bt(r.type,t),n);break e}throw Error(j(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:bt(r,i),cc(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:bt(r,i),wf(t,e,r,i,n);case 3:e:{if(vm(e),t===null)throw Error(j(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Gp(t,e),Fo(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Xr(Error(j(423)),e),e=Sf(t,e,r,n,i);break e}else if(r!==i){i=Xr(Error(j(424)),e),e=Sf(t,e,r,n,i);break e}else for(ft=kn(e.stateNode.containerInfo.firstChild),ht=e,_e=!0,Pt=null,n=$p(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qr(),r===i){e=on(t,e,n);break e}Je(t,e,r,n)}e=e.child}return e;case 5:return Hp(e),t===null&&ic(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Za(r,i)?o=null:s!==null&&Za(r,s)&&(e.flags|=32),ym(t,e),Je(t,e,o,n),e.child;case 6:return t===null&&ic(e),null;case 13:return _m(t,e,n);case 4:return pu(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Kr(e,null,r,n):Je(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:bt(r,i),_f(t,e,r,i,n);case 7:return Je(t,e,e.pendingProps,n),e.child;case 8:return Je(t,e,e.pendingProps.children,n),e.child;case 12:return Je(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,fe(Lo,r._currentValue),r._currentValue=o,s!==null)if(Mt(s.value,o)){if(s.children===i.children&&!ot.current){e=on(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var c=s.dependencies;if(c!==null){o=s.child;for(var a=c.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=en(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var p=u.pending;p===null?a.next=a:(a.next=p.next,p.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),sc(s.return,n,e),c.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(j(341));o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),sc(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Je(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Br(e,n),i=Et(i),r=r(i),e.flags|=1,Je(t,e,r,n),e.child;case 14:return r=e.type,i=bt(r,e.pendingProps),i=bt(r.type,i),xf(t,e,r,i,n);case 15:return mm(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:bt(r,i),vo(t,e),e.tag=1,lt(r)?(t=!0,Ao(e)):t=!1,Br(e,n),fm(e,r,i),lc(e,r,i,n),uc(null,e,r,!0,t,n);case 19:return xm(t,e,n);case 22:return gm(t,e,n)}throw Error(j(156,e.tag))};function Lm(t,e){return cp(t,e)}function f_(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function St(t,e,n,r){return new f_(t,e,n,r)}function Iu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function h_(t){if(typeof t=="function")return Iu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Qc)return 11;if(t===Kc)return 14}return 2}function In(t,e){var n=t.alternate;return n===null?(n=St(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function wo(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Iu(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case kr:return er(n.children,i,s,e);case Yc:o=8,i|=8;break;case ja:return t=St(12,n,e,i|2),t.elementType=ja,t.lanes=s,t;case Ra:return t=St(13,n,e,i),t.elementType=Ra,t.lanes=s,t;case Aa:return t=St(19,n,e,i),t.elementType=Aa,t.lanes=s,t;case Hh:return wl(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Vh:o=10;break e;case Gh:o=9;break e;case Qc:o=11;break e;case Kc:o=14;break e;case gn:o=16,r=null;break e}throw Error(j(130,t==null?t:typeof t,""))}return e=St(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function er(t,e,n,r){return t=St(7,t,r,e),t.lanes=n,t}function wl(t,e,n,r){return t=St(22,t,r,e),t.elementType=Hh,t.lanes=n,t.stateNode={isHidden:!1},t}function pa(t,e,n){return t=St(6,t,null,e),t.lanes=n,t}function ma(t,e,n){return e=St(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function p_(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kl(0),this.expirationTimes=Kl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Pu(t,e,n,r,i,s,o,c,a){return t=new p_(t,e,n,c,a),e===1?(e=1,s===!0&&(e|=8)):e=0,s=St(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},hu(s),t}function m_(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Er,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Mm(t){if(!t)return On;t=t._reactInternals;e:{if(ur(t)!==t||t.tag!==1)throw Error(j(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(lt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(t.tag===1){var n=t.type;if(lt(n))return Mp(t,n,e)}return e}function Fm(t,e,n,r,i,s,o,c,a){return t=Pu(n,r,!0,t,i,s,o,c,a),t.context=Mm(null),n=t.current,r=et(),i=bn(n),s=en(r,i),s.callback=e??null,Nn(n,s,i),t.current.lanes=i,bs(t,i,r),at(t,r),t}function Sl(t,e,n,r){var i=e.current,s=et(),o=bn(i);return n=Mm(n),e.context===null?e.context=n:e.pendingContext=n,e=en(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Nn(i,e,o),t!==null&&(Ot(t,i,o,s),mo(t,i,o)),o}function Ho(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Rf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ju(t,e){Rf(t,e),(t=t.alternate)&&Rf(t,e)}function g_(){return null}var zm=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ru(t){this._internalRoot=t}Cl.prototype.render=Ru.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(j(409));Sl(t,e,null,null)};Cl.prototype.unmount=Ru.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;sr(function(){Sl(null,t,null,null)}),e[rn]=null}};function Cl(t){this._internalRoot=t}Cl.prototype.unstable_scheduleHydration=function(t){if(t){var e=gp();t={blockedOn:null,target:t,priority:e};for(var n=0;n<vn.length&&e!==0&&e<vn[n].priority;n++);vn.splice(n,0,t),n===0&&vp(t)}};function Au(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function El(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Af(){}function y_(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Ho(o);s.call(u)}}var o=Fm(e,r,t,0,null,!1,!1,"",Af);return t._reactRootContainer=o,t[rn]=o.current,os(t.nodeType===8?t.parentNode:t),sr(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var c=r;r=function(){var u=Ho(a);c.call(u)}}var a=Pu(t,0,!1,null,null,!1,!1,"",Af);return t._reactRootContainer=a,t[rn]=a.current,os(t.nodeType===8?t.parentNode:t),sr(function(){Sl(e,a,n,r)}),a}function kl(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var c=i;i=function(){var a=Ho(o);c.call(a)}}Sl(e,o,t,i)}else o=y_(n,e,t,i,r);return Ho(o)}pp=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Li(e.pendingLanes);n!==0&&(Jc(e,n|1),at(e,Pe()),!(ie&6)&&(Jr=Pe()+500,Bn()))}break;case 13:sr(function(){var r=sn(t,1);if(r!==null){var i=et();Ot(r,t,1,i)}}),ju(t,1)}};Zc=function(t){if(t.tag===13){var e=sn(t,134217728);if(e!==null){var n=et();Ot(e,t,134217728,n)}ju(t,134217728)}};mp=function(t){if(t.tag===13){var e=bn(t),n=sn(t,e);if(n!==null){var r=et();Ot(n,t,e,r)}ju(t,e)}};gp=function(){return ae};yp=function(t,e){var n=ae;try{return ae=t,e()}finally{ae=n}};$a=function(t,e,n){switch(e){case"input":if(La(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ml(r);if(!i)throw Error(j(90));Qh(r),La(r,i)}}}break;case"textarea":qh(t,n);break;case"select":e=n.value,e!=null&&Mr(t,!!n.multiple,e,!1)}};rp=Nu;ip=sr;var v_={usingClientEntryPoint:!1,Events:[Ps,Ir,ml,tp,np,Nu]},bi={findFiberByHostInstance:Qn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},__={bundleType:bi.bundleType,version:bi.version,rendererPackageName:bi.rendererPackageName,rendererConfig:bi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=lp(t),t===null?null:t.stateNode},findFiberByHostInstance:bi.findFiberByHostInstance||g_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oo.isDisabled&&oo.supportsFiber)try{dl=oo.inject(__),Vt=oo}catch{}}mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=v_;mt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Au(e))throw Error(j(200));return m_(t,e,null,n)};mt.createRoot=function(t,e){if(!Au(t))throw Error(j(299));var n=!1,r="",i=zm;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Pu(t,1,!1,null,null,n,!1,r,i),t[rn]=e.current,os(t.nodeType===8?t.parentNode:t),new Ru(e)};mt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(j(188)):(t=Object.keys(t).join(","),Error(j(268,t)));return t=lp(e),t=t===null?null:t.stateNode,t};mt.flushSync=function(t){return sr(t)};mt.hydrate=function(t,e,n){if(!El(e))throw Error(j(200));return kl(null,t,e,!0,n)};mt.hydrateRoot=function(t,e,n){if(!Au(t))throw Error(j(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=zm;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Fm(e,null,t,1,n??null,i,!1,s,o),t[rn]=e.current,os(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Cl(e)};mt.render=function(t,e,n){if(!El(e))throw Error(j(200));return kl(null,t,e,!1,n)};mt.unmountComponentAtNode=function(t){if(!El(t))throw Error(j(40));return t._reactRootContainer?(sr(function(){kl(null,null,t,!1,function(){t._reactRootContainer=null,t[rn]=null})}),!0):!1};mt.unstable_batchedUpdates=Nu;mt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!El(n))throw Error(j(200));if(t==null||t._reactInternals===void 0)throw Error(j(38));return kl(t,e,n,!1,r)};mt.version="18.3.1-next-f1338f8080-20240426";function Wm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wm)}catch(t){console.error(t)}}Wm(),Wh.exports=mt;var x_=Wh.exports,Df=x_;Ia.createRoot=Df.createRoot,Ia.hydrateRoot=Df.hydrateRoot;var Of={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D=function(t,e){if(!t)throw oi(e)},oi=function(t){return new Error("Firebase Database ("+Bm.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},w_=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],c=t[n++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(a&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Du={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,c=o?t[i+1]:0,a=i+2<t.length,u=a?t[i+2]:0,p=s>>2,h=(s&3)<<4|c>>4;let f=(c&15)<<2|u>>6,_=u&63;a||(_=64,o||(f=64)),r.push(n[p],n[h],n[f],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Um(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):w_(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||u==null||h==null)throw new S_;const f=s<<2|c>>4;if(r.push(f),u!==64){const _=c<<4&240|u>>2;if(r.push(_),h!==64){const C=u<<6&192|h;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class S_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $m=function(t){const e=Um(t);return Du.encodeByteArray(e,!0)},Yo=function(t){return $m(t).replace(/\./g,"")},Sc=function(t){try{return Du.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(t){return Vm(void 0,t)}function Vm(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!E_(n)||(t[n]=Vm(t[n],e[n]));return t}function E_(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_=()=>k_().__FIREBASE_DEFAULTS__,T_=()=>{if(typeof process>"u"||typeof Of>"u")return;const t=Of.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},b_=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Sc(t[1]);return e&&JSON.parse(e)},Gm=()=>{try{return N_()||T_()||b_()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},I_=t=>{var e,n;return(n=(e=Gm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},P_=t=>{const e=I_(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Hm=()=>{var t;return(t=Gm())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Yo(JSON.stringify(n)),Yo(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ym(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(R_())}function A_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function D_(){return Bm.NODE_ADMIN===!0}function O_(){try{return typeof indexedDB=="object"}catch{return!1}}function L_(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="FirebaseError";class Rs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=M_,Object.setPrototypeOf(this,Rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qm.prototype.create)}}class Qm{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?F_(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new Rs(i,c,r)}}function F_(t,e){return t.replace(z_,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const z_=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ms(t){return JSON.parse(t)}function De(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=ms(Sc(s[0])||""),n=ms(Sc(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},W_=function(t){const e=Km(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},B_=function(t){const e=Km(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Zr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Lf(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Qo(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Cc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Mf(s)&&Mf(o)){if(!Cc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Mf(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const f=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],c=this.chain_[3],a=this.chain_[4],u,p;for(let h=0;h<80;h++){h<40?h<20?(u=c^s&(o^c),p=1518500249):(u=s^o^c,p=1859775393):h<60?(u=s&o|c&(s|o),p=2400959708):(u=s^o^c,p=3395469782);const f=(i<<5|i>>>27)+u+a+p+r[h]&4294967295;a=c,c=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function Ou(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,D(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Tl=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(t){return t&&t._delegate?t._delegate:t}class gs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Nl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Y_(e))try{this.getOrInitializeService({instanceIdentifier:Hn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Hn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hn){return this.instances.has(e)}getOptions(e=Hn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:H_(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Hn){return this.component?this.component.multipleInstances?e:Hn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function H_(t){return t===Hn?void 0:t}function Y_(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new G_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ue||(ue={}));const K_={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},q_=ue.INFO,X_={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},J_=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=X_[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qm{constructor(e){this.name=e,this._logLevel=q_,this._logHandler=J_,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?K_[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...e),this._logHandler(this,ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...e),this._logHandler(this,ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...e),this._logHandler(this,ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...e),this._logHandler(this,ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...e),this._logHandler(this,ue.ERROR,...e)}}const Z_=(t,e)=>e.some(n=>t instanceof n);let Ff,zf;function ex(){return Ff||(Ff=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tx(){return zf||(zf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Xm=new WeakMap,Ec=new WeakMap,Jm=new WeakMap,ga=new WeakMap,Lu=new WeakMap;function nx(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Pn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Xm.set(n,t)}).catch(()=>{}),Lu.set(e,t),e}function rx(t){if(Ec.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ec.set(t,e)}let kc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ec.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Jm.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ix(t){kc=t(kc)}function sx(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ya(this),e,...n);return Jm.set(r,e.sort?e.sort():[e]),Pn(r)}:tx().includes(t)?function(...e){return t.apply(ya(this),e),Pn(Xm.get(this))}:function(...e){return Pn(t.apply(ya(this),e))}}function ox(t){return typeof t=="function"?sx(t):(t instanceof IDBTransaction&&rx(t),Z_(t,ex())?new Proxy(t,kc):t)}function Pn(t){if(t instanceof IDBRequest)return nx(t);if(ga.has(t))return ga.get(t);const e=ox(t);return e!==t&&(ga.set(t,e),Lu.set(e,t)),e}const ya=t=>Lu.get(t);function lx(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),c=Pn(o);return r&&o.addEventListener("upgradeneeded",a=>{r(Pn(o.result),a.oldVersion,a.newVersion,Pn(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),c.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),c}const ax=["get","getKey","getAll","getAllKeys","count"],cx=["put","add","delete","clear"],va=new Map;function Wf(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(va.get(e))return va.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=cx.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ax.includes(n)))return;const s=async function(o,...c){const a=this.transaction(o,i?"readwrite":"readonly");let u=a.store;return r&&(u=u.index(c.shift())),(await Promise.all([u[n](...c),i&&a.done]))[0]};return va.set(e,s),s}ix(t=>({...t,get:(e,n,r)=>Wf(e,n)||t.get(e,n,r),has:(e,n)=>!!Wf(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dx(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function dx(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Nc="@firebase/app",Bf="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln=new qm("@firebase/app"),fx="@firebase/app-compat",hx="@firebase/analytics-compat",px="@firebase/analytics",mx="@firebase/app-check-compat",gx="@firebase/app-check",yx="@firebase/auth",vx="@firebase/auth-compat",_x="@firebase/database",xx="@firebase/data-connect",wx="@firebase/database-compat",Sx="@firebase/functions",Cx="@firebase/functions-compat",Ex="@firebase/installations",kx="@firebase/installations-compat",Nx="@firebase/messaging",Tx="@firebase/messaging-compat",bx="@firebase/performance",Ix="@firebase/performance-compat",Px="@firebase/remote-config",jx="@firebase/remote-config-compat",Rx="@firebase/storage",Ax="@firebase/storage-compat",Dx="@firebase/firestore",Ox="@firebase/vertexai-preview",Lx="@firebase/firestore-compat",Mx="firebase",Fx="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc="[DEFAULT]",zx={[Nc]:"fire-core",[fx]:"fire-core-compat",[px]:"fire-analytics",[hx]:"fire-analytics-compat",[gx]:"fire-app-check",[mx]:"fire-app-check-compat",[yx]:"fire-auth",[vx]:"fire-auth-compat",[_x]:"fire-rtdb",[xx]:"fire-data-connect",[wx]:"fire-rtdb-compat",[Sx]:"fire-fn",[Cx]:"fire-fn-compat",[Ex]:"fire-iid",[kx]:"fire-iid-compat",[Nx]:"fire-fcm",[Tx]:"fire-fcm-compat",[bx]:"fire-perf",[Ix]:"fire-perf-compat",[Px]:"fire-rc",[jx]:"fire-rc-compat",[Rx]:"fire-gcs",[Ax]:"fire-gcs-compat",[Dx]:"fire-fst",[Lx]:"fire-fst-compat",[Ox]:"fire-vertex","fire-js":"fire-js",[Mx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=new Map,Wx=new Map,bc=new Map;function Uf(t,e){try{t.container.addComponent(e)}catch(n){ln.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qo(t){const e=t.name;if(bc.has(e))return ln.debug(`There were multiple attempts to register component ${e}.`),!1;bc.set(e,t);for(const n of Ko.values())Uf(n,t);for(const n of Wx.values())Uf(n,t);return!0}function Bx(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jn=new Qm("app","Firebase",Ux);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx=Fx;function Zm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Tc,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw jn.create("bad-app-name",{appName:String(i)});if(n||(n=Hm()),!n)throw jn.create("no-options");const s=Ko.get(i);if(s){if(Cc(n,s.options)&&Cc(r,s.config))return s;throw jn.create("duplicate-app",{appName:i})}const o=new Q_(i);for(const a of bc.values())o.addComponent(a);const c=new $x(n,r,o);return Ko.set(i,c),c}function Gx(t=Tc){const e=Ko.get(t);if(!e&&t===Tc&&Hm())return Zm();if(!e)throw jn.create("no-app",{appName:t});return e}function $r(t,e,n){var r;let i=(r=zx[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ln.warn(c.join(" "));return}qo(new gs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx="firebase-heartbeat-database",Yx=1,ys="firebase-heartbeat-store";let _a=null;function eg(){return _a||(_a=lx(Hx,Yx,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ys)}catch(n){console.warn(n)}}}}).catch(t=>{throw jn.create("idb-open",{originalErrorMessage:t.message})})),_a}async function Qx(t){try{const n=(await eg()).transaction(ys),r=await n.objectStore(ys).get(tg(t));return await n.done,r}catch(e){if(e instanceof Rs)ln.warn(e.message);else{const n=jn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ln.warn(n.message)}}}async function $f(t,e){try{const r=(await eg()).transaction(ys,"readwrite");await r.objectStore(ys).put(e,tg(t)),await r.done}catch(n){if(n instanceof Rs)ln.warn(n.message);else{const r=jn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ln.warn(r.message)}}}function tg(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx=1024,qx=30*24*60*60*1e3;class Xx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Zx(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Vf();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const c=new Date(o.date).valueOf();return Date.now()-c<=qx}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ln.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Vf(),{heartbeatsToSend:r,unsentEntries:i}=Jx(this._heartbeatsCache.heartbeats),s=Yo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ln.warn(n),""}}}function Vf(){return new Date().toISOString().substring(0,10)}function Jx(t,e=Kx){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Gf(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Gf(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Zx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return O_()?L_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Qx(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return $f(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return $f(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Gf(t){return Yo(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(t){qo(new gs("platform-logger",e=>new ux(e),"PRIVATE")),qo(new gs("heartbeat",e=>new Xx(e),"PRIVATE")),$r(Nc,Bf,t),$r(Nc,Bf,"esm2017"),$r("fire-js","")}ew("");var tw="firebase",nw="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$r(tw,nw,"app");var Hf={};const Yf="@firebase/database",Qf="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ng="";function rw(t){ng=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),De(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:ms(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return un(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new iw(e)}}catch{}return new sw},Xn=rg("localStorage"),ow=rg("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr=new qm("@firebase/database"),lw=function(){let t=1;return function(){return t++}}(),ig=function(t){const e=V_(t),n=new $_;n.update(e);const r=n.digest();return Du.encodeByteArray(r)},As=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=As.apply(null,r):typeof r=="object"?e+=De(r):e+=r,e+=" "}return e};let Yi=null,Kf=!0;const aw=function(t,e){D(!0,"Can't turn on custom loggers persistently."),Vr.logLevel=ue.VERBOSE,Yi=Vr.log.bind(Vr)},Ke=function(...t){if(Kf===!0&&(Kf=!1,Yi===null&&ow.get("logging_enabled")===!0&&aw()),Yi){const e=As.apply(null,t);Yi(e)}},Ds=function(t){return function(...e){Ke(t,...e)}},Ic=function(...t){const e="FIREBASE INTERNAL ERROR: "+As(...t);Vr.error(e)},an=function(...t){const e=`FIREBASE FATAL ERROR: ${As(...t)}`;throw Vr.error(e),new Error(e)},ct=function(...t){const e="FIREBASE WARNING: "+As(...t);Vr.warn(e)},cw=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ct("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},sg=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},uw=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ei="[MIN_NAME]",or="[MAX_NAME]",li=function(t,e){if(t===e)return 0;if(t===ei||e===or)return-1;if(e===ei||t===or)return 1;{const n=qf(t),r=qf(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},dw=function(t,e){return t===e?0:t<e?-1:1},Ii=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+De(e))},Mu=function(t){if(typeof t!="object"||t===null)return De(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=De(e[r]),n+=":",n+=Mu(t[e[r]]);return n+="}",n},og=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function ut(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const lg=function(t){D(!sg(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,c,a;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=c+r,o=Math.round(t*Math.pow(2,n-c)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(a=n;a;a-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(a=e;a;a-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const p=u.join("");let h="";for(a=0;a<64;a+=8){let f=parseInt(p.substr(a,8),2).toString(16);f.length===1&&(f="0"+f),h=h+f}return h.toLowerCase()},fw=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},hw=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function pw(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const mw=new RegExp("^-?(0*)\\d{1,10}$"),gw=-2147483648,yw=2147483647,qf=function(t){if(mw.test(t)){const e=Number(t);if(e>=gw&&e<=yw)return e}return null},ai=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw ct("Exception was thrown by user callback.",n),e},Math.floor(0))}},vw=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Qi=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ct(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ke("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ct(e)}}class So{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}So.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fu="5",ag="v",cg="s",ug="r",dg="f",fg=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,hg="ls",pg="p",Pc="ac",mg="websocket",gg="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,n,r,i,s=!1,o="",c=!1,a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Xn.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Xn.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function ww(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function vg(t,e,n){D(typeof e=="string","typeof type must == string"),D(typeof n=="object","typeof params must == object");let r;if(e===mg)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===gg)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);ww(t)&&(n.ns=t.namespace);const i=[];return ut(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(){this.counters_={}}incrementCounter(e,n=1){un(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return C_(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa={},wa={};function zu(t){const e=t.toString();return xa[e]||(xa[e]=new Sw),xa[e]}function Cw(t,e){const n=t.toString();return wa[n]||(wa[n]=e()),wa[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&ai(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xf="start",kw="close",Nw="pLPCommand",Tw="pRTLPCB",_g="id",xg="pw",wg="ser",bw="cb",Iw="seg",Pw="ts",jw="d",Rw="dframe",Sg=1870,Cg=30,Aw=Sg-Cg,Dw=25e3,Ow=3e4;class Lr{constructor(e,n,r,i,s,o,c){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ds(e),this.stats_=zu(n),this.urlFn=a=>(this.appCheckToken&&(a[Pc]=this.appCheckToken),vg(n,gg,a))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Ew(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Ow)),uw(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Wu((...s)=>{const[o,c,a,u,p]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Xf)this.id=c,this.password=a;else if(o===kw)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,c]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,c)},()=>{this.onClosed_()},this.urlFn);const r={};r[Xf]="t",r[wg]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[bw]=this.scriptTagHolder.uniqueCallbackIdentifier),r[ag]=Fu,this.transportSessionId&&(r[cg]=this.transportSessionId),this.lastSessionId&&(r[hg]=this.lastSessionId),this.applicationId&&(r[pg]=this.applicationId),this.appCheckToken&&(r[Pc]=this.appCheckToken),typeof location<"u"&&location.hostname&&fg.test(location.hostname)&&(r[ug]=dg);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Lr.forceAllow_=!0}static forceDisallow(){Lr.forceDisallow_=!0}static isAvailable(){return Lr.forceAllow_?!0:!Lr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!fw()&&!hw()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=De(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=$m(n),i=og(r,Aw);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Rw]="t",r[_g]=e,r[xg]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=De(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Wu{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=lw(),window[Nw+this.uniqueCallbackIdentifier]=e,window[Tw+this.uniqueCallbackIdentifier]=n,this.myIFrame=Wu.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(c){Ke("frame writing exception"),c.stack&&Ke(c.stack),Ke(c)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ke("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[_g]=this.myID,e[xg]=this.myPW,e[wg]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Cg+r.length<=Sg;){const o=this.pendingSegs.shift();r=r+"&"+Iw+i+"="+o.seg+"&"+Pw+i+"="+o.ts+"&"+jw+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Dw)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ke("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw=16384,Mw=45e3;let Xo=null;typeof MozWebSocket<"u"?Xo=MozWebSocket:typeof WebSocket<"u"&&(Xo=WebSocket);class jt{constructor(e,n,r,i,s,o,c){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ds(this.connId),this.stats_=zu(n),this.connURL=jt.connectionURL_(n,o,c,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[ag]=Fu,typeof location<"u"&&location.hostname&&fg.test(location.hostname)&&(o[ug]=dg),n&&(o[cg]=n),r&&(o[hg]=r),i&&(o[Pc]=i),s&&(o[pg]=s),vg(e,mg,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Xn.set("previous_websocket_failure",!0);try{let r;D_(),this.mySock=new Xo(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){jt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Xo!==null&&!jt.forceDisallow_}static previouslyFailed(){return Xn.isInMemoryStorage||Xn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Xn.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=ms(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(D(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=De(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=og(n,Lw);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Mw))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}jt.responsesRequiredToBeHealthy=2;jt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Lr,jt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=jt&&jt.isAvailable();let r=n&&!jt.previouslyFailed();if(e.webSocketOnly&&(n||ct("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[jt];else{const i=this.transports_=[];for(const s of vs.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);vs.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}vs.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw=6e4,zw=5e3,Ww=10*1024,Bw=100*1024,Sa="t",Jf="d",Uw="s",Zf="r",$w="e",eh="o",th="a",nh="n",rh="p",Vw="h";class Gw{constructor(e,n,r,i,s,o,c,a,u,p){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=c,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ds("c:"+this.id+":"),this.transportManager_=new vs(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Qi(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Bw?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Ww?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Sa in e){const n=e[Sa];n===th?this.upgradeIfSecondaryHealthy_():n===Zf?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===eh&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Ii("t",e),r=Ii("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:rh,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:th,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:nh,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Ii("t",e),r=Ii("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Ii(Sa,e);if(Jf in e){const r=e[Jf];if(n===Vw){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===nh){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Uw?this.onConnectionShutdown_(r):n===Zf?this.onReset_(r):n===$w?Ic("Server Error: "+r):n===eh?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ic("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Fu!==r&&ct("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Qi(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Fw))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Qi(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(zw))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:rh,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Xn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e){this.allowedEvents_=e,this.listeners_={},D(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){D(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo extends kg{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Ym()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Jo}getInitialEvent(e){return D(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=32,sh=768;class ce{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function oe(){return new ce("")}function X(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ln(t){return t.pieces_.length-t.pieceNum_}function de(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ce(t.pieces_,e)}function Ng(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Hw(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Tg(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function bg(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ce(e,0)}function Oe(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ce)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ce(n,0)}function Z(t){return t.pieceNum_>=t.pieces_.length}function Ze(t,e){const n=X(t),r=X(e);if(n===null)return e;if(n===r)return Ze(de(t),de(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Bu(t,e){if(Ln(t)!==Ln(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Rt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Ln(t)>Ln(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Yw{constructor(e,n){this.errorPrefix_=n,this.parts_=Tg(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Tl(this.parts_[r]);Ig(this)}}function Qw(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Tl(e),Ig(t)}function Kw(t){const e=t.parts_.pop();t.byteLength_-=Tl(e),t.parts_.length>0&&(t.byteLength_-=1)}function Ig(t){if(t.byteLength_>sh)throw new Error(t.errorPrefix_+"has a key path longer than "+sh+" bytes ("+t.byteLength_+").");if(t.parts_.length>ih)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ih+") or object contains a cycle "+Yn(t))}function Yn(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu extends kg{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Uu}getInitialEvent(e){return D(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi=1e3,qw=60*5*1e3,oh=30*1e3,Xw=1.3,Jw=3e4,Zw="server_kill",lh=3;class tn extends Eg{constructor(e,n,r,i,s,o,c,a){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=c,this.authOverride_=a,this.id=tn.nextPersistentConnectionId_++,this.log_=Ds("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Pi,this.maxReconnectDelay_=qw,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Uu.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Jo.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(De(s)),D(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Nl,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const c=o.d;o.s==="ok"?n.resolve(c):n.reject(c)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),D(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),D(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const c={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,c=>{const a=c.d,u=c.s;tn.warnOnListenWarnings_(a,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",c),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,a))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&un(e,"w")){const r=Zr(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();ct(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||B_(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=oh)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=W_(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),D(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+De(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Ic("Unrecognized action received from server: "+De(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){D(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Pi,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Pi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Jw&&(this.reconnectDelay_=Pi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Xw)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+tn.nextConnectionId_++,s=this.lastSessionId;let o=!1,c=null;const a=function(){c?c.close():(o=!0,r())},u=function(h){D(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(h)};this.realtime_={close:a,sendRequest:u};const p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,f]=await Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)]);o?Ke("getToken() completed but was canceled"):(Ke("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,c=new Gw(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,_=>{ct(_+" ("+this.repoInfo_.toString()+")"),this.interrupt(Zw)},s))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&ct(h),a())}}}interrupt(e){Ke("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ke("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Lf(this.interruptReasons_)&&(this.reconnectDelay_=Pi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>Mu(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new ce(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Ke("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=lh&&(this.reconnectDelay_=oh,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Ke("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=lh&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+ng.replace(/\./g,"-")]=1,Ym()?e["framework.cordova"]=1:A_()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Jo.getInstance().currentlyOnline();return Lf(this.interruptReasons_)&&e}}tn.nextPersistentConnectionId_=0;tn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new J(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new J(ei,e),i=new J(ei,n);return this.compare(r,i)!==0}minPost(){return J.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lo;class Pg extends bl{static get __EMPTY_NODE(){return lo}static set __EMPTY_NODE(e){lo=e}compare(e,n){return li(e.name,n.name)}isDefinedOn(e){throw oi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return J.MIN}maxPost(){return new J(or,lo)}makePost(e,n){return D(typeof e=="string","KeyIndex indexValue must always be a string."),new J(e,lo)}toString(){return".key"}}const Gr=new Pg;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class We{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??We.RED,this.left=i??st.EMPTY_NODE,this.right=s??st.EMPTY_NODE}copy(e,n,r,i,s){return new We(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return st.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return st.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}We.RED=!0;We.BLACK=!1;class eS{copy(e,n,r,i,s){return this}insert(e,n,r){return new We(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class st{constructor(e,n=st.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new st(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,We.BLACK,null,null))}remove(e){return new st(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,We.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ao(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new ao(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new ao(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new ao(this.root_,null,this.comparator_,!0,e)}}st.EMPTY_NODE=new eS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(t,e){return li(t.name,e.name)}function $u(t,e){return li(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jc;function nS(t){jc=t}const jg=function(t){return typeof t=="number"?"number:"+lg(t):"string:"+t},Rg=function(t){if(t.isLeafNode()){const e=t.val();D(typeof e=="string"||typeof e=="number"||typeof e=="object"&&un(e,".sv"),"Priority must be a string or number.")}else D(t===jc||t.isEmpty(),"priority of unexpected type.");D(t===jc||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ah;class Fe{constructor(e,n=Fe.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,D(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Rg(this.priorityNode_)}static set __childrenNodeConstructor(e){ah=e}static get __childrenNodeConstructor(){return ah}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Fe(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Fe.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Z(e)?this:X(e)===".priority"?this.priorityNode_:Fe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Fe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=X(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(D(r!==".priority"||Ln(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Fe.__childrenNodeConstructor.EMPTY_NODE.updateChild(de(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+jg(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=lg(this.value_):e+=this.value_,this.lazyHash_=ig(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Fe.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Fe.__childrenNodeConstructor?-1:(D(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Fe.VALUE_TYPE_ORDER.indexOf(n),s=Fe.VALUE_TYPE_ORDER.indexOf(r);return D(i>=0,"Unknown leaf type: "+n),D(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Fe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ag,Dg;function rS(t){Ag=t}function iS(t){Dg=t}class sS extends bl{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?li(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return J.MIN}maxPost(){return new J(or,new Fe("[PRIORITY-POST]",Dg))}makePost(e,n){const r=Ag(e);return new J(n,new Fe("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ne=new sS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS=Math.log(2);class lS{constructor(e){const n=s=>parseInt(Math.log(s)/oS,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Zo=function(t,e,n,r){t.sort(e);const i=function(a,u){const p=u-a;let h,f;if(p===0)return null;if(p===1)return h=t[a],f=n?n(h):h,new We(f,h.node,We.BLACK,null,null);{const _=parseInt(p/2,10)+a,C=i(a,_),w=i(_+1,u);return h=t[_],f=n?n(h):h,new We(f,h.node,We.BLACK,C,w)}},s=function(a){let u=null,p=null,h=t.length;const f=function(C,w){const S=h-C,g=h;h-=C;const m=i(S+1,g),x=t[S],N=n?n(x):x;_(new We(N,x.node,w,null,m))},_=function(C){u?(u.left=C,u=C):(p=C,u=C)};for(let C=0;C<a.count;++C){const w=a.nextBitIsOne(),S=Math.pow(2,a.count-(C+1));w?f(S,We.BLACK):(f(S,We.BLACK),f(S,We.RED))}return p},o=new lS(t.length),c=s(o);return new st(r||e,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ca;const Cr={};class Zt{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return D(Cr&&Ne,"ChildrenNode.ts has not been loaded"),Ca=Ca||new Zt({".priority":Cr},{".priority":Ne}),Ca}get(e){const n=Zr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof st?n:null}hasIndex(e){return un(this.indexSet_,e.toString())}addIndex(e,n){D(e!==Gr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(J.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let c;i?c=Zo(r,e.getCompare()):c=Cr;const a=e.toString(),u=Object.assign({},this.indexSet_);u[a]=e;const p=Object.assign({},this.indexes_);return p[a]=c,new Zt(p,u)}addToIndexes(e,n){const r=Qo(this.indexes_,(i,s)=>{const o=Zr(this.indexSet_,s);if(D(o,"Missing index implementation for "+s),i===Cr)if(o.isDefinedOn(e.node)){const c=[],a=n.getIterator(J.Wrap);let u=a.getNext();for(;u;)u.name!==e.name&&c.push(u),u=a.getNext();return c.push(e),Zo(c,o.getCompare())}else return Cr;else{const c=n.get(e.name);let a=i;return c&&(a=a.remove(new J(e.name,c))),a.insert(e,e.node)}});return new Zt(r,this.indexSet_)}removeFromIndexes(e,n){const r=Qo(this.indexes_,i=>{if(i===Cr)return i;{const s=n.get(e.name);return s?i.remove(new J(e.name,s)):i}});return new Zt(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ji;class G{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Rg(this.priorityNode_),this.children_.isEmpty()&&D(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ji||(ji=new G(new st($u),null,Zt.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ji}updatePriority(e){return this.children_.isEmpty()?this:new G(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?ji:n}}getChild(e){const n=X(e);return n===null?this:this.getImmediateChild(n).getChild(de(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(D(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new J(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?ji:this.priorityNode_;return new G(i,o,s)}}updateChild(e,n){const r=X(e);if(r===null)return n;{D(X(e)!==".priority"||Ln(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(de(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Ne,(o,c)=>{n[o]=c.val(e),r++,s&&G.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const c in n)o[c]=n[c];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+jg(this.getPriority().val())+":"),this.forEachChild(Ne,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":ig(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new J(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new J(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new J(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,J.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,J.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Os?-1:0}withIndex(e){if(e===Gr||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new G(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Gr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Ne),i=n.getIterator(Ne);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Gr?null:this.indexMap_.get(e.toString())}}G.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class aS extends G{constructor(){super(new st($u),G.EMPTY_NODE,Zt.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return G.EMPTY_NODE}isEmpty(){return!1}}const Os=new aS;Object.defineProperties(J,{MIN:{value:new J(ei,G.EMPTY_NODE)},MAX:{value:new J(or,Os)}});Pg.__EMPTY_NODE=G.EMPTY_NODE;Fe.__childrenNodeConstructor=G;nS(Os);iS(Os);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS=!0;function Be(t,e=null){if(t===null)return G.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),D(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Fe(n,Be(e))}if(!(t instanceof Array)&&cS){const n=[];let r=!1;if(ut(t,(o,c)=>{if(o.substring(0,1)!=="."){const a=Be(c);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new J(o,a)))}}),n.length===0)return G.EMPTY_NODE;const s=Zo(n,tS,o=>o.name,$u);if(r){const o=Zo(n,Ne.getCompare());return new G(s,Be(e),new Zt({".priority":o},{".priority":Ne}))}else return new G(s,Be(e),Zt.Default)}else{let n=G.EMPTY_NODE;return ut(t,(r,i)=>{if(un(t,r)&&r.substring(0,1)!=="."){const s=Be(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Be(e))}}rS(Be);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS extends bl{constructor(e){super(),this.indexPath_=e,D(!Z(e)&&X(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?li(e.name,n.name):s}makePost(e,n){const r=Be(e),i=G.EMPTY_NODE.updateChild(this.indexPath_,r);return new J(n,i)}maxPost(){const e=G.EMPTY_NODE.updateChild(this.indexPath_,Os);return new J(or,e)}toString(){return Tg(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS extends bl{compare(e,n){const r=e.node.compareTo(n.node);return r===0?li(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return J.MIN}maxPost(){return J.MAX}makePost(e,n){const r=Be(e);return new J(n,r)}toString(){return".value"}}const fS=new dS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(t){return{type:"value",snapshotNode:t}}function ti(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function _s(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function xs(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function hS(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){D(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const c=e.getImmediateChild(n);return c.getChild(i).equals(r.getChild(i))&&c.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(_s(n,c)):D(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?o.trackChildChange(ti(n,r)):o.trackChildChange(xs(n,r,c))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Ne,(i,s)=>{n.hasChild(i)||r.trackChildChange(_s(i,s))}),n.isLeafNode()||n.forEachChild(Ne,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(xs(i,s,o))}else r.trackChildChange(ti(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?G.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e){this.indexedFilter_=new Vu(e.getIndex()),this.index_=e.getIndex(),this.startPost_=ws.getStartPost_(e),this.endPost_=ws.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new J(n,r))||(r=G.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=G.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(G.EMPTY_NODE);const s=this;return n.forEachChild(Ne,(o,c)=>{s.matches(new J(o,c))||(i=i.updateImmediateChild(o,G.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new ws(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new J(n,r))||(r=G.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=G.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=G.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const c=s.getNext();if(this.withinDirectionalStart(c))if(this.withinDirectionalEnd(c))i=i.updateImmediateChild(c.name,c.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(G.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const c=s.getNext();o<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?o++:i=i.updateImmediateChild(c.name,G.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const h=this.index_.getCompare();o=(f,_)=>h(_,f)}else o=this.index_.getCompare();const c=e;D(c.numChildren()===this.limit_,"");const a=new J(n,r),u=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),p=this.rangedFilter_.matches(a);if(c.hasChild(n)){const h=c.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,u,this.reverse_);for(;f!=null&&(f.name===n||c.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const _=f==null?1:o(f,a);if(p&&!r.isEmpty()&&_>=0)return s!=null&&s.trackChildChange(xs(n,r,h)),c.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(_s(n,h));const w=c.updateImmediateChild(n,G.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s!=null&&s.trackChildChange(ti(f.name,f.node)),w.updateImmediateChild(f.name,f.node)):w}}else return r.isEmpty()?e:p&&o(u,a)>=0?(s!=null&&(s.trackChildChange(_s(u.name,u.node)),s.trackChildChange(ti(n,r))),c.updateImmediateChild(n,r).updateImmediateChild(u.name,G.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ne}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return D(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return D(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ei}hasEnd(){return this.endSet_}getIndexEndValue(){return D(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return D(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:or}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return D(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ne}copy(){const e=new Gu;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function mS(t){return t.loadsAllData()?new Vu(t.getIndex()):t.hasLimit()?new pS(t):new ws(t)}function ch(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ne?n="$priority":t.index_===fS?n="$value":t.index_===Gr?n="$key":(D(t.index_ instanceof uS,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=De(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=De(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+De(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=De(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+De(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function uh(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ne&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el extends Eg{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Ds("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(D(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=el.getListenId_(e,r),c={};this.listens_[o]=c;const a=ch(e._queryParams);this.restRequest_(s+".json",a,(u,p)=>{let h=p;if(u===404&&(h=null,u=null),u===null&&this.onDataUpdate_(s,h,!1,r),Zr(this.listens_,o)===c){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",i(f,null)}})}unlisten(e,n){const r=el.getListenId_(e,n);delete this.listens_[r]}get(e){const n=ch(e._queryParams),r=e._path.toString(),i=new Nl;return this.restRequest_(r+".json",n,(s,o)=>{let c=o;s===404&&(c=null,s=null),s===null?(this.onDataUpdate_(r,c,!1,null),i.resolve(c)):i.reject(new Error(c))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+U_(n);this.log_("Sending REST request for "+o);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(r&&c.readyState===4){this.log_("REST Response for "+o+" received. status:",c.status,"response:",c.responseText);let a=null;if(c.status>=200&&c.status<300){try{a=ms(c.responseText)}catch{ct("Failed to parse JSON response for "+o+": "+c.responseText)}r(null,a)}else c.status!==401&&c.status!==404&&ct("Got unsuccessful REST response for "+o+" Status: "+c.status),r(c.status);r=null}},c.open("GET",o,!0),c.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(){this.rootNode_=G.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tl(){return{value:null,children:new Map}}function Lg(t,e,n){if(Z(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=X(e);t.children.has(r)||t.children.set(r,tl());const i=t.children.get(r);e=de(e),Lg(i,e,n)}}function Rc(t,e,n){t.value!==null?n(e,t.value):yS(t,(r,i)=>{const s=new ce(e.toString()+"/"+r);Rc(i,s,n)})}function yS(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&ut(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=10*1e3,_S=30*1e3,xS=5*60*1e3;class wS{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new vS(e);const r=dh+(_S-dh)*Math.random();Qi(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;ut(e,(i,s)=>{s>0&&un(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Qi(this.reportStats_.bind(this),Math.floor(Math.random()*2*xS))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(At||(At={}));function Mg(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Hu(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Yu(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=At.ACK_USER_WRITE,this.source=Mg()}operationForChild(e){if(Z(this.path)){if(this.affectedTree.value!=null)return D(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ce(e));return new nl(oe(),n,this.revert)}}else return D(X(this.path)===e,"operationForChild called for unrelated child."),new nl(de(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,n){this.source=e,this.path=n,this.type=At.LISTEN_COMPLETE}operationForChild(e){return Z(this.path)?new Ss(this.source,oe()):new Ss(this.source,de(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=At.OVERWRITE}operationForChild(e){return Z(this.path)?new lr(this.source,oe(),this.snap.getImmediateChild(e)):new lr(this.source,de(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=At.MERGE}operationForChild(e){if(Z(this.path)){const n=this.children.subtree(new ce(e));return n.isEmpty()?null:n.value?new lr(this.source,oe(),n.value):new Cs(this.source,oe(),n)}else return D(X(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Cs(this.source,de(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Z(e))return this.isFullyInitialized()&&!this.filtered_;const n=X(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function CS(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(hS(o.childName,o.snapshotNode))}),Ri(t,i,"child_removed",e,r,n),Ri(t,i,"child_added",e,r,n),Ri(t,i,"child_moved",s,r,n),Ri(t,i,"child_changed",e,r,n),Ri(t,i,"value",e,r,n),i}function Ri(t,e,n,r,i,s){const o=r.filter(c=>c.type===n);o.sort((c,a)=>kS(t,c,a)),o.forEach(c=>{const a=ES(t,c,s);i.forEach(u=>{u.respondsTo(c.type)&&e.push(u.createEvent(a,t.query_))})})}function ES(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function kS(t,e,n){if(e.childName==null||n.childName==null)throw oi("Should only compare child_ events.");const r=new J(e.childName,e.snapshotNode),i=new J(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(t,e){return{eventCache:t,serverCache:e}}function Ki(t,e,n,r){return Il(new Mn(e,n,r),t.serverCache)}function Fg(t,e,n,r){return Il(t.eventCache,new Mn(e,n,r))}function rl(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ar(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ea;const NS=()=>(Ea||(Ea=new st(dw)),Ea);class me{constructor(e,n=NS()){this.value=e,this.children=n}static fromObject(e){let n=new me(null);return ut(e,(r,i)=>{n=n.set(new ce(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:oe(),value:this.value};if(Z(e))return null;{const r=X(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(de(e),n);return s!=null?{path:Oe(new ce(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Z(e))return this;{const n=X(e),r=this.children.get(n);return r!==null?r.subtree(de(e)):new me(null)}}set(e,n){if(Z(e))return new me(n,this.children);{const r=X(e),s=(this.children.get(r)||new me(null)).set(de(e),n),o=this.children.insert(r,s);return new me(this.value,o)}}remove(e){if(Z(e))return this.children.isEmpty()?new me(null):new me(null,this.children);{const n=X(e),r=this.children.get(n);if(r){const i=r.remove(de(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new me(null):new me(this.value,s)}else return this}}get(e){if(Z(e))return this.value;{const n=X(e),r=this.children.get(n);return r?r.get(de(e)):null}}setTree(e,n){if(Z(e))return n;{const r=X(e),s=(this.children.get(r)||new me(null)).setTree(de(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new me(this.value,o)}}fold(e){return this.fold_(oe(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Oe(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,oe(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Z(e))return null;{const s=X(e),o=this.children.get(s);return o?o.findOnPath_(de(e),Oe(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,oe(),n)}foreachOnPath_(e,n,r){if(Z(e))return this;{this.value&&r(n,this.value);const i=X(e),s=this.children.get(i);return s?s.foreachOnPath_(de(e),Oe(n,i),r):new me(null)}}foreach(e){this.foreach_(oe(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Oe(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.writeTree_=e}static empty(){return new Lt(new me(null))}}function qi(t,e,n){if(Z(e))return new Lt(new me(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Ze(i,e);return s=s.updateChild(o,n),new Lt(t.writeTree_.set(i,s))}else{const i=new me(n),s=t.writeTree_.setTree(e,i);return new Lt(s)}}}function fh(t,e,n){let r=t;return ut(n,(i,s)=>{r=qi(r,Oe(e,i),s)}),r}function hh(t,e){if(Z(e))return Lt.empty();{const n=t.writeTree_.setTree(e,new me(null));return new Lt(n)}}function Ac(t,e){return fr(t,e)!=null}function fr(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ze(n.path,e)):null}function ph(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ne,(r,i)=>{e.push(new J(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new J(r,i.value))}),e}function Rn(t,e){if(Z(e))return t;{const n=fr(t,e);return n!=null?new Lt(new me(n)):new Lt(t.writeTree_.subtree(e))}}function Dc(t){return t.writeTree_.isEmpty()}function ni(t,e){return zg(oe(),t.writeTree_,e)}function zg(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(D(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=zg(Oe(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Oe(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(t,e){return $g(e,t)}function TS(t,e,n,r,i){D(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=qi(t.visibleWrites,e,n)),t.lastWriteId=r}function bS(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function IS(t,e){const n=t.allWrites.findIndex(c=>c.writeId===e);D(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const c=t.allWrites[o];c.visible&&(o>=n&&PS(c,r.path)?i=!1:Rt(r.path,c.path)&&(s=!0)),o--}if(i){if(s)return jS(t),!0;if(r.snap)t.visibleWrites=hh(t.visibleWrites,r.path);else{const c=r.children;ut(c,a=>{t.visibleWrites=hh(t.visibleWrites,Oe(r.path,a))})}return!0}else return!1}function PS(t,e){if(t.snap)return Rt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Rt(Oe(t.path,n),e))return!0;return!1}function jS(t){t.visibleWrites=Wg(t.allWrites,RS,oe()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function RS(t){return t.visible}function Wg(t,e,n){let r=Lt.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let c;if(s.snap)Rt(n,o)?(c=Ze(n,o),r=qi(r,c,s.snap)):Rt(o,n)&&(c=Ze(o,n),r=qi(r,oe(),s.snap.getChild(c)));else if(s.children){if(Rt(n,o))c=Ze(n,o),r=fh(r,c,s.children);else if(Rt(o,n))if(c=Ze(o,n),Z(c))r=fh(r,oe(),s.children);else{const a=Zr(s.children,X(c));if(a){const u=a.getChild(de(c));r=qi(r,oe(),u)}}}else throw oi("WriteRecord should have .snap or .children")}}return r}function Bg(t,e,n,r,i){if(!r&&!i){const s=fr(t.visibleWrites,e);if(s!=null)return s;{const o=Rn(t.visibleWrites,e);if(Dc(o))return n;if(n==null&&!Ac(o,oe()))return null;{const c=n||G.EMPTY_NODE;return ni(o,c)}}}else{const s=Rn(t.visibleWrites,e);if(!i&&Dc(s))return n;if(!i&&n==null&&!Ac(s,oe()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Rt(u.path,e)||Rt(e,u.path))},c=Wg(t.allWrites,o,e),a=n||G.EMPTY_NODE;return ni(c,a)}}}function AS(t,e,n){let r=G.EMPTY_NODE;const i=fr(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ne,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Rn(t.visibleWrites,e);return n.forEachChild(Ne,(o,c)=>{const a=ni(Rn(s,new ce(o)),c);r=r.updateImmediateChild(o,a)}),ph(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Rn(t.visibleWrites,e);return ph(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function DS(t,e,n,r,i){D(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Oe(e,n);if(Ac(t.visibleWrites,s))return null;{const o=Rn(t.visibleWrites,s);return Dc(o)?i.getChild(n):ni(o,i.getChild(n))}}function OS(t,e,n,r){const i=Oe(e,n),s=fr(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Rn(t.visibleWrites,i);return ni(o,r.getNode().getImmediateChild(n))}else return null}function LS(t,e){return fr(t.visibleWrites,e)}function MS(t,e,n,r,i,s,o){let c;const a=Rn(t.visibleWrites,e),u=fr(a,oe());if(u!=null)c=u;else if(n!=null)c=ni(a,n);else return[];if(c=c.withIndex(o),!c.isEmpty()&&!c.isLeafNode()){const p=[],h=o.getCompare(),f=s?c.getReverseIteratorFrom(r,o):c.getIteratorFrom(r,o);let _=f.getNext();for(;_&&p.length<i;)h(_,r)!==0&&p.push(_),_=f.getNext();return p}else return[]}function FS(){return{visibleWrites:Lt.empty(),allWrites:[],lastWriteId:-1}}function il(t,e,n,r){return Bg(t.writeTree,t.treePath,e,n,r)}function Qu(t,e){return AS(t.writeTree,t.treePath,e)}function mh(t,e,n,r){return DS(t.writeTree,t.treePath,e,n,r)}function sl(t,e){return LS(t.writeTree,Oe(t.treePath,e))}function zS(t,e,n,r,i,s){return MS(t.writeTree,t.treePath,e,n,r,i,s)}function Ku(t,e,n){return OS(t.writeTree,t.treePath,e,n)}function Ug(t,e){return $g(Oe(t.treePath,e),t.writeTree)}function $g(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;D(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),D(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,xs(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,_s(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,ti(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,xs(r,e.snapshotNode,i.oldSnap));else throw oi("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const Vg=new BS;class qu{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Mn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ku(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ar(this.viewCache_),s=zS(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(t){return{filter:t}}function $S(t,e){D(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),D(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function VS(t,e,n,r,i){const s=new WS;let o,c;if(n.type===At.OVERWRITE){const u=n;u.source.fromUser?o=Oc(t,e,u.path,u.snap,r,i,s):(D(u.source.fromServer,"Unknown source."),c=u.source.tagged||e.serverCache.isFiltered()&&!Z(u.path),o=ol(t,e,u.path,u.snap,r,i,c,s))}else if(n.type===At.MERGE){const u=n;u.source.fromUser?o=HS(t,e,u.path,u.children,r,i,s):(D(u.source.fromServer,"Unknown source."),c=u.source.tagged||e.serverCache.isFiltered(),o=Lc(t,e,u.path,u.children,r,i,c,s))}else if(n.type===At.ACK_USER_WRITE){const u=n;u.revert?o=KS(t,e,u.path,r,i,s):o=YS(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===At.LISTEN_COMPLETE)o=QS(t,e,n.path,r,s);else throw oi("Unknown operation type: "+n.type);const a=s.getChanges();return GS(e,o,a),{viewCache:o,changes:a}}function GS(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=rl(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Og(rl(e)))}}function Gg(t,e,n,r,i,s){const o=e.eventCache;if(sl(r,n)!=null)return e;{let c,a;if(Z(n))if(D(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=ar(e),p=u instanceof G?u:G.EMPTY_NODE,h=Qu(r,p);c=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const u=il(r,ar(e));c=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=X(n);if(u===".priority"){D(Ln(n)===1,"Can't have a priority with additional path components");const p=o.getNode();a=e.serverCache.getNode();const h=mh(r,n,p,a);h!=null?c=t.filter.updatePriority(p,h):c=o.getNode()}else{const p=de(n);let h;if(o.isCompleteForChild(u)){a=e.serverCache.getNode();const f=mh(r,n,o.getNode(),a);f!=null?h=o.getNode().getImmediateChild(u).updateChild(p,f):h=o.getNode().getImmediateChild(u)}else h=Ku(r,u,e.serverCache);h!=null?c=t.filter.updateChild(o.getNode(),u,h,p,i,s):c=o.getNode()}}return Ki(e,c,o.isFullyInitialized()||Z(n),t.filter.filtersNodes())}}function ol(t,e,n,r,i,s,o,c){const a=e.serverCache;let u;const p=o?t.filter:t.filter.getIndexedFilter();if(Z(n))u=p.updateFullNode(a.getNode(),r,null);else if(p.filtersNodes()&&!a.isFiltered()){const _=a.getNode().updateChild(n,r);u=p.updateFullNode(a.getNode(),_,null)}else{const _=X(n);if(!a.isCompleteForPath(n)&&Ln(n)>1)return e;const C=de(n),S=a.getNode().getImmediateChild(_).updateChild(C,r);_===".priority"?u=p.updatePriority(a.getNode(),S):u=p.updateChild(a.getNode(),_,S,C,Vg,null)}const h=Fg(e,u,a.isFullyInitialized()||Z(n),p.filtersNodes()),f=new qu(i,h,s);return Gg(t,h,n,i,f,c)}function Oc(t,e,n,r,i,s,o){const c=e.eventCache;let a,u;const p=new qu(i,e,s);if(Z(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),a=Ki(e,u,!0,t.filter.filtersNodes());else{const h=X(n);if(h===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),a=Ki(e,u,c.isFullyInitialized(),c.isFiltered());else{const f=de(n),_=c.getNode().getImmediateChild(h);let C;if(Z(f))C=r;else{const w=p.getCompleteChild(h);w!=null?Ng(f)===".priority"&&w.getChild(bg(f)).isEmpty()?C=w:C=w.updateChild(f,r):C=G.EMPTY_NODE}if(_.equals(C))a=e;else{const w=t.filter.updateChild(c.getNode(),h,C,f,p,o);a=Ki(e,w,c.isFullyInitialized(),t.filter.filtersNodes())}}}return a}function gh(t,e){return t.eventCache.isCompleteForChild(e)}function HS(t,e,n,r,i,s,o){let c=e;return r.foreach((a,u)=>{const p=Oe(n,a);gh(e,X(p))&&(c=Oc(t,c,p,u,i,s,o))}),r.foreach((a,u)=>{const p=Oe(n,a);gh(e,X(p))||(c=Oc(t,c,p,u,i,s,o))}),c}function yh(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Lc(t,e,n,r,i,s,o,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let a=e,u;Z(n)?u=r:u=new me(null).setTree(n,r);const p=e.serverCache.getNode();return u.children.inorderTraversal((h,f)=>{if(p.hasChild(h)){const _=e.serverCache.getNode().getImmediateChild(h),C=yh(t,_,f);a=ol(t,a,new ce(h),C,i,s,o,c)}}),u.children.inorderTraversal((h,f)=>{const _=!e.serverCache.isCompleteForChild(h)&&f.value===null;if(!p.hasChild(h)&&!_){const C=e.serverCache.getNode().getImmediateChild(h),w=yh(t,C,f);a=ol(t,a,new ce(h),w,i,s,o,c)}}),a}function YS(t,e,n,r,i,s,o){if(sl(i,n)!=null)return e;const c=e.serverCache.isFiltered(),a=e.serverCache;if(r.value!=null){if(Z(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return ol(t,e,n,a.getNode().getChild(n),i,s,c,o);if(Z(n)){let u=new me(null);return a.getNode().forEachChild(Gr,(p,h)=>{u=u.set(new ce(p),h)}),Lc(t,e,n,u,i,s,c,o)}else return e}else{let u=new me(null);return r.foreach((p,h)=>{const f=Oe(n,p);a.isCompleteForPath(f)&&(u=u.set(p,a.getNode().getChild(f)))}),Lc(t,e,n,u,i,s,c,o)}}function QS(t,e,n,r,i){const s=e.serverCache,o=Fg(e,s.getNode(),s.isFullyInitialized()||Z(n),s.isFiltered());return Gg(t,o,n,r,Vg,i)}function KS(t,e,n,r,i,s){let o;if(sl(r,n)!=null)return e;{const c=new qu(r,e,i),a=e.eventCache.getNode();let u;if(Z(n)||X(n)===".priority"){let p;if(e.serverCache.isFullyInitialized())p=il(r,ar(e));else{const h=e.serverCache.getNode();D(h instanceof G,"serverChildren would be complete if leaf node"),p=Qu(r,h)}p=p,u=t.filter.updateFullNode(a,p,s)}else{const p=X(n);let h=Ku(r,p,e.serverCache);h==null&&e.serverCache.isCompleteForChild(p)&&(h=a.getImmediateChild(p)),h!=null?u=t.filter.updateChild(a,p,h,de(n),c,s):e.eventCache.getNode().hasChild(p)?u=t.filter.updateChild(a,p,G.EMPTY_NODE,de(n),c,s):u=a,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=il(r,ar(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||sl(r,oe())!=null,Ki(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Vu(r.getIndex()),s=mS(r);this.processor_=US(s);const o=n.serverCache,c=n.eventCache,a=i.updateFullNode(G.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(G.EMPTY_NODE,c.getNode(),null),p=new Mn(a,o.isFullyInitialized(),i.filtersNodes()),h=new Mn(u,c.isFullyInitialized(),s.filtersNodes());this.viewCache_=Il(h,p),this.eventGenerator_=new SS(this.query_)}get query(){return this.query_}}function XS(t){return t.viewCache_.serverCache.getNode()}function JS(t){return rl(t.viewCache_)}function ZS(t,e){const n=ar(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Z(e)&&!n.getImmediateChild(X(e)).isEmpty())?n.getChild(e):null}function vh(t){return t.eventRegistrations_.length===0}function e1(t,e){t.eventRegistrations_.push(e)}function _h(t,e,n){const r=[];if(n){D(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function xh(t,e,n,r){e.type===At.MERGE&&e.source.queryId!==null&&(D(ar(t.viewCache_),"We should always have a full cache before handling merges"),D(rl(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=VS(t.processor_,i,e,n,r);return $S(t.processor_,s.viewCache),D(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,Hg(t,s.changes,s.viewCache.eventCache.getNode(),null)}function t1(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ne,(s,o)=>{r.push(ti(s,o))}),n.isFullyInitialized()&&r.push(Og(n.getNode())),Hg(t,r,n.getNode(),e)}function Hg(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return CS(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ll;class Yg{constructor(){this.views=new Map}}function n1(t){D(!ll,"__referenceConstructor has already been defined"),ll=t}function r1(){return D(ll,"Reference.ts has not been loaded"),ll}function i1(t){return t.views.size===0}function Xu(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return D(s!=null,"SyncTree gave us an op for an invalid query."),xh(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(xh(o,e,n,r));return s}}function Qg(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let c=il(n,i?r:null),a=!1;c?a=!0:r instanceof G?(c=Qu(n,r),a=!1):(c=G.EMPTY_NODE,a=!1);const u=Il(new Mn(c,a,!1),new Mn(r,i,!1));return new qS(e,u)}return o}function s1(t,e,n,r,i,s){const o=Qg(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),e1(o,n),t1(o,n)}function o1(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const c=Fn(t);if(i==="default")for(const[a,u]of t.views.entries())o=o.concat(_h(u,n,r)),vh(u)&&(t.views.delete(a),u.query._queryParams.loadsAllData()||s.push(u.query));else{const a=t.views.get(i);a&&(o=o.concat(_h(a,n,r)),vh(a)&&(t.views.delete(i),a.query._queryParams.loadsAllData()||s.push(a.query)))}return c&&!Fn(t)&&s.push(new(r1())(e._repo,e._path)),{removed:s,events:o}}function Kg(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function An(t,e){let n=null;for(const r of t.views.values())n=n||ZS(r,e);return n}function qg(t,e){if(e._queryParams.loadsAllData())return jl(t);{const r=e._queryIdentifier;return t.views.get(r)}}function Xg(t,e){return qg(t,e)!=null}function Fn(t){return jl(t)!=null}function jl(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let al;function l1(t){D(!al,"__referenceConstructor has already been defined"),al=t}function a1(){return D(al,"Reference.ts has not been loaded"),al}let c1=1;class wh{constructor(e){this.listenProvider_=e,this.syncPointTree_=new me(null),this.pendingWriteTree_=FS(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Jg(t,e,n,r,i){return TS(t.pendingWriteTree_,e,n,r,i),i?Ms(t,new lr(Mg(),e,n)):[]}function Jn(t,e,n=!1){const r=bS(t.pendingWriteTree_,e);if(IS(t.pendingWriteTree_,e)){let s=new me(null);return r.snap!=null?s=s.set(oe(),!0):ut(r.children,o=>{s=s.set(new ce(o),!0)}),Ms(t,new nl(r.path,s,n))}else return[]}function Ls(t,e,n){return Ms(t,new lr(Hu(),e,n))}function u1(t,e,n){const r=me.fromObject(n);return Ms(t,new Cs(Hu(),e,r))}function d1(t,e){return Ms(t,new Ss(Hu(),e))}function f1(t,e,n){const r=Zu(t,n);if(r){const i=ed(r),s=i.path,o=i.queryId,c=Ze(s,e),a=new Ss(Yu(o),c);return td(t,s,a)}else return[]}function cl(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let c=[];if(o&&(e._queryIdentifier==="default"||Xg(o,e))){const a=o1(o,e,n,r);i1(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=a.removed;if(c=a.events,!i){const p=u.findIndex(f=>f._queryParams.loadsAllData())!==-1,h=t.syncPointTree_.findOnPath(s,(f,_)=>Fn(_));if(p&&!h){const f=t.syncPointTree_.subtree(s);if(!f.isEmpty()){const _=m1(f);for(let C=0;C<_.length;++C){const w=_[C],S=w.query,g=ny(t,w);t.listenProvider_.startListening(Xi(S),Es(t,S),g.hashFn,g.onComplete)}}}!h&&u.length>0&&!r&&(p?t.listenProvider_.stopListening(Xi(e),null):u.forEach(f=>{const _=t.queryToTagMap.get(Rl(f));t.listenProvider_.stopListening(Xi(f),_)}))}g1(t,u)}return c}function Zg(t,e,n,r){const i=Zu(t,r);if(i!=null){const s=ed(i),o=s.path,c=s.queryId,a=Ze(o,e),u=new lr(Yu(c),a,n);return td(t,o,u)}else return[]}function h1(t,e,n,r){const i=Zu(t,r);if(i){const s=ed(i),o=s.path,c=s.queryId,a=Ze(o,e),u=me.fromObject(n),p=new Cs(Yu(c),a,u);return td(t,o,p)}else return[]}function Mc(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(f,_)=>{const C=Ze(f,i);s=s||An(_,C),o=o||Fn(_)});let c=t.syncPointTree_.get(i);c?(o=o||Fn(c),s=s||An(c,oe())):(c=new Yg,t.syncPointTree_=t.syncPointTree_.set(i,c));let a;s!=null?a=!0:(a=!1,s=G.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((_,C)=>{const w=An(C,oe());w&&(s=s.updateImmediateChild(_,w))}));const u=Xg(c,e);if(!u&&!e._queryParams.loadsAllData()){const f=Rl(e);D(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const _=y1();t.queryToTagMap.set(f,_),t.tagToQueryMap.set(_,f)}const p=Pl(t.pendingWriteTree_,i);let h=s1(c,e,n,p,s,a);if(!u&&!o&&!r){const f=qg(c,e);h=h.concat(v1(t,e,f))}return h}function Ju(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,c)=>{const a=Ze(o,e),u=An(c,a);if(u)return u});return Bg(i,e,s,n,!0)}function p1(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(u,p)=>{const h=Ze(u,n);r=r||An(p,h)});let i=t.syncPointTree_.get(n);i?r=r||An(i,oe()):(i=new Yg,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,o=s?new Mn(r,!0,!1):null,c=Pl(t.pendingWriteTree_,e._path),a=Qg(i,e,c,s?o.getNode():G.EMPTY_NODE,s);return JS(a)}function Ms(t,e){return ey(e,t.syncPointTree_,null,Pl(t.pendingWriteTree_,oe()))}function ey(t,e,n,r){if(Z(t.path))return ty(t,e,n,r);{const i=e.get(oe());n==null&&i!=null&&(n=An(i,oe()));let s=[];const o=X(t.path),c=t.operationForChild(o),a=e.children.get(o);if(a&&c){const u=n?n.getImmediateChild(o):null,p=Ug(r,o);s=s.concat(ey(c,a,u,p))}return i&&(s=s.concat(Xu(i,t,r,n))),s}}function ty(t,e,n,r){const i=e.get(oe());n==null&&i!=null&&(n=An(i,oe()));let s=[];return e.children.inorderTraversal((o,c)=>{const a=n?n.getImmediateChild(o):null,u=Ug(r,o),p=t.operationForChild(o);p&&(s=s.concat(ty(p,c,a,u)))}),i&&(s=s.concat(Xu(i,t,r,n))),s}function ny(t,e){const n=e.query,r=Es(t,n);return{hashFn:()=>(XS(e)||G.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?f1(t,n._path,r):d1(t,n._path);{const s=pw(i,n);return cl(t,n,null,s)}}}}function Es(t,e){const n=Rl(e);return t.queryToTagMap.get(n)}function Rl(t){return t._path.toString()+"$"+t._queryIdentifier}function Zu(t,e){return t.tagToQueryMap.get(e)}function ed(t){const e=t.indexOf("$");return D(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ce(t.substr(0,e))}}function td(t,e,n){const r=t.syncPointTree_.get(e);D(r,"Missing sync point for query tag that we're tracking");const i=Pl(t.pendingWriteTree_,e);return Xu(r,n,i,null)}function m1(t){return t.fold((e,n,r)=>{if(n&&Fn(n))return[jl(n)];{let i=[];return n&&(i=Kg(n)),ut(r,(s,o)=>{i=i.concat(o)}),i}})}function Xi(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(a1())(t._repo,t._path):t}function g1(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Rl(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function y1(){return c1++}function v1(t,e,n){const r=e._path,i=Es(t,e),s=ny(t,n),o=t.listenProvider_.startListening(Xi(e),i,s.hashFn,s.onComplete),c=t.syncPointTree_.subtree(r);if(i)D(!Fn(c.value),"If we're adding a query, it shouldn't be shadowed");else{const a=c.fold((u,p,h)=>{if(!Z(u)&&p&&Fn(p))return[jl(p).query];{let f=[];return p&&(f=f.concat(Kg(p).map(_=>_.query))),ut(h,(_,C)=>{f=f.concat(C)}),f}});for(let u=0;u<a.length;++u){const p=a[u];t.listenProvider_.stopListening(Xi(p),Es(t,p))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new nd(n)}node(){return this.node_}}class rd{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Oe(this.path_,e);return new rd(this.syncTree_,n)}node(){return Ju(this.syncTree_,this.path_)}}const _1=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Sh=function(t,e,n){if(!t||typeof t!="object")return t;if(D(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return x1(t[".sv"],e,n);if(typeof t[".sv"]=="object")return w1(t[".sv"],e);D(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},x1=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:D(!1,"Unexpected server value: "+t)}},w1=function(t,e,n){t.hasOwnProperty("increment")||D(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&D(!1,"Unexpected increment value: "+r);const i=e.node();if(D(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},S1=function(t,e,n,r){return id(e,new rd(n,t),r)},ry=function(t,e,n){return id(t,new nd(e),n)};function id(t,e,n){const r=t.getPriority().val(),i=Sh(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,c=Sh(o.getValue(),e,n);return c!==o.getValue()||i!==o.getPriority().val()?new Fe(c,Be(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Fe(i))),o.forEachChild(Ne,(c,a)=>{const u=id(a,e.getImmediateChild(c),n);u!==a&&(s=s.updateImmediateChild(c,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function od(t,e){let n=e instanceof ce?e:new ce(e),r=t,i=X(n);for(;i!==null;){const s=Zr(r.node.children,i)||{children:{},childCount:0};r=new sd(i,r,s),n=de(n),i=X(n)}return r}function ci(t){return t.node.value}function iy(t,e){t.node.value=e,Fc(t)}function sy(t){return t.node.childCount>0}function C1(t){return ci(t)===void 0&&!sy(t)}function Al(t,e){ut(t.node.children,(n,r)=>{e(new sd(n,t,r))})}function oy(t,e,n,r){n&&e(t),Al(t,i=>{oy(i,e,!0)})}function E1(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Fs(t){return new ce(t.parent===null?t.name:Fs(t.parent)+"/"+t.name)}function Fc(t){t.parent!==null&&k1(t.parent,t.name,t)}function k1(t,e,n){const r=C1(n),i=un(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Fc(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Fc(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1=/[\[\].#$\/\u0000-\u001F\u007F]/,T1=/[\[\].#$\u0000-\u001F\u007F]/,ka=10*1024*1024,ly=function(t){return typeof t=="string"&&t.length!==0&&!N1.test(t)},ay=function(t){return typeof t=="string"&&t.length!==0&&!T1.test(t)},b1=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),ay(t)},cy=function(t,e,n,r){r&&e===void 0||ld(Ou(t,"value"),e,n)},ld=function(t,e,n){const r=n instanceof ce?new Yw(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Yn(r));if(typeof e=="function")throw new Error(t+"contains a function "+Yn(r)+" with contents = "+e.toString());if(sg(e))throw new Error(t+"contains "+e.toString()+" "+Yn(r));if(typeof e=="string"&&e.length>ka/3&&Tl(e)>ka)throw new Error(t+"contains a string greater than "+ka+" utf8 bytes "+Yn(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(ut(e,(o,c)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!ly(o)))throw new Error(t+" contains an invalid key ("+o+") "+Yn(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Qw(r,o),ld(t,c,r),Kw(r)}),i&&s)throw new Error(t+' contains ".value" child '+Yn(r)+" in addition to actual children.")}},uy=function(t,e,n,r){if(!ay(n))throw new Error(Ou(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},I1=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),uy(t,e,n)},ad=function(t,e){if(X(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},P1=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!ly(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!b1(n))throw new Error(Ou(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function cd(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!Bu(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function dy(t,e,n){cd(t,n),fy(t,r=>Bu(r,e))}function Ht(t,e,n){cd(t,n),fy(t,r=>Rt(r,e)||Rt(e,r))}function fy(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(R1(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function R1(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Yi&&Ke("event: "+n.toString()),ai(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="repo_interrupt",D1=25;class O1{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new j1,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=tl(),this.transactionQueueTree_=new sd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function L1(t,e,n){if(t.stats_=zu(t.repoInfo_),t.forceRestClient_||vw())t.server_=new el(t.repoInfo_,(r,i,s,o)=>{Ch(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Eh(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{De(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new tn(t.repoInfo_,e,(r,i,s,o)=>{Ch(t,r,i,s,o)},r=>{Eh(t,r)},r=>{M1(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Cw(t.repoInfo_,()=>new wS(t.stats_,t.server_)),t.infoData_=new gS,t.infoSyncTree_=new wh({startListening:(r,i,s,o)=>{let c=[];const a=t.infoData_.getNode(r._path);return a.isEmpty()||(c=Ls(t.infoSyncTree_,r._path,a),setTimeout(()=>{o("ok")},0)),c},stopListening:()=>{}}),dd(t,"connected",!1),t.serverSyncTree_=new wh({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(c,a)=>{const u=o(c,a);Ht(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function hy(t){const n=t.infoData_.getNode(new ce(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function ud(t){return _1({timestamp:hy(t)})}function Ch(t,e,n,r,i){t.dataUpdateCount++;const s=new ce(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const a=Qo(n,u=>Be(u));o=h1(t.serverSyncTree_,s,a,i)}else{const a=Be(n);o=Zg(t.serverSyncTree_,s,a,i)}else if(r){const a=Qo(n,u=>Be(u));o=u1(t.serverSyncTree_,s,a)}else{const a=Be(n);o=Ls(t.serverSyncTree_,s,a)}let c=s;o.length>0&&(c=Ol(t,s)),Ht(t.eventQueue_,c,o)}function Eh(t,e){dd(t,"connected",e),e===!1&&W1(t)}function M1(t,e){ut(e,(n,r)=>{dd(t,n,r)})}function dd(t,e,n){const r=new ce("/.info/"+e),i=Be(n);t.infoData_.updateSnapshot(r,i);const s=Ls(t.infoSyncTree_,r,i);Ht(t.eventQueue_,r,s)}function py(t){return t.nextWriteId_++}function F1(t,e,n){const r=p1(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=Be(i).withIndex(e._queryParams.getIndex());Mc(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Ls(t.serverSyncTree_,e._path,s);else{const c=Es(t.serverSyncTree_,e);o=Zg(t.serverSyncTree_,e._path,s,c)}return Ht(t.eventQueue_,e._path,o),cl(t.serverSyncTree_,e,n,null,!0),s},i=>(Dl(t,"get for query "+De(e)+" failed: "+i),Promise.reject(new Error(i))))}function z1(t,e,n,r,i){Dl(t,"set",{path:e.toString(),value:n,priority:r});const s=ud(t),o=Be(n,r),c=Ju(t.serverSyncTree_,e),a=ry(o,c,s),u=py(t),p=Jg(t.serverSyncTree_,e,a,u,!0);cd(t.eventQueue_,p),t.server_.put(e.toString(),o.val(!0),(f,_)=>{const C=f==="ok";C||ct("set at "+e+" failed: "+f);const w=Jn(t.serverSyncTree_,u,!C);Ht(t.eventQueue_,e,w),V1(t,i,f,_)});const h=_y(t,e);Ol(t,h),Ht(t.eventQueue_,h,[])}function W1(t){Dl(t,"onDisconnectEvents");const e=ud(t),n=tl();Rc(t.onDisconnect_,oe(),(i,s)=>{const o=S1(i,s,t.serverSyncTree_,e);Lg(n,i,o)});let r=[];Rc(n,oe(),(i,s)=>{r=r.concat(Ls(t.serverSyncTree_,i,s));const o=_y(t,i);Ol(t,o)}),t.onDisconnect_=tl(),Ht(t.eventQueue_,oe(),r)}function B1(t,e,n){let r;X(e._path)===".info"?r=Mc(t.infoSyncTree_,e,n):r=Mc(t.serverSyncTree_,e,n),dy(t.eventQueue_,e._path,r)}function U1(t,e,n){let r;X(e._path)===".info"?r=cl(t.infoSyncTree_,e,n):r=cl(t.serverSyncTree_,e,n),dy(t.eventQueue_,e._path,r)}function $1(t){t.persistentConnection_&&t.persistentConnection_.interrupt(A1)}function Dl(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ke(n,...e)}function V1(t,e,n,r){e&&ai(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function my(t,e,n){return Ju(t.serverSyncTree_,e,n)||G.EMPTY_NODE}function fd(t,e=t.transactionQueueTree_){if(e||Ll(t,e),ci(e)){const n=yy(t,e);D(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&G1(t,Fs(e),n)}else sy(e)&&Al(e,n=>{fd(t,n)})}function G1(t,e,n){const r=n.map(u=>u.currentWriteId),i=my(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const p=n[u];D(p.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),p.status=1,p.retryCount++;const h=Ze(e,p.path);s=s.updateChild(h,p.currentOutputSnapshotRaw)}const c=s.val(!0),a=e;t.server_.put(a.toString(),c,u=>{Dl(t,"transaction put response",{path:a.toString(),status:u});let p=[];if(u==="ok"){const h=[];for(let f=0;f<n.length;f++)n[f].status=2,p=p.concat(Jn(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&h.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Ll(t,od(t.transactionQueueTree_,e)),fd(t,t.transactionQueueTree_),Ht(t.eventQueue_,e,p);for(let f=0;f<h.length;f++)ai(h[f])}else{if(u==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{ct("transaction at "+a.toString()+" failed: "+u);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=u}Ol(t,e)}},o)}function Ol(t,e){const n=gy(t,e),r=Fs(n),i=yy(t,n);return H1(t,i,r),r}function H1(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){const a=e[c],u=Ze(n,a.path);let p=!1,h;if(D(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)p=!0,h=a.abortReason,i=i.concat(Jn(t.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=D1)p=!0,h="maxretry",i=i.concat(Jn(t.serverSyncTree_,a.currentWriteId,!0));else{const f=my(t,a.path,o);a.currentInputSnapshot=f;const _=e[c].update(f.val());if(_!==void 0){ld("transaction failed: Data returned ",_,a.path);let C=Be(_);typeof _=="object"&&_!=null&&un(_,".priority")||(C=C.updatePriority(f.getPriority()));const S=a.currentWriteId,g=ud(t),m=ry(C,f,g);a.currentOutputSnapshotRaw=C,a.currentOutputSnapshotResolved=m,a.currentWriteId=py(t),o.splice(o.indexOf(S),1),i=i.concat(Jg(t.serverSyncTree_,a.path,m,a.currentWriteId,a.applyLocally)),i=i.concat(Jn(t.serverSyncTree_,S,!0))}else p=!0,h="nodata",i=i.concat(Jn(t.serverSyncTree_,a.currentWriteId,!0))}Ht(t.eventQueue_,n,i),i=[],p&&(e[c].status=2,function(f){setTimeout(f,Math.floor(0))}(e[c].unwatcher),e[c].onComplete&&(h==="nodata"?r.push(()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot)):r.push(()=>e[c].onComplete(new Error(h),!1,null))))}Ll(t,t.transactionQueueTree_);for(let c=0;c<r.length;c++)ai(r[c]);fd(t,t.transactionQueueTree_)}function gy(t,e){let n,r=t.transactionQueueTree_;for(n=X(e);n!==null&&ci(r)===void 0;)r=od(r,n),e=de(e),n=X(e);return r}function yy(t,e){const n=[];return vy(t,e,n),n.sort((r,i)=>r.order-i.order),n}function vy(t,e,n){const r=ci(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Al(e,i=>{vy(t,i,n)})}function Ll(t,e){const n=ci(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,iy(e,n.length>0?n:void 0)}Al(e,r=>{Ll(t,r)})}function _y(t,e){const n=Fs(gy(t,e)),r=od(t.transactionQueueTree_,e);return E1(r,i=>{Na(t,i)}),Na(t,r),oy(r,i=>{Na(t,i)}),n}function Na(t,e){const n=ci(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(D(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(D(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Jn(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?iy(e,void 0):n.length=s+1,Ht(t.eventQueue_,Fs(e),i);for(let o=0;o<r.length;o++)ai(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Q1(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ct(`Invalid query segment '${n}' in query '${t}'`)}return e}const kh=function(t,e){const n=K1(t),r=n.namespace;n.domain==="firebase.com"&&an(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&an("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||cw();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new yg(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new ce(n.pathString)}},K1=function(t){let e="",n="",r="",i="",s="",o=!0,c="https",a=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(c=t.substring(0,u-1),t=t.substring(u+2));let p=t.indexOf("/");p===-1&&(p=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(p,h)),p<h&&(i=Y1(t.substring(p,h)));const f=Q1(t.substring(Math.min(t.length,h)));u=e.indexOf(":"),u>=0?(o=c==="https"||c==="wss",a=parseInt(e.substring(u+1),10)):u=e.length;const _=e.slice(0,u);if(_.toLowerCase()==="localhost")n="localhost";else if(_.split(".").length<=2)n=_;else{const C=e.indexOf(".");r=e.substring(0,C).toLowerCase(),n=e.substring(C+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:a,domain:n,subdomain:r,secure:o,scheme:c,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",q1=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=Nh.charAt(n%64),n=Math.floor(n/64);D(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=Nh.charAt(e[i]);return D(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+De(this.snapshot.exportVal())}}class J1{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return D(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Z(this._path)?null:Ng(this._path)}get ref(){return new dn(this._repo,this._path)}get _queryIdentifier(){const e=uh(this._queryParams),n=Mu(e);return n==="{}"?"default":n}get _queryObject(){return uh(this._queryParams)}isEqual(e){if(e=dr(e),!(e instanceof hd))return!1;const n=this._repo===e._repo,r=Bu(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Hw(this._path)}}class dn extends hd{constructor(e,n){super(e,n,new Gu,!1)}get parent(){const e=bg(this._path);return e===null?null:new dn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class ks{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new ce(e),r=Ns(this.ref,e);return new ks(this._node.getChild(n),r,Ne)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new ks(i,Ns(this.ref,r),Ne)))}hasChild(e){const n=new ce(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function K(t,e){return t=dr(t),t._checkNotDeleted("ref"),e!==void 0?Ns(t._root,e):t._root}function Ns(t,e){return t=dr(t),X(t._path)===null?I1("child","path",e):uy("child","path",e),new dn(t._repo,Oe(t._path,e))}function Ta(t,e){t=dr(t),ad("push",t._path),cy("push",e,t._path,!0);const n=hy(t._repo),r=q1(n),i=Ns(t,r),s=Ns(t,r);let o;return e!=null?o=Ie(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function Th(t){return ad("remove",t._path),Ie(t,null)}function Ie(t,e){t=dr(t),ad("set",t._path),cy("set",e,t._path,!1);const n=new Nl;return z1(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Ai(t){t=dr(t);const e=new xy(()=>{}),n=new Ml(e);return F1(t._repo,t,n).then(r=>new ks(r,new dn(t._repo,t._path),t._queryParams.getIndex()))}class Ml{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new X1("value",this,new ks(e.snapshotNode,new dn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new J1(this,e,n):null}matches(e){return e instanceof Ml?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function Z1(t,e,n,r,i){const s=new xy(n,void 0),o=new Ml(s);return B1(t._repo,t,o),()=>U1(t._repo,t,o)}function Qt(t,e,n,r){return Z1(t,"value",e)}n1(dn);l1(dn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC="FIREBASE_DATABASE_EMULATOR_HOST",zc={};let tC=!1;function nC(t,e,n,r){t.repoInfo_=new yg(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function rC(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||an("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ke("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=kh(s,i),c=o.repoInfo,a;typeof process<"u"&&Hf&&(a=Hf[eC]),a?(s=`http://${a}?ns=${c.namespace}`,o=kh(s,i),c=o.repoInfo):o.repoInfo.secure;const u=new xw(t.name,t.options,e);P1("Invalid Firebase Database URL",o),Z(o.path)||an("Database URL must point to the root of a Firebase Database (not including a child path).");const p=sC(c,t,u,new _w(t.name,n));return new oC(p,t)}function iC(t,e){const n=zc[e];(!n||n[t.key]!==t)&&an(`Database ${e}(${t.repoInfo_}) has already been deleted.`),$1(t),delete n[t.key]}function sC(t,e,n,r){let i=zc[e.name];i||(i={},zc[e.name]=i);let s=i[t.toURLString()];return s&&an("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new O1(t,tC,n,r),i[t.toURLString()]=s,s}class oC{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(L1(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new dn(this._repo,oe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(iC(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&an("Cannot call "+e+" on a deleted database.")}}function lC(t=Gx(),e){const n=Bx(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=P_("database");r&&aC(n,...r)}return n}function aC(t,e,n,r={}){t=dr(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&an("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&an('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new So(So.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:j_(r.mockUserToken,t.app.options.projectId);s=new So(o)}nC(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(t){rw(Vx),qo(new gs("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return rC(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),$r(Yf,Qf,t),$r(Yf,Qf,"esm2017")}tn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};tn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};cC();function uC({allPicks:t,actualScores:e,currentWeek:n,playerName:r,playerCode:i,isPoolManager:s,prizePool:o,officialWinners:c,onLogout:a}){const u=(w,S,g)=>{if(!w||!S||!S[g])return 0;let m=0;const x=S[g];return Object.keys(w).forEach(N=>{const R=w[N],E=x[N];if(!R||!E)return;const I=parseInt(R.team1),A=parseInt(R.team2),Y=parseInt(E.team1),V=parseInt(E.team2);if(isNaN(I)||isNaN(A)||isNaN(Y)||isNaN(V))return;const re=I>A?"team1":A>I?"team2":"tie",je=Y>V?"team1":V>Y?"team2":"tie";re===je&&je!=="tie"&&m++}),m},p=(w,S,g)=>{if(!w||!S||!S[g])return null;let m=0,x=0;const N=S[g];return Object.keys(w).forEach(R=>{const E=w[R],I=N[R];if(!E||!I)return;const A=parseInt(E.team1),Y=parseInt(E.team2),V=parseInt(I.team1),re=parseInt(I.team2);isNaN(A)||isNaN(Y)||isNaN(V)||isNaN(re)||(m+=A+Y,x+=V+re)}),Math.abs(m-x)},h=(w,S,g)=>{let m=0,x=0;return g.forEach(N=>{const R=w[N];if(R){m+=u(R,S,N);const E=p(R,S,N);E!==null&&(x+=E)}}),{correctWinners:m,pointsDifference:x}},f={wildcard:"Week 1",divisional:"Week 2",conference:"Week 3",superbowl:"Week 4"},_=F.useMemo(()=>{const w={};return t.forEach(S=>{const g=S.playerName;w[g]||(w[g]={wildcard:null,divisional:null,conference:null,superbowl:null}),w[g][S.week]=S.predictions}),w},[t]),C=F.useMemo(()=>{const w=[],S=["wildcard","divisional","conference","superbowl"];S.slice(0,3).forEach((E,I)=>{const A=f[E],Y=Object.entries(_).map(([re,je])=>({playerName:re,score:u(je[E],e,E)})).filter(re=>re.score>0).sort((re,je)=>je.score-re.score);w.push({prizeNumber:I*2+1,name:`${A} - Most Correct Winners`,week:E,type:"correctWinners",leaders:Y.slice(0,5)});const V=Object.entries(_).map(([re,je])=>({playerName:re,score:p(je[E],e,E)})).filter(re=>re.score!==null).sort((re,je)=>re.score-je.score);w.push({prizeNumber:I*2+2,name:`${A} - Closest Total Points`,week:E,type:"pointsDifference",leaders:V.slice(0,5)})});const g="superbowl",m=Object.entries(_).map(([E,I])=>({playerName:E,score:u(I[g],e,g)})).filter(E=>E.score>0).sort((E,I)=>I.score-E.score);w.push({prizeNumber:7,name:"Week 4 - Most Correct Winners",week:g,type:"correctWinners",leaders:m.slice(0,5)});const x=Object.entries(_).map(([E,I])=>({playerName:E,score:p(I[g],e,g)})).filter(E=>E.score!==null).sort((E,I)=>E.score-I.score);w.push({prizeNumber:8,name:"Week 4 - Closest Total Points",week:g,type:"pointsDifference",leaders:x.slice(0,5)});const N=Object.entries(_).map(([E,I])=>{const A=h(I,e,S);return{playerName:E,score:A.correctWinners}}).filter(E=>E.score>0).sort((E,I)=>I.score-E.score);w.push({prizeNumber:9,name:"Cumulative (All 4 Weeks) - Most Correct Winners",week:"all",type:"correctWinners",leaders:N.slice(0,5)});const R=Object.entries(_).map(([E,I])=>{const A=h(I,e,S);return{playerName:E,score:A.pointsDifference}}).filter(E=>E.score!==null&&E.score>=0).sort((E,I)=>E.score-I.score);return w.push({prizeNumber:10,name:"Cumulative (All 4 Weeks) - Closest Total Points",week:"all",type:"pointsDifference",leaders:R.slice(0,5)}),w},[_,e]);return l.jsx("div",{className:"standings-page",children:l.jsxs("div",{className:"container",children:[l.jsxs("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"20px",borderRadius:"8px",marginBottom:"20px",color:"white"},children:[l.jsx("div",{style:{fontSize:"0.9rem",marginBottom:"5px"},children:" VERIFIED"}),l.jsxs("div",{style:{fontSize:"1.2rem",fontWeight:"bold",marginBottom:"5px"},children:["Viewing as: ",r]}),s&&l.jsx("div",{style:{fontSize:"0.9rem",marginBottom:"10px",color:"#ffd700",fontWeight:"600"},children:" POOL MANAGER"}),l.jsx("button",{onClick:a,style:{background:"white",color:"#764ba2",border:"none",padding:"10px 20px",borderRadius:"6px",fontSize:"0.95rem",fontWeight:"600",cursor:"pointer",marginTop:"10px",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:" Logout / Switch Entry"}),l.jsx("p",{style:{fontSize:"0.85rem",marginTop:"10px",opacity:.9,fontStyle:"italic"},children:" Playing with multiple entries? Logout to switch between your codes."})]}),l.jsx("h1",{className:"standings-title",children:" Standings & Prize Leaders"}),o&&o.totalFees>0&&l.jsxs("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"25px",borderRadius:"12px",marginBottom:"30px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[l.jsx("h2",{style:{margin:"0 0 20px 0",fontSize:"1.5rem"},children:" Prize Pool Information"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginBottom:"15px"},children:[l.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:"15px",borderRadius:"8px"},children:[l.jsx("div",{style:{fontSize:"0.9rem",opacity:.9,marginBottom:"5px"},children:"Total Pool Fees"}),l.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:["$",o.totalFees.toFixed(2)]})]}),l.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:"15px",borderRadius:"8px"},children:[l.jsx("div",{style:{fontSize:"0.9rem",opacity:.9,marginBottom:"5px"},children:"Number of Players"}),l.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:o.numberOfPlayers})]}),l.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:"15px",borderRadius:"8px"},children:[l.jsx("div",{style:{fontSize:"0.9rem",opacity:.9,marginBottom:"5px"},children:"Entry Fee"}),l.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:["$",o.entryFee]})]}),l.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:"15px",borderRadius:"8px"},children:[l.jsx("div",{style:{fontSize:"0.9rem",opacity:.9,marginBottom:"5px"},children:"Each Prize (10%)"}),l.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:["$",o.prizeValue.toFixed(2)]})]})]}),l.jsx("div",{style:{fontSize:"0.9rem",opacity:.9},children:" 10 prizes total  Equal 10% distribution  Ties split equally"})]}),c&&Object.keys(c).length>0&&l.jsxs("div",{style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"white",padding:"25px",borderRadius:"12px",marginBottom:"30px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[l.jsx("h2",{style:{margin:"0 0 20px 0",fontSize:"1.5rem"},children:" OFFICIAL PRIZE WINNERS"}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"20px"},children:Object.entries(c).sort((w,S)=>w[1].prizeNumber-S[1].prizeNumber).map(([w,S])=>l.jsxs("div",{style:{background:"rgba(255,255,255,0.95)",color:"#333",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 8px rgba(0,0,0,0.15)"},children:[l.jsxs("div",{style:{fontWeight:"bold",fontSize:"1.1rem",marginBottom:"8px",color:"#f5576c"},children:["Prize #",S.prizeNumber]}),l.jsx("div",{style:{fontSize:"0.9rem",color:"#666",marginBottom:"12px"},children:S.prizeName.replace(`Prize #${S.prizeNumber} - `,"")}),l.jsxs("div",{style:{fontSize:"0.85rem",fontWeight:"600",color:"#999",marginBottom:"12px"},children:["Prize Value: $",S.prizeValue.toFixed(2)]}),l.jsx("div",{style:{borderTop:"2px solid #f093fb",paddingTop:"12px"},children:S.winners.map((g,m)=>l.jsxs("div",{style:{padding:"8px 0",borderBottom:m<S.winners.length-1?"1px solid #eee":"none"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"10px"},children:[l.jsxs("div",{style:{fontWeight:"700",fontSize:"1rem",color:"#333"},children:[" ",g.playerName]}),l.jsxs("div",{style:{fontSize:"0.95rem",fontWeight:"600",color:"#f5576c"},children:["$",g.amount.toFixed(2)]})]}),l.jsxs("div",{style:{fontSize:"0.8rem",color:"#888",marginTop:"2px"},children:[g.percentage.toFixed(2),"% of prize"]})]},m))})]},w))})]}),l.jsx("div",{className:"prizes-grid",children:C.map(w=>l.jsxs("div",{className:"prize-card",children:[l.jsxs("div",{className:"prize-header",children:[l.jsxs("div",{className:"prize-number",children:["Prize #",w.prizeNumber]}),l.jsx("div",{className:"prize-name",children:w.name})]}),l.jsx("div",{className:"prize-leaders",children:w.leaders.length===0?l.jsx("div",{className:"no-data",children:"No data available yet"}):l.jsxs("table",{className:"leaders-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Rank"}),l.jsx("th",{children:"Player"}),l.jsx("th",{children:w.type==="correctWinners"?"Correct":"Difference"})]})}),l.jsx("tbody",{children:w.leaders.map((S,g)=>{const m=g>0&&S.score===w.leaders[g-1].score,x=m?"=":g+1;return l.jsxs("tr",{className:g===0&&!m?"leader-first":"",children:[l.jsx("td",{className:"rank",children:x}),l.jsx("td",{className:"player-name",children:S.playerName}),l.jsx("td",{className:"score",children:w.type==="correctWinners"?`${S.score} correct`:`${S.score} pts`})]},g)})})]})})]},w.prizeNumber))}),l.jsx("div",{className:"standings-note",children:l.jsxs("p",{children:[l.jsx("strong",{children:"Note:"}),' Tied players are shown with "=" rank. Pool Manager will resolve ties manually using Excel if needed for prize distribution.']})})]})})}function dC({currentWeek:t,games:e,actualScores:n,teamCodes:r,onScoresFetched:i,onGameLockToggle:s,gameLocks:o,espnAutoRefresh:c}){const[a,u]=F.useState(!1),[p,h]=F.useState(null),[f,_]=F.useState(null),[C,w]=F.useState(!1),[S,g]=F.useState(!1),m=async()=>{if(!(a||S)){u(!0),_({type:"loading",message:"Fetching scores from ESPN..."});try{await i(),h(new Date),_({type:"success",message:"Scores updated successfully!"}),setTimeout(()=>_(null),3e3)}catch(I){_({type:"error",message:`Error: ${I.message}`})}finally{u(!1)}}},x=()=>{C?(c.stop(),w(!1),_({type:"info",message:"Auto-refresh stopped"})):(c.start(),w(!0),_({type:"info",message:"Auto-refresh started (every 5 minutes)"})),setTimeout(()=>_(null),3e3)},N=()=>{S?(g(!1),_({type:"info",message:"API resumed - fetching enabled"})):(g(!0),C&&(c.stop(),w(!1)),_({type:"warning",message:"API paused - all fetching disabled"})),setTimeout(()=>_(null),3e3)},R=I=>{var A;return((A=o==null?void 0:o[t])==null?void 0:A[I])===!0},E=I=>{var A,Y;return((Y=(A=n==null?void 0:n[t])==null?void 0:A[I])==null?void 0:Y.source)==="espn"};return l.jsxs("div",{className:"espn-controls",children:[l.jsxs("div",{className:"espn-header",children:[l.jsx("h3",{children:" ESPN API Controls"}),l.jsxs("div",{className:"espn-status-badges",children:[S&&l.jsx("span",{className:"status-badge paused",children:" API PAUSED"}),C&&!S&&l.jsx("span",{className:"status-badge active",children:" AUTO-REFRESH ON"}),p&&l.jsxs("span",{className:"status-badge info",children:["Last fetch: ",p.toLocaleTimeString()]})]})]}),l.jsxs("div",{className:"espn-global-controls",children:[l.jsx("button",{className:"espn-btn fetch-now",onClick:m,disabled:a||S,children:a?" Fetching...":" Fetch Scores Now"}),l.jsx("button",{className:`espn-btn auto-refresh ${C?"active":""}`,onClick:x,disabled:S,children:C?" Stop Auto-Refresh":" Start Auto-Refresh (5 min)"}),l.jsx("button",{className:`espn-btn pause-api ${S?"paused":""}`,onClick:N,children:S?" Resume API":" Pause API"})]}),f&&l.jsx("div",{className:`fetch-status ${f.type}`,children:f.message}),l.jsxs("div",{className:"game-overrides",children:[l.jsx("h4",{children:"Game Override Controls"}),l.jsxs("p",{className:"override-info",children:[" Lock = Manual entry only (ignore API)",l.jsx("br",{})," Unlock = Auto-update from ESPN API"]}),l.jsx("div",{className:"game-override-list",children:e.map(I=>{var Ft,hr,pr,yt,Xe;const A=R(I.id),Y=E(I.id),V=(Ft=n==null?void 0:n[t])==null?void 0:Ft[I.id],re=((pr=(hr=r==null?void 0:r[t])==null?void 0:hr[I.id])==null?void 0:pr.team1)||I.team1,je=((Xe=(yt=r==null?void 0:r[t])==null?void 0:yt[I.id])==null?void 0:Xe.team2)||I.team2;return l.jsxs("div",{className:"game-override-item",children:[l.jsxs("div",{className:"game-info",children:[l.jsxs("span",{className:"game-matchup",children:[re," vs ",je]}),V&&l.jsxs("span",{className:"game-scores",children:[n[t][I.id].team1," - ",n[t][I.id].team2]})]}),l.jsxs("div",{className:"game-status-badges",children:[Y&&!A&&l.jsx("span",{className:"game-badge api",children:" From API"}),A&&l.jsx("span",{className:"game-badge manual",children:" Manual Entry"}),!V&&l.jsx("span",{className:"game-badge no-score",children:"No Score"})]}),l.jsx("button",{className:`lock-btn ${A?"locked":"unlocked"}`,onClick:()=>s(I.id),title:A?"Unlock to allow API updates":"Lock to prevent API updates",children:A?" Locked":" Unlocked"})]},I.id)})})]}),l.jsxs("div",{className:"espn-help",children:[l.jsx("h4",{children:" How It Works:"}),l.jsxs("ul",{children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Fetch Now:"})," Manually fetch latest scores from ESPN"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Auto-Refresh:"})," Automatically fetch every 5 minutes"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Pause API:"})," Stop all API fetching (use manual entry only)"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Lock Game:"})," Prevent API from overwriting your manual score for that game"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Unlock Game:"})," Allow API to update score automatically"]})]}),l.jsxs("p",{className:"help-note",children:[l.jsx("strong",{children:"Tip:"})," Lock a game if you need to manually correct a score that ESPN has wrong."]})]})]})}const fC="https://site.api.espn.com/apis/site/v2/sports/football/nfl";async function hC(){try{const t=await fetch(`${fC}/scoreboard`);if(!t.ok)throw new Error(`ESPN API error: ${t.status}`);const e=await t.json();return pC(e)}catch(t){return console.error("Error fetching ESPN scores:",t),{success:!1,error:t.message,games:[]}}}function pC(t){return!t.events||t.events.length===0?{success:!0,games:[],message:"No games currently available"}:{success:!0,games:t.events.map(n=>{const r=n.competitions[0],i=r.status,s=r.competitors,o=s.find(C=>C.homeAway==="away"),c=s.find(C=>C.homeAway==="home"),a=o.team.abbreviation,u=c.team.abbreviation,p=parseInt(o.score)||0,h=parseInt(c.score)||0,f=mC(i);return{espnGameId:n.id,awayTeam:{abbreviation:a,fullName:o.team.displayName,score:p},homeTeam:{abbreviation:u,fullName:c.team.displayName,score:h},status:f.status,statusText:f.text,period:f.period,clock:f.clock,isFinal:f.isFinal,isLive:f.isLive,isScheduled:f.isScheduled,startTime:n.date,lastUpdated:new Date().toISOString()}}),fetchedAt:new Date().toISOString()}}function mC(t){const e=t.type.name,n=t.period,r=t.displayClock,i=t.type.detail;let s="scheduled",o=i,c=!1,a=!1,u=!1;return e==="STATUS_SCHEDULED"?(s="scheduled",o="Scheduled",u=!0):e==="STATUS_IN_PROGRESS"?(s="live",c=!0,n===1?o=`1st Quarter - ${r}`:n===2?o=`2nd Quarter - ${r}`:n===3?o=`3rd Quarter - ${r}`:n===4?o=`4th Quarter - ${r}`:n>4&&(o=`OT ${n-4} - ${r}`)):e==="STATUS_HALFTIME"?(s="halftime",o="Halftime",c=!0):e==="STATUS_END_PERIOD"?(s="live",o=`End of ${n===1?"1st":n===2?"2nd":n===3?"3rd":"4th"} Quarter`,c=!0):(e==="STATUS_FINAL"||e==="STATUS_FINAL_OVERTIME")&&(s="final",a=!0,e==="STATUS_FINAL_OVERTIME"?o=n>4?`Final/OT${n-4}`:"Final/OT":o="Final"),{status:s,text:o,period:n,clock:r||"",isLive:c,isFinal:a,isScheduled:u}}function gC(t,e,n,r){if(!r||!r[n])return null;const i=e[n].games,s=r[n];for(const o of i){const c=s[o.id];if(!c)continue;const a=c.team1===t.awayTeam.abbreviation||c.team1===t.homeTeam.abbreviation,u=c.team2===t.awayTeam.abbreviation||c.team2===t.homeTeam.abbreviation;if(a&&u){const p=c.team1===t.awayTeam.abbreviation;return{gameId:o.id,team1Score:p?t.awayTeam.score:t.homeTeam.score,team2Score:p?t.homeTeam.score:t.awayTeam.score,status:t.status,statusText:t.statusText,period:t.period,clock:t.clock,isFinal:t.isFinal,isLive:t.isLive,espnGameId:t.espnGameId}}}return null}class yC{constructor(e,n=5){this.onFetch=e,this.intervalMinutes=n,this.intervalId=null,this.isRunning=!1}start(){if(this.isRunning){console.log("Auto-refresh already running");return}console.log(`Starting auto-refresh every ${this.intervalMinutes} minutes`),this.isRunning=!0,this.onFetch(),this.intervalId=setInterval(()=>{console.log("Auto-fetching ESPN scores..."),this.onFetch()},this.intervalMinutes*60*1e3)}stop(){if(!this.isRunning){console.log("Auto-refresh not running");return}console.log("Stopping auto-refresh"),clearInterval(this.intervalId),this.intervalId=null,this.isRunning=!1}isActive(){return this.isRunning}setInterval(e){this.intervalMinutes=e,this.isRunning&&(this.stop(),this.start())}}const vC={wildcard:{name:"Week 1 - Wildcard Round",shortName:"Wildcard",deadline:"Fri Jan 9, 11:59 PM PST",number:1},divisional:{name:"Week 2 - Divisional Round",shortName:"Divisional",deadline:"Fri Jan 16, 11:59 PM PST",number:2},conference:{name:"Week 3 - Conference Championships",shortName:"Conference",deadline:"Fri Jan 23, 11:59 PM PST",number:3},superbowl:{name:"Week 4 - Super Bowl LIX",shortName:"Super Bowl",deadline:"Fri Feb 6, 11:59 PM PST",number:4}};function _C(t,e,n,r){return n?{icon:"",text:"LOCKED",color:"gray",className:"locked"}:r?{icon:"",text:"EDITING NOW",color:"purple",className:"editing"}:e&&e.complete?{icon:"",text:"ALL PICKS SAVED",color:"green",className:"saved"}:{icon:"",text:"READY TO PICK",color:"blue",className:"ready"}}function xC({currentWeek:t,onWeekChange:e,weekPicks:n={},weekLockStatus:r={},hasUnsavedChanges:i=!1}){const s=o=>{o!==t&&e(o)};return l.jsxs("div",{className:"week-selector-container",children:[l.jsxs("div",{className:"week-selector-header",children:[l.jsx("h2",{children:" SELECT WEEK TO MAKE/EDIT YOUR PICKS"}),i&&l.jsx("div",{className:"unsaved-indicator",children:" You have unsaved changes"})]}),l.jsx("div",{className:"week-cards",children:Object.entries(vC).map(([o,c])=>{var f;const a=o===t,u=((f=r[o])==null?void 0:f.locked)||!1,p=n[o],h=_C(o,p,u,a);return l.jsxs("div",{className:`week-card ${h.className} ${a?"current":""}`,onClick:()=>s(o),role:"button",tabIndex:0,onKeyPress:_=>{(_.key==="Enter"||_.key===" ")&&s(o)},children:[l.jsxs("div",{className:"week-card-header",children:[l.jsxs("div",{className:"week-number",children:["WEEK ",c.number]}),a&&l.jsx("div",{className:"current-indicator",children:" YOU ARE HERE "})]}),l.jsxs("div",{className:"week-card-title",children:[o==="superbowl"?"":""," ",c.shortName]}),l.jsxs("div",{className:"week-card-deadline",children:[o==="superbowl"?"Game Day: ":"Deadline: ",c.deadline]}),l.jsxs("div",{className:`week-card-status status-${h.className}`,children:[l.jsx("span",{className:"status-icon",children:h.icon}),l.jsx("span",{className:"status-text",children:h.text})]}),u&&l.jsx("div",{className:"locked-overlay",children:l.jsx("div",{className:"locked-message",children:" Cannot Edit"})})]},o)})}),l.jsx("div",{className:"week-selector-footer",children:l.jsx("p",{className:"info-text",children:" You can make picks for all weeks in advance, even if teams aren't known yet."})})]})}function wC({currentWeek:t,onDiscard:e,onSaveAndSwitch:n,onCancel:r}){const i={wildcard:"Week 1",divisional:"Week 2",conference:"Week 3",superbowl:"Week 4"};return l.jsx("div",{className:"popup-overlay",children:l.jsxs("div",{className:"popup-container warning-popup",children:[l.jsxs("div",{className:"popup-header warning",children:[l.jsx("span",{className:"popup-icon",children:""}),l.jsx("h3",{children:"UNSAVED CHANGES"})]}),l.jsxs("div",{className:"popup-body",children:[l.jsxs("p",{children:["You have unsaved changes for ",i[t],"."]}),l.jsx("p",{children:"What would you like to do?"})]}),l.jsxs("div",{className:"popup-buttons",children:[l.jsx("button",{className:"popup-btn btn-secondary",onClick:e,children:"Discard Changes"}),l.jsx("button",{className:"popup-btn btn-primary",onClick:n,children:"Save & Switch"}),l.jsx("button",{className:"popup-btn btn-neutral",onClick:r,children:"Cancel"})]})]})})}function SC({onKeepEditing:t,onDiscard:e}){return l.jsx("div",{className:"popup-overlay",children:l.jsxs("div",{className:"popup-container warning-popup",children:[l.jsxs("div",{className:"popup-header warning",children:[l.jsx("span",{className:"popup-icon",children:""}),l.jsx("h3",{children:"DISCARD CHANGES?"})]}),l.jsxs("div",{className:"popup-body",children:[l.jsx("p",{children:"Your changes will not be saved."}),l.jsx("p",{children:"Your previously saved picks will remain unchanged in the system."})]}),l.jsxs("div",{className:"popup-buttons",children:[l.jsx("button",{className:"popup-btn btn-primary",onClick:t,children:"Keep Editing"}),l.jsx("button",{className:"popup-btn btn-danger",onClick:e,children:"Discard Changes"})]})]})})}function CC({missingGames:t,totalGames:e,onClose:n}){return l.jsx("div",{className:"popup-overlay",children:l.jsxs("div",{className:"popup-container error-popup",children:[l.jsxs("div",{className:"popup-header error",children:[l.jsx("span",{className:"popup-icon",children:""}),l.jsx("h3",{children:"CANNOT SAVE - INCOMPLETE ENTRY"})]}),l.jsxs("div",{className:"popup-body",children:[l.jsx("p",{children:"You must predict scores for ALL games."}),l.jsxs("p",{className:"count-text",children:["Completed: ",l.jsx("strong",{children:e-t.length})," of ",l.jsx("strong",{children:e})," games "]}),l.jsxs("div",{className:"missing-games-list",children:[l.jsx("p",{children:l.jsx("strong",{children:"Missing scores for:"})}),l.jsx("ul",{children:t.map((r,i)=>l.jsxs("li",{children:[" Game ",i+1,": ",r.team1," vs ",r.team2]},i))})]}),l.jsx("p",{className:"instruction-text",children:"Please fill in all games before saving."})]}),l.jsx("div",{className:"popup-buttons",children:l.jsx("button",{className:"popup-btn btn-primary",onClick:n,children:"OK - Go Back and Complete"})})]})})}function EC({invalidScores:t,onClose:e}){return l.jsx("div",{className:"popup-overlay",children:l.jsxs("div",{className:"popup-container error-popup",children:[l.jsxs("div",{className:"popup-header error",children:[l.jsx("span",{className:"popup-icon",children:""}),l.jsx("h3",{children:"INVALID SCORES"})]}),l.jsxs("div",{className:"popup-body",children:[l.jsx("p",{children:"All scores must be between 10 and 50."}),l.jsxs("div",{className:"invalid-scores-list",children:[l.jsx("p",{children:l.jsx("strong",{children:"Invalid scores:"})}),l.jsx("ul",{children:t.map((n,r)=>l.jsxs("li",{children:[" Game ",r+1," (",n.team,"): ",l.jsx("strong",{children:n.score})," (",n.score<10?"too low":"too high",")"]},r))})]}),l.jsx("p",{className:"instruction-text",children:"Please fix these scores."})]}),l.jsx("div",{className:"popup-buttons",children:l.jsx("button",{className:"popup-btn btn-primary",onClick:e,children:"OK - Go Back and Fix"})})]})})}function kC({weekName:t,deadline:e,onClose:n}){return l.jsx("div",{className:"popup-overlay",children:l.jsxs("div",{className:"popup-container success-popup",children:[l.jsxs("div",{className:"popup-header success",children:[l.jsx("span",{className:"popup-icon",children:""}),l.jsx("h3",{children:"PICKS SAVED SUCCESSFULLY!"})]}),l.jsxs("div",{className:"popup-body",children:[l.jsxs("p",{children:["Your ",t," picks have been saved."]}),l.jsx("p",{children:"You can edit them anytime before the deadline:"}),l.jsx("p",{className:"deadline-text",children:l.jsx("strong",{children:e})})]}),l.jsx("div",{className:"popup-buttons",children:l.jsx("button",{className:"popup-btn btn-success",onClick:n,children:"OK"})})]})})}function NC({onClose:t}){return l.jsx("div",{className:"popup-overlay",children:l.jsxs("div",{className:"popup-container info-popup",children:[l.jsxs("div",{className:"popup-header info",children:[l.jsx("span",{className:"popup-icon",children:""}),l.jsx("h3",{children:"NO CHANGES TO SAVE"})]}),l.jsxs("div",{className:"popup-body",children:[l.jsx("p",{children:"You haven't made any changes to your picks."}),l.jsx("p",{children:"Your picks are already saved."})]}),l.jsx("div",{className:"popup-buttons",children:l.jsx("button",{className:"popup-btn btn-primary",onClick:t,children:"OK"})})]})})}function TC({tiedGames:t,gameData:e,onClose:n}){return l.jsx("div",{className:"popup-overlay",children:l.jsxs("div",{className:"popup-container error-popup",children:[l.jsxs("div",{className:"popup-header error",children:[l.jsx("span",{className:"popup-icon",children:""}),l.jsx("h3",{children:"PLAYOFF GAMES CANNOT END IN A TIE!"})]}),l.jsxs("div",{className:"popup-body",children:[l.jsx("p",{style:{fontWeight:"bold",marginBottom:"15px"},children:"The following game(s) have tied scores:"}),l.jsx("ul",{style:{listStyle:"none",padding:0,marginBottom:"15px"},children:t.map(r=>{const i=e.find(s=>s.id===r);return l.jsxs("li",{style:{padding:"8px",background:"#ffebee",border:"1px solid #ef5350",borderRadius:"4px",marginBottom:"8px",color:"#c62828"},children:[" ",i.team1," vs. ",i.team2]},r)})}),l.jsx("p",{style:{fontStyle:"italic",color:"#666"},children:"NFL Playoff games go to overtime until there's a winner!"}),l.jsx("p",{style:{fontWeight:"bold"},children:"Please change the scores so one team wins."})]}),l.jsx("div",{className:"popup-buttons",children:l.jsx("button",{className:"popup-btn btn-primary",onClick:n,children:"Fix Scores"})})]})})}const wy={1:{name:"Most Correct Winners",week:"wildcard",weekName:"Week 1"},2:{name:"Closest Total Points",week:"wildcard",weekName:"Week 1"},3:{name:"Most Correct Winners",week:"divisional",weekName:"Week 2"},4:{name:"Closest Total Points",week:"divisional",weekName:"Week 2"},5:{name:"Most Correct Winners",week:"conference",weekName:"Week 3"},6:{name:"Closest Total Points",week:"conference",weekName:"Week 3"},7:{name:"Most Correct Winners",week:"superbowl",weekName:"Week 4"},8:{name:"Closest Total Points",week:"superbowl",weekName:"Week 4"},9:{name:"Overall Most Correct Winners",week:"all",weekName:"All Weeks"},10:{name:"Overall Closest Total Points",week:"all",weekName:"All Weeks"}};function bC(t,e,n){var r;if(t.week==="all"){let i=0,s=0;return Object.keys(n).forEach(o=>{const c=n[o].games;i+=c.length,c.forEach(a=>{var p;const u=(p=e[o])==null?void 0:p[a.id];u&&(u.team1!==void 0||u.team2!==void 0)&&s++})}),s===0?{status:"NOT_STARTED",gamesCompleted:0,totalGames:i,message:"First game Saturday, January 11, 2026! Standings will update as games finish."}:s<i?{status:"LIVE",gamesCompleted:s,totalGames:i,message:`LIVE NOW! ${s} of ${i} playoff games completed. Standings updating in real-time!`}:{status:"COMPLETE",gamesCompleted:s,totalGames:i,message:"Playoffs complete! Final standings shown above."}}else{const i=((r=n[t.week])==null?void 0:r.games)||[],s=i.length;let o=0;return i.forEach(c=>{var u;const a=(u=e[t.week])==null?void 0:u[c.id];a&&(a.team1!==void 0||a.team2!==void 0)&&o++}),o===0?{status:"NOT_STARTED",gamesCompleted:0,totalGames:s,message:"Games not started yet. Standings will update as games finish!"}:o<s?{status:"LIVE",gamesCompleted:o,totalGames:s,message:`LIVE NOW! ${o} of ${s} games completed. Standings changing in real-time!`}:{status:"COMPLETE",gamesCompleted:o,totalGames:s,message:"All games complete! Final standings shown above."}}}function IC(t,e,n,r){var u,p,h;const i=wy[t],s=[1,3,5,7,9].includes(t);let o=[],c={},a=[];if(i.week==="all"){o=e,c=n,Object.keys(r).forEach(_=>{a=a.concat(r[_].games.map(C=>({...C,week:_})))});const f={};o.forEach(_=>{f[_.playerCode]||(f[_.playerCode]={playerCode:_.playerCode,playerName:_.playerName,weeklyPicks:[]}),f[_.playerCode].weeklyPicks.push(_)}),o=Object.values(f)}else o=e.filter(f=>f.week===i.week),c=n[i.week]||{},a=((u=r[i.week])==null?void 0:u.games)||[];if(o.length===0)return{leaders:[],allPlayers:[],hasTie:!1,tieCount:0};if(s){let f=0;a.forEach(S=>{var m;const g=i.week==="all"?(m=n[S.week])==null?void 0:m[S.id]:c[S.id];g&&(f+=(parseInt(g.team1)||0)+(parseInt(g.team2)||0))});const _=o.map(S=>{let g=0;return(S.weeklyPicks||[S]).forEach(x=>{a.forEach(N=>{var Y,V;const R=(Y=x.predictions)==null?void 0:Y[N.id],E=i.week==="all"?(V=n[N.week])==null?void 0:V[N.id]:c[N.id];if(!R||!E)return;const I=parseInt(R.team1)>parseInt(R.team2)?"team1":"team2",A=parseInt(E.team1)>parseInt(E.team2)?"team1":"team2";I===A&&g++})}),{playerCode:S.playerCode,playerName:S.playerName,score:g,actualTotal:f}});_.sort((S,g)=>g.score-S.score);const C=((p=_[0])==null?void 0:p.score)||0,w=_.filter(S=>S.score===C);return{leaders:w,allPlayers:_,hasTie:w.length>1,tieCount:w.length,actualTotal:f}}else{let f=0;a.forEach(S=>{var m;const g=i.week==="all"?(m=n[S.week])==null?void 0:m[S.id]:c[S.id];g&&(f+=(parseInt(g.team1)||0)+(parseInt(g.team2)||0))});const _=o.map(S=>{let g=0;(S.weeklyPicks||[S]).forEach(N=>{a.forEach(R=>{var I;const E=(I=N.predictions)==null?void 0:I[R.id];E&&(g+=(parseInt(E.team1)||0)+(parseInt(E.team2)||0))})});const x=Math.abs(g-f);return{playerCode:S.playerCode,playerName:S.playerName,score:g,actualTotal:f,difference:x}});_.sort((S,g)=>S.difference-g.difference);const C=((h=_[0])==null?void 0:h.difference)||0,w=_.filter(S=>S.difference===C);return{leaders:w,allPlayers:_,hasTie:w.length>1,tieCount:w.length,actualTotal:f}}}function PC({prizeNumber:t,allPicks:e,actualScores:n,weekData:r,officialWinner:i=null}){const[s,o]=F.useState(null),[c,a]=F.useState(!0),u=wy[t],p=[1,3,5,7,9].includes(t);if(F.useEffect(()=>{try{const S=IC(t,e,n,r);o(S),a(!1)}catch(S){console.error(`Error calculating leaders for Prize ${t}:`,S),a(!1)}},[t,e,n,r]),c)return l.jsxs("div",{className:"leader-card loading",children:[l.jsx("div",{className:"leader-card-header",children:l.jsxs("h3",{children:["Prize #",t," - ",u.name]})}),l.jsx("div",{className:"leader-card-body",children:l.jsx("p",{children:"Calculating leaders..."})})]});if(!s||s.allPlayers.length===0)return l.jsxs("div",{className:"leader-card no-data",children:[l.jsxs("div",{className:"leader-card-header",children:[l.jsxs("h3",{children:["Prize #",t," - ",u.name]}),l.jsx("span",{className:"prize-week",children:u.weekName})]}),l.jsx("div",{className:"leader-card-body",children:l.jsx("p",{children:"No picks available yet."})})]});const{leaders:h,allPlayers:f,hasTie:_,tieCount:C}=s,w=bC(u,n,r);return l.jsxs("div",{className:`leader-card ${_?"has-tie":""}`,children:[l.jsxs("div",{className:"leader-card-header",children:[l.jsxs("h3",{children:["Prize #",t," - ",u.name]}),l.jsx("span",{className:"prize-week",children:u.weekName})]}),l.jsxs("div",{className:"leader-card-body",children:[l.jsxs("div",{className:`game-status ${w.status.toLowerCase()}`,children:[l.jsxs("div",{className:"status-badge",children:[w.status==="NOT_STARTED"&&" NOT STARTED",w.status==="LIVE"&&" LIVE",w.status==="COMPLETE"&&" COMPLETE"]}),l.jsx("div",{className:"status-details",children:w.status!=="NOT_STARTED"&&l.jsxs("span",{className:"games-count",children:[w.gamesCompleted," of ",w.totalGames," games"]})}),l.jsx("p",{className:"status-message",children:w.message})]}),_&&l.jsxs("div",{className:"tie-warning",children:[" ",C,"-WAY TIE FOR 1ST PLACE!"]}),_&&l.jsxs("div",{className:"tied-leaders-section",children:[l.jsx("h4",{children:" TIED FOR 1ST PLACE:"}),l.jsx("div",{className:"leaders-list",children:h.map((S,g)=>l.jsxs("div",{className:`leader-item ${(i==null?void 0:i.playerCode)===S.playerCode?"official-winner":"tied-leader"}`,children:[l.jsxs("span",{className:"leader-rank",children:[g+1,"."]}),l.jsx("span",{className:"leader-name",children:S.playerName}),l.jsx("span",{className:"leader-score",children:p?`${S.score} correct`:`${S.score} pts  Actual: ${S.actualTotal||0} pts  Off by: ${S.difference} pts`}),(i==null?void 0:i.playerCode)===S.playerCode?l.jsx("span",{className:"official-badge",children:" OFFICIAL WINNER"}):l.jsx("span",{className:"leading-badge",children:" LEADING"})]},g))})]}),_&&f.length>C&&l.jsxs("div",{className:"next-in-line-section",children:[l.jsx("h4",{children:" NEXT IN LINE:"}),l.jsx("div",{className:"leaders-list",children:f.slice(C,C+10).map((S,g)=>l.jsxs("div",{className:"leader-item",children:[l.jsxs("span",{className:"leader-rank",children:[C+g+1,"."]}),l.jsx("span",{className:"leader-name",children:S.playerName}),l.jsx("span",{className:"leader-score",children:p?`${S.score} correct`:`${S.score} pts  Actual: ${S.actualTotal||0} pts  Off by: ${S.difference} pts`})]},g))})]}),!_&&l.jsxs("div",{className:"all-players-section",children:[l.jsx("h4",{children:" ALL PLAYERS RANKED:"}),l.jsx("div",{className:"leaders-list",children:f.map((S,g)=>l.jsxs("div",{className:`leader-item ${g===0&&(i==null?void 0:i.playerCode)===S.playerCode?"official-winner":""}`,children:[l.jsxs("span",{className:"leader-rank",children:[g+1,"."]}),l.jsx("span",{className:"leader-name",children:S.playerName}),l.jsx("span",{className:"leader-score",children:p?`${S.score} correct`:`${S.score} pts  Actual: ${S.actualTotal||0} pts  Off by: ${S.difference} pts`}),g===0&&((i==null?void 0:i.playerCode)===S.playerCode?l.jsx("span",{className:"official-badge",children:" OFFICIAL WINNER"}):l.jsx("span",{className:"leading-badge",children:" LEADING"}))]},g))})]}),!i&&l.jsx("div",{className:"no-official-winner",children:l.jsx("em",{children:"No official winner declared yet"})})]})]})}function jC({allPicks:t,actualScores:e,games:n,officialWinners:r,weekData:i}){return l.jsxs("div",{className:"leaders-section",children:[l.jsx("h2",{children:" Prize Leaders"}),l.jsx("p",{className:"leaders-description",children:"Current standings for all 10 prizes. Winners will be officially announced by the Pool Manager."}),l.jsx("div",{className:"prize-grid",children:[1,2,3,4,5,6,7,8,9,10].map(s=>l.jsx(PC,{prizeNumber:s,allPicks:t,actualScores:e,weekData:i,officialWinner:r==null?void 0:r[s]},s))})]})}const RC={apiKey:"AIzaSyDr3PPXC90wvQW_LG8TkAyR9K-7e0loQ3A",authDomain:"nfl-playoff-pool-2025-scores.firebaseapp.com",databaseURL:"https://nfl-playoff-pool-2025-scores-default-rtdb.firebaseio.com",projectId:"nfl-playoff-pool-2025-scores",storageBucket:"nfl-playoff-pool-2025-scores.firebasestorage.app",messagingSenderId:"844539772456",appId:"1:844539772456:web:9bbfcf523195a5eedfff1d"},AC=Zm(RC),q=lC(AC),bh={firstFriday:"2026-01-09",lastMonday:"2026-02-09"},pn={wildcard:"2026-01-10",divisional:"2026-01-17",conference:"2026-01-25",superbowl:"2026-02-08"},mn=["76BB89","Z9Y8X7"],Ee={"76BB89":"POOL MANAGER - Richard",Z9Y8X7:"POOL MANAGER - Dennis",J239W4:"Bob Casson",B7Y4X3:"Bob Desrosiers",D4F7G5:"Bonnie Biletski","536EE2":"Brian Colburg",X8HH67:"Chris Neufeld",G7R3P5:"Curtis Braun",A4LJC9:"Curtis Palidwor",X3P8N1:"Dallas Pylypow",HM8T67:"Darrell Klassen",TA89R2:"Dave Boyarski",K2P9W5:"Dave Desrosiers",A5K4T7:"Dennis Biletski","6WRUJR":"Emily Chadwick",AB6C89:"Gareth Reeve",D3F6G9:"Jarrod Reimer",T42B67:"Jo Behr",PUEFKF:"Joshua Biletski",ABC378:"Ken Mcleod",K9R3N6:"Kevin Pich",H7P3N5:"Larry Bretecher",B5R4T6:"Larry Strand",L2W9X2:"Michelle Desrosiers","5GGPL3":"Mike Brkich",T4M8Z8:"Neema Dadmand","9CD72G":"Neil Banman",T7Y4R8:"Neil Foster",KWBZ86:"Nick Melanidis","2WQA9X":"Nima Ahmadi",E4T6J7:"Orest Pich",N4M8Q2:"Randy Moffatt",B8L9M2:"Richard Biletski","62R92L":"Rob Crowe",H8M3N7:"Rob Kost",WW3F44:"Ryan Moffatt",E5G7G8:"Tony Creta"},ve={wildcard:{name:"Wild Card Round (Jan 10-12, 2026)",deadline:"Friday, January 9, 2026 at 11:59 PM PST",games:[{id:1,team1:"AFC #7",team2:"AFC #2"},{id:2,team1:"AFC #6",team2:"AFC #3"},{id:3,team1:"AFC #5",team2:"AFC #4"},{id:4,team1:"NFC #7",team2:"NFC #2"},{id:5,team1:"NFC #6",team2:"NFC #3"},{id:6,team1:"NFC #5",team2:"NFC #4"}]},divisional:{name:"Divisional Round (Jan 17-18, 2026)",deadline:"Friday, January 16, 2026 at 11:59 PM PST",games:[{id:7,team1:"AFC Winner 1",team2:"AFC #1"},{id:8,team1:"AFC Winner 2",team2:"AFC Winner 3"},{id:9,team1:"NFC Winner 1",team2:"NFC #1"},{id:10,team1:"NFC Winner 2",team2:"NFC Winner 3"}]},conference:{name:"Conference Championships (Jan 25, 2026)",deadline:"Friday, January 23, 2026 at 11:59 PM PST",games:[{id:11,team1:"AFC Winner A",team2:"AFC Winner B"},{id:12,team1:"NFC Winner A",team2:"NFC Winner B"}]},superbowl:{name:"Super Bowl LIX (Feb 8, 2026)",deadline:"Friday, February 6, 2026 at 11:59 PM PST",games:[{id:13,team1:"AFC Champion",team2:"NFC Champion"}]}};function DC(){const[t,e]=F.useState("picks"),[n,r]=F.useState(""),[i,s]=F.useState(""),[o,c]=F.useState(!1),[a,u]=F.useState("wildcard"),[p,h]=F.useState({}),[f,_]=F.useState([]),[C,w]=F.useState(!1),[S,g]=F.useState({}),[m,x]=F.useState({}),[N,R]=F.useState({}),[E,I]=F.useState({wildcard:"",divisional:"",conference:"",superbowl_week4:"",superbowl_week3:"",superbowl_week2:"",superbowl_week1:"",superbowl_grand:""}),[A,Y]=F.useState({wildcard:{locked:!1,lockDate:null,autoLockDate:pn.wildcard},divisional:{locked:!1,lockDate:null,autoLockDate:pn.divisional},conference:{locked:!1,lockDate:null,autoLockDate:pn.conference},superbowl:{locked:!1,lockDate:null,autoLockDate:pn.superbowl}}),[V,re]=F.useState({}),[je,Ft]=F.useState(null),[hr,pr]=F.useState(null),[yt,Xe]=F.useState(!1),[M,$]=F.useState(null),[H,he]=F.useState(null),[Te,Un]=F.useState([]),[Yt,ui]=F.useState([]),[vt,mr]=F.useState({}),[Me,pd]=F.useState({totalFees:0,prizeValue:0,numberOfPlayers:0,entryFee:20}),[Sy,zs]=F.useState(!1),[Nt,Fl]=F.useState(""),[gr,zl]=F.useState(1),[_t,Ws]=F.useState([]),[fn,Wl]=F.useState(!1),[zt,di]=F.useState([]),[Cy,Bl]=F.useState(!1),[Ul,fi]=F.useState({}),[Ey,ky]=F.useState({}),[Ny,hi]=F.useState(!1),[se,yr]=F.useState(""),[vr,pi]=F.useState(null),[$n,mi]=F.useState(null),[Ty,gi]=F.useState(!1),[md,_r]=F.useState(null),[yi,$l]=F.useState(null),xe=()=>mn.includes(i)&&o,by=()=>{let d=Math.floor(Math.random()*41)+10,y=Math.floor(Math.random()*41)+10;for(;d===y;)y=Math.floor(Math.random()*41)+10;return{team1:d,team2:y}},gd=()=>{const d=ve[a].games,y={};d.forEach(v=>{y[v.id]=by()}),mi(y),gi(!0)},Iy=async()=>{if(!se||!$n)return;const d=Ee[se];if(d)try{const y=K(q,"picks"),v=await Ai(y);let k=null;if(v.exists()){const P=v.val();for(const[T,O]of Object.entries(P))if(O.playerCode===se&&O.week===a){k=T;break}}const b={playerName:d,playerCode:se,week:a,predictions:$n,timestamp:k&&v.val()[k].timestamp||Date.now(),lastUpdated:Date.now(),enteredBy:"POOL_MANAGER_RNG",enteredByCode:i,enteredByName:n};k?await Ie(K(q,`picks/${k}`),b):await Ta(K(q,"picks"),b),alert(` RNG picks successfully submitted for ${d}!`),gi(!1),mi(null),hi(!1),yr("")}catch(y){console.error("Error submitting RNG picks:",y),alert(" Error submitting RNG picks. Please try again.")}},Py=()=>{if(!se)return;const d=f.find(y=>y.playerCode===se&&y.week===a);d&&d.predictions?(h(d.predictions),fi({...d.predictions}),pi("manual")):(h({}),fi({}),pi("manual"))},jy=async d=>{if(d.preventDefault(),!se){alert("Please select a player first.");return}const y=Ee[se];ve[a];try{const v=K(q,"picks"),k=await Ai(v);let b=null;if(k.exists()){const T=k.val();for(const[O,U]of Object.entries(T))if(U.playerCode===se&&U.week===a){b=O;break}}const P={playerName:y,playerCode:se,week:a,predictions:p,timestamp:b&&k.val()[b].timestamp||Date.now(),lastUpdated:Date.now(),enteredBy:"POOL_MANAGER_MANUAL",enteredByCode:i,enteredByName:n};b?await Ie(K(q,`picks/${b}`),P):await Ta(K(q,"picks"),P),alert(` Picks successfully submitted for ${y}!`),h({}),hi(!1),yr(""),pi(null)}catch(v){console.error("Error submitting picks for player:",v),alert(" Error submitting picks. Please try again.")}},Ry=async()=>{if(!se)return;const d=Ee[se];try{console.log(" DEBUG: Starting delete for player:",d),console.log(" DEBUG: Player code:",se),console.log(" DEBUG: Current week:",a);const y=K(q,"picks"),v=await Ai(y);if(console.log(" DEBUG: Got snapshot, exists?",v.exists()),v.exists()){const k=v.val();console.log(" DEBUG: Total picks in database:",Object.keys(k).length);let b=null;for(const[P,T]of Object.entries(k))if(console.log(` DEBUG: Checking pick ${P}:`,T.playerCode,T.week),T.playerCode===se&&T.week===a){b=P,console.log(" DEBUG: FOUND KEY TO DELETE:",b);break}b?(console.log(" DEBUG: Attempting to delete key:",b),await Th(K(q,`picks/${b}`)),console.log(" DEBUG: Delete successful!"),alert(` ${d}'s picks for ${a==="wildcard"?"Week 1":a==="divisional"?"Week 2":a==="conference"?"Week 3":"Week 4"} have been deleted!`)):(console.log(" DEBUG: No pick found to delete"),alert(` ${d} has no picks for this week.`))}_r(null),yr("")}catch(y){console.error(" DEBUG: Error deleting picks:",y),console.error(" DEBUG: Error message:",y.message),console.error(" DEBUG: Error code:",y.code),alert(` Error deleting picks: ${y.message}

Check browser console (F12) for details.`)}},Ay=async()=>{if(!se)return;const d=Ee[se];try{console.log(" DEBUG: Starting delete ALL for player:",d),console.log(" DEBUG: Player code:",se);const y=K(q,"picks"),v=await Ai(y);if(console.log(" DEBUG: Got snapshot, exists?",v.exists()),v.exists()){const k=v.val(),b=[];console.log(" DEBUG: Total picks in database:",Object.keys(k).length);for(const[P,T]of Object.entries(k))T.playerCode===se&&(console.log(" DEBUG: Found pick to delete:",P,T.week),b.push(P));if(console.log(" DEBUG: Total keys to delete:",b.length),b.length>0){console.log(" DEBUG: Attempting to delete keys:",b);const P=b.map(T=>Th(K(q,`picks/${T}`)));await Promise.all(P),console.log(" DEBUG: Delete ALL successful!"),alert(` ALL picks for ${d} have been deleted!

Deleted ${b.length} pick(s) across all weeks.`)}else console.log(" DEBUG: No picks found to delete"),alert(` ${d} has no picks in any week.`)}_r(null),yr(""),hi(!1)}catch(y){console.error(" DEBUG: Error deleting all picks:",y),console.error(" DEBUG: Error message:",y.message),console.error(" DEBUG: Error code:",y.code),alert(` Error deleting picks: ${y.message}

Check browser console (F12) for details.`)}},Dy=async d=>{try{console.log(" Clearing week data for:",d),S[d]&&(await Ie(K(q,`teamCodes/${d}`),null),console.log(" Cleared team codes")),m[d]&&(await Ie(K(q,`actualScores/${d}`),null),console.log(" Cleared actual scores")),N[d]&&(await Ie(K(q,`gameStatus/${d}`),null),console.log(" Cleared game status")),alert(` Week ${d==="wildcard"?"1":d==="divisional"?"2":d==="conference"?"3":"4"} data cleared!

Team names, scores, and statuses have been deleted.
Player picks are still intact.`),$l(null)}catch(y){console.error(" Error clearing week data:",y),alert(` Error clearing week data: ${y.message}`)}},yd=(d,y,v,k,b,P)=>{const T=Number(d)>Number(y),O=Number(y)>Number(d);if(d===y||!d||!y)return{background:"transparent",color:"#000"};if(v!==void 0&&k!==void 0&&v!==""&&k!==""){const U=Number(v)>Number(k),L=Number(k)>Number(v);if(!b||b===""){if(P&&T)return U?{background:"#fff9c4",color:"#000"}:{background:"#b3e5fc",color:"#000"};if(!P&&O)return L?{background:"#fff9c4",color:"#000"}:{background:"#b3e5fc",color:"#000"}}if(b==="live"){if(P&&T)return U?{background:"#c8e6c9",color:"#000"}:{background:"#ffcdd2",color:"#000"};if(!P&&O)return L?{background:"#c8e6c9",color:"#000"}:{background:"#ffcdd2",color:"#000"}}if(b==="final"){if(P&&T)return U?{background:"#4caf50",color:"#000"}:{background:"#f44336",color:"#000"};if(!P&&O)return L?{background:"#4caf50",color:"#000"}:{background:"#f44336",color:"#000"}}}return{background:"transparent",color:"#000"}},Oy=async(d,y,v)=>{try{const k=d/10,b={totalFees:Number(d),prizeValue:Number(k.toFixed(2)),numberOfPlayers:Number(y),entryFee:Number(v),lastUpdated:new Date().toISOString()};await Ie(K(q,"prizePool"),b),pd(b),alert(` Prize pool saved!

Total Pool: $${d}
Each Prize: $${k.toFixed(2)} (10%)`),zs(!1)}catch(k){console.error("Error saving prize pool:",k),alert(` Error saving prize pool: ${k.message}`)}},Bs=(d,y)=>{const v=Math.floor(d*100/y)/100,k=Math.floor(1e4/y)/100,b=[];let P=0;for(let U=0;U<y-1;U++)b.push({percentage:k,amount:v}),P+=v;const T=Number((d-P).toFixed(2)),O=Number((100-k*(y-1)).toFixed(2));return b.push({percentage:O,amount:T}),b},Ly=async()=>{if(!Nt||_t.length===0){alert(" Please select a prize and at least one winner.");return}try{const d=Me.prizeValue||100;let y=[];if(fn){const k=zt.reduce((P,T)=>P+Number(T.percentage||0),0),b=zt.reduce((P,T)=>P+Number(T.amount||0),0);if(Math.abs(k-100)>.01){alert(` Percentages must equal 100%!
Current total: ${k.toFixed(2)}%`);return}if(Math.abs(b-d)>.01){alert(` Amounts must equal $${d.toFixed(2)}!
Current total: $${b.toFixed(2)}`);return}y=zt.map((P,T)=>({playerCode:_t[T].code,playerName:_t[T].name,percentage:Number(P.percentage),amount:Number(P.amount)}))}else{const k=Bs(d,_t.length);y=_t.map((b,P)=>({playerCode:b.code,playerName:b.name,percentage:k[P].percentage,amount:k[P].amount}))}const v={prizeNumber:Nt,prizeName:vi(Nt),prizeValue:d,winners:y,declaredBy:"POOL_MANAGER",declaredByCode:i,declaredByName:n,declaredAt:new Date().toISOString()};await Ie(K(q,`officialWinners/prize${Nt}`),v),alert(` Winner(s) declared for ${vi(Nt)}!

${y.map(k=>`${k.playerName}: ${k.percentage}% ($${k.amount.toFixed(2)})`).join(`
`)}`),Fl(""),zl(1),Ws([]),Wl(!1),di([]),Bl(!1)}catch(d){console.error("Error declaring winners:",d),alert(` Error declaring winners: ${d.message}`)}},vi=d=>({1:"Prize #1 - Week 1 Most Correct Winners",2:"Prize #2 - Week 1 Closest Total Points",3:"Prize #3 - Week 2 Most Correct Winners",4:"Prize #4 - Week 2 Closest Total Points",5:"Prize #5 - Week 3 Most Correct Winners",6:"Prize #6 - Week 3 Closest Total Points",7:"Prize #7 - Week 4 Most Correct Winners",8:"Prize #8 - Week 4 Closest Total Points",9:"Prize #9 - Overall 4-Week Grand Total Most Correct Winners",10:"Prize #10 - Overall 4-Week Grand Total Closest Points"})[d]||`Prize #${d}`,My=async d=>{if(window.confirm(`Are you sure you want to delete the winner declaration for ${vi(d)}?

This action cannot be undone!`))try{await Ie(K(q,`officialWinners/prize${d}`),null),alert(` Winner declaration deleted for ${vi(d)}`)}catch(y){console.error("Error deleting prize:",y),alert(` Error: ${y.message}`)}},vd=d=>{const y=pn[d];if(!y)return!1;const v=new Date,k=new Date(v.toLocaleString("en-US",{timeZone:"America/Los_Angeles"})),b=new Date(y+"T00:00:00");return k>=b},Wt=d=>{var y;return xe()?!1:(y=A[d])!=null&&y.locked?!0:vd(d)};F.useEffect(()=>{const d=K(q,"weekLockStatus");Qt(d,y=>{const v=y.val();if(v){const k={};Object.keys(pn).forEach(b=>{var P,T;k[b]={locked:((P=v[b])==null?void 0:P.locked)||!1,lockDate:((T=v[b])==null?void 0:T.lockDate)||null,autoLockDate:pn[b]}}),Y(k)}})},[]);const Fy=d=>{const y=!A[d].locked,v=y?new Date().toISOString():null,k={...A,[d]:{...A[d],locked:y,lockDate:v}};Y(k),Ie(K(q,`weekLockStatus/${d}`),{locked:y,lockDate:v,autoLockDate:pn[d]}),alert(y?` Week ${d} is now LOCKED

Players cannot edit picks for this week.`:` Week ${d} is now UNLOCKED

Players can edit picks for this week.`)};F.useEffect(()=>{const d=K(q,"picks");Qt(d,y=>{const v=y.val();if(v){const k=Object.keys(v).map(b=>({...v[b],firebaseKey:b}));_(k)}else _([])})},[]),F.useEffect(()=>{const d=K(q,"teamCodes");Qt(d,y=>{const v=y.val();v&&g(v)})},[]),F.useEffect(()=>{const d=K(q,"actualScores");Qt(d,y=>{const v=y.val();v&&x(v)})},[]),F.useEffect(()=>{const d=K(q,"gameStatus");Qt(d,y=>{const v=y.val();v&&R(v)})},[]),F.useEffect(()=>{const d=K(q,"officialWinners");Qt(d,y=>{const v=y.val();v&&mr(v)})},[]),F.useEffect(()=>{const d=K(q,"prizePool");Qt(d,y=>{const v=y.val();v&&pd(v)})},[]),F.useEffect(()=>{const d=K(q,"gameLocks");Qt(d,y=>{const v=y.val();v&&re(v)})},[]),F.useEffect(()=>{const d=K(q,"manualWeekTotals");Qt(d,y=>{const v=y.val();v&&I(v)})},[]),F.useEffect(()=>{if(o&&n&&f.length>0){const d=f.find(y=>y.playerName===n&&y.week===a);d&&d.predictions?(console.log("Loading existing picks for",n,"week",a),h(d.predictions)):(console.log("No existing picks found - clearing form"),h({}))}},[a,f,o,n]),F.useEffect(()=>{const d=new yC(_d,5);return Ft(d),()=>{d&&d.stop()}},[]);const _d=async()=>{try{console.log("Fetching scores from ESPN...");const d=await hC();if(!d.success){console.error("ESPN fetch failed:",d.error);return}console.log("ESPN games fetched:",d.games.length);const y=ve[a].games,v={};if(d.games.forEach(k=>{var P;const b=gC(k,ve,a,S);if(b){const T=b.gameId;if((P=V[a])!=null&&P[T]){console.log(`Game ${T} is locked, skipping API update`);return}v[T]={team1:b.team1Score,team2:b.team2Score,source:"espn",lastUpdated:new Date().toISOString()},R(O=>({...O,[a]:{...O[a],[T]:b.isFinal?"final":b.isLive?"live":""}}))}}),Object.keys(v).length>0){x(b=>({...b,[a]:{...b[a],...v}}));const k=K(q,`actualScores/${a}`);await Ie(k,{...m[a],...v}),console.log(`Updated ${Object.keys(v).length} games from ESPN`)}pr(new Date)}catch(d){console.error("Error fetching ESPN scores:",d)}},zy=d=>{var y;console.log(" Toggle clicked for game:",d),console.log(" Current week:",a),console.log(" Current locks:",V),console.log(" Current value for game",d,":",(y=V[a])==null?void 0:y[d]),re(v=>{const k={...v};k[a]||(k[a]={});const b=k[a][d],P=!b;console.log(" Old value:",b),console.log(" New value:",P),k[a][d]=P;const T=K(q,`gameLocks/${a}/${d}`);return Ie(T,P),console.log(" Saved to Firebase:",P),console.log(" Returning new locks:",k),k})},xd=(d,y,v)=>{h(k=>({...k,[d]:{...k[d],[y]:v}}))},Wy=()=>{if(Object.keys(p).some(v=>{var k,b;return((k=p[v])==null?void 0:k.team1)||((b=p[v])==null?void 0:b.team2)})&&!window.confirm(` WARNING!

Clicking RNG will OVERWRITE all your current picks!

Are you sure you want to continue?`))return;const y={};ye.games.forEach(v=>{let k=Math.floor(Math.random()*43)+3,b=Math.floor(Math.random()*43)+3;for(;k===b;)b=Math.floor(Math.random()*43)+3;y[v.id]={team1:k.toString(),team2:b.toString()}}),h(y),Xe(!0),alert(` RNG picks generated for all ${ye.games.length} games!

Score range: 3-45 points per team
No tied games guaranteed!

You can now edit any scores before submitting.`)},wd=(d,y,v)=>{var b;const k={...S,[a]:{...S[a]||{},[d]:{...((b=S[a])==null?void 0:b[d])||{},[y]:v.toUpperCase()}}};g(k),Ie(K(q,`teamCodes/${a}/${d}/${y}`),v.toUpperCase())},Sd=(d,y,v)=>{var b;const k={...m,[a]:{...m[a]||{},[d]:{...((b=m[a])==null?void 0:b[d])||{},[y]:v}}};x(k),Ie(K(q,`actualScores/${a}/${d}/${y}`),v)},By=(d,y)=>{const v={...N,[a]:{...N[a]||{},[d]:y}};R(v),Ie(K(q,`gameStatus/${a}/${d}`),y)},xr=(d,y)=>{const v={...E,[d]:y};I(v),Ie(K(q,`manualWeekTotals/${d}`),y)},Uy=["ARI","ATL","BAL","BUF","CAR","CHI","CIN","CLE","DAL","DEN","DET","GB","HOU","IND","JAC","KC","LV","LAC","LAR","MIA","MIN","NE","NO","NYG","NYJ","PHI","PIT","SF","SEA","TB","TEN","WAS"],$y=()=>{const d=ye.games.some(z=>{var W,Q,te,ne;return((Q=(W=S[a])==null?void 0:W[z.id])==null?void 0:Q.team1)||((ne=(te=S[a])==null?void 0:te[z.id])==null?void 0:ne.team2)}),y=ye.games.some(z=>{var W,Q,te,ne;return((Q=(W=m[a])==null?void 0:W[z.id])==null?void 0:Q.team1)||((ne=(te=m[a])==null?void 0:te[z.id])==null?void 0:ne.team2)}),v=ye.games.some(z=>{var W;return(W=N[a])==null?void 0:W[z.id]});if((d||y||v)&&!window.confirm(` POOL MANAGER RNG WARNING!

This will OVERWRITE:
 All team codes
 All actual scores
 All game statuses

Are you sure you want to continue?`))return;const k=[...Uy].sort(()=>Math.random()-.5),b=ye.games.length,P=b*2;if(P>k.length){alert(" Not enough unique teams for all games!");return}const T=k.slice(0,P),O={...S},U={...m},L={...N};O[a]||(O[a]={}),U[a]||(U[a]={}),L[a]||(L[a]={}),ye.games.forEach((z,W)=>{const Q=T[W*2],te=T[W*2+1];let ne=Math.floor(Math.random()*48)+3,le=Math.floor(Math.random()*48)+3;for(;ne===le;)le=Math.floor(Math.random()*48)+3;O[a][z.id]={team1:Q,team2:te},U[a][z.id]={team1:ne.toString(),team2:le.toString()},L[a][z.id]="final",Ie(K(q,`teamCodes/${a}/${z.id}`),{team1:Q,team2:te}),Ie(K(q,`actualScores/${a}/${z.id}`),{team1:ne.toString(),team2:le.toString()}),Ie(K(q,`gameStatus/${a}/${z.id}`),"final")}),g(O),x(U),R(L),alert(` POOL MANAGER RNG Complete!

 ${b} games populated
 Random teams assigned (each used once)
 Scores: 3-50 points
 No tied games guaranteed
 All games marked FINAL

Ready for testing!`)},Vy=()=>{yt&&!window.confirm(` UNSAVED CHANGES!

You have unsaved picks that will be lost.

Click OK to DISCARD changes and logout
Click CANCEL to stay and save your picks`)||(c(!1),s(""),r(""),h({}),e("picks"),Xe(!1))},Gy=()=>{if(yt&&!window.confirm(` DISCARD CHANGES?

This will reset your picks to the last saved version.

Are you sure you want to discard your changes?`))return;const d=f.find(y=>y.playerCode===i&&y.week===a);h(d?d.predictions:{}),Xe(!1)},Hy=d=>{yt?(he(d),$("unsavedChanges")):(u(d),Us(d))},Us=d=>{const y=f.find(v=>v.week===d&&v.playerCode===i);y&&y.predictions?(h(y.predictions),fi(y.predictions),Xe(!1)):(h({}),fi({}),Xe(!1))};F.useEffect(()=>{const d=JSON.stringify(p)!==JSON.stringify(Ul);Xe(d)},[p,Ul]),F.useEffect(()=>{o&&i&&Us(a)},[a,o,i,f]),F.useEffect(()=>{if(f.length>0&&i){const d={};["wildcard","divisional","conference","superbowl"].forEach(y=>{const v=f.find(k=>k.week===y&&k.playerCode===i);if(v&&v.predictions){const k=ve[y].games.length,b=Object.keys(v.predictions).filter(P=>{var T,O;return((T=v.predictions[P])==null?void 0:T.team1)&&((O=v.predictions[P])==null?void 0:O.team2)}).length;d[y]={complete:b===k,count:b,total:k}}}),ky(d)}},[f,i]);const _i=()=>{if(xe())return!0;const d=new Date,y=new Date(d.toLocaleString("en-US",{timeZone:"America/Los_Angeles"})),v=new Date(bh.firstFriday+"T00:00:00"),k=new Date(bh.lastMonday+"T23:59:59");if(y<v)return!0;if(y>k)return!1;const b=y.getDay(),P=y.getHours(),T=y.getMinutes();return!(b===5&&P===23&&T>=59||b===6||b===0||b===1&&P===0&&T===0)},Cd=()=>{const d=i.trim().toUpperCase();if(!d){alert("Please enter your 6-character player code");return}if(d.length!==6||!/^[A-Z0-9]{6}$/.test(d)){alert(`Invalid code format!

Player codes must be exactly 6 characters (letters and numbers).
Example: A7K9M2`);return}const y=Ee[d];if(!y){alert(`Invalid player code!

This code is not recognized.

Make sure you:
1. Paid your $20 entry fee
2. Received your code from the pool manager
3. Entered the code correctly

Contact: gammoneer2b@gmail.com`);return}if(f.find(k=>k.playerName===y&&k.week===a))if(mn.includes(d))alert(`Welcome, Pool Manager!

You have unrestricted access to:
 Enter picks anytime (no lockout)
 Enter team codes
 Enter actual game scores
 Set game status (LIVE/FINAL)
 Lock/unlock weeks
 View all player codes`);else{const k=Wt(a);alert(k?`Welcome back, ${y}!

 WARNING: This week is LOCKED!

Your existing picks for ${ve[a].name} will be loaded, but you cannot edit them because the games have been played.

You can only view your submitted picks.`:`Welcome back, ${y}!

Your existing picks for ${ve[a].name} will be loaded automatically.

You can edit and resubmit anytime except during playoff weekends (Friday 11:59 PM - Monday 12:01 AM PST).`)}else mn.includes(d)&&alert(`Welcome, Pool Manager!

You have unrestricted access to:
 Enter picks anytime (no lockout)
 Enter team codes
 Enter actual game scores
 Set game status (LIVE/FINAL)
 Lock/unlock weeks
 View all player codes`);r(y),s(d),c(!0)},Yy=()=>{const d=f.filter(T=>T.week===a);if(d.length===0){alert("No picks to download for this week.");return}const y=ve[a];let v="";v+="TEAM CODES:,",y.games.forEach(T=>{var L,z,W,Q;const O=((z=(L=S[a])==null?void 0:L[T.id])==null?void 0:z.team1)||"-",U=((Q=(W=S[a])==null?void 0:W[T.id])==null?void 0:Q.team2)||"-";v+=`${O},${U},`}),a==="superbowl"&&(v+=",,,,"),v+=`
`,v+="ACTUAL SCORES:,",y.games.forEach(T=>{var L,z,W,Q;const O=((z=(L=m[a])==null?void 0:L[T.id])==null?void 0:z.team1)||"-",U=((Q=(W=m[a])==null?void 0:W[T.id])==null?void 0:Q.team2)||"-";v+=`${O},${U},`}),a==="superbowl"&&(v+=",,,,"),v+=`
`,v+="GAME TOTALS:,",y.games.forEach(T=>{var W,Q,te,ne;const O=parseInt((Q=(W=m[a])==null?void 0:W[T.id])==null?void 0:Q.team1)||0,U=parseInt((ne=(te=m[a])==null?void 0:te[T.id])==null?void 0:ne.team2)||0,L=O+U,z=O>0||U>0?L:"-";v+=`${z},,`}),a==="superbowl"&&(v+=",,,,"),v+=`
`,v+="GAME STATUS:,",y.games.forEach(T=>{var L;const O=((L=N[a])==null?void 0:L[T.id])||"-";v+=`${O==="final"?"FINAL":O==="live"?"LIVE":"-"},,`}),a==="superbowl"&&(v+=",,,,"),v+=`
`,v+="OFFICIAL TOTALS:,",y.games.forEach(()=>{v+=",,"}),a==="superbowl"?(v+=`${E.superbowl_week4||"-"},`,v+=`${E.superbowl_week3||"-"},`,v+=`${E.superbowl_week2||"-"},`,v+=`${E.superbowl_week1||"-"},`,v+=`${E.superbowl_grand||"-"},`):v+=`${E[a]||"-"},`,v+=`
`,v+=`
`,v+=",",y.games.forEach(T=>{v+=`Game ${T.id},Game ${T.id},`}),v+=`
`,v+="Player Name,",y.games.forEach(T=>{v+=`${T.team1} Score,${T.team2} Score,`}),a==="superbowl"?v+="Week 4 Total,Week 3 Total,Week 2 Total,Week 1 Total,GRAND TOTAL,":v+="Total Points,",v+=`Submitted At
`,d.sort((T,O)=>(O.lastUpdated||O.timestamp)-(T.lastUpdated||T.timestamp)).forEach(T=>{if(v+=`"${T.playerName}",`,y.games.forEach(U=>{var W,Q;const L=((W=T.predictions[U.id])==null?void 0:W.team1)||"-",z=((Q=T.predictions[U.id])==null?void 0:Q.team2)||"-";v+=`${L},${z},`}),a==="superbowl"){const U=(()=>{const te=f.find(le=>le.playerName===T.playerName&&le.week==="superbowl");if(!te)return 0;let ne=0;return ve.superbowl.games.forEach(le=>{const be=te.predictions[le.id];be&&(ne+=(Number(be.team1)||0)+(Number(be.team2)||0))}),ne})(),L=(()=>{const te=f.find(le=>le.playerName===T.playerName&&le.week==="conference");if(!te)return 0;let ne=0;return ve.conference.games.forEach(le=>{const be=te.predictions[le.id];be&&(ne+=(Number(be.team1)||0)+(Number(be.team2)||0))}),ne})(),z=(()=>{const te=f.find(le=>le.playerName===T.playerName&&le.week==="divisional");if(!te)return 0;let ne=0;return ve.divisional.games.forEach(le=>{const be=te.predictions[le.id];be&&(ne+=(Number(be.team1)||0)+(Number(be.team2)||0))}),ne})(),W=(()=>{const te=f.find(le=>le.playerName===T.playerName&&le.week==="wildcard");if(!te)return 0;let ne=0;return ve.wildcard.games.forEach(le=>{const be=te.predictions[le.id];be&&(ne+=(Number(be.team1)||0)+(Number(be.team2)||0))}),ne})(),Q=U+L+z+W;v+=`${U},${L},${z},${W},${Q},`}else{const U=y.games.reduce((L,z)=>{var te,ne;const W=parseInt((te=T.predictions[z.id])==null?void 0:te.team1)||0,Q=parseInt((ne=T.predictions[z.id])==null?void 0:ne.team2)||0;return L+W+Q},0);v+=`${U},`}const O=new Date(T.lastUpdated||T.timestamp).toLocaleString("en-US",{month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0});v+=`"${O}"
`});const k=new Blob([v],{type:"text/csv;charset=utf-8;"}),b=document.createElement("a"),P=URL.createObjectURL(k);b.setAttribute("href",P),b.setAttribute("download",`nfl_playoff_picks_${a}_${Date.now()}.csv`),b.style.visibility="hidden",document.body.appendChild(b),b.click(),document.body.removeChild(b)},Ed=async d=>{if(d.preventDefault(),Wt(a)){alert(` WEEK LOCKED

This week's games have been played.
Picks are permanently locked.`);return}if(!_i()){alert(` SUBMISSIONS CLOSED

During playoff weekends, picks are locked from:
 Friday 11:59 PM PST
 Through Monday 12:01 AM PST`);return}const y=ve[a],v=[];if(y.games.forEach(P=>{(!p[P.id]||!p[P.id].team1||!p[P.id].team2)&&v.push(P.id)}),v.length>0){Un(v),$("incomplete");return}const k=[];if(y.games.forEach(P=>{var U,L;const T=parseInt((U=p[P.id])==null?void 0:U.team1),O=parseInt((L=p[P.id])==null?void 0:L.team2);(isNaN(T)||isNaN(O)||T<0||O<0)&&k.push(P.id)}),k.length>0){ui(k),$("invalidScores");return}const b=[];if(y.games.forEach(P=>{var U,L;const T=parseInt((U=p[P.id])==null?void 0:U.team1),O=parseInt((L=p[P.id])==null?void 0:L.team2);T===O&&b.push(P.id)}),b.length>0){Un(b),$("tiedGames");return}if(!yt){$("noChanges");return}try{const P=K(q,"picks"),T=await Ai(P);let O=null,U=null;if(T.exists()){const z=T.val();for(const[W,Q]of Object.entries(z))if(Q.playerCode===i&&Q.week===a){O=Q,U=W;break}}const L={playerName:n,playerCode:i,week:a,predictions:p,timestamp:O?O.timestamp:Date.now(),lastUpdated:Date.now()};U?await Ie(K(q,`picks/${U}`),L):await Ta(K(q,"picks"),L),w(!0),fi({...p}),Xe(!1),$("success"),setTimeout(()=>{const z=document.querySelector(".all-picks");z&&z.scrollIntoView({behavior:"smooth"})},100)}catch(P){console.error("Error submitting picks:",P),alert("Error submitting picks. Please try again.")}},ye=ve[a],wr=F.useMemo(()=>{const d={};return f.filter(v=>v.week===a).forEach(v=>{d[v.playerName]||(d[v.playerName]={week4:0,week3:0,week2:0,week1:0,grand:0,current:0});let k=0;if(ve[a].games.forEach(P=>{const T=v.predictions[P.id];T&&T.team1&&T.team2&&(k+=(parseInt(T.team1)||0)+(parseInt(T.team2)||0))}),d[v.playerName].current=k,a==="superbowl"){const P=f.find(L=>L.playerName===v.playerName&&L.week==="superbowl");if(P&&P.predictions){let L=0;ve.superbowl.games.forEach(z=>{const W=P.predictions[z.id];W&&(L+=(Number(W.team1)||0)+(Number(W.team2)||0))}),d[v.playerName].week4=L}const T=f.find(L=>L.playerName===v.playerName&&L.week==="conference");if(T&&T.predictions){let L=0;ve.conference.games.forEach(z=>{const W=T.predictions[z.id];W&&(L+=(Number(W.team1)||0)+(Number(W.team2)||0))}),d[v.playerName].week3=L}const O=f.find(L=>L.playerName===v.playerName&&L.week==="divisional");if(O&&O.predictions){let L=0;ve.divisional.games.forEach(z=>{const W=O.predictions[z.id];W&&(L+=(Number(W.team1)||0)+(Number(W.team2)||0))}),d[v.playerName].week2=L}const U=f.find(L=>L.playerName===v.playerName&&L.week==="wildcard");if(U&&U.predictions){let L=0;ve.wildcard.games.forEach(z=>{const W=U.predictions[z.id];W&&(L+=(Number(W.team1)||0)+(Number(W.team2)||0))}),d[v.playerName].week1=L}d[v.playerName].grand=d[v.playerName].week1+d[v.playerName].week2+d[v.playerName].week3+d[v.playerName].week4}}),d},[f,a]);return l.jsxs("div",{className:"App",children:[l.jsxs("header",{children:[l.jsx("h1",{children:" Richard's NFL Playoff Pool 2025"}),l.jsx("p",{children:"Enter your score predictions for each NFL Playoff 2025 game"}),l.jsxs("p",{style:{fontSize:"0.85rem",marginTop:"10px",opacity:.8},children:["v2.2-PLAYOFF-SCHEDULE-",new Date().toISOString().slice(0,10).replace(/-/g,"")]}),l.jsxs("div",{style:{marginTop:"15px",display:"flex",flexDirection:"column",gap:"10px",alignItems:"center"},children:[l.jsxs("div",{style:{display:"flex",gap:"15px",flexWrap:"wrap",justifyContent:"center"},children:[l.jsx("a",{href:"/nfl-playoff-pool/Playoff_Pool_Quick_Rules.pdf",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",padding:"10px 20px",backgroundColor:"#0984e3",color:"white",textDecoration:"none",borderRadius:"5px",fontSize:"0.95rem",fontWeight:"bold",transition:"background-color 0.3s ease",cursor:"pointer"},onMouseOver:d=>d.target.style.backgroundColor="#74b9ff",onMouseOut:d=>d.target.style.backgroundColor="#0984e3",children:" View Quick Rules (2 Pages)"}),l.jsx("a",{href:"/nfl-playoff-pool/Richards_Playoff_Pool_LIX_Rulebook.pdf",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",padding:"10px 20px",backgroundColor:"#6c5ce7",color:"white",textDecoration:"none",borderRadius:"5px",fontSize:"0.95rem",fontWeight:"bold",transition:"background-color 0.3s ease",cursor:"pointer"},onMouseOver:d=>d.target.style.backgroundColor="#a29bfe",onMouseOut:d=>d.target.style.backgroundColor="#6c5ce7",children:" View Full Rulebook (13 Pages)"})]}),l.jsx("p",{style:{fontSize:"1.1em",marginTop:"10px",color:"#ffffff",fontWeight:"500"},children:"Entry Fee: $20 - Must be paid before end of regular season"})]})]}),l.jsxs("div",{className:"container",children:[xe()&&o&&l.jsxs("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"15px 20px",borderRadius:"8px",marginBottom:"20px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[l.jsxs("h3",{style:{margin:"0 0 15px 0",display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx("span",{children:""}),l.jsx("span",{children:"POOL MANAGER - WEEK LOCK CONTROLS"})]}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"10px"},children:Object.keys(ve).map(d=>{var b,P;const y=(b=A[d])==null?void 0:b.locked,v=vd(d),k=y||v;return l.jsxs("div",{style:{background:"rgba(255,255,255,0.15)",padding:"12px",borderRadius:"6px",display:"flex",flexDirection:"column",gap:"8px"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",fontWeight:"bold",fontSize:"0.9rem"},children:[l.jsxs("span",{children:[k?"":""," Week ",d==="wildcard"?"1":d==="divisional"?"2":d==="conference"?"3":"4"]}),l.jsx("span",{style:{fontSize:"0.75rem",opacity:.9},children:(P=A[d])==null?void 0:P.autoLockDate})]}),v&&!y&&l.jsx("div",{style:{fontSize:"0.7rem",padding:"4px 8px",background:"rgba(255,193,7,0.3)",borderRadius:"4px",border:"1px solid rgba(255,193,7,0.5)"},children:" AUTO-LOCKED"}),y&&l.jsx("div",{style:{fontSize:"0.7rem",padding:"4px 8px",background:"rgba(220,53,69,0.3)",borderRadius:"4px",border:"1px solid rgba(220,53,69,0.5)"},children:" MANUALLY LOCKED"}),l.jsx("button",{onClick:()=>Fy(d),style:{padding:"8px 12px",background:y?"#28a745":"#dc3545",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.85rem",fontWeight:"600",transition:"all 0.2s"},children:y?" Unlock Week":" Lock Week"}),l.jsx("button",{onClick:()=>$l(d),style:{padding:"8px 12px",background:"#e67e22",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.85rem",fontWeight:"600",transition:"all 0.2s",marginTop:"8px"},children:" Clear Week Data"})]},d)})}),l.jsx("p",{style:{fontSize:"0.8rem",marginTop:"12px",marginBottom:"0",opacity:.9},children:" Manual locks override automatic locks. Players cannot edit picks for locked weeks."})]}),xe()&&o&&l.jsxs("div",{style:{background:"linear-gradient(135deg, #f39c12 0%, #e74c3c 100%)",color:"white",padding:"20px",borderRadius:"8px",marginBottom:"20px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[l.jsxs("h3",{style:{margin:"0 0 15px 0",display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx("span",{children:""}),l.jsx("span",{children:"POOL MANAGER OVERRIDE - ENTER/EDIT PICKS FOR ANY PLAYER"})]}),Ny?l.jsxs("div",{children:[l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"0.95rem"},children:"Select Player:"}),l.jsxs("select",{value:se,onChange:d=>{yr(d.target.value),pi(null),mi(null),gi(!1)},style:{width:"100%",padding:"12px",fontSize:"1rem",borderRadius:"6px",border:"2px solid white",background:"rgba(255,255,255,0.95)",color:"#333",fontWeight:"600"},children:[l.jsx("option",{value:"",children:"-- Select a Player --"}),Object.keys(Ee).sort((d,y)=>{const v=Ee[d].toUpperCase(),k=Ee[y].toUpperCase();return v.localeCompare(k)}).map(d=>l.jsxs("option",{value:d,children:[Ee[d]," (",d,")"]},d))]})]}),se&&l.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:"15px",borderRadius:"6px",marginBottom:"15px"},children:[l.jsxs("div",{style:{marginBottom:"15px"},children:[l.jsx("strong",{children:"Selected:"})," ",Ee[se]," (",se,")",l.jsx("br",{}),l.jsx("strong",{children:"Week:"})," ",a==="wildcard"?"Week 1":a==="divisional"?"Week 2":a==="conference"?"Week 3":"Week 4",l.jsx("br",{}),l.jsx("strong",{children:"Status:"})," ",f.find(d=>d.playerCode===se&&d.week===a)?" HAS PICKS":" NO PICKS"]}),l.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[l.jsx("button",{onClick:gd,style:{flex:"1",minWidth:"150px",padding:"12px",background:"#9b59b6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Generate RNG Picks"}),l.jsx("button",{onClick:Py,style:{flex:"1",minWidth:"150px",padding:"12px",background:"#3498db",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Enter/Edit Manually"})]}),f.find(d=>d.playerCode===se)&&l.jsxs("div",{style:{marginTop:"15px",padding:"15px",background:"rgba(220, 53, 69, 0.1)",borderRadius:"6px",border:"2px solid rgba(220, 53, 69, 0.3)"},children:[l.jsx("div",{style:{marginBottom:"10px",fontWeight:"600",color:"#dc3545"},children:" Danger Zone - Delete Operations"}),l.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[l.jsx("button",{onClick:()=>_r("week"),style:{flex:"1",minWidth:"150px",padding:"12px",background:"#e67e22",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Delete This Week Only"}),l.jsx("button",{onClick:()=>_r("all"),style:{flex:"1",minWidth:"150px",padding:"12px",background:"#c0392b",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Delete ALL Weeks"})]})]})]}),l.jsx("button",{onClick:()=>{hi(!1),yr(""),pi(null),mi(null),gi(!1)},style:{padding:"10px 20px",background:"#95a5a6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Exit Override Mode"})]}):l.jsxs("div",{children:[l.jsx("p",{style:{marginBottom:"15px",fontSize:"0.9rem"},children:" Enter picks on behalf of players who missed the deadline or need assistance. Works even when week is locked."}),l.jsx("button",{onClick:()=>hi(!0),style:{padding:"12px 24px",background:"white",color:"#e74c3c",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:" Enter Override Mode"})]})]}),Ty&&$n&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},children:l.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"30px",maxWidth:"600px",width:"100%",maxHeight:"90vh",overflow:"auto",boxShadow:"0 8px 32px rgba(0,0,0,0.3)"},children:[l.jsx("h3",{style:{marginTop:0,color:"#9b59b6"},children:" RNG PICKS GENERATED"}),l.jsxs("p",{style:{color:"#666",marginBottom:"20px"},children:["Player: ",l.jsx("strong",{children:Ee[se]}),l.jsx("br",{}),"Week: ",l.jsx("strong",{children:a==="wildcard"?"Week 1":a==="divisional"?"Week 2":a==="conference"?"Week 3":"Week 4"})]}),l.jsx("div",{style:{marginBottom:"20px"},children:ve[a].games.map(d=>l.jsxs("div",{style:{padding:"12px",background:"#f8f9fa",borderRadius:"6px",marginBottom:"10px",border:"2px solid #e9ecef"},children:[l.jsxs("div",{style:{fontWeight:"600",marginBottom:"5px",color:"#333"},children:["Game ",d.id,": ",d.team1," vs ",d.team2]}),l.jsxs("div",{style:{fontSize:"1.2rem",fontWeight:"700",color:"#9b59b6"},children:[$n[d.id].team1," - ",$n[d.id].team2,$n[d.id].team1>$n[d.id].team2?` (${d.team1} wins)`:` (${d.team2} wins)`]})]},d.id))}),l.jsxs("div",{style:{background:"#d4edda",border:"1px solid #c3e6cb",color:"#155724",padding:"12px",borderRadius:"6px",marginBottom:"20px",fontSize:"0.9rem"},children:[" All scores between 10-50 (inclusive)",l.jsx("br",{})," No tied games",l.jsx("br",{}),' Will be marked as "POOL_MANAGER_RNG" in database']}),l.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[l.jsx("button",{onClick:Iy,style:{flex:"1",padding:"14px 24px",background:"#28a745",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Submit RNG Picks"}),l.jsx("button",{onClick:gd,style:{flex:"1",padding:"14px 24px",background:"#ffc107",color:"#333",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Regenerate"}),l.jsx("button",{onClick:()=>{gi(!1),mi(null)},style:{padding:"14px 24px",background:"#dc3545",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Cancel"})]})]})}),md&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},children:l.jsx("div",{style:{background:"white",borderRadius:"12px",padding:"30px",maxWidth:"500px",width:"100%",boxShadow:"0 8px 32px rgba(0,0,0,0.3)"},children:md==="week"?l.jsxs(l.Fragment,{children:[l.jsxs("h3",{style:{marginTop:0,color:"#e67e22",display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx("span",{children:""}),l.jsx("span",{children:"DELETE PICKS FOR THIS WEEK?"})]}),l.jsxs("div",{style:{marginBottom:"20px",color:"#666"},children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Player:"})," ",Ee[se]]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Week:"})," ",a==="wildcard"?"Week 1 (Wildcard)":a==="divisional"?"Week 2 (Divisional)":a==="conference"?"Week 3 (Conference)":"Week 4 (Super Bowl)"]})]}),l.jsxs("div",{style:{background:"#fff3cd",border:"1px solid #ffc107",color:"#856404",padding:"15px",borderRadius:"6px",marginBottom:"20px",fontSize:"0.95rem"},children:[l.jsx("strong",{children:" Warning:"})," This will DELETE ",Ee[se],"'s picks for this week only.",l.jsx("br",{}),l.jsx("strong",{children:"This action CANNOT be undone!"})]}),l.jsxs("div",{style:{display:"flex",gap:"10px"},children:[l.jsx("button",{onClick:()=>_r(null),style:{flex:"1",padding:"14px",background:"#95a5a6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Cancel"}),l.jsx("button",{onClick:Ry,style:{flex:"1",padding:"14px",background:"#e67e22",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Yes, Delete This Week"})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("h3",{style:{marginTop:0,color:"#c0392b",display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx("span",{children:""}),l.jsx("span",{children:"DELETE ALL PICKS?"})]}),l.jsx("div",{style:{marginBottom:"20px",color:"#666"},children:l.jsxs("p",{children:[l.jsx("strong",{children:"Player:"})," ",Ee[se]]})}),l.jsxs("div",{style:{background:"#f8d7da",border:"2px solid #dc3545",color:"#721c24",padding:"15px",borderRadius:"6px",marginBottom:"20px",fontSize:"0.95rem"},children:[l.jsx("strong",{children:" DANGER:"})," This will DELETE ALL of ",Ee[se],"'s picks:",l.jsx("br",{}),l.jsx("br",{}),f.filter(d=>d.playerCode===se).map(d=>l.jsxs("div",{style:{marginLeft:"20px"},children:[" ",d.week==="wildcard"?"Week 1":d.week==="divisional"?"Week 2":d.week==="conference"?"Week 3":"Week 4"," picks"]},d.week)),l.jsx("br",{}),l.jsx("strong",{children:"This action CANNOT be undone!"}),l.jsx("br",{}),l.jsx("strong",{children:"Are you absolutely sure?"})]}),l.jsxs("div",{style:{display:"flex",gap:"10px"},children:[l.jsx("button",{onClick:()=>_r(null),style:{flex:"1",padding:"14px",background:"#95a5a6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Cancel"}),l.jsx("button",{onClick:Ay,style:{flex:"1",padding:"14px",background:"#c0392b",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Yes, Delete Everything"})]})]})})}),yi&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},children:l.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"30px",maxWidth:"500px",width:"100%",boxShadow:"0 8px 32px rgba(0,0,0,0.3)"},children:[l.jsxs("h3",{style:{marginTop:0,color:"#e67e22",display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx("span",{children:""}),l.jsx("span",{children:"CLEAR WEEK DATA?"})]}),l.jsx("div",{style:{marginBottom:"20px",color:"#666"},children:l.jsxs("p",{children:[l.jsx("strong",{children:"Week:"})," ",yi==="wildcard"?"Week 1 (Wildcard)":yi==="divisional"?"Week 2 (Divisional)":yi==="conference"?"Week 3 (Conference)":"Week 4 (Super Bowl)"]})}),l.jsxs("div",{style:{background:"#fff3cd",border:"2px solid #ffc107",color:"#856404",padding:"15px",borderRadius:"6px",marginBottom:"20px",fontSize:"0.95rem"},children:[l.jsx("strong",{children:" This will DELETE:"}),l.jsxs("div",{style:{marginLeft:"20px",marginTop:"10px"},children:[" All team names for this week",l.jsx("br",{})," All actual scores for this week",l.jsx("br",{})," All game statuses (FINAL/LIVE) for this week"]}),l.jsx("br",{}),l.jsx("strong",{style:{color:"#d63031"},children:" This will KEEP:"}),l.jsx("div",{style:{marginLeft:"20px",marginTop:"5px"},children:" ALL player picks (NOT deleted!)"}),l.jsx("br",{}),l.jsx("strong",{children:"This action CANNOT be undone!"})]}),l.jsxs("div",{style:{display:"flex",gap:"10px"},children:[l.jsx("button",{onClick:()=>$l(null),style:{flex:"1",padding:"14px",background:"#95a5a6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Cancel"}),l.jsx("button",{onClick:()=>Dy(yi),style:{flex:"1",padding:"14px",background:"#e67e22",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Yes, Clear Week Data"})]})]})}),xe()&&o&&l.jsx(dC,{currentWeek:a,games:ye.games,actualScores:m,teamCodes:S,onScoresFetched:_d,onGameLockToggle:zy,gameLocks:V,espnAutoRefresh:je}),xe()&&o&&l.jsx("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"20px",borderRadius:"8px",marginBottom:"20px",boxShadow:"0 4px 15px rgba(102, 126, 234, 0.4)"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[l.jsxs("div",{children:[l.jsxs("h3",{style:{margin:"0 0 8px 0",display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx("span",{children:""}),l.jsx("span",{children:"POOL MANAGER RNG - Quick Test Data"})]}),l.jsx("p",{style:{margin:0,fontSize:"0.9rem",opacity:.9},children:"Auto-populate teams, scores, and mark games as FINAL for testing"})]}),l.jsx("button",{onClick:$y,style:{padding:"12px 24px",background:"white",color:"#667eea",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"1rem",fontWeight:"700",boxShadow:"0 4px 12px rgba(0,0,0,0.2)",transition:"all 0.3s ease",whiteSpace:"nowrap"},onMouseOver:d=>{d.target.style.transform="translateY(-2px)",d.target.style.boxShadow="0 6px 16px rgba(0,0,0,0.3)"},onMouseOut:d=>{d.target.style.transform="translateY(0)",d.target.style.boxShadow="0 4px 12px rgba(0,0,0,0.2)"},children:" Generate Test Data"})]})}),xe()&&o&&l.jsxs("div",{style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"white",padding:"15px 20px",borderRadius:"8px",marginBottom:"20px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[l.jsxs("h3",{style:{margin:"0 0 15px 0",display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx("span",{children:""}),l.jsx("span",{children:"ALL PLAYER CODES"})]}),l.jsx("div",{style:{background:"rgba(255,255,255,0.95)",padding:"15px",borderRadius:"6px",maxHeight:"300px",overflowY:"auto"},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.9rem"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{background:"#f8f9fa",borderBottom:"2px solid #dee2e6"},children:[l.jsx("th",{style:{padding:"10px",textAlign:"left",color:"#495057",fontWeight:"600"},children:"Player Code"}),l.jsx("th",{style:{padding:"10px",textAlign:"left",color:"#495057",fontWeight:"600"},children:"Player Name"}),l.jsx("th",{style:{padding:"10px",textAlign:"center",color:"#495057",fontWeight:"600"},children:"Role"})]})}),l.jsx("tbody",{children:Object.entries(Ee).sort((d,y)=>{const v=mn.includes(d[0]),k=mn.includes(y[0]);return v&&!k?-1:!v&&k?1:d[1].localeCompare(y[1])}).map(([d,y],v)=>{const k=mn.includes(d);return l.jsxs("tr",{style:{background:v%2===0?"#ffffff":"#f8f9fa",borderBottom:"1px solid #dee2e6"},children:[l.jsx("td",{style:{padding:"10px",color:"#212529",fontFamily:"monospace",fontWeight:"bold",fontSize:"1rem"},children:d}),l.jsx("td",{style:{padding:"10px",color:"#212529"},children:y}),l.jsx("td",{style:{padding:"10px",textAlign:"center"},children:k?l.jsx("span",{style:{padding:"4px 8px",background:"#dc3545",color:"white",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"600"},children:" MANAGER"}):l.jsx("span",{style:{padding:"4px 8px",background:"#28a745",color:"white",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"600"},children:" PLAYER"})})]},d)})})]})}),l.jsxs("p",{style:{fontSize:"0.8rem",marginTop:"12px",marginBottom:"0",opacity:.9},children:[" Total Players: ",Object.keys(Ee).length," | Pool Managers: ",mn.length," | Regular Players: ",Object.keys(Ee).length-mn.length]})]}),o&&l.jsx(xC,{currentWeek:a,onWeekChange:Hy,weekPicks:Ey,weekLockStatus:A,hasUnsavedChanges:yt,isPoolManager:xe()}),o&&l.jsxs("div",{className:"view-navigation",children:[l.jsxs("button",{className:`nav-btn ${t==="picks"?"active":""}`,onClick:()=>e("picks"),children:[" Make Picks",t==="picks"&&l.jsx("span",{style:{marginLeft:"8px",fontSize:"0.75rem",opacity:.9,fontStyle:"italic"},children:"(you are here)"})]}),l.jsxs("button",{className:`nav-btn ${t==="standings"?"active":""}`,onClick:()=>e("standings"),children:[" Standings & Prizes",t==="standings"&&l.jsx("span",{style:{marginLeft:"8px",fontSize:"0.75rem",opacity:.9,fontStyle:"italic"},children:"(you are here)"})]})]}),t==="standings"&&o?l.jsx(uC,{allPicks:f,actualScores:m,currentWeek:a,playerName:n,playerCode:i,isPoolManager:xe(),prizePool:Me,officialWinners:vt,onLogout:Vy}):l.jsxs(l.Fragment,{children:[o?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"player-confirmed",children:[l.jsx("span",{className:"confirmation-badge",children:" VERIFIED"}),l.jsxs("h3",{children:["Welcome, ",l.jsx("span",{className:"player-name-highlight",children:n}),"!",xe()&&l.jsx("span",{style:{marginLeft:"10px",color:"#d63031"},children:" POOL MANAGER"})]}),l.jsxs("p",{style:{color:"#000"},children:["Making picks for: ",l.jsx("strong",{children:ye.name})]}),Wt(a)&&!xe()&&l.jsx("div",{style:{marginTop:"10px",padding:"10px 15px",background:"#fff3cd",border:"2px solid #ffc107",borderRadius:"6px",color:"#856404",fontWeight:"600"},children:" This week is LOCKED - You can view your picks but cannot edit them"}),l.jsx("button",{className:"validate-btn",style:{marginTop:"15px",padding:"10px 20px",fontSize:"0.9rem"},onClick:()=>{c(!1),s(""),r(""),h({})},children:" Logout / Switch Entry"}),l.jsx("p",{style:{fontSize:"0.85rem",color:"#666",marginTop:"10px",fontStyle:"italic"},children:" Playing with multiple entries? Logout to switch between your codes."})]}),!_i()&&l.jsx("div",{className:"closed-warning",children:" PICKS ARE LOCKED (Playoff Weekend: Friday 11:59 PM - Monday 12:01 AM PST)"}),l.jsxs("div",{className:"prediction-form",children:[vr==="manual"?l.jsxs("h2",{style:{color:"#e74c3c"},children:[" OVERRIDE MODE: Entering Picks for ",Ee[se]]}):l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"15px"},children:[l.jsx("h2",{style:{margin:0},children:"Enter Your Predictions"}),!Wt(a)&&l.jsx("button",{type:"button",onClick:Wy,style:{padding:"10px 20px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"0.95rem",fontWeight:"600",boxShadow:"0 4px 15px rgba(102, 126, 234, 0.4)",transition:"all 0.3s ease"},onMouseOver:d=>{d.target.style.transform="translateY(-2px)",d.target.style.boxShadow="0 6px 20px rgba(102, 126, 234, 0.6)"},onMouseOut:d=>{d.target.style.transform="translateY(0)",d.target.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)"},children:" Quick RNG Pick - Auto-fill all games"})]}),l.jsxs("div",{className:"progress-indicator",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[l.jsx("strong",{children:"Progress:"}),l.jsxs("span",{children:[Object.keys(p).filter(d=>p[d].team1&&p[d].team2).length," of ",ye.games.length," games completed"]})]}),l.jsx("div",{className:"progress-bar",children:l.jsxs("div",{className:"progress-fill",style:{width:`${Object.keys(p).filter(d=>p[d].team1&&p[d].team2).length/ye.games.length*100}%`},children:[Math.round(Object.keys(p).filter(d=>p[d].team1&&p[d].team2).length/ye.games.length*100),"%"]})})]}),l.jsxs("form",{onSubmit:vr==="manual"?jy:Ed,children:[ye.games.map(d=>{var y,v,k,b,P,T;return l.jsxs("div",{className:"game-prediction",children:[l.jsxs("h3",{children:["Game ",d.id,": ",d.team1," @ ",d.team2,((y=S[a])==null?void 0:y[d.id])&&l.jsxs("span",{style:{fontSize:"0.9rem",color:"#666",marginLeft:"10px"},children:["(",S[a][d.id].team1||"?"," @ ",S[a][d.id].team2||"?",")"]})]}),((v=m[a])==null?void 0:v[d.id])&&l.jsxs("div",{style:{padding:"10px 15px",background:"#ffffff",border:"3px solid #4caf50",borderRadius:"6px",marginBottom:"12px",fontSize:"1rem"},children:[l.jsx("strong",{style:{color:"#000",fontSize:"1.05rem"},children:"Actual Score:"})," ",l.jsxs("span",{style:{color:"#000",fontWeight:"700",fontSize:"1.1rem"},children:[m[a][d.id].team1||"-"," - ",m[a][d.id].team2||"-"]}),((k=N[a])==null?void 0:k[d.id])==="final"&&l.jsx("span",{style:{marginLeft:"10px",padding:"2px 8px",background:"#4caf50",color:"white",borderRadius:"4px",fontSize:"0.8rem",fontWeight:"bold"},children:" FINAL"}),((b=N[a])==null?void 0:b[d.id])==="live"&&l.jsx("span",{style:{marginLeft:"10px",padding:"2px 8px",background:"#ff9800",color:"white",borderRadius:"4px",fontSize:"0.8rem",fontWeight:"bold"},children:" LIVE"})]}),l.jsxs("div",{className:"score-inputs",children:[l.jsxs("div",{className:"team-score",children:[l.jsxs("label",{children:[l.jsx("span",{className:"team-designation",children:"AWAY TEAM"}),l.jsx("span",{className:"team-name-label",style:{color:"#ffffff",fontWeight:"700"},children:d.team1})]}),l.jsx("input",{type:"number",min:"0",max:"99",value:((P=p[d.id])==null?void 0:P.team1)||"",onChange:O=>xd(d.id,"team1",O.target.value),placeholder:"0",required:!0,disabled:Wt(a)},`${d.id}-team1-${n}`)]}),l.jsx("div",{className:"vs",children:"VS"}),l.jsxs("div",{className:"team-score",children:[l.jsxs("label",{children:[l.jsx("span",{className:"team-designation",children:"HOME TEAM"}),l.jsx("span",{className:"team-name-label",style:{color:"#ffffff",fontWeight:"700"},children:d.team2})]}),l.jsx("input",{type:"number",min:"0",max:"99",value:((T=p[d.id])==null?void 0:T.team2)||"",onChange:O=>xd(d.id,"team2",O.target.value),placeholder:"0",required:!0,disabled:Wt(a)},`${d.id}-team2-${n}`)]})]})]},d.id)}),l.jsxs("div",{style:{display:"flex",gap:"15px",marginTop:"20px"},children:[l.jsx("button",{type:"submit",className:"submit-btn",disabled:vr==="manual"?!1:!_i()||Wt(a),style:vr==="manual"?{background:"#e74c3c",fontSize:"1.1rem",fontWeight:"700",flex:"1"}:{flex:"1"},children:vr==="manual"?` Submit for ${Ee[se]}`:Wt(a)&&!xe()?" Week Locked - Cannot Edit Picks":_i()?" Submit / Update My Picks":" Submissions Locked (Playoff Weekend)"}),!Wt(a)&&vr!=="manual"&&l.jsx("button",{type:"button",onClick:Gy,style:{padding:"15px 30px",background:"#6c757d",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"1.1rem",fontWeight:"600",transition:"all 0.3s ease",flex:"0 0 auto",minWidth:"150px"},onMouseOver:d=>{d.target.style.background="#5a6268"},onMouseOut:d=>{d.target.style.background="#6c757d"},children:" Cancel"})]}),_i()&&!Wt(a)&&l.jsx("p",{style:{textAlign:"center",marginTop:"15px",color:"#666",fontSize:"0.9rem"},children:"You can edit and resubmit your picks as many times as you want until Friday 11:59 PM PST (before game weekends)"})]})]})]}):l.jsx("div",{className:"prediction-form",children:l.jsxs("div",{className:"code-entry-section",children:[l.jsx("h3",{children:" Enter Your Player Code"}),l.jsx("p",{style:{marginBottom:"20px",color:"#666"},children:"You received a 6-character code when you paid your $20 entry fee."}),l.jsx("p",{style:{marginBottom:"20px",color:"#666",fontSize:"0.9rem",fontStyle:"italic"},children:" Have multiple entries? Enter one code at a time."}),l.jsxs("div",{className:"code-input-group",children:[l.jsx("label",{htmlFor:"playerCode",children:"Player Code (6 characters)"}),l.jsx("input",{type:"text",id:"playerCode",className:"code-input",value:i,onChange:d=>s(d.target.value.toUpperCase()),placeholder:"A7K9M2",maxLength:"6",autoComplete:"off",onKeyPress:d=>{d.key==="Enter"&&Cd()}}),l.jsx("button",{className:"validate-btn",onClick:Cd,children:"Validate Code & Continue"}),l.jsxs("div",{style:{marginTop:"20px",padding:"15px",background:"#fff3cd",border:"2px solid #ffc107",borderRadius:"8px",textAlign:"left"},children:[l.jsx("h4",{style:{margin:"0 0 10px 0",color:"#856404"},children:" Entry Fee Payment"}),l.jsxs("p",{style:{margin:"5px 0",fontSize:"0.9rem",color:"#856404"},children:[l.jsx("strong",{children:"Cost:"})," $20 per entry"]}),l.jsxs("p",{style:{margin:"5px 0",fontSize:"0.9rem",color:"#856404"},children:[l.jsx("strong",{children:"Send e-Transfer to:"})," gammoneer2b@gmail.com"]}),l.jsxs("p",{style:{margin:"5px 0",fontSize:"0.9rem",color:"#856404"},children:[l.jsx("strong",{children:"Password:"})," nflpool"]}),l.jsx("p",{style:{margin:"10px 0 5px 0",fontSize:"0.85rem",color:"#856404",fontStyle:"italic"},children:"You will receive your player code after payment is confirmed."})]}),l.jsx("p",{style:{marginTop:"15px",fontSize:"0.9rem",color:"#666",textAlign:"center"},children:"Questions? Contact: gammoneer2b@gmail.com"})]})]})}),l.jsxs("div",{className:"all-picks",children:[l.jsxs("h2",{children:["All Player Picks - ",ye.name,l.jsx("button",{onClick:Yy,style:{marginLeft:"15px",padding:"8px 16px",background:"#4caf50",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Download CSV"}),l.jsx("div",{style:{fontSize:"0.75rem",color:"#666",marginTop:"5px",fontStyle:"italic"},children:" Mobile: Open the DOWNLOADABLE CSV file with Google Sheets (free app) or MS Office EXCEL"}),l.jsx("button",{onClick:()=>window.location.reload(),style:{marginLeft:"10px",padding:"8px 16px",background:"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Refresh Picks Table"})]}),f.filter(d=>d.week===a).length===0?l.jsx("p",{className:"no-picks",children:"No picks submitted yet for this week."}):l.jsx("div",{className:"picks-table-container",children:l.jsxs("table",{className:"picks-table",children:[l.jsxs("thead",{children:[l.jsxs("tr",{children:[l.jsx("th",{rowSpan:"2",children:"Player"}),ye.games.map(d=>{var y,v,k,b,P;return l.jsxs("th",{colSpan:"2",children:["Game ",d.id,l.jsx("br",{}),l.jsxs("small",{style:{color:"#ffffff",fontWeight:"700"},children:[d.team1," @ ",d.team2]}),xe()&&l.jsxs("div",{style:{marginTop:"5px",display:"flex",gap:"5px",justifyContent:"center",alignItems:"center"},children:[l.jsx("input",{type:"text",maxLength:"3",value:((v=(y=S[a])==null?void 0:y[d.id])==null?void 0:v.team1)||"",onChange:T=>wd(d.id,"team1",T.target.value),placeholder:"PIT",style:{width:"45px",padding:"4px",textAlign:"center",fontSize:"0.8rem",fontWeight:"bold",border:"2px solid #667eea",borderRadius:"4px"}}),l.jsx("span",{style:{fontSize:"0.8rem"},children:"@"}),l.jsx("input",{type:"text",maxLength:"3",value:((b=(k=S[a])==null?void 0:k[d.id])==null?void 0:b.team2)||"",onChange:T=>wd(d.id,"team2",T.target.value),placeholder:"BUF",style:{width:"45px",padding:"4px",textAlign:"center",fontSize:"0.8rem",fontWeight:"bold",border:"2px solid #667eea",borderRadius:"4px"}})]}),!xe()&&((P=S[a])==null?void 0:P[d.id])&&l.jsxs("div",{style:{fontSize:"0.8rem",color:"#ffffff",fontWeight:"700",marginTop:"3px"},children:[S[a][d.id].team1||"?"," @ ",S[a][d.id].team2||"?"]})]},d.id)}),l.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#e8f5e9",fontWeight:"bold",color:"#2e7d32",minWidth:"60px",fontSize:"0.75rem",padding:"8px 4px"},children:[l.jsx("div",{style:{marginBottom:"2px"},children:"Correct"}),l.jsx("div",{children:"Picks"})]}),a==="superbowl"?l.jsxs(l.Fragment,{children:[l.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#fff3cd",fontWeight:"bold",color:"#000"},children:[xe()?l.jsxs("div",{style:{marginBottom:"8px"},children:[l.jsx("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000"},children:"OFFICIAL"}),l.jsx("input",{type:"number",min:"0",value:E.superbowl_week4||"",onChange:d=>xr("superbowl_week4",d.target.value),placeholder:"-",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #f39c12",borderRadius:"4px",color:"#000"}})]}):l.jsxs("div",{style:{marginBottom:"8px"},children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:"Official"}),l.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:E.superbowl_week4||"-"})]}),"Week 4",l.jsx("br",{}),"Total"]}),l.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#d1ecf1",fontWeight:"bold",color:"#000"},children:[xe()?l.jsxs("div",{style:{marginBottom:"8px"},children:[l.jsx("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000"},children:"OFFICIAL"}),l.jsx("input",{type:"number",min:"0",value:E.superbowl_week3||"",onChange:d=>xr("superbowl_week3",d.target.value),placeholder:"-",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #f39c12",borderRadius:"4px",color:"#000"}})]}):l.jsxs("div",{style:{marginBottom:"8px"},children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:"Official"}),l.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:E.superbowl_week3||"-"})]}),"Week 3",l.jsx("br",{}),"Total"]}),l.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#d4edda",fontWeight:"bold",color:"#000"},children:[xe()?l.jsxs("div",{style:{marginBottom:"8px"},children:[l.jsx("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000"},children:"OFFICIAL"}),l.jsx("input",{type:"number",min:"0",value:E.superbowl_week2||"",onChange:d=>xr("superbowl_week2",d.target.value),placeholder:"-",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #f39c12",borderRadius:"4px",color:"#000"}})]}):l.jsxs("div",{style:{marginBottom:"8px"},children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:"Official"}),l.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:E.superbowl_week2||"-"})]}),"Week 2",l.jsx("br",{}),"Total"]}),l.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#f8d7da",fontWeight:"bold",color:"#000"},children:[xe()?l.jsxs("div",{style:{marginBottom:"8px"},children:[l.jsx("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000"},children:"OFFICIAL"}),l.jsx("input",{type:"number",min:"0",value:E.superbowl_week1||"",onChange:d=>xr("superbowl_week1",d.target.value),placeholder:"-",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #f39c12",borderRadius:"4px",color:"#000"}})]}):l.jsxs("div",{style:{marginBottom:"8px"},children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:"Official"}),l.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:E.superbowl_week1||"-"})]}),"Week 1",l.jsx("br",{}),"Total"]}),l.jsxs("th",{rowSpan:"2",className:"grand-total",children:[!E.superbowl_grand&&(()=>{const d=ye.games.reduce((y,v)=>{var P,T,O,U;const k=parseInt((T=(P=m[a])==null?void 0:P[v.id])==null?void 0:T.team1)||0,b=parseInt((U=(O=m[a])==null?void 0:O[v.id])==null?void 0:U.team2)||0;return y+k+b},0);return l.jsxs("div",{style:{fontSize:"0.95rem",color:"#ffd700",marginBottom:"8px",fontWeight:"700"},children:["Total: ",d>0?d:"-"]})})(),xe()?l.jsx("div",{style:{marginBottom:"8px"},children:l.jsx("input",{type:"number",min:"0",value:E.superbowl_grand||"",onChange:d=>xr("superbowl_grand",d.target.value),placeholder:"override",style:{width:"70px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"3px solid #f39c12",borderRadius:"4px",backgroundColor:"#fff",color:"#000"}})}):null,E.superbowl_grand&&l.jsxs("div",{style:{marginBottom:"8px"},children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"#fff",marginBottom:"2px"},children:"Official"}),l.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"#fff"},children:E.superbowl_grand})]}),"GRAND",l.jsx("br",{}),"TOTAL"]})]}):l.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#f8f9fa",fontWeight:"bold",color:"#000"},children:[!E[a]&&(()=>{const d=ye.games.reduce((y,v)=>{var P,T,O,U;const k=parseInt((T=(P=m[a])==null?void 0:P[v.id])==null?void 0:T.team1)||0,b=parseInt((U=(O=m[a])==null?void 0:O[v.id])==null?void 0:U.team2)||0;return y+k+b},0);return l.jsxs("div",{style:{fontSize:"0.85rem",color:"#16a085",marginBottom:"6px",fontWeight:"700"},children:["Total: ",d>0?d:"-"]})})(),xe()?l.jsx("div",{style:{marginBottom:"8px"},children:l.jsx("input",{type:"number",min:"0",value:E[a]||"",onChange:d=>xr(a,d.target.value),placeholder:"override",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"0.9rem",fontWeight:"bold",border:"2px solid #f39c12",borderRadius:"4px",color:"#000"}})}):null,E[a]&&l.jsxs("div",{style:{marginBottom:"8px"},children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:"Official"}),l.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:E[a]})]}),"Official",l.jsx("br",{}),"Total"]}),l.jsx("th",{rowSpan:"2",children:"Submitted"})]}),l.jsx("tr",{style:{background:"#ffffff",borderTop:"3px solid #4caf50",borderBottom:"3px solid #4caf50"},children:ye.games.map(d=>{var y,v,k,b,P,T,O,U,L,z,W;return l.jsxs(ba.Fragment,{children:[l.jsx("th",{style:{padding:"8px 4px",background:"#ffffff",borderLeft:"1px solid #ddd"},children:xe()?l.jsxs("div",{children:[l.jsx("input",{type:"number",min:"0",max:"99",value:((v=(y=m[a])==null?void 0:y[d.id])==null?void 0:v.team1)||"",onChange:Q=>Sd(d.id,"team1",Q.target.value),placeholder:"-",style:{width:"50px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #4caf50",borderRadius:"4px",color:"#000",background:"#f0fff0"}}),l.jsx("div",{style:{fontSize:"0.75rem",marginTop:"3px",color:"#000",fontWeight:"700"},children:"ACTUAL"})]}):l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#000"},children:((b=(k=m[a])==null?void 0:k[d.id])==null?void 0:b.team1)||"-"}),l.jsx("div",{style:{fontSize:"0.75rem",color:"#000",fontWeight:"700"},children:"ACTUAL"})]})}),l.jsx("th",{style:{padding:"8px 4px",background:"#ffffff",borderRight:"1px solid #ddd"},children:xe()?l.jsxs("div",{children:[l.jsx("input",{type:"number",min:"0",max:"99",value:((T=(P=m[a])==null?void 0:P[d.id])==null?void 0:T.team2)||"",onChange:Q=>Sd(d.id,"team2",Q.target.value),placeholder:"-",style:{width:"50px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #4caf50",borderRadius:"4px",color:"#000",background:"#f0fff0"}}),l.jsx("div",{style:{fontSize:"0.75rem",marginTop:"3px",color:"#000",fontWeight:"700"},children:"ACTUAL"}),l.jsxs("select",{value:((O=N[a])==null?void 0:O[d.id])||"",onChange:Q=>By(d.id,Q.target.value),style:{width:"60px",padding:"2px",fontSize:"0.7rem",marginTop:"4px",borderRadius:"3px",border:"1px solid #999"},children:[l.jsx("option",{value:"",children:"--"}),l.jsx("option",{value:"live",children:" LIVE"}),l.jsx("option",{value:"final",children:" FINAL"})]})]}):l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#000"},children:((L=(U=m[a])==null?void 0:U[d.id])==null?void 0:L.team2)||"-"}),l.jsx("div",{style:{fontSize:"0.75rem",color:"#000",fontWeight:"700"},children:"ACTUAL"}),((z=N[a])==null?void 0:z[d.id])==="final"&&l.jsx("div",{style:{display:"inline-block",padding:"2px 6px",background:"#4caf50",color:"white",borderRadius:"3px",fontSize:"0.65rem",fontWeight:"bold",marginTop:"4px"},children:" FINAL"}),((W=N[a])==null?void 0:W[d.id])==="live"&&l.jsx("div",{style:{display:"inline-block",padding:"2px 6px",background:"#ff9800",color:"white",borderRadius:"3px",fontSize:"0.65rem",fontWeight:"bold",marginTop:"4px"},children:" LIVE"})]})})]},`actual-${d.id}`)})})]}),l.jsx("tbody",{children:f.filter(d=>d.week===a).sort((d,y)=>(y.lastUpdated||y.timestamp)-(d.lastUpdated||d.timestamp)).map((d,y)=>{var k,b,P,T,O,U;const v=L=>{var xi;const z=(xi=m[a])==null?void 0:xi[L],W=d.predictions[L];if(!z||!W)return!1;const Q=parseInt(z.team1),te=parseInt(z.team2),ne=parseInt(W.team1),le=parseInt(W.team2);if(isNaN(Q)||isNaN(te))return!1;const be=Q>te?"team1":te>Q?"team2":"tie",$s=ne>le?"team1":le>ne?"team2":"tie";return be===$s&&be!=="tie"};return l.jsxs("tr",{children:[l.jsx("td",{className:"player-name",children:d.playerName}),ye.games.map(L=>{var le,be,$s,xi;const z=d.predictions[L.id],W=(le=m[a])==null?void 0:le[L.id],Q=(be=N[a])==null?void 0:be[L.id],te=yd(z==null?void 0:z.team1,z==null?void 0:z.team2,W==null?void 0:W.team1,W==null?void 0:W.team2,Q,!0),ne=yd(z==null?void 0:z.team1,z==null?void 0:z.team2,W==null?void 0:W.team1,W==null?void 0:W.team2,Q,!1);return l.jsxs(ba.Fragment,{children:[l.jsx("td",{className:"score",style:{background:te.background,color:te.color,fontWeight:te.background!=="transparent"?"bold":"normal"},children:(($s=d.predictions[L.id])==null?void 0:$s.team1)||"-"}),l.jsx("td",{className:"score",style:{background:ne.background,color:ne.color,fontWeight:ne.background!=="transparent"?"bold":"normal"},children:((xi=d.predictions[L.id])==null?void 0:xi.team2)||"-"})]},`${y}-${L.id}`)}),(()=>{let L=0;return ye.games.forEach(z=>{v(z.id)&&L++}),l.jsx("td",{style:{backgroundColor:"#f1f8f4",fontWeight:"bold",fontSize:"1rem",color:L>0?"#2e7d32":"#999",textAlign:"center",padding:"8px 4px"},children:L})})(),a==="superbowl"?l.jsxs(l.Fragment,{children:[l.jsx("td",{style:{backgroundColor:"#fff3cd",fontWeight:"bold",fontSize:"16px"},children:l.jsx("span",{style:{color:"#000"},children:((k=wr[d.playerName])==null?void 0:k.week4)||0})}),l.jsx("td",{style:{backgroundColor:"#d1ecf1",fontWeight:"bold",fontSize:"16px"},children:l.jsx("span",{style:{color:"#000"},children:((b=wr[d.playerName])==null?void 0:b.week3)||0})}),l.jsx("td",{style:{backgroundColor:"#d4edda",fontWeight:"bold",fontSize:"16px"},children:l.jsx("span",{style:{color:"#000"},children:((P=wr[d.playerName])==null?void 0:P.week2)||0})}),l.jsx("td",{style:{backgroundColor:"#f8d7da",fontWeight:"bold",fontSize:"16px"},children:l.jsx("span",{style:{color:"#000"},children:((T=wr[d.playerName])==null?void 0:T.week1)||0})}),l.jsx("td",{className:"grand-total",children:((O=wr[d.playerName])==null?void 0:O.grand)||0})]}):l.jsx("td",{style:{backgroundColor:"#f8f9fa",fontWeight:"bold",fontSize:"16px"},children:l.jsx("span",{style:{color:"#000"},children:((U=wr[d.playerName])==null?void 0:U.current)||0})}),l.jsx("td",{className:"timestamp",children:new Date(d.lastUpdated||d.timestamp).toLocaleString("en-US",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})})]},y)})})]})}),o&&l.jsx("div",{style:{marginTop:"60px"},children:l.jsx(jC,{allPicks:f,actualScores:m,games:ve,officialWinners:vt,weekData:ve})}),o&&xe()&&l.jsxs("div",{style:{marginTop:"40px",marginBottom:"40px"},children:[l.jsxs("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"25px",borderRadius:"12px",marginBottom:"30px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[l.jsxs("h2",{style:{margin:"0 0 15px 0",display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx("span",{children:""}),l.jsx("span",{children:"PRIZE POOL MANAGEMENT"})]}),Me.totalFees>0?l.jsxs("div",{children:[l.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:"20px",borderRadius:"8px",marginBottom:"15px"},children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"20px",marginBottom:"15px"},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.85rem",opacity:.9},children:"Total Pool Fees"}),l.jsxs("div",{style:{fontSize:"1.8rem",fontWeight:"bold"},children:["$",Me.totalFees.toFixed(2)]})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.85rem",opacity:.9},children:"Number of Players"}),l.jsx("div",{style:{fontSize:"1.8rem",fontWeight:"bold"},children:Me.numberOfPlayers})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.85rem",opacity:.9},children:"Each Prize (10%)"}),l.jsxs("div",{style:{fontSize:"1.8rem",fontWeight:"bold"},children:["$",Me.prizeValue.toFixed(2)]})]})]}),l.jsxs("div",{style:{fontSize:"0.85rem",opacity:.8},children:["Entry Fee: $",Me.entryFee," per player"]})]}),l.jsx("button",{onClick:()=>zs(!0),style:{padding:"10px 20px",background:"rgba(255,255,255,0.3)",color:"white",border:"2px solid white",borderRadius:"6px",cursor:"pointer",fontWeight:"600"},children:" Edit Prize Pool Setup"})]}):l.jsxs("div",{children:[l.jsx("p",{style:{marginBottom:"15px"},children:" Set up your prize pool to enable winner declarations."}),l.jsx("button",{onClick:()=>zs(!0),style:{padding:"12px 24px",background:"white",color:"#667eea",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"700",fontSize:"1rem"},children:" Set Up Prize Pool"})]})]}),Me.totalFees>0&&l.jsxs("div",{style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"white",padding:"25px",borderRadius:"12px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[l.jsxs("h2",{style:{margin:"0 0 20px 0",display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx("span",{children:""}),l.jsx("span",{children:"DECLARE PRIZE WINNERS"})]}),l.jsx("button",{onClick:()=>Bl(!0),style:{padding:"14px 28px",background:"white",color:"#f5576c",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"700",fontSize:"1.1rem",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:" Declare Winner(s) for a Prize"}),Object.keys(vt).length>0&&l.jsxs("div",{style:{marginTop:"25px"},children:[l.jsx("h3",{style:{marginBottom:"15px",fontSize:"1.1rem"},children:" Current Prize Winners:"}),l.jsx("div",{style:{background:"rgba(255,255,255,0.2)",padding:"15px",borderRadius:"8px",maxHeight:"400px",overflowY:"auto"},children:Object.entries(vt).sort((d,y)=>{const v=d[1].prizeNumber,k=y[1].prizeNumber;return v-k}).map(([d,y])=>l.jsxs("div",{style:{background:"rgba(255,255,255,0.9)",color:"#333",padding:"15px",borderRadius:"6px",marginBottom:"12px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"10px"},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontWeight:"bold",fontSize:"1rem",marginBottom:"5px"},children:y.prizeName}),l.jsxs("div",{style:{fontSize:"0.9rem",color:"#666"},children:["Prize Value: $",y.prizeValue.toFixed(2)]})]}),l.jsx("button",{onClick:()=>My(y.prizeNumber),style:{padding:"6px 12px",background:"#e74c3c",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.85rem",fontWeight:"600"},children:" Delete"})]}),l.jsx("div",{style:{paddingLeft:"15px"},children:y.winners.map((v,k)=>l.jsxs("div",{style:{padding:"8px 0",borderBottom:k<y.winners.length-1?"1px solid #eee":"none"},children:[l.jsxs("span",{style:{fontWeight:"600"},children:[" ",v.playerName]}),l.jsxs("span",{style:{marginLeft:"15px",color:"#666"},children:[v.percentage.toFixed(2),"% = $",v.amount.toFixed(2)]})]},k))})]},d))})]})]})]}),Sy&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},children:l.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"30px",maxWidth:"600px",width:"100%",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 8px 32px rgba(0,0,0,0.3)"},children:[l.jsx("h2",{style:{marginTop:0,color:"#667eea"},children:" Prize Pool Setup"}),l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Total Pool Fees Collected:"}),l.jsx("input",{type:"number",id:"totalFees",defaultValue:Me.totalFees||"",placeholder:"1000",style:{width:"100%",padding:"12px",fontSize:"1.1rem",border:"2px solid #667eea",borderRadius:"6px"}}),l.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginTop:"5px"},children:"Total money collected from all players"})]}),l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Number of Players:"}),l.jsx("input",{type:"number",id:"numberOfPlayers",defaultValue:Me.numberOfPlayers||"",placeholder:"50",style:{width:"100%",padding:"12px",fontSize:"1.1rem",border:"2px solid #667eea",borderRadius:"6px"}}),l.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginTop:"5px"},children:"Total number of players in the pool"})]}),l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Entry Fee per Player:"}),l.jsx("input",{type:"number",id:"entryFee",defaultValue:Me.entryFee||20,placeholder:"20",style:{width:"100%",padding:"12px",fontSize:"1.1rem",border:"2px solid #667eea",borderRadius:"6px"}}),l.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginTop:"5px"},children:"Amount each player paid to enter ($20, $50, etc.)"})]}),l.jsxs("div",{style:{background:"#f0f8ff",padding:"15px",borderRadius:"8px",marginBottom:"20px"},children:[l.jsx("div",{style:{fontWeight:"600",marginBottom:"10px"},children:" Calculation Preview:"}),l.jsxs("div",{style:{fontSize:"0.9rem",lineHeight:"1.6"},children:["Each Prize = Total Pool  10",l.jsx("br",{}),l.jsx("span",{id:"prizePreview",style:{fontWeight:"bold",color:"#667eea"},children:"Example: $1,000  10 = $100 per prize"})]})]}),l.jsxs("div",{style:{display:"flex",gap:"10px"},children:[l.jsx("button",{onClick:()=>zs(!1),style:{flex:"1",padding:"14px",background:"#95a5a6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Cancel"}),l.jsx("button",{onClick:()=>{const d=document.getElementById("totalFees").value,y=document.getElementById("numberOfPlayers").value,v=document.getElementById("entryFee").value;if(!d||d<=0){alert(" Please enter a valid total pool amount.");return}Oy(d,y,v)},style:{flex:"1",padding:"14px",background:"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Save Prize Pool"})]})]})}),Cy&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},children:l.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"30px",maxWidth:"700px",width:"100%",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 8px 32px rgba(0,0,0,0.3)"},children:[l.jsx("h2",{style:{marginTop:0,color:"#f5576c"},children:" Declare Prize Winner(s)"}),l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Select Prize:"}),l.jsxs("select",{value:Nt,onChange:d=>Fl(d.target.value),style:{width:"100%",padding:"12px",fontSize:"1rem",border:"2px solid #f5576c",borderRadius:"6px"},children:[l.jsx("option",{value:"",children:"-- Select Prize --"}),[1,2,3,4,5,6,7,8,9,10].map(d=>l.jsx("option",{value:d,children:vi(d)},d))]}),Nt&&l.jsxs("div",{style:{marginTop:"8px",fontSize:"0.9rem",color:"#666"},children:["Prize Value: $",Me.prizeValue.toFixed(2)," (10% of pool)"]})]}),Nt&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Number of Winners (Tie?):"}),l.jsx("input",{type:"number",min:"1",max:"10",value:gr,onChange:d=>{const y=parseInt(d.target.value)||1;zl(y),Ws(Array(y).fill(null).map(()=>({name:"",code:""})));const v=Bs(Me.prizeValue,y);di(v)},style:{width:"100%",padding:"12px",fontSize:"1rem",border:"2px solid #f5576c",borderRadius:"6px"}}),l.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginTop:"5px"},children:"How many players are tied? (1 = single winner, 2+ = tie)"})]}),l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("label",{style:{display:"block",marginBottom:"12px",fontWeight:"600"},children:"Select Winner(s):"}),Array(gr).fill(0).map((d,y)=>{var k,b,P;const v=fn?null:Bs(Me.prizeValue,gr)[y];return l.jsxs("div",{style:{background:"#f8f9fa",padding:"15px",borderRadius:"8px",marginBottom:"12px"},children:[l.jsxs("div",{style:{marginBottom:"10px",fontWeight:"600"},children:["Winner ",y+1,":"]}),l.jsxs("select",{value:((k=_t[y])==null?void 0:k.code)||"",onChange:T=>{const O=Object.entries(Ee).find(([L])=>L===T.target.value),U=[..._t];U[y]={code:T.target.value,name:O?O[1]:""},Ws(U)},style:{width:"100%",padding:"10px",fontSize:"1rem",border:"1px solid #ddd",borderRadius:"6px",marginBottom:"8px"},children:[l.jsx("option",{value:"",children:"-- Select Player --"}),Object.entries(Ee).sort((T,O)=>T[1].localeCompare(O[1])).map(([T,O])=>l.jsx("option",{value:T,children:O},T))]}),!fn&&v&&l.jsxs("div",{style:{fontSize:"0.9rem",color:"#666"},children:["Share: ",v.percentage.toFixed(2),"% = $",v.amount.toFixed(2),y===gr-1&&gr>1&&l.jsx("span",{style:{marginLeft:"10px",fontSize:"0.85rem",color:"#f5576c"},children:"(includes extra penny)"})]}),fn&&l.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"8px"},children:[l.jsx("input",{type:"number",placeholder:"%",step:"0.01",value:((b=zt[y])==null?void 0:b.percentage)||"",onChange:T=>{const O=[...zt],U=parseFloat(T.target.value)||0;O[y]={...O[y],percentage:U,amount:Me.prizeValue*U/100},di(O)},style:{flex:"1",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"}}),l.jsx("input",{type:"number",placeholder:"$",step:"0.01",value:((P=zt[y])==null?void 0:P.amount)||"",onChange:T=>{const O=[...zt],U=parseFloat(T.target.value)||0;O[y]={...O[y],amount:U,percentage:U/Me.prizeValue*100},di(O)},style:{flex:"1",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"}})]})]},y)})]}),l.jsx("div",{style:{marginBottom:"20px"},children:l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:fn,onChange:d=>Wl(d.target.checked),style:{width:"18px",height:"18px"}}),l.jsx("span",{style:{fontWeight:"600"},children:"Use custom percentages/amounts (manual override)"})]})}),l.jsxs("div",{style:{background:"#fff3cd",border:"2px solid #ffc107",padding:"15px",borderRadius:"8px",marginBottom:"20px",color:"#000"},children:[l.jsx("div",{style:{fontWeight:"700",marginBottom:"10px",color:"#000",fontSize:"1.05rem"},children:" Summary:"}),_t.every(d=>d.name)?l.jsxs("div",{style:{color:"#000"},children:[_t.map((d,y)=>{const v=fn?zt[y]:Bs(Me.prizeValue,gr)[y];return l.jsxs("div",{style:{marginBottom:"5px",color:"#000",fontWeight:"600"},children:[" ",d.name,": ",v==null?void 0:v.percentage.toFixed(2),"% = $",v==null?void 0:v.amount.toFixed(2)]},y)}),l.jsxs("div",{style:{marginTop:"10px",paddingTop:"10px",borderTop:"2px solid #856404",fontWeight:"700",color:"#000"},children:["Total: ",fn?zt.reduce((d,y)=>d+(y.percentage||0),0).toFixed(2):"100.00","% = $",fn?zt.reduce((d,y)=>d+(y.amount||0),0).toFixed(2):Me.prizeValue.toFixed(2)]})]}):l.jsx("div",{style:{color:"#856404",fontWeight:"600"},children:"Select all winners to see summary"})]})]}),l.jsxs("div",{style:{display:"flex",gap:"10px"},children:[l.jsx("button",{onClick:()=>{Bl(!1),Fl(""),zl(1),Ws([]),Wl(!1),di([])},style:{flex:"1",padding:"14px",background:"#95a5a6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Cancel"}),l.jsx("button",{onClick:Ly,disabled:!Nt||!_t.every(d=>d.name),style:{flex:"1",padding:"14px",background:Nt&&_t.every(d=>d.name)?"#f5576c":"#ccc",color:"white",border:"none",borderRadius:"6px",cursor:Nt&&_t.every(d=>d.name)?"pointer":"not-allowed",fontSize:"1rem",fontWeight:"700"},children:" Declare Winner(s)"})]})]})}),M==="unsavedChanges"&&l.jsx(wC,{currentWeek:ve[a].name,onDiscard:()=>{u(H),Us(H),$(null)},onSaveAndSwitch:async()=>{await Ed(new Event("submit")),setTimeout(()=>{u(H),Us(H),$(null),he(null)},100)},onCancel:()=>{he(null),$(null)}}),M==="discardChanges"&&l.jsx(SC,{onKeepEditing:()=>$(null),onDiscard:()=>{h({...Ul}),Xe(!1),$(null)}}),M==="incomplete"&&l.jsx(CC,{missingGames:Te,totalGames:ye.games.length,onClose:()=>$(null)}),M==="invalidScores"&&l.jsx(EC,{invalidScores:Yt,onClose:()=>$(null)}),M==="success"&&l.jsx(kC,{weekName:ye.name,deadline:ye.deadline,onClose:()=>$(null)}),M==="noChanges"&&l.jsx(NC,{onClose:()=>$(null)}),M==="tiedGames"&&l.jsx(TC,{tiedGames:Te,gameData:ye.games,onClose:()=>$(null)})]})]})]}),l.jsxs("footer",{children:[l.jsx("p",{children:"Richard's NFL Playoff Pool 2025 | Good luck! "}),l.jsx("p",{style:{fontSize:"0.85rem",marginTop:"5px"},children:"Questions? Contact: gammoneer2b@gmail.com"})]})]})}Ia.createRoot(document.getElementById("root")).render(l.jsx(ba.StrictMode,{children:l.jsx(DC,{})}));
