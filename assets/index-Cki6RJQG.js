(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function s0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Cp={exports:{}},Ol={},Np={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qi=Symbol.for("react.element"),i0=Symbol.for("react.portal"),o0=Symbol.for("react.fragment"),l0=Symbol.for("react.strict_mode"),a0=Symbol.for("react.profiler"),c0=Symbol.for("react.provider"),d0=Symbol.for("react.context"),u0=Symbol.for("react.forward_ref"),h0=Symbol.for("react.suspense"),f0=Symbol.for("react.memo"),p0=Symbol.for("react.lazy"),kh=Symbol.iterator;function m0(t){return t===null||typeof t!="object"?null:(t=kh&&t[kh]||t["@@iterator"],typeof t=="function"?t:null)}var Ep={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jp=Object.assign,Tp={};function Ss(t,e,n){this.props=t,this.context=e,this.refs=Tp,this.updater=n||Ep}Ss.prototype.isReactComponent={};Ss.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ss.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Pp(){}Pp.prototype=Ss.prototype;function Sd(t,e,n){this.props=t,this.context=e,this.refs=Tp,this.updater=n||Ep}var bd=Sd.prototype=new Pp;bd.constructor=Sd;jp(bd,Ss.prototype);bd.isPureReactComponent=!0;var Sh=Array.isArray,Ip=Object.prototype.hasOwnProperty,Cd={current:null},Rp={key:!0,ref:!0,__self:!0,__source:!0};function Ap(t,e,n){var r,s={},o=null,l=null;if(e!=null)for(r in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(o=""+e.key),e)Ip.call(e,r)&&!Rp.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),d=0;d<a;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Qi,type:t,key:o,ref:l,props:s,_owner:Cd.current}}function g0(t,e){return{$$typeof:Qi,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Nd(t){return typeof t=="object"&&t!==null&&t.$$typeof===Qi}function y0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var bh=/\/+/g;function _a(t,e){return typeof t=="object"&&t!==null&&t.key!=null?y0(""+t.key):e.toString(36)}function Oo(t,e,n,r,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Qi:case i0:l=!0}}if(l)return l=t,s=s(l),t=r===""?"."+_a(l,0):r,Sh(s)?(n="",t!=null&&(n=t.replace(bh,"$&/")+"/"),Oo(s,e,n,"",function(d){return d})):s!=null&&(Nd(s)&&(s=g0(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(bh,"$&/")+"/")+t)),e.push(s)),1;if(l=0,r=r===""?".":r+":",Sh(t))for(var a=0;a<t.length;a++){o=t[a];var c=r+_a(o,a);l+=Oo(o,e,n,c,s)}else if(c=m0(t),typeof c=="function")for(t=c.call(t),a=0;!(o=t.next()).done;)o=o.value,c=r+_a(o,a++),l+=Oo(o,e,n,c,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function xo(t,e,n){if(t==null)return t;var r=[],s=0;return Oo(t,r,"","",function(o){return e.call(n,o,s++)}),r}function x0(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ut={current:null},Mo={transition:null},v0={ReactCurrentDispatcher:ut,ReactCurrentBatchConfig:Mo,ReactCurrentOwner:Cd};function Wp(){throw Error("act(...) is not supported in production builds of React.")}ue.Children={map:xo,forEach:function(t,e,n){xo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return xo(t,function(){e++}),e},toArray:function(t){return xo(t,function(e){return e})||[]},only:function(t){if(!Nd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ue.Component=Ss;ue.Fragment=o0;ue.Profiler=a0;ue.PureComponent=Sd;ue.StrictMode=l0;ue.Suspense=h0;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=v0;ue.act=Wp;ue.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=jp({},t.props),s=t.key,o=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,l=Cd.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)Ip.call(e,c)&&!Rp.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var d=0;d<c;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:Qi,type:t.type,key:s,ref:o,props:r,_owner:l}};ue.createContext=function(t){return t={$$typeof:d0,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:c0,_context:t},t.Consumer=t};ue.createElement=Ap;ue.createFactory=function(t){var e=Ap.bind(null,t);return e.type=t,e};ue.createRef=function(){return{current:null}};ue.forwardRef=function(t){return{$$typeof:u0,render:t}};ue.isValidElement=Nd;ue.lazy=function(t){return{$$typeof:p0,_payload:{_status:-1,_result:t},_init:x0}};ue.memo=function(t,e){return{$$typeof:f0,type:t,compare:e===void 0?null:e}};ue.startTransition=function(t){var e=Mo.transition;Mo.transition={};try{t()}finally{Mo.transition=e}};ue.unstable_act=Wp;ue.useCallback=function(t,e){return ut.current.useCallback(t,e)};ue.useContext=function(t){return ut.current.useContext(t)};ue.useDebugValue=function(){};ue.useDeferredValue=function(t){return ut.current.useDeferredValue(t)};ue.useEffect=function(t,e){return ut.current.useEffect(t,e)};ue.useId=function(){return ut.current.useId()};ue.useImperativeHandle=function(t,e,n){return ut.current.useImperativeHandle(t,e,n)};ue.useInsertionEffect=function(t,e){return ut.current.useInsertionEffect(t,e)};ue.useLayoutEffect=function(t,e){return ut.current.useLayoutEffect(t,e)};ue.useMemo=function(t,e){return ut.current.useMemo(t,e)};ue.useReducer=function(t,e,n){return ut.current.useReducer(t,e,n)};ue.useRef=function(t){return ut.current.useRef(t)};ue.useState=function(t){return ut.current.useState(t)};ue.useSyncExternalStore=function(t,e,n){return ut.current.useSyncExternalStore(t,e,n)};ue.useTransition=function(){return ut.current.useTransition()};ue.version="18.3.1";Np.exports=ue;var F=Np.exports;const cc=s0(F);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w0=F,_0=Symbol.for("react.element"),k0=Symbol.for("react.fragment"),S0=Object.prototype.hasOwnProperty,b0=w0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,C0={key:!0,ref:!0,__self:!0,__source:!0};function Dp(t,e,n){var r,s={},o=null,l=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(l=e.ref);for(r in e)S0.call(e,r)&&!C0.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:_0,type:t,key:o,ref:l,props:s,_owner:b0.current}}Ol.Fragment=k0;Ol.jsx=Dp;Ol.jsxs=Dp;Cp.exports=Ol;var i=Cp.exports,dc={},Lp={exports:{}},Ct={},Op={exports:{}},Mp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,ne){var se=$.length;$.push(ne);e:for(;0<se;){var ye=se-1>>>1,Re=$[ye];if(0<s(Re,ne))$[ye]=ne,$[se]=Re,se=ye;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var ne=$[0],se=$.pop();if(se!==ne){$[0]=se;e:for(var ye=0,Re=$.length,ft=Re>>>1;ye<ft;){var Z=2*(ye+1)-1,er=$[Z],xe=Z+1,tr=$[xe];if(0>s(er,se))xe<Re&&0>s(tr,er)?($[ye]=tr,$[xe]=se,ye=xe):($[ye]=er,$[Z]=se,ye=Z);else if(xe<Re&&0>s(tr,se))$[ye]=tr,$[xe]=se,ye=xe;else break e}}return ne}function s($,ne){var se=$.sortIndex-ne.sortIndex;return se!==0?se:$.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,a=l.now();t.unstable_now=function(){return l.now()-a}}var c=[],d=[],p=1,h=null,f=3,k=!1,S=!1,j=!1,T=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C($){for(var ne=n(d);ne!==null;){if(ne.callback===null)r(d);else if(ne.startTime<=$)r(d),ne.sortIndex=ne.expirationTime,e(c,ne);else break;ne=n(d)}}function x($){if(j=!1,C($),!S)if(n(c)!==null)S=!0,H(L);else{var ne=n(d);ne!==null&&le(x,ne.startTime-$)}}function L($,ne){S=!1,j&&(j=!1,_(O),O=-1),k=!0;var se=f;try{for(C(ne),h=n(c);h!==null&&(!(h.expirationTime>ne)||$&&!w());){var ye=h.callback;if(typeof ye=="function"){h.callback=null,f=h.priorityLevel;var Re=ye(h.expirationTime<=ne);ne=t.unstable_now(),typeof Re=="function"?h.callback=Re:h===n(c)&&r(c),C(ne)}else r(c);h=n(c)}if(h!==null)var ft=!0;else{var Z=n(d);Z!==null&&le(x,Z.startTime-ne),ft=!1}return ft}finally{h=null,f=se,k=!1}}var E=!1,W=null,O=-1,R=5,M=-1;function w(){return!(t.unstable_now()-M<R)}function N(){if(W!==null){var $=t.unstable_now();M=$;var ne=!0;try{ne=W(!0,$)}finally{ne?B():(E=!1,W=null)}}else E=!1}var B;if(typeof g=="function")B=function(){g(N)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,K=q.port2;q.port1.onmessage=N,B=function(){K.postMessage(null)}}else B=function(){T(N,0)};function H($){W=$,E||(E=!0,B())}function le($,ne){O=T(function(){$(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){S||k||(S=!0,H(L))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function($){switch(f){case 1:case 2:case 3:var ne=3;break;default:ne=f}var se=f;f=ne;try{return $()}finally{f=se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,ne){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var se=f;f=$;try{return ne()}finally{f=se}},t.unstable_scheduleCallback=function($,ne,se){var ye=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?ye+se:ye):se=ye,$){case 1:var Re=-1;break;case 2:Re=250;break;case 5:Re=1073741823;break;case 4:Re=1e4;break;default:Re=5e3}return Re=se+Re,$={id:p++,callback:ne,priorityLevel:$,startTime:se,expirationTime:Re,sortIndex:-1},se>ye?($.sortIndex=se,e(d,$),n(c)===null&&$===n(d)&&(j?(_(O),O=-1):j=!0,le(x,se-ye))):($.sortIndex=Re,e(c,$),S||k||(S=!0,H(L))),$},t.unstable_shouldYield=w,t.unstable_wrapCallback=function($){var ne=f;return function(){var se=f;f=ne;try{return $.apply(this,arguments)}finally{f=se}}}})(Mp);Op.exports=Mp;var N0=Op.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E0=F,bt=N0;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zp=new Set,wi={};function br(t,e){ds(t,e),ds(t+"Capture",e)}function ds(t,e){for(wi[t]=e,t=0;t<e.length;t++)zp.add(e[t])}var hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uc=Object.prototype.hasOwnProperty,j0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ch={},Nh={};function T0(t){return uc.call(Nh,t)?!0:uc.call(Ch,t)?!1:j0.test(t)?Nh[t]=!0:(Ch[t]=!0,!1)}function P0(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function I0(t,e,n,r){if(e===null||typeof e>"u"||P0(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ht(t,e,n,r,s,o,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=l}var Ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ze[t]=new ht(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ze[e]=new ht(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ze[t]=new ht(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ze[t]=new ht(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ze[t]=new ht(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ze[t]=new ht(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ze[t]=new ht(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ze[t]=new ht(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ze[t]=new ht(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ed=/[\-:]([a-z])/g;function jd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ed,jd);Ze[e]=new ht(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ed,jd);Ze[e]=new ht(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ed,jd);Ze[e]=new ht(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ze[t]=new ht(t,1,!1,t.toLowerCase(),null,!1,!1)});Ze.xlinkHref=new ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ze[t]=new ht(t,1,!1,t.toLowerCase(),null,!0,!0)});function Td(t,e,n,r){var s=Ze.hasOwnProperty(e)?Ze[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(I0(e,n,s,r)&&(n=null),r||s===null?T0(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var xn=E0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vo=Symbol.for("react.element"),$r=Symbol.for("react.portal"),Ur=Symbol.for("react.fragment"),Pd=Symbol.for("react.strict_mode"),hc=Symbol.for("react.profiler"),Fp=Symbol.for("react.provider"),Bp=Symbol.for("react.context"),Id=Symbol.for("react.forward_ref"),fc=Symbol.for("react.suspense"),pc=Symbol.for("react.suspense_list"),Rd=Symbol.for("react.memo"),Nn=Symbol.for("react.lazy"),$p=Symbol.for("react.offscreen"),Eh=Symbol.iterator;function Us(t){return t===null||typeof t!="object"?null:(t=Eh&&t[Eh]||t["@@iterator"],typeof t=="function"?t:null)}var De=Object.assign,ka;function ni(t){if(ka===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ka=e&&e[1]||""}return`
`+ka+t}var Sa=!1;function ba(t,e){if(!t||Sa)return"";Sa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),o=r.stack.split(`
`),l=s.length-1,a=o.length-1;1<=l&&0<=a&&s[l]!==o[a];)a--;for(;1<=l&&0<=a;l--,a--)if(s[l]!==o[a]){if(l!==1||a!==1)do if(l--,a--,0>a||s[l]!==o[a]){var c=`
`+s[l].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=l&&0<=a);break}}}finally{Sa=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ni(t):""}function R0(t){switch(t.tag){case 5:return ni(t.type);case 16:return ni("Lazy");case 13:return ni("Suspense");case 19:return ni("SuspenseList");case 0:case 2:case 15:return t=ba(t.type,!1),t;case 11:return t=ba(t.type.render,!1),t;case 1:return t=ba(t.type,!0),t;default:return""}}function mc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ur:return"Fragment";case $r:return"Portal";case hc:return"Profiler";case Pd:return"StrictMode";case fc:return"Suspense";case pc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Bp:return(t.displayName||"Context")+".Consumer";case Fp:return(t._context.displayName||"Context")+".Provider";case Id:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Rd:return e=t.displayName||null,e!==null?e:mc(t.type)||"Memo";case Nn:e=t._payload,t=t._init;try{return mc(t(e))}catch{}}return null}function A0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mc(e);case 8:return e===Pd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Hn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Up(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function W0(t){var e=Up(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(l){r=""+l,o.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function wo(t){t._valueTracker||(t._valueTracker=W0(t))}function Gp(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Up(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Xo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function gc(t,e){var n=e.checked;return De({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function jh(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Hn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Hp(t,e){e=e.checked,e!=null&&Td(t,"checked",e,!1)}function yc(t,e){Hp(t,e);var n=Hn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?xc(t,e.type,n):e.hasOwnProperty("defaultValue")&&xc(t,e.type,Hn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Th(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function xc(t,e,n){(e!=="number"||Xo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ri=Array.isArray;function ts(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Hn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function vc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return De({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ph(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(ri(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Hn(n)}}function Vp(t,e){var n=Hn(e.value),r=Hn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ih(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Yp(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Yp(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var _o,Kp=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(_o=_o||document.createElement("div"),_o.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=_o.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function _i(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var oi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},D0=["Webkit","ms","Moz","O"];Object.keys(oi).forEach(function(t){D0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),oi[e]=oi[t]})});function Qp(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||oi.hasOwnProperty(t)&&oi[t]?(""+e).trim():e+"px"}function Xp(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Qp(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var L0=De({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _c(t,e){if(e){if(L0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function kc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sc=null;function Ad(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var bc=null,ns=null,rs=null;function Rh(t){if(t=Ji(t)){if(typeof bc!="function")throw Error(U(280));var e=t.stateNode;e&&(e=$l(e),bc(t.stateNode,t.type,e))}}function qp(t){ns?rs?rs.push(t):rs=[t]:ns=t}function Jp(){if(ns){var t=ns,e=rs;if(rs=ns=null,Rh(t),e)for(t=0;t<e.length;t++)Rh(e[t])}}function Zp(t,e){return t(e)}function em(){}var Ca=!1;function tm(t,e,n){if(Ca)return t(e,n);Ca=!0;try{return Zp(t,e,n)}finally{Ca=!1,(ns!==null||rs!==null)&&(em(),Jp())}}function ki(t,e){var n=t.stateNode;if(n===null)return null;var r=$l(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var Cc=!1;if(hn)try{var Gs={};Object.defineProperty(Gs,"passive",{get:function(){Cc=!0}}),window.addEventListener("test",Gs,Gs),window.removeEventListener("test",Gs,Gs)}catch{Cc=!1}function O0(t,e,n,r,s,o,l,a,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(p){this.onError(p)}}var li=!1,qo=null,Jo=!1,Nc=null,M0={onError:function(t){li=!0,qo=t}};function z0(t,e,n,r,s,o,l,a,c){li=!1,qo=null,O0.apply(M0,arguments)}function F0(t,e,n,r,s,o,l,a,c){if(z0.apply(this,arguments),li){if(li){var d=qo;li=!1,qo=null}else throw Error(U(198));Jo||(Jo=!0,Nc=d)}}function Cr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function nm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ah(t){if(Cr(t)!==t)throw Error(U(188))}function B0(t){var e=t.alternate;if(!e){if(e=Cr(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return Ah(s),t;if(o===r)return Ah(s),e;o=o.sibling}throw Error(U(188))}if(n.return!==r.return)n=s,r=o;else{for(var l=!1,a=s.child;a;){if(a===n){l=!0,n=s,r=o;break}if(a===r){l=!0,r=s,n=o;break}a=a.sibling}if(!l){for(a=o.child;a;){if(a===n){l=!0,n=o,r=s;break}if(a===r){l=!0,r=o,n=s;break}a=a.sibling}if(!l)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function rm(t){return t=B0(t),t!==null?sm(t):null}function sm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=sm(t);if(e!==null)return e;t=t.sibling}return null}var im=bt.unstable_scheduleCallback,Wh=bt.unstable_cancelCallback,$0=bt.unstable_shouldYield,U0=bt.unstable_requestPaint,ze=bt.unstable_now,G0=bt.unstable_getCurrentPriorityLevel,Wd=bt.unstable_ImmediatePriority,om=bt.unstable_UserBlockingPriority,Zo=bt.unstable_NormalPriority,H0=bt.unstable_LowPriority,lm=bt.unstable_IdlePriority,Ml=null,Zt=null;function V0(t){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(Ml,t,void 0,(t.current.flags&128)===128)}catch{}}var Gt=Math.clz32?Math.clz32:Q0,Y0=Math.log,K0=Math.LN2;function Q0(t){return t>>>=0,t===0?32:31-(Y0(t)/K0|0)|0}var ko=64,So=4194304;function si(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function el(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,o=t.pingedLanes,l=n&268435455;if(l!==0){var a=l&~s;a!==0?r=si(a):(o&=l,o!==0&&(r=si(o)))}else l=n&~s,l!==0?r=si(l):o!==0&&(r=si(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Gt(e),s=1<<n,r|=t[n],e&=~s;return r}function X0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function q0(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var l=31-Gt(o),a=1<<l,c=s[l];c===-1?(!(a&n)||a&r)&&(s[l]=X0(a,e)):c<=e&&(t.expiredLanes|=a),o&=~a}}function Ec(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function am(){var t=ko;return ko<<=1,!(ko&4194240)&&(ko=64),t}function Na(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Xi(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Gt(e),t[e]=n}function J0(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Gt(n),o=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~o}}function Dd(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Gt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ve=0;function cm(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var dm,Ld,um,hm,fm,jc=!1,bo=[],An=null,Wn=null,Dn=null,Si=new Map,bi=new Map,jn=[],Z0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dh(t,e){switch(t){case"focusin":case"focusout":An=null;break;case"dragenter":case"dragleave":Wn=null;break;case"mouseover":case"mouseout":Dn=null;break;case"pointerover":case"pointerout":Si.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":bi.delete(e.pointerId)}}function Hs(t,e,n,r,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},e!==null&&(e=Ji(e),e!==null&&Ld(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function ev(t,e,n,r,s){switch(e){case"focusin":return An=Hs(An,t,e,n,r,s),!0;case"dragenter":return Wn=Hs(Wn,t,e,n,r,s),!0;case"mouseover":return Dn=Hs(Dn,t,e,n,r,s),!0;case"pointerover":var o=s.pointerId;return Si.set(o,Hs(Si.get(o)||null,t,e,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,bi.set(o,Hs(bi.get(o)||null,t,e,n,r,s)),!0}return!1}function pm(t){var e=ar(t.target);if(e!==null){var n=Cr(e);if(n!==null){if(e=n.tag,e===13){if(e=nm(n),e!==null){t.blockedOn=e,fm(t.priority,function(){um(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Tc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Sc=r,n.target.dispatchEvent(r),Sc=null}else return e=Ji(n),e!==null&&Ld(e),t.blockedOn=n,!1;e.shift()}return!0}function Lh(t,e,n){zo(t)&&n.delete(e)}function tv(){jc=!1,An!==null&&zo(An)&&(An=null),Wn!==null&&zo(Wn)&&(Wn=null),Dn!==null&&zo(Dn)&&(Dn=null),Si.forEach(Lh),bi.forEach(Lh)}function Vs(t,e){t.blockedOn===e&&(t.blockedOn=null,jc||(jc=!0,bt.unstable_scheduleCallback(bt.unstable_NormalPriority,tv)))}function Ci(t){function e(s){return Vs(s,t)}if(0<bo.length){Vs(bo[0],t);for(var n=1;n<bo.length;n++){var r=bo[n];r.blockedOn===t&&(r.blockedOn=null)}}for(An!==null&&Vs(An,t),Wn!==null&&Vs(Wn,t),Dn!==null&&Vs(Dn,t),Si.forEach(e),bi.forEach(e),n=0;n<jn.length;n++)r=jn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<jn.length&&(n=jn[0],n.blockedOn===null);)pm(n),n.blockedOn===null&&jn.shift()}var ss=xn.ReactCurrentBatchConfig,tl=!0;function nv(t,e,n,r){var s=ve,o=ss.transition;ss.transition=null;try{ve=1,Od(t,e,n,r)}finally{ve=s,ss.transition=o}}function rv(t,e,n,r){var s=ve,o=ss.transition;ss.transition=null;try{ve=4,Od(t,e,n,r)}finally{ve=s,ss.transition=o}}function Od(t,e,n,r){if(tl){var s=Tc(t,e,n,r);if(s===null)La(t,e,r,nl,n),Dh(t,r);else if(ev(s,t,e,n,r))r.stopPropagation();else if(Dh(t,r),e&4&&-1<Z0.indexOf(t)){for(;s!==null;){var o=Ji(s);if(o!==null&&dm(o),o=Tc(t,e,n,r),o===null&&La(t,e,r,nl,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else La(t,e,r,null,n)}}var nl=null;function Tc(t,e,n,r){if(nl=null,t=Ad(r),t=ar(t),t!==null)if(e=Cr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=nm(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return nl=t,null}function mm(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(G0()){case Wd:return 1;case om:return 4;case Zo:case H0:return 16;case lm:return 536870912;default:return 16}default:return 16}}var Pn=null,Md=null,Fo=null;function gm(){if(Fo)return Fo;var t,e=Md,n=e.length,r,s="value"in Pn?Pn.value:Pn.textContent,o=s.length;for(t=0;t<n&&e[t]===s[t];t++);var l=n-t;for(r=1;r<=l&&e[n-r]===s[o-r];r++);return Fo=s.slice(t,1<r?1-r:void 0)}function Bo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Co(){return!0}function Oh(){return!1}function Nt(t){function e(n,r,s,o,l){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Co:Oh,this.isPropagationStopped=Oh,this}return De(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Co)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Co)},persist:function(){},isPersistent:Co}),e}var bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zd=Nt(bs),qi=De({},bs,{view:0,detail:0}),sv=Nt(qi),Ea,ja,Ys,zl=De({},qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ys&&(Ys&&t.type==="mousemove"?(Ea=t.screenX-Ys.screenX,ja=t.screenY-Ys.screenY):ja=Ea=0,Ys=t),Ea)},movementY:function(t){return"movementY"in t?t.movementY:ja}}),Mh=Nt(zl),iv=De({},zl,{dataTransfer:0}),ov=Nt(iv),lv=De({},qi,{relatedTarget:0}),Ta=Nt(lv),av=De({},bs,{animationName:0,elapsedTime:0,pseudoElement:0}),cv=Nt(av),dv=De({},bs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),uv=Nt(dv),hv=De({},bs,{data:0}),zh=Nt(hv),fv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gv(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=mv[t])?!!e[t]:!1}function Fd(){return gv}var yv=De({},qi,{key:function(t){if(t.key){var e=fv[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Bo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fd,charCode:function(t){return t.type==="keypress"?Bo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xv=Nt(yv),vv=De({},zl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fh=Nt(vv),wv=De({},qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fd}),_v=Nt(wv),kv=De({},bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sv=Nt(kv),bv=De({},zl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Cv=Nt(bv),Nv=[9,13,27,32],Bd=hn&&"CompositionEvent"in window,ai=null;hn&&"documentMode"in document&&(ai=document.documentMode);var Ev=hn&&"TextEvent"in window&&!ai,ym=hn&&(!Bd||ai&&8<ai&&11>=ai),Bh=" ",$h=!1;function xm(t,e){switch(t){case"keyup":return Nv.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Gr=!1;function jv(t,e){switch(t){case"compositionend":return vm(e);case"keypress":return e.which!==32?null:($h=!0,Bh);case"textInput":return t=e.data,t===Bh&&$h?null:t;default:return null}}function Tv(t,e){if(Gr)return t==="compositionend"||!Bd&&xm(t,e)?(t=gm(),Fo=Md=Pn=null,Gr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ym&&e.locale!=="ko"?null:e.data;default:return null}}var Pv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Pv[t.type]:e==="textarea"}function wm(t,e,n,r){qp(r),e=rl(e,"onChange"),0<e.length&&(n=new zd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ci=null,Ni=null;function Iv(t){Im(t,0)}function Fl(t){var e=Yr(t);if(Gp(e))return t}function Rv(t,e){if(t==="change")return e}var _m=!1;if(hn){var Pa;if(hn){var Ia="oninput"in document;if(!Ia){var Gh=document.createElement("div");Gh.setAttribute("oninput","return;"),Ia=typeof Gh.oninput=="function"}Pa=Ia}else Pa=!1;_m=Pa&&(!document.documentMode||9<document.documentMode)}function Hh(){ci&&(ci.detachEvent("onpropertychange",km),Ni=ci=null)}function km(t){if(t.propertyName==="value"&&Fl(Ni)){var e=[];wm(e,Ni,t,Ad(t)),tm(Iv,e)}}function Av(t,e,n){t==="focusin"?(Hh(),ci=e,Ni=n,ci.attachEvent("onpropertychange",km)):t==="focusout"&&Hh()}function Wv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fl(Ni)}function Dv(t,e){if(t==="click")return Fl(e)}function Lv(t,e){if(t==="input"||t==="change")return Fl(e)}function Ov(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Yt=typeof Object.is=="function"?Object.is:Ov;function Ei(t,e){if(Yt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!uc.call(e,s)||!Yt(t[s],e[s]))return!1}return!0}function Vh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yh(t,e){var n=Vh(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Vh(n)}}function Sm(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Sm(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function bm(){for(var t=window,e=Xo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Xo(t.document)}return e}function $d(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Mv(t){var e=bm(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Sm(n.ownerDocument.documentElement,n)){if(r!==null&&$d(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!t.extend&&o>r&&(s=r,r=o,o=s),s=Yh(n,o);var l=Yh(n,r);s&&l&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var zv=hn&&"documentMode"in document&&11>=document.documentMode,Hr=null,Pc=null,di=null,Ic=!1;function Kh(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ic||Hr==null||Hr!==Xo(r)||(r=Hr,"selectionStart"in r&&$d(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),di&&Ei(di,r)||(di=r,r=rl(Pc,"onSelect"),0<r.length&&(e=new zd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Hr)))}function No(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Vr={animationend:No("Animation","AnimationEnd"),animationiteration:No("Animation","AnimationIteration"),animationstart:No("Animation","AnimationStart"),transitionend:No("Transition","TransitionEnd")},Ra={},Cm={};hn&&(Cm=document.createElement("div").style,"AnimationEvent"in window||(delete Vr.animationend.animation,delete Vr.animationiteration.animation,delete Vr.animationstart.animation),"TransitionEvent"in window||delete Vr.transitionend.transition);function Bl(t){if(Ra[t])return Ra[t];if(!Vr[t])return t;var e=Vr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Cm)return Ra[t]=e[n];return t}var Nm=Bl("animationend"),Em=Bl("animationiteration"),jm=Bl("animationstart"),Tm=Bl("transitionend"),Pm=new Map,Qh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qn(t,e){Pm.set(t,e),br(e,[t])}for(var Aa=0;Aa<Qh.length;Aa++){var Wa=Qh[Aa],Fv=Wa.toLowerCase(),Bv=Wa[0].toUpperCase()+Wa.slice(1);qn(Fv,"on"+Bv)}qn(Nm,"onAnimationEnd");qn(Em,"onAnimationIteration");qn(jm,"onAnimationStart");qn("dblclick","onDoubleClick");qn("focusin","onFocus");qn("focusout","onBlur");qn(Tm,"onTransitionEnd");ds("onMouseEnter",["mouseout","mouseover"]);ds("onMouseLeave",["mouseout","mouseover"]);ds("onPointerEnter",["pointerout","pointerover"]);ds("onPointerLeave",["pointerout","pointerover"]);br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));br("onBeforeInput",["compositionend","keypress","textInput","paste"]);br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ii="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$v=new Set("cancel close invalid load scroll toggle".split(" ").concat(ii));function Xh(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,F0(r,e,void 0,t),t.currentTarget=null}function Im(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var l=r.length-1;0<=l;l--){var a=r[l],c=a.instance,d=a.currentTarget;if(a=a.listener,c!==o&&s.isPropagationStopped())break e;Xh(s,a,d),o=c}else for(l=0;l<r.length;l++){if(a=r[l],c=a.instance,d=a.currentTarget,a=a.listener,c!==o&&s.isPropagationStopped())break e;Xh(s,a,d),o=c}}}if(Jo)throw t=Nc,Jo=!1,Nc=null,t}function je(t,e){var n=e[Lc];n===void 0&&(n=e[Lc]=new Set);var r=t+"__bubble";n.has(r)||(Rm(e,t,2,!1),n.add(r))}function Da(t,e,n){var r=0;e&&(r|=4),Rm(n,t,r,e)}var Eo="_reactListening"+Math.random().toString(36).slice(2);function ji(t){if(!t[Eo]){t[Eo]=!0,zp.forEach(function(n){n!=="selectionchange"&&($v.has(n)||Da(n,!1,t),Da(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Eo]||(e[Eo]=!0,Da("selectionchange",!1,e))}}function Rm(t,e,n,r){switch(mm(e)){case 1:var s=nv;break;case 4:s=rv;break;default:s=Od}n=s.bind(null,e,n,t),s=void 0,!Cc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function La(t,e,n,r,s){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(l===4)for(l=r.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;l=l.return}for(;a!==null;){if(l=ar(a),l===null)return;if(c=l.tag,c===5||c===6){r=o=l;continue e}a=a.parentNode}}r=r.return}tm(function(){var d=o,p=Ad(n),h=[];e:{var f=Pm.get(t);if(f!==void 0){var k=zd,S=t;switch(t){case"keypress":if(Bo(n)===0)break e;case"keydown":case"keyup":k=xv;break;case"focusin":S="focus",k=Ta;break;case"focusout":S="blur",k=Ta;break;case"beforeblur":case"afterblur":k=Ta;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=Mh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=ov;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=_v;break;case Nm:case Em:case jm:k=cv;break;case Tm:k=Sv;break;case"scroll":k=sv;break;case"wheel":k=Cv;break;case"copy":case"cut":case"paste":k=uv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Fh}var j=(e&4)!==0,T=!j&&t==="scroll",_=j?f!==null?f+"Capture":null:f;j=[];for(var g=d,C;g!==null;){C=g;var x=C.stateNode;if(C.tag===5&&x!==null&&(C=x,_!==null&&(x=ki(g,_),x!=null&&j.push(Ti(g,x,C)))),T)break;g=g.return}0<j.length&&(f=new k(f,S,null,n,p),h.push({event:f,listeners:j}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",f&&n!==Sc&&(S=n.relatedTarget||n.fromElement)&&(ar(S)||S[fn]))break e;if((k||f)&&(f=p.window===p?p:(f=p.ownerDocument)?f.defaultView||f.parentWindow:window,k?(S=n.relatedTarget||n.toElement,k=d,S=S?ar(S):null,S!==null&&(T=Cr(S),S!==T||S.tag!==5&&S.tag!==6)&&(S=null)):(k=null,S=d),k!==S)){if(j=Mh,x="onMouseLeave",_="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(j=Fh,x="onPointerLeave",_="onPointerEnter",g="pointer"),T=k==null?f:Yr(k),C=S==null?f:Yr(S),f=new j(x,g+"leave",k,n,p),f.target=T,f.relatedTarget=C,x=null,ar(p)===d&&(j=new j(_,g+"enter",S,n,p),j.target=C,j.relatedTarget=T,x=j),T=x,k&&S)t:{for(j=k,_=S,g=0,C=j;C;C=Mr(C))g++;for(C=0,x=_;x;x=Mr(x))C++;for(;0<g-C;)j=Mr(j),g--;for(;0<C-g;)_=Mr(_),C--;for(;g--;){if(j===_||_!==null&&j===_.alternate)break t;j=Mr(j),_=Mr(_)}j=null}else j=null;k!==null&&qh(h,f,k,j,!1),S!==null&&T!==null&&qh(h,T,S,j,!0)}}e:{if(f=d?Yr(d):window,k=f.nodeName&&f.nodeName.toLowerCase(),k==="select"||k==="input"&&f.type==="file")var L=Rv;else if(Uh(f))if(_m)L=Lv;else{L=Wv;var E=Av}else(k=f.nodeName)&&k.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(L=Dv);if(L&&(L=L(t,d))){wm(h,L,n,p);break e}E&&E(t,f,d),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&xc(f,"number",f.value)}switch(E=d?Yr(d):window,t){case"focusin":(Uh(E)||E.contentEditable==="true")&&(Hr=E,Pc=d,di=null);break;case"focusout":di=Pc=Hr=null;break;case"mousedown":Ic=!0;break;case"contextmenu":case"mouseup":case"dragend":Ic=!1,Kh(h,n,p);break;case"selectionchange":if(zv)break;case"keydown":case"keyup":Kh(h,n,p)}var W;if(Bd)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Gr?xm(t,n)&&(O="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(ym&&n.locale!=="ko"&&(Gr||O!=="onCompositionStart"?O==="onCompositionEnd"&&Gr&&(W=gm()):(Pn=p,Md="value"in Pn?Pn.value:Pn.textContent,Gr=!0)),E=rl(d,O),0<E.length&&(O=new zh(O,t,null,n,p),h.push({event:O,listeners:E}),W?O.data=W:(W=vm(n),W!==null&&(O.data=W)))),(W=Ev?jv(t,n):Tv(t,n))&&(d=rl(d,"onBeforeInput"),0<d.length&&(p=new zh("onBeforeInput","beforeinput",null,n,p),h.push({event:p,listeners:d}),p.data=W))}Im(h,e)})}function Ti(t,e,n){return{instance:t,listener:e,currentTarget:n}}function rl(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=ki(t,n),o!=null&&r.unshift(Ti(t,o,s)),o=ki(t,e),o!=null&&r.push(Ti(t,o,s))),t=t.return}return r}function Mr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function qh(t,e,n,r,s){for(var o=e._reactName,l=[];n!==null&&n!==r;){var a=n,c=a.alternate,d=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&d!==null&&(a=d,s?(c=ki(n,o),c!=null&&l.unshift(Ti(n,c,a))):s||(c=ki(n,o),c!=null&&l.push(Ti(n,c,a)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var Uv=/\r\n?/g,Gv=/\u0000|\uFFFD/g;function Jh(t){return(typeof t=="string"?t:""+t).replace(Uv,`
`).replace(Gv,"")}function jo(t,e,n){if(e=Jh(e),Jh(t)!==e&&n)throw Error(U(425))}function sl(){}var Rc=null,Ac=null;function Wc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Dc=typeof setTimeout=="function"?setTimeout:void 0,Hv=typeof clearTimeout=="function"?clearTimeout:void 0,Zh=typeof Promise=="function"?Promise:void 0,Vv=typeof queueMicrotask=="function"?queueMicrotask:typeof Zh<"u"?function(t){return Zh.resolve(null).then(t).catch(Yv)}:Dc;function Yv(t){setTimeout(function(){throw t})}function Oa(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ci(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ci(e)}function Ln(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ef(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Cs=Math.random().toString(36).slice(2),Jt="__reactFiber$"+Cs,Pi="__reactProps$"+Cs,fn="__reactContainer$"+Cs,Lc="__reactEvents$"+Cs,Kv="__reactListeners$"+Cs,Qv="__reactHandles$"+Cs;function ar(t){var e=t[Jt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[fn]||n[Jt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ef(t);t!==null;){if(n=t[Jt])return n;t=ef(t)}return e}t=n,n=t.parentNode}return null}function Ji(t){return t=t[Jt]||t[fn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Yr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function $l(t){return t[Pi]||null}var Oc=[],Kr=-1;function Jn(t){return{current:t}}function Pe(t){0>Kr||(t.current=Oc[Kr],Oc[Kr]=null,Kr--)}function Ne(t,e){Kr++,Oc[Kr]=t.current,t.current=e}var Vn={},it=Jn(Vn),xt=Jn(!1),pr=Vn;function us(t,e){var n=t.type.contextTypes;if(!n)return Vn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function vt(t){return t=t.childContextTypes,t!=null}function il(){Pe(xt),Pe(it)}function tf(t,e,n){if(it.current!==Vn)throw Error(U(168));Ne(it,e),Ne(xt,n)}function Am(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(U(108,A0(t)||"Unknown",s));return De({},n,r)}function ol(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Vn,pr=it.current,Ne(it,t),Ne(xt,xt.current),!0}function nf(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=Am(t,e,pr),r.__reactInternalMemoizedMergedChildContext=t,Pe(xt),Pe(it),Ne(it,t)):Pe(xt),Ne(xt,n)}var on=null,Ul=!1,Ma=!1;function Wm(t){on===null?on=[t]:on.push(t)}function Xv(t){Ul=!0,Wm(t)}function Zn(){if(!Ma&&on!==null){Ma=!0;var t=0,e=ve;try{var n=on;for(ve=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}on=null,Ul=!1}catch(s){throw on!==null&&(on=on.slice(t+1)),im(Wd,Zn),s}finally{ve=e,Ma=!1}}return null}var Qr=[],Xr=0,ll=null,al=0,Tt=[],Pt=0,mr=null,ln=1,an="";function sr(t,e){Qr[Xr++]=al,Qr[Xr++]=ll,ll=t,al=e}function Dm(t,e,n){Tt[Pt++]=ln,Tt[Pt++]=an,Tt[Pt++]=mr,mr=t;var r=ln;t=an;var s=32-Gt(r)-1;r&=~(1<<s),n+=1;var o=32-Gt(e)+s;if(30<o){var l=s-s%5;o=(r&(1<<l)-1).toString(32),r>>=l,s-=l,ln=1<<32-Gt(e)+s|n<<s|r,an=o+t}else ln=1<<o|n<<s|r,an=t}function Ud(t){t.return!==null&&(sr(t,1),Dm(t,1,0))}function Gd(t){for(;t===ll;)ll=Qr[--Xr],Qr[Xr]=null,al=Qr[--Xr],Qr[Xr]=null;for(;t===mr;)mr=Tt[--Pt],Tt[Pt]=null,an=Tt[--Pt],Tt[Pt]=null,ln=Tt[--Pt],Tt[Pt]=null}var St=null,kt=null,Ie=!1,Bt=null;function Lm(t,e){var n=It(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function rf(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,St=t,kt=Ln(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,St=t,kt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=mr!==null?{id:ln,overflow:an}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=It(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,St=t,kt=null,!0):!1;default:return!1}}function Mc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function zc(t){if(Ie){var e=kt;if(e){var n=e;if(!rf(t,e)){if(Mc(t))throw Error(U(418));e=Ln(n.nextSibling);var r=St;e&&rf(t,e)?Lm(r,n):(t.flags=t.flags&-4097|2,Ie=!1,St=t)}}else{if(Mc(t))throw Error(U(418));t.flags=t.flags&-4097|2,Ie=!1,St=t}}}function sf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;St=t}function To(t){if(t!==St)return!1;if(!Ie)return sf(t),Ie=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Wc(t.type,t.memoizedProps)),e&&(e=kt)){if(Mc(t))throw Om(),Error(U(418));for(;e;)Lm(t,e),e=Ln(e.nextSibling)}if(sf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){kt=Ln(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}kt=null}}else kt=St?Ln(t.stateNode.nextSibling):null;return!0}function Om(){for(var t=kt;t;)t=Ln(t.nextSibling)}function hs(){kt=St=null,Ie=!1}function Hd(t){Bt===null?Bt=[t]:Bt.push(t)}var qv=xn.ReactCurrentBatchConfig;function Ks(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var s=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(l){var a=s.refs;l===null?delete a[o]:a[o]=l},e._stringRef=o,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function Po(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function of(t){var e=t._init;return e(t._payload)}function Mm(t){function e(_,g){if(t){var C=_.deletions;C===null?(_.deletions=[g],_.flags|=16):C.push(g)}}function n(_,g){if(!t)return null;for(;g!==null;)e(_,g),g=g.sibling;return null}function r(_,g){for(_=new Map;g!==null;)g.key!==null?_.set(g.key,g):_.set(g.index,g),g=g.sibling;return _}function s(_,g){return _=Fn(_,g),_.index=0,_.sibling=null,_}function o(_,g,C){return _.index=C,t?(C=_.alternate,C!==null?(C=C.index,C<g?(_.flags|=2,g):C):(_.flags|=2,g)):(_.flags|=1048576,g)}function l(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,g,C,x){return g===null||g.tag!==6?(g=Ha(C,_.mode,x),g.return=_,g):(g=s(g,C),g.return=_,g)}function c(_,g,C,x){var L=C.type;return L===Ur?p(_,g,C.props.children,x,C.key):g!==null&&(g.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Nn&&of(L)===g.type)?(x=s(g,C.props),x.ref=Ks(_,g,C),x.return=_,x):(x=Ko(C.type,C.key,C.props,null,_.mode,x),x.ref=Ks(_,g,C),x.return=_,x)}function d(_,g,C,x){return g===null||g.tag!==4||g.stateNode.containerInfo!==C.containerInfo||g.stateNode.implementation!==C.implementation?(g=Va(C,_.mode,x),g.return=_,g):(g=s(g,C.children||[]),g.return=_,g)}function p(_,g,C,x,L){return g===null||g.tag!==7?(g=fr(C,_.mode,x,L),g.return=_,g):(g=s(g,C),g.return=_,g)}function h(_,g,C){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Ha(""+g,_.mode,C),g.return=_,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case vo:return C=Ko(g.type,g.key,g.props,null,_.mode,C),C.ref=Ks(_,null,g),C.return=_,C;case $r:return g=Va(g,_.mode,C),g.return=_,g;case Nn:var x=g._init;return h(_,x(g._payload),C)}if(ri(g)||Us(g))return g=fr(g,_.mode,C,null),g.return=_,g;Po(_,g)}return null}function f(_,g,C,x){var L=g!==null?g.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return L!==null?null:a(_,g,""+C,x);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case vo:return C.key===L?c(_,g,C,x):null;case $r:return C.key===L?d(_,g,C,x):null;case Nn:return L=C._init,f(_,g,L(C._payload),x)}if(ri(C)||Us(C))return L!==null?null:p(_,g,C,x,null);Po(_,C)}return null}function k(_,g,C,x,L){if(typeof x=="string"&&x!==""||typeof x=="number")return _=_.get(C)||null,a(g,_,""+x,L);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case vo:return _=_.get(x.key===null?C:x.key)||null,c(g,_,x,L);case $r:return _=_.get(x.key===null?C:x.key)||null,d(g,_,x,L);case Nn:var E=x._init;return k(_,g,C,E(x._payload),L)}if(ri(x)||Us(x))return _=_.get(C)||null,p(g,_,x,L,null);Po(g,x)}return null}function S(_,g,C,x){for(var L=null,E=null,W=g,O=g=0,R=null;W!==null&&O<C.length;O++){W.index>O?(R=W,W=null):R=W.sibling;var M=f(_,W,C[O],x);if(M===null){W===null&&(W=R);break}t&&W&&M.alternate===null&&e(_,W),g=o(M,g,O),E===null?L=M:E.sibling=M,E=M,W=R}if(O===C.length)return n(_,W),Ie&&sr(_,O),L;if(W===null){for(;O<C.length;O++)W=h(_,C[O],x),W!==null&&(g=o(W,g,O),E===null?L=W:E.sibling=W,E=W);return Ie&&sr(_,O),L}for(W=r(_,W);O<C.length;O++)R=k(W,_,O,C[O],x),R!==null&&(t&&R.alternate!==null&&W.delete(R.key===null?O:R.key),g=o(R,g,O),E===null?L=R:E.sibling=R,E=R);return t&&W.forEach(function(w){return e(_,w)}),Ie&&sr(_,O),L}function j(_,g,C,x){var L=Us(C);if(typeof L!="function")throw Error(U(150));if(C=L.call(C),C==null)throw Error(U(151));for(var E=L=null,W=g,O=g=0,R=null,M=C.next();W!==null&&!M.done;O++,M=C.next()){W.index>O?(R=W,W=null):R=W.sibling;var w=f(_,W,M.value,x);if(w===null){W===null&&(W=R);break}t&&W&&w.alternate===null&&e(_,W),g=o(w,g,O),E===null?L=w:E.sibling=w,E=w,W=R}if(M.done)return n(_,W),Ie&&sr(_,O),L;if(W===null){for(;!M.done;O++,M=C.next())M=h(_,M.value,x),M!==null&&(g=o(M,g,O),E===null?L=M:E.sibling=M,E=M);return Ie&&sr(_,O),L}for(W=r(_,W);!M.done;O++,M=C.next())M=k(W,_,O,M.value,x),M!==null&&(t&&M.alternate!==null&&W.delete(M.key===null?O:M.key),g=o(M,g,O),E===null?L=M:E.sibling=M,E=M);return t&&W.forEach(function(N){return e(_,N)}),Ie&&sr(_,O),L}function T(_,g,C,x){if(typeof C=="object"&&C!==null&&C.type===Ur&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case vo:e:{for(var L=C.key,E=g;E!==null;){if(E.key===L){if(L=C.type,L===Ur){if(E.tag===7){n(_,E.sibling),g=s(E,C.props.children),g.return=_,_=g;break e}}else if(E.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Nn&&of(L)===E.type){n(_,E.sibling),g=s(E,C.props),g.ref=Ks(_,E,C),g.return=_,_=g;break e}n(_,E);break}else e(_,E);E=E.sibling}C.type===Ur?(g=fr(C.props.children,_.mode,x,C.key),g.return=_,_=g):(x=Ko(C.type,C.key,C.props,null,_.mode,x),x.ref=Ks(_,g,C),x.return=_,_=x)}return l(_);case $r:e:{for(E=C.key;g!==null;){if(g.key===E)if(g.tag===4&&g.stateNode.containerInfo===C.containerInfo&&g.stateNode.implementation===C.implementation){n(_,g.sibling),g=s(g,C.children||[]),g.return=_,_=g;break e}else{n(_,g);break}else e(_,g);g=g.sibling}g=Va(C,_.mode,x),g.return=_,_=g}return l(_);case Nn:return E=C._init,T(_,g,E(C._payload),x)}if(ri(C))return S(_,g,C,x);if(Us(C))return j(_,g,C,x);Po(_,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,g!==null&&g.tag===6?(n(_,g.sibling),g=s(g,C),g.return=_,_=g):(n(_,g),g=Ha(C,_.mode,x),g.return=_,_=g),l(_)):n(_,g)}return T}var fs=Mm(!0),zm=Mm(!1),cl=Jn(null),dl=null,qr=null,Vd=null;function Yd(){Vd=qr=dl=null}function Kd(t){var e=cl.current;Pe(cl),t._currentValue=e}function Fc(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function is(t,e){dl=t,Vd=qr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(gt=!0),t.firstContext=null)}function Wt(t){var e=t._currentValue;if(Vd!==t)if(t={context:t,memoizedValue:e,next:null},qr===null){if(dl===null)throw Error(U(308));qr=t,dl.dependencies={lanes:0,firstContext:t}}else qr=qr.next=t;return e}var cr=null;function Qd(t){cr===null?cr=[t]:cr.push(t)}function Fm(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Qd(e)):(n.next=s.next,s.next=n),e.interleaved=n,pn(t,r)}function pn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var En=!1;function Xd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function dn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function On(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,fe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,pn(t,n)}return s=r.interleaved,s===null?(e.next=e,Qd(r)):(e.next=s.next,s.next=e),r.interleaved=e,pn(t,n)}function $o(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dd(t,n)}}function lf(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=l:o=o.next=l,n=n.next}while(n!==null);o===null?s=o=e:o=o.next=e}else s=o=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ul(t,e,n,r){var s=t.updateQueue;En=!1;var o=s.firstBaseUpdate,l=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,d=c.next;c.next=null,l===null?o=d:l.next=d,l=c;var p=t.alternate;p!==null&&(p=p.updateQueue,a=p.lastBaseUpdate,a!==l&&(a===null?p.firstBaseUpdate=d:a.next=d,p.lastBaseUpdate=c))}if(o!==null){var h=s.baseState;l=0,p=d=c=null,a=o;do{var f=a.lane,k=a.eventTime;if((r&f)===f){p!==null&&(p=p.next={eventTime:k,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var S=t,j=a;switch(f=e,k=n,j.tag){case 1:if(S=j.payload,typeof S=="function"){h=S.call(k,h,f);break e}h=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=j.payload,f=typeof S=="function"?S.call(k,h,f):S,f==null)break e;h=De({},h,f);break e;case 2:En=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else k={eventTime:k,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},p===null?(d=p=k,c=h):p=p.next=k,l|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(p===null&&(c=h),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=p,e=s.shared.interleaved,e!==null){s=e;do l|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);yr|=l,t.lanes=l,t.memoizedState=h}}function af(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(U(191,s));s.call(r)}}}var Zi={},en=Jn(Zi),Ii=Jn(Zi),Ri=Jn(Zi);function dr(t){if(t===Zi)throw Error(U(174));return t}function qd(t,e){switch(Ne(Ri,e),Ne(Ii,t),Ne(en,Zi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:wc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=wc(e,t)}Pe(en),Ne(en,e)}function ps(){Pe(en),Pe(Ii),Pe(Ri)}function $m(t){dr(Ri.current);var e=dr(en.current),n=wc(e,t.type);e!==n&&(Ne(Ii,t),Ne(en,n))}function Jd(t){Ii.current===t&&(Pe(en),Pe(Ii))}var Ae=Jn(0);function hl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var za=[];function Zd(){for(var t=0;t<za.length;t++)za[t]._workInProgressVersionPrimary=null;za.length=0}var Uo=xn.ReactCurrentDispatcher,Fa=xn.ReactCurrentBatchConfig,gr=0,We=null,Be=null,Ye=null,fl=!1,ui=!1,Ai=0,Jv=0;function nt(){throw Error(U(321))}function eu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Yt(t[n],e[n]))return!1;return!0}function tu(t,e,n,r,s,o){if(gr=o,We=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Uo.current=t===null||t.memoizedState===null?nw:rw,t=n(r,s),ui){o=0;do{if(ui=!1,Ai=0,25<=o)throw Error(U(301));o+=1,Ye=Be=null,e.updateQueue=null,Uo.current=sw,t=n(r,s)}while(ui)}if(Uo.current=pl,e=Be!==null&&Be.next!==null,gr=0,Ye=Be=We=null,fl=!1,e)throw Error(U(300));return t}function nu(){var t=Ai!==0;return Ai=0,t}function qt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?We.memoizedState=Ye=t:Ye=Ye.next=t,Ye}function Dt(){if(Be===null){var t=We.alternate;t=t!==null?t.memoizedState:null}else t=Be.next;var e=Ye===null?We.memoizedState:Ye.next;if(e!==null)Ye=e,Be=t;else{if(t===null)throw Error(U(310));Be=t,t={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},Ye===null?We.memoizedState=Ye=t:Ye=Ye.next=t}return Ye}function Wi(t,e){return typeof e=="function"?e(t):e}function Ba(t){var e=Dt(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=Be,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var l=s.next;s.next=o.next,o.next=l}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var a=l=null,c=null,d=o;do{var p=d.lane;if((gr&p)===p)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var h={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(a=c=h,l=r):c=c.next=h,We.lanes|=p,yr|=p}d=d.next}while(d!==null&&d!==o);c===null?l=r:c.next=a,Yt(r,e.memoizedState)||(gt=!0),e.memoizedState=r,e.baseState=l,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do o=s.lane,We.lanes|=o,yr|=o,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function $a(t){var e=Dt(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,o=e.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do o=t(o,l.action),l=l.next;while(l!==s);Yt(o,e.memoizedState)||(gt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Um(){}function Gm(t,e){var n=We,r=Dt(),s=e(),o=!Yt(r.memoizedState,s);if(o&&(r.memoizedState=s,gt=!0),r=r.queue,ru(Ym.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Ye!==null&&Ye.memoizedState.tag&1){if(n.flags|=2048,Di(9,Vm.bind(null,n,r,s,e),void 0,null),Qe===null)throw Error(U(349));gr&30||Hm(n,e,s)}return s}function Hm(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Vm(t,e,n,r){e.value=n,e.getSnapshot=r,Km(e)&&Qm(t)}function Ym(t,e,n){return n(function(){Km(e)&&Qm(t)})}function Km(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Yt(t,n)}catch{return!0}}function Qm(t){var e=pn(t,1);e!==null&&Ht(e,t,1,-1)}function cf(t){var e=qt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:t},e.queue=t,t=t.dispatch=tw.bind(null,We,t),[e.memoizedState,t]}function Di(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Xm(){return Dt().memoizedState}function Go(t,e,n,r){var s=qt();We.flags|=t,s.memoizedState=Di(1|e,n,void 0,r===void 0?null:r)}function Gl(t,e,n,r){var s=Dt();r=r===void 0?null:r;var o=void 0;if(Be!==null){var l=Be.memoizedState;if(o=l.destroy,r!==null&&eu(r,l.deps)){s.memoizedState=Di(e,n,o,r);return}}We.flags|=t,s.memoizedState=Di(1|e,n,o,r)}function df(t,e){return Go(8390656,8,t,e)}function ru(t,e){return Gl(2048,8,t,e)}function qm(t,e){return Gl(4,2,t,e)}function Jm(t,e){return Gl(4,4,t,e)}function Zm(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function eg(t,e,n){return n=n!=null?n.concat([t]):null,Gl(4,4,Zm.bind(null,e,t),n)}function su(){}function tg(t,e){var n=Dt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&eu(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ng(t,e){var n=Dt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&eu(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function rg(t,e,n){return gr&21?(Yt(n,e)||(n=am(),We.lanes|=n,yr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,gt=!0),t.memoizedState=n)}function Zv(t,e){var n=ve;ve=n!==0&&4>n?n:4,t(!0);var r=Fa.transition;Fa.transition={};try{t(!1),e()}finally{ve=n,Fa.transition=r}}function sg(){return Dt().memoizedState}function ew(t,e,n){var r=zn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ig(t))og(e,n);else if(n=Fm(t,e,n,r),n!==null){var s=ct();Ht(n,t,r,s),lg(n,e,r)}}function tw(t,e,n){var r=zn(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ig(t))og(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var l=e.lastRenderedState,a=o(l,n);if(s.hasEagerState=!0,s.eagerState=a,Yt(a,l)){var c=e.interleaved;c===null?(s.next=s,Qd(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=Fm(t,e,s,r),n!==null&&(s=ct(),Ht(n,t,r,s),lg(n,e,r))}}function ig(t){var e=t.alternate;return t===We||e!==null&&e===We}function og(t,e){ui=fl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function lg(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dd(t,n)}}var pl={readContext:Wt,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useInsertionEffect:nt,useLayoutEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useMutableSource:nt,useSyncExternalStore:nt,useId:nt,unstable_isNewReconciler:!1},nw={readContext:Wt,useCallback:function(t,e){return qt().memoizedState=[t,e===void 0?null:e],t},useContext:Wt,useEffect:df,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Go(4194308,4,Zm.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Go(4194308,4,t,e)},useInsertionEffect:function(t,e){return Go(4,2,t,e)},useMemo:function(t,e){var n=qt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=qt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=ew.bind(null,We,t),[r.memoizedState,t]},useRef:function(t){var e=qt();return t={current:t},e.memoizedState=t},useState:cf,useDebugValue:su,useDeferredValue:function(t){return qt().memoizedState=t},useTransition:function(){var t=cf(!1),e=t[0];return t=Zv.bind(null,t[1]),qt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=We,s=qt();if(Ie){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),Qe===null)throw Error(U(349));gr&30||Hm(r,e,n)}s.memoizedState=n;var o={value:n,getSnapshot:e};return s.queue=o,df(Ym.bind(null,r,o,t),[t]),r.flags|=2048,Di(9,Vm.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=qt(),e=Qe.identifierPrefix;if(Ie){var n=an,r=ln;n=(r&~(1<<32-Gt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ai++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Jv++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},rw={readContext:Wt,useCallback:tg,useContext:Wt,useEffect:ru,useImperativeHandle:eg,useInsertionEffect:qm,useLayoutEffect:Jm,useMemo:ng,useReducer:Ba,useRef:Xm,useState:function(){return Ba(Wi)},useDebugValue:su,useDeferredValue:function(t){var e=Dt();return rg(e,Be.memoizedState,t)},useTransition:function(){var t=Ba(Wi)[0],e=Dt().memoizedState;return[t,e]},useMutableSource:Um,useSyncExternalStore:Gm,useId:sg,unstable_isNewReconciler:!1},sw={readContext:Wt,useCallback:tg,useContext:Wt,useEffect:ru,useImperativeHandle:eg,useInsertionEffect:qm,useLayoutEffect:Jm,useMemo:ng,useReducer:$a,useRef:Xm,useState:function(){return $a(Wi)},useDebugValue:su,useDeferredValue:function(t){var e=Dt();return Be===null?e.memoizedState=t:rg(e,Be.memoizedState,t)},useTransition:function(){var t=$a(Wi)[0],e=Dt().memoizedState;return[t,e]},useMutableSource:Um,useSyncExternalStore:Gm,useId:sg,unstable_isNewReconciler:!1};function zt(t,e){if(t&&t.defaultProps){e=De({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Bc(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:De({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Hl={isMounted:function(t){return(t=t._reactInternals)?Cr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ct(),s=zn(t),o=dn(r,s);o.payload=e,n!=null&&(o.callback=n),e=On(t,o,s),e!==null&&(Ht(e,t,s,r),$o(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ct(),s=zn(t),o=dn(r,s);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=On(t,o,s),e!==null&&(Ht(e,t,s,r),$o(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ct(),r=zn(t),s=dn(n,r);s.tag=2,e!=null&&(s.callback=e),e=On(t,s,r),e!==null&&(Ht(e,t,r,n),$o(e,t,r))}};function uf(t,e,n,r,s,o,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,l):e.prototype&&e.prototype.isPureReactComponent?!Ei(n,r)||!Ei(s,o):!0}function ag(t,e,n){var r=!1,s=Vn,o=e.contextType;return typeof o=="object"&&o!==null?o=Wt(o):(s=vt(e)?pr:it.current,r=e.contextTypes,o=(r=r!=null)?us(t,s):Vn),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Hl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function hf(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Hl.enqueueReplaceState(e,e.state,null)}function $c(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Xd(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=Wt(o):(o=vt(e)?pr:it.current,s.context=us(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Bc(t,e,o,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Hl.enqueueReplaceState(s,s.state,null),ul(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ms(t,e){try{var n="",r=e;do n+=R0(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function Ua(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Uc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var iw=typeof WeakMap=="function"?WeakMap:Map;function cg(t,e,n){n=dn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){gl||(gl=!0,Zc=r),Uc(t,e)},n}function dg(t,e,n){n=dn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Uc(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Uc(t,e),typeof r!="function"&&(Mn===null?Mn=new Set([this]):Mn.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function ff(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new iw;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=vw.bind(null,t,e,n),e.then(t,t))}function pf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function mf(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=dn(-1,1),e.tag=2,On(n,e,1))),n.lanes|=1),t)}var ow=xn.ReactCurrentOwner,gt=!1;function lt(t,e,n,r){e.child=t===null?zm(e,null,n,r):fs(e,t.child,n,r)}function gf(t,e,n,r,s){n=n.render;var o=e.ref;return is(e,s),r=tu(t,e,n,r,o,s),n=nu(),t!==null&&!gt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,mn(t,e,s)):(Ie&&n&&Ud(e),e.flags|=1,lt(t,e,r,s),e.child)}function yf(t,e,n,r,s){if(t===null){var o=n.type;return typeof o=="function"&&!hu(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,ug(t,e,o,r,s)):(t=Ko(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var l=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ei,n(l,r)&&t.ref===e.ref)return mn(t,e,s)}return e.flags|=1,t=Fn(o,r),t.ref=e.ref,t.return=e,e.child=t}function ug(t,e,n,r,s){if(t!==null){var o=t.memoizedProps;if(Ei(o,r)&&t.ref===e.ref)if(gt=!1,e.pendingProps=r=o,(t.lanes&s)!==0)t.flags&131072&&(gt=!0);else return e.lanes=t.lanes,mn(t,e,s)}return Gc(t,e,n,r,s)}function hg(t,e,n){var r=e.pendingProps,s=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(Zr,_t),_t|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ne(Zr,_t),_t|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ne(Zr,_t),_t|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ne(Zr,_t),_t|=r;return lt(t,e,s,n),e.child}function fg(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Gc(t,e,n,r,s){var o=vt(n)?pr:it.current;return o=us(e,o),is(e,s),n=tu(t,e,n,r,o,s),r=nu(),t!==null&&!gt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,mn(t,e,s)):(Ie&&r&&Ud(e),e.flags|=1,lt(t,e,n,s),e.child)}function xf(t,e,n,r,s){if(vt(n)){var o=!0;ol(e)}else o=!1;if(is(e,s),e.stateNode===null)Ho(t,e),ag(e,n,r),$c(e,n,r,s),r=!0;else if(t===null){var l=e.stateNode,a=e.memoizedProps;l.props=a;var c=l.context,d=n.contextType;typeof d=="object"&&d!==null?d=Wt(d):(d=vt(n)?pr:it.current,d=us(e,d));var p=n.getDerivedStateFromProps,h=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function";h||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==r||c!==d)&&hf(e,l,r,d),En=!1;var f=e.memoizedState;l.state=f,ul(e,r,l,s),c=e.memoizedState,a!==r||f!==c||xt.current||En?(typeof p=="function"&&(Bc(e,n,p,r),c=e.memoizedState),(a=En||uf(e,n,a,r,f,c,d))?(h||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),l.props=r,l.state=c,l.context=d,r=a):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{l=e.stateNode,Bm(t,e),a=e.memoizedProps,d=e.type===e.elementType?a:zt(e.type,a),l.props=d,h=e.pendingProps,f=l.context,c=n.contextType,typeof c=="object"&&c!==null?c=Wt(c):(c=vt(n)?pr:it.current,c=us(e,c));var k=n.getDerivedStateFromProps;(p=typeof k=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==h||f!==c)&&hf(e,l,r,c),En=!1,f=e.memoizedState,l.state=f,ul(e,r,l,s);var S=e.memoizedState;a!==h||f!==S||xt.current||En?(typeof k=="function"&&(Bc(e,n,k,r),S=e.memoizedState),(d=En||uf(e,n,d,r,f,S,c)||!1)?(p||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,S,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,S,c)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),l.props=r,l.state=S,l.context=c,r=d):(typeof l.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Hc(t,e,n,r,o,s)}function Hc(t,e,n,r,s,o){fg(t,e);var l=(e.flags&128)!==0;if(!r&&!l)return s&&nf(e,n,!1),mn(t,e,o);r=e.stateNode,ow.current=e;var a=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&l?(e.child=fs(e,t.child,null,o),e.child=fs(e,null,a,o)):lt(t,e,a,o),e.memoizedState=r.state,s&&nf(e,n,!0),e.child}function pg(t){var e=t.stateNode;e.pendingContext?tf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&tf(t,e.context,!1),qd(t,e.containerInfo)}function vf(t,e,n,r,s){return hs(),Hd(s),e.flags|=256,lt(t,e,n,r),e.child}var Vc={dehydrated:null,treeContext:null,retryLane:0};function Yc(t){return{baseLanes:t,cachePool:null,transitions:null}}function mg(t,e,n){var r=e.pendingProps,s=Ae.current,o=!1,l=(e.flags&128)!==0,a;if((a=l)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ne(Ae,s&1),t===null)return zc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=r.children,t=r.fallback,o?(r=e.mode,o=e.child,l={mode:"hidden",children:l},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=Kl(l,r,0,null),t=fr(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Yc(n),e.memoizedState=Vc,t):iu(e,l));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return lw(t,e,l,r,a,s,n);if(o){o=r.fallback,l=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(l&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Fn(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=Fn(a,o):(o=fr(o,l,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,l=t.child.memoizedState,l=l===null?Yc(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=t.childLanes&~n,e.memoizedState=Vc,r}return o=t.child,t=o.sibling,r=Fn(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function iu(t,e){return e=Kl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Io(t,e,n,r){return r!==null&&Hd(r),fs(e,t.child,null,n),t=iu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function lw(t,e,n,r,s,o,l){if(n)return e.flags&256?(e.flags&=-257,r=Ua(Error(U(422))),Io(t,e,l,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,s=e.mode,r=Kl({mode:"visible",children:r.children},s,0,null),o=fr(o,s,l,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&fs(e,t.child,null,l),e.child.memoizedState=Yc(l),e.memoizedState=Vc,o);if(!(e.mode&1))return Io(t,e,l,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(U(419)),r=Ua(o,r,void 0),Io(t,e,l,r)}if(a=(l&t.childLanes)!==0,gt||a){if(r=Qe,r!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|l)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,pn(t,s),Ht(r,t,s,-1))}return uu(),r=Ua(Error(U(421))),Io(t,e,l,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=ww.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,kt=Ln(s.nextSibling),St=e,Ie=!0,Bt=null,t!==null&&(Tt[Pt++]=ln,Tt[Pt++]=an,Tt[Pt++]=mr,ln=t.id,an=t.overflow,mr=e),e=iu(e,r.children),e.flags|=4096,e)}function wf(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Fc(t.return,e,n)}function Ga(t,e,n,r,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function gg(t,e,n){var r=e.pendingProps,s=r.revealOrder,o=r.tail;if(lt(t,e,r.children,n),r=Ae.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wf(t,n,e);else if(t.tag===19)wf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ne(Ae,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&hl(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Ga(e,!1,s,n,o);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&hl(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Ga(e,!0,n,null,o);break;case"together":Ga(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ho(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function mn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),yr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=Fn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Fn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function aw(t,e,n){switch(e.tag){case 3:pg(e),hs();break;case 5:$m(e);break;case 1:vt(e.type)&&ol(e);break;case 4:qd(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ne(cl,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ne(Ae,Ae.current&1),e.flags|=128,null):n&e.child.childLanes?mg(t,e,n):(Ne(Ae,Ae.current&1),t=mn(t,e,n),t!==null?t.sibling:null);Ne(Ae,Ae.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return gg(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ne(Ae,Ae.current),r)break;return null;case 22:case 23:return e.lanes=0,hg(t,e,n)}return mn(t,e,n)}var yg,Kc,xg,vg;yg=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Kc=function(){};xg=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,dr(en.current);var o=null;switch(n){case"input":s=gc(t,s),r=gc(t,r),o=[];break;case"select":s=De({},s,{value:void 0}),r=De({},r,{value:void 0}),o=[];break;case"textarea":s=vc(t,s),r=vc(t,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=sl)}_c(n,r);var l;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(l in a)a.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(wi.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in r){var c=r[d];if(a=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==a&&(c!=null||a!=null))if(d==="style")if(a){for(l in a)!a.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&a[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(o||(o=[]),o.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(o=o||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(wi.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&je("scroll",t),o||a===c||(o=[])):(o=o||[]).push(d,c))}n&&(o=o||[]).push("style",n);var d=o;(e.updateQueue=d)&&(e.flags|=4)}};vg=function(t,e,n,r){n!==r&&(e.flags|=4)};function Qs(t,e){if(!Ie)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function rt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function cw(t,e,n){var r=e.pendingProps;switch(Gd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(e),null;case 1:return vt(e.type)&&il(),rt(e),null;case 3:return r=e.stateNode,ps(),Pe(xt),Pe(it),Zd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(To(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Bt!==null&&(nd(Bt),Bt=null))),Kc(t,e),rt(e),null;case 5:Jd(e);var s=dr(Ri.current);if(n=e.type,t!==null&&e.stateNode!=null)xg(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return rt(e),null}if(t=dr(en.current),To(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Jt]=e,r[Pi]=o,t=(e.mode&1)!==0,n){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(s=0;s<ii.length;s++)je(ii[s],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":jh(r,o),je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},je("invalid",r);break;case"textarea":Ph(r,o),je("invalid",r)}_c(n,o),s=null;for(var l in o)if(o.hasOwnProperty(l)){var a=o[l];l==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&jo(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&jo(r.textContent,a,t),s=["children",""+a]):wi.hasOwnProperty(l)&&a!=null&&l==="onScroll"&&je("scroll",r)}switch(n){case"input":wo(r),Th(r,o,!0);break;case"textarea":wo(r),Ih(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=sl)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Yp(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),n==="select"&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[Jt]=e,t[Pi]=r,yg(t,e,!1,!1),e.stateNode=t;e:{switch(l=kc(n,r),n){case"dialog":je("cancel",t),je("close",t),s=r;break;case"iframe":case"object":case"embed":je("load",t),s=r;break;case"video":case"audio":for(s=0;s<ii.length;s++)je(ii[s],t);s=r;break;case"source":je("error",t),s=r;break;case"img":case"image":case"link":je("error",t),je("load",t),s=r;break;case"details":je("toggle",t),s=r;break;case"input":jh(t,r),s=gc(t,r),je("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=De({},r,{value:void 0}),je("invalid",t);break;case"textarea":Ph(t,r),s=vc(t,r),je("invalid",t);break;default:s=r}_c(n,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="style"?Xp(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Kp(t,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&_i(t,c):typeof c=="number"&&_i(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(wi.hasOwnProperty(o)?c!=null&&o==="onScroll"&&je("scroll",t):c!=null&&Td(t,o,c,l))}switch(n){case"input":wo(t),Th(t,r,!1);break;case"textarea":wo(t),Ih(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Hn(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?ts(t,!!r.multiple,o,!1):r.defaultValue!=null&&ts(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=sl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return rt(e),null;case 6:if(t&&e.stateNode!=null)vg(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=dr(Ri.current),dr(en.current),To(e)){if(r=e.stateNode,n=e.memoizedProps,r[Jt]=e,(o=r.nodeValue!==n)&&(t=St,t!==null))switch(t.tag){case 3:jo(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&jo(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Jt]=e,e.stateNode=r}return rt(e),null;case 13:if(Pe(Ae),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ie&&kt!==null&&e.mode&1&&!(e.flags&128))Om(),hs(),e.flags|=98560,o=!1;else if(o=To(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(U(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(U(317));o[Jt]=e}else hs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;rt(e),o=!1}else Bt!==null&&(nd(Bt),Bt=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ae.current&1?Ge===0&&(Ge=3):uu())),e.updateQueue!==null&&(e.flags|=4),rt(e),null);case 4:return ps(),Kc(t,e),t===null&&ji(e.stateNode.containerInfo),rt(e),null;case 10:return Kd(e.type._context),rt(e),null;case 17:return vt(e.type)&&il(),rt(e),null;case 19:if(Pe(Ae),o=e.memoizedState,o===null)return rt(e),null;if(r=(e.flags&128)!==0,l=o.rendering,l===null)if(r)Qs(o,!1);else{if(Ge!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=hl(t),l!==null){for(e.flags|=128,Qs(o,!1),r=l.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,t=l.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ne(Ae,Ae.current&1|2),e.child}t=t.sibling}o.tail!==null&&ze()>gs&&(e.flags|=128,r=!0,Qs(o,!1),e.lanes=4194304)}else{if(!r)if(t=hl(l),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Qs(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!Ie)return rt(e),null}else 2*ze()-o.renderingStartTime>gs&&n!==1073741824&&(e.flags|=128,r=!0,Qs(o,!1),e.lanes=4194304);o.isBackwards?(l.sibling=e.child,e.child=l):(n=o.last,n!==null?n.sibling=l:e.child=l,o.last=l)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ze(),e.sibling=null,n=Ae.current,Ne(Ae,r?n&1|2:n&1),e):(rt(e),null);case 22:case 23:return du(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?_t&1073741824&&(rt(e),e.subtreeFlags&6&&(e.flags|=8192)):rt(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function dw(t,e){switch(Gd(e),e.tag){case 1:return vt(e.type)&&il(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ps(),Pe(xt),Pe(it),Zd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Jd(e),null;case 13:if(Pe(Ae),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));hs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Pe(Ae),null;case 4:return ps(),null;case 10:return Kd(e.type._context),null;case 22:case 23:return du(),null;case 24:return null;default:return null}}var Ro=!1,st=!1,uw=typeof WeakSet=="function"?WeakSet:Set,te=null;function Jr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Le(t,e,r)}else n.current=null}function Qc(t,e,n){try{n()}catch(r){Le(t,e,r)}}var _f=!1;function hw(t,e){if(Rc=tl,t=bm(),$d(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var l=0,a=-1,c=-1,d=0,p=0,h=t,f=null;t:for(;;){for(var k;h!==n||s!==0&&h.nodeType!==3||(a=l+s),h!==o||r!==0&&h.nodeType!==3||(c=l+r),h.nodeType===3&&(l+=h.nodeValue.length),(k=h.firstChild)!==null;)f=h,h=k;for(;;){if(h===t)break t;if(f===n&&++d===s&&(a=l),f===o&&++p===r&&(c=l),(k=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=k}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ac={focusedElem:t,selectionRange:n},tl=!1,te=e;te!==null;)if(e=te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,te=t;else for(;te!==null;){e=te;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var j=S.memoizedProps,T=S.memoizedState,_=e.stateNode,g=_.getSnapshotBeforeUpdate(e.elementType===e.type?j:zt(e.type,j),T);_.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(x){Le(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,te=t;break}te=e.return}return S=_f,_f=!1,S}function hi(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&Qc(e,n,o)}s=s.next}while(s!==r)}}function Vl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Xc(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function wg(t){var e=t.alternate;e!==null&&(t.alternate=null,wg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Jt],delete e[Pi],delete e[Lc],delete e[Kv],delete e[Qv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function _g(t){return t.tag===5||t.tag===3||t.tag===4}function kf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_g(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=sl));else if(r!==4&&(t=t.child,t!==null))for(qc(t,e,n),t=t.sibling;t!==null;)qc(t,e,n),t=t.sibling}function Jc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Jc(t,e,n),t=t.sibling;t!==null;)Jc(t,e,n),t=t.sibling}var Xe=null,Ft=!1;function Sn(t,e,n){for(n=n.child;n!==null;)kg(t,e,n),n=n.sibling}function kg(t,e,n){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(Ml,n)}catch{}switch(n.tag){case 5:st||Jr(n,e);case 6:var r=Xe,s=Ft;Xe=null,Sn(t,e,n),Xe=r,Ft=s,Xe!==null&&(Ft?(t=Xe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Xe.removeChild(n.stateNode));break;case 18:Xe!==null&&(Ft?(t=Xe,n=n.stateNode,t.nodeType===8?Oa(t.parentNode,n):t.nodeType===1&&Oa(t,n),Ci(t)):Oa(Xe,n.stateNode));break;case 4:r=Xe,s=Ft,Xe=n.stateNode.containerInfo,Ft=!0,Sn(t,e,n),Xe=r,Ft=s;break;case 0:case 11:case 14:case 15:if(!st&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&Qc(n,e,l),s=s.next}while(s!==r)}Sn(t,e,n);break;case 1:if(!st&&(Jr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Le(n,e,a)}Sn(t,e,n);break;case 21:Sn(t,e,n);break;case 22:n.mode&1?(st=(r=st)||n.memoizedState!==null,Sn(t,e,n),st=r):Sn(t,e,n);break;default:Sn(t,e,n)}}function Sf(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new uw),e.forEach(function(r){var s=_w.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Mt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=t,l=e,a=l;e:for(;a!==null;){switch(a.tag){case 5:Xe=a.stateNode,Ft=!1;break e;case 3:Xe=a.stateNode.containerInfo,Ft=!0;break e;case 4:Xe=a.stateNode.containerInfo,Ft=!0;break e}a=a.return}if(Xe===null)throw Error(U(160));kg(o,l,s),Xe=null,Ft=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){Le(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Sg(e,t),e=e.sibling}function Sg(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Mt(e,t),Xt(t),r&4){try{hi(3,t,t.return),Vl(3,t)}catch(j){Le(t,t.return,j)}try{hi(5,t,t.return)}catch(j){Le(t,t.return,j)}}break;case 1:Mt(e,t),Xt(t),r&512&&n!==null&&Jr(n,n.return);break;case 5:if(Mt(e,t),Xt(t),r&512&&n!==null&&Jr(n,n.return),t.flags&32){var s=t.stateNode;try{_i(s,"")}catch(j){Le(t,t.return,j)}}if(r&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,l=n!==null?n.memoizedProps:o,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Hp(s,o),kc(a,l);var d=kc(a,o);for(l=0;l<c.length;l+=2){var p=c[l],h=c[l+1];p==="style"?Xp(s,h):p==="dangerouslySetInnerHTML"?Kp(s,h):p==="children"?_i(s,h):Td(s,p,h,d)}switch(a){case"input":yc(s,o);break;case"textarea":Vp(s,o);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var k=o.value;k!=null?ts(s,!!o.multiple,k,!1):f!==!!o.multiple&&(o.defaultValue!=null?ts(s,!!o.multiple,o.defaultValue,!0):ts(s,!!o.multiple,o.multiple?[]:"",!1))}s[Pi]=o}catch(j){Le(t,t.return,j)}}break;case 6:if(Mt(e,t),Xt(t),r&4){if(t.stateNode===null)throw Error(U(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(j){Le(t,t.return,j)}}break;case 3:if(Mt(e,t),Xt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ci(e.containerInfo)}catch(j){Le(t,t.return,j)}break;case 4:Mt(e,t),Xt(t);break;case 13:Mt(e,t),Xt(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(au=ze())),r&4&&Sf(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(st=(d=st)||p,Mt(e,t),st=d):Mt(e,t),Xt(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!p&&t.mode&1)for(te=t,p=t.child;p!==null;){for(h=te=p;te!==null;){switch(f=te,k=f.child,f.tag){case 0:case 11:case 14:case 15:hi(4,f,f.return);break;case 1:Jr(f,f.return);var S=f.stateNode;if(typeof S.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(j){Le(r,n,j)}}break;case 5:Jr(f,f.return);break;case 22:if(f.memoizedState!==null){Cf(h);continue}}k!==null?(k.return=f,te=k):Cf(h)}p=p.sibling}e:for(p=null,h=t;;){if(h.tag===5){if(p===null){p=h;try{s=h.stateNode,d?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,c=h.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=Qp("display",l))}catch(j){Le(t,t.return,j)}}}else if(h.tag===6){if(p===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(j){Le(t,t.return,j)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;p===h&&(p=null),h=h.return}p===h&&(p=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Mt(e,t),Xt(t),r&4&&Sf(t);break;case 21:break;default:Mt(e,t),Xt(t)}}function Xt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(_g(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(_i(s,""),r.flags&=-33);var o=kf(t);Jc(t,o,s);break;case 3:case 4:var l=r.stateNode.containerInfo,a=kf(t);qc(t,a,l);break;default:throw Error(U(161))}}catch(c){Le(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function fw(t,e,n){te=t,bg(t)}function bg(t,e,n){for(var r=(t.mode&1)!==0;te!==null;){var s=te,o=s.child;if(s.tag===22&&r){var l=s.memoizedState!==null||Ro;if(!l){var a=s.alternate,c=a!==null&&a.memoizedState!==null||st;a=Ro;var d=st;if(Ro=l,(st=c)&&!d)for(te=s;te!==null;)l=te,c=l.child,l.tag===22&&l.memoizedState!==null?Nf(s):c!==null?(c.return=l,te=c):Nf(s);for(;o!==null;)te=o,bg(o),o=o.sibling;te=s,Ro=a,st=d}bf(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,te=o):bf(t)}}function bf(t){for(;te!==null;){var e=te;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:st||Vl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!st)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:zt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&af(e,o,r);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}af(e,l,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var h=p.dehydrated;h!==null&&Ci(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}st||e.flags&512&&Xc(e)}catch(f){Le(e,e.return,f)}}if(e===t){te=null;break}if(n=e.sibling,n!==null){n.return=e.return,te=n;break}te=e.return}}function Cf(t){for(;te!==null;){var e=te;if(e===t){te=null;break}var n=e.sibling;if(n!==null){n.return=e.return,te=n;break}te=e.return}}function Nf(t){for(;te!==null;){var e=te;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Vl(4,e)}catch(c){Le(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Le(e,s,c)}}var o=e.return;try{Xc(e)}catch(c){Le(e,o,c)}break;case 5:var l=e.return;try{Xc(e)}catch(c){Le(e,l,c)}}}catch(c){Le(e,e.return,c)}if(e===t){te=null;break}var a=e.sibling;if(a!==null){a.return=e.return,te=a;break}te=e.return}}var pw=Math.ceil,ml=xn.ReactCurrentDispatcher,ou=xn.ReactCurrentOwner,At=xn.ReactCurrentBatchConfig,fe=0,Qe=null,Fe=null,Je=0,_t=0,Zr=Jn(0),Ge=0,Li=null,yr=0,Yl=0,lu=0,fi=null,mt=null,au=0,gs=1/0,sn=null,gl=!1,Zc=null,Mn=null,Ao=!1,In=null,yl=0,pi=0,ed=null,Vo=-1,Yo=0;function ct(){return fe&6?ze():Vo!==-1?Vo:Vo=ze()}function zn(t){return t.mode&1?fe&2&&Je!==0?Je&-Je:qv.transition!==null?(Yo===0&&(Yo=am()),Yo):(t=ve,t!==0||(t=window.event,t=t===void 0?16:mm(t.type)),t):1}function Ht(t,e,n,r){if(50<pi)throw pi=0,ed=null,Error(U(185));Xi(t,n,r),(!(fe&2)||t!==Qe)&&(t===Qe&&(!(fe&2)&&(Yl|=n),Ge===4&&Tn(t,Je)),wt(t,r),n===1&&fe===0&&!(e.mode&1)&&(gs=ze()+500,Ul&&Zn()))}function wt(t,e){var n=t.callbackNode;q0(t,e);var r=el(t,t===Qe?Je:0);if(r===0)n!==null&&Wh(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Wh(n),e===1)t.tag===0?Xv(Ef.bind(null,t)):Wm(Ef.bind(null,t)),Vv(function(){!(fe&6)&&Zn()}),n=null;else{switch(cm(r)){case 1:n=Wd;break;case 4:n=om;break;case 16:n=Zo;break;case 536870912:n=lm;break;default:n=Zo}n=Rg(n,Cg.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Cg(t,e){if(Vo=-1,Yo=0,fe&6)throw Error(U(327));var n=t.callbackNode;if(os()&&t.callbackNode!==n)return null;var r=el(t,t===Qe?Je:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=xl(t,r);else{e=r;var s=fe;fe|=2;var o=Eg();(Qe!==t||Je!==e)&&(sn=null,gs=ze()+500,hr(t,e));do try{yw();break}catch(a){Ng(t,a)}while(!0);Yd(),ml.current=o,fe=s,Fe!==null?e=0:(Qe=null,Je=0,e=Ge)}if(e!==0){if(e===2&&(s=Ec(t),s!==0&&(r=s,e=td(t,s))),e===1)throw n=Li,hr(t,0),Tn(t,r),wt(t,ze()),n;if(e===6)Tn(t,r);else{if(s=t.current.alternate,!(r&30)&&!mw(s)&&(e=xl(t,r),e===2&&(o=Ec(t),o!==0&&(r=o,e=td(t,o))),e===1))throw n=Li,hr(t,0),Tn(t,r),wt(t,ze()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:ir(t,mt,sn);break;case 3:if(Tn(t,r),(r&130023424)===r&&(e=au+500-ze(),10<e)){if(el(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){ct(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Dc(ir.bind(null,t,mt,sn),e);break}ir(t,mt,sn);break;case 4:if(Tn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var l=31-Gt(r);o=1<<l,l=e[l],l>s&&(s=l),r&=~o}if(r=s,r=ze()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*pw(r/1960))-r,10<r){t.timeoutHandle=Dc(ir.bind(null,t,mt,sn),r);break}ir(t,mt,sn);break;case 5:ir(t,mt,sn);break;default:throw Error(U(329))}}}return wt(t,ze()),t.callbackNode===n?Cg.bind(null,t):null}function td(t,e){var n=fi;return t.current.memoizedState.isDehydrated&&(hr(t,e).flags|=256),t=xl(t,e),t!==2&&(e=mt,mt=n,e!==null&&nd(e)),t}function nd(t){mt===null?mt=t:mt.push.apply(mt,t)}function mw(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!Yt(o(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Tn(t,e){for(e&=~lu,e&=~Yl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Gt(e),r=1<<n;t[n]=-1,e&=~r}}function Ef(t){if(fe&6)throw Error(U(327));os();var e=el(t,0);if(!(e&1))return wt(t,ze()),null;var n=xl(t,e);if(t.tag!==0&&n===2){var r=Ec(t);r!==0&&(e=r,n=td(t,r))}if(n===1)throw n=Li,hr(t,0),Tn(t,e),wt(t,ze()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ir(t,mt,sn),wt(t,ze()),null}function cu(t,e){var n=fe;fe|=1;try{return t(e)}finally{fe=n,fe===0&&(gs=ze()+500,Ul&&Zn())}}function xr(t){In!==null&&In.tag===0&&!(fe&6)&&os();var e=fe;fe|=1;var n=At.transition,r=ve;try{if(At.transition=null,ve=1,t)return t()}finally{ve=r,At.transition=n,fe=e,!(fe&6)&&Zn()}}function du(){_t=Zr.current,Pe(Zr)}function hr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Hv(n)),Fe!==null)for(n=Fe.return;n!==null;){var r=n;switch(Gd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&il();break;case 3:ps(),Pe(xt),Pe(it),Zd();break;case 5:Jd(r);break;case 4:ps();break;case 13:Pe(Ae);break;case 19:Pe(Ae);break;case 10:Kd(r.type._context);break;case 22:case 23:du()}n=n.return}if(Qe=t,Fe=t=Fn(t.current,null),Je=_t=e,Ge=0,Li=null,lu=Yl=yr=0,mt=fi=null,cr!==null){for(e=0;e<cr.length;e++)if(n=cr[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var l=o.next;o.next=s,r.next=l}n.pending=r}cr=null}return t}function Ng(t,e){do{var n=Fe;try{if(Yd(),Uo.current=pl,fl){for(var r=We.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}fl=!1}if(gr=0,Ye=Be=We=null,ui=!1,Ai=0,ou.current=null,n===null||n.return===null){Ge=1,Li=e,Fe=null;break}e:{var o=t,l=n.return,a=n,c=e;if(e=Je,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,p=a,h=p.tag;if(!(p.mode&1)&&(h===0||h===11||h===15)){var f=p.alternate;f?(p.updateQueue=f.updateQueue,p.memoizedState=f.memoizedState,p.lanes=f.lanes):(p.updateQueue=null,p.memoizedState=null)}var k=pf(l);if(k!==null){k.flags&=-257,mf(k,l,a,o,e),k.mode&1&&ff(o,d,e),e=k,c=d;var S=e.updateQueue;if(S===null){var j=new Set;j.add(c),e.updateQueue=j}else S.add(c);break e}else{if(!(e&1)){ff(o,d,e),uu();break e}c=Error(U(426))}}else if(Ie&&a.mode&1){var T=pf(l);if(T!==null){!(T.flags&65536)&&(T.flags|=256),mf(T,l,a,o,e),Hd(ms(c,a));break e}}o=c=ms(c,a),Ge!==4&&(Ge=2),fi===null?fi=[o]:fi.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var _=cg(o,c,e);lf(o,_);break e;case 1:a=c;var g=o.type,C=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Mn===null||!Mn.has(C)))){o.flags|=65536,e&=-e,o.lanes|=e;var x=dg(o,a,e);lf(o,x);break e}}o=o.return}while(o!==null)}Tg(n)}catch(L){e=L,Fe===n&&n!==null&&(Fe=n=n.return);continue}break}while(!0)}function Eg(){var t=ml.current;return ml.current=pl,t===null?pl:t}function uu(){(Ge===0||Ge===3||Ge===2)&&(Ge=4),Qe===null||!(yr&268435455)&&!(Yl&268435455)||Tn(Qe,Je)}function xl(t,e){var n=fe;fe|=2;var r=Eg();(Qe!==t||Je!==e)&&(sn=null,hr(t,e));do try{gw();break}catch(s){Ng(t,s)}while(!0);if(Yd(),fe=n,ml.current=r,Fe!==null)throw Error(U(261));return Qe=null,Je=0,Ge}function gw(){for(;Fe!==null;)jg(Fe)}function yw(){for(;Fe!==null&&!$0();)jg(Fe)}function jg(t){var e=Ig(t.alternate,t,_t);t.memoizedProps=t.pendingProps,e===null?Tg(t):Fe=e,ou.current=null}function Tg(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=dw(n,e),n!==null){n.flags&=32767,Fe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ge=6,Fe=null;return}}else if(n=cw(n,e,_t),n!==null){Fe=n;return}if(e=e.sibling,e!==null){Fe=e;return}Fe=e=t}while(e!==null);Ge===0&&(Ge=5)}function ir(t,e,n){var r=ve,s=At.transition;try{At.transition=null,ve=1,xw(t,e,n,r)}finally{At.transition=s,ve=r}return null}function xw(t,e,n,r){do os();while(In!==null);if(fe&6)throw Error(U(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(J0(t,o),t===Qe&&(Fe=Qe=null,Je=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ao||(Ao=!0,Rg(Zo,function(){return os(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=At.transition,At.transition=null;var l=ve;ve=1;var a=fe;fe|=4,ou.current=null,hw(t,n),Sg(n,t),Mv(Ac),tl=!!Rc,Ac=Rc=null,t.current=n,fw(n),U0(),fe=a,ve=l,At.transition=o}else t.current=n;if(Ao&&(Ao=!1,In=t,yl=s),o=t.pendingLanes,o===0&&(Mn=null),V0(n.stateNode),wt(t,ze()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(gl)throw gl=!1,t=Zc,Zc=null,t;return yl&1&&t.tag!==0&&os(),o=t.pendingLanes,o&1?t===ed?pi++:(pi=0,ed=t):pi=0,Zn(),null}function os(){if(In!==null){var t=cm(yl),e=At.transition,n=ve;try{if(At.transition=null,ve=16>t?16:t,In===null)var r=!1;else{if(t=In,In=null,yl=0,fe&6)throw Error(U(331));var s=fe;for(fe|=4,te=t.current;te!==null;){var o=te,l=o.child;if(te.flags&16){var a=o.deletions;if(a!==null){for(var c=0;c<a.length;c++){var d=a[c];for(te=d;te!==null;){var p=te;switch(p.tag){case 0:case 11:case 15:hi(8,p,o)}var h=p.child;if(h!==null)h.return=p,te=h;else for(;te!==null;){p=te;var f=p.sibling,k=p.return;if(wg(p),p===d){te=null;break}if(f!==null){f.return=k,te=f;break}te=k}}}var S=o.alternate;if(S!==null){var j=S.child;if(j!==null){S.child=null;do{var T=j.sibling;j.sibling=null,j=T}while(j!==null)}}te=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,te=l;else e:for(;te!==null;){if(o=te,o.flags&2048)switch(o.tag){case 0:case 11:case 15:hi(9,o,o.return)}var _=o.sibling;if(_!==null){_.return=o.return,te=_;break e}te=o.return}}var g=t.current;for(te=g;te!==null;){l=te;var C=l.child;if(l.subtreeFlags&2064&&C!==null)C.return=l,te=C;else e:for(l=g;te!==null;){if(a=te,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Vl(9,a)}}catch(L){Le(a,a.return,L)}if(a===l){te=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,te=x;break e}te=a.return}}if(fe=s,Zn(),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(Ml,t)}catch{}r=!0}return r}finally{ve=n,At.transition=e}}return!1}function jf(t,e,n){e=ms(n,e),e=cg(t,e,1),t=On(t,e,1),e=ct(),t!==null&&(Xi(t,1,e),wt(t,e))}function Le(t,e,n){if(t.tag===3)jf(t,t,n);else for(;e!==null;){if(e.tag===3){jf(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Mn===null||!Mn.has(r))){t=ms(n,t),t=dg(e,t,1),e=On(e,t,1),t=ct(),e!==null&&(Xi(e,1,t),wt(e,t));break}}e=e.return}}function vw(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ct(),t.pingedLanes|=t.suspendedLanes&n,Qe===t&&(Je&n)===n&&(Ge===4||Ge===3&&(Je&130023424)===Je&&500>ze()-au?hr(t,0):lu|=n),wt(t,e)}function Pg(t,e){e===0&&(t.mode&1?(e=So,So<<=1,!(So&130023424)&&(So=4194304)):e=1);var n=ct();t=pn(t,e),t!==null&&(Xi(t,e,n),wt(t,n))}function ww(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Pg(t,n)}function _w(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),Pg(t,n)}var Ig;Ig=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||xt.current)gt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return gt=!1,aw(t,e,n);gt=!!(t.flags&131072)}else gt=!1,Ie&&e.flags&1048576&&Dm(e,al,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ho(t,e),t=e.pendingProps;var s=us(e,it.current);is(e,n),s=tu(null,e,r,t,s,n);var o=nu();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,vt(r)?(o=!0,ol(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Xd(e),s.updater=Hl,e.stateNode=s,s._reactInternals=e,$c(e,r,t,n),e=Hc(null,e,r,!0,o,n)):(e.tag=0,Ie&&o&&Ud(e),lt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ho(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Sw(r),t=zt(r,t),s){case 0:e=Gc(null,e,r,t,n);break e;case 1:e=xf(null,e,r,t,n);break e;case 11:e=gf(null,e,r,t,n);break e;case 14:e=yf(null,e,r,zt(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:zt(r,s),Gc(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:zt(r,s),xf(t,e,r,s,n);case 3:e:{if(pg(e),t===null)throw Error(U(387));r=e.pendingProps,o=e.memoizedState,s=o.element,Bm(t,e),ul(e,r,null,n);var l=e.memoizedState;if(r=l.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=ms(Error(U(423)),e),e=vf(t,e,r,n,s);break e}else if(r!==s){s=ms(Error(U(424)),e),e=vf(t,e,r,n,s);break e}else for(kt=Ln(e.stateNode.containerInfo.firstChild),St=e,Ie=!0,Bt=null,n=zm(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(hs(),r===s){e=mn(t,e,n);break e}lt(t,e,r,n)}e=e.child}return e;case 5:return $m(e),t===null&&zc(e),r=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,l=s.children,Wc(r,s)?l=null:o!==null&&Wc(r,o)&&(e.flags|=32),fg(t,e),lt(t,e,l,n),e.child;case 6:return t===null&&zc(e),null;case 13:return mg(t,e,n);case 4:return qd(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=fs(e,null,r,n):lt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:zt(r,s),gf(t,e,r,s,n);case 7:return lt(t,e,e.pendingProps,n),e.child;case 8:return lt(t,e,e.pendingProps.children,n),e.child;case 12:return lt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,o=e.memoizedProps,l=s.value,Ne(cl,r._currentValue),r._currentValue=l,o!==null)if(Yt(o.value,l)){if(o.children===s.children&&!xt.current){e=mn(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){l=o.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=dn(-1,n&-n),c.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?c.next=c:(c.next=p.next,p.next=c),d.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Fc(o.return,n,e),a.lanes|=n;break}c=c.next}}else if(o.tag===10)l=o.type===e.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(U(341));l.lanes|=n,a=l.alternate,a!==null&&(a.lanes|=n),Fc(l,n,e),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===e){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}lt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,is(e,n),s=Wt(s),r=r(s),e.flags|=1,lt(t,e,r,n),e.child;case 14:return r=e.type,s=zt(r,e.pendingProps),s=zt(r.type,s),yf(t,e,r,s,n);case 15:return ug(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:zt(r,s),Ho(t,e),e.tag=1,vt(r)?(t=!0,ol(e)):t=!1,is(e,n),ag(e,r,s),$c(e,r,s,n),Hc(null,e,r,!0,t,n);case 19:return gg(t,e,n);case 22:return hg(t,e,n)}throw Error(U(156,e.tag))};function Rg(t,e){return im(t,e)}function kw(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(t,e,n,r){return new kw(t,e,n,r)}function hu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Sw(t){if(typeof t=="function")return hu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Id)return 11;if(t===Rd)return 14}return 2}function Fn(t,e){var n=t.alternate;return n===null?(n=It(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ko(t,e,n,r,s,o){var l=2;if(r=t,typeof t=="function")hu(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case Ur:return fr(n.children,s,o,e);case Pd:l=8,s|=8;break;case hc:return t=It(12,n,e,s|2),t.elementType=hc,t.lanes=o,t;case fc:return t=It(13,n,e,s),t.elementType=fc,t.lanes=o,t;case pc:return t=It(19,n,e,s),t.elementType=pc,t.lanes=o,t;case $p:return Kl(n,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Fp:l=10;break e;case Bp:l=9;break e;case Id:l=11;break e;case Rd:l=14;break e;case Nn:l=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=It(l,n,e,s),e.elementType=t,e.type=r,e.lanes=o,e}function fr(t,e,n,r){return t=It(7,t,r,e),t.lanes=n,t}function Kl(t,e,n,r){return t=It(22,t,r,e),t.elementType=$p,t.lanes=n,t.stateNode={isHidden:!1},t}function Ha(t,e,n){return t=It(6,t,null,e),t.lanes=n,t}function Va(t,e,n){return e=It(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function bw(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Na(0),this.expirationTimes=Na(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Na(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function fu(t,e,n,r,s,o,l,a,c){return t=new bw(t,e,n,a,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=It(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xd(o),t}function Cw(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$r,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Ag(t){if(!t)return Vn;t=t._reactInternals;e:{if(Cr(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(vt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(vt(n))return Am(t,n,e)}return e}function Wg(t,e,n,r,s,o,l,a,c){return t=fu(n,r,!0,t,s,o,l,a,c),t.context=Ag(null),n=t.current,r=ct(),s=zn(n),o=dn(r,s),o.callback=e??null,On(n,o,s),t.current.lanes=s,Xi(t,s,r),wt(t,r),t}function Ql(t,e,n,r){var s=e.current,o=ct(),l=zn(s);return n=Ag(n),e.context===null?e.context=n:e.pendingContext=n,e=dn(o,l),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=On(s,e,l),t!==null&&(Ht(t,s,l,o),$o(t,s,l)),l}function vl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Tf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function pu(t,e){Tf(t,e),(t=t.alternate)&&Tf(t,e)}function Nw(){return null}var Dg=typeof reportError=="function"?reportError:function(t){console.error(t)};function mu(t){this._internalRoot=t}Xl.prototype.render=mu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));Ql(t,e,null,null)};Xl.prototype.unmount=mu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;xr(function(){Ql(null,t,null,null)}),e[fn]=null}};function Xl(t){this._internalRoot=t}Xl.prototype.unstable_scheduleHydration=function(t){if(t){var e=hm();t={blockedOn:null,target:t,priority:e};for(var n=0;n<jn.length&&e!==0&&e<jn[n].priority;n++);jn.splice(n,0,t),n===0&&pm(t)}};function gu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ql(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Pf(){}function Ew(t,e,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var d=vl(l);o.call(d)}}var l=Wg(e,r,t,0,null,!1,!1,"",Pf);return t._reactRootContainer=l,t[fn]=l.current,ji(t.nodeType===8?t.parentNode:t),xr(),l}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var d=vl(c);a.call(d)}}var c=fu(t,0,!1,null,null,!1,!1,"",Pf);return t._reactRootContainer=c,t[fn]=c.current,ji(t.nodeType===8?t.parentNode:t),xr(function(){Ql(e,c,n,r)}),c}function Jl(t,e,n,r,s){var o=n._reactRootContainer;if(o){var l=o;if(typeof s=="function"){var a=s;s=function(){var c=vl(l);a.call(c)}}Ql(e,l,t,s)}else l=Ew(n,e,t,s,r);return vl(l)}dm=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=si(e.pendingLanes);n!==0&&(Dd(e,n|1),wt(e,ze()),!(fe&6)&&(gs=ze()+500,Zn()))}break;case 13:xr(function(){var r=pn(t,1);if(r!==null){var s=ct();Ht(r,t,1,s)}}),pu(t,1)}};Ld=function(t){if(t.tag===13){var e=pn(t,134217728);if(e!==null){var n=ct();Ht(e,t,134217728,n)}pu(t,134217728)}};um=function(t){if(t.tag===13){var e=zn(t),n=pn(t,e);if(n!==null){var r=ct();Ht(n,t,e,r)}pu(t,e)}};hm=function(){return ve};fm=function(t,e){var n=ve;try{return ve=t,e()}finally{ve=n}};bc=function(t,e,n){switch(e){case"input":if(yc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=$l(r);if(!s)throw Error(U(90));Gp(r),yc(r,s)}}}break;case"textarea":Vp(t,n);break;case"select":e=n.value,e!=null&&ts(t,!!n.multiple,e,!1)}};Zp=cu;em=xr;var jw={usingClientEntryPoint:!1,Events:[Ji,Yr,$l,qp,Jp,cu]},Xs={findFiberByHostInstance:ar,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Tw={bundleType:Xs.bundleType,version:Xs.version,rendererPackageName:Xs.rendererPackageName,rendererConfig:Xs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=rm(t),t===null?null:t.stateNode},findFiberByHostInstance:Xs.findFiberByHostInstance||Nw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wo.isDisabled&&Wo.supportsFiber)try{Ml=Wo.inject(Tw),Zt=Wo}catch{}}Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jw;Ct.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gu(e))throw Error(U(200));return Cw(t,e,null,n)};Ct.createRoot=function(t,e){if(!gu(t))throw Error(U(299));var n=!1,r="",s=Dg;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=fu(t,1,!1,null,null,n,!1,r,s),t[fn]=e.current,ji(t.nodeType===8?t.parentNode:t),new mu(e)};Ct.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=rm(e),t=t===null?null:t.stateNode,t};Ct.flushSync=function(t){return xr(t)};Ct.hydrate=function(t,e,n){if(!ql(e))throw Error(U(200));return Jl(null,t,e,!0,n)};Ct.hydrateRoot=function(t,e,n){if(!gu(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",l=Dg;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=Wg(e,null,t,1,n??null,s,!1,o,l),t[fn]=e.current,ji(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Xl(e)};Ct.render=function(t,e,n){if(!ql(e))throw Error(U(200));return Jl(null,t,e,!1,n)};Ct.unmountComponentAtNode=function(t){if(!ql(t))throw Error(U(40));return t._reactRootContainer?(xr(function(){Jl(null,null,t,!1,function(){t._reactRootContainer=null,t[fn]=null})}),!0):!1};Ct.unstable_batchedUpdates=cu;Ct.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ql(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return Jl(t,e,n,!1,r)};Ct.version="18.3.1-next-f1338f8080-20240426";function Lg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Lg)}catch(t){console.error(t)}}Lg(),Lp.exports=Ct;var Pw=Lp.exports,If=Pw;dc.createRoot=If.createRoot,dc.hydrateRoot=If.hydrateRoot;var Rf={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V=function(t,e){if(!t)throw Ns(e)},Ns=function(t){return new Error("Firebase Database ("+Og.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Iw=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],l=t[n++],a=t[n++],c=((s&7)<<18|(o&63)<<12|(l&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|l&63)}}return e.join("")},yu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],l=s+1<t.length,a=l?t[s+1]:0,c=s+2<t.length,d=c?t[s+2]:0,p=o>>2,h=(o&3)<<4|a>>4;let f=(a&15)<<2|d>>6,k=d&63;c||(k=64,l||(f=64)),r.push(n[p],n[h],n[f],n[k])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Mg(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Iw(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||a==null||d==null||h==null)throw new Rw;const f=o<<2|a>>4;if(r.push(f),d!==64){const k=a<<4&240|d>>2;if(r.push(k),h!==64){const S=d<<6&192|h;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Rw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zg=function(t){const e=Mg(t);return yu.encodeByteArray(e,!0)},wl=function(t){return zg(t).replace(/\./g,"")},rd=function(t){try{return yu.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(t){return Fg(void 0,t)}function Fg(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Ww(n)||(t[n]=Fg(t[n],e[n]));return t}function Ww(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw=()=>Dw().__FIREBASE_DEFAULTS__,Ow=()=>{if(typeof process>"u"||typeof Rf>"u")return;const t=Rf.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Mw=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&rd(t[1]);return e&&JSON.parse(e)},Bg=()=>{try{return Lw()||Ow()||Mw()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},zw=t=>{var e,n;return(n=(e=Bg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Fw=t=>{const e=zw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},$g=()=>{var t;return(t=Bg())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[wl(JSON.stringify(n)),wl(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ug(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($w())}function Uw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Gw(){return Og.NODE_ADMIN===!0}function Hw(){try{return typeof indexedDB=="object"}catch{return!1}}function Vw(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="FirebaseError";class to extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Yw,Object.setPrototypeOf(this,to.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gg.prototype.create)}}class Gg{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],l=o?Kw(o,r):"Error",a=`${this.serviceName}: ${l} (${s}).`;return new to(s,a,r)}}function Kw(t,e){return t.replace(Qw,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Qw=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(t){return JSON.parse(t)}function Ue(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg=function(t){let e={},n={},r={},s="";try{const o=t.split(".");e=Oi(rd(o[0])||""),n=Oi(rd(o[1])||""),s=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},Xw=function(t){const e=Hg(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},qw=function(t){const e=Hg(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ys(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Af(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function _l(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function sd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],l=e[s];if(Wf(o)&&Wf(l)){if(!sd(o,l))return!1}else if(o!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Wf(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const f=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(f<<1|f>>>31)&4294967295}let s=this.chain_[0],o=this.chain_[1],l=this.chain_[2],a=this.chain_[3],c=this.chain_[4],d,p;for(let h=0;h<80;h++){h<40?h<20?(d=a^o&(l^a),p=1518500249):(d=o^l^a,p=1859775393):h<60?(d=o&l|a&(o|l),p=2400959708):(d=o^l^a,p=3395469782);const f=(s<<5|s>>>27)+d+c+p+r[h]&4294967295;c=a,a=l,l=(o<<30|o>>>2)&4294967295,o=s,s=f}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const o=this.buf_;let l=this.inbuf_;for(;s<n;){if(l===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(o[l]=e.charCodeAt(s),++l,++s,l===this.blockSize){this.compress_(o),l=0;break}}else for(;s<n;)if(o[l]=e[s],++l,++s,l===this.blockSize){this.compress_(o),l=0;break}}this.inbuf_=l,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[s]>>o&255,++r;return e}}function Zl(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const o=s-55296;r++,V(r<t.length,"Surrogate pair missing trail surrogate.");const l=t.charCodeAt(r)-56320;s=65536+(o<<10)+l}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},ea=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(t){return t&&t._delegate?t._delegate:t}class Mi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new eo;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(r_(e))try{this.getOrInitializeService({instanceIdentifier:or})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=or){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=or){return this.instances.has(e)}getOptions(e=or){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&l.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:n_(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=or){return this.component?this.component.multipleInstances?e:or:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function n_(t){return t===or?void 0:t}function r_(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new t_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(be||(be={}));const i_={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},o_=be.INFO,l_={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},a_=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=l_[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vg{constructor(e){this.name=e,this._logLevel=o_,this._logHandler=a_,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?i_[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...e),this._logHandler(this,be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...e),this._logHandler(this,be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,be.INFO,...e),this._logHandler(this,be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,be.WARN,...e),this._logHandler(this,be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...e),this._logHandler(this,be.ERROR,...e)}}const c_=(t,e)=>e.some(n=>t instanceof n);let Df,Lf;function d_(){return Df||(Df=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function u_(){return Lf||(Lf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Yg=new WeakMap,id=new WeakMap,Kg=new WeakMap,Ya=new WeakMap,xu=new WeakMap;function h_(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(Bn(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&Yg.set(n,t)}).catch(()=>{}),xu.set(e,t),e}function f_(t){if(id.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});id.set(t,e)}let od={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return id.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Kg.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function p_(t){od=t(od)}function m_(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ka(this),e,...n);return Kg.set(r,e.sort?e.sort():[e]),Bn(r)}:u_().includes(t)?function(...e){return t.apply(Ka(this),e),Bn(Yg.get(this))}:function(...e){return Bn(t.apply(Ka(this),e))}}function g_(t){return typeof t=="function"?m_(t):(t instanceof IDBTransaction&&f_(t),c_(t,d_())?new Proxy(t,od):t)}function Bn(t){if(t instanceof IDBRequest)return h_(t);if(Ya.has(t))return Ya.get(t);const e=g_(t);return e!==t&&(Ya.set(t,e),xu.set(e,t)),e}const Ka=t=>xu.get(t);function y_(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const l=indexedDB.open(t,e),a=Bn(l);return r&&l.addEventListener("upgradeneeded",c=>{r(Bn(l.result),c.oldVersion,c.newVersion,Bn(l.transaction),c)}),n&&l.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const x_=["get","getKey","getAll","getAllKeys","count"],v_=["put","add","delete","clear"],Qa=new Map;function Of(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Qa.get(e))return Qa.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=v_.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||x_.includes(n)))return;const o=async function(l,...a){const c=this.transaction(l,s?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(a.shift())),(await Promise.all([d[n](...a),s&&c.done]))[0]};return Qa.set(e,o),o}p_(t=>({...t,get:(e,n,r)=>Of(e,n)||t.get(e,n,r),has:(e,n)=>!!Of(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(__(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function __(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ld="@firebase/app",Mf="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn=new Vg("@firebase/app"),k_="@firebase/app-compat",S_="@firebase/analytics-compat",b_="@firebase/analytics",C_="@firebase/app-check-compat",N_="@firebase/app-check",E_="@firebase/auth",j_="@firebase/auth-compat",T_="@firebase/database",P_="@firebase/data-connect",I_="@firebase/database-compat",R_="@firebase/functions",A_="@firebase/functions-compat",W_="@firebase/installations",D_="@firebase/installations-compat",L_="@firebase/messaging",O_="@firebase/messaging-compat",M_="@firebase/performance",z_="@firebase/performance-compat",F_="@firebase/remote-config",B_="@firebase/remote-config-compat",$_="@firebase/storage",U_="@firebase/storage-compat",G_="@firebase/firestore",H_="@firebase/vertexai-preview",V_="@firebase/firestore-compat",Y_="firebase",K_="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad="[DEFAULT]",Q_={[ld]:"fire-core",[k_]:"fire-core-compat",[b_]:"fire-analytics",[S_]:"fire-analytics-compat",[N_]:"fire-app-check",[C_]:"fire-app-check-compat",[E_]:"fire-auth",[j_]:"fire-auth-compat",[T_]:"fire-rtdb",[P_]:"fire-data-connect",[I_]:"fire-rtdb-compat",[R_]:"fire-fn",[A_]:"fire-fn-compat",[W_]:"fire-iid",[D_]:"fire-iid-compat",[L_]:"fire-fcm",[O_]:"fire-fcm-compat",[M_]:"fire-perf",[z_]:"fire-perf-compat",[F_]:"fire-rc",[B_]:"fire-rc-compat",[$_]:"fire-gcs",[U_]:"fire-gcs-compat",[G_]:"fire-fst",[V_]:"fire-fst-compat",[H_]:"fire-vertex","fire-js":"fire-js",[Y_]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl=new Map,X_=new Map,cd=new Map;function zf(t,e){try{t.container.addComponent(e)}catch(n){gn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Sl(t){const e=t.name;if(cd.has(e))return gn.debug(`There were multiple attempts to register component ${e}.`),!1;cd.set(e,t);for(const n of kl.values())zf(n,t);for(const n of X_.values())zf(n,t);return!0}function q_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$n=new Gg("app","Firebase",J_);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $n.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek=K_;function Qg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ad,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw $n.create("bad-app-name",{appName:String(s)});if(n||(n=$g()),!n)throw $n.create("no-options");const o=kl.get(s);if(o){if(sd(n,o.options)&&sd(r,o.config))return o;throw $n.create("duplicate-app",{appName:s})}const l=new s_(s);for(const c of cd.values())l.addComponent(c);const a=new Z_(n,r,l);return kl.set(s,a),a}function tk(t=ad){const e=kl.get(t);if(!e&&t===ad&&$g())return Qg();if(!e)throw $n.create("no-app",{appName:t});return e}function ls(t,e,n){var r;let s=(r=Q_[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const a=[`Unable to register library "${s}" with version "${e}":`];o&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&a.push("and"),l&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gn.warn(a.join(" "));return}Sl(new Mi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk="firebase-heartbeat-database",rk=1,zi="firebase-heartbeat-store";let Xa=null;function Xg(){return Xa||(Xa=y_(nk,rk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(zi)}catch(n){console.warn(n)}}}}).catch(t=>{throw $n.create("idb-open",{originalErrorMessage:t.message})})),Xa}async function sk(t){try{const n=(await Xg()).transaction(zi),r=await n.objectStore(zi).get(qg(t));return await n.done,r}catch(e){if(e instanceof to)gn.warn(e.message);else{const n=$n.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});gn.warn(n.message)}}}async function Ff(t,e){try{const r=(await Xg()).transaction(zi,"readwrite");await r.objectStore(zi).put(e,qg(t)),await r.done}catch(n){if(n instanceof to)gn.warn(n.message);else{const r=$n.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});gn.warn(r.message)}}}function qg(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik=1024,ok=30*24*60*60*1e3;class lk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ck(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Bf();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const a=new Date(l.date).valueOf();return Date.now()-a<=ok}),this._storage.overwrite(this._heartbeatsCache))}catch(r){gn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Bf(),{heartbeatsToSend:r,unsentEntries:s}=ak(this._heartbeatsCache.heartbeats),o=wl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return gn.warn(n),""}}}function Bf(){return new Date().toISOString().substring(0,10)}function ak(t,e=ik){const n=[];let r=t.slice();for(const s of t){const o=n.find(l=>l.agent===s.agent);if(o){if(o.dates.push(s.date),$f(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),$f(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ck{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Hw()?Vw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await sk(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Ff(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Ff(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function $f(t){return wl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(t){Sl(new Mi("platform-logger",e=>new w_(e),"PRIVATE")),Sl(new Mi("heartbeat",e=>new lk(e),"PRIVATE")),ls(ld,Mf,t),ls(ld,Mf,"esm2017"),ls("fire-js","")}dk("");var uk="firebase",hk="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ls(uk,hk,"app");var Uf={};const Gf="@firebase/database",Hf="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jg="";function fk(t){Jg=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ue(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Oi(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return tn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zg=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new pk(e)}}catch{}return new mk},ur=Zg("localStorage"),gk=Zg("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as=new Vg("@firebase/database"),yk=function(){let t=1;return function(){return t++}}(),ey=function(t){const e=e_(t),n=new Zw;n.update(e);const r=n.digest();return yu.encodeByteArray(r)},no=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=no.apply(null,r):typeof r=="object"?e+=Ue(r):e+=r,e+=" "}return e};let mi=null,Vf=!0;const xk=function(t,e){V(!0,"Can't turn on custom loggers persistently."),as.logLevel=be.VERBOSE,mi=as.log.bind(as)},qe=function(...t){if(Vf===!0&&(Vf=!1,mi===null&&gk.get("logging_enabled")===!0&&xk()),mi){const e=no.apply(null,t);mi(e)}},ro=function(t){return function(...e){qe(t,...e)}},dd=function(...t){const e="FIREBASE INTERNAL ERROR: "+no(...t);as.error(e)},yn=function(...t){const e=`FIREBASE FATAL ERROR: ${no(...t)}`;throw as.error(e),new Error(e)},dt=function(...t){const e="FIREBASE WARNING: "+no(...t);as.warn(e)},vk=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&dt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},vu=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},wk=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},xs="[MIN_NAME]",vr="[MAX_NAME]",Er=function(t,e){if(t===e)return 0;if(t===xs||e===vr)return-1;if(e===xs||t===vr)return 1;{const n=Yf(t),r=Yf(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},_k=function(t,e){return t===e?0:t<e?-1:1},qs=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ue(e))},wu=function(t){if(typeof t!="object"||t===null)return Ue(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Ue(e[r]),n+=":",n+=wu(t[e[r]]);return n+="}",n},ty=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function et(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const ny=function(t){V(!vu(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,o,l,a,c;t===0?(o=0,l=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,l=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,l=Math.round(t/Math.pow(2,1-r-n))));const d=[];for(c=n;c;c-=1)d.push(l%2?1:0),l=Math.floor(l/2);for(c=e;c;c-=1)d.push(o%2?1:0),o=Math.floor(o/2);d.push(s?1:0),d.reverse();const p=d.join("");let h="";for(c=0;c<64;c+=8){let f=parseInt(p.substr(c,8),2).toString(16);f.length===1&&(f="0"+f),h=h+f}return h.toLowerCase()},kk=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Sk=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function bk(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const Ck=new RegExp("^-?(0*)\\d{1,10}$"),Nk=-2147483648,Ek=2147483647,Yf=function(t){if(Ck.test(t)){const e=Number(t);if(e>=Nk&&e<=Ek)return e}return null},Es=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw dt("Exception was thrown by user callback.",n),e},Math.floor(0))}},jk=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},gi=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){dt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(qe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',dt(e)}}class Qo{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Qo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _u="5",ry="v",sy="s",iy="r",oy="f",ly=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ay="ls",cy="p",ud="ac",dy="websocket",uy="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e,n,r,s,o=!1,l="",a=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=o,this.persistenceKey=l,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ur.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ur.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Ik(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function fy(t,e,n){V(typeof e=="string","typeof type must == string"),V(typeof n=="object","typeof params must == object");let r;if(e===dy)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===uy)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Ik(t)&&(n.ns=t.namespace);const s=[];return et(n,(o,l)=>{s.push(o+"="+l)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(){this.counters_={}}incrementCounter(e,n=1){tn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Aw(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa={},Ja={};function ku(t){const e=t.toString();return qa[e]||(qa[e]=new Rk),qa[e]}function Ak(t,e){const n=t.toString();return Ja[n]||(Ja[n]=e()),Ja[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&Es(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf="start",Dk="close",Lk="pLPCommand",Ok="pRTLPCB",py="id",my="pw",gy="ser",Mk="cb",zk="seg",Fk="ts",Bk="d",$k="dframe",yy=1870,xy=30,Uk=yy-xy,Gk=25e3,Hk=3e4;class es{constructor(e,n,r,s,o,l,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=o,this.transportSessionId=l,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ro(e),this.stats_=ku(n),this.urlFn=c=>(this.appCheckToken&&(c[ud]=this.appCheckToken),fy(n,uy,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Wk(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Hk)),wk(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Su((...o)=>{const[l,a,c,d,p]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,l===Kf)this.id=a,this.password=c;else if(l===Dk)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+l)},(...o)=>{const[l,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(l,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[Kf]="t",r[gy]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Mk]=this.scriptTagHolder.uniqueCallbackIdentifier),r[ry]=_u,this.transportSessionId&&(r[sy]=this.transportSessionId),this.lastSessionId&&(r[ay]=this.lastSessionId),this.applicationId&&(r[cy]=this.applicationId),this.appCheckToken&&(r[ud]=this.appCheckToken),typeof location<"u"&&location.hostname&&ly.test(location.hostname)&&(r[iy]=oy);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){es.forceAllow_=!0}static forceDisallow(){es.forceDisallow_=!0}static isAvailable(){return es.forceAllow_?!0:!es.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!kk()&&!Sk()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ue(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=zg(n),s=ty(r,Uk);for(let o=0;o<s.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[$k]="t",r[py]=e,r[my]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ue(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Su{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=yk(),window[Lk+this.uniqueCallbackIdentifier]=e,window[Ok+this.uniqueCallbackIdentifier]=n,this.myIFrame=Su.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(a){qe("frame writing exception"),a.stack&&qe(a.stack),qe(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||qe("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[py]=this.myID,e[my]=this.myPW,e[gy]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+xy+r.length<=yy;){const l=this.pendingSegs.shift();r=r+"&"+zk+s+"="+l.seg+"&"+Fk+s+"="+l.ts+"&"+Bk+s+"="+l.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(Gk)),o=()=>{clearTimeout(s),r()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{qe("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk=16384,Yk=45e3;let bl=null;typeof MozWebSocket<"u"?bl=MozWebSocket:typeof WebSocket<"u"&&(bl=WebSocket);class $t{constructor(e,n,r,s,o,l,a){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ro(this.connId),this.stats_=ku(n),this.connURL=$t.connectionURL_(n,l,a,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,o){const l={};return l[ry]=_u,typeof location<"u"&&location.hostname&&ly.test(location.hostname)&&(l[iy]=oy),n&&(l[sy]=n),r&&(l[ay]=r),s&&(l[ud]=s),o&&(l[cy]=o),fy(e,dy,l)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ur.set("previous_websocket_failure",!0);try{let r;Gw(),this.mySock=new bl(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){$t.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&bl!==null&&!$t.forceDisallow_}static previouslyFailed(){return ur.isInMemoryStorage||ur.get("previous_websocket_failure")===!0}markConnectionHealthy(){ur.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Oi(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(V(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Ue(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=ty(n,Vk);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Yk))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}$t.responsesRequiredToBeHealthy=2;$t.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[es,$t]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=$t&&$t.isAvailable();let r=n&&!$t.previouslyFailed();if(e.webSocketOnly&&(n||dt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[$t];else{const s=this.transports_=[];for(const o of Fi.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);Fi.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Fi.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk=6e4,Qk=5e3,Xk=10*1024,qk=100*1024,Za="t",Qf="d",Jk="s",Xf="r",Zk="e",qf="o",Jf="a",Zf="n",ep="p",e1="h";class t1{constructor(e,n,r,s,o,l,a,c,d,p){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=o,this.onMessage_=l,this.onReady_=a,this.onDisconnect_=c,this.onKill_=d,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ro("c:"+this.id+":"),this.transportManager_=new Fi(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=gi(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>qk?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Xk?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Za in e){const n=e[Za];n===Jf?this.upgradeIfSecondaryHealthy_():n===Xf?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===qf&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=qs("t",e),r=qs("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:ep,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Jf,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Zf,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=qs("t",e),r=qs("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=qs(Za,e);if(Qf in e){const r=e[Qf];if(n===e1){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===Zf){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Jk?this.onConnectionShutdown_(r):n===Xf?this.onReset_(r):n===Zk?dd("Server Error: "+r):n===qf?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):dd("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),_u!==r&&dt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),gi(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Kk))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):gi(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Qk))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:ep,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ur.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e){this.allowedEvents_=e,this.listeners_={},V(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let o=0;o<s.length;o++)if(s[o].callback===n&&(!r||r===s[o].context)){s.splice(o,1);return}}validateEventType_(e){V(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl extends wy{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Ug()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Cl}getInitialEvent(e){return V(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp=32,np=768;class we{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function me(){return new we("")}function ae(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Yn(t){return t.pieces_.length-t.pieceNum_}function Ce(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new we(t.pieces_,e)}function bu(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function n1(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Bi(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function _y(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new we(e,0)}function Oe(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof we)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new we(n,0)}function de(t){return t.pieceNum_>=t.pieces_.length}function at(t,e){const n=ae(t),r=ae(e);if(n===null)return e;if(n===r)return at(Ce(t),Ce(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function r1(t,e){const n=Bi(t,0),r=Bi(e,0);for(let s=0;s<n.length&&s<r.length;s++){const o=Er(n[s],r[s]);if(o!==0)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Cu(t,e){if(Yn(t)!==Yn(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Rt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Yn(t)>Yn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class s1{constructor(e,n){this.errorPrefix_=n,this.parts_=Bi(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=ea(this.parts_[r]);ky(this)}}function i1(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=ea(e),ky(t)}function o1(t){const e=t.parts_.pop();t.byteLength_-=ea(e),t.parts_.length>0&&(t.byteLength_-=1)}function ky(t){if(t.byteLength_>np)throw new Error(t.errorPrefix_+"has a key path longer than "+np+" bytes ("+t.byteLength_+").");if(t.parts_.length>tp)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+tp+") or object contains a cycle "+lr(t))}function lr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu extends wy{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Nu}getInitialEvent(e){return V(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js=1e3,l1=60*5*1e3,rp=30*1e3,a1=1.3,c1=3e4,d1="server_kill",sp=3;class un extends vy{constructor(e,n,r,s,o,l,a,c){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=l,this.appCheckTokenProvider_=a,this.authOverride_=c,this.id=un.nextPersistentConnectionId_++,this.log_=ro("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Js,this.maxReconnectDelay_=l1,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Nu.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Cl.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,o={r:s,a:e,b:n};this.log_(Ue(o)),V(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new eo,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:l=>{const a=l.d;l.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,r,s){this.initConnection_();const o=e._queryIdentifier,l=e._path.toString();this.log_("Listen called for "+l+" "+o),this.listens.has(l)||this.listens.set(l,new Map),V(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),V(!this.listens.get(l).has(o),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(l).set(o,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const o={p:r},l="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(l,o,a=>{const c=a.d,d=a.s;un.warnOnListenWarnings_(c,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",a),d!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(d,c))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&tn(e,"w")){const r=ys(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();dt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||qw(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=rp)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=Xw(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const o=s.s,l=s.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,l))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),V(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const o={p:e},l="n";s&&(o.q=r,o.t=s),this.sendRequest(l,o)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const o={p:n,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,l=>{s&&setTimeout(()=>{s(l.s,l.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,o){this.initConnection_();const l={p:n,d:r};o!==void 0&&(l.h=o),this.outstandingPuts_.push({action:e,request:l,onComplete:s}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ue(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):dd("Unrecognized action received from server: "+Ue(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){V(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Js,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Js,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>c1&&(this.reconnectDelay_=Js),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*a1)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+un.nextConnectionId_++,o=this.lastSessionId;let l=!1,a=null;const c=function(){a?a.close():(l=!0,r())},d=function(h){V(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:c,sendRequest:d};const p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,f]=await Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)]);l?qe("getToken() completed but was canceled"):(qe("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,a=new t1(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,k=>{dt(k+" ("+this.repoInfo_.toString()+")"),this.interrupt(d1)},o))}catch(h){this.log_("Failed to get token: "+h),l||(this.repoInfo_.nodeAdmin&&dt(h),c())}}}interrupt(e){qe("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){qe("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Af(this.interruptReasons_)&&(this.reconnectDelay_=Js,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(o=>wu(o)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new we(e).toString();let s;if(this.listens.has(r)){const o=this.listens.get(r);s=o.get(n),o.delete(n),o.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){qe("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=sp&&(this.reconnectDelay_=rp,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){qe("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=sp&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Jg.replace(/\./g,"-")]=1,Ug()?e["framework.cordova"]=1:Uw()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Cl.getInstance().currentlyOnline();return Af(this.interruptReasons_)&&e}}un.nextPersistentConnectionId_=0;un.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ce(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ce(xs,e),s=new ce(xs,n);return this.compare(r,s)!==0}minPost(){return ce.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Do;class Sy extends ta{static get __EMPTY_NODE(){return Do}static set __EMPTY_NODE(e){Do=e}compare(e,n){return Er(e.name,n.name)}isDefinedOn(e){throw Ns("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ce.MIN}maxPost(){return new ce(vr,Do)}makePost(e,n){return V(typeof e=="string","KeyIndex indexValue must always be a string."),new ce(e,Do)}toString(){return".key"}}const cs=new Sy;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,n,r,s,o=null){this.isReverse_=s,this.resultGenerator_=o,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(e=e,l=n?r(e.key,n):1,s&&(l*=-1),l<0)this.isReverse_?e=e.left:e=e.right;else if(l===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ke{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??Ke.RED,this.left=s??yt.EMPTY_NODE,this.right=o??yt.EMPTY_NODE}copy(e,n,r,s,o){return new Ke(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return yt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return yt.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ke.RED=!0;Ke.BLACK=!1;class u1{copy(e,n,r,s,o){return this}insert(e,n,r){return new Ke(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class yt{constructor(e,n=yt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new yt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ke.BLACK,null,null))}remove(e){return new yt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ke.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Lo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Lo(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Lo(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Lo(this.root_,null,this.comparator_,!0,e)}}yt.EMPTY_NODE=new u1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(t,e){return Er(t.name,e.name)}function Eu(t,e){return Er(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hd;function f1(t){hd=t}const by=function(t){return typeof t=="number"?"number:"+ny(t):"string:"+t},Cy=function(t){if(t.isLeafNode()){const e=t.val();V(typeof e=="string"||typeof e=="number"||typeof e=="object"&&tn(e,".sv"),"Priority must be a string or number.")}else V(t===hd||t.isEmpty(),"priority of unexpected type.");V(t===hd||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ip;class Ve{constructor(e,n=Ve.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,V(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Cy(this.priorityNode_)}static set __childrenNodeConstructor(e){ip=e}static get __childrenNodeConstructor(){return ip}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ve(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ve.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return de(e)?this:ae(e)===".priority"?this.priorityNode_:Ve.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Ve.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=ae(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(V(r!==".priority"||Yn(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Ve.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ce(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+by(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=ny(this.value_):e+=this.value_,this.lazyHash_=ey(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ve.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ve.__childrenNodeConstructor?-1:(V(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=Ve.VALUE_TYPE_ORDER.indexOf(n),o=Ve.VALUE_TYPE_ORDER.indexOf(r);return V(s>=0,"Unknown leaf type: "+n),V(o>=0,"Unknown leaf type: "+r),s===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ve.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ny,Ey;function p1(t){Ny=t}function m1(t){Ey=t}class g1 extends ta{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),o=r.compareTo(s);return o===0?Er(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ce.MIN}maxPost(){return new ce(vr,new Ve("[PRIORITY-POST]",Ey))}makePost(e,n){const r=Ny(e);return new ce(n,new Ve("[PRIORITY-POST]",r))}toString(){return".priority"}}const Me=new g1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1=Math.log(2);class x1{constructor(e){const n=o=>parseInt(Math.log(o)/y1,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Nl=function(t,e,n,r){t.sort(e);const s=function(c,d){const p=d-c;let h,f;if(p===0)return null;if(p===1)return h=t[c],f=n?n(h):h,new Ke(f,h.node,Ke.BLACK,null,null);{const k=parseInt(p/2,10)+c,S=s(c,k),j=s(k+1,d);return h=t[k],f=n?n(h):h,new Ke(f,h.node,Ke.BLACK,S,j)}},o=function(c){let d=null,p=null,h=t.length;const f=function(S,j){const T=h-S,_=h;h-=S;const g=s(T+1,_),C=t[T],x=n?n(C):C;k(new Ke(x,C.node,j,null,g))},k=function(S){d?(d.left=S,d=S):(p=S,d=S)};for(let S=0;S<c.count;++S){const j=c.nextBitIsOne(),T=Math.pow(2,c.count-(S+1));j?f(T,Ke.BLACK):(f(T,Ke.BLACK),f(T,Ke.RED))}return p},l=new x1(t.length),a=o(l);return new yt(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ec;const zr={};class cn{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return V(zr&&Me,"ChildrenNode.ts has not been loaded"),ec=ec||new cn({".priority":zr},{".priority":Me}),ec}get(e){const n=ys(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof yt?n:null}hasIndex(e){return tn(this.indexSet_,e.toString())}addIndex(e,n){V(e!==cs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const o=n.getIterator(ce.Wrap);let l=o.getNext();for(;l;)s=s||e.isDefinedOn(l.node),r.push(l),l=o.getNext();let a;s?a=Nl(r,e.getCompare()):a=zr;const c=e.toString(),d=Object.assign({},this.indexSet_);d[c]=e;const p=Object.assign({},this.indexes_);return p[c]=a,new cn(p,d)}addToIndexes(e,n){const r=_l(this.indexes_,(s,o)=>{const l=ys(this.indexSet_,o);if(V(l,"Missing index implementation for "+o),s===zr)if(l.isDefinedOn(e.node)){const a=[],c=n.getIterator(ce.Wrap);let d=c.getNext();for(;d;)d.name!==e.name&&a.push(d),d=c.getNext();return a.push(e),Nl(a,l.getCompare())}else return zr;else{const a=n.get(e.name);let c=s;return a&&(c=c.remove(new ce(e.name,a))),c.insert(e,e.node)}});return new cn(r,this.indexSet_)}removeFromIndexes(e,n){const r=_l(this.indexes_,s=>{if(s===zr)return s;{const o=n.get(e.name);return o?s.remove(new ce(e.name,o)):s}});return new cn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zs;class ie{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Cy(this.priorityNode_),this.children_.isEmpty()&&V(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Zs||(Zs=new ie(new yt(Eu),null,cn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Zs}updatePriority(e){return this.children_.isEmpty()?this:new ie(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Zs:n}}getChild(e){const n=ae(e);return n===null?this:this.getImmediateChild(n).getChild(Ce(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(V(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new ce(e,n);let s,o;n.isEmpty()?(s=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));const l=s.isEmpty()?Zs:this.priorityNode_;return new ie(s,l,o)}}updateChild(e,n){const r=ae(e);if(r===null)return n;{V(ae(e)!==".priority"||Yn(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(Ce(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,o=!0;if(this.forEachChild(Me,(l,a)=>{n[l]=a.val(e),r++,o&&ie.INTEGER_REGEXP_.test(l)?s=Math.max(s,Number(l)):o=!1}),!e&&o&&s<2*r){const l=[];for(const a in n)l[a]=n[a];return l}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+by(this.getPriority().val())+":"),this.forEachChild(Me,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":ey(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const o=s.getPredecessorKey(new ce(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ce(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ce(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,ce.Wrap);let o=s.peek();for(;o!=null&&n.compare(o,e)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,ce.Wrap);let o=s.peek();for(;o!=null&&n.compare(o,e)>0;)s.getNext(),o=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===so?-1:0}withIndex(e){if(e===cs||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ie(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===cs||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Me),s=n.getIterator(Me);let o=r.getNext(),l=s.getNext();for(;o&&l;){if(o.name!==l.name||!o.node.equals(l.node))return!1;o=r.getNext(),l=s.getNext()}return o===null&&l===null}else return!1;else return!1}}resolveIndex_(e){return e===cs?null:this.indexMap_.get(e.toString())}}ie.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class v1 extends ie{constructor(){super(new yt(Eu),ie.EMPTY_NODE,cn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ie.EMPTY_NODE}isEmpty(){return!1}}const so=new v1;Object.defineProperties(ce,{MIN:{value:new ce(xs,ie.EMPTY_NODE)},MAX:{value:new ce(vr,so)}});Sy.__EMPTY_NODE=ie.EMPTY_NODE;Ve.__childrenNodeConstructor=ie;f1(so);m1(so);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1=!0;function $e(t,e=null){if(t===null)return ie.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),V(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Ve(n,$e(e))}if(!(t instanceof Array)&&w1){const n=[];let r=!1;if(et(t,(l,a)=>{if(l.substring(0,1)!=="."){const c=$e(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new ce(l,c)))}}),n.length===0)return ie.EMPTY_NODE;const o=Nl(n,h1,l=>l.name,Eu);if(r){const l=Nl(n,Me.getCompare());return new ie(o,$e(e),new cn({".priority":l},{".priority":Me}))}else return new ie(o,$e(e),cn.Default)}else{let n=ie.EMPTY_NODE;return et(t,(r,s)=>{if(tn(t,r)&&r.substring(0,1)!=="."){const o=$e(s);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority($e(e))}}p1($e);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1 extends ta{constructor(e){super(),this.indexPath_=e,V(!de(e)&&ae(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),o=r.compareTo(s);return o===0?Er(e.name,n.name):o}makePost(e,n){const r=$e(e),s=ie.EMPTY_NODE.updateChild(this.indexPath_,r);return new ce(n,s)}maxPost(){const e=ie.EMPTY_NODE.updateChild(this.indexPath_,so);return new ce(vr,e)}toString(){return Bi(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1 extends ta{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Er(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ce.MIN}maxPost(){return ce.MAX}makePost(e,n){const r=$e(e);return new ce(n,r)}toString(){return".value"}}const S1=new k1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(t){return{type:"value",snapshotNode:t}}function vs(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function $i(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Ui(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function b1(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e){this.index_=e}updateChild(e,n,r,s,o,l){V(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(s).equals(r.getChild(s))&&a.isEmpty()===r.isEmpty()||(l!=null&&(r.isEmpty()?e.hasChild(n)?l.trackChildChange($i(n,a)):V(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?l.trackChildChange(vs(n,r)):l.trackChildChange(Ui(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Me,(s,o)=>{n.hasChild(s)||r.trackChildChange($i(s,o))}),n.isLeafNode()||n.forEachChild(Me,(s,o)=>{if(e.hasChild(s)){const l=e.getImmediateChild(s);l.equals(o)||r.trackChildChange(Ui(s,o,l))}else r.trackChildChange(vs(s,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?ie.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e){this.indexedFilter_=new ju(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Gi.getStartPost_(e),this.endPost_=Gi.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,s,o,l){return this.matches(new ce(n,r))||(r=ie.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,s,o,l)}updateFullNode(e,n,r){n.isLeafNode()&&(n=ie.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(ie.EMPTY_NODE);const o=this;return n.forEachChild(Me,(l,a)=>{o.matches(new ce(l,a))||(s=s.updateImmediateChild(l,ie.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Gi(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,s,o,l){return this.rangedFilter_.matches(new ce(n,r))||(r=ie.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,s,o,l):this.fullLimitUpdateChild_(e,n,r,o,l)}updateFullNode(e,n,r){let s;if(n.isLeafNode()||n.isEmpty())s=ie.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=ie.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;o.hasNext()&&l<this.limit_;){const a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))s=s.updateImmediateChild(a.name,a.node),l++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(ie.EMPTY_NODE);let o;this.reverse_?o=s.getReverseIterator(this.index_):o=s.getIterator(this.index_);let l=0;for(;o.hasNext();){const a=o.getNext();l<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?l++:s=s.updateImmediateChild(a.name,ie.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,s,o){let l;if(this.reverse_){const h=this.index_.getCompare();l=(f,k)=>h(k,f)}else l=this.index_.getCompare();const a=e;V(a.numChildren()===this.limit_,"");const c=new ce(n,r),d=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),p=this.rangedFilter_.matches(c);if(a.hasChild(n)){const h=a.getImmediateChild(n);let f=s.getChildAfterChild(this.index_,d,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=s.getChildAfterChild(this.index_,f,this.reverse_);const k=f==null?1:l(f,c);if(p&&!r.isEmpty()&&k>=0)return o!=null&&o.trackChildChange(Ui(n,r,h)),a.updateImmediateChild(n,r);{o!=null&&o.trackChildChange($i(n,h));const j=a.updateImmediateChild(n,ie.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(o!=null&&o.trackChildChange(vs(f.name,f.node)),j.updateImmediateChild(f.name,f.node)):j}}else return r.isEmpty()?e:p&&l(d,c)>=0?(o!=null&&(o.trackChildChange($i(d.name,d.node)),o.trackChildChange(vs(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(d.name,ie.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Me}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return V(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return V(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:xs}hasEnd(){return this.endSet_}getIndexEndValue(){return V(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return V(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:vr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return V(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Me}copy(){const e=new Tu;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function N1(t){return t.loadsAllData()?new ju(t.getIndex()):t.hasLimit()?new C1(t):new Gi(t)}function op(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Me?n="$priority":t.index_===S1?n="$value":t.index_===cs?n="$key":(V(t.index_ instanceof _1,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ue(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Ue(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Ue(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Ue(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Ue(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function lp(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Me&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El extends vy{constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=ro("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(V(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,s){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const l=El.getListenId_(e,r),a={};this.listens_[l]=a;const c=op(e._queryParams);this.restRequest_(o+".json",c,(d,p)=>{let h=p;if(d===404&&(h=null,d=null),d===null&&this.onDataUpdate_(o,h,!1,r),ys(this.listens_,l)===a){let f;d?d===401?f="permission_denied":f="rest_error:"+d:f="ok",s(f,null)}})}unlisten(e,n){const r=El.getListenId_(e,n);delete this.listens_[r]}get(e){const n=op(e._queryParams),r=e._path.toString(),s=new eo;return this.restRequest_(r+".json",n,(o,l)=>{let a=l;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),s.resolve(a)):s.reject(new Error(a))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,o])=>{s&&s.accessToken&&(n.auth=s.accessToken),o&&o.token&&(n.ac=o.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Jw(n);this.log_("Sending REST request for "+l);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+l+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=Oi(a.responseText)}catch{dt("Failed to parse JSON response for "+l+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&dt("Got unsuccessful REST response for "+l+" Status: "+a.status),r(a.status);r=null}},a.open("GET",l,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(){this.rootNode_=ie.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(){return{value:null,children:new Map}}function Ty(t,e,n){if(de(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=ae(e);t.children.has(r)||t.children.set(r,jl());const s=t.children.get(r);e=Ce(e),Ty(s,e,n)}}function fd(t,e,n){t.value!==null?n(e,t.value):j1(t,(r,s)=>{const o=new we(e.toString()+"/"+r);fd(s,o,n)})}function j1(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&et(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap=10*1e3,P1=30*1e3,I1=5*60*1e3;class R1{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new T1(e);const r=ap+(P1-ap)*Math.random();gi(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;et(e,(s,o)=>{o>0&&tn(this.statsToReport_,s)&&(n[s]=o,r=!0)}),r&&this.server_.reportStats(n),gi(this.reportStats_.bind(this),Math.floor(Math.random()*2*I1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ut||(Ut={}));function Pu(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Iu(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Ru(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Ut.ACK_USER_WRITE,this.source=Pu()}operationForChild(e){if(de(this.path)){if(this.affectedTree.value!=null)return V(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new we(e));return new Tl(me(),n,this.revert)}}else return V(ae(this.path)===e,"operationForChild called for unrelated child."),new Tl(Ce(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,n){this.source=e,this.path=n,this.type=Ut.LISTEN_COMPLETE}operationForChild(e){return de(this.path)?new Hi(this.source,me()):new Hi(this.source,Ce(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Ut.OVERWRITE}operationForChild(e){return de(this.path)?new wr(this.source,me(),this.snap.getImmediateChild(e)):new wr(this.source,Ce(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Ut.MERGE}operationForChild(e){if(de(this.path)){const n=this.children.subtree(new we(e));return n.isEmpty()?null:n.value?new wr(this.source,me(),n.value):new ws(this.source,me(),n)}else return V(ae(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ws(this.source,Ce(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(de(e))return this.isFullyInitialized()&&!this.filtered_;const n=ae(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function W1(t,e,n,r){const s=[],o=[];return e.forEach(l=>{l.type==="child_changed"&&t.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&o.push(b1(l.childName,l.snapshotNode))}),ei(t,s,"child_removed",e,r,n),ei(t,s,"child_added",e,r,n),ei(t,s,"child_moved",o,r,n),ei(t,s,"child_changed",e,r,n),ei(t,s,"value",e,r,n),s}function ei(t,e,n,r,s,o){const l=r.filter(a=>a.type===n);l.sort((a,c)=>L1(t,a,c)),l.forEach(a=>{const c=D1(t,a,o);s.forEach(d=>{d.respondsTo(a.type)&&e.push(d.createEvent(c,t.query_))})})}function D1(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function L1(t,e,n){if(e.childName==null||n.childName==null)throw Ns("Should only compare child_ events.");const r=new ce(e.childName,e.snapshotNode),s=new ce(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(t,e){return{eventCache:t,serverCache:e}}function yi(t,e,n,r){return na(new Kn(e,n,r),t.serverCache)}function Py(t,e,n,r){return na(t.eventCache,new Kn(e,n,r))}function Pl(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function _r(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tc;const O1=()=>(tc||(tc=new yt(_k)),tc);class Se{constructor(e,n=O1()){this.value=e,this.children=n}static fromObject(e){let n=new Se(null);return et(e,(r,s)=>{n=n.set(new we(r),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:me(),value:this.value};if(de(e))return null;{const r=ae(e),s=this.children.get(r);if(s!==null){const o=s.findRootMostMatchingPathAndValue(Ce(e),n);return o!=null?{path:Oe(new we(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(de(e))return this;{const n=ae(e),r=this.children.get(n);return r!==null?r.subtree(Ce(e)):new Se(null)}}set(e,n){if(de(e))return new Se(n,this.children);{const r=ae(e),o=(this.children.get(r)||new Se(null)).set(Ce(e),n),l=this.children.insert(r,o);return new Se(this.value,l)}}remove(e){if(de(e))return this.children.isEmpty()?new Se(null):new Se(null,this.children);{const n=ae(e),r=this.children.get(n);if(r){const s=r.remove(Ce(e));let o;return s.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,s),this.value===null&&o.isEmpty()?new Se(null):new Se(this.value,o)}else return this}}get(e){if(de(e))return this.value;{const n=ae(e),r=this.children.get(n);return r?r.get(Ce(e)):null}}setTree(e,n){if(de(e))return n;{const r=ae(e),o=(this.children.get(r)||new Se(null)).setTree(Ce(e),n);let l;return o.isEmpty()?l=this.children.remove(r):l=this.children.insert(r,o),new Se(this.value,l)}}fold(e){return this.fold_(me(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,o)=>{r[s]=o.fold_(Oe(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,me(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(de(e))return null;{const o=ae(e),l=this.children.get(o);return l?l.findOnPath_(Ce(e),Oe(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,me(),n)}foreachOnPath_(e,n,r){if(de(e))return this;{this.value&&r(n,this.value);const s=ae(e),o=this.children.get(s);return o?o.foreachOnPath_(Ce(e),Oe(n,s),r):new Se(null)}}foreach(e){this.foreach_(me(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(Oe(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.writeTree_=e}static empty(){return new Vt(new Se(null))}}function xi(t,e,n){if(de(e))return new Vt(new Se(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let o=r.value;const l=at(s,e);return o=o.updateChild(l,n),new Vt(t.writeTree_.set(s,o))}else{const s=new Se(n),o=t.writeTree_.setTree(e,s);return new Vt(o)}}}function pd(t,e,n){let r=t;return et(n,(s,o)=>{r=xi(r,Oe(e,s),o)}),r}function cp(t,e){if(de(e))return Vt.empty();{const n=t.writeTree_.setTree(e,new Se(null));return new Vt(n)}}function md(t,e){return jr(t,e)!=null}function jr(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(at(n.path,e)):null}function dp(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Me,(r,s)=>{e.push(new ce(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new ce(r,s.value))}),e}function Un(t,e){if(de(e))return t;{const n=jr(t,e);return n!=null?new Vt(new Se(n)):new Vt(t.writeTree_.subtree(e))}}function gd(t){return t.writeTree_.isEmpty()}function _s(t,e){return Iy(me(),t.writeTree_,e)}function Iy(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,o)=>{s===".priority"?(V(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=Iy(Oe(t,s),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Oe(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ra(t,e){return Dy(e,t)}function M1(t,e,n,r,s){V(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=xi(t.visibleWrites,e,n)),t.lastWriteId=r}function z1(t,e,n,r){V(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=pd(t.visibleWrites,e,n),t.lastWriteId=r}function F1(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function B1(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);V(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,o=!1,l=t.allWrites.length-1;for(;s&&l>=0;){const a=t.allWrites[l];a.visible&&(l>=n&&$1(a,r.path)?s=!1:Rt(r.path,a.path)&&(o=!0)),l--}if(s){if(o)return U1(t),!0;if(r.snap)t.visibleWrites=cp(t.visibleWrites,r.path);else{const a=r.children;et(a,c=>{t.visibleWrites=cp(t.visibleWrites,Oe(r.path,c))})}return!0}else return!1}function $1(t,e){if(t.snap)return Rt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Rt(Oe(t.path,n),e))return!0;return!1}function U1(t){t.visibleWrites=Ry(t.allWrites,G1,me()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function G1(t){return t.visible}function Ry(t,e,n){let r=Vt.empty();for(let s=0;s<t.length;++s){const o=t[s];if(e(o)){const l=o.path;let a;if(o.snap)Rt(n,l)?(a=at(n,l),r=xi(r,a,o.snap)):Rt(l,n)&&(a=at(l,n),r=xi(r,me(),o.snap.getChild(a)));else if(o.children){if(Rt(n,l))a=at(n,l),r=pd(r,a,o.children);else if(Rt(l,n))if(a=at(l,n),de(a))r=pd(r,me(),o.children);else{const c=ys(o.children,ae(a));if(c){const d=c.getChild(Ce(a));r=xi(r,me(),d)}}}else throw Ns("WriteRecord should have .snap or .children")}}return r}function Ay(t,e,n,r,s){if(!r&&!s){const o=jr(t.visibleWrites,e);if(o!=null)return o;{const l=Un(t.visibleWrites,e);if(gd(l))return n;if(n==null&&!md(l,me()))return null;{const a=n||ie.EMPTY_NODE;return _s(l,a)}}}else{const o=Un(t.visibleWrites,e);if(!s&&gd(o))return n;if(!s&&n==null&&!md(o,me()))return null;{const l=function(d){return(d.visible||s)&&(!r||!~r.indexOf(d.writeId))&&(Rt(d.path,e)||Rt(e,d.path))},a=Ry(t.allWrites,l,e),c=n||ie.EMPTY_NODE;return _s(a,c)}}}function H1(t,e,n){let r=ie.EMPTY_NODE;const s=jr(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Me,(o,l)=>{r=r.updateImmediateChild(o,l)}),r;if(n){const o=Un(t.visibleWrites,e);return n.forEachChild(Me,(l,a)=>{const c=_s(Un(o,new we(l)),a);r=r.updateImmediateChild(l,c)}),dp(o).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}else{const o=Un(t.visibleWrites,e);return dp(o).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}}function V1(t,e,n,r,s){V(r||s,"Either existingEventSnap or existingServerSnap must exist");const o=Oe(e,n);if(md(t.visibleWrites,o))return null;{const l=Un(t.visibleWrites,o);return gd(l)?s.getChild(n):_s(l,s.getChild(n))}}function Y1(t,e,n,r){const s=Oe(e,n),o=jr(t.visibleWrites,s);if(o!=null)return o;if(r.isCompleteForChild(n)){const l=Un(t.visibleWrites,s);return _s(l,r.getNode().getImmediateChild(n))}else return null}function K1(t,e){return jr(t.visibleWrites,e)}function Q1(t,e,n,r,s,o,l){let a;const c=Un(t.visibleWrites,e),d=jr(c,me());if(d!=null)a=d;else if(n!=null)a=_s(c,n);else return[];if(a=a.withIndex(l),!a.isEmpty()&&!a.isLeafNode()){const p=[],h=l.getCompare(),f=o?a.getReverseIteratorFrom(r,l):a.getIteratorFrom(r,l);let k=f.getNext();for(;k&&p.length<s;)h(k,r)!==0&&p.push(k),k=f.getNext();return p}else return[]}function X1(){return{visibleWrites:Vt.empty(),allWrites:[],lastWriteId:-1}}function Il(t,e,n,r){return Ay(t.writeTree,t.treePath,e,n,r)}function Au(t,e){return H1(t.writeTree,t.treePath,e)}function up(t,e,n,r){return V1(t.writeTree,t.treePath,e,n,r)}function Rl(t,e){return K1(t.writeTree,Oe(t.treePath,e))}function q1(t,e,n,r,s,o){return Q1(t.writeTree,t.treePath,e,n,r,s,o)}function Wu(t,e,n){return Y1(t.writeTree,t.treePath,e,n)}function Wy(t,e){return Dy(Oe(t.treePath,e),t.writeTree)}function Dy(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;V(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),V(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const o=s.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,Ui(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,$i(r,s.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,vs(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,Ui(r,e.snapshotNode,s.oldSnap));else throw Ns("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const Ly=new Z1;class Du{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Kn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Wu(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:_r(this.viewCache_),o=q1(this.writes_,s,n,1,r,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(t){return{filter:t}}function tS(t,e){V(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),V(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function nS(t,e,n,r,s){const o=new J1;let l,a;if(n.type===Ut.OVERWRITE){const d=n;d.source.fromUser?l=yd(t,e,d.path,d.snap,r,s,o):(V(d.source.fromServer,"Unknown source."),a=d.source.tagged||e.serverCache.isFiltered()&&!de(d.path),l=Al(t,e,d.path,d.snap,r,s,a,o))}else if(n.type===Ut.MERGE){const d=n;d.source.fromUser?l=sS(t,e,d.path,d.children,r,s,o):(V(d.source.fromServer,"Unknown source."),a=d.source.tagged||e.serverCache.isFiltered(),l=xd(t,e,d.path,d.children,r,s,a,o))}else if(n.type===Ut.ACK_USER_WRITE){const d=n;d.revert?l=lS(t,e,d.path,r,s,o):l=iS(t,e,d.path,d.affectedTree,r,s,o)}else if(n.type===Ut.LISTEN_COMPLETE)l=oS(t,e,n.path,r,o);else throw Ns("Unknown operation type: "+n.type);const c=o.getChanges();return rS(e,l,c),{viewCache:l,changes:c}}function rS(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Pl(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(jy(Pl(e)))}}function Oy(t,e,n,r,s,o){const l=e.eventCache;if(Rl(r,n)!=null)return e;{let a,c;if(de(n))if(V(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const d=_r(e),p=d instanceof ie?d:ie.EMPTY_NODE,h=Au(r,p);a=t.filter.updateFullNode(e.eventCache.getNode(),h,o)}else{const d=Il(r,_r(e));a=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{const d=ae(n);if(d===".priority"){V(Yn(n)===1,"Can't have a priority with additional path components");const p=l.getNode();c=e.serverCache.getNode();const h=up(r,n,p,c);h!=null?a=t.filter.updatePriority(p,h):a=l.getNode()}else{const p=Ce(n);let h;if(l.isCompleteForChild(d)){c=e.serverCache.getNode();const f=up(r,n,l.getNode(),c);f!=null?h=l.getNode().getImmediateChild(d).updateChild(p,f):h=l.getNode().getImmediateChild(d)}else h=Wu(r,d,e.serverCache);h!=null?a=t.filter.updateChild(l.getNode(),d,h,p,s,o):a=l.getNode()}}return yi(e,a,l.isFullyInitialized()||de(n),t.filter.filtersNodes())}}function Al(t,e,n,r,s,o,l,a){const c=e.serverCache;let d;const p=l?t.filter:t.filter.getIndexedFilter();if(de(n))d=p.updateFullNode(c.getNode(),r,null);else if(p.filtersNodes()&&!c.isFiltered()){const k=c.getNode().updateChild(n,r);d=p.updateFullNode(c.getNode(),k,null)}else{const k=ae(n);if(!c.isCompleteForPath(n)&&Yn(n)>1)return e;const S=Ce(n),T=c.getNode().getImmediateChild(k).updateChild(S,r);k===".priority"?d=p.updatePriority(c.getNode(),T):d=p.updateChild(c.getNode(),k,T,S,Ly,null)}const h=Py(e,d,c.isFullyInitialized()||de(n),p.filtersNodes()),f=new Du(s,h,o);return Oy(t,h,n,s,f,a)}function yd(t,e,n,r,s,o,l){const a=e.eventCache;let c,d;const p=new Du(s,e,o);if(de(n))d=t.filter.updateFullNode(e.eventCache.getNode(),r,l),c=yi(e,d,!0,t.filter.filtersNodes());else{const h=ae(n);if(h===".priority")d=t.filter.updatePriority(e.eventCache.getNode(),r),c=yi(e,d,a.isFullyInitialized(),a.isFiltered());else{const f=Ce(n),k=a.getNode().getImmediateChild(h);let S;if(de(f))S=r;else{const j=p.getCompleteChild(h);j!=null?bu(f)===".priority"&&j.getChild(_y(f)).isEmpty()?S=j:S=j.updateChild(f,r):S=ie.EMPTY_NODE}if(k.equals(S))c=e;else{const j=t.filter.updateChild(a.getNode(),h,S,f,p,l);c=yi(e,j,a.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function hp(t,e){return t.eventCache.isCompleteForChild(e)}function sS(t,e,n,r,s,o,l){let a=e;return r.foreach((c,d)=>{const p=Oe(n,c);hp(e,ae(p))&&(a=yd(t,a,p,d,s,o,l))}),r.foreach((c,d)=>{const p=Oe(n,c);hp(e,ae(p))||(a=yd(t,a,p,d,s,o,l))}),a}function fp(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function xd(t,e,n,r,s,o,l,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,d;de(n)?d=r:d=new Se(null).setTree(n,r);const p=e.serverCache.getNode();return d.children.inorderTraversal((h,f)=>{if(p.hasChild(h)){const k=e.serverCache.getNode().getImmediateChild(h),S=fp(t,k,f);c=Al(t,c,new we(h),S,s,o,l,a)}}),d.children.inorderTraversal((h,f)=>{const k=!e.serverCache.isCompleteForChild(h)&&f.value===null;if(!p.hasChild(h)&&!k){const S=e.serverCache.getNode().getImmediateChild(h),j=fp(t,S,f);c=Al(t,c,new we(h),j,s,o,l,a)}}),c}function iS(t,e,n,r,s,o,l){if(Rl(s,n)!=null)return e;const a=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(de(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Al(t,e,n,c.getNode().getChild(n),s,o,a,l);if(de(n)){let d=new Se(null);return c.getNode().forEachChild(cs,(p,h)=>{d=d.set(new we(p),h)}),xd(t,e,n,d,s,o,a,l)}else return e}else{let d=new Se(null);return r.foreach((p,h)=>{const f=Oe(n,p);c.isCompleteForPath(f)&&(d=d.set(p,c.getNode().getChild(f)))}),xd(t,e,n,d,s,o,a,l)}}function oS(t,e,n,r,s){const o=e.serverCache,l=Py(e,o.getNode(),o.isFullyInitialized()||de(n),o.isFiltered());return Oy(t,l,n,r,Ly,s)}function lS(t,e,n,r,s,o){let l;if(Rl(r,n)!=null)return e;{const a=new Du(r,e,s),c=e.eventCache.getNode();let d;if(de(n)||ae(n)===".priority"){let p;if(e.serverCache.isFullyInitialized())p=Il(r,_r(e));else{const h=e.serverCache.getNode();V(h instanceof ie,"serverChildren would be complete if leaf node"),p=Au(r,h)}p=p,d=t.filter.updateFullNode(c,p,o)}else{const p=ae(n);let h=Wu(r,p,e.serverCache);h==null&&e.serverCache.isCompleteForChild(p)&&(h=c.getImmediateChild(p)),h!=null?d=t.filter.updateChild(c,p,h,Ce(n),a,o):e.eventCache.getNode().hasChild(p)?d=t.filter.updateChild(c,p,ie.EMPTY_NODE,Ce(n),a,o):d=c,d.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=Il(r,_r(e)),l.isLeafNode()&&(d=t.filter.updateFullNode(d,l,o)))}return l=e.serverCache.isFullyInitialized()||Rl(r,me())!=null,yi(e,d,l,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,s=new ju(r.getIndex()),o=N1(r);this.processor_=eS(o);const l=n.serverCache,a=n.eventCache,c=s.updateFullNode(ie.EMPTY_NODE,l.getNode(),null),d=o.updateFullNode(ie.EMPTY_NODE,a.getNode(),null),p=new Kn(c,l.isFullyInitialized(),s.filtersNodes()),h=new Kn(d,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=na(h,p),this.eventGenerator_=new A1(this.query_)}get query(){return this.query_}}function cS(t){return t.viewCache_.serverCache.getNode()}function dS(t){return Pl(t.viewCache_)}function uS(t,e){const n=_r(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!de(e)&&!n.getImmediateChild(ae(e)).isEmpty())?n.getChild(e):null}function pp(t){return t.eventRegistrations_.length===0}function hS(t,e){t.eventRegistrations_.push(e)}function mp(t,e,n){const r=[];if(n){V(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(o=>{const l=o.createCancelEvent(n,s);l&&r.push(l)})}if(e){let s=[];for(let o=0;o<t.eventRegistrations_.length;++o){const l=t.eventRegistrations_[o];if(!l.matches(e))s.push(l);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function gp(t,e,n,r){e.type===Ut.MERGE&&e.source.queryId!==null&&(V(_r(t.viewCache_),"We should always have a full cache before handling merges"),V(Pl(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,o=nS(t.processor_,s,e,n,r);return tS(t.processor_,o.viewCache),V(o.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,My(t,o.changes,o.viewCache.eventCache.getNode(),null)}function fS(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Me,(o,l)=>{r.push(vs(o,l))}),n.isFullyInitialized()&&r.push(jy(n.getNode())),My(t,r,n.getNode(),e)}function My(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return W1(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wl;class zy{constructor(){this.views=new Map}}function pS(t){V(!Wl,"__referenceConstructor has already been defined"),Wl=t}function mS(){return V(Wl,"Reference.ts has not been loaded"),Wl}function gS(t){return t.views.size===0}function Lu(t,e,n,r){const s=e.source.queryId;if(s!==null){const o=t.views.get(s);return V(o!=null,"SyncTree gave us an op for an invalid query."),gp(o,e,n,r)}else{let o=[];for(const l of t.views.values())o=o.concat(gp(l,e,n,r));return o}}function Fy(t,e,n,r,s){const o=e._queryIdentifier,l=t.views.get(o);if(!l){let a=Il(n,s?r:null),c=!1;a?c=!0:r instanceof ie?(a=Au(n,r),c=!1):(a=ie.EMPTY_NODE,c=!1);const d=na(new Kn(a,c,!1),new Kn(r,s,!1));return new aS(e,d)}return l}function yS(t,e,n,r,s,o){const l=Fy(t,e,r,s,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,l),hS(l,n),fS(l,n)}function xS(t,e,n,r){const s=e._queryIdentifier,o=[];let l=[];const a=Qn(t);if(s==="default")for(const[c,d]of t.views.entries())l=l.concat(mp(d,n,r)),pp(d)&&(t.views.delete(c),d.query._queryParams.loadsAllData()||o.push(d.query));else{const c=t.views.get(s);c&&(l=l.concat(mp(c,n,r)),pp(c)&&(t.views.delete(s),c.query._queryParams.loadsAllData()||o.push(c.query)))}return a&&!Qn(t)&&o.push(new(mS())(e._repo,e._path)),{removed:o,events:l}}function By(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Gn(t,e){let n=null;for(const r of t.views.values())n=n||uS(r,e);return n}function $y(t,e){if(e._queryParams.loadsAllData())return sa(t);{const r=e._queryIdentifier;return t.views.get(r)}}function Uy(t,e){return $y(t,e)!=null}function Qn(t){return sa(t)!=null}function sa(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dl;function vS(t){V(!Dl,"__referenceConstructor has already been defined"),Dl=t}function wS(){return V(Dl,"Reference.ts has not been loaded"),Dl}let _S=1;class yp{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Se(null),this.pendingWriteTree_=X1(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Gy(t,e,n,r,s){return M1(t.pendingWriteTree_,e,n,r,s),s?js(t,new wr(Pu(),e,n)):[]}function kS(t,e,n,r){z1(t.pendingWriteTree_,e,n,r);const s=Se.fromObject(n);return js(t,new ws(Pu(),e,s))}function Rn(t,e,n=!1){const r=F1(t.pendingWriteTree_,e);if(B1(t.pendingWriteTree_,e)){let o=new Se(null);return r.snap!=null?o=o.set(me(),!0):et(r.children,l=>{o=o.set(new we(l),!0)}),js(t,new Tl(r.path,o,n))}else return[]}function io(t,e,n){return js(t,new wr(Iu(),e,n))}function SS(t,e,n){const r=Se.fromObject(n);return js(t,new ws(Iu(),e,r))}function bS(t,e){return js(t,new Hi(Iu(),e))}function CS(t,e,n){const r=Mu(t,n);if(r){const s=zu(r),o=s.path,l=s.queryId,a=at(o,e),c=new Hi(Ru(l),a);return Fu(t,o,c)}else return[]}function Ll(t,e,n,r,s=!1){const o=e._path,l=t.syncPointTree_.get(o);let a=[];if(l&&(e._queryIdentifier==="default"||Uy(l,e))){const c=xS(l,e,n,r);gS(l)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const d=c.removed;if(a=c.events,!s){const p=d.findIndex(f=>f._queryParams.loadsAllData())!==-1,h=t.syncPointTree_.findOnPath(o,(f,k)=>Qn(k));if(p&&!h){const f=t.syncPointTree_.subtree(o);if(!f.isEmpty()){const k=jS(f);for(let S=0;S<k.length;++S){const j=k[S],T=j.query,_=Ky(t,j);t.listenProvider_.startListening(vi(T),Vi(t,T),_.hashFn,_.onComplete)}}}!h&&d.length>0&&!r&&(p?t.listenProvider_.stopListening(vi(e),null):d.forEach(f=>{const k=t.queryToTagMap.get(ia(f));t.listenProvider_.stopListening(vi(f),k)}))}TS(t,d)}return a}function Hy(t,e,n,r){const s=Mu(t,r);if(s!=null){const o=zu(s),l=o.path,a=o.queryId,c=at(l,e),d=new wr(Ru(a),c,n);return Fu(t,l,d)}else return[]}function NS(t,e,n,r){const s=Mu(t,r);if(s){const o=zu(s),l=o.path,a=o.queryId,c=at(l,e),d=Se.fromObject(n),p=new ws(Ru(a),c,d);return Fu(t,l,p)}else return[]}function vd(t,e,n,r=!1){const s=e._path;let o=null,l=!1;t.syncPointTree_.foreachOnPath(s,(f,k)=>{const S=at(f,s);o=o||Gn(k,S),l=l||Qn(k)});let a=t.syncPointTree_.get(s);a?(l=l||Qn(a),o=o||Gn(a,me())):(a=new zy,t.syncPointTree_=t.syncPointTree_.set(s,a));let c;o!=null?c=!0:(c=!1,o=ie.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((k,S)=>{const j=Gn(S,me());j&&(o=o.updateImmediateChild(k,j))}));const d=Uy(a,e);if(!d&&!e._queryParams.loadsAllData()){const f=ia(e);V(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const k=PS();t.queryToTagMap.set(f,k),t.tagToQueryMap.set(k,f)}const p=ra(t.pendingWriteTree_,s);let h=yS(a,e,n,p,o,c);if(!d&&!l&&!r){const f=$y(a,e);h=h.concat(IS(t,e,f))}return h}function Ou(t,e,n){const s=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(l,a)=>{const c=at(l,e),d=Gn(a,c);if(d)return d});return Ay(s,e,o,n,!0)}function ES(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(d,p)=>{const h=at(d,n);r=r||Gn(p,h)});let s=t.syncPointTree_.get(n);s?r=r||Gn(s,me()):(s=new zy,t.syncPointTree_=t.syncPointTree_.set(n,s));const o=r!=null,l=o?new Kn(r,!0,!1):null,a=ra(t.pendingWriteTree_,e._path),c=Fy(s,e,a,o?l.getNode():ie.EMPTY_NODE,o);return dS(c)}function js(t,e){return Vy(e,t.syncPointTree_,null,ra(t.pendingWriteTree_,me()))}function Vy(t,e,n,r){if(de(t.path))return Yy(t,e,n,r);{const s=e.get(me());n==null&&s!=null&&(n=Gn(s,me()));let o=[];const l=ae(t.path),a=t.operationForChild(l),c=e.children.get(l);if(c&&a){const d=n?n.getImmediateChild(l):null,p=Wy(r,l);o=o.concat(Vy(a,c,d,p))}return s&&(o=o.concat(Lu(s,t,r,n))),o}}function Yy(t,e,n,r){const s=e.get(me());n==null&&s!=null&&(n=Gn(s,me()));let o=[];return e.children.inorderTraversal((l,a)=>{const c=n?n.getImmediateChild(l):null,d=Wy(r,l),p=t.operationForChild(l);p&&(o=o.concat(Yy(p,a,c,d)))}),s&&(o=o.concat(Lu(s,t,r,n))),o}function Ky(t,e){const n=e.query,r=Vi(t,n);return{hashFn:()=>(cS(e)||ie.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return r?CS(t,n._path,r):bS(t,n._path);{const o=bk(s,n);return Ll(t,n,null,o)}}}}function Vi(t,e){const n=ia(e);return t.queryToTagMap.get(n)}function ia(t){return t._path.toString()+"$"+t._queryIdentifier}function Mu(t,e){return t.tagToQueryMap.get(e)}function zu(t){const e=t.indexOf("$");return V(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new we(t.substr(0,e))}}function Fu(t,e,n){const r=t.syncPointTree_.get(e);V(r,"Missing sync point for query tag that we're tracking");const s=ra(t.pendingWriteTree_,e);return Lu(r,n,s,null)}function jS(t){return t.fold((e,n,r)=>{if(n&&Qn(n))return[sa(n)];{let s=[];return n&&(s=By(n)),et(r,(o,l)=>{s=s.concat(l)}),s}})}function vi(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(wS())(t._repo,t._path):t}function TS(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const s=ia(r),o=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(o)}}}function PS(){return _S++}function IS(t,e,n){const r=e._path,s=Vi(t,e),o=Ky(t,n),l=t.listenProvider_.startListening(vi(e),s,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(s)V(!Qn(a.value),"If we're adding a query, it shouldn't be shadowed");else{const c=a.fold((d,p,h)=>{if(!de(d)&&p&&Qn(p))return[sa(p).query];{let f=[];return p&&(f=f.concat(By(p).map(k=>k.query))),et(h,(k,S)=>{f=f.concat(S)}),f}});for(let d=0;d<c.length;++d){const p=c[d];t.listenProvider_.stopListening(vi(p),Vi(t,p))}}return l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Bu(n)}node(){return this.node_}}class $u{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Oe(this.path_,e);return new $u(this.syncTree_,n)}node(){return Ou(this.syncTree_,this.path_)}}const RS=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},xp=function(t,e,n){if(!t||typeof t!="object")return t;if(V(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return AS(t[".sv"],e,n);if(typeof t[".sv"]=="object")return WS(t[".sv"],e);V(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},AS=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:V(!1,"Unexpected server value: "+t)}},WS=function(t,e,n){t.hasOwnProperty("increment")||V(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&V(!1,"Unexpected increment value: "+r);const s=e.node();if(V(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const l=s.getValue();return typeof l!="number"?r:l+r},Qy=function(t,e,n,r){return Uu(e,new $u(n,t),r)},Xy=function(t,e,n){return Uu(t,new Bu(e),n)};function Uu(t,e,n){const r=t.getPriority().val(),s=xp(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const l=t,a=xp(l.getValue(),e,n);return a!==l.getValue()||s!==l.getPriority().val()?new Ve(a,$e(s)):t}else{const l=t;return o=l,s!==l.getPriority().val()&&(o=o.updatePriority(new Ve(s))),l.forEachChild(Me,(a,c)=>{const d=Uu(c,e.getImmediateChild(a),n);d!==c&&(o=o.updateImmediateChild(a,d))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Hu(t,e){let n=e instanceof we?e:new we(e),r=t,s=ae(n);for(;s!==null;){const o=ys(r.node.children,s)||{children:{},childCount:0};r=new Gu(s,r,o),n=Ce(n),s=ae(n)}return r}function Ts(t){return t.node.value}function qy(t,e){t.node.value=e,wd(t)}function Jy(t){return t.node.childCount>0}function DS(t){return Ts(t)===void 0&&!Jy(t)}function oa(t,e){et(t.node.children,(n,r)=>{e(new Gu(n,t,r))})}function Zy(t,e,n,r){n&&e(t),oa(t,s=>{Zy(s,e,!0)})}function LS(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function oo(t){return new we(t.parent===null?t.name:oo(t.parent)+"/"+t.name)}function wd(t){t.parent!==null&&OS(t.parent,t.name,t)}function OS(t,e,n){const r=DS(n),s=tn(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,wd(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,wd(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS=/[\[\].#$\/\u0000-\u001F\u007F]/,zS=/[\[\].#$\u0000-\u001F\u007F]/,nc=10*1024*1024,Vu=function(t){return typeof t=="string"&&t.length!==0&&!MS.test(t)},ex=function(t){return typeof t=="string"&&t.length!==0&&!zS.test(t)},FS=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),ex(t)},BS=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!vu(t)||t&&typeof t=="object"&&tn(t,".sv")},tx=function(t,e,n,r){r&&e===void 0||la(Zl(t,"value"),e,n)},la=function(t,e,n){const r=n instanceof we?new s1(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+lr(r));if(typeof e=="function")throw new Error(t+"contains a function "+lr(r)+" with contents = "+e.toString());if(vu(e))throw new Error(t+"contains "+e.toString()+" "+lr(r));if(typeof e=="string"&&e.length>nc/3&&ea(e)>nc)throw new Error(t+"contains a string greater than "+nc+" utf8 bytes "+lr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,o=!1;if(et(e,(l,a)=>{if(l===".value")s=!0;else if(l!==".priority"&&l!==".sv"&&(o=!0,!Vu(l)))throw new Error(t+" contains an invalid key ("+l+") "+lr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);i1(r,l),la(t,a,r),o1(r)}),s&&o)throw new Error(t+' contains ".value" child '+lr(r)+" in addition to actual children.")}},$S=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const o=Bi(r);for(let l=0;l<o.length;l++)if(!(o[l]===".priority"&&l===o.length-1)){if(!Vu(o[l]))throw new Error(t+"contains an invalid key ("+o[l]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(r1);let s=null;for(n=0;n<e.length;n++){if(r=e[n],s!==null&&Rt(s,r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}},US=function(t,e,n,r){const s=Zl(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(s+" must be an object containing the children to replace.");const o=[];et(e,(l,a)=>{const c=new we(l);if(la(s,a,Oe(n,c)),bu(c)===".priority"&&!BS(a))throw new Error(s+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(c)}),$S(s,o)},nx=function(t,e,n,r){if(!ex(n))throw new Error(Zl(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},GS=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),nx(t,e,n)},Yu=function(t,e){if(ae(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},HS=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Vu(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!FS(n))throw new Error(Zl(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function aa(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],o=s.getPath();n!==null&&!Cu(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(s)}n&&t.eventLists_.push(n)}function rx(t,e,n){aa(t,n),sx(t,r=>Cu(r,e))}function Lt(t,e,n){aa(t,n),sx(t,r=>Rt(r,e)||Rt(e,r))}function sx(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const o=s.path;e(o)?(YS(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function YS(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();mi&&qe("event: "+n.toString()),Es(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS="repo_interrupt",QS=25;class XS{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new VS,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=jl(),this.transactionQueueTree_=new Gu,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function qS(t,e,n){if(t.stats_=ku(t.repoInfo_),t.forceRestClient_||jk())t.server_=new El(t.repoInfo_,(r,s,o,l)=>{vp(t,r,s,o,l)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>wp(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ue(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new un(t.repoInfo_,e,(r,s,o,l)=>{vp(t,r,s,o,l)},r=>{wp(t,r)},r=>{JS(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Ak(t.repoInfo_,()=>new R1(t.stats_,t.server_)),t.infoData_=new E1,t.infoSyncTree_=new yp({startListening:(r,s,o,l)=>{let a=[];const c=t.infoData_.getNode(r._path);return c.isEmpty()||(a=io(t.infoSyncTree_,r._path,c),setTimeout(()=>{l("ok")},0)),a},stopListening:()=>{}}),Ku(t,"connected",!1),t.serverSyncTree_=new yp({startListening:(r,s,o,l)=>(t.server_.listen(r,o,s,(a,c)=>{const d=l(a,c);Lt(t.eventQueue_,r._path,d)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function ix(t){const n=t.infoData_.getNode(new we(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function ca(t){return RS({timestamp:ix(t)})}function vp(t,e,n,r,s){t.dataUpdateCount++;const o=new we(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let l=[];if(s)if(r){const c=_l(n,d=>$e(d));l=NS(t.serverSyncTree_,o,c,s)}else{const c=$e(n);l=Hy(t.serverSyncTree_,o,c,s)}else if(r){const c=_l(n,d=>$e(d));l=SS(t.serverSyncTree_,o,c)}else{const c=$e(n);l=io(t.serverSyncTree_,o,c)}let a=o;l.length>0&&(a=ks(t,o)),Lt(t.eventQueue_,a,l)}function wp(t,e){Ku(t,"connected",e),e===!1&&nb(t)}function JS(t,e){et(e,(n,r)=>{Ku(t,n,r)})}function Ku(t,e,n){const r=new we("/.info/"+e),s=$e(n);t.infoData_.updateSnapshot(r,s);const o=io(t.infoSyncTree_,r,s);Lt(t.eventQueue_,r,o)}function Qu(t){return t.nextWriteId_++}function ZS(t,e,n){const r=ES(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(s=>{const o=$e(s).withIndex(e._queryParams.getIndex());vd(t.serverSyncTree_,e,n,!0);let l;if(e._queryParams.loadsAllData())l=io(t.serverSyncTree_,e._path,o);else{const a=Vi(t.serverSyncTree_,e);l=Hy(t.serverSyncTree_,e._path,o,a)}return Lt(t.eventQueue_,e._path,l),Ll(t.serverSyncTree_,e,n,null,!0),o},s=>(lo(t,"get for query "+Ue(e)+" failed: "+s),Promise.reject(new Error(s))))}function eb(t,e,n,r,s){lo(t,"set",{path:e.toString(),value:n,priority:r});const o=ca(t),l=$e(n,r),a=Ou(t.serverSyncTree_,e),c=Xy(l,a,o),d=Qu(t),p=Gy(t.serverSyncTree_,e,c,d,!0);aa(t.eventQueue_,p),t.server_.put(e.toString(),l.val(!0),(f,k)=>{const S=f==="ok";S||dt("set at "+e+" failed: "+f);const j=Rn(t.serverSyncTree_,d,!S);Lt(t.eventQueue_,e,j),_d(t,s,f,k)});const h=qu(t,e);ks(t,h),Lt(t.eventQueue_,h,[])}function tb(t,e,n,r){lo(t,"update",{path:e.toString(),value:n});let s=!0;const o=ca(t),l={};if(et(n,(a,c)=>{s=!1,l[a]=Qy(Oe(e,a),$e(c),t.serverSyncTree_,o)}),s)qe("update() called with empty data.  Don't do anything."),_d(t,r,"ok",void 0);else{const a=Qu(t),c=kS(t.serverSyncTree_,e,l,a);aa(t.eventQueue_,c),t.server_.merge(e.toString(),n,(d,p)=>{const h=d==="ok";h||dt("update at "+e+" failed: "+d);const f=Rn(t.serverSyncTree_,a,!h),k=f.length>0?ks(t,e):e;Lt(t.eventQueue_,k,f),_d(t,r,d,p)}),et(n,d=>{const p=qu(t,Oe(e,d));ks(t,p)}),Lt(t.eventQueue_,e,[])}}function nb(t){lo(t,"onDisconnectEvents");const e=ca(t),n=jl();fd(t.onDisconnect_,me(),(s,o)=>{const l=Qy(s,o,t.serverSyncTree_,e);Ty(n,s,l)});let r=[];fd(n,me(),(s,o)=>{r=r.concat(io(t.serverSyncTree_,s,o));const l=qu(t,s);ks(t,l)}),t.onDisconnect_=jl(),Lt(t.eventQueue_,me(),r)}function rb(t,e,n){let r;ae(e._path)===".info"?r=vd(t.infoSyncTree_,e,n):r=vd(t.serverSyncTree_,e,n),rx(t.eventQueue_,e._path,r)}function _p(t,e,n){let r;ae(e._path)===".info"?r=Ll(t.infoSyncTree_,e,n):r=Ll(t.serverSyncTree_,e,n),rx(t.eventQueue_,e._path,r)}function sb(t){t.persistentConnection_&&t.persistentConnection_.interrupt(KS)}function lo(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),qe(n,...e)}function _d(t,e,n,r){e&&Es(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let o=s;r&&(o+=": "+r);const l=new Error(o);l.code=s,e(l)}})}function ox(t,e,n){return Ou(t.serverSyncTree_,e,n)||ie.EMPTY_NODE}function Xu(t,e=t.transactionQueueTree_){if(e||da(t,e),Ts(e)){const n=ax(t,e);V(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&ib(t,oo(e),n)}else Jy(e)&&oa(e,n=>{Xu(t,n)})}function ib(t,e,n){const r=n.map(d=>d.currentWriteId),s=ox(t,e,r);let o=s;const l=s.hash();for(let d=0;d<n.length;d++){const p=n[d];V(p.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),p.status=1,p.retryCount++;const h=at(e,p.path);o=o.updateChild(h,p.currentOutputSnapshotRaw)}const a=o.val(!0),c=e;t.server_.put(c.toString(),a,d=>{lo(t,"transaction put response",{path:c.toString(),status:d});let p=[];if(d==="ok"){const h=[];for(let f=0;f<n.length;f++)n[f].status=2,p=p.concat(Rn(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&h.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();da(t,Hu(t.transactionQueueTree_,e)),Xu(t,t.transactionQueueTree_),Lt(t.eventQueue_,e,p);for(let f=0;f<h.length;f++)Es(h[f])}else{if(d==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{dt("transaction at "+c.toString()+" failed: "+d);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=d}ks(t,e)}},l)}function ks(t,e){const n=lx(t,e),r=oo(n),s=ax(t,n);return ob(t,s,r),r}function ob(t,e,n){if(e.length===0)return;const r=[];let s=[];const l=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const c=e[a],d=at(n,c.path);let p=!1,h;if(V(d!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)p=!0,h=c.abortReason,s=s.concat(Rn(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=QS)p=!0,h="maxretry",s=s.concat(Rn(t.serverSyncTree_,c.currentWriteId,!0));else{const f=ox(t,c.path,l);c.currentInputSnapshot=f;const k=e[a].update(f.val());if(k!==void 0){la("transaction failed: Data returned ",k,c.path);let S=$e(k);typeof k=="object"&&k!=null&&tn(k,".priority")||(S=S.updatePriority(f.getPriority()));const T=c.currentWriteId,_=ca(t),g=Xy(S,f,_);c.currentOutputSnapshotRaw=S,c.currentOutputSnapshotResolved=g,c.currentWriteId=Qu(t),l.splice(l.indexOf(T),1),s=s.concat(Gy(t.serverSyncTree_,c.path,g,c.currentWriteId,c.applyLocally)),s=s.concat(Rn(t.serverSyncTree_,T,!0))}else p=!0,h="nodata",s=s.concat(Rn(t.serverSyncTree_,c.currentWriteId,!0))}Lt(t.eventQueue_,n,s),s=[],p&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(h),!1,null))))}da(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Es(r[a]);Xu(t,t.transactionQueueTree_)}function lx(t,e){let n,r=t.transactionQueueTree_;for(n=ae(e);n!==null&&Ts(r)===void 0;)r=Hu(r,n),e=Ce(e),n=ae(e);return r}function ax(t,e){const n=[];return cx(t,e,n),n.sort((r,s)=>r.order-s.order),n}function cx(t,e,n){const r=Ts(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);oa(e,s=>{cx(t,s,n)})}function da(t,e){const n=Ts(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,qy(e,n.length>0?n:void 0)}oa(e,r=>{da(t,r)})}function qu(t,e){const n=oo(lx(t,e)),r=Hu(t.transactionQueueTree_,e);return LS(r,s=>{rc(t,s)}),rc(t,r),Zy(r,s=>{rc(t,s)}),n}function rc(t,e){const n=Ts(e);if(n){const r=[];let s=[],o=-1;for(let l=0;l<n.length;l++)n[l].status===3||(n[l].status===1?(V(o===l-1,"All SENT items should be at beginning of queue."),o=l,n[l].status=3,n[l].abortReason="set"):(V(n[l].status===0,"Unexpected transaction status in abort"),n[l].unwatcher(),s=s.concat(Rn(t.serverSyncTree_,n[l].currentWriteId,!0)),n[l].onComplete&&r.push(n[l].onComplete.bind(null,new Error("set"),!1,null))));o===-1?qy(e,void 0):n.length=o+1,Lt(t.eventQueue_,oo(e),s);for(let l=0;l<r.length;l++)Es(r[l])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function ab(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):dt(`Invalid query segment '${n}' in query '${t}'`)}return e}const kp=function(t,e){const n=cb(t),r=n.namespace;n.domain==="firebase.com"&&yn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&yn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||vk();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new hy(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new we(n.pathString)}},cb=function(t){let e="",n="",r="",s="",o="",l=!0,a="https",c=443;if(typeof t=="string"){let d=t.indexOf("//");d>=0&&(a=t.substring(0,d-1),t=t.substring(d+2));let p=t.indexOf("/");p===-1&&(p=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(p,h)),p<h&&(s=lb(t.substring(p,h)));const f=ab(t.substring(Math.min(t.length,h)));d=e.indexOf(":"),d>=0?(l=a==="https"||a==="wss",c=parseInt(e.substring(d+1),10)):d=e.length;const k=e.slice(0,d);if(k.toLowerCase()==="localhost")n="localhost";else if(k.split(".").length<=2)n=k;else{const S=e.indexOf(".");r=e.substring(0,S).toLowerCase(),n=e.substring(S+1),o=r}"ns"in f&&(o=f.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:l,scheme:a,pathString:s,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",db=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let s;const o=new Array(8);for(s=7;s>=0;s--)o[s]=Sp.charAt(n%64),n=Math.floor(n/64);V(n===0,"Cannot push at time == 0");let l=o.join("");if(r){for(s=11;s>=0&&e[s]===63;s--)e[s]=0;e[s]++}else for(s=0;s<12;s++)e[s]=Math.floor(Math.random()*64);for(s=0;s<12;s++)l+=Sp.charAt(e[s]);return V(l.length===20,"nextPushId: Length should be 20."),l}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e,n,r,s){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ue(this.snapshot.exportVal())}}class hb{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return V(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return de(this._path)?null:bu(this._path)}get ref(){return new vn(this._repo,this._path)}get _queryIdentifier(){const e=lp(this._queryParams),n=wu(e);return n==="{}"?"default":n}get _queryObject(){return lp(this._queryParams)}isEqual(e){if(e=Nr(e),!(e instanceof Ju))return!1;const n=this._repo===e._repo,r=Cu(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+n1(this._path)}}class vn extends Ju{constructor(e,n){super(e,n,new Tu,!1)}get parent(){const e=_y(this._path);return e===null?null:new vn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Yi{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new we(e),r=Ki(this.ref,e);return new Yi(this._node.getChild(n),r,Me)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,s)=>e(new Yi(s,Ki(this.ref,r),Me)))}hasChild(e){const n=new we(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function J(t,e){return t=Nr(t),t._checkNotDeleted("ref"),e!==void 0?Ki(t._root,e):t._root}function Ki(t,e){return t=Nr(t),ae(t._path)===null?GS("child","path",e):nx("child","path",e),new vn(t._repo,Oe(t._path,e))}function Br(t,e){t=Nr(t),Yu("push",t._path),tx("push",e,t._path,!0);const n=ix(t._repo),r=db(n),s=Ki(t,r),o=Ki(t,r);let l;return e!=null?l=_e(o,e).then(()=>o):l=Promise.resolve(o),s.then=l.then.bind(l),s.catch=l.then.bind(l,void 0),s}function sc(t){return Yu("remove",t._path),_e(t,null)}function _e(t,e){t=Nr(t),Yu("set",t._path),tx("set",e,t._path,!1);const n=new eo;return eb(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Fr(t,e){US("update",e,t._path);const n=new eo;return tb(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function ot(t){t=Nr(t);const e=new dx(()=>{}),n=new ua(e);return ZS(t._repo,t,n).then(r=>new Yi(r,new vn(t._repo,t._path),t._queryParams.getIndex()))}class ua{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new ub("value",this,new Yi(e.snapshotNode,new vn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new hb(this,e,n):null}matches(e){return e instanceof ua?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function fb(t,e,n,r,s){let o;if(typeof r=="object"&&(o=void 0,s=r),typeof r=="function"&&(o=r),s&&s.onlyOnce){const c=n,d=(p,h)=>{_p(t._repo,t,a),c(p,h)};d.userCallback=n.userCallback,d.context=n.context,n=d}const l=new dx(n,o||void 0),a=new ua(l);return rb(t._repo,t,a),()=>_p(t._repo,t,a)}function pt(t,e,n,r){return fb(t,"value",e,n,r)}pS(vn);vS(vn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="FIREBASE_DATABASE_EMULATOR_HOST",kd={};let mb=!1;function gb(t,e,n,r){t.repoInfo_=new hy(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function yb(t,e,n,r,s){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||yn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),qe("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let l=kp(o,s),a=l.repoInfo,c;typeof process<"u"&&Uf&&(c=Uf[pb]),c?(o=`http://${c}?ns=${a.namespace}`,l=kp(o,s),a=l.repoInfo):l.repoInfo.secure;const d=new Pk(t.name,t.options,e);HS("Invalid Firebase Database URL",l),de(l.path)||yn("Database URL must point to the root of a Firebase Database (not including a child path).");const p=vb(a,t,d,new Tk(t.name,n));return new wb(p,t)}function xb(t,e){const n=kd[e];(!n||n[t.key]!==t)&&yn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),sb(t),delete n[t.key]}function vb(t,e,n,r){let s=kd[e.name];s||(s={},kd[e.name]=s);let o=s[t.toURLString()];return o&&yn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new XS(t,mb,n,r),s[t.toURLString()]=o,o}class wb{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(qS(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new vn(this._repo,me())),this._rootInternal}_delete(){return this._rootInternal!==null&&(xb(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&yn("Cannot call "+e+" on a deleted database.")}}function Zu(t=tk(),e){const n=q_(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=Fw("database");r&&_b(n,...r)}return n}function _b(t,e,n,r={}){t=Nr(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&yn("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let o;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&yn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Qo(Qo.OWNER);else if(r.mockUserToken){const l=typeof r.mockUserToken=="string"?r.mockUserToken:Bw(r.mockUserToken,t.app.options.projectId);o=new Qo(l)}gb(s,e,n,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(t){fk(ek),Sl(new Mi("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return yb(r,s,o,n)},"PUBLIC").setMultipleInstances(!0)),ls(Gf,Hf,t),ls(Gf,Hf,"esm2017")}un.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};un.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};kb();function Sb({allPicks:t,actualScores:e,currentWeek:n,playerName:r,playerCode:s,isPoolManager:o,prizePool:l,officialWinners:a,onLogout:c}){const[d,p]=F.useState({"Week 1":!0,"Week 2":!1,"Week 3":!1,"Week 4":!1,"Grand Prizes":!1}),h=x=>{p(L=>({...L,[x]:!L[x]}))},f=()=>{p({"Week 1":!0,"Week 2":!0,"Week 3":!0,"Week 4":!0,"Grand Prizes":!0})},k=()=>{p({"Week 1":!1,"Week 2":!1,"Week 3":!1,"Week 4":!1,"Grand Prizes":!1})},S=(x,L,E)=>{if(!x||!L||!L[E])return 0;let W=0;const O=L[E];return Object.keys(x).forEach(R=>{const M=x[R],w=O[R];if(!M||!w)return;const N=parseInt(M.team1),B=parseInt(M.team2),q=parseInt(w.team1),K=parseInt(w.team2);if(isNaN(N)||isNaN(B)||isNaN(q)||isNaN(K))return;const H=N>B?"team1":B>N?"team2":"tie",le=q>K?"team1":K>q?"team2":"tie";H===le&&le!=="tie"&&W++}),W},j=(x,L,E)=>{if(!x||!L||!L[E])return null;let W=0,O=0;const R=L[E];return Object.keys(x).forEach(M=>{const w=x[M],N=R[M];if(!w||!N)return;const B=parseInt(w.team1),q=parseInt(w.team2),K=parseInt(N.team1),H=parseInt(N.team2);isNaN(B)||isNaN(q)||isNaN(K)||isNaN(H)||(W+=B+q,O+=K+H)}),Math.abs(W-O)},T=(x,L,E)=>{let W=0,O=0;return E.forEach(R=>{const M=x[R];if(M){W+=S(M,L,R);const w=j(M,L,R);w!==null&&(O+=w)}}),{correctWinners:W,pointsDifference:O}},_={wildcard:"Week 1",divisional:"Week 2",conference:"Week 3",superbowl:"Week 4"},g=F.useMemo(()=>{const x={};return t.forEach(L=>{const E=L.playerName;x[E]||(x[E]={wildcard:null,divisional:null,conference:null,superbowl:null}),x[E][L.week]=L.predictions}),x},[t]),C=F.useMemo(()=>{const x=[],L=["wildcard","divisional","conference","superbowl"];L.slice(0,3).forEach((w,N)=>{const B=_[w],q=Object.entries(g).map(([H,le])=>({playerName:H,score:S(le[w],e,w)})).filter(H=>H.score>0).sort((H,le)=>le.score-H.score);x.push({prizeNumber:N*2+1,name:`${B} - Most Correct Predictions`,week:w,type:"correctWinners",leaders:q.slice(0,5)});const K=Object.entries(g).map(([H,le])=>({playerName:H,score:j(le[w],e,w)})).filter(H=>H.score!==null).sort((H,le)=>H.score-le.score);x.push({prizeNumber:N*2+2,name:`${B} - Closest Total Points`,week:w,type:"pointsDifference",leaders:K.slice(0,5)})});const E="superbowl",W=Object.entries(g).map(([w,N])=>({playerName:w,score:S(N[E],e,E)})).filter(w=>w.score>0).sort((w,N)=>N.score-w.score);x.push({prizeNumber:7,name:"Week 4 - Most Correct Predictions",week:E,type:"correctWinners",leaders:W.slice(0,5)});const O=Object.entries(g).map(([w,N])=>({playerName:w,score:j(N[E],e,E)})).filter(w=>w.score!==null).sort((w,N)=>w.score-N.score);x.push({prizeNumber:8,name:"Week 4 - Closest Total Points",week:E,type:"pointsDifference",leaders:O.slice(0,5)});const R=Object.entries(g).map(([w,N])=>{const B=T(N,e,L);return{playerName:w,score:B.correctWinners}}).filter(w=>w.score>0).sort((w,N)=>N.score-w.score);x.push({prizeNumber:9,name:"Cumulative (All 4 Weeks) - Most Correct Predictions",week:"all",type:"correctWinners",leaders:R.slice(0,5)});const M=Object.entries(g).map(([w,N])=>{const B=T(N,e,L);return{playerName:w,score:B.pointsDifference}}).filter(w=>w.score!==null&&w.score>=0).sort((w,N)=>w.score-N.score);return x.push({prizeNumber:10,name:"Cumulative (All 4 Weeks) - Closest Total Points",week:"all",type:"pointsDifference",leaders:M.slice(0,5)}),x},[g,e]);return i.jsx("div",{className:"standings-page",children:i.jsxs("div",{className:"container",children:[i.jsxs("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"20px",borderRadius:"8px",marginBottom:"20px",color:"white"},children:[i.jsx("div",{style:{fontSize:"0.9rem",marginBottom:"5px"},children:" VERIFIED"}),i.jsxs("div",{style:{fontSize:"1.2rem",fontWeight:"bold",marginBottom:"5px"},children:["Viewing as: ",r]}),o&&i.jsx("div",{style:{fontSize:"0.9rem",marginBottom:"10px",color:"#ffd700",fontWeight:"600"},children:" POOL MANAGER"}),i.jsx("button",{onClick:()=>{console.log(" STANDINGS: Logout button clicked"),console.log(" STANDINGS: onLogout function:",c),console.log(" STANDINGS: Calling onLogout..."),c(),console.log(" STANDINGS: onLogout called")},style:{background:"white",color:"#764ba2",border:"none",padding:"10px 20px",borderRadius:"6px",fontSize:"0.95rem",fontWeight:"600",cursor:"pointer",marginTop:"10px",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:" Logout / Switch Entry"}),i.jsx("p",{style:{fontSize:"0.85rem",marginTop:"10px",opacity:.9,fontStyle:"italic"},children:" Playing with multiple entries? Logout to switch between your codes."})]}),i.jsx("h1",{className:"standings-title",children:" Standings & Prize Leaders"}),l&&l.totalFees>0&&i.jsxs("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"25px",borderRadius:"12px",marginBottom:"30px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[i.jsx("h2",{style:{margin:"0 0 20px 0",fontSize:"1.5rem"},children:" Prize Pool Information"}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginBottom:"15px"},children:[i.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:"15px",borderRadius:"8px"},children:[i.jsx("div",{style:{fontSize:"0.9rem",opacity:.9,marginBottom:"5px"},children:"Total Pool Fees"}),i.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:["$",l.totalFees.toFixed(2)]})]}),i.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:"15px",borderRadius:"8px"},children:[i.jsx("div",{style:{fontSize:"0.9rem",opacity:.9,marginBottom:"5px"},children:"Number of Players"}),i.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:l.numberOfPlayers})]}),i.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:"15px",borderRadius:"8px"},children:[i.jsx("div",{style:{fontSize:"0.9rem",opacity:.9,marginBottom:"5px"},children:"Entry Fee"}),i.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:["$",l.entryFee]})]}),i.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:"15px",borderRadius:"8px"},children:[i.jsx("div",{style:{fontSize:"0.9rem",opacity:.9,marginBottom:"5px"},children:"Each Prize (10%)"}),i.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:["$",l.prizeValue.toFixed(2)]})]})]}),i.jsx("div",{style:{fontSize:"0.9rem",opacity:.9},children:" 10 prizes total  Equal 10% distribution  Ties split equally"})]}),a&&Object.keys(a).length>0&&i.jsxs("div",{style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"white",padding:"25px",borderRadius:"12px",marginBottom:"30px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[i.jsx("h2",{style:{margin:"0 0 5px 0",fontSize:"1.5rem"},children:" OFFICIAL PRIZE AWARDS"}),i.jsx("div",{style:{fontSize:"0.9rem",opacity:.9,marginBottom:"20px",fontStyle:"italic"},children:"Declared by Pool Manager"}),i.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"20px"},children:Object.entries(a).sort((x,L)=>x[1].prizeNumber-L[1].prizeNumber).map(([x,L])=>i.jsxs("div",{style:{background:"rgba(255,255,255,0.95)",color:"#333",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 8px rgba(0,0,0,0.15)"},children:[i.jsxs("div",{style:{fontWeight:"bold",fontSize:"1.1rem",marginBottom:"8px",color:"#f5576c"},children:["Prize #",L.prizeNumber]}),i.jsx("div",{style:{fontSize:"0.9rem",color:"#666",marginBottom:"12px"},children:L.prizeName.replace(`Prize #${L.prizeNumber} - `,"")}),i.jsxs("div",{style:{fontSize:"0.85rem",fontWeight:"600",color:"#999",marginBottom:"12px"},children:["Prize Value: $",L.prizeValue.toFixed(2)]}),i.jsx("div",{style:{borderTop:"2px solid #f093fb",paddingTop:"12px"},children:L.winners.map((E,W)=>i.jsxs("div",{style:{padding:"8px 0",borderBottom:W<L.winners.length-1?"1px solid #eee":"none"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"10px"},children:[i.jsxs("div",{style:{fontWeight:"700",fontSize:"1rem",color:"#333"},children:[" ",E.playerName]}),i.jsxs("div",{style:{fontSize:"0.95rem",fontWeight:"600",color:"#f5576c"},children:["$",E.amount.toFixed(2)]})]}),i.jsxs("div",{style:{fontSize:"0.8rem",color:"#888",marginTop:"2px"},children:[E.percentage.toFixed(2),"% of prize"]})]},W))})]},x))})]}),i.jsx("div",{style:{background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",color:"white",padding:"20px 25px",borderRadius:"12px",marginBottom:"25px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",border:"2px solid rgba(255,255,255,0.3)"},children:i.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"15px"},children:[i.jsx("div",{style:{fontSize:"2rem",lineHeight:"1"},children:""}),i.jsxs("div",{style:{flex:1},children:[i.jsx("h3",{style:{margin:"0 0 10px 0",fontSize:"1.2rem",fontWeight:"700"},children:"How Prize Leaders Work"}),i.jsxs("div",{style:{fontSize:"0.95rem",lineHeight:"1.6",opacity:.95},children:[i.jsxs("p",{style:{margin:"0 0 10px 0"},children:["This page shows ",i.jsx("strong",{children:"current leaders"})," for each prize category based on games scored so far."]}),i.jsxs("p",{style:{margin:"0 0 10px 0"},children:[i.jsx("strong",{children:" These are NOT final results!"})," Rankings will change as more games are scored throughout the playoffs."]}),i.jsxs("p",{style:{margin:"0"},children:[i.jsx("strong",{children:"Official prize awards"})," will be declared by the Pool Manager after all games are completed and verified."]})]})]})]})}),i.jsxs("div",{style:{display:"flex",gap:"15px",justifyContent:"center",margin:"20px 0"},children:[i.jsx("button",{onClick:f,style:{padding:"10px 20px",background:"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.95rem",fontWeight:"600",transition:"all 0.2s"},onMouseOver:x=>x.target.style.background="#5568d3",onMouseOut:x=>x.target.style.background="#667eea",children:" Expand All Weeks"}),i.jsx("button",{onClick:k,style:{padding:"10px 20px",background:"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.95rem",fontWeight:"600",transition:"all 0.2s"},onMouseOver:x=>x.target.style.background="#5568d3",onMouseOut:x=>x.target.style.background="#667eea",children:" Collapse All Weeks"})]}),i.jsxs("div",{style:{marginBottom:"20px"},children:[i.jsxs("h3",{onClick:()=>h("Week 1"),style:{cursor:"pointer",userSelect:"none",display:"flex",alignItems:"center",gap:"10px",padding:"15px 20px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:"8px",transition:"all 0.3s",marginBottom:d["Week 1"]?"20px":"0",borderBottomLeftRadius:d["Week 1"]?"0":"8px",borderBottomRightRadius:d["Week 1"]?"0":"8px"},onMouseEnter:x=>{x.currentTarget.style.transform="translateX(5px)",x.currentTarget.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)"},onMouseLeave:x=>{x.currentTarget.style.transform="translateX(0)",x.currentTarget.style.boxShadow="none"},children:[i.jsx("span",{style:{fontSize:"1.2rem",transition:"transform 0.3s"},children:d["Week 1"]?"":""}),"Week 1 Prizes (Wild Card Round)"]}),d["Week 1"]&&i.jsx("div",{className:"prizes-grid",children:C.filter(x=>x.prizeNumber>=1&&x.prizeNumber<=2).map(x=>{const L=x.type==="correctWinners"?"Players who correctly predicted the most game outcomes (which team won)":"Players whose predicted total scores were closest to the actual combined scores";return i.jsxs("div",{className:"prize-card",children:[i.jsxs("div",{className:"prize-header",children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"5px"},children:[i.jsxs("div",{className:"prize-number",children:["PRIZE #",x.prizeNumber]}),i.jsx("div",{title:L,style:{cursor:"help",fontSize:"1.1rem",opacity:.7,transition:"opacity 0.2s"},onMouseOver:E=>E.target.style.opacity="1",onMouseOut:E=>E.target.style.opacity="0.7",children:""})]}),i.jsx("div",{className:"prize-name",children:x.name}),i.jsx("div",{style:{fontSize:"0.85rem",color:"#666",fontWeight:"600",marginTop:"5px",fontStyle:"italic"},children:"Current Leaders"})]}),i.jsx("div",{className:"prize-leaders",children:x.leaders.length===0?i.jsx("div",{className:"no-data",children:"No data available yet"}):i.jsxs("table",{className:"leaders-table",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Rank"}),i.jsx("th",{children:"Player"}),i.jsx("th",{children:x.type==="correctWinners"?"Correct":"Difference"})]})}),i.jsx("tbody",{children:x.leaders.map((E,W)=>{const O=W>0&&E.score===x.leaders[W-1].score,R=O?"=":W+1,M=W===0&&!O;return i.jsxs("tr",{className:M?"leader-first":"",children:[i.jsxs("td",{className:"rank",children:[R,M&&i.jsx("span",{style:{marginLeft:"5px",fontSize:"0.8em"},children:""})]}),i.jsxs("td",{className:"player-name",children:[E.playerName,M&&i.jsx("span",{style:{marginLeft:"8px",fontSize:"0.7rem",background:"#4facfe",color:"white",padding:"2px 6px",borderRadius:"4px",fontWeight:"600"},children:"LEADING"})]}),i.jsx("td",{className:"score",children:x.type==="correctWinners"?`${E.score} correct`:`${E.score} pts`})]},W)})})]})})]},x.prizeNumber)})})]}),i.jsxs("div",{style:{marginBottom:"20px"},children:[i.jsxs("h3",{onClick:()=>h("Week 2"),style:{cursor:"pointer",userSelect:"none",display:"flex",alignItems:"center",gap:"10px",padding:"15px 20px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:"8px",transition:"all 0.3s",marginBottom:d["Week 2"]?"20px":"0",borderBottomLeftRadius:d["Week 2"]?"0":"8px",borderBottomRightRadius:d["Week 2"]?"0":"8px"},onMouseEnter:x=>{x.currentTarget.style.transform="translateX(5px)",x.currentTarget.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)"},onMouseLeave:x=>{x.currentTarget.style.transform="translateX(0)",x.currentTarget.style.boxShadow="none"},children:[i.jsx("span",{style:{fontSize:"1.2rem",transition:"transform 0.3s"},children:d["Week 2"]?"":""}),"Week 2 Prizes (Divisional Round)"]}),d["Week 2"]&&i.jsx("div",{className:"prizes-grid",children:C.filter(x=>x.prizeNumber>=3&&x.prizeNumber<=4).map(x=>{const L=x.type==="correctWinners"?"Players who correctly predicted the most game outcomes (which team won)":"Players whose predicted total scores were closest to the actual combined scores";return i.jsxs("div",{className:"prize-card",children:[i.jsxs("div",{className:"prize-header",children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"5px"},children:[i.jsxs("div",{className:"prize-number",children:["PRIZE #",x.prizeNumber]}),i.jsx("div",{title:L,style:{cursor:"help",fontSize:"1.1rem",opacity:.7,transition:"opacity 0.2s"},onMouseOver:E=>E.target.style.opacity="1",onMouseOut:E=>E.target.style.opacity="0.7",children:""})]}),i.jsx("div",{className:"prize-name",children:x.name}),i.jsx("div",{style:{fontSize:"0.85rem",color:"#666",fontWeight:"600",marginTop:"5px",fontStyle:"italic"},children:"Current Leaders"})]}),i.jsx("div",{className:"prize-leaders",children:x.leaders.length===0?i.jsx("div",{className:"no-data",children:"No data available yet"}):i.jsxs("table",{className:"leaders-table",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Rank"}),i.jsx("th",{children:"Player"}),i.jsx("th",{children:x.type==="correctWinners"?"Correct":"Difference"})]})}),i.jsx("tbody",{children:x.leaders.map((E,W)=>{const O=W>0&&E.score===x.leaders[W-1].score,R=O?"=":W+1,M=W===0&&!O;return i.jsxs("tr",{className:M?"leader-first":"",children:[i.jsxs("td",{className:"rank",children:[R,M&&i.jsx("span",{style:{marginLeft:"5px",fontSize:"0.8em"},children:""})]}),i.jsxs("td",{className:"player-name",children:[E.playerName,M&&i.jsx("span",{style:{marginLeft:"8px",fontSize:"0.7rem",background:"#4facfe",color:"white",padding:"2px 6px",borderRadius:"4px",fontWeight:"600"},children:"LEADING"})]}),i.jsx("td",{className:"score",children:x.type==="correctWinners"?`${E.score} correct`:`${E.score} pts`})]},W)})})]})})]},x.prizeNumber)})})]}),i.jsxs("div",{style:{marginBottom:"20px"},children:[i.jsxs("h3",{onClick:()=>h("Week 3"),style:{cursor:"pointer",userSelect:"none",display:"flex",alignItems:"center",gap:"10px",padding:"15px 20px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:"8px",transition:"all 0.3s",marginBottom:d["Week 3"]?"20px":"0",borderBottomLeftRadius:d["Week 3"]?"0":"8px",borderBottomRightRadius:d["Week 3"]?"0":"8px"},onMouseEnter:x=>{x.currentTarget.style.transform="translateX(5px)",x.currentTarget.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)"},onMouseLeave:x=>{x.currentTarget.style.transform="translateX(0)",x.currentTarget.style.boxShadow="none"},children:[i.jsx("span",{style:{fontSize:"1.2rem",transition:"transform 0.3s"},children:d["Week 3"]?"":""}),"Week 3 Prizes (Conference Championships)"]}),d["Week 3"]&&i.jsx("div",{className:"prizes-grid",children:C.filter(x=>x.prizeNumber>=5&&x.prizeNumber<=6).map(x=>{const L=x.type==="correctWinners"?"Players who correctly predicted the most game outcomes (which team won)":"Players whose predicted total scores were closest to the actual combined scores";return i.jsxs("div",{className:"prize-card",children:[i.jsxs("div",{className:"prize-header",children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"5px"},children:[i.jsxs("div",{className:"prize-number",children:["PRIZE #",x.prizeNumber]}),i.jsx("div",{title:L,style:{cursor:"help",fontSize:"1.1rem",opacity:.7,transition:"opacity 0.2s"},onMouseOver:E=>E.target.style.opacity="1",onMouseOut:E=>E.target.style.opacity="0.7",children:""})]}),i.jsx("div",{className:"prize-name",children:x.name}),i.jsx("div",{style:{fontSize:"0.85rem",color:"#666",fontWeight:"600",marginTop:"5px",fontStyle:"italic"},children:"Current Leaders"})]}),i.jsx("div",{className:"prize-leaders",children:x.leaders.length===0?i.jsx("div",{className:"no-data",children:"No data available yet"}):i.jsxs("table",{className:"leaders-table",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Rank"}),i.jsx("th",{children:"Player"}),i.jsx("th",{children:x.type==="correctWinners"?"Correct":"Difference"})]})}),i.jsx("tbody",{children:x.leaders.map((E,W)=>{const O=W>0&&E.score===x.leaders[W-1].score,R=O?"=":W+1,M=W===0&&!O;return i.jsxs("tr",{className:M?"leader-first":"",children:[i.jsxs("td",{className:"rank",children:[R,M&&i.jsx("span",{style:{marginLeft:"5px",fontSize:"0.8em"},children:""})]}),i.jsxs("td",{className:"player-name",children:[E.playerName,M&&i.jsx("span",{style:{marginLeft:"8px",fontSize:"0.7rem",background:"#4facfe",color:"white",padding:"2px 6px",borderRadius:"4px",fontWeight:"600"},children:"LEADING"})]}),i.jsx("td",{className:"score",children:x.type==="correctWinners"?`${E.score} correct`:`${E.score} pts`})]},W)})})]})})]},x.prizeNumber)})})]}),i.jsxs("div",{style:{marginBottom:"20px"},children:[i.jsxs("h3",{onClick:()=>h("Week 4"),style:{cursor:"pointer",userSelect:"none",display:"flex",alignItems:"center",gap:"10px",padding:"15px 20px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:"8px",transition:"all 0.3s",marginBottom:d["Week 4"]?"20px":"0",borderBottomLeftRadius:d["Week 4"]?"0":"8px",borderBottomRightRadius:d["Week 4"]?"0":"8px"},onMouseEnter:x=>{x.currentTarget.style.transform="translateX(5px)",x.currentTarget.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)"},onMouseLeave:x=>{x.currentTarget.style.transform="translateX(0)",x.currentTarget.style.boxShadow="none"},children:[i.jsx("span",{style:{fontSize:"1.2rem",transition:"transform 0.3s"},children:d["Week 4"]?"":""}),"Week 4 Prizes (Super Bowl)"]}),d["Week 4"]&&i.jsx("div",{className:"prizes-grid",children:C.filter(x=>x.prizeNumber>=7&&x.prizeNumber<=8).map(x=>{const L=x.type==="correctWinners"?"Players who correctly predicted the most game outcomes (which team won)":"Players whose predicted total scores were closest to the actual combined scores";return i.jsxs("div",{className:"prize-card",children:[i.jsxs("div",{className:"prize-header",children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"5px"},children:[i.jsxs("div",{className:"prize-number",children:["PRIZE #",x.prizeNumber]}),i.jsx("div",{title:L,style:{cursor:"help",fontSize:"1.1rem",opacity:.7,transition:"opacity 0.2s"},onMouseOver:E=>E.target.style.opacity="1",onMouseOut:E=>E.target.style.opacity="0.7",children:""})]}),i.jsx("div",{className:"prize-name",children:x.name}),i.jsx("div",{style:{fontSize:"0.85rem",color:"#666",fontWeight:"600",marginTop:"5px",fontStyle:"italic"},children:"Current Leaders"})]}),i.jsx("div",{className:"prize-leaders",children:x.leaders.length===0?i.jsx("div",{className:"no-data",children:"No data available yet"}):i.jsxs("table",{className:"leaders-table",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Rank"}),i.jsx("th",{children:"Player"}),i.jsx("th",{children:x.type==="correctWinners"?"Correct":"Difference"})]})}),i.jsx("tbody",{children:x.leaders.map((E,W)=>{const O=W>0&&E.score===x.leaders[W-1].score,R=O?"=":W+1,M=W===0&&!O;return i.jsxs("tr",{className:M?"leader-first":"",children:[i.jsxs("td",{className:"rank",children:[R,M&&i.jsx("span",{style:{marginLeft:"5px",fontSize:"0.8em"},children:""})]}),i.jsxs("td",{className:"player-name",children:[E.playerName,M&&i.jsx("span",{style:{marginLeft:"8px",fontSize:"0.7rem",background:"#4facfe",color:"white",padding:"2px 6px",borderRadius:"4px",fontWeight:"600"},children:"LEADING"})]}),i.jsx("td",{className:"score",children:x.type==="correctWinners"?`${E.score} correct`:`${E.score} pts`})]},W)})})]})})]},x.prizeNumber)})})]}),i.jsxs("div",{style:{marginBottom:"20px"},children:[i.jsxs("h3",{onClick:()=>h("Grand Prizes"),style:{cursor:"pointer",userSelect:"none",display:"flex",alignItems:"center",gap:"10px",padding:"15px 20px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:"8px",transition:"all 0.3s",marginBottom:d["Grand Prizes"]?"20px":"0",borderBottomLeftRadius:d["Grand Prizes"]?"0":"8px",borderBottomRightRadius:d["Grand Prizes"]?"0":"8px"},onMouseEnter:x=>{x.currentTarget.style.transform="translateX(5px)",x.currentTarget.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)"},onMouseLeave:x=>{x.currentTarget.style.transform="translateX(0)",x.currentTarget.style.boxShadow="none"},children:[i.jsx("span",{style:{fontSize:"1.2rem",transition:"transform 0.3s"},children:d["Grand Prizes"]?"":""}),"Grand Prizes (All Weeks Combined)"]}),d["Grand Prizes"]&&i.jsx("div",{className:"prizes-grid",children:C.filter(x=>x.prizeNumber>=9&&x.prizeNumber<=10).map(x=>{const L=x.type==="correctWinners"?"Players who correctly predicted the most game outcomes (which team won)":"Players whose predicted total scores were closest to the actual combined scores";return i.jsxs("div",{className:"prize-card",children:[i.jsxs("div",{className:"prize-header",children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"5px"},children:[i.jsxs("div",{className:"prize-number",children:["PRIZE #",x.prizeNumber]}),i.jsx("div",{title:L,style:{cursor:"help",fontSize:"1.1rem",opacity:.7,transition:"opacity 0.2s"},onMouseOver:E=>E.target.style.opacity="1",onMouseOut:E=>E.target.style.opacity="0.7",children:""})]}),i.jsx("div",{className:"prize-name",children:x.name}),i.jsx("div",{style:{fontSize:"0.85rem",color:"#666",fontWeight:"600",marginTop:"5px",fontStyle:"italic"},children:"Current Leaders"})]}),i.jsx("div",{className:"prize-leaders",children:x.leaders.length===0?i.jsx("div",{className:"no-data",children:"No data available yet"}):i.jsxs("table",{className:"leaders-table",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Rank"}),i.jsx("th",{children:"Player"}),i.jsx("th",{children:x.type==="correctWinners"?"Correct":"Difference"})]})}),i.jsx("tbody",{children:x.leaders.map((E,W)=>{const O=W>0&&E.score===x.leaders[W-1].score,R=O?"=":W+1,M=W===0&&!O;return i.jsxs("tr",{className:M?"leader-first":"",children:[i.jsxs("td",{className:"rank",children:[R,M&&i.jsx("span",{style:{marginLeft:"5px",fontSize:"0.8em"},children:""})]}),i.jsxs("td",{className:"player-name",children:[E.playerName,M&&i.jsx("span",{style:{marginLeft:"8px",fontSize:"0.7rem",background:"#4facfe",color:"white",padding:"2px 6px",borderRadius:"4px",fontWeight:"600"},children:"LEADING"})]}),i.jsx("td",{className:"score",children:x.type==="correctWinners"?`${E.score} correct`:`${E.score} pts`})]},W)})})]})})]},x.prizeNumber)})})]}),i.jsx("div",{className:"standings-note",children:i.jsxs("p",{children:[i.jsx("strong",{children:"Note:"}),' Tied players are shown with "=" rank. Pool Manager will resolve ties and declare official prize awards after all games are completed.']})})]})})}function bb({currentWeek:t,games:e,actualScores:n,teamCodes:r,onScoresFetched:s,onGameLockToggle:o,gameLocks:l,espnAutoRefresh:a}){const[c,d]=F.useState(!1),[p,h]=F.useState(null),[f,k]=F.useState(null),[S,j]=F.useState(!1),[T,_]=F.useState(!1),g=async()=>{if(!(c||T)){d(!0),k({type:"loading",message:"Fetching scores from ESPN..."});try{await s(),h(new Date),k({type:"success",message:"Scores updated successfully!"}),setTimeout(()=>k(null),3e3)}catch(W){k({type:"error",message:`Error: ${W.message}`})}finally{d(!1)}}},C=()=>{S?(a.stop(),j(!1),k({type:"info",message:"Auto-refresh stopped"})):(a.start(),j(!0),k({type:"info",message:"Auto-refresh started (every 5 minutes)"})),setTimeout(()=>k(null),3e3)},x=()=>{T?(_(!1),k({type:"info",message:"API resumed - fetching enabled"})):(_(!0),S&&(a.stop(),j(!1)),k({type:"warning",message:"API paused - all fetching disabled"})),setTimeout(()=>k(null),3e3)},L=W=>{var O;return((O=l==null?void 0:l[t])==null?void 0:O[W])===!0},E=W=>{var O,R;return((R=(O=n==null?void 0:n[t])==null?void 0:O[W])==null?void 0:R.source)==="espn"};return i.jsxs("div",{className:"espn-controls",children:[i.jsxs("div",{className:"espn-header",children:[i.jsx("h3",{children:" ESPN API Controls"}),i.jsxs("div",{className:"espn-status-badges",children:[T&&i.jsx("span",{className:"status-badge paused",children:" API PAUSED"}),S&&!T&&i.jsx("span",{className:"status-badge active",children:" AUTO-REFRESH ON"}),p&&i.jsxs("span",{className:"status-badge info",children:["Last fetch: ",p.toLocaleTimeString()]})]})]}),i.jsxs("div",{className:"espn-global-controls",children:[i.jsx("button",{className:"espn-btn fetch-now",onClick:g,disabled:c||T,children:c?" Fetching...":" Fetch Scores Now"}),i.jsx("button",{className:`espn-btn auto-refresh ${S?"active":""}`,onClick:C,disabled:T,children:S?" Stop Auto-Refresh":" Start Auto-Refresh (5 min)"}),i.jsx("button",{className:`espn-btn pause-api ${T?"paused":""}`,onClick:x,children:T?" Resume API":" Pause API"})]}),f&&i.jsx("div",{className:`fetch-status ${f.type}`,children:f.message}),i.jsxs("div",{className:"game-overrides",children:[i.jsx("h4",{children:"Game Override Controls"}),i.jsxs("p",{className:"override-info",children:[" Lock = Manual entry only (ignore API)",i.jsx("br",{})," Unlock = Auto-update from ESPN API"]}),i.jsx("div",{className:"game-override-list",children:e.map(W=>{var B,q,K,H,le;const O=L(W.id),R=E(W.id),M=(B=n==null?void 0:n[t])==null?void 0:B[W.id],w=((K=(q=r==null?void 0:r[t])==null?void 0:q[W.id])==null?void 0:K.team1)||W.team1,N=((le=(H=r==null?void 0:r[t])==null?void 0:H[W.id])==null?void 0:le.team2)||W.team2;return i.jsxs("div",{className:"game-override-item",children:[i.jsxs("div",{className:"game-info",children:[i.jsxs("span",{className:"game-matchup",children:[w," vs ",N]}),M&&i.jsxs("span",{className:"game-scores",children:[n[t][W.id].team1," - ",n[t][W.id].team2]})]}),i.jsxs("div",{className:"game-status-badges",children:[R&&!O&&i.jsx("span",{className:"game-badge api",children:" From API"}),O&&i.jsx("span",{className:"game-badge manual",children:" Manual Entry"}),!M&&i.jsx("span",{className:"game-badge no-score",children:"No Score"})]}),i.jsx("button",{className:`lock-btn ${O?"locked":"unlocked"}`,onClick:()=>o(W.id),title:O?"Unlock to allow API updates":"Lock to prevent API updates",children:O?" Locked":" Unlocked"})]},W.id)})})]}),i.jsxs("div",{className:"espn-help",children:[i.jsx("h4",{children:" How It Works:"}),i.jsxs("ul",{children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Fetch Now:"})," Manually fetch latest scores from ESPN"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Auto-Refresh:"})," Automatically fetch every 5 minutes"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Pause API:"})," Stop all API fetching (use manual entry only)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Lock Game:"})," Prevent API from overwriting your manual score for that game"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Unlock Game:"})," Allow API to update score automatically"]})]}),i.jsxs("p",{className:"help-note",children:[i.jsx("strong",{children:"Tip:"})," Lock a game if you need to manually correct a score that ESPN has wrong."]})]})]})}const Cb="https://site.api.espn.com/apis/site/v2/sports/football/nfl";async function Nb(){try{const t=await fetch(`${Cb}/scoreboard`);if(!t.ok)throw new Error(`ESPN API error: ${t.status}`);const e=await t.json();return Eb(e)}catch(t){return console.error("Error fetching ESPN scores:",t),{success:!1,error:t.message,games:[]}}}function Eb(t){return!t.events||t.events.length===0?{success:!0,games:[],message:"No games currently available"}:{success:!0,games:t.events.map(n=>{const r=n.competitions[0],s=r.status,o=r.competitors,l=o.find(S=>S.homeAway==="away"),a=o.find(S=>S.homeAway==="home"),c=l.team.abbreviation,d=a.team.abbreviation,p=parseInt(l.score)||0,h=parseInt(a.score)||0,f=jb(s);return{espnGameId:n.id,awayTeam:{abbreviation:c,fullName:l.team.displayName,score:p},homeTeam:{abbreviation:d,fullName:a.team.displayName,score:h},status:f.status,statusText:f.text,period:f.period,clock:f.clock,isFinal:f.isFinal,isLive:f.isLive,isScheduled:f.isScheduled,startTime:n.date,lastUpdated:new Date().toISOString()}}),fetchedAt:new Date().toISOString()}}function jb(t){const e=t.type.name,n=t.period,r=t.displayClock,s=t.type.detail;let o="scheduled",l=s,a=!1,c=!1,d=!1;return e==="STATUS_SCHEDULED"?(o="scheduled",l="Scheduled",d=!0):e==="STATUS_IN_PROGRESS"?(o="live",a=!0,n===1?l=`1st Quarter - ${r}`:n===2?l=`2nd Quarter - ${r}`:n===3?l=`3rd Quarter - ${r}`:n===4?l=`4th Quarter - ${r}`:n>4&&(l=`OT ${n-4} - ${r}`)):e==="STATUS_HALFTIME"?(o="halftime",l="Halftime",a=!0):e==="STATUS_END_PERIOD"?(o="live",l=`End of ${n===1?"1st":n===2?"2nd":n===3?"3rd":"4th"} Quarter`,a=!0):(e==="STATUS_FINAL"||e==="STATUS_FINAL_OVERTIME")&&(o="final",c=!0,e==="STATUS_FINAL_OVERTIME"?l=n>4?`Final/OT${n-4}`:"Final/OT":l="Final"),{status:o,text:l,period:n,clock:r||"",isLive:a,isFinal:c,isScheduled:d}}function Tb(t,e,n,r){if(!r||!r[n])return null;const s=e[n].games,o=r[n];for(const l of s){const a=o[l.id];if(!a)continue;const c=a.team1===t.awayTeam.abbreviation||a.team1===t.homeTeam.abbreviation,d=a.team2===t.awayTeam.abbreviation||a.team2===t.homeTeam.abbreviation;if(c&&d){const p=a.team1===t.awayTeam.abbreviation;return{gameId:l.id,team1Score:p?t.awayTeam.score:t.homeTeam.score,team2Score:p?t.homeTeam.score:t.awayTeam.score,status:t.status,statusText:t.statusText,period:t.period,clock:t.clock,isFinal:t.isFinal,isLive:t.isLive,espnGameId:t.espnGameId}}}return null}class Pb{constructor(e,n=5){this.onFetch=e,this.intervalMinutes=n,this.intervalId=null,this.isRunning=!1}start(){if(this.isRunning){console.log("Auto-refresh already running");return}console.log(`Starting auto-refresh every ${this.intervalMinutes} minutes`),this.isRunning=!0,this.onFetch(),this.intervalId=setInterval(()=>{console.log("Auto-fetching ESPN scores..."),this.onFetch()},this.intervalMinutes*60*1e3)}stop(){if(!this.isRunning){console.log("Auto-refresh not running");return}console.log("Stopping auto-refresh"),clearInterval(this.intervalId),this.intervalId=null,this.isRunning=!1}isActive(){return this.isRunning}setInterval(e){this.intervalMinutes=e,this.isRunning&&(this.stop(),this.start())}}const Ib={wildcard:{name:"Week 1 - Wildcard Round",shortName:"Wildcard",deadline:"Fri Jan 9, 11:59 PM PST",number:1},divisional:{name:"Week 2 - Divisional Round",shortName:"Divisional",deadline:"Fri Jan 16, 11:59 PM PST",number:2},conference:{name:"Week 3 - Conference Championships",shortName:"Conference",deadline:"Fri Jan 23, 11:59 PM PST",number:3},superbowl:{name:"Week 4 - Super Bowl LIX",shortName:"Super Bowl",deadline:"Fri Feb 6, 11:59 PM PST",number:4}};function Rb(t,e,n,r){return n?{icon:"",text:"LOCKED",color:"gray",className:"locked"}:r?{icon:"",text:"EDITING NOW",color:"purple",className:"editing"}:e&&e.complete?{icon:"",text:"ALL PICKS SAVED",color:"green",className:"saved"}:{icon:"",text:"READY TO PICK",color:"blue",className:"ready"}}function Ab({currentWeek:t,onWeekChange:e,weekPicks:n={},weekLockStatus:r={},hasUnsavedChanges:s=!1}){const o=l=>{l!==t&&e(l)};return i.jsxs("div",{className:"week-selector-container",children:[i.jsxs("div",{className:"week-selector-header",children:[i.jsx("h2",{children:" SELECT WEEK TO MAKE/EDIT YOUR PICKS"}),s&&i.jsx("div",{className:"unsaved-indicator",children:" You have unsaved changes"})]}),i.jsx("div",{className:"week-cards",children:Object.entries(Ib).map(([l,a])=>{var f;const c=l===t,d=((f=r[l])==null?void 0:f.locked)||!1,p=n[l],h=Rb(l,p,d,c);return i.jsxs("div",{className:`week-card ${h.className} ${c?"current":""}`,onClick:()=>o(l),role:"button",tabIndex:0,onKeyPress:k=>{(k.key==="Enter"||k.key===" ")&&o(l)},children:[i.jsxs("div",{className:"week-card-header",children:[i.jsxs("div",{className:"week-number",children:["WEEK ",a.number]}),c&&i.jsx("div",{className:"current-indicator",children:" YOU ARE HERE "})]}),i.jsxs("div",{className:"week-card-title",children:[l==="superbowl"?"":""," ",a.shortName]}),i.jsxs("div",{className:"week-card-deadline",children:[l==="superbowl"?"Game Day: ":"Deadline: ",a.deadline]}),i.jsxs("div",{className:`week-card-status status-${h.className}`,children:[i.jsx("span",{className:"status-icon",children:h.icon}),i.jsx("span",{className:"status-text",children:h.text})]}),d&&i.jsx("div",{className:"locked-overlay",children:i.jsx("div",{className:"locked-message",children:" Cannot Edit"})})]},l)})}),i.jsx("div",{className:"week-selector-footer",children:i.jsx("p",{className:"info-text",children:" You can make picks for all weeks in advance, even if teams aren't known yet."})})]})}function Wb({currentWeek:t,onDiscard:e,onSaveAndSwitch:n,onCancel:r}){const s={wildcard:"Week 1",divisional:"Week 2",conference:"Week 3",superbowl:"Week 4"};return i.jsx("div",{className:"popup-overlay",children:i.jsxs("div",{className:"popup-container warning-popup",children:[i.jsxs("div",{className:"popup-header warning",children:[i.jsx("span",{className:"popup-icon",children:""}),i.jsx("h3",{children:"UNSAVED CHANGES"})]}),i.jsxs("div",{className:"popup-body",children:[i.jsxs("p",{children:["You have unsaved changes for ",s[t],"."]}),i.jsx("p",{children:"What would you like to do?"})]}),i.jsxs("div",{className:"popup-buttons",children:[i.jsx("button",{className:"popup-btn btn-secondary",onClick:e,children:"Discard Changes"}),i.jsx("button",{className:"popup-btn btn-primary",onClick:n,children:"Save & Switch"}),i.jsx("button",{className:"popup-btn btn-neutral",onClick:r,children:"Cancel"})]})]})})}function Db({onKeepEditing:t,onDiscard:e}){return i.jsx("div",{className:"popup-overlay",children:i.jsxs("div",{className:"popup-container warning-popup",children:[i.jsxs("div",{className:"popup-header warning",children:[i.jsx("span",{className:"popup-icon",children:""}),i.jsx("h3",{children:"DISCARD CHANGES?"})]}),i.jsxs("div",{className:"popup-body",children:[i.jsx("p",{children:"Your changes will not be saved."}),i.jsx("p",{children:"Your previously saved picks will remain unchanged in the system."})]}),i.jsxs("div",{className:"popup-buttons",children:[i.jsx("button",{className:"popup-btn btn-primary",onClick:t,children:"Keep Editing"}),i.jsx("button",{className:"popup-btn btn-danger",onClick:e,children:"Discard Changes"})]})]})})}function Lb({missingGames:t,totalGames:e,onClose:n}){return i.jsx("div",{className:"popup-overlay",children:i.jsxs("div",{className:"popup-container error-popup",children:[i.jsxs("div",{className:"popup-header error",children:[i.jsx("span",{className:"popup-icon",children:""}),i.jsx("h3",{children:"CANNOT SAVE - INCOMPLETE ENTRY"})]}),i.jsxs("div",{className:"popup-body",children:[i.jsx("p",{children:"You must predict scores for ALL games."}),i.jsxs("p",{className:"count-text",children:["Completed: ",i.jsx("strong",{children:e-t.length})," of ",i.jsx("strong",{children:e})," games "]}),i.jsxs("div",{className:"missing-games-list",children:[i.jsx("p",{children:i.jsx("strong",{children:"Missing scores for:"})}),i.jsx("ul",{children:t.map((r,s)=>i.jsxs("li",{children:[" Game ",s+1,": ",r.team1," vs ",r.team2]},s))})]}),i.jsx("p",{className:"instruction-text",children:"Please fill in all games before saving."})]}),i.jsx("div",{className:"popup-buttons",children:i.jsx("button",{className:"popup-btn btn-primary",onClick:n,children:"OK - Go Back and Complete"})})]})})}function Ob({invalidScores:t,onClose:e}){return i.jsx("div",{className:"popup-overlay",children:i.jsxs("div",{className:"popup-container error-popup",children:[i.jsxs("div",{className:"popup-header error",children:[i.jsx("span",{className:"popup-icon",children:""}),i.jsx("h3",{children:"INVALID SCORES"})]}),i.jsxs("div",{className:"popup-body",children:[i.jsx("p",{children:"All scores must be between 10 and 50."}),i.jsxs("div",{className:"invalid-scores-list",children:[i.jsx("p",{children:i.jsx("strong",{children:"Invalid scores:"})}),i.jsx("ul",{children:t.map((n,r)=>i.jsxs("li",{children:[" Game ",r+1," (",n.team,"): ",i.jsx("strong",{children:n.score})," (",n.score<10?"too low":"too high",")"]},r))})]}),i.jsx("p",{className:"instruction-text",children:"Please fix these scores."})]}),i.jsx("div",{className:"popup-buttons",children:i.jsx("button",{className:"popup-btn btn-primary",onClick:e,children:"OK - Go Back and Fix"})})]})})}function Mb({weekName:t,deadline:e,onClose:n}){return i.jsx("div",{className:"popup-overlay",children:i.jsxs("div",{className:"popup-container success-popup",children:[i.jsxs("div",{className:"popup-header success",children:[i.jsx("span",{className:"popup-icon",children:""}),i.jsx("h3",{children:"PICKS SAVED SUCCESSFULLY!"})]}),i.jsxs("div",{className:"popup-body",children:[i.jsxs("p",{children:["Your ",t," picks have been saved."]}),i.jsx("p",{children:"You can edit them anytime before the deadline:"}),i.jsx("p",{className:"deadline-text",children:i.jsx("strong",{children:e})})]}),i.jsx("div",{className:"popup-buttons",children:i.jsx("button",{className:"popup-btn btn-success",onClick:n,children:"OK"})})]})})}function zb({onClose:t}){return i.jsx("div",{className:"popup-overlay",children:i.jsxs("div",{className:"popup-container info-popup",children:[i.jsxs("div",{className:"popup-header info",children:[i.jsx("span",{className:"popup-icon",children:""}),i.jsx("h3",{children:"NO CHANGES TO SAVE"})]}),i.jsxs("div",{className:"popup-body",children:[i.jsx("p",{children:"You haven't made any changes to your picks."}),i.jsx("p",{children:"Your picks are already saved."})]}),i.jsx("div",{className:"popup-buttons",children:i.jsx("button",{className:"popup-btn btn-primary",onClick:t,children:"OK"})})]})})}function Fb({tiedGames:t,gameData:e,onClose:n}){return i.jsx("div",{className:"popup-overlay",children:i.jsxs("div",{className:"popup-container error-popup",children:[i.jsxs("div",{className:"popup-header error",children:[i.jsx("span",{className:"popup-icon",children:""}),i.jsx("h3",{children:"PLAYOFF GAMES CANNOT END IN A TIE!"})]}),i.jsxs("div",{className:"popup-body",children:[i.jsx("p",{style:{fontWeight:"bold",marginBottom:"15px"},children:"The following game(s) have tied scores:"}),i.jsx("ul",{style:{listStyle:"none",padding:0,marginBottom:"15px"},children:t.map(r=>{const s=e.find(o=>o.id===r);return i.jsxs("li",{style:{padding:"8px",background:"#ffebee",border:"1px solid #ef5350",borderRadius:"4px",marginBottom:"8px",color:"#c62828"},children:[" ",s.team1," vs. ",s.team2]},r)})}),i.jsx("p",{style:{fontStyle:"italic",color:"#666"},children:"NFL Playoff games go to overtime until there's a winner!"}),i.jsx("p",{style:{fontWeight:"bold"},children:"Please change the scores so one team wins."})]}),i.jsx("div",{className:"popup-buttons",children:i.jsx("button",{className:"popup-btn btn-primary",onClick:n,children:"Fix Scores"})})]})})}const ux={1:{name:"Most Correct Predictions",week:"wildcard",weekName:"Week 1"},2:{name:"Closest Total Points",week:"wildcard",weekName:"Week 1"},3:{name:"Most Correct Predictions",week:"divisional",weekName:"Week 2"},4:{name:"Closest Total Points",week:"divisional",weekName:"Week 2"},5:{name:"Most Correct Predictions",week:"conference",weekName:"Week 3"},6:{name:"Closest Total Points",week:"conference",weekName:"Week 3"},7:{name:"Most Correct Predictions",week:"superbowl",weekName:"Week 4"},8:{name:"Closest Total Points",week:"superbowl",weekName:"Week 4"},9:{name:"Overall Most Correct Predictions",week:"all",weekName:"All Weeks"},10:{name:"Overall Closest Total Points",week:"all",weekName:"All Weeks"}};function Bb(t,e,n){var r;if(t.week==="all"){let s=0,o=0;return Object.keys(n).forEach(l=>{const a=n[l].games;s+=a.length,a.forEach(c=>{var p;const d=(p=e[l])==null?void 0:p[c.id];if(d){const h=parseInt(d.team1),f=parseInt(d.team2);!isNaN(h)&&!isNaN(f)&&o++}})}),o===0?{status:"NOT_STARTED",gamesCompleted:0,totalGames:s,message:"First game Saturday, January 10, 2026! Standings will update as games finish."}:o<s?{status:"LIVE",gamesCompleted:o,totalGames:s,message:`LIVE NOW! ${o} of ${s} playoff games completed. Standings updating in real-time!`}:{status:"COMPLETE",gamesCompleted:o,totalGames:s,message:"Playoffs complete! Final standings shown above."}}else{const s=((r=n[t.week])==null?void 0:r.games)||[],o=s.length;let l=0;return s.forEach(a=>{var d;const c=(d=e[t.week])==null?void 0:d[a.id];if(c){const p=parseInt(c.team1),h=parseInt(c.team2);!isNaN(p)&&!isNaN(h)&&l++}}),l===0?{status:"NOT_STARTED",gamesCompleted:0,totalGames:o,message:"Games not started yet. Standings will update as games finish!"}:l<o?{status:"LIVE",gamesCompleted:l,totalGames:o,message:`LIVE NOW! ${l} of ${o} games completed. Standings changing in real-time!`}:{status:"COMPLETE",gamesCompleted:l,totalGames:o,message:"All games complete! Final standings shown above."}}}function $b(t,e,n,r){var d,p,h;const s=ux[t],o=[1,3,5,7,9].includes(t);let l=[],a={},c=[];if(s.week==="all"){l=e,a=n,Object.keys(r).forEach(k=>{c=c.concat(r[k].games.map(S=>({...S,week:k})))});const f={};l.forEach(k=>{f[k.playerCode]||(f[k.playerCode]={playerCode:k.playerCode,playerName:k.playerName,weeklyPicks:[]}),f[k.playerCode].weeklyPicks.push(k)}),l=Object.values(f)}else l=e.filter(f=>f.week===s.week),a=n[s.week]||{},c=((d=r[s.week])==null?void 0:d.games)||[];if(l.length===0)return{leaders:[],allPlayers:[],hasTie:!1,tieCount:0};if(o){let f=0;c.forEach(T=>{var g;const _=s.week==="all"?(g=n[T.week])==null?void 0:g[T.id]:a[T.id];_&&(f+=(parseInt(_.team1)||0)+(parseInt(_.team2)||0))});const k=l.map(T=>{let _=0;return(T.weeklyPicks||[T]).forEach(C=>{c.forEach(x=>{var B,q;const L=(B=C.predictions)==null?void 0:B[x.id],E=s.week==="all"?(q=n[x.week])==null?void 0:q[x.id]:a[x.id];if(!L||!E)return;const W=parseInt(E.team1),O=parseInt(E.team2),R=parseInt(L.team1),M=parseInt(L.team2);if(isNaN(W)||isNaN(O)||isNaN(R)||isNaN(M))return;const w=R>M?"team1":M>R?"team2":"tie",N=W>O?"team1":O>W?"team2":"tie";w!=="tie"&&N!=="tie"&&w===N&&_++})}),{playerCode:T.playerCode,playerName:T.playerName,score:_,actualTotal:f}});k.sort((T,_)=>_.score-T.score);const S=((p=k[0])==null?void 0:p.score)||0,j=k.filter(T=>T.score===S);return{leaders:j,allPlayers:k,hasTie:j.length>1,tieCount:j.length,actualTotal:f}}else{let f=0;c.forEach(T=>{var g;const _=s.week==="all"?(g=n[T.week])==null?void 0:g[T.id]:a[T.id];_&&(f+=(parseInt(_.team1)||0)+(parseInt(_.team2)||0))});const k=l.map(T=>{let _=0;(T.weeklyPicks||[T]).forEach(x=>{c.forEach(L=>{var W;const E=(W=x.predictions)==null?void 0:W[L.id];E&&(_+=(parseInt(E.team1)||0)+(parseInt(E.team2)||0))})});const C=Math.abs(_-f);return{playerCode:T.playerCode,playerName:T.playerName,score:_,actualTotal:f,difference:C}});k.sort((T,_)=>T.difference-_.difference);const S=((h=k[0])==null?void 0:h.difference)||0,j=k.filter(T=>T.difference===S);return{leaders:j,allPlayers:k,hasTie:j.length>1,tieCount:j.length,actualTotal:f}}}function ti({prizeNumber:t,allPicks:e,actualScores:n,weekData:r,officialWinner:s=null}){const[o,l]=F.useState(null),[a,c]=F.useState(!0),d=ux[t],p=[1,3,5,7,9].includes(t);if(F.useEffect(()=>{try{const T=$b(t,e,n,r);l(T),c(!1)}catch(T){console.error(`Error calculating leaders for Prize ${t}:`,T),c(!1)}},[t,e,n,r]),a)return i.jsxs("div",{className:"leader-card loading",children:[i.jsx("div",{className:"leader-card-header",children:i.jsxs("h3",{children:["Prize #",t," - ",d.name]})}),i.jsx("div",{className:"leader-card-body",children:i.jsx("p",{children:"Calculating leaders..."})})]});if(!o||o.allPlayers.length===0)return i.jsxs("div",{className:"leader-card no-data",children:[i.jsxs("div",{className:"leader-card-header",children:[i.jsxs("h3",{children:["Prize #",t," - ",d.name]}),i.jsx("span",{className:"prize-week",children:d.weekName})]}),i.jsx("div",{className:"leader-card-body",children:i.jsx("p",{children:"No picks available yet."})})]});const{leaders:h,allPlayers:f,hasTie:k,tieCount:S}=o,j=Bb(d,n,r);return i.jsxs("div",{className:`leader-card ${k?"has-tie":""}`,children:[i.jsxs("div",{className:"leader-card-header",children:[i.jsxs("h3",{children:["Prize #",t," - ",d.name]}),i.jsx("span",{className:"prize-week",children:d.weekName})]}),i.jsxs("div",{className:"leader-card-body",children:[i.jsxs("div",{className:`game-status ${j.status.toLowerCase()}`,children:[i.jsxs("div",{className:"status-badge",children:[j.status==="NOT_STARTED"&&" NOT STARTED",j.status==="LIVE"&&" LIVE",j.status==="COMPLETE"&&" COMPLETE"]}),i.jsx("div",{className:"status-details",children:j.status!=="NOT_STARTED"&&i.jsxs("span",{className:"games-count",children:[j.gamesCompleted," of ",j.totalGames," games"]})}),i.jsx("p",{className:"status-message",children:j.message})]}),k&&i.jsxs("div",{className:"tie-warning",children:[" ",S,"-WAY TIE FOR 1ST PLACE!"]}),k&&i.jsxs("div",{className:"tied-leaders-section",children:[i.jsx("h4",{children:" TIED FOR 1ST PLACE:"}),i.jsx("div",{className:"leaders-list",children:h.map((T,_)=>i.jsxs("div",{className:`leader-item ${(s==null?void 0:s.playerCode)===T.playerCode?"official-winner":"tied-leader"}`,children:[i.jsxs("span",{className:"leader-rank",children:[_+1,"."]}),i.jsxs("span",{className:"leader-name",children:[T.playerName,(s==null?void 0:s.playerCode)===T.playerCode?i.jsx("span",{className:"official-badge",style:{marginLeft:"8px"},children:" OFFICIAL WINNER"}):i.jsx("span",{className:"leading-badge",style:{marginLeft:"8px"},children:" LEADING"})]}),i.jsx("span",{className:"leader-score",children:p?` Correctly predicted ${T.score} NFL winning teams (out of ${j.totalGames})`:`${T.score} pts  Actual: ${T.actualTotal||0} pts  Off by: ${T.difference} pts`})]},_))})]}),k&&f.length>S&&i.jsxs("div",{className:"next-in-line-section",children:[i.jsx("h4",{children:" NEXT IN LINE:"}),i.jsx("div",{className:"leaders-list",children:f.slice(S,S+10).map((T,_)=>i.jsxs("div",{className:"leader-item",children:[i.jsxs("span",{className:"leader-rank",children:[S+_+1,"."]}),i.jsx("span",{className:"leader-name",children:T.playerName}),i.jsx("span",{className:"leader-score",children:p?` Correctly predicted ${T.score} NFL winning teams (out of ${j.totalGames})`:`${T.score} pts  Actual: ${T.actualTotal||0} pts  Off by: ${T.difference} pts`})]},_))})]}),!k&&i.jsxs("div",{className:"all-players-section",children:[i.jsx("h4",{children:" ALL PLAYERS RANKED:"}),i.jsx("div",{className:"leaders-list",children:f.map((T,_)=>i.jsxs("div",{className:`leader-item ${_===0&&(s==null?void 0:s.playerCode)===T.playerCode?"official-winner":""}`,children:[i.jsxs("span",{className:"leader-rank",children:[_+1,"."]}),i.jsxs("span",{className:"leader-name",children:[T.playerName,_===0&&((s==null?void 0:s.playerCode)===T.playerCode?i.jsx("span",{className:"official-badge",style:{marginLeft:"8px"},children:" OFFICIAL WINNER"}):i.jsx("span",{className:"leading-badge",style:{marginLeft:"8px"},children:" LEADING"}))]}),i.jsx("span",{className:"leader-score",children:p?`${T.score} correct`:`${T.score} pts  Actual: ${T.actualTotal||0} pts  Off by: ${T.difference} pts`})]},_))})]}),!s&&i.jsx("div",{className:"no-official-winner",children:i.jsx("em",{children:"No official winner declared yet"})})]})]})}function Ub({allPicks:t,actualScores:e,games:n,officialWinners:r,weekData:s}){const[o,l]=F.useState({"Week 1":!0,"Week 2":!1,"Week 3":!1,"Week 4":!1,"Grand Prizes":!1}),a=h=>{l(f=>({...f,[h]:!f[h]}))},c=()=>{l({"Week 1":!0,"Week 2":!0,"Week 3":!0,"Week 4":!0,"Grand Prizes":!0})},d=()=>{l({"Week 1":!1,"Week 2":!1,"Week 3":!1,"Week 4":!1,"Grand Prizes":!1})},p=h=>({cursor:"pointer",userSelect:"none",display:"flex",alignItems:"center",gap:"10px",padding:"15px 20px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:"8px",transition:"all 0.3s",marginBottom:h?"20px":"0",borderBottomLeftRadius:h?"0":"8px",borderBottomRightRadius:h?"0":"8px"});return i.jsxs("div",{className:"leaders-section",children:[i.jsx("h2",{children:" Prize Leaders"}),i.jsx("p",{className:"leaders-description",children:"Current standings for all 10 prizes. Winners will be officially announced by the Pool Manager."}),i.jsxs("div",{style:{display:"flex",gap:"15px",justifyContent:"center",margin:"20px 0"},children:[i.jsx("button",{onClick:c,style:{padding:"10px 20px",background:"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.95rem",fontWeight:"600",transition:"all 0.2s"},onMouseOver:h=>h.target.style.background="#5568d3",onMouseOut:h=>h.target.style.background="#667eea",children:" Expand All Weeks"}),i.jsx("button",{onClick:d,style:{padding:"10px 20px",background:"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.95rem",fontWeight:"600",transition:"all 0.2s"},onMouseOver:h=>h.target.style.background="#5568d3",onMouseOut:h=>h.target.style.background="#667eea",children:" Collapse All Weeks"})]}),i.jsxs("div",{style:{marginBottom:"20px"},children:[i.jsxs("h3",{onClick:()=>a("Week 1"),style:p(o["Week 1"]),onMouseEnter:h=>{h.currentTarget.style.transform="translateX(5px)",h.currentTarget.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)"},onMouseLeave:h=>{h.currentTarget.style.transform="translateX(0)",h.currentTarget.style.boxShadow="none"},children:[i.jsx("span",{style:{fontSize:"1.2rem"},children:o["Week 1"]?"":""}),"Week 1 Prizes (Wild Card Round)"]}),o["Week 1"]&&i.jsx("div",{className:"prize-grid",children:[1,2].map(h=>i.jsx(ti,{prizeNumber:h,allPicks:t,actualScores:e,weekData:s,officialWinner:r==null?void 0:r[h]},h))})]}),i.jsxs("div",{style:{marginBottom:"20px"},children:[i.jsxs("h3",{onClick:()=>a("Week 2"),style:p(o["Week 2"]),onMouseEnter:h=>{h.currentTarget.style.transform="translateX(5px)",h.currentTarget.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)"},onMouseLeave:h=>{h.currentTarget.style.transform="translateX(0)",h.currentTarget.style.boxShadow="none"},children:[i.jsx("span",{style:{fontSize:"1.2rem"},children:o["Week 2"]?"":""}),"Week 2 Prizes (Divisional Round)"]}),o["Week 2"]&&i.jsx("div",{className:"prize-grid",children:[3,4].map(h=>i.jsx(ti,{prizeNumber:h,allPicks:t,actualScores:e,weekData:s,officialWinner:r==null?void 0:r[h]},h))})]}),i.jsxs("div",{style:{marginBottom:"20px"},children:[i.jsxs("h3",{onClick:()=>a("Week 3"),style:p(o["Week 3"]),onMouseEnter:h=>{h.currentTarget.style.transform="translateX(5px)",h.currentTarget.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)"},onMouseLeave:h=>{h.currentTarget.style.transform="translateX(0)",h.currentTarget.style.boxShadow="none"},children:[i.jsx("span",{style:{fontSize:"1.2rem"},children:o["Week 3"]?"":""}),"Week 3 Prizes (Conference Championships)"]}),o["Week 3"]&&i.jsx("div",{className:"prize-grid",children:[5,6].map(h=>i.jsx(ti,{prizeNumber:h,allPicks:t,actualScores:e,weekData:s,officialWinner:r==null?void 0:r[h]},h))})]}),i.jsxs("div",{style:{marginBottom:"20px"},children:[i.jsxs("h3",{onClick:()=>a("Week 4"),style:p(o["Week 4"]),onMouseEnter:h=>{h.currentTarget.style.transform="translateX(5px)",h.currentTarget.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)"},onMouseLeave:h=>{h.currentTarget.style.transform="translateX(0)",h.currentTarget.style.boxShadow="none"},children:[i.jsx("span",{style:{fontSize:"1.2rem"},children:o["Week 4"]?"":""}),"Week 4 Prizes (Super Bowl)"]}),o["Week 4"]&&i.jsx("div",{className:"prize-grid",children:[7,8].map(h=>i.jsx(ti,{prizeNumber:h,allPicks:t,actualScores:e,weekData:s,officialWinner:r==null?void 0:r[h]},h))})]}),i.jsxs("div",{style:{marginBottom:"20px"},children:[i.jsxs("h3",{onClick:()=>a("Grand Prizes"),style:p(o["Grand Prizes"]),onMouseEnter:h=>{h.currentTarget.style.transform="translateX(5px)",h.currentTarget.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)"},onMouseLeave:h=>{h.currentTarget.style.transform="translateX(0)",h.currentTarget.style.boxShadow="none"},children:[i.jsx("span",{style:{fontSize:"1.2rem"},children:o["Grand Prizes"]?"":""}),"Grand Prizes (All Weeks Combined)"]}),o["Grand Prizes"]&&i.jsx("div",{className:"prize-grid",children:[9,10].map(h=>i.jsx(ti,{prizeNumber:h,allPicks:t,actualScores:e,weekData:s,officialWinner:r==null?void 0:r[h]},h))})]})]})}const Gb=({isPoolManager:t,playerCodes:e,onClearLogs:n})=>{const[r,s]=F.useState([]),[o,l]=F.useState(!0),[a,c]=F.useState(null),[d,p]=F.useState("all"),[h,f]=F.useState(""),[k,S]=F.useState("newest");F.useEffect(()=>{if(!t){l(!1);return}try{const g=Zu(),C=J(g,"loginLogs"),x=pt(C,L=>{const E=L.val();if(console.log(" Login logs data:",E),E){const W=Object.keys(E).map(O=>({id:O,...E[O]}));console.log(" Parsed logs array:",W),s(W)}else console.log(" No login logs data found"),s([]);l(!1),c(null)},L=>{console.error(" Error fetching login logs:",L),c("Failed to load login logs. Check console for details."),l(!1)});return()=>{x&&x()}}catch(g){console.error(" Error setting up Firebase listener:",g),c("Failed to initialize Firebase. Check console for details."),l(!1)}},[t]);const j=r.filter(g=>{var C,x;if(d==="success"&&!g.success||d==="failed"&&g.success)return!1;if(h){const L=h.toLowerCase(),E=(C=g.playerCode)==null?void 0:C.toLowerCase().includes(L),W=(x=g.playerName)==null?void 0:x.toLowerCase().includes(L);return E||W}return!0}).sort((g,C)=>k==="newest"?C.timestamp-g.timestamp:g.timestamp-C.timestamp),T=()=>{if(j.length===0){alert("No logs to export!");return}const g=["Timestamp","Date/Time","Player Code","Player Name","Status","Error Message","Browser","Device"],C=j.map(O=>[O.timestamp,new Date(O.timestamp).toLocaleString(),O.playerCode||"",O.playerName||"",O.success?"Success":"Failed",O.errorMessage||"",O.browser||"",O.device||""]),x=[g.join(","),...C.map(O=>O.map(R=>`"${R}"`).join(","))].join(`
`),L=new Blob([x],{type:"text/csv;charset=utf-8;"}),E=document.createElement("a"),W=URL.createObjectURL(L);E.setAttribute("href",W),E.setAttribute("download",`login-logs-${new Date().toISOString().split("T")[0]}.csv`),E.style.visibility="hidden",document.body.appendChild(E),E.click(),document.body.removeChild(E),window.URL.revokeObjectURL(W)},_={total:r.length,successful:r.filter(g=>g.success).length,failed:r.filter(g=>g.success===!1).length,uniquePlayers:new Set(r.filter(g=>g.success).map(g=>g.playerCode)).size};return t?o?i.jsx("div",{style:{padding:"60px",textAlign:"center"},children:i.jsxs("div",{style:{display:"inline-block",padding:"20px 40px",background:"#f0f4f8",borderRadius:"10px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[i.jsx("p",{style:{fontSize:"1.2rem",margin:"0 0 10px 0",color:"#000"},children:" Loading login logs..."}),i.jsx("p",{style:{fontSize:"0.9rem",color:"#666",margin:0},children:"Connecting to Firebase..."})]})}):a?i.jsx("div",{style:{padding:"60px",textAlign:"center"},children:i.jsxs("div",{style:{display:"inline-block",padding:"30px",background:"#fff3cd",border:"2px solid #ffc107",borderRadius:"10px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",maxWidth:"600px"},children:[i.jsx("h3",{style:{margin:"0 0 15px 0",color:"#856404"},children:" Error Loading Logs"}),i.jsx("p",{style:{color:"#856404",margin:"0 0 15px 0"},children:a}),i.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:"20px",padding:"12px 24px",background:"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"600"},children:" Reload Page"})]})}):i.jsxs("div",{style:{margin:"40px auto",maxWidth:"1400px",padding:"0 20px"},children:[i.jsxs("div",{style:{marginBottom:"30px"},children:[i.jsxs("h1",{style:{fontSize:"2rem",margin:"0 0 10px 0",color:"#000",display:"flex",alignItems:"center",gap:"10px"},children:[" Login Activity Log",i.jsx("span",{style:{fontSize:"0.7rem",padding:"4px 12px",background:"#667eea",color:"white",borderRadius:"20px",fontWeight:"500"},children:"Pool Manager Only"})]}),i.jsx("p",{style:{color:"#666",margin:0},children:"Monitor all login attempts to the NFL Playoff Pool"}),t&&n&&i.jsxs("div",{style:{marginTop:"20px"},children:[i.jsx("button",{onClick:n,style:{padding:"12px 24px",fontSize:"1rem",background:"#e74c3c",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold",boxShadow:"0 2px 8px rgba(231, 76, 60, 0.3)",transition:"all 0.3s ease"},onMouseOver:g=>{g.target.style.background="#c0392b",g.target.style.transform="translateY(-2px)",g.target.style.boxShadow="0 4px 12px rgba(231, 76, 60, 0.4)"},onMouseOut:g=>{g.target.style.background="#e74c3c",g.target.style.transform="translateY(0)",g.target.style.boxShadow="0 2px 8px rgba(231, 76, 60, 0.3)"},children:" Clear All Login Logs"}),i.jsx("p",{style:{fontSize:"0.85rem",color:"#e74c3c",marginTop:"8px",marginBottom:0,fontStyle:"italic"},children:" Warning: This will permanently delete all login history"})]})]}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginBottom:"30px"},children:[i.jsxs("div",{style:{background:"linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%)",padding:"25px",borderRadius:"12px",boxShadow:"0 4px 15px rgba(0,0,0,0.1)",color:"#000"},children:[i.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"bold",marginBottom:"5px"},children:_.successful}),i.jsx("div",{style:{fontSize:"1rem",fontWeight:"500"},children:"Successful Logins"})]}),i.jsxs("div",{style:{background:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)",padding:"25px",borderRadius:"12px",boxShadow:"0 4px 15px rgba(0,0,0,0.1)",color:"#000"},children:[i.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"bold",marginBottom:"5px"},children:_.failed}),i.jsx("div",{style:{fontSize:"1rem",fontWeight:"500"},children:"Failed Attempts"})]}),i.jsxs("div",{style:{background:"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)",padding:"25px",borderRadius:"12px",boxShadow:"0 4px 15px rgba(0,0,0,0.1)",color:"#000"},children:[i.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"bold",marginBottom:"5px"},children:_.uniquePlayers}),i.jsx("div",{style:{fontSize:"1rem",fontWeight:"500"},children:"Unique Players"})]}),i.jsxs("div",{style:{background:"linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)",padding:"25px",borderRadius:"12px",boxShadow:"0 4px 15px rgba(0,0,0,0.1)",color:"#000"},children:[i.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"bold",marginBottom:"5px"},children:_.total}),i.jsx("div",{style:{fontSize:"1rem",fontWeight:"500"},children:"Total Attempts"})]})]}),i.jsxs("div",{style:{background:"white",padding:"20px",borderRadius:"10px",marginBottom:"20px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",display:"flex",flexWrap:"wrap",gap:"15px",alignItems:"center"},children:[i.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[i.jsxs("button",{onClick:()=>p("all"),style:{padding:"10px 20px",background:d==="all"?"#667eea":"#f0f0f0",color:d==="all"?"white":"#333",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"0.9rem"},children:["All (",_.total,")"]}),i.jsxs("button",{onClick:()=>p("success"),style:{padding:"10px 20px",background:d==="success"?"#4caf50":"#f0f0f0",color:d==="success"?"white":"#333",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"0.9rem"},children:[" Success (",_.successful,")"]}),i.jsxs("button",{onClick:()=>p("failed"),style:{padding:"10px 20px",background:d==="failed"?"#f44336":"#f0f0f0",color:d==="failed"?"white":"#333",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"0.9rem"},children:[" Failed (",_.failed,")"]})]}),i.jsx("input",{type:"text",placeholder:"Search by code or name...",value:h,onChange:g=>f(g.target.value),style:{padding:"10px 15px",border:"2px solid #e0e0e0",borderRadius:"6px",fontSize:"0.9rem",flex:"1",minWidth:"200px",color:"#000"}}),i.jsxs("select",{value:k,onChange:g=>S(g.target.value),style:{padding:"10px 15px",border:"2px solid #e0e0e0",borderRadius:"6px",fontSize:"0.9rem",cursor:"pointer",background:"white",color:"#000"},children:[i.jsx("option",{value:"newest",children:"Newest First"}),i.jsx("option",{value:"oldest",children:"Oldest First"})]}),i.jsx("button",{onClick:T,style:{padding:"10px 20px",background:"#4caf50",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"0.9rem",display:"flex",alignItems:"center",gap:"8px"},children:" Export CSV"})]}),j.length===0?i.jsx("div",{style:{background:"white",padding:"60px 40px",borderRadius:"10px",textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:h?i.jsx("p",{style:{fontSize:"1.2rem",margin:0,color:"#666"},children:" No logs match your search"}):i.jsxs(i.Fragment,{children:[i.jsx("p",{style:{fontSize:"1.5rem",margin:"0 0 20px 0",color:"#333"},children:" No login attempts logged yet"}),i.jsxs("div",{style:{background:"#f8f9fa",padding:"25px",borderRadius:"8px",maxWidth:"600px",margin:"0 auto",textAlign:"left"},children:[i.jsx("p",{style:{margin:"0 0 15px 0",fontSize:"1rem",color:"#666"},children:i.jsx("strong",{children:"To test login tracking:"})}),i.jsxs("ol",{style:{margin:0,paddingLeft:"20px",color:"#666",lineHeight:"2"},children:[i.jsx("li",{children:'Logout (click " Logout" button)'}),i.jsx("li",{children:'Try logging in with a WRONG code (e.g., "ABC123")'}),i.jsx("li",{children:"See the failed attempt appear here"}),i.jsx("li",{children:"Login with your correct code"}),i.jsx("li",{children:"See the successful login appear here"})]})]})]})}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{style:{padding:"15px 20px",background:"#f8f9fa",borderRadius:"8px",marginBottom:"15px",display:"flex",alignItems:"center",gap:"10px"},children:[i.jsx("span",{style:{fontSize:"1.2rem"},children:""}),i.jsxs("span",{style:{fontWeight:"600",color:"#000"},children:["Showing: ",j.length," of ",r.length," total attempts"]})]}),i.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:j.map((g,C)=>i.jsxs("div",{style:{padding:"20px",background:g.success?"#e8f5e9":"#ffebee",border:`3px solid ${g.success?"#4caf50":"#f44336"}`,borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",transition:"transform 0.2s",cursor:"default"},onMouseEnter:x=>x.currentTarget.style.transform="scale(1.01)",onMouseLeave:x=>x.currentTarget.style.transform="scale(1)",children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px",flexWrap:"wrap",gap:"10px"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[i.jsxs("span",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#000"},children:["#",j.length-C]}),i.jsx("span",{style:{padding:"8px 16px",background:g.success?"#4caf50":"#f44336",color:"white",borderRadius:"20px",fontWeight:"bold",fontSize:"0.9rem"},children:g.success?" SUCCESS":" FAILED"})]}),i.jsx("div",{style:{fontSize:"0.95rem",color:"#666",fontWeight:"500"},children:new Date(g.timestamp).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})})]}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px"},children:[i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"5px",fontWeight:"500"},children:"Player Code"}),i.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#000",fontFamily:"monospace"},children:g.playerCode||"N/A"})]}),i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"5px",fontWeight:"500"},children:"Player Name"}),i.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#000"},children:g.playerName||"N/A"})]}),i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"5px",fontWeight:"500"},children:"Browser"}),i.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#000"},children:g.browser||"N/A"})]}),i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"5px",fontWeight:"500"},children:"Device"}),i.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#000"},children:g.device||"N/A"})]})]}),!g.success&&g.errorMessage&&i.jsxs("div",{style:{marginTop:"15px",padding:"12px",background:"#fff",borderLeft:"4px solid #f44336",borderRadius:"4px"},children:[i.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"5px",fontWeight:"500"},children:"Error Message"}),i.jsx("div",{style:{fontSize:"1rem",color:"#d32f2f",fontWeight:"600",fontStyle:"italic"},children:g.errorMessage})]})]},g.id))})]}),i.jsx("div",{style:{marginTop:"30px",padding:"20px",background:"#f8f9fa",borderRadius:"8px",textAlign:"center"},children:i.jsx("p",{style:{margin:0,color:"#666",fontSize:"0.9rem",fontStyle:"italic"},children:" Logs update in real-time. Failed attempts help identify players who need assistance with their codes."})})]}):i.jsx("div",{style:{padding:"40px",textAlign:"center",color:"#999"},children:i.jsx("p",{children:" This feature is only available to Pool Managers"})})},Hb=()=>{const t=navigator.userAgent;let e="Unknown";if(t.indexOf("Firefox")>-1){const n=t.match(/Firefox\/(\d+)/);e=n?`Firefox ${n[1]}`:"Firefox"}else if(t.indexOf("SamsungBrowser")>-1)e="Samsung Internet";else if(t.indexOf("Opera")>-1||t.indexOf("OPR")>-1)e="Opera";else if(t.indexOf("Trident")>-1)e="Internet Explorer";else if(t.indexOf("Edge")>-1)e="Edge";else if(t.indexOf("Chrome")>-1){const n=t.match(/Chrome\/(\d+)/);e=n?`Chrome ${n[1]}`:"Chrome"}else if(t.indexOf("Safari")>-1){const n=t.match(/Version\/(\d+)/);e=n?`Safari ${n[1]}`:"Safari"}return e},Vb=()=>{const t=navigator.userAgent;return/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(t)?"Tablet":/Mobile|iP(hone|od)|Android|BlackBerry|IEMobile|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(t)?"Mobile":"Desktop"},hx=async({playerCode:t,playerName:e=null,success:n,errorMessage:r=null})=>{try{const s=Zu(),o=J(s,"loginLogs"),l={timestamp:Date.now(),playerCode:t||"EMPTY",playerName:e||null,success:n,errorMessage:r||null,browser:Hb(),device:Vb(),userAgent:navigator.userAgent};await Br(o,l),console.log(" Login attempt logged:",{code:t,success:n,browser:l.browser,device:l.device})}catch(s){console.error(" Failed to log login attempt:",s)}},Yb=async(t,e)=>hx({playerCode:t,playerName:e,success:!0,errorMessage:null}),ic=async(t,e)=>hx({playerCode:t,playerName:null,success:!1,errorMessage:e});function kr(t,e){if(!t||!t[e])return 0;let n=0;const r=t[e];return Object.keys(r).forEach(s=>{const o=r[s];o&&o.team1!==void 0&&o.team2!==void 0&&(n+=parseInt(o.team1)+parseInt(o.team2))}),n}function Sr(t,e){if(!t||!t[e])return 0;let n=0;const r=t[e];return Object.keys(r).forEach(s=>{const o=r[s];o&&o.team1!==void 0&&o.team2!==void 0&&(n+=parseInt(o.team1)+parseInt(o.team2))}),n}function eh(t,e){if(!t||!t[e])return{};const n={},r=t[e];return Object.keys(r).forEach(s=>{const o=r[s];if(o&&o.team1!==void 0&&o.team2!==void 0){const l=parseInt(o.team1),a=parseInt(o.team2);l>a?n[s]="team1":a>l&&(n[s]="team2")}}),n}function fx(t,e,n){if(!t||!t[n])return 0;let r=0;const s=t[n];return Object.keys(e).forEach(o=>{const l=e[o],a=s[o];if(a&&a.team1!==void 0&&a.team2!==void 0){const c=parseInt(a.team1),d=parseInt(a.team2);let p=null;c>d?p="team1":d>c&&(p="team2"),p===l&&r++}}),r}function Xn(t,e){return Math.abs(t-e)}function oc(t,e,n){const r=eh(e,n);if(Object.keys(r).length===0)return{status:"not_scored",winner:null,message:"Waiting for game results"};const s=Sr(e,n),o=[];if(Object.keys(t).forEach(h=>{const f=t[h],k=f.name,S=f.picks;if(!S||!S[n])return;const j=fx(S,r,n),T=kr(S,n),_=Xn(T,s);o.push({name:k,code:h,correctWinners:j,predictedTotal:T,difference:_})}),o.length===0)return{status:"no_picks",winner:null,message:"No picks submitted for this week"};const l=Math.max(...o.map(h=>h.correctWinners)),a=o.filter(h=>h.correctWinners===l);if(a.length===1)return{status:"calculated",winner:a[0].name,winnerCode:a[0].code,correctWinners:l,tiebreakerUsed:!1,isTrueTie:!1,tiedPlayers:null,allPlayerResults:o.sort((h,f)=>f.correctWinners-h.correctWinners)};const c=Math.min(...a.map(h=>h.difference)),d=a.filter(h=>h.difference===c),p=d.length>1;return{status:"calculated",winner:p?d.map(h=>h.name):d[0].name,winnerCode:p?d.map(h=>h.code):d[0].code,correctWinners:l,actualTotal:s,predictedTotal:d[0].predictedTotal,difference:d[0].difference,tiebreakerUsed:!0,tiebreakerLevel:`${n} Total Points`,isTrueTie:p,tiedPlayers:a.map(h=>h.name),tiedPlayersDetails:a.map(h=>({name:h.name,correctWinners:h.correctWinners,predictedTotal:h.predictedTotal,difference:h.difference})),allPlayerResults:o.sort((h,f)=>f.correctWinners-h.correctWinners)}}function lc(t,e,n){const r=Sr(e,n);if(r===0)return{status:"not_scored",winner:null,message:"Waiting for game results"};const s=[];if(Object.keys(t).forEach(c=>{const d=t[c],p=d.name,h=d.picks;if(!h||!h[n])return;const f=kr(h,n),k=Xn(f,r);s.push({name:p,code:c,predictedTotal:f,difference:k})}),s.length===0)return{status:"no_picks",winner:null,message:"No picks submitted for this week"};const o=Math.min(...s.map(c=>c.difference)),l=s.filter(c=>c.difference===o);if(l.length===0)return{status:"no_picks",winner:null,message:"No valid picks submitted for this week"};const a=l.length>1;return{status:"calculated",winner:a?l.map(c=>c.name):l[0].name,winnerCode:a?l.map(c=>c.code):l[0].code,actualTotal:r,predictedTotal:l[0].predictedTotal,difference:o,tiebreakerUsed:!1,isTrueTie:a,tiedPlayers:a?l.map(c=>c.name):null,allPlayerResults:s.sort((c,d)=>c.difference-d.difference)}}function Kb(t,e){const n="superbowl",r=eh(e,n);if(Object.keys(r).length===0)return{status:"not_scored",winner:null,message:"Waiting for Super Bowl results"};const s=r[13];if(!s)return{status:"not_scored",winner:null,message:"Super Bowl winner not determined"};const o=[];if(Object.keys(t).forEach(p=>{const h=t[p],f=h.name,k=h.picks;if(!k||!k[n]||!k[n][13])return;const S=k[n][13],j=parseInt(S.team1),T=parseInt(S.team2);let _=null;j>T?_="team1":T>j&&(_="team2"),_===s&&o.push({name:f,code:p,picks:k})}),o.length===0)return{status:"no_winner",winner:null,message:"No players picked the correct Super Bowl winner"};if(o.length===1)return{status:"calculated",winner:o[0].name,winnerCode:o[0].code,pickedCorrectWinner:!0,eligiblePlayers:1,eliminatedPlayers:Object.keys(t).length-1,tiebreakerUsed:!1,isTrueTie:!1,steps:[{level:"Correct Super Bowl Winner",remaining:1,winner:o[0].name}]};const l=[{key:"superbowl",name:"Week 4"},{key:"conference",name:"Week 3"},{key:"divisional",name:"Week 2"},{key:"wildcard",name:"Week 1"}];let a=[...o];const c=[{level:"Correct Super Bowl Winner",remaining:o.length,tied:o.map(p=>p.name)}];for(const p of l){if(a.length===1)break;const h=Sr(e,p.key),f=a.map(S=>{const j=kr(S.picks,p.key),T=Xn(j,h);return{...S,predictedTotal:j,difference:T,actualTotal:h}}),k=Math.min(...f.map(S=>S.difference));if(a=f.filter(S=>S.difference===k),c.push({level:`${p.name} Total Points`,actualTotal:h,remaining:a.length,tied:a.map(S=>S.name),minDifference:k,details:f.map(S=>({name:S.name,predictedTotal:S.predictedTotal,difference:S.difference}))}),a.length===1)break}const d=a.length>1;return{status:"calculated",winner:d?a.map(p=>p.name):a[0].name,winnerCode:d?a.map(p=>p.code):a[0].code,pickedCorrectWinner:!0,eligiblePlayers:o.length,eliminatedPlayers:Object.keys(t).length-o.length,tiebreakerUsed:c.length>1,isTrueTie:d,steps:c}}function Qb(t,e){const n="superbowl",r=Sr(e,n);if(r===0)return{status:"not_scored",winner:null,message:"Waiting for Super Bowl results"};const s=[];if(Object.keys(t).forEach(p=>{const h=t[p],f=h.name,k=h.picks;if(!k||!k[n])return;const S=kr(k,n),j=Xn(S,r);s.push({name:f,code:p,picks:k,predictedTotal:S,difference:j})}),s.length===0)return{status:"no_picks",winner:null,message:"No picks submitted for Super Bowl"};const o=Math.min(...s.map(p=>p.difference));let l=s.filter(p=>p.difference===o);if(l.length===1)return{status:"calculated",winner:l[0].name,winnerCode:l[0].code,actualTotal:r,predictedTotal:l[0].predictedTotal,difference:o,tiebreakerUsed:!1,isTrueTie:!1,steps:[{level:"Week 4 Total Points",actualTotal:r,remaining:1,winner:l[0].name,minDifference:o}]};const a=[{key:"conference",name:"Week 3"},{key:"divisional",name:"Week 2"},{key:"wildcard",name:"Week 1"}],c=[{level:"Week 4 Total Points",actualTotal:r,remaining:l.length,tied:l.map(p=>p.name),minDifference:o,details:l.map(p=>({name:p.name,predictedTotal:p.predictedTotal,difference:p.difference}))}];for(const p of a){if(l.length===1)break;const h=Sr(e,p.key),f=l.map(S=>{const j=kr(S.picks,p.key),T=Xn(j,h);return{...S,weekPredictedTotal:j,weekDifference:T,weekActualTotal:h}}),k=Math.min(...f.map(S=>S.weekDifference));if(l=f.filter(S=>S.weekDifference===k),c.push({level:`${p.name} Total Points`,actualTotal:h,remaining:l.length,tied:l.map(S=>S.name),minDifference:k,details:f.map(S=>({name:S.name,predictedTotal:S.weekPredictedTotal,difference:S.weekDifference}))}),l.length===1)break}if(l.length===0)return{status:"no_picks",winner:null,message:"No valid picks for tiebreaker weeks"};const d=l.length>1;return{status:"calculated",winner:d?l.map(p=>p.name):l[0].name,winnerCode:d?l.map(p=>p.code):l[0].code,actualTotal:r,predictedTotal:l[0].predictedTotal,difference:l[0].difference,tiebreakerUsed:c.length>1,isTrueTie:d,steps:c,allPlayerResults:s.sort((p,h)=>p.difference-h.difference)}}function Xb(t,e){const n=[{key:"wildcard",name:"Week 1"},{key:"divisional",name:"Week 2"},{key:"conference",name:"Week 3"},{key:"superbowl",name:"Week 4"}],r={};if(n.forEach(h=>{r[h.key]=eh(e,h.key)}),!n.every(h=>Object.keys(r[h.key]).length>0))return{status:"not_scored",winner:null,message:"Waiting for all playoff rounds to complete"};const o=[];if(Object.keys(t).forEach(h=>{const f=t[h],k=f.name,S=f.picks;let j=0;const T={};n.forEach(_=>{const g=fx(S,r[_.key],_.key);T[_.key]=g,j+=g}),o.push({name:k,code:h,picks:S,totalCorrect:j,weeklyCorrect:T})}),o.length===0)return{status:"no_picks",winner:null,message:"No picks submitted"};const l=Math.max(...o.map(h=>h.totalCorrect));let a=o.filter(h=>h.totalCorrect===l);if(a.length===1)return{status:"calculated",winner:a[0].name,winnerCode:a[0].code,correctWinners:l,tiebreakerUsed:!1,isTrueTie:!1,steps:[{layer:0,type:"Overall Correct Winners",remaining:1,winner:a[0].name,correctWinners:l}]};const c=[{layer:0,type:"Overall Correct Winners",remaining:a.length,tied:a.map(h=>h.name),correctWinners:l}],d=[...n].reverse();for(const h of d){if(a.length===1)break;const f=Math.max(...a.map(S=>S.weeklyCorrect[h.key])),k=a.length;if(a=a.filter(S=>S.weeklyCorrect[h.key]===f),c.push({layer:1,type:"Correct Winners",level:`${h.name} Winners`,remaining:a.length,tied:a.map(S=>S.name),maxCorrect:f,eliminated:k-a.length}),a.length===1)break}if(a.length===1)return{status:"calculated",winner:a[0].name,winnerCode:a[0].code,correctWinners:l,tiebreakerUsed:!0,isTrueTie:!1,steps:c};for(const h of d){if(a.length===1)break;const f=Sr(e,h.key),k=a.map(T=>{const _=kr(T.picks,h.key),g=Xn(_,f);return{...T,weekPredictedTotal:_,weekDifference:g}}),S=Math.min(...k.map(T=>T.weekDifference)),j=a.length;if(a=k.filter(T=>T.weekDifference===S),c.push({layer:2,type:"Closest to Totals",level:`${h.name} Total Points`,actualTotal:f,remaining:a.length,tied:a.map(T=>T.name),minDifference:S,eliminated:j-a.length,details:k.map(T=>({name:T.name,predictedTotal:T.weekPredictedTotal,difference:T.weekDifference}))}),a.length===1)break}if(a.length===0)return{status:"no_picks",winner:null,message:"No valid picks for tiebreaker weeks"};const p=a.length>1;return{status:"calculated",winner:p?a.map(h=>h.name):a[0].name,winnerCode:p?a.map(h=>h.code):a[0].code,correctWinners:l,tiebreakerUsed:!0,isTrueTie:p,steps:c,allPlayerResults:o.sort((h,f)=>f.totalCorrect-h.totalCorrect)}}function qb(t,e){const n=[{key:"wildcard",name:"Week 1"},{key:"divisional",name:"Week 2"},{key:"conference",name:"Week 3"},{key:"superbowl",name:"Week 4"}],r={};let s=0;if(n.forEach(h=>{const f=Sr(e,h.key);r[h.key]=f,s+=f}),s===0)return{status:"not_scored",winner:null,message:"Waiting for all playoff rounds to complete"};const o=[];if(Object.keys(t).forEach(h=>{const f=t[h],k=f.name,S=f.picks;let j=0;const T={};n.forEach(g=>{const C=kr(S,g.key);T[g.key]=C,j+=C});const _=Xn(j,s);o.push({name:k,code:h,picks:S,overallPredictedTotal:j,overallDifference:_,weeklyPredictedTotals:T})}),o.length===0)return{status:"no_picks",winner:null,message:"No picks submitted"};const l=Math.min(...o.map(h=>h.overallDifference));let a=o.filter(h=>h.overallDifference===l);if(a.length===1)return{status:"calculated",winner:a[0].name,winnerCode:a[0].code,overallActualTotal:s,overallPredictedTotal:a[0].overallPredictedTotal,difference:l,tiebreakerUsed:!1,isTrueTie:!1,steps:[{level:"Overall Total Points",actualTotal:s,remaining:1,winner:a[0].name,minDifference:l}],allPlayerResults:o.sort((h,f)=>h.overallDifference-f.overallDifference)};const c=[{level:"Overall Total Points",actualTotal:s,remaining:a.length,tied:a.map(h=>h.name),minDifference:l,details:a.map(h=>({name:h.name,predictedTotal:h.overallPredictedTotal,difference:h.overallDifference}))}],d=[...n].reverse();for(const h of d){if(a.length===1)break;const f=r[h.key],k=a.map(T=>{const _=T.weeklyPredictedTotals[h.key],g=Xn(_,f);return{...T,weekPredictedTotal:_,weekDifference:g}}),S=Math.min(...k.map(T=>T.weekDifference)),j=a.length;if(a=k.filter(T=>T.weekDifference===S),c.push({level:`${h.name} Total Points`,actualTotal:f,remaining:a.length,tied:a.map(T=>T.name),minDifference:S,eliminated:j-a.length,details:k.map(T=>({name:T.name,predictedTotal:T.weekPredictedTotal,difference:T.weekDifference}))}),a.length===1)break}if(a.length===0)return{status:"no_picks",winner:null,message:"No valid picks for tiebreaker weeks"};const p=a.length>1;return{status:"calculated",winner:p?a.map(h=>h.name):a[0].name,winnerCode:p?a.map(h=>h.code):a[0].code,overallActualTotal:s,overallPredictedTotal:a[0].overallPredictedTotal,difference:a[0].overallDifference,tiebreakerUsed:c.length>1,isTrueTie:p,steps:c,allPlayerResults:o.sort((h,f)=>h.overallDifference-f.overallDifference)}}const Jb=({calculatedWinners:t,publishedWinners:e,isPoolManager:n,onPublishPrize:r,onUnpublishPrize:s,allPicks:o=[],actualScores:l={}})=>{const[a,c]=F.useState({"Week 1":!0,"Week 2":!1,"Week 3":!1,"Week 4":!1,"Grand Prize":!1}),[d,p]=F.useState({}),h=w=>{c(N=>({...N,[w]:!N[w]}))},f=w=>{p(N=>({...N,[w]:!N[w]}))},k=()=>{c({"Week 1":!0,"Week 2":!0,"Week 3":!0,"Week 4":!0,"Grand Prize":!0})},S=()=>{c({"Week 1":!1,"Week 2":!1,"Week 3":!1,"Week 4":!1,"Grand Prize":!1})},j=[{week:"Week 1",title:"Most Correct Winners",amount:"$50",icon:"",calcKey:"week1.prize1",pubKey:"week1_prize1"},{week:"Week 1",title:"Closest Total Points",amount:"$50",icon:"",calcKey:"week1.prize2",pubKey:"week1_prize2"},{week:"Week 2",title:"Most Correct Winners",amount:"$50",icon:"",calcKey:"week2.prize1",pubKey:"week2_prize1"},{week:"Week 2",title:"Closest Total Points",amount:"$50",icon:"",calcKey:"week2.prize2",pubKey:"week2_prize2"},{week:"Week 3",title:"Most Correct Winners",amount:"$50",icon:"",calcKey:"week3.prize1",pubKey:"week3_prize1"},{week:"Week 3",title:"Closest Total Points",amount:"$50",icon:"",calcKey:"week3.prize2",pubKey:"week3_prize2"},{week:"Week 4",title:"Correct Winner",amount:"$50",icon:"",calcKey:"week4.prize1",pubKey:"week4_prize1"},{week:"Week 4",title:"Closest Total Points",amount:"$50",icon:"",calcKey:"week4.prize2",pubKey:"week4_prize2"},{week:"Grand Prize",title:"Most Correct Winners",amount:"$120",icon:"",calcKey:"grandPrize.prize1",pubKey:"grand_prize1"},{week:"Grand Prize",title:"Closest Total Points",amount:"$80",icon:"",calcKey:"grandPrize.prize2",pubKey:"grand_prize2"}],T=w=>{const N=w.split(".");let B=t;for(const q of N)if(B=B==null?void 0:B[q],!B)return null;return B},_=w=>(e==null?void 0:e[w])===!0,g=(w,N)=>{r&&r(w.pubKey,w,N)},C=(w,N)=>{const B=N.steps&&N.steps.length>0,q=N.tiebreakerUsed&&N.tiedPlayersDetails&&N.tiedPlayersDetails.length>0;if(!B&&!q)return i.jsxs("div",{className:"expanded-view",children:[i.jsx("div",{className:"breakdown-header",children:" FULL BREAKDOWN "}),i.jsx("p",{children:"Winner determined without tiebreakers."})]});if(B)return i.jsxs("div",{className:"expanded-view",children:[i.jsx("div",{className:"breakdown-header",children:" FULL TIEBREAKER BREAKDOWN "}),N.steps.map((K,H)=>i.jsxs("div",{className:"breakdown-step",children:[i.jsxs("div",{className:"step-header",children:[K.layer!==void 0&&i.jsxs("span",{className:"layer-badge",children:["Layer ",K.layer]}),"STEP ",H+1,": ",K.level]}),K.actualTotal!==void 0&&i.jsxs("div",{className:"step-detail",children:["Actual total: ",K.actualTotal," points"]}),K.remaining!==void 0&&i.jsxs("div",{className:"step-detail",children:[K.remaining," player",K.remaining!==1?"s":""," remain",K.remaining===1?"s":""]}),K.tied&&K.tied.length>1&&i.jsxs("div",{className:"step-detail tied-players",children:[" Tied: ",K.tied.join(", ")]}),K.winner&&i.jsxs("div",{className:"step-detail winner",children:[" Winner: ",i.jsx("strong",{children:K.winner})]}),K.eliminated>0&&i.jsxs("div",{className:"step-detail eliminated",children:[" ",K.eliminated," player",K.eliminated!==1?"s":""," eliminated"]}),K.details&&K.details.length>0&&i.jsx("div",{className:"player-details",children:K.details.map((le,$)=>i.jsxs("div",{className:"player-row",children:[i.jsxs("span",{className:"player-name",children:[le.name,":"]}),i.jsxs("span",{className:"player-prediction",children:[le.predictedTotal," predicted"]}),i.jsxs("span",{className:"player-diff",children:["(off by ",le.difference,")"]})]},$))})]},H))]});if(q)return i.jsxs("div",{className:"expanded-view",children:[i.jsx("div",{className:"breakdown-header",children:" FULL TIEBREAKER BREAKDOWN "}),i.jsxs("div",{className:"breakdown-step",children:[i.jsxs("div",{className:"step-header",children:["INITIAL TIE: Correctly predicted ",N.correctWinners," NFL winning team",N.correctWinners!==1?"s":""]}),i.jsxs("div",{className:"step-detail tied-players",children:[" Tied: ",N.tiedPlayers.join(", ")]})]}),i.jsxs("div",{className:"breakdown-step",children:[i.jsxs("div",{className:"step-header",children:["TIEBREAKER: ",N.tiebreakerLevel]}),i.jsxs("div",{className:"step-detail",children:["Actual total: ",N.actualTotal," points"]}),i.jsx("div",{className:"player-details",children:N.tiedPlayersDetails.map((K,H)=>i.jsxs("div",{className:"player-row",children:[i.jsxs("span",{className:"player-name",children:[K.name,":"]}),i.jsxs("span",{className:"player-prediction",children:[K.predictedTotal," predicted"]}),i.jsxs("span",{className:"player-diff",children:["(off by ",K.difference,")"]}),K.name===N.winner&&i.jsx("span",{className:"winner-badge",children:" WINNER"})]},H))})]})]})},x=w=>{var K;const N=T(w.calcKey),B=_(w.pubKey),q=d[w.pubKey]||!1;return!N||N.status==="not_scored"||N.status==="no_picks"?i.jsxs("div",{className:"prize-card",children:[i.jsxs("div",{className:"prize-header",children:[i.jsx("span",{className:"prize-icon",children:w.icon}),i.jsx("span",{className:"prize-title",children:w.title}),i.jsx("span",{className:"prize-amount",children:w.amount})]}),i.jsx("div",{className:"prize-status waiting",children:" Waiting for game results"})]},w.pubKey):B?i.jsxs("div",{className:"prize-card published",children:[i.jsxs("div",{className:"prize-header",children:[i.jsx("span",{className:"prize-icon",children:w.icon}),i.jsx("span",{className:"prize-title",children:w.title}),i.jsx("span",{className:"prize-amount",children:w.amount})]}),i.jsxs("div",{className:"moderate-view",children:[i.jsxs("div",{className:"winner-announcement",children:[" Winner: ",i.jsx("strong",{children:Array.isArray(N.winner)?N.winner.join(", "):N.winner})]}),N.correctWinners!==void 0&&i.jsxs("div",{className:"winner-stat",children:[" Correctly predicted ",N.correctWinners," NFL winning team",N.correctWinners!==1?"s":""]}),N.difference!==void 0&&i.jsxs("div",{className:"winner-stat",children:["Off by ",N.difference," point",N.difference!==1?"s":"",N.predictedTotal!==void 0&&N.actualTotal!==void 0&&i.jsxs("span",{children:[" (Predicted: ",N.predictedTotal,", Actual: ",N.actualTotal,")"]})]}),N.tiebreakerUsed&&i.jsxs("div",{className:"tiebreaker-info",children:[N.tiedPlayers&&N.tiedPlayers.length>1&&i.jsxs("div",{className:"tied-count",children:[N.tiedPlayers.length," players tied - each correctly predicted ",N.correctWinners," NFL winning team",N.correctWinners!==1?"s":""]}),N.tiebreakerLevel&&i.jsxs("div",{className:"tiebreaker-method",children:["Tiebreaker: ",N.tiebreakerLevel]}),N.tiedPlayers&&N.tiedPlayers.length>0&&i.jsxs("div",{className:"tied-players-list",children:["Tied players: ",N.tiedPlayers.join(", ")]})]}),N.isTrueTie&&i.jsx("div",{className:"true-tie-notice",children:" TRUE TIE - Prize will be split equally"}),!N.tiebreakerUsed&&!N.isTrueTie&&i.jsx("div",{className:"no-tiebreaker",children:"No tiebreaker needed"})]}),(((K=N.steps)==null?void 0:K.length)>0||N.tiebreakerUsed)&&i.jsx("button",{className:"toggle-breakdown-btn",onClick:()=>f(w.pubKey),children:q?" Hide Full Breakdown":" Show Full Breakdown"}),q&&C(w,N),n&&i.jsxs("button",{className:"unpublish-btn",onClick:()=>s(w.pubKey),children:[" Unpublish ",w.title]})]},w.pubKey):i.jsxs("div",{className:"prize-card unpublished",children:[i.jsxs("div",{className:"prize-header",children:[i.jsx("span",{className:"prize-icon",children:w.icon}),i.jsx("span",{className:"prize-title",children:w.title}),i.jsx("span",{className:"prize-amount",children:w.amount})]}),i.jsx("div",{className:"prize-status unpublished",children:n?i.jsxs(i.Fragment,{children:[" Not yet published",i.jsx("button",{className:"publish-btn",onClick:()=>g(w,N),children:" Review & Publish"})]}):i.jsxs("div",{children:[" Not yet published",i.jsx("div",{style:{fontSize:"0.85rem",marginTop:"5px",opacity:.8},children:"(Pool Manager is reviewing calculations)"})]})})]},w.pubKey)},L={wildcard:{name:"Wild Card Round",weekNum:1},divisional:{name:"Divisional Round",weekNum:2},conference:{name:"Conference Championships",weekNum:3},superbowl:{name:"Super Bowl LIX",weekNum:4}},E=w=>w.lastUpdated||w.timestamp||0,W=w=>{if(!w)return"No timestamp";const N=new Date(w),B=String(N.getMonth()+1).padStart(2,"0"),q=String(N.getDate()).padStart(2,"0"),K=N.getHours(),H=String(N.getMinutes()).padStart(2,"0"),le=String(N.getSeconds()).padStart(2,"0"),$=K>=12?"PM":"AM",ne=K%12||12;return`${B}/${q}, ${String(ne).padStart(2,"0")}:${H}:${le} ${$}`},O=F.useMemo(()=>{const w={weeks:{},seasonSummary:{weeksAnalyzed:0,totalPrizes:0,prizesWithTies:0,tiesWouldBreak:0}};return Object.entries(L).forEach(([N,B])=>{const q=o.filter($=>$.week===N);if(!l[N]||q.length===0)return;w.seasonSummary.weeksAnalyzed++;const H={weekName:B.name,prizes:[]};j.filter($=>$.week===`Week ${B.weekNum}`).forEach($=>{w.seasonSummary.totalPrizes++;const ne=T($.calcKey);if(!ne)return;const se=Array.isArray(ne.winner)?ne.winner:[ne.winner].filter(Boolean);if(se.length>1){w.seasonSummary.prizesWithTies++;const ye=se.map(ft=>{const Z=q.find(er=>er.playerCode===ft);return{playerCode:ft,playerName:(Z==null?void 0:Z.playerName)||ft,timestamp:E(Z),pick:Z}}).filter(ft=>ft.pick);ye.sort((ft,Z)=>ft.timestamp-Z.timestamp);const Re={prizeTitle:$.title,officialResult:`${se.length}-way tie`,tiedPlayers:ye,hypotheticalWinner:ye[0],timestampWouldBreak:ye.length>1};Re.timestampWouldBreak&&w.seasonSummary.tiesWouldBreak++,H.prizes.push(Re)}}),H.prizes.length>0&&(w.weeks[N]=H)}),w},[t,o,l,j]),R=F.useMemo(()=>{const{weeksAnalyzed:w,prizesWithTies:N,totalPrizes:B}=O.seasonSummary;return w===0||B===0?null:{currentPlayers:50,tieRate:N/B,projections:{1e3:{expectedTiesPerPrize:"15-30 way ties",prizeWithout:"$100  20 = $5.00 each",prizeWith:"$100  1 = $100.00",improvement:"+$95.00 (1900% increase)"},1e4:{expectedTiesPerPrize:"50-200 way ties",prizeWithout:"$100  100 = $1.00 each",prizeWith:"$100  1 = $100.00",improvement:"+$99.00 (9900% increase)"}}}},[O]),M=[{key:"Week 1",title:"Week 1 - Wild Card Round (6 games)",prizes:j.filter(w=>w.week==="Week 1")},{key:"Week 2",title:"Week 2 - Divisional Round (4 games)",prizes:j.filter(w=>w.week==="Week 2")},{key:"Week 3",title:"Week 3 - Conference Championships (2 games)",prizes:j.filter(w=>w.week==="Week 3")},{key:"Week 4",title:"Week 4 - Super Bowl (1 game)",prizes:j.filter(w=>w.week==="Week 4")},{key:"Grand Prize",title:"Grand Prizes",prizes:j.filter(w=>w.week==="Grand Prize")}];return i.jsxs("div",{className:"how-winners-container",children:[i.jsx("h2",{children:" How Winners Are Determined"}),i.jsx("p",{className:"intro-text",children:"Winners are published after the Pool Manager reviews calculations. Check back after each week's games complete."}),i.jsxs("div",{className:"week-controls",children:[i.jsx("button",{className:"control-btn",onClick:k,children:" Expand All Weeks"}),i.jsx("button",{className:"control-btn",onClick:S,children:" Collapse All Weeks"})]}),i.jsx("div",{className:"divider"}),M.map((w,N)=>i.jsxs("div",{className:"week-section",children:[i.jsxs("h3",{className:`week-header collapsible ${a[w.key]?"expanded":"collapsed"}`,onClick:()=>h(w.key),children:[i.jsx("span",{className:"toggle-icon",children:a[w.key]?"":""}),w.title]}),a[w.key]&&i.jsx("div",{className:"prizes-container",children:w.prizes.map(B=>x(B))}),N<M.length-1&&i.jsx("div",{className:"divider"})]},w.key)),n&&O.seasonSummary.weeksAnalyzed>0&&i.jsxs("div",{className:"timestamp-analysis-section",children:[i.jsxs("div",{className:"testing-warning-banner",children:[i.jsx("h2",{children:" EXPERIMENTAL FEATURE - FOR TESTING ONLY"}),i.jsx("p",{children:"This analysis shows what WOULD happen if submission timestamp was used as a final tie-breaker."}),i.jsxs("p",{children:[i.jsx("strong",{children:"This is NOT used for actual prizes this season."})," Data is for planning next year only."]})]}),i.jsxs("div",{className:"timestamp-analysis-content",children:[i.jsxs("div",{className:"analysis-header",children:[i.jsx("h3",{children:" HYPOTHETICAL: TIMESTAMP TIE-BREAKER ANALYSIS"}),i.jsxs("p",{className:"last-updated",children:["Last updated: ",new Date().toLocaleString()]})]}),Object.entries(O.weeks).map(([w,N])=>i.jsxs("div",{className:"week-timestamp-analysis",children:[i.jsxs("h4",{className:"week-analysis-title",children:[" ",N.weekName.toUpperCase()," - TIMESTAMP IMPACT"]}),N.prizes.filter(B=>B.timestampWouldBreak).length===0?i.jsx("div",{className:"no-ties-message",children:" No ties this week - timestamp not needed"}):N.prizes.map((B,q)=>B.timestampWouldBreak?i.jsxs("div",{className:"prize-timestamp-comparison",children:[i.jsx("h5",{children:B.prizeTitle}),i.jsxs("div",{className:"official-result-box",children:[i.jsx("div",{className:"box-label",children:" Official Result (Current Rules):"}),i.jsxs("div",{className:"box-content",children:[B.officialResult," - Prize split equally",i.jsx("div",{className:"tied-players-list",children:B.tiedPlayers.map(K=>K.playerName).join(", ")})]})]}),i.jsxs("div",{className:"hypothetical-result-box",children:[i.jsx("div",{className:"box-label",children:" Hypothetical (If Timestamp Was Used):"}),i.jsxs("div",{className:"box-content",children:[i.jsx("div",{className:"timestamp-ranking",children:B.tiedPlayers.map((K,H)=>i.jsxs("div",{className:`timestamp-entry ${H===0?"winner":""}`,children:[i.jsxs("span",{className:"rank",children:[H+1,H===0?"st":H===1?"nd":H===2?"rd":"th",":"]}),i.jsx("span",{className:"player-name",children:K.playerName}),i.jsx("span",{className:"timestamp",children:W(K.timestamp)}),H===0&&i.jsx("span",{className:"winner-badge",children:" WINNER"})]},H))}),i.jsxs("div",{className:"impact-note",children:[" Impact: ",B.tiedPlayers.length,"-way split  Solo winner"]})]})]})]},q):null)]},w)),i.jsxs("div",{className:"season-summary-section",children:[i.jsx("h3",{className:"summary-title",children:" SEASON SUMMARY (Cumulative Statistics)"}),i.jsxs("div",{className:"summary-box current-season",children:[i.jsx("h4",{children:"CURRENT SEASON (50 players):"}),i.jsxs("div",{className:"stats-grid",children:[i.jsxs("div",{className:"stat-item",children:[i.jsx("span",{className:"stat-label",children:"Weeks Analyzed:"}),i.jsxs("span",{className:"stat-value",children:[O.seasonSummary.weeksAnalyzed," / 4"]})]}),i.jsxs("div",{className:"stat-item",children:[i.jsx("span",{className:"stat-label",children:"Prizes Awarded:"}),i.jsxs("span",{className:"stat-value",children:[O.seasonSummary.totalPrizes," / 10"]})]}),i.jsxs("div",{className:"stat-item",children:[i.jsx("span",{className:"stat-label",children:"Ties After Rules:"}),i.jsxs("span",{className:"stat-value",children:[O.seasonSummary.prizesWithTies," (",O.seasonSummary.totalPrizes>0?Math.round(O.seasonSummary.prizesWithTies/O.seasonSummary.totalPrizes*100):0,"%)"]})]}),i.jsxs("div",{className:"stat-item",children:[i.jsx("span",{className:"stat-label",children:"Timestamp Would Break:"}),i.jsxs("span",{className:"stat-value",children:[O.seasonSummary.tiesWouldBreak," (",O.seasonSummary.prizesWithTies>0?Math.round(O.seasonSummary.tiesWouldBreak/O.seasonSummary.prizesWithTies*100):0,"% of ties)"]})]})]})]}),R&&i.jsxs("div",{className:"scale-projections-section",children:[i.jsx("h3",{className:"projections-title",children:" PROJECTION: SCALING TO LARGER POOLS"}),i.jsxs("p",{className:"projections-subtitle",children:["Based on current tie rate (",Math.round(R.tieRate*100),"% after ",O.seasonSummary.weeksAnalyzed," week",O.seasonSummary.weeksAnalyzed!==1?"s":""," with ",R.currentPlayers," players):"]}),i.jsxs("div",{className:"projection-box projection-1000",children:[i.jsx("h4",{children:"WITH 1,000 PLAYERS:"}),i.jsxs("div",{className:"projection-stats",children:[i.jsxs("div",{className:"projection-item",children:[i.jsx("span",{className:"projection-label",children:"Expected Ties per Prize:"}),i.jsx("span",{className:"projection-value",children:R.projections[1e3].expectedTiesPerPrize})]}),i.jsxs("div",{className:"projection-item",children:[i.jsx("span",{className:"projection-label",children:"Timestamp Impact:"}),i.jsx("span",{className:"projection-value critical",children:"Critical"})]}),i.jsxs("div",{className:"projection-item",children:[i.jsx("span",{className:"projection-label",children:"Prize Split Improvement:"}),i.jsxs("div",{className:"prize-comparison",children:[i.jsxs("div",{children:["Without: ",R.projections[1e3].prizeWithout]}),i.jsxs("div",{children:["With: ",R.projections[1e3].prizeWith]}),i.jsx("div",{className:"improvement",children:R.projections[1e3].improvement})]})]})]})]}),i.jsxs("div",{className:"projection-box projection-10000",children:[i.jsx("h4",{children:"WITH 10,000 PLAYERS:"}),i.jsxs("div",{className:"projection-stats",children:[i.jsxs("div",{className:"projection-item",children:[i.jsx("span",{className:"projection-label",children:"Expected Ties per Prize:"}),i.jsx("span",{className:"projection-value",children:R.projections[1e4].expectedTiesPerPrize})]}),i.jsxs("div",{className:"projection-item",children:[i.jsx("span",{className:"projection-label",children:"Timestamp Impact:"}),i.jsx("span",{className:"projection-value essential",children:"ESSENTIAL"})]}),i.jsxs("div",{className:"projection-item",children:[i.jsx("span",{className:"projection-label",children:"Prize Split Improvement:"}),i.jsxs("div",{className:"prize-comparison",children:[i.jsxs("div",{children:["Without: ",R.projections[1e4].prizeWithout]}),i.jsxs("div",{children:["With: ",R.projections[1e4].prizeWith]}),i.jsx("div",{className:"improvement",children:R.projections[1e4].improvement})]})]}),i.jsxs("div",{className:"critical-note",children:[" Without timestamp: Prizes become nearly worthless",i.jsx("br",{}),"With timestamp: Meaningful prize amounts"]})]})]}),i.jsxs("div",{className:"conclusion-box",children:[i.jsx("strong",{children:" CONCLUSION:"})," Timestamp tie-breaker becomes ",i.jsx("strong",{children:"CRITICAL"})," for pools with 500+ players. ",i.jsx("strong",{children:"Essential"})," for 1,000+."]})]})]})]})]})]})},ac=[{id:1,name:"ARI",fullName:"Arizona Cardinals"},{id:2,name:"ATL",fullName:"Atlanta Falcons"},{id:3,name:"BAL",fullName:"Baltimore Ravens"},{id:4,name:"BUF",fullName:"Buffalo Bills"},{id:5,name:"CAR",fullName:"Carolina Panthers"},{id:6,name:"CHI",fullName:"Chicago Bears"},{id:7,name:"CIN",fullName:"Cincinnati Bengals"},{id:8,name:"CLE",fullName:"Cleveland Browns"},{id:9,name:"DAL",fullName:"Dallas Cowboys"},{id:10,name:"DEN",fullName:"Denver Broncos"},{id:11,name:"DET",fullName:"Detroit Lions"},{id:12,name:"GB",fullName:"Green Bay Packers"},{id:13,name:"HOU",fullName:"Houston Texans"},{id:14,name:"IND",fullName:"Indianapolis Colts"},{id:15,name:"JAC",fullName:"Jacksonville Jaguars"},{id:16,name:"KC",fullName:"Kansas City Chiefs"},{id:17,name:"LV",fullName:"Las Vegas Raiders"},{id:18,name:"LAC",fullName:"Los Angeles Chargers"},{id:19,name:"LAR",fullName:"Los Angeles Rams"},{id:20,name:"MIA",fullName:"Miami Dolphins"},{id:21,name:"MIN",fullName:"Minnesota Vikings"},{id:22,name:"NE",fullName:"New England Patriots"},{id:23,name:"NO",fullName:"New Orleans Saints"},{id:24,name:"NYG",fullName:"New York Giants"},{id:25,name:"NYJ",fullName:"New York Jets"},{id:26,name:"PHI",fullName:"Philadelphia Eagles"},{id:27,name:"PIT",fullName:"Pittsburgh Steelers"},{id:28,name:"SF",fullName:"San Francisco 49ers"},{id:29,name:"SEA",fullName:"Seattle Seahawks"},{id:30,name:"TB",fullName:"Tampa Bay Buccaneers"},{id:31,name:"TEN",fullName:"Tennessee Titans"},{id:32,name:"WAS",fullName:"Washington Commanders"}];function Zb({playoffTeams:t,actualScores:e,onSavePlayoffTeams:n,isPoolManager:r}){const[s,o]=F.useState({afc:{seed1:null,seed2:null,seed3:null,seed4:null,seed5:null,seed6:null,seed7:null},nfc:{seed1:null,seed2:null,seed3:null,seed4:null,seed5:null,seed6:null,seed7:null}}),[l,a]=F.useState(null),[c,d]=F.useState(null),[p,h]=F.useState(null),[f,k]=F.useState({week2:!1,week3:!1,week4:!1});F.useEffect(()=>{t!=null&&t.week1&&o(t.week1)},[t]);const S=()=>{if(!(t!=null&&t.week1))return!1;const R=t.week1.afc||{},M=t.week1.nfc||{};for(let w=1;w<=7;w++)if(!R[`seed${w}`]||!M[`seed${w}`])return!1;return!0},j=(R,M,w)=>{const N=ac.find(B=>B.id===parseInt(w));o(B=>({...B,[R]:{...B[R],[M]:N}}))},T=()=>{for(let M=1;M<=7;M++)if(!s.afc[`seed${M}`]||!s.nfc[`seed${M}`]){alert("Please select all 14 teams before saving!");return}const R={week1:{...s,configured:!0}};n(R),alert(" Week 1 playoff teams saved successfully!")},_=()=>{if(!(e!=null&&e.wildcard)){alert(" Week 1 scores not yet entered. Cannot generate Week 2 matchups.");return}const R=g();if(!R){alert(" Not all Week 1 games have been scored. Cannot generate Week 2 matchups.");return}const M=C(R);a(M)},g=()=>{const R=e.wildcard;if(!R)return null;const M={afc:[],nfc:[]};if(R[1]){const w=parseInt(R[1].team2)>parseInt(R[1].team1)?s.afc.seed2:s.afc.seed7;w&&M.afc.push({...w,originalSeed:parseInt(R[1].team2)>parseInt(R[1].team1)?2:7})}if(R[2]){const w=parseInt(R[2].team2)>parseInt(R[2].team1)?s.afc.seed3:s.afc.seed6;w&&M.afc.push({...w,originalSeed:parseInt(R[2].team2)>parseInt(R[2].team1)?3:6})}if(R[3]){const w=parseInt(R[3].team2)>parseInt(R[3].team1)?s.afc.seed4:s.afc.seed5;w&&M.afc.push({...w,originalSeed:parseInt(R[3].team2)>parseInt(R[3].team1)?4:5})}if(R[4]){const w=parseInt(R[4].team2)>parseInt(R[4].team1)?s.nfc.seed2:s.nfc.seed7;w&&M.nfc.push({...w,originalSeed:parseInt(R[4].team2)>parseInt(R[4].team1)?2:7})}if(R[5]){const w=parseInt(R[5].team2)>parseInt(R[5].team1)?s.nfc.seed3:s.nfc.seed6;w&&M.nfc.push({...w,originalSeed:parseInt(R[5].team2)>parseInt(R[5].team1)?3:6})}if(R[6]){const w=parseInt(R[6].team2)>parseInt(R[6].team1)?s.nfc.seed4:s.nfc.seed5;w&&M.nfc.push({...w,originalSeed:parseInt(R[6].team2)>parseInt(R[6].team1)?4:5})}return M.afc.length!==3||M.nfc.length!==3?null:M},C=R=>{const M=[{...s.afc.seed1,originalSeed:1},...R.afc],w=[{...s.nfc.seed1,originalSeed:1},...R.nfc];return M.sort((B,q)=>B.originalSeed-q.originalSeed),w.sort((B,q)=>B.originalSeed-q.originalSeed),{afc:[{team1:M[0],team2:M[3]},{team1:M[1],team2:M[2]}],nfc:[{team1:w[0],team2:w[3]},{team1:w[1],team2:w[2]}]}},x=()=>{if(!l){alert("No proposed matchups to confirm!");return}const R={week2:{...l,autoPopulated:!0,manuallyOverridden:!1}};n(R),a(null),alert(" Week 2 matchups confirmed and saved!")},L=()=>{if(!(e!=null&&e.divisional)){alert(" Week 2 scores not yet entered.");return}const R=e.divisional,M=R[7]&&parseInt(R[7].team1)>parseInt(R[7].team2)?t.week2.afc[0].team1:t.week2.afc[0].team2,w=R[8]&&parseInt(R[8].team1)>parseInt(R[8].team2)?t.week2.afc[1].team1:t.week2.afc[1].team2,N=R[9]&&parseInt(R[9].team1)>parseInt(R[9].team2)?t.week2.nfc[0].team1:t.week2.nfc[0].team2,B=R[10]&&parseInt(R[10].team1)>parseInt(R[10].team2)?t.week2.nfc[1].team1:t.week2.nfc[1].team2;if(!M||!w||!N||!B){alert(" Not all Week 2 games scored yet.");return}d({afcChampionship:{team1:M,team2:w},nfcChampionship:{team1:N,team2:B}})},E=()=>{if(!c)return;const R={week3:{...c,autoPopulated:!0}};n(R),d(null),alert(" Week 3 matchups confirmed!")},W=()=>{if(!(e!=null&&e.conference)){alert(" Week 3 scores not yet entered.");return}const R=e.conference,M=R[11]&&parseInt(R[11].team1)>parseInt(R[11].team2)?t.week3.afcChampionship.team1:t.week3.afcChampionship.team2,w=R[12]&&parseInt(R[12].team1)>parseInt(R[12].team2)?t.week3.nfcChampionship.team1:t.week3.nfcChampionship.team2;if(!M||!w){alert(" Not all Conference games scored yet.");return}h({superBowl:{team1:M,team2:w}})},O=()=>{if(!p)return;const R={week4:{...p,autoPopulated:!0}};n(R),h(null),alert(" Super Bowl matchup confirmed!")};return r?i.jsxs("div",{className:"playoff-setup-container",children:[i.jsx("h2",{children:" Playoff Teams Setup"}),i.jsxs("div",{className:"setup-status",children:[i.jsx("h3",{children:" Current Status"}),i.jsxs("div",{className:"status-grid",children:[i.jsxs("div",{className:`status-item ${S()?"configured":"not-configured"}`,children:[i.jsx("strong",{children:"Week 1:"})," ",S()?" Configured":" Not Configured"]}),i.jsxs("div",{className:"status-item",children:[i.jsx("strong",{children:"Week 2:"})," ",t!=null&&t.week2?" Set":" Waiting"]}),i.jsxs("div",{className:"status-item",children:[i.jsx("strong",{children:"Week 3:"})," ",t!=null&&t.week3?" Set":" Waiting"]}),i.jsxs("div",{className:"status-item",children:[i.jsx("strong",{children:"Week 4:"})," ",t!=null&&t.week4?" Set":" Waiting"]})]})]}),i.jsxs("div",{className:"setup-section",children:[i.jsx("h3",{children:" WEEK 1 - Wild Card Round (Manual Setup)"}),i.jsx("p",{children:"Select the 14 playoff teams and assign their seeds."}),i.jsxs("div",{className:"conference-setup",children:[i.jsxs("div",{className:"conference-column",children:[i.jsx("h4",{children:"AFC Teams"}),[1,2,3,4,5,6,7].map(R=>{var M;return i.jsxs("div",{className:"seed-selector",children:[i.jsxs("label",{children:["AFC #",R," Seed:"]}),i.jsxs("select",{value:((M=s.afc[`seed${R}`])==null?void 0:M.id)||"",onChange:w=>j("afc",`seed${R}`,w.target.value),children:[i.jsx("option",{value:"",children:"Select Team"}),ac.map(w=>i.jsxs("option",{value:w.id,children:[w.name," - ",w.fullName]},w.id))]})]},`afc-${R}`)})]}),i.jsxs("div",{className:"conference-column",children:[i.jsx("h4",{children:"NFC Teams"}),[1,2,3,4,5,6,7].map(R=>{var M;return i.jsxs("div",{className:"seed-selector",children:[i.jsxs("label",{children:["NFC #",R," Seed:"]}),i.jsxs("select",{value:((M=s.nfc[`seed${R}`])==null?void 0:M.id)||"",onChange:w=>j("nfc",`seed${R}`,w.target.value),children:[i.jsx("option",{value:"",children:"Select Team"}),ac.map(w=>i.jsxs("option",{value:w.id,children:[w.name," - ",w.fullName]},w.id))]})]},`nfc-${R}`)})]})]}),i.jsx("button",{className:"save-btn",onClick:T,children:" Save Week 1 Playoff Teams"})]}),S()&&i.jsxs("div",{className:"setup-section",children:[i.jsx("h3",{children:" WEEK 2 - Divisional Round (Auto-Generate)"}),i.jsx("p",{children:"Generate matchups based on Week 1 results with NFL reseeding rules."}),!l&&!(t!=null&&t.week2)&&i.jsx("button",{className:"generate-btn",onClick:_,children:" Generate Week 2 Matchups"}),l&&i.jsxs("div",{className:"proposed-matchups",children:[i.jsx("h4",{children:"Proposed Week 2 Matchups:"}),i.jsxs("div",{className:"matchup-list",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"AFC Game 1:"})," ",l.afc[0].team1.name," vs ",l.afc[0].team2.name]}),i.jsxs("p",{children:[i.jsx("strong",{children:"AFC Game 2:"})," ",l.afc[1].team1.name," vs ",l.afc[1].team2.name]}),i.jsxs("p",{children:[i.jsx("strong",{children:"NFC Game 1:"})," ",l.nfc[0].team1.name," vs ",l.nfc[0].team2.name]}),i.jsxs("p",{children:[i.jsx("strong",{children:"NFC Game 2:"})," ",l.nfc[1].team1.name," vs ",l.nfc[1].team2.name]})]}),i.jsx("button",{className:"confirm-btn",onClick:x,children:" Confirm Week 2 Matchups"})]}),(t==null?void 0:t.week2)&&i.jsx("div",{className:"confirmed-status",children:" Week 2 matchups confirmed and saved!"})]}),(t==null?void 0:t.week2)&&i.jsxs("div",{className:"setup-section",children:[i.jsx("h3",{children:" WEEK 3 - Conference Championships (Auto-Generate)"}),!c&&!(t!=null&&t.week3)&&i.jsx("button",{className:"generate-btn",onClick:L,children:" Generate Week 3 Matchups"}),c&&i.jsxs("div",{className:"proposed-matchups",children:[i.jsx("h4",{children:"Proposed Week 3 Matchups:"}),i.jsxs("p",{children:[i.jsx("strong",{children:"AFC Championship:"})," ",c.afcChampionship.team1.name," vs ",c.afcChampionship.team2.name]}),i.jsxs("p",{children:[i.jsx("strong",{children:"NFC Championship:"})," ",c.nfcChampionship.team1.name," vs ",c.nfcChampionship.team2.name]}),i.jsx("button",{className:"confirm-btn",onClick:E,children:" Confirm Week 3 Matchups"})]}),(t==null?void 0:t.week3)&&i.jsx("div",{className:"confirmed-status",children:" Week 3 matchups confirmed!"})]}),(t==null?void 0:t.week3)&&i.jsxs("div",{className:"setup-section",children:[i.jsx("h3",{children:" WEEK 4 - Super Bowl LIX (Auto-Generate)"}),!p&&!(t!=null&&t.week4)&&i.jsx("button",{className:"generate-btn",onClick:W,children:" Generate Super Bowl Matchup"}),p&&i.jsxs("div",{className:"proposed-matchups",children:[i.jsx("h4",{children:"Proposed Super Bowl Matchup:"}),i.jsxs("p",{children:[i.jsx("strong",{children:"Super Bowl LIX:"})," ",p.superBowl.team1.name," vs ",p.superBowl.team2.name]}),i.jsx("button",{className:"confirm-btn",onClick:O,children:" Confirm Super Bowl Matchup"})]}),(t==null?void 0:t.week4)&&i.jsx("div",{className:"confirmed-status",children:" Super Bowl matchup confirmed!"})]})]}):i.jsxs("div",{className:"playoff-setup-container",children:[i.jsx("h2",{children:" Playoff Teams Setup"}),i.jsx("p",{children:"Only the Pool Manager can access this page."})]})}const eC=({players:t=[],allPicks:e=[],onUpdatePayment:n,onTogglePlayerVisibility:r,onRemovePlayer:s,onToggleTableDisplay:o,onUpdatePlayerCode:l})=>{const[a,c]=F.useState(""),[d,p]=F.useState(""),[h,f]=F.useState("all"),[k,S]=F.useState("name"),j=w=>e.some(N=>N.playerCode===w),T=w=>{const N=w.playerCode,B=prompt(`Edit Access Code for ${w.playerName}

Current code: ${N}

Enter new 6-character code (letters and numbers only):`);if(!B)return;const q=B.trim().toUpperCase();if(q.length!==6){alert(" Code must be exactly 6 characters!");return}if(!/^[A-Z0-9]{6}$/.test(q)){alert(" Code must contain only letters and numbers!");return}if(t.some(le=>le.playerCode.toUpperCase()===q&&le.playerCode!==N)){alert(` Code "${q}" is already in use!`);return}window.confirm(` Change Access Code?

Player: ${w.playerName}
Old: ${N}
New: ${q}

The player will need the NEW code to login!

Continue?`)&&l(N,q)},_=w=>{const N=w.trim().split(`
`).filter(q=>q.trim()),B=[];return N.forEach((q,K)=>{const H=q.split("-").map(se=>se.trim());if(H.length!==3){console.warn(`Line ${K+1} invalid format: ${q}`);return}const[le,$,ne]=H;if(!/^\d{12}$/.test($)){console.warn(`Line ${K+1} invalid timestamp: ${$}`);return}B.push({name:le,timestamp:$,method:ne})}),B},g=()=>{const w=_(a);if(w.length===0){alert(` No valid entries found. Check format:
Name - YYYYMMDDHHMM - method`);return}let N=0,B=0;w.forEach(q=>{const K=t.find(H=>H.playerName.toLowerCase().includes(q.name.toLowerCase()));K?(n(K.playerCode,{status:"PAID",timestamp:q.timestamp,method:q.method.toUpperCase(),amount:20}),N++):(console.warn(`Player not found: ${q.name}`),B++)}),N>0?(alert(` ${N} payment(s) saved successfully!${B>0?`
 ${B} player(s) not found.`:""}`),c("")):alert(" No players found. Check player names.")},C=F.useMemo(()=>{let w=[...t];return d&&(w=w.filter(N=>N.playerName.toLowerCase().includes(d.toLowerCase())||N.playerCode.toLowerCase().includes(d.toLowerCase()))),h!=="all"&&(w=w.filter(N=>(N.paymentStatus||"UNPAID").toLowerCase()===h.toLowerCase())),w.sort((N,B)=>{if(k==="name")return N.playerName.localeCompare(B.playerName);if(k==="status"){const q=N.paymentStatus||"UNPAID",K=B.paymentStatus||"UNPAID";return q.localeCompare(K)}else if(k==="time"){const q=N.paymentTimestamp||"0";return(B.paymentTimestamp||"0").localeCompare(q)}return 0}),w},[t,d,h,k]),x=F.useMemo(()=>{const w=t.filter($=>$.paymentStatus==="PAID").length,N=t.filter($=>!$.paymentStatus||$.paymentStatus==="UNPAID").length,B=t.filter($=>$.paymentStatus==="PENDING").length,q=t.filter($=>$.paymentStatus==="PAID").reduce(($,ne)=>$+(ne.paymentAmount||20),0),K=t.filter($=>$.paymentStatus==="PAID"&&$.visibleToPlayers!==!1).length,H=t.length-K,le=t.filter($=>j($.playerCode)||$.showInPicksTable===!0).length;return{paid:w,unpaid:N,pending:B,totalCollected:q,total:t.length,eligible:K,ineligible:H,inTable:le}},[t,e]),L=(w,N)=>{const B=prompt(`Mark ${N} as PAID

Enter payment timestamp (YYYYMMDDHHMM):
Example: 202412202130`,"");if(!B)return;if(!/^\d{12}$/.test(B)){alert(" Invalid timestamp format. Must be 12 digits (YYYYMMDDHHMM)");return}const q=prompt("Payment method:","E-TRANSFER");q&&n(w,{status:"PAID",timestamp:B,method:q.toUpperCase(),amount:20})},E=(w,N)=>{confirm(` MARK ${N} AS UNPAID?

This will make them INELIGIBLE to win prizes!

Continue?`)&&n(w,{status:"UNPAID",timestamp:null,method:null,amount:null})},W=(w,N,B,q)=>{(B===!1?"SHOW":"HIDE")==="HIDE"&&q&&!confirm(` HIDE ${N}?

This player is PAID!

Hiding them will make them INELIGIBLE to win prizes.

Continue?`)||r(w)},O=(w,N,B,q)=>{if(q){alert(` Cannot hide ${N} from table - they have submitted picks!`);return}const K=B===!0?"HIDE":"SHOW";confirm(`${K==="SHOW"?"":""} ${K} ${N} IN TABLE?

This will ${K==="SHOW"?"add them to":"remove them from"} the "All Player Picks" table.

Continue?`)&&o(w)},R=(w,N)=>{confirm(` PERMANENTLY REMOVE ${N}?

This will delete the player from ALL views (Pool Manager + Players).

This CANNOT be undone!

Type the player name to confirm:`)&&(prompt(`Type "${N}" to confirm deletion:`)===N?(s(w),alert(` ${N} has been permanently removed.`)):alert(" Name did not match. Deletion cancelled."))},M=w=>{const N=w.paymentStatus==="PAID",B=w.visibleToPlayers!==!1;return N&&B?{eligible:!0,badge:"",text:"ELIGIBLE"}:!N&&B?{eligible:!1,badge:"",text:"NOT PAID"}:N&&!B?{eligible:!1,badge:"",text:"HIDDEN"}:{eligible:!1,badge:"",text:"UNPAID+HIDDEN"}};return i.jsxs("div",{className:"payment-management-container",children:[i.jsx("h2",{children:" Payment Management"}),i.jsx("p",{className:"subtitle",children:"Track player payments, manage visibility, and control table display"}),i.jsxs("div",{className:"eligibility-warning",children:[i.jsx("h3",{children:" Prize Eligibility Rule"}),i.jsxs("p",{children:[i.jsx("strong",{children:"Only players who are PAID + VISIBLE can win prizes!"}),i.jsx("br",{}),"Actions that make players ineligible:"]}),i.jsxs("ul",{children:[i.jsx("li",{children:" Mark as UNPAID  Player cannot win prizes"}),i.jsx("li",{children:" Hide Player  Player cannot win prizes"}),i.jsx("li",{children:" Mark as PAID + Show Player  Player can win prizes"})]})]}),i.jsxs("div",{className:"payment-stats",children:[i.jsxs("div",{className:"stat-box paid",children:[i.jsx("div",{className:"stat-value",children:x.paid}),i.jsx("div",{className:"stat-label",children:"Paid Players"})]}),i.jsxs("div",{className:"stat-box unpaid",children:[i.jsx("div",{className:"stat-value",children:x.unpaid}),i.jsx("div",{className:"stat-label",children:"Unpaid Players"})]}),i.jsxs("div",{className:"stat-box eligible",children:[i.jsx("div",{className:"stat-value",children:x.eligible}),i.jsx("div",{className:"stat-label",children:" Eligible to Win"})]}),i.jsxs("div",{className:"stat-box total",style:{background:"linear-gradient(135deg, #e0f2fe 0%, #bae6fd 100%)",border:"3px solid #0ea5e9"},children:[i.jsx("div",{className:"stat-value",children:x.inTable}),i.jsx("div",{className:"stat-label",children:" Shown in Table"})]}),i.jsxs("div",{className:"stat-box total",children:[i.jsxs("div",{className:"stat-value",children:["$",x.totalCollected]}),i.jsx("div",{className:"stat-label",children:"Total Collected"})]})]}),i.jsxs("div",{className:"batch-entry-section",children:[i.jsx("h3",{children:" Quick Batch Entry"}),i.jsxs("p",{className:"batch-instructions",children:["Enter payments (one per line)",i.jsx("br",{}),i.jsx("strong",{children:"Format:"})," Name - YYYYMMDDHHMM - method",i.jsx("br",{}),i.jsx("strong",{children:"Example:"})," Bob Casson - 202412200815 - etransfer"]}),i.jsx("textarea",{className:"batch-input",value:a,onChange:w=>c(w.target.value),placeholder:`Bob Casson - 202412200815 - etransfer
Bonnie Biletski - 202412201430 - cash
Richard Smith - 202412212130 - etransfer`,rows:8}),i.jsxs("div",{className:"batch-buttons",children:[i.jsx("button",{className:"save-batch-btn",onClick:g,children:" Save All Payments"}),i.jsx("button",{className:"clear-batch-btn",onClick:()=>c(""),children:" Clear"})]})]}),i.jsxs("div",{className:"payment-table-section",children:[i.jsx("h3",{children:" All Players - Payment Status & Table Display"}),i.jsxs("div",{className:"table-controls",children:[i.jsx("input",{type:"text",className:"search-input",placeholder:" Search by name or code...",value:d,onChange:w=>p(w.target.value)}),i.jsxs("div",{className:"filter-buttons",children:[i.jsxs("button",{className:h==="all"?"active":"",onClick:()=>f("all"),children:["All (",t.length,")"]}),i.jsxs("button",{className:h==="paid"?"active":"",onClick:()=>f("paid"),children:["Paid (",x.paid,")"]}),i.jsxs("button",{className:h==="unpaid"?"active":"",onClick:()=>f("unpaid"),children:["Unpaid (",x.unpaid,")"]})]}),i.jsxs("select",{className:"sort-select",value:k,onChange:w=>S(w.target.value),children:[i.jsx("option",{value:"name",children:"Sort by Name"}),i.jsx("option",{value:"status",children:"Sort by Status"}),i.jsx("option",{value:"time",children:"Sort by Payment Time"})]})]}),i.jsx("div",{className:"payment-table-wrapper",children:i.jsxs("table",{className:"payment-table",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Player Name"}),i.jsx("th",{children:"Code"}),i.jsx("th",{children:"Payment Status"}),i.jsx("th",{children:"Payment Time"}),i.jsx("th",{children:"Method"}),i.jsx("th",{children:"Picks"}),i.jsx("th",{children:"Show in Table"}),i.jsx("th",{children:"Visibility"}),i.jsx("th",{children:"Prize Eligibility"}),i.jsx("th",{children:"Actions"})]})}),i.jsx("tbody",{children:C.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:"10",className:"no-results",children:"No players found"})}):C.map(w=>{const N=w.paymentStatus||"UNPAID",B=w.visibleToPlayers!==!1,q=N==="PAID",K=M(w),H=j(w.playerCode),le=w.showInPicksTable===!0;return i.jsxs("tr",{className:`status-${N.toLowerCase()} ${K.eligible?"eligible-row":"ineligible-row"}`,children:[i.jsx("td",{className:"player-name-cell",children:w.playerName}),i.jsx("td",{className:"code-cell",children:i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[i.jsx("span",{children:w.playerCode}),i.jsx("button",{onClick:()=>T(w),style:{padding:"4px 8px",background:"#667eea",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.7rem",fontWeight:"600",whiteSpace:"nowrap"},title:"Edit access code",children:" Edit"})]})}),i.jsxs("td",{className:"status-cell",children:[N==="PAID"&&i.jsx("span",{className:"status-badge paid",children:" PAID"}),N==="UNPAID"&&i.jsx("span",{className:"status-badge unpaid",children:" UNPAID"}),N==="PENDING"&&i.jsx("span",{className:"status-badge pending",children:" PENDING"})]}),i.jsx("td",{className:"time-cell",children:w.paymentTimestamp||""}),i.jsx("td",{className:"method-cell",children:w.paymentMethod||""}),i.jsx("td",{className:"picks-cell",children:H?i.jsx("span",{style:{color:"#10b981",fontWeight:"bold"},children:" Has Picks"}):i.jsx("span",{style:{color:"#ef4444"},children:"No Picks"})}),i.jsx("td",{className:"table-display-cell",children:H?i.jsx("span",{className:"table-badge locked",children:" IN TABLE "}):le?i.jsx("button",{className:"table-toggle-btn show",onClick:()=>O(w.playerCode,w.playerName,le,H),children:" Shown"}):i.jsx("button",{className:"table-toggle-btn hide",onClick:()=>O(w.playerCode,w.playerName,le,H),children:" Hidden"})}),i.jsx("td",{className:"visibility-cell",children:B?i.jsx("span",{className:"visibility-badge visible",children:" VISIBLE"}):i.jsx("span",{className:"visibility-badge hidden",children:" HIDDEN"})}),i.jsx("td",{className:"eligibility-cell",children:i.jsxs("span",{className:`eligibility-badge ${K.eligible?"eligible":"ineligible"}`,children:[K.badge," ",K.text]})}),i.jsx("td",{className:"actions-cell",children:i.jsxs("div",{className:"action-buttons",children:[N!=="PAID"?i.jsx("button",{className:"action-btn paid-btn",onClick:()=>L(w.playerCode,w.playerName),title:"Mark as Paid",children:" Mark Paid"}):i.jsx("button",{className:"action-btn unpaid-btn",onClick:()=>E(w.playerCode,w.playerName),title:"Mark as Unpaid (Makes Ineligible!)",children:" Mark Unpaid"}),i.jsx("button",{className:"action-btn visibility-btn",onClick:()=>W(w.playerCode,w.playerName,B,q),title:B?"Hide from Players (Makes Ineligible!)":"Show to Players",children:B?" Hide":" Show"}),i.jsx("button",{className:"action-btn remove-btn",onClick:()=>R(w.playerCode,w.playerName),title:"Remove Permanently",children:" Remove"})]})})]},w.playerCode)})})]})}),i.jsxs("div",{className:"table-footer",children:["Showing ",C.length," of ",t.length," players |  ",x.eligible," Eligible to Win Prizes |  ",x.inTable," Shown in Picks Table"]})]})]})},tC={apiKey:"AIzaSyDr3PPXC90wvQW_LG8TkAyR9K-7e0loQ3A",authDomain:"nfl-playoff-pool-2025-scores.firebaseapp.com",databaseURL:"https://nfl-playoff-pool-2025-scores-default-rtdb.firebaseio.com",projectId:"nfl-playoff-pool-2025-scores",storageBucket:"nfl-playoff-pool-2025-scores.firebasestorage.app",messagingSenderId:"844539772456",appId:"1:844539772456:web:9bbfcf523195a5eedfff1d"},nC=Qg(tC),ee=Zu(nC),bp={firstFriday:"2026-01-09",lastMonday:"2026-02-09"},bn={wildcard:"2026-01-10",divisional:"2026-01-17",conference:"2026-01-25",superbowl:"2026-02-08"},rn=["76BB89","Z9Y8X7"],ke={"76BB89":"POOL MANAGER - Richard",Z9Y8X7:"POOL MANAGER - Dennis",J239W4:"Bob Casson",B7Y4X3:"Bob Desrosiers",D4F7G5:"Bonnie Biletski","536EE2":"Brian Colburg",X8HH67:"Chris Neufeld","4HX33H":"Corey Denham",G7R3P5:"Curtis Braun",A4LJC9:"Curtis Palidwor",X3P8N1:"Dallas Pylypow",W32R1Z:"Daniel Bennett",HM8T67:"Darrell Klassen",TA89R2:"Dave Boyarski",K2P9W5:"Dave Desrosiers",A5K4T7:"Dennis Biletski","6WRUJR":"Emily Chadwick",AB6C89:"Gareth Reeve",D3F6G9:"Jarrod Reimer",T42B67:"Jo Behr",PUEFKF:"Joshua Biletski",ABC378:"Ken Mcleod",K9R3N6:"Kevin Pich",H7P3N5:"Larry Bretecher",B5R4T6:"Larry Strand","2Q93DB":"Michael Pilato",L2W9X2:"Michelle Desrosiers","5GGPL3":"Mike Brkich",PC12L3:"Natasha Biletski",T4M8Z8:"Neema Dadmand","9CD72G":"Neil Banman",T7Y4R8:"Neil Foster",KWBZ86:"Nick Melanidis","2WQA9X":"Nima Ahmadi",E4T6J7:"Orest Pich",N4M8Q2:"Randy Moffatt",B8L9M2:"Richard Biletski","62R92L":"Rob Crowe",H8M3N7:"Rob Kost",WW3F44:"Ryan Moffatt",MX8A7H:"Tim Gunness",E5G7G8:"Tony Creta",WXY324:"Travis Biletski"},Te={wildcard:{name:"Wild Card Round (Jan 10-12, 2026)",deadline:"Friday, January 9, 2026 at 11:59 PM PST",games:[{id:1,team1:"AFC #7",team2:"AFC #2"},{id:2,team1:"AFC #6",team2:"AFC #3"},{id:3,team1:"AFC #5",team2:"AFC #4"},{id:4,team1:"NFC #7",team2:"NFC #2"},{id:5,team1:"NFC #6",team2:"NFC #3"},{id:6,team1:"NFC #5",team2:"NFC #4"}]},divisional:{name:"Divisional Round (Jan 17-18, 2026)",deadline:"Friday, January 16, 2026 at 11:59 PM PST",games:[{id:7,team1:"AFC Winner 1",team2:"AFC #1"},{id:8,team1:"AFC Winner 2",team2:"AFC Winner 3"},{id:9,team1:"NFC Winner 1",team2:"NFC #1"},{id:10,team1:"NFC Winner 2",team2:"NFC Winner 3"}]},conference:{name:"Conference Championships (Jan 25, 2026)",deadline:"Friday, January 23, 2026 at 11:59 PM PST",games:[{id:11,team1:"AFC Winner A",team2:"AFC Winner B"},{id:12,team1:"NFC Winner A",team2:"NFC Winner B"}]},superbowl:{name:"Super Bowl LIX (Feb 8, 2026)",deadline:"Friday, February 6, 2026 at 11:59 PM PST",games:[{id:13,team1:"AFC Champion",team2:"NFC Champion"}]}},Cn=(t,e,n,r)=>{var s;if(!((s=r==null?void 0:r.week1)!=null&&s.configured)){const o=Te[t].games.find(l=>l.id===e);return o?o[n]:`Team ${n}`}if(t==="wildcard"){const o=Te.wildcard.games.find(c=>c.id===e);if(!o)return"TBD";const l=o[n],a=l.match(/(AFC|NFC) #(\d)/);if(a){const c=a[1].toLowerCase(),d=parseInt(a[2]),p=r.week1[c][`seed${d}`];if(p)return`${p.name} (${l})`}return l}if(t==="divisional"){const o=Te.divisional.games.find(a=>a.id===e);if(!o)return"TBD";const l=o[n];if(r!=null&&r.week2){let a=null;if(e===7?a=r.week2.afc[0][n]:e===8?a=r.week2.afc[1][n]:e===9?a=r.week2.nfc[0][n]:e===10&&(a=r.week2.nfc[1][n]),a)return`${a.name} (${l})`}return l}if(t==="conference"){const o=Te.conference.games.find(a=>a.id===e);if(!o)return"TBD";const l=o[n];if(r!=null&&r.week3){let a=null;if(e===11?a=r.week3.afcChampionship[n]:e===12&&(a=r.week3.nfcChampionship[n]),a)return`${a.name} (${l})`}return l}if(t==="superbowl"){const o=Te.superbowl.games.find(a=>a.id===e);if(!o)return"TBD";const l=o[n];if(r!=null&&r.week4){const a=r.week4.superBowl[n];if(a)return`${a.name} (${l})`}return l}return"TBD"},rC=[{score:3,visitor:2,home:3},{score:6,visitor:8,home:3},{score:7,visitor:3,home:4},{score:8,visitor:2,home:1},{score:9,visitor:7,home:4},{score:10,visitor:14,home:12},{score:11,visitor:1,home:0},{score:12,visitor:2,home:3},{score:13,visitor:14,home:10},{score:14,visitor:5,home:8},{score:15,visitor:2,home:4},{score:16,visitor:9,home:7},{score:17,visitor:11,home:13},{score:18,visitor:2,home:4},{score:19,visitor:5,home:9},{score:20,visitor:19,home:25},{score:21,visitor:10,home:13},{score:22,visitor:8,home:6},{score:23,visitor:13,home:9},{score:24,visitor:23,home:11},{score:25,visitor:2,home:5},{score:26,visitor:12,home:10},{score:27,visitor:19,home:19},{score:28,visitor:7,home:8},{score:29,visitor:5,home:6},{score:30,visitor:7,home:6},{score:31,visitor:17,home:6},{score:32,visitor:3,home:3},{score:33,visitor:6,home:3},{score:34,visitor:7,home:12},{score:35,visitor:2,home:3},{score:36,visitor:0,home:2},{score:37,visitor:5,home:4},{score:38,visitor:5,home:4},{score:39,visitor:1,home:1},{score:40,visitor:4,home:4},{score:41,visitor:3,home:5},{score:42,visitor:2,home:3},{score:43,visitor:0,home:0},{score:44,visitor:2,home:6},{score:45,visitor:2,home:0},{score:46,visitor:0,home:0},{score:47,visitor:1,home:0},{score:48,visitor:1,home:2},{score:49,visitor:0,home:0},{score:50,visitor:0,home:0},{score:51,visitor:0,home:0},{score:52,visitor:0,home:1}].map(t=>({...t,total:t.visitor+t.home,frequency:t.visitor+t.home>=30?"very-common":t.visitor+t.home>=15?"common":t.visitor+t.home>=5?"less-common":"rare"}));function sC(){var wh;const[t,e]=F.useState("picks"),[n,r]=F.useState(""),[s,o]=F.useState(""),[l,a]=F.useState(!1),[c,d]=F.useState("wildcard"),[p,h]=F.useState({}),[f,k]=F.useState([]),[S,j]=F.useState(!1),[T,_]=F.useState({}),[g,C]=F.useState({}),[x,L]=F.useState({}),[E,W]=F.useState({wildcard:"",divisional:"",conference:"",superbowl_week4:"",superbowl_week3:"",superbowl_week2:"",superbowl_week1:"",superbowl_grand:""}),[O,R]=F.useState({}),[M,w]=F.useState({}),[N,B]=F.useState({}),[q,K]=F.useState(!1),[H,le]=F.useState({superbowl_week4:!1,superbowl_week3:!1,superbowl_week2:!1,superbowl_week1:!1,superbowl_grand:!1}),[$,ne]=F.useState({wildcard:{locked:!1,lockDate:null,autoLockDate:bn.wildcard},divisional:{locked:!1,lockDate:null,autoLockDate:bn.divisional},conference:{locked:!1,lockDate:null,autoLockDate:bn.conference},superbowl:{locked:!1,lockDate:null,autoLockDate:bn.superbowl}}),[se,ye]=F.useState({}),[Re,ft]=F.useState(null),[Z,er]=F.useState(null),[xe,tr]=F.useState("asc"),[iC,px]=F.useState(null),[mx,ao]=F.useState(!1),[Tr,wn]=F.useState(!1),[nr,tt]=F.useState(null),[co,ha]=F.useState(null),[Ps,th]=F.useState(!1),[nh,rh]=F.useState([]),[gx,yx]=F.useState([]),[uo,xx]=F.useState({}),[He,sh]=F.useState({totalFees:0,prizeValue:0,numberOfPlayers:0,entryFee:20}),[vx,ho]=F.useState(!1),[Ot,fa]=F.useState(""),[Pr,pa]=F.useState(1),[Et,fo]=F.useState([]),[_n,ma]=F.useState(!1),[Kt,Is]=F.useState([]),[wx,ga]=F.useState(!1),[ya,Rs]=F.useState({}),[_x,kx]=F.useState({}),[Sx,As]=F.useState(!1),[pe,Ir]=F.useState(""),[Rr,Ws]=F.useState(null),[rr,Ds]=F.useState(null),[bx,Ls]=F.useState(!1),[ih,Ar]=F.useState(null),[Os,xa]=F.useState(null),[oC,lC]=F.useState(!0),[aC,cC]=F.useState(!1),[po,oh]=F.useState([]),he=()=>rn.includes(s)&&l,Cx=async(u,y)=>{try{const m=J(ee,"players"),v=await ot(m);if(!v.exists()){alert(" No players found in database.");return}const b=v.val();let P=null;for(const[A,D]of Object.entries(b))if(D.playerCode===u){P=A;break}if(!P){alert(` Player ${u} not found.`);return}const I=J(ee,`players/${P}`);await Fr(I,{paymentStatus:y.status,paymentTimestamp:y.timestamp,paymentMethod:y.method,paymentAmount:y.amount,updatedAt:Date.now()}),console.log(` Payment updated for ${u}`)}catch(m){console.error("Error updating payment:",m),alert(" Error updating payment. Please try again.")}},Nx=async u=>{try{const y=J(ee,"players"),m=await ot(y);if(!m.exists()){alert(" No players found in database.");return}const v=m.val();let b=null,P=!0;for(const[D,z]of Object.entries(v))if(z.playerCode===u){b=D,P=z.visibleToPlayers!==!1;break}if(!b){alert(` Player ${u} not found.`);return}const I=!P,A=J(ee,`players/${b}`);await Fr(A,{visibleToPlayers:I,updatedAt:Date.now()}),console.log(` Visibility toggled for ${u}: ${I?"VISIBLE":"HIDDEN"}`),alert(` Player ${P?"hidden from":"shown to"} regular players!`)}catch(y){console.error("Error toggling visibility:",y),alert(" Error updating visibility. Please try again.")}},Ex=async u=>{try{const y=J(ee,"players"),m=await ot(y);if(!m.exists()){alert(" No players found in database.");return}const v=m.val();let b=null,P="";for(const[A,D]of Object.entries(v))if(D.playerCode===u){b=A,P=D.playerName||u;break}if(!b){alert(` Player ${u} not found.`);return}const I=J(ee,`players/${b}`);await sc(I),console.log(` Player ${u} removed permanently`),alert(` ${P} has been permanently removed from the system.`)}catch(y){console.error("Error removing player:",y),alert(" Error removing player. Please try again.")}},jx=async u=>{try{const y=J(ee,"players"),m=await ot(y);if(!m.exists()){alert(" No players found in database.");return}const v=m.val();let b=null,P=!1;for(const[D,z]of Object.entries(v))if(z.playerCode===u){b=D,P=z.showInPicksTable===!0;break}if(!b){alert(` Player ${u} not found.`);return}const I=!P,A=J(ee,`players/${b}`);await Fr(A,{showInPicksTable:I,updatedAt:Date.now()}),console.log(` Table display toggled for ${u}: ${I?"SHOW":"HIDE"}`)}catch(y){console.error("Error toggling table display:",y),alert(" Error updating table display. Please try again.")}},Tx=async(u,y)=>{try{const m=J(ee,"players"),v=await ot(m);if(!v.exists()){alert(" No players found in database.");return}const b=v.val();let P=null,I="";for(const[D,z]of Object.entries(b))if(z.playerCode===u){P=D,I=z.playerName;break}if(!P){alert(` Player with code ${u} not found.`);return}const A=J(ee,`players/${P}`);await Fr(A,{playerCode:y,updatedAt:Date.now()}),console.log(` Updated ${I}: ${u}  ${y}`),alert(` Code Updated!

Player: ${I}
Old: ${u}
New: ${y}

 Make sure to tell the player their new code!`)}catch(m){console.error("Error updating player code:",m),alert(" Error updating code: "+m.message)}},Px=async()=>{try{const u=J(ee,"players"),y=await ot(u);if(!y.exists()){alert(" No players found in database.");return}const m=y.val(),v=Object.entries(m).map(([Y,G])=>({"Firebase Key":Y,"Player Name":G.playerName||"","Access Code":G.playerCode||"",Role:G.role||"PLAYER","Payment Status":G.paymentStatus||"UNPAID","Payment Time":G.paymentTimestamp?new Date(G.paymentTimestamp).toLocaleString():"","Payment Method":G.paymentMethod||"","Payment Amount":G.paymentAmount||0,"Visible to Players":G.visibleToPlayers?"YES":"NO","Show in Picks Table":G.showInPicksTable?"YES":"NO",Created:G.createdAt?new Date(G.createdAt).toLocaleString():"","Last Updated":G.updatedAt?new Date(G.updatedAt).toLocaleString():""}));v.sort((Y,G)=>Y["Player Name"].localeCompare(G["Player Name"]));const b=Object.keys(v[0]),P=[b.join(","),...v.map(Y=>b.map(G=>{const Q=Y[G].toString();return Q.includes(",")||Q.includes('"')?`"${Q.replace(/"/g,'""')}"`:Q}).join(","))].join(`
`),I=new Blob([P],{type:"text/csv;charset=utf-8;"}),A=document.createElement("a"),D=URL.createObjectURL(I),z=new Date().toISOString().split("T")[0];A.setAttribute("href",D),A.setAttribute("download",`NFL_Pool_Players_${z}.csv`),A.style.visibility="hidden",document.body.appendChild(A),A.click(),document.body.removeChild(A),alert(` SUCCESS!

Downloaded ${v.length} players to CSV file!

File: NFL_Pool_Players_${z}.csv

Open with Excel or Google Sheets.`)}catch(u){console.error("Error exporting players:",u),alert(" Error exporting players: "+u.message)}},Ix=()=>{let u=Math.floor(Math.random()*41)+10,y=Math.floor(Math.random()*41)+10;for(;u===y;)y=Math.floor(Math.random()*41)+10;return{team1:u,team2:y}},lh=()=>{const u=Te[c].games,y={};u.forEach(m=>{y[m.id]=Ix()}),Ds(y),Ls(!0)},Rx=async()=>{if(!pe||!rr)return;const u=ke[pe];if(u)try{const y=J(ee,"picks"),m=await ot(y);let v=null;if(m.exists()){const P=m.val();for(const[I,A]of Object.entries(P))if(A.playerCode===pe&&A.week===c){v=I;break}}const b={playerName:u,playerCode:pe,week:c,predictions:rr,timestamp:v&&m.val()[v].timestamp||Date.now(),lastUpdated:Date.now(),enteredBy:"POOL_MANAGER_RNG",enteredByCode:s,enteredByName:n};v?await _e(J(ee,`picks/${v}`),b):await Br(J(ee,"picks"),b),alert(` RNG picks successfully submitted for ${u}!`),Ls(!1),Ds(null),As(!1),Ir("")}catch(y){console.error("Error submitting RNG picks:",y),alert(" Error submitting RNG picks. Please try again.")}},Ax=()=>{if(!pe)return;const u=f.find(y=>y.playerCode===pe&&y.week===c);u&&u.predictions?(h(u.predictions),Rs({...u.predictions}),Ws("manual")):(h({}),Rs({}),Ws("manual"))},Wx=async u=>{if(u.preventDefault(),!pe){alert("Please select a player first.");return}const y=ke[pe];Te[c];try{const m=J(ee,"picks"),v=await ot(m);let b=null;if(v.exists()){const I=v.val();for(const[A,D]of Object.entries(I))if(D.playerCode===pe&&D.week===c){b=A;break}}const P={playerName:y,playerCode:pe,week:c,predictions:p,timestamp:b&&v.val()[b].timestamp||Date.now(),lastUpdated:Date.now(),enteredBy:"POOL_MANAGER_MANUAL",enteredByCode:s,enteredByName:n};b?await _e(J(ee,`picks/${b}`),P):await Br(J(ee,"picks"),P),alert(` Picks successfully submitted for ${y}!`),h({}),As(!1),Ir(""),Ws(null)}catch(m){console.error("Error submitting picks for player:",m),alert(" Error submitting picks. Please try again.")}},Dx=async()=>{if(!pe)return;const u=ke[pe];try{console.log(" DEBUG: Starting delete for player:",u),console.log(" DEBUG: Player code:",pe),console.log(" DEBUG: Current week:",c);const y=J(ee,"picks"),m=await ot(y);if(console.log(" DEBUG: Got snapshot, exists?",m.exists()),m.exists()){const v=m.val();console.log(" DEBUG: Total picks in database:",Object.keys(v).length);let b=null;for(const[P,I]of Object.entries(v))if(console.log(` DEBUG: Checking pick ${P}:`,I.playerCode,I.week),I.playerCode===pe&&I.week===c){b=P,console.log(" DEBUG: FOUND KEY TO DELETE:",b);break}b?(console.log(" DEBUG: Attempting to delete key:",b),await sc(J(ee,`picks/${b}`)),console.log(" DEBUG: Delete successful!"),alert(` ${u}'s picks for ${c==="wildcard"?"Week 1":c==="divisional"?"Week 2":c==="conference"?"Week 3":"Week 4"} have been deleted!`)):(console.log(" DEBUG: No pick found to delete"),alert(` ${u} has no picks for this week.`))}Ar(null),Ir("")}catch(y){console.error(" DEBUG: Error deleting picks:",y),console.error(" DEBUG: Error message:",y.message),console.error(" DEBUG: Error code:",y.code),alert(` Error deleting picks: ${y.message}

Check browser console (F12) for details.`)}},Lx=async()=>{if(!pe)return;const u=ke[pe];try{console.log(" DEBUG: Starting delete ALL for player:",u),console.log(" DEBUG: Player code:",pe);const y=J(ee,"picks"),m=await ot(y);if(console.log(" DEBUG: Got snapshot, exists?",m.exists()),m.exists()){const v=m.val(),b=[];console.log(" DEBUG: Total picks in database:",Object.keys(v).length);for(const[P,I]of Object.entries(v))I.playerCode===pe&&(console.log(" DEBUG: Found pick to delete:",P,I.week),b.push(P));if(console.log(" DEBUG: Total keys to delete:",b.length),b.length>0){console.log(" DEBUG: Attempting to delete keys:",b);const P=b.map(I=>sc(J(ee,`picks/${I}`)));await Promise.all(P),console.log(" DEBUG: Delete ALL successful!"),alert(` ALL picks for ${u} have been deleted!

Deleted ${b.length} pick(s) across all weeks.`)}else console.log(" DEBUG: No picks found to delete"),alert(` ${u} has no picks in any week.`)}Ar(null),Ir(""),As(!1)}catch(y){console.error(" DEBUG: Error deleting all picks:",y),console.error(" DEBUG: Error message:",y.message),console.error(" DEBUG: Error code:",y.code),alert(` Error deleting picks: ${y.message}

Check browser console (F12) for details.`)}},Ox=async u=>{try{console.log(" Clearing week data for:",u),T[u]&&(await _e(J(ee,`teamCodes/${u}`),null),console.log(" Cleared team codes")),g[u]&&(await _e(J(ee,`actualScores/${u}`),null),console.log(" Cleared actual scores")),x[u]&&(await _e(J(ee,`gameStatus/${u}`),null),console.log(" Cleared game status")),alert(` Week ${u==="wildcard"?"1":u==="divisional"?"2":u==="conference"?"3":"4"} data cleared!

Team names, scores, and statuses have been deleted.
Player picks are still intact.`),xa(null)}catch(y){console.error(" Error clearing week data:",y),alert(` Error clearing week data: ${y.message}`)}},ah=(u,y,m,v,b,P)=>{const I=Number(u)>Number(y),A=Number(y)>Number(u);if(u===y||!u||!y)return{background:"transparent",color:"#000"};if(m!==void 0&&v!==void 0&&m!==""&&v!==""){const D=Number(m)>Number(v),z=Number(v)>Number(m);if(!b||b===""){if(P&&I)return D?{background:"#fff9c4",color:"#000"}:{background:"#b3e5fc",color:"#000"};if(!P&&A)return z?{background:"#fff9c4",color:"#000"}:{background:"#b3e5fc",color:"#000"}}if(b==="live"){if(P&&I)return D?{background:"#c8e6c9",color:"#000"}:{background:"#ffcdd2",color:"#000"};if(!P&&A)return z?{background:"#c8e6c9",color:"#000"}:{background:"#ffcdd2",color:"#000"}}if(b==="final"){if(P&&I)return D?{background:"#4caf50",color:"#000"}:{background:"#f44336",color:"#000"};if(!P&&A)return z?{background:"#4caf50",color:"#000"}:{background:"#f44336",color:"#000"}}}return{background:"transparent",color:"#000"}},Mx=async(u,y,m)=>{try{const v=u/10,b={totalFees:Number(u),prizeValue:Number(v.toFixed(2)),numberOfPlayers:Number(y),entryFee:Number(m),lastUpdated:new Date().toISOString()};await _e(J(ee,"prizePool"),b),sh(b),alert(` Prize pool saved!

Total Pool: $${u}
Each Prize: $${v.toFixed(2)} (10%)`),ho(!1)}catch(v){console.error("Error saving prize pool:",v),alert(` Error saving prize pool: ${v.message}`)}},mo=(u,y)=>{const m=Math.floor(u*100/y)/100,v=Math.floor(1e4/y)/100,b=[];let P=0;for(let D=0;D<y-1;D++)b.push({percentage:v,amount:m}),P+=m;const I=Number((u-P).toFixed(2)),A=Number((100-v*(y-1)).toFixed(2));return b.push({percentage:A,amount:I}),b},zx=async()=>{if(!Ot||Et.length===0){alert(" Please select a prize and at least one winner.");return}try{const u=He.prizeValue||100;let y=[];if(_n){const v=Kt.reduce((P,I)=>P+Number(I.percentage||0),0),b=Kt.reduce((P,I)=>P+Number(I.amount||0),0);if(Math.abs(v-100)>.01){alert(` Percentages must equal 100%!
Current total: ${v.toFixed(2)}%`);return}if(Math.abs(b-u)>.01){alert(` Amounts must equal $${u.toFixed(2)}!
Current total: $${b.toFixed(2)}`);return}y=Kt.map((P,I)=>({playerCode:Et[I].code,playerName:Et[I].name,percentage:Number(P.percentage),amount:Number(P.amount)}))}else{const v=mo(u,Et.length);y=Et.map((b,P)=>({playerCode:b.code,playerName:b.name,percentage:v[P].percentage,amount:v[P].amount}))}const m={prizeNumber:Ot,prizeName:Ms(Ot),prizeValue:u,winners:y,declaredBy:"POOL_MANAGER",declaredByCode:s,declaredByName:n,declaredAt:new Date().toISOString()};await _e(J(ee,`officialWinners/prize${Ot}`),m),alert(` Winner(s) declared for ${Ms(Ot)}!

${y.map(v=>`${v.playerName}: ${v.percentage}% ($${v.amount.toFixed(2)})`).join(`
`)}`),fa(""),pa(1),fo([]),ma(!1),Is([]),ga(!1)}catch(u){console.error("Error declaring winners:",u),alert(` Error declaring winners: ${u.message}`)}},Ms=u=>({1:"Prize #1 - Week 1 Most Correct Predictions",2:"Prize #2 - Week 1 Closest Total Points",3:"Prize #3 - Week 2 Most Correct Predictions",4:"Prize #4 - Week 2 Closest Total Points",5:"Prize #5 - Week 3 Most Correct Predictions",6:"Prize #6 - Week 3 Closest Total Points",7:"Prize #7 - Week 4 Most Correct Predictions",8:"Prize #8 - Week 4 Closest Total Points",9:"Prize #9 - Overall 4-Week Grand Total Most Correct Predictions",10:"Prize #10 - Overall 4-Week Grand Total Closest Points"})[u]||`Prize #${u}`,Fx=async u=>{if(window.confirm(`Are you sure you want to delete the winner declaration for ${Ms(u)}?

This action cannot be undone!`))try{await _e(J(ee,`officialWinners/prize${u}`),null),alert(` Winner declaration deleted for ${Ms(u)}`)}catch(y){console.error("Error deleting prize:",y),alert(` Error: ${y.message}`)}},ch=u=>{const y=bn[u];if(!y)return!1;const m=new Date,v=new Date(m.toLocaleString("en-US",{timeZone:"America/Los_Angeles"})),b=new Date(y+"T00:00:00");return v>=b},Qt=u=>{var y;return he()?!1:(y=$[u])!=null&&y.locked?!0:ch(u)};F.useEffect(()=>{const u=J(ee,"weekLockStatus");pt(u,y=>{const m=y.val();if(m){const v={};Object.keys(bn).forEach(b=>{var P,I;v[b]={locked:((P=m[b])==null?void 0:P.locked)||!1,lockDate:((I=m[b])==null?void 0:I.lockDate)||null,autoLockDate:bn[b]}}),ne(v)}})},[]);const Bx=u=>{const y=!$[u].locked,m=y?new Date().toISOString():null,v={...$,[u]:{...$[u],locked:y,lockDate:m}};ne(v),_e(J(ee,`weekLockStatus/${u}`),{locked:y,lockDate:m,autoLockDate:bn[u]}),alert(y?` Week ${u} is now LOCKED

Players cannot edit picks for this week.`:` Week ${u} is now UNLOCKED

Players can edit picks for this week.`)};F.useEffect(()=>{const u=J(ee,"picks");pt(u,y=>{const m=y.val();if(m){const v=Object.keys(m).map(b=>({...m[b],firebaseKey:b}));k(v)}else k([])})},[]),F.useEffect(()=>{const u=J(ee,"teamCodes");pt(u,y=>{const m=y.val();m&&_(m)})},[]),F.useEffect(()=>{const u=J(ee,"actualScores");pt(u,y=>{const m=y.val();m&&C(m)})},[]),F.useEffect(()=>{const u=J(ee,"gameStatus");pt(u,y=>{const m=y.val();m&&L(m)})},[]),F.useEffect(()=>{const u=J(ee,"officialWinners");pt(u,y=>{const m=y.val();m&&xx(m)})},[]),F.useEffect(()=>{const u=J(ee,"prizePool");pt(u,y=>{const m=y.val();m&&sh(m)})},[]),F.useEffect(()=>{const u=J(ee,"calculatedWinners");pt(u,y=>{const m=y.val();m&&R(m)})},[]),F.useEffect(()=>{const u=J(ee,"publishedWinners");pt(u,y=>{const m=y.val();m&&w(m)})},[]),F.useEffect(()=>{const u=J(ee,"playoffTeams");pt(u,y=>{const m=y.val();m?(B(m),console.log(" Loaded playoff teams:",m)):B({})})},[]),F.useEffect(()=>{const u=J(ee,"gameLocks");pt(u,y=>{const m=y.val();m&&ye(m)})},[]),F.useEffect(()=>{const u=J(ee,"manualWeekTotals");pt(u,y=>{const m=y.val();m&&W(m)})},[]),F.useEffect(()=>{if(l&&n&&f.length>0){const u=f.find(y=>y.playerName===n&&y.week===c);u&&u.predictions?(console.log("Loading existing picks for",n,"week",c),h(u.predictions)):(console.log("No existing picks found - clearing form"),h({}))}},[c,f,l,n]),F.useEffect(()=>{const u=new Pb(dh,5);return ft(u),()=>{u&&u.stop()}},[]);const dh=async()=>{try{console.log("Fetching scores from ESPN...");const u=await Nb();if(!u.success){console.error("ESPN fetch failed:",u.error);return}console.log("ESPN games fetched:",u.games.length);const y=Te[c].games,m={};if(u.games.forEach(v=>{var P;const b=Tb(v,Te,c,T);if(b){const I=b.gameId;if((P=se[c])!=null&&P[I]){console.log(`Game ${I} is locked, skipping API update`);return}m[I]={team1:b.team1Score,team2:b.team2Score,source:"espn",lastUpdated:new Date().toISOString()},L(A=>({...A,[c]:{...A[c],[I]:b.isFinal?"final":b.isLive?"live":""}}))}}),Object.keys(m).length>0){C(b=>({...b,[c]:{...b[c],...m}}));const v=J(ee,`actualScores/${c}`);await _e(v,{...g[c],...m}),console.log(`Updated ${Object.keys(m).length} games from ESPN`)}px(new Date)}catch(u){console.error("Error fetching ESPN scores:",u)}},$x=u=>{var y;console.log(" Toggle clicked for game:",u),console.log(" Current week:",c),console.log(" Current locks:",se),console.log(" Current value for game",u,":",(y=se[c])==null?void 0:y[u]),ye(m=>{const v={...m};v[c]||(v[c]={});const b=v[c][u],P=!b;console.log(" Old value:",b),console.log(" New value:",P),v[c][u]=P;const I=J(ee,`gameLocks/${c}/${u}`);return _e(I,P),console.log(" Saved to Firebase:",P),console.log(" Returning new locks:",v),v})},uh=(u,y,m)=>{h(v=>({...v,[u]:{...v[u],[y]:m}})),console.log(" User typed score - setting hasUnsavedChanges to TRUE"),wn(!0)},Ux=()=>{if(Object.keys(p).some(m=>{var v,b;return((v=p[m])==null?void 0:v.team1)||((b=p[m])==null?void 0:b.team2)})&&!window.confirm(` WARNING!

Clicking RNG will OVERWRITE all your current picks!

Are you sure you want to continue?`))return;const y={};Ee.games.forEach(m=>{let v=Math.floor(Math.random()*43)+3,b=Math.floor(Math.random()*43)+3;for(;v===b;)b=Math.floor(Math.random()*43)+3;y[m.id]={team1:v.toString(),team2:b.toString()}}),h(y),console.log(" RNG: Setting hasUnsavedChanges to TRUE"),wn(!0),console.log(" RNG: hasUnsavedChanges should now be true"),alert(` RNG picks generated for all ${Ee.games.length} games!

Score range: 3-45 points per team
No tied games guaranteed!

You can now edit any scores before submitting.`)},hh=(u,y,m)=>{var b;const v={...T,[c]:{...T[c]||{},[u]:{...((b=T[c])==null?void 0:b[u])||{},[y]:m.toUpperCase()}}};_(v),_e(J(ee,`teamCodes/${c}/${u}/${y}`),m.toUpperCase())},fh=(u,y,m)=>{var b;const v={...g,[c]:{...g[c]||{},[u]:{...((b=g[c])==null?void 0:b[u])||{},[y]:m}}};C(v),_e(J(ee,`actualScores/${c}/${u}/${y}`),m)};F.useEffect(()=>{const u=J(ee,"players"),y=pt(u,m=>{if(m.exists()){const v=m.val(),b=Object.keys(v).map(P=>({id:P,...v[P]}));oh(b),console.log(` Loaded ${b.length} players from Firebase`)}else console.log(" No players found in Firebase. Run migration script to create players table."),oh([])});return()=>y()},[]);const Gx=(u,y)=>{const m={...x,[c]:{...x[c]||{},[u]:y}};L(m),_e(J(ee,`gameStatus/${c}/${u}`),y)},Wr=(u,y)=>{const m={...E,[u]:y};W(m);const v=y!==""&&y!==null&&y!==void 0;le(b=>({...b,[u]:v})),_e(J(ee,`manualWeekTotals/${u}`),y||null)},Hx=(u,y,m)=>{console.log("Publishing prize:",u),w(v=>({...v,[u]:!0})),_e(J(ee,`publishedWinners/${u}`),!0),alert(` Published: ${y.title}

Winner: ${m.winner}

Players can now see this result!`)},Vx=u=>{window.confirm(` UNPUBLISH PRIZE?

This will hide the winner from all players.

Continue?`)&&(console.log("Unpublishing prize:",u),w(m=>({...m,[u]:!1})),_e(J(ee,`publishedWinners/${u}`),!1),alert(" Prize unpublished successfully!"))},Yx=async u=>{if(!he()){alert(" Only Pool Manager can save playoff teams configuration.");return}try{const y=J(ee,"playoffTeams"),v={...N||{},...u};await _e(y,v),console.log(" Playoff teams saved:",v)}catch(y){console.error(" Error saving playoff teams:",y),alert("Error saving playoff teams. Check console for details.")}},zs=u=>{W(y=>({...y,[u]:""})),le(y=>({...y,[u]:!1})),_e(J(ee,`manualWeekTotals/${u}`),null)},nn=u=>{Z===u?tr(xe==="asc"?"desc":"asc"):(er(u),tr("asc"))},Kx=u=>Z?[...u].sort((y,m)=>{var P,I;let v,b;if(Z==="correct")if(c==="superbowl"){const A=D=>{let z=0;return["wildcard","divisional","conference","superbowl"].forEach(G=>{const Q=g[G];if(Q&&Object.values(Q).some(re=>re&&re.team1!==null&&re.team1!==void 0&&re.team1!==""&&re.team1!==0&&re.team2!==null&&re.team2!==void 0&&re.team2!==""&&re.team2!==0)){const re=f.find(oe=>oe.playerCode===D.playerCode&&oe.week===G);re&&re.predictions&&Object.keys(Q).forEach(oe=>{const ge=Q[oe],jt=re.predictions[oe];if(jt&&ge&&ge.team1&&ge.team2&&jt.team1&&jt.team2){const Lr=parseInt(ge.team1),Or=parseInt(ge.team2),$s=parseInt(jt.team1),yo=parseInt(jt.team2);if(!isNaN(Lr)&&!isNaN(Or)){const _h=Lr>Or?"team1":Or>Lr?"team2":"tie",r0=$s>yo?"team1":yo>$s?"team2":"tie";_h===r0&&_h!=="tie"&&z++}}})}}),z};v=A(y),b=A(m)}else v=Ee.games.filter(A=>{var Q;const D=y.predictions[A.id],z=(Q=g[c])==null?void 0:Q[A.id];if(!D||!z||!z.team1||!z.team2)return!1;const Y=parseInt(z.team1)>parseInt(z.team2)?"team1":"team2",G=parseInt(D.team1)>parseInt(D.team2)?"team1":"team2";return Y===G}).length,b=Ee.games.filter(A=>{var Q;const D=m.predictions[A.id],z=(Q=g[c])==null?void 0:Q[A.id];if(!D||!z||!z.team1||!z.team2)return!1;const Y=parseInt(z.team1)>parseInt(z.team2)?"team1":"team2",G=parseInt(D.team1)>parseInt(D.team2)?"team1":"team2";return Y===G}).length;else if(Z==="difference"){const A=((P=wa[y.playerName])==null?void 0:P.current)||"0",D=((I=wa[m.playerName])==null?void 0:I.current)||"0";v=A.includes("/")?parseInt(A.split("/")[1]):999999,b=D.includes("/")?parseInt(D.split("/")[1]):999999}else if(Z==="week1"||Z==="week2"||Z==="week3"||Z==="week4"){const D={week1:"wildcard",week2:"divisional",week3:"conference",week4:"superbowl"}[Z],z=Dr(y.playerCode,D,parseInt(Z.replace("week",""))).display,Y=Dr(m.playerCode,D,parseInt(Z.replace("week",""))).display;v=z.includes("/")?parseInt(z.split("/")[1]):999999,b=Y.includes("/")?parseInt(Y.split("/")[1]):999999}else if(Z==="grand"){const A=va(y.playerCode).display,D=va(m.playerCode).display;v=A.includes("/")?parseInt(A.split("/")[1]):999999,b=D.includes("/")?parseInt(D.split("/")[1]):999999}else if(Z==="timestamp")v=y.lastUpdated||y.timestamp||0,b=m.lastUpdated||m.timestamp||0;else if(Z==="name"){const A=y.playerName.split(" ")[0].toLowerCase(),D=m.playerName.split(" ")[0].toLowerCase();return xe==="asc"?A.localeCompare(D):D.localeCompare(A)}return xe==="asc"?v-b:b-v}):u,ph=(u,y)=>{const m=f.find(b=>b.playerCode===u&&b.week===y);if(!m||!m.predictions)return null;let v=0;return Object.keys(m.predictions).forEach(b=>{const P=m.predictions[b];P&&P.team1&&P.team2&&(v+=(parseInt(P.team1)||0)+(parseInt(P.team2)||0))}),v},Qx=u=>{const y=[],m={wildcard:1,divisional:2,conference:3,superbowl:4};return["wildcard","divisional","conference","superbowl"].forEach(v=>{f.some(P=>P.playerCode===u&&P.week===v)&&y.push(m[v])}),y},mh=(u,y)=>{const m=f.find(I=>I.playerCode===u&&I.week===y);if(!m||!m.predictions)return 0;const v=g[y];if(!v)return 0;let b=0,P=0;return Object.keys(m.predictions).forEach(I=>{const A=m.predictions[I],D=v[I];A&&D&&A.team1&&A.team2&&D.team1&&D.team2&&(b+=parseInt(A.team1)+parseInt(A.team2),P+=parseInt(D.team1)+parseInt(D.team2))}),Math.abs(b-P)},Dr=(u,y,m)=>{const v=ph(u,y),b=mh(u,y),P=g[y],I=P&&Object.values(P).some(A=>A&&A.team1!==null&&A.team1!==void 0&&A.team1!==""&&A.team1!==0&&A.team2!==null&&A.team2!==void 0&&A.team2!==""&&A.team2!==0);return v?!I||b===0?{display:`${v}`,tooltip:`Predicted: ${v}`,fontSize:"16px"}:{display:`${v}/${b}`,tooltip:`Predicted: ${v} | Off by: ${b}`,fontSize:"16px"}:{display:"-",tooltip:"",fontSize:"16px"}},va=u=>{const y=Qx(u);if(y.length===0)return{display:"-",tooltip:"",fontSize:"16px"};let m=0,v=0,b=!1;const P={1:"wildcard",2:"divisional",3:"conference",4:"superbowl"};if(y.forEach(A=>{const D=P[A],z=ph(u,D),Y=mh(u,D),G=g[D],Q=G&&Object.values(G).some(X=>X&&X.team1!==null&&X.team1!==void 0&&X.team1!==""&&X.team1!==0&&X.team2!==null&&X.team2!==void 0&&X.team2!==""&&X.team2!==0);z&&Q&&(m+=z,v+=Y,b=!0)}),!b)return{display:"-",tooltip:"No completed weeks yet",fontSize:"16px"};const I=`Predicted: ${m} | Off by: ${v}`;return{display:`${m}/${v}`,tooltip:I,fontSize:"16px"}},Fs=u=>{const y=g[u];if(!y)return 0;let m=0;return Object.values(y).forEach(v=>{v&&v.team1&&v.team2&&(m+=(parseInt(v.team1)||0)+(parseInt(v.team2)||0))}),m},kn=(u,y)=>{if(E[u])return E[u];const m=Fs(y);return m>0?m:""},gh=()=>{if(E.superbowl_grand)return E.superbowl_grand;const u=Fs("wildcard"),y=Fs("divisional"),m=Fs("conference"),v=Fs("superbowl"),b=u+y+m+v;return b>0?b:""},Xx=["ARI","ATL","BAL","BUF","CAR","CHI","CIN","CLE","DAL","DEN","DET","GB","HOU","IND","JAC","KC","LV","LAC","LAR","MIA","MIN","NE","NO","NYG","NYJ","PHI","PIT","SF","SEA","TB","TEN","WAS"],qx=()=>{const u=Ee.games.some(Y=>{var G,Q,X,re;return((Q=(G=T[c])==null?void 0:G[Y.id])==null?void 0:Q.team1)||((re=(X=T[c])==null?void 0:X[Y.id])==null?void 0:re.team2)}),y=Ee.games.some(Y=>{var G,Q,X,re;return((Q=(G=g[c])==null?void 0:G[Y.id])==null?void 0:Q.team1)||((re=(X=g[c])==null?void 0:X[Y.id])==null?void 0:re.team2)}),m=Ee.games.some(Y=>{var G;return(G=x[c])==null?void 0:G[Y.id]});if((u||y||m)&&!window.confirm(` POOL MANAGER RNG WARNING!

This will OVERWRITE:
 All team codes
 All actual scores
 All game statuses

Are you sure you want to continue?`))return;const v=[...Xx].sort(()=>Math.random()-.5),b=Ee.games.length,P=b*2;if(P>v.length){alert(" Not enough unique teams for all games!");return}const I=v.slice(0,P),A={...T},D={...g},z={...x};A[c]||(A[c]={}),D[c]||(D[c]={}),z[c]||(z[c]={}),Ee.games.forEach((Y,G)=>{const Q=I[G*2],X=I[G*2+1];let re=Math.floor(Math.random()*48)+3,oe=Math.floor(Math.random()*48)+3;for(;re===oe;)oe=Math.floor(Math.random()*48)+3;A[c][Y.id]={team1:Q,team2:X},D[c][Y.id]={team1:re.toString(),team2:oe.toString()},z[c][Y.id]="final",_e(J(ee,`teamCodes/${c}/${Y.id}`),{team1:Q,team2:X}),_e(J(ee,`actualScores/${c}/${Y.id}`),{team1:re.toString(),team2:oe.toString()}),_e(J(ee,`gameStatus/${c}/${Y.id}`),"final")}),_(A),C(D),L(z),alert(` POOL MANAGER RNG Complete!

 ${b} games populated
 Random teams assigned (each used once)
 Scores: 3-50 points
 No tied games guaranteed
 All games marked FINAL

Ready for testing!`)},yh=()=>{if(console.log(""),console.log(" HANDLE LOGOUT CALLED"),console.log(" Current hasUnsavedChanges value:",Tr),console.log(" Current predictions:",JSON.stringify(p)),console.log(" Current originalPicks:",JSON.stringify(ya)),console.log(" Are they equal?",JSON.stringify(p)===JSON.stringify(ya)),Tr){if(console.log(" HAS UNSAVED CHANGES - SHOWING WARNING "),!window.confirm(` UNSAVED CHANGES!

You have unsaved picks that will be lost.

Click OK to DISCARD changes and logout
Click CANCEL to stay and save your picks`)){console.log(" User cancelled logout"),console.log("");return}console.log(" User confirmed logout - discarding changes")}else console.log(" NO UNSAVED CHANGES - LOGGING OUT DIRECTLY ");console.log(" Proceeding with logout..."),a(!1),o(""),r(""),h({}),e("picks"),wn(!1),console.log(" Logout complete"),console.log("")},Jx=()=>{th(!0),setTimeout(()=>{th(!1)},800)},Zx=()=>{if(Tr&&!window.confirm(` DISCARD CHANGES?

This will reset your picks to the last saved version.

Are you sure you want to discard your changes?`))return;const u=f.find(y=>y.playerCode===s&&y.week===c);h(u?u.predictions:{}),wn(!1)},e0=u=>{Tr?(ha(u),tt("unsavedChanges")):(d(u),go(u))},go=u=>{console.log(" LOAD WEEK PICKS CALLED "),console.log(" Loading picks for week:",u);const y=f.find(m=>m.week===u&&m.playerCode===s);if(y&&y.predictions){console.log(" Found existing picks:",JSON.stringify(y.predictions)),console.log(" Creating deep copies for predictions and originalPicks");const m=JSON.parse(JSON.stringify(y.predictions)),v=JSON.parse(JSON.stringify(y.predictions));h(m),Rs(v),wn(!1),console.log(" Set hasUnsavedChanges to FALSE"),console.log(" LOAD WEEK PICKS COMPLETE ")}else console.log(" No existing picks found - clearing state"),h({}),Rs({}),wn(!1),console.log(" LOAD WEEK PICKS COMPLETE (EMPTY) ")};F.useEffect(()=>{l&&s&&go(c)},[c,l,s]),F.useEffect(()=>{if(f.length>0&&s){const u={};["wildcard","divisional","conference","superbowl"].forEach(y=>{const m=f.find(v=>v.week===y&&v.playerCode===s);if(m&&m.predictions){const v=Te[y].games.length,b=Object.keys(m.predictions).filter(P=>{var I,A;return((I=m.predictions[P])==null?void 0:I.team1)&&((A=m.predictions[P])==null?void 0:A.team2)}).length;u[y]={complete:b===v,count:b,total:v}}}),kx(u)}},[f,s]);const Bs=()=>{if(he())return!0;const u=new Date,y=new Date(u.toLocaleString("en-US",{timeZone:"America/Los_Angeles"})),m=new Date(bp.firstFriday+"T00:00:00"),v=new Date(bp.lastMonday+"T23:59:59");if(y<m)return!0;if(y>v)return!1;const b=y.getDay(),P=y.getHours(),I=y.getMinutes();return!(b===5&&P===23&&I>=59||b===6||b===0||b===1&&P===0&&I===0)},xh=()=>{const u=s.trim().toUpperCase();if(!u){ic(u,"Empty code"),alert("Please enter your 6-character player code");return}if(u.length!==6||!/^[A-Z0-9]{6}$/.test(u)){ic(u,"Invalid format - must be 6 alphanumeric characters"),alert(`Invalid code format!

Player codes must be exactly 6 characters (letters and numbers).
Example: A7K9M2`);return}let y=null;const m=po.find(b=>b.playerCode===u);if(m?(y=m.playerName,console.log(" Player found in Firebase:",y)):(y=ke[u],y&&console.log(" Player found in App.jsx backup (not in Firebase):",y)),!y){ic(u,"Code not recognized"),alert(`Invalid player code!

This code is not recognized in Firebase OR App.jsx.

Make sure you:
1. Paid your $20 entry fee
2. Received your code from the pool manager
3. Entered the code correctly

Contact: gammoneer2b@gmail.com`);return}if(f.find(b=>b.playerName===y&&b.week===c))if(rn.includes(u))alert(`Welcome, Pool Manager!

You have unrestricted access to:
 Enter picks anytime (no lockout)
 Enter team codes
 Enter actual game scores
 Set game status (LIVE/FINAL)
 Lock/unlock weeks
 View all player codes`);else{const b=Qt(c);alert(b?`Welcome back, ${y}!

 WARNING: This week is LOCKED!

Your existing picks for ${Te[c].name} will be loaded, but you cannot edit them because the games have been played.

You can only view your submitted picks.`:`Welcome back, ${y}!

Your existing picks for ${Te[c].name} will be loaded automatically.

You can edit and resubmit anytime except during playoff weekends (Friday 11:59 PM - Monday 12:01 AM PST).`)}else rn.includes(u)&&alert(`Welcome, Pool Manager!

You have unrestricted access to:
 Enter picks anytime (no lockout)
 Enter team codes
 Enter actual game scores
 Set game status (LIVE/FINAL)
 Lock/unlock weeks
 View all player codes`);Yb(u,y),r(y),o(u),a(!0)},t0=()=>{const u=f.filter(I=>I.week===c);if(u.length===0){alert("No picks to download for this week.");return}const y=Te[c];let m="";m+="TEAM CODES:,",y.games.forEach(I=>{var z,Y,G,Q;const A=((Y=(z=T[c])==null?void 0:z[I.id])==null?void 0:Y.team1)||"-",D=((Q=(G=T[c])==null?void 0:G[I.id])==null?void 0:Q.team2)||"-";m+=`${A},${D},`}),c==="superbowl"&&(m+=",,,,"),m+=`
`,m+="ACTUAL SCORES:,",y.games.forEach(I=>{var z,Y,G,Q;const A=((Y=(z=g[c])==null?void 0:z[I.id])==null?void 0:Y.team1)||"-",D=((Q=(G=g[c])==null?void 0:G[I.id])==null?void 0:Q.team2)||"-";m+=`${A},${D},`}),c==="superbowl"&&(m+=",,,,"),m+=`
`,m+="GAME TOTALS:,",y.games.forEach(I=>{var G,Q,X,re;const A=parseInt((Q=(G=g[c])==null?void 0:G[I.id])==null?void 0:Q.team1)||0,D=parseInt((re=(X=g[c])==null?void 0:X[I.id])==null?void 0:re.team2)||0,z=A+D,Y=A>0||D>0?z:"-";m+=`${Y},,`}),c==="superbowl"&&(m+=",,,,"),m+=`
`,m+="GAME STATUS:,",y.games.forEach(I=>{var z;const A=((z=x[c])==null?void 0:z[I.id])||"-";m+=`${A==="final"?"FINAL":A==="live"?"LIVE":"-"},,`}),c==="superbowl"&&(m+=",,,,"),m+=`
`,m+="OFFICIAL TOTALS:,",y.games.forEach(()=>{m+=",,"}),c==="superbowl"?(m+=`${E.superbowl_week4||"-"},`,m+=`${E.superbowl_week3||"-"},`,m+=`${E.superbowl_week2||"-"},`,m+=`${E.superbowl_week1||"-"},`,m+=`${E.superbowl_grand||"-"},`):m+=`${E[c]||"-"},`,m+=`
`,m+=`
`,m+=",",y.games.forEach(I=>{m+=`Game ${I.id},Game ${I.id},`}),m+=`
`,m+="Player Name,",y.games.forEach(I=>{m+=`${I.team1} Score,${I.team2} Score,`}),c==="superbowl"?m+="Week 4 Total,Week 3 Total,Week 2 Total,Week 1 Total,GRAND TOTAL,":m+="Total Points,",m+=`Submitted At
`,u.sort((I,A)=>(A.lastUpdated||A.timestamp)-(I.lastUpdated||I.timestamp)).forEach(I=>{if(m+=`"${I.playerName}",`,y.games.forEach(D=>{var G,Q;const z=((G=I.predictions[D.id])==null?void 0:G.team1)||"-",Y=((Q=I.predictions[D.id])==null?void 0:Q.team2)||"-";m+=`${z},${Y},`}),c==="superbowl"){const D=(()=>{const X=f.find(oe=>oe.playerName===I.playerName&&oe.week==="superbowl");if(!X)return 0;let re=0;return Te.superbowl.games.forEach(oe=>{const ge=X.predictions[oe.id];ge&&(re+=(Number(ge.team1)||0)+(Number(ge.team2)||0))}),re})(),z=(()=>{const X=f.find(oe=>oe.playerName===I.playerName&&oe.week==="conference");if(!X)return 0;let re=0;return Te.conference.games.forEach(oe=>{const ge=X.predictions[oe.id];ge&&(re+=(Number(ge.team1)||0)+(Number(ge.team2)||0))}),re})(),Y=(()=>{const X=f.find(oe=>oe.playerName===I.playerName&&oe.week==="divisional");if(!X)return 0;let re=0;return Te.divisional.games.forEach(oe=>{const ge=X.predictions[oe.id];ge&&(re+=(Number(ge.team1)||0)+(Number(ge.team2)||0))}),re})(),G=(()=>{const X=f.find(oe=>oe.playerName===I.playerName&&oe.week==="wildcard");if(!X)return 0;let re=0;return Te.wildcard.games.forEach(oe=>{const ge=X.predictions[oe.id];ge&&(re+=(Number(ge.team1)||0)+(Number(ge.team2)||0))}),re})(),Q=D+z+Y+G;m+=`${D},${z},${Y},${G},${Q},`}else{const D=y.games.reduce((z,Y)=>{var X,re;const G=parseInt((X=I.predictions[Y.id])==null?void 0:X.team1)||0,Q=parseInt((re=I.predictions[Y.id])==null?void 0:re.team2)||0;return z+G+Q},0);m+=`${D},`}const A=new Date(I.lastUpdated||I.timestamp).toLocaleString("en-US",{month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0});m+=`"${A}"
`});const v=new Blob([m],{type:"text/csv;charset=utf-8;"}),b=document.createElement("a"),P=URL.createObjectURL(v);b.setAttribute("href",P),b.setAttribute("download",`nfl_playoff_picks_${c}_${Date.now()}.csv`),b.style.visibility="hidden",document.body.appendChild(b),b.click(),document.body.removeChild(b)},vh=async u=>{if(u.preventDefault(),Qt(c)){alert(` WEEK LOCKED

This week's games have been played.
Picks are permanently locked.`);return}if(!Bs()){alert(` SUBMISSIONS CLOSED

During playoff weekends, picks are locked from:
 Friday 11:59 PM PST
 Through Monday 12:01 AM PST`);return}const y=Te[c],m=[];if(y.games.forEach(P=>{(!p[P.id]||!p[P.id].team1||!p[P.id].team2)&&m.push(P.id)}),m.length>0){rh(m),tt("incomplete");return}const v=[];if(y.games.forEach(P=>{var D,z;const I=parseInt((D=p[P.id])==null?void 0:D.team1),A=parseInt((z=p[P.id])==null?void 0:z.team2);(isNaN(I)||isNaN(A)||I<0||A<0)&&v.push(P.id)}),v.length>0){yx(v),tt("invalidScores");return}const b=[];if(y.games.forEach(P=>{var D,z;const I=parseInt((D=p[P.id])==null?void 0:D.team1),A=parseInt((z=p[P.id])==null?void 0:z.team2);I===A&&b.push(P.id)}),b.length>0){rh(b),tt("tiedGames");return}if(!Tr){tt("noChanges");return}try{const P=J(ee,"picks"),I=await ot(P);let A=null,D=null;if(I.exists()){const G=I.val();for(const[Q,X]of Object.entries(G))if(X.playerCode===s&&X.week===c){A=X,D=Q;break}}const z={playerName:n,playerCode:s,week:c,predictions:p,timestamp:A?A.timestamp:Date.now(),lastUpdated:Date.now()};D?await _e(J(ee,`picks/${D}`),z):await Br(J(ee,"picks"),z),console.log(" SUBMIT SUCCESS "),j(!0),console.log(" Creating deep copy of predictions for originalPicks");const Y=JSON.parse(JSON.stringify(p));Rs(Y),console.log(" Setting hasUnsavedChanges to FALSE"),wn(!1),tt("success"),console.log(" SUBMIT COMPLETE - allPicks will update but NOT trigger reload! "),setTimeout(()=>{const G=document.querySelector(".all-picks");G&&G.scrollIntoView({behavior:"smooth"})},100)}catch(P){console.error("Error submitting picks:",P),alert("Error submitting picks. Please try again.")}},Ee=Te[c],wa=F.useMemo(()=>{const u={};return(c==="superbowl"?(()=>{const m=new Map;return f.forEach(v=>{var b;m.has(v.playerName)||m.set(v.playerName,{playerName:v.playerName,playerCode:v.playerCode,week:c,predictions:((b=f.find(P=>P.playerCode===v.playerCode&&P.week==="superbowl"))==null?void 0:b.predictions)||{}})}),Array.from(m.values())})():f.filter(m=>m.week===c)).forEach(m=>{u[m.playerName]||(u[m.playerName]={week4:0,week3:0,week2:0,week1:0,grand:0,current:0});let v=0;const b=Te[c].games;b.forEach(D=>{const z=m.predictions[D.id];z&&z.team1&&z.team2&&(v+=(parseInt(z.team1)||0)+(parseInt(z.team2)||0))});const P=g[c],I=P&&Object.values(P).some(D=>D&&D.team1!==null&&D.team1!==void 0&&D.team1!==""&&D.team1!==0&&D.team2!==null&&D.team2!==void 0&&D.team2!==""&&D.team2!==0);let A=v.toString();if(I){let D=0;b.forEach(Y=>{const G=P==null?void 0:P[Y.id];G&&G.team1&&G.team2&&(D+=(parseInt(G.team1)||0)+(parseInt(G.team2)||0))});const z=Math.abs(v-D);A=`${v}/${z}`}if(u[m.playerName].current=A,c==="superbowl"){const D=(z,Y)=>{const G=f.find(X=>X.playerCode===z&&X.week===Y);if(!G||!G.predictions)return 0;let Q=0;return Object.values(G.predictions).forEach(X=>{X&&X.team1&&X.team2&&(Q+=(parseInt(X.team1)||0)+(parseInt(X.team2)||0))}),Q};u[m.playerName].week4=D(m.playerCode,"superbowl"),u[m.playerName].week3=D(m.playerCode,"conference"),u[m.playerName].week2=D(m.playerCode,"divisional"),u[m.playerName].week1=D(m.playerCode,"wildcard"),u[m.playerName].grand=u[m.playerName].week1+u[m.playerName].week2+u[m.playerName].week3+u[m.playerName].week4}}),u},[f,c,g]),n0=()=>{console.log(" Starting winner calculations...");const u={};f.forEach(v=>{if(v.firebaseKey&&v.playerCode&&v.predictions){u[v.playerCode]||(u[v.playerCode]={name:v.playerName,picks:{}});const b={};Array.isArray(v.predictions)?v.predictions.forEach((P,I)=>{I>0&&P&&(b[I.toString()]=P)}):Object.assign(b,v.predictions),u[v.playerCode].picks[v.week]=b}});const y={};Object.keys(g).forEach(v=>{if(g[v]){const b={};Object.keys(g[v]).forEach(P=>{b[P.toString()]=g[v][P]}),y[v]=b}}),console.log(" Converted picks:",Object.keys(u).length,"players"),console.log(" Converted scores:",Object.keys(y));const m={week1:{prize1:oc(u,y,"wildcard"),prize2:lc(u,y,"wildcard")},week2:{prize1:oc(u,y,"divisional"),prize2:lc(u,y,"divisional")},week3:{prize1:oc(u,y,"conference"),prize2:lc(u,y,"conference")},week4:{prize1:Kb(u,y),prize2:Qb(u,y)},grandPrize:{prize1:Xb(u,y),prize2:qb(u,y)}};return console.log(" All calculations complete!"),console.log(" Results:",m),m};return F.useEffect(()=>{if(f.length>0&&g)try{const u=n0();u&&typeof u=="object"&&(R(u),_e(J(ee,"calculatedWinners"),u))}catch(u){console.error("Error calculating winners:",u)}},[f,g]),i.jsxs("div",{className:"App",children:[i.jsxs("header",{children:[i.jsx("h1",{children:" Richard's NFL Playoff Pool 2025"}),i.jsx("p",{children:"Enter your score predictions for each NFL Playoff 2025 game"}),i.jsxs("p",{style:{fontSize:"0.85rem",marginTop:"10px",opacity:.8},children:["v2.2-PLAYOFF-SCHEDULE-",new Date().toISOString().slice(0,10).replace(/-/g,"")]}),i.jsxs("div",{style:{marginTop:"15px",display:"flex",flexDirection:"column",gap:"10px",alignItems:"center"},children:[i.jsxs("div",{style:{display:"flex",gap:"15px",flexWrap:"wrap",justifyContent:"center"},children:[i.jsx("a",{href:"/nfl-playoff-pool/Playoff_Pool_Quick_Rules.pdf",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",padding:"10px 20px",backgroundColor:"#0984e3",color:"white",textDecoration:"none",borderRadius:"5px",fontSize:"0.95rem",fontWeight:"bold",transition:"background-color 0.3s ease",cursor:"pointer"},onMouseOver:u=>u.target.style.backgroundColor="#74b9ff",onMouseOut:u=>u.target.style.backgroundColor="#0984e3",children:" View Quick Rules (2 Pages)"}),i.jsx("a",{href:"/nfl-playoff-pool/Richards_Playoff_Pool_LIX_Rulebook.pdf",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",padding:"10px 20px",backgroundColor:"#6c5ce7",color:"white",textDecoration:"none",borderRadius:"5px",fontSize:"0.95rem",fontWeight:"bold",transition:"background-color 0.3s ease",cursor:"pointer"},onMouseOver:u=>u.target.style.backgroundColor="#a29bfe",onMouseOut:u=>u.target.style.backgroundColor="#6c5ce7",children:" View Full Rulebook (22 Pages)"})]}),i.jsx("p",{style:{fontSize:"1.1em",marginTop:"10px",color:"#ffffff",fontWeight:"500"},children:"Entry Fee: $20 - Must be paid before end of regular season"})]})]}),i.jsxs("div",{className:"container",children:[he()&&l&&i.jsxs("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"15px 20px",borderRadius:"8px",marginBottom:"20px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[i.jsxs("h3",{style:{margin:"0 0 15px 0",display:"flex",alignItems:"center",gap:"10px"},children:[i.jsx("span",{children:""}),i.jsx("span",{children:"POOL MANAGER - WEEK LOCK CONTROLS"})]}),i.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"10px"},children:Object.keys(Te).map(u=>{var b,P;const y=(b=$[u])==null?void 0:b.locked,m=ch(u),v=y||m;return i.jsxs("div",{style:{background:"rgba(255,255,255,0.15)",padding:"12px",borderRadius:"6px",display:"flex",flexDirection:"column",gap:"8px"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",fontWeight:"bold",fontSize:"0.9rem"},children:[i.jsxs("span",{children:[v?"":""," Week ",u==="wildcard"?"1":u==="divisional"?"2":u==="conference"?"3":"4"]}),i.jsx("span",{style:{fontSize:"0.75rem",opacity:.9},children:(P=$[u])==null?void 0:P.autoLockDate})]}),m&&!y&&i.jsx("div",{style:{fontSize:"0.7rem",padding:"4px 8px",background:"rgba(255,193,7,0.3)",borderRadius:"4px",border:"1px solid rgba(255,193,7,0.5)"},children:" AUTO-LOCKED"}),y&&i.jsx("div",{style:{fontSize:"0.7rem",padding:"4px 8px",background:"rgba(220,53,69,0.3)",borderRadius:"4px",border:"1px solid rgba(220,53,69,0.5)"},children:" MANUALLY LOCKED"}),i.jsx("button",{onClick:()=>Bx(u),style:{padding:"8px 12px",background:y?"#28a745":"#dc3545",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.85rem",fontWeight:"600",transition:"all 0.2s"},children:y?" Unlock Week":" Lock Week"}),i.jsx("button",{onClick:()=>xa(u),style:{padding:"8px 12px",background:"#e67e22",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.85rem",fontWeight:"600",transition:"all 0.2s",marginTop:"8px"},children:" Clear Week Data"})]},u)})}),i.jsx("p",{style:{fontSize:"0.8rem",marginTop:"12px",marginBottom:"0",opacity:.9},children:" Manual locks override automatic locks. Players cannot edit picks for locked weeks."})]}),he()&&l&&i.jsxs("div",{style:{background:"linear-gradient(135deg, #f39c12 0%, #e74c3c 100%)",color:"white",padding:"20px",borderRadius:"8px",marginBottom:"20px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[i.jsxs("h3",{style:{margin:"0 0 15px 0",display:"flex",alignItems:"center",gap:"10px"},children:[i.jsx("span",{children:""}),i.jsx("span",{children:"POOL MANAGER OVERRIDE - ENTER/EDIT PICKS FOR ANY PLAYER"})]}),Sx?i.jsxs("div",{children:[i.jsxs("div",{style:{marginBottom:"20px"},children:[i.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"0.95rem"},children:"Select Player:"}),i.jsxs("select",{value:pe,onChange:u=>{Ir(u.target.value),Ws(null),Ds(null),Ls(!1)},style:{width:"100%",padding:"12px",fontSize:"1rem",borderRadius:"6px",border:"2px solid white",background:"rgba(255,255,255,0.95)",color:"#333",fontWeight:"600"},children:[i.jsx("option",{value:"",children:"-- Select a Player --"}),Object.keys(ke).sort((u,y)=>{const m=ke[u].toUpperCase(),v=ke[y].toUpperCase();return m.localeCompare(v)}).map(u=>i.jsxs("option",{value:u,children:[ke[u]," (",u,")"]},u))]})]}),pe&&i.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:"15px",borderRadius:"6px",marginBottom:"15px"},children:[i.jsxs("div",{style:{marginBottom:"15px"},children:[i.jsx("strong",{children:"Selected:"})," ",ke[pe]," (",pe,")",i.jsx("br",{}),i.jsx("strong",{children:"Week:"})," ",c==="wildcard"?"Week 1":c==="divisional"?"Week 2":c==="conference"?"Week 3":"Week 4",i.jsx("br",{}),i.jsx("strong",{children:"Status:"})," ",f.find(u=>u.playerCode===pe&&u.week===c)?" HAS PICKS":" NO PICKS"]}),i.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[i.jsx("button",{onClick:lh,style:{flex:"1",minWidth:"150px",padding:"12px",background:"#9b59b6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Generate RNG Picks"}),i.jsx("button",{onClick:Ax,style:{flex:"1",minWidth:"150px",padding:"12px",background:"#3498db",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Enter/Edit Manually"})]}),f.find(u=>u.playerCode===pe)&&i.jsxs("div",{style:{marginTop:"15px",padding:"15px",background:"rgba(220, 53, 69, 0.1)",borderRadius:"6px",border:"2px solid rgba(220, 53, 69, 0.3)"},children:[i.jsx("div",{style:{marginBottom:"10px",fontWeight:"600",color:"#dc3545"},children:" Danger Zone - Delete Operations"}),i.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[i.jsx("button",{onClick:()=>Ar("week"),style:{flex:"1",minWidth:"150px",padding:"12px",background:"#e67e22",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Delete This Week Only"}),i.jsx("button",{onClick:()=>Ar("all"),style:{flex:"1",minWidth:"150px",padding:"12px",background:"#c0392b",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Delete ALL Weeks"})]})]})]}),i.jsx("button",{onClick:()=>{As(!1),Ir(""),Ws(null),Ds(null),Ls(!1)},style:{padding:"10px 20px",background:"#95a5a6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Exit Override Mode"})]}):i.jsxs("div",{children:[i.jsx("p",{style:{marginBottom:"15px",fontSize:"0.9rem"},children:" Enter picks on behalf of players who missed the deadline or need assistance. Works even when week is locked."}),i.jsx("button",{onClick:()=>As(!0),style:{padding:"12px 24px",background:"white",color:"#e74c3c",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:" Enter Override Mode"})]})]}),bx&&rr&&i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},children:i.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"30px",maxWidth:"600px",width:"100%",maxHeight:"90vh",overflow:"auto",boxShadow:"0 8px 32px rgba(0,0,0,0.3)"},children:[i.jsx("h3",{style:{marginTop:0,color:"#9b59b6"},children:" RNG PICKS GENERATED"}),i.jsxs("p",{style:{color:"#666",marginBottom:"20px"},children:["Player: ",i.jsx("strong",{children:ke[pe]}),i.jsx("br",{}),"Week: ",i.jsx("strong",{children:c==="wildcard"?"Week 1":c==="divisional"?"Week 2":c==="conference"?"Week 3":"Week 4"})]}),i.jsx("div",{style:{marginBottom:"20px"},children:Te[c].games.map(u=>i.jsxs("div",{style:{padding:"12px",background:"#f8f9fa",borderRadius:"6px",marginBottom:"10px",border:"2px solid #e9ecef"},children:[i.jsxs("div",{style:{fontWeight:"600",marginBottom:"5px",color:"#333"},children:["Game ",u.id,": ",Cn(c,u.id,"team1",N)," vs ",Cn(c,u.id,"team2",N)]}),i.jsxs("div",{style:{fontSize:"1.2rem",fontWeight:"700",color:"#9b59b6"},children:[rr[u.id].team1," - ",rr[u.id].team2,rr[u.id].team1>rr[u.id].team2?` (${Cn(c,u.id,"team1",N)} wins)`:` (${Cn(c,u.id,"team2",N)} wins)`]})]},u.id))}),i.jsxs("div",{style:{background:"#d4edda",border:"1px solid #c3e6cb",color:"#155724",padding:"12px",borderRadius:"6px",marginBottom:"20px",fontSize:"0.9rem"},children:[" All scores between 10-50 (inclusive)",i.jsx("br",{})," No tied games",i.jsx("br",{}),' Will be marked as "POOL_MANAGER_RNG" in database']}),i.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[i.jsx("button",{onClick:Rx,style:{flex:"1",padding:"14px 24px",background:"#28a745",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Submit RNG Picks"}),i.jsx("button",{onClick:lh,style:{flex:"1",padding:"14px 24px",background:"#ffc107",color:"#333",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Regenerate"}),i.jsx("button",{onClick:()=>{Ls(!1),Ds(null)},style:{padding:"14px 24px",background:"#dc3545",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Cancel"})]})]})}),ih&&i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},children:i.jsx("div",{style:{background:"white",borderRadius:"12px",padding:"30px",maxWidth:"500px",width:"100%",boxShadow:"0 8px 32px rgba(0,0,0,0.3)"},children:ih==="week"?i.jsxs(i.Fragment,{children:[i.jsxs("h3",{style:{marginTop:0,color:"#e67e22",display:"flex",alignItems:"center",gap:"10px"},children:[i.jsx("span",{children:""}),i.jsx("span",{children:"DELETE PICKS FOR THIS WEEK?"})]}),i.jsxs("div",{style:{marginBottom:"20px",color:"#666"},children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Player:"})," ",ke[pe]]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Week:"})," ",c==="wildcard"?"Week 1 (Wildcard)":c==="divisional"?"Week 2 (Divisional)":c==="conference"?"Week 3 (Conference)":"Week 4 (Super Bowl)"]})]}),i.jsxs("div",{style:{background:"#fff3cd",border:"1px solid #ffc107",color:"#856404",padding:"15px",borderRadius:"6px",marginBottom:"20px",fontSize:"0.95rem"},children:[i.jsx("strong",{children:" Warning:"})," This will DELETE ",ke[pe],"'s picks for this week only.",i.jsx("br",{}),i.jsx("strong",{children:"This action CANNOT be undone!"})]}),i.jsxs("div",{style:{display:"flex",gap:"10px"},children:[i.jsx("button",{onClick:()=>Ar(null),style:{flex:"1",padding:"14px",background:"#95a5a6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Cancel"}),i.jsx("button",{onClick:Dx,style:{flex:"1",padding:"14px",background:"#e67e22",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Yes, Delete This Week"})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("h3",{style:{marginTop:0,color:"#c0392b",display:"flex",alignItems:"center",gap:"10px"},children:[i.jsx("span",{children:""}),i.jsx("span",{children:"DELETE ALL PICKS?"})]}),i.jsx("div",{style:{marginBottom:"20px",color:"#666"},children:i.jsxs("p",{children:[i.jsx("strong",{children:"Player:"})," ",ke[pe]]})}),i.jsxs("div",{style:{background:"#f8d7da",border:"2px solid #dc3545",color:"#721c24",padding:"15px",borderRadius:"6px",marginBottom:"20px",fontSize:"0.95rem"},children:[i.jsx("strong",{children:" DANGER:"})," This will DELETE ALL of ",ke[pe],"'s picks:",i.jsx("br",{}),i.jsx("br",{}),f.filter(u=>u.playerCode===pe).map(u=>i.jsxs("div",{style:{marginLeft:"20px"},children:[" ",u.week==="wildcard"?"Week 1":u.week==="divisional"?"Week 2":u.week==="conference"?"Week 3":"Week 4"," picks"]},u.week)),i.jsx("br",{}),i.jsx("strong",{children:"This action CANNOT be undone!"}),i.jsx("br",{}),i.jsx("strong",{children:"Are you absolutely sure?"})]}),i.jsxs("div",{style:{display:"flex",gap:"10px"},children:[i.jsx("button",{onClick:()=>Ar(null),style:{flex:"1",padding:"14px",background:"#95a5a6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Cancel"}),i.jsx("button",{onClick:Lx,style:{flex:"1",padding:"14px",background:"#c0392b",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Yes, Delete Everything"})]})]})})}),Os&&i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},children:i.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"30px",maxWidth:"500px",width:"100%",boxShadow:"0 8px 32px rgba(0,0,0,0.3)"},children:[i.jsxs("h3",{style:{marginTop:0,color:"#e67e22",display:"flex",alignItems:"center",gap:"10px"},children:[i.jsx("span",{children:""}),i.jsx("span",{children:"CLEAR WEEK DATA?"})]}),i.jsx("div",{style:{marginBottom:"20px",color:"#666"},children:i.jsxs("p",{children:[i.jsx("strong",{children:"Week:"})," ",Os==="wildcard"?"Week 1 (Wildcard)":Os==="divisional"?"Week 2 (Divisional)":Os==="conference"?"Week 3 (Conference)":"Week 4 (Super Bowl)"]})}),i.jsxs("div",{style:{background:"#fff3cd",border:"2px solid #ffc107",color:"#856404",padding:"15px",borderRadius:"6px",marginBottom:"20px",fontSize:"0.95rem"},children:[i.jsx("strong",{children:" This will DELETE:"}),i.jsxs("div",{style:{marginLeft:"20px",marginTop:"10px"},children:[" All team names for this week",i.jsx("br",{})," All actual scores for this week",i.jsx("br",{})," All game statuses (FINAL/LIVE) for this week"]}),i.jsx("br",{}),i.jsx("strong",{style:{color:"#d63031"},children:" This will KEEP:"}),i.jsx("div",{style:{marginLeft:"20px",marginTop:"5px"},children:" ALL player picks (NOT deleted!)"}),i.jsx("br",{}),i.jsx("strong",{children:"This action CANNOT be undone!"})]}),i.jsxs("div",{style:{display:"flex",gap:"10px"},children:[i.jsx("button",{onClick:()=>xa(null),style:{flex:"1",padding:"14px",background:"#95a5a6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Cancel"}),i.jsx("button",{onClick:()=>Ox(Os),style:{flex:"1",padding:"14px",background:"#e67e22",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Yes, Clear Week Data"})]})]})}),he()&&l&&i.jsx(bb,{currentWeek:c,games:Ee.games,actualScores:g,teamCodes:T,onScoresFetched:dh,onGameLockToggle:$x,gameLocks:se,espnAutoRefresh:Re}),he()&&l&&i.jsx("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"20px",borderRadius:"8px",marginBottom:"20px",boxShadow:"0 4px 15px rgba(102, 126, 234, 0.4)"},children:i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[i.jsxs("div",{children:[i.jsxs("h3",{style:{margin:"0 0 8px 0",display:"flex",alignItems:"center",gap:"10px"},children:[i.jsx("span",{children:""}),i.jsx("span",{children:"POOL MANAGER RNG - Quick Test Data"})]}),i.jsx("p",{style:{margin:0,fontSize:"0.9rem",opacity:.9},children:"Auto-populate teams, scores, and mark games as FINAL for testing"})]}),i.jsx("button",{onClick:qx,style:{padding:"12px 24px",background:"white",color:"#667eea",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"1rem",fontWeight:"700",boxShadow:"0 4px 12px rgba(0,0,0,0.2)",transition:"all 0.3s ease",whiteSpace:"nowrap"},onMouseOver:u=>{u.target.style.transform="translateY(-2px)",u.target.style.boxShadow="0 6px 16px rgba(0,0,0,0.3)"},onMouseOut:u=>{u.target.style.transform="translateY(0)",u.target.style.boxShadow="0 4px 12px rgba(0,0,0,0.2)"},children:" Generate Test Data"})]})}),he()&&l&&i.jsxs("div",{style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"white",padding:"15px 20px",borderRadius:"8px",marginBottom:"20px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[i.jsxs("h3",{style:{margin:"0 0 15px 0",display:"flex",alignItems:"center",gap:"10px"},children:[i.jsx("span",{children:""}),i.jsx("span",{children:"ALL PLAYER CODES"})]}),i.jsx("div",{style:{background:"rgba(255,255,255,0.95)",padding:"15px",borderRadius:"6px",maxHeight:"300px",overflowY:"auto"},children:i.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.9rem"},children:[i.jsx("thead",{children:i.jsxs("tr",{style:{background:"#f8f9fa",borderBottom:"2px solid #dee2e6"},children:[i.jsx("th",{style:{padding:"10px",textAlign:"left",color:"#495057",fontWeight:"600"},children:"Player Code"}),i.jsx("th",{style:{padding:"10px",textAlign:"left",color:"#495057",fontWeight:"600"},children:"Player Name"}),i.jsx("th",{style:{padding:"10px",textAlign:"center",color:"#495057",fontWeight:"600"},children:"Role"})]})}),i.jsx("tbody",{children:Object.entries(ke).sort((u,y)=>{const m=rn.includes(u[0]),v=rn.includes(y[0]);return m&&!v?-1:!m&&v?1:u[1].localeCompare(y[1])}).map(([u,y],m)=>{const v=rn.includes(u);return i.jsxs("tr",{style:{background:m%2===0?"#ffffff":"#f8f9fa",borderBottom:"1px solid #dee2e6"},children:[i.jsx("td",{style:{padding:"10px",color:"#212529",fontFamily:"monospace",fontWeight:"bold",fontSize:"1rem"},children:u}),i.jsx("td",{style:{padding:"10px",color:"#212529"},children:y}),i.jsx("td",{style:{padding:"10px",textAlign:"center"},children:v?i.jsx("span",{style:{padding:"4px 8px",background:"#dc3545",color:"white",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"600"},children:" MANAGER"}):i.jsx("span",{style:{padding:"4px 8px",background:"#28a745",color:"white",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"600"},children:" PLAYER"})})]},u)})})]})}),i.jsxs("p",{style:{fontSize:"0.8rem",marginTop:"12px",marginBottom:"0",opacity:.9},children:[" Total Players: ",Object.keys(ke).length," | Pool Managers: ",rn.length," | Regular Players: ",Object.keys(ke).length-rn.length]})]}),l&&i.jsx(Ab,{currentWeek:c,onWeekChange:e0,weekPicks:_x,weekLockStatus:$,hasUnsavedChanges:Tr,isPoolManager:he()}),l&&i.jsxs("div",{className:"view-navigation",children:[i.jsxs("button",{className:`nav-btn ${t==="picks"?"active":""}`,onClick:()=>e("picks"),children:[" #1 Make Picks & Logout",t==="picks"&&i.jsx("span",{style:{marginLeft:"8px",fontSize:"0.75rem",opacity:.9,fontStyle:"italic"},children:"(you are here)"})]}),i.jsxs("button",{className:`nav-btn ${t==="standings"?"active":""}`,onClick:()=>e("standings"),children:[" #2 Standings & Prizes",t==="standings"&&i.jsx("span",{style:{marginLeft:"8px",fontSize:"0.75rem",opacity:.9,fontStyle:"italic"},children:"(you are here)"})]}),i.jsxs("button",{className:`nav-btn ${t==="winners"?"active":""}`,onClick:()=>e("winners"),children:[" #3 How Winners Are Determined",t==="winners"&&i.jsx("span",{style:{marginLeft:"8px",fontSize:"0.75rem",opacity:.9,fontStyle:"italic"},children:"(you are here)"})]}),he()&&i.jsxs("button",{className:`nav-btn ${t==="payments"?"active":""}`,onClick:()=>e("payments"),children:[" Payments",i.jsx("span",{style:{marginLeft:"8px",fontSize:"0.7rem",padding:"2px 6px",background:"#667eea",color:"white",borderRadius:"10px",fontWeight:"500"},children:"Pool Manager"}),t==="payments"&&i.jsx("span",{style:{marginLeft:"8px",fontSize:"0.75rem",opacity:.9,fontStyle:"italic"},children:"(you are here)"})]}),he()&&i.jsxs("button",{className:`nav-btn ${t==="playoffSetup"?"active":""}`,onClick:()=>e("playoffSetup"),children:[" Setup Playoff Teams",i.jsx("span",{style:{marginLeft:"8px",fontSize:"0.7rem",padding:"2px 6px",background:"#667eea",color:"white",borderRadius:"10px",fontWeight:"500"},children:"Pool Manager"}),t==="playoffSetup"&&i.jsx("span",{style:{marginLeft:"8px",fontSize:"0.75rem",opacity:.9,fontStyle:"italic"},children:"(you are here)"})]}),he()&&i.jsxs("button",{className:`nav-btn ${t==="loginLogs"?"active":""}`,onClick:()=>e("loginLogs"),children:[" Login Logs",i.jsx("span",{style:{marginLeft:"8px",fontSize:"0.7rem",padding:"2px 6px",background:"#667eea",color:"white",borderRadius:"10px",fontWeight:"500"},children:"Pool Manager"}),t==="loginLogs"&&i.jsx("span",{style:{marginLeft:"8px",fontSize:"0.75rem",opacity:.9,fontStyle:"italic"},children:"(you are here)"})]}),he()&&i.jsxs("button",{className:"nav-btn",style:{background:"#10b981",color:"white"},onClick:async()=>{if(confirm(`Create players table in Firebase?

This will add all `+Object.keys(ke).length+" players to Firebase."))try{const u=J(ee,"players");if((await ot(u)).exists()){alert(" Players table already exists in Firebase!");return}let m=0;for(const[v,b]of Object.entries(ke))await Br(J(ee,"players"),{playerCode:v,playerName:b,role:rn.includes(v)?"MANAGER":"PLAYER",paymentStatus:"UNPAID",paymentTimestamp:"",paymentMethod:"",paymentAmount:0,visibleToPlayers:!0,createdAt:Date.now(),updatedAt:Date.now()}),m++;alert(` SUCCESS!

Created `+m+` players in Firebase!

REFRESH THE PAGE NOW!`)}catch(u){alert(" Error: "+u.message),console.error("Migration error:",u)}},children:[" Create Players Table",i.jsx("span",{style:{marginLeft:"8px",fontSize:"0.7rem",padding:"2px 6px",background:"#059669",color:"white",borderRadius:"10px",fontWeight:"500"},children:"One-Time Setup"})]}),he()&&i.jsxs("button",{className:"nav-btn",style:{background:"#3b82f6",color:"white"},onClick:async()=>{const u=prompt("Enter new player name:");if(!u||!u.trim()){alert(" Cancelled - no name entered");return}const y=prompt(`Enter 6-character access code
(or leave blank to auto-generate):`),m=y&&y.trim()?y.trim().toUpperCase():Math.random().toString(36).substring(2,8).toUpperCase();if(m.length!==6){alert(" Access code must be exactly 6 characters!");return}const v=J(ee,"players"),b=await ot(v);if(b.exists()){const P=b.val();if(Object.values(P).some(A=>A.playerCode===m)){alert(` Code "${m}" already exists! Please use a different code.`);return}}try{await Br(v,{playerCode:m,playerName:u.trim(),role:"PLAYER",paymentStatus:"UNPAID",paymentTimestamp:"",paymentMethod:"",paymentAmount:0,visibleToPlayers:!0,createdAt:Date.now(),updatedAt:Date.now()}),alert(` PLAYER ADDED!

Name: ${u.trim()}
Access Code: ${m}

 Give this code to the player!`)}catch(P){alert(" Error: "+P.message)}},children:[" Add New Player",i.jsx("span",{style:{marginLeft:"8px",fontSize:"0.7rem",padding:"2px 6px",background:"#2563eb",color:"white",borderRadius:"10px",fontWeight:"500"},children:"Pool Manager"})]}),he()&&i.jsxs("button",{className:"nav-btn",style:{background:"#f59e0b",color:"white"},onClick:async()=>{if(confirm("Add showInPicksTable field to all players?"))try{const u=J(ee,"players"),y=await ot(u);if(!y.exists()){alert(" No players found");return}const m=y.val();let v=0;for(const[b,P]of Object.entries(m))if(P.showInPicksTable===void 0){const I=J(ee,`players/${b}`);await Fr(I,{showInPicksTable:!1}),v++}alert(` Added showInPicksTable to ${v} players!

REFRESH PAGE NOW!`)}catch(u){alert(" Error: "+u.message)}},children:[" Add Table Field",i.jsx("span",{style:{marginLeft:"8px",fontSize:"0.7rem",padding:"2px 6px",background:"#d97706",color:"white",borderRadius:"10px",fontWeight:"500"},children:"One-Time"})]}),he()&&i.jsxs("button",{className:"nav-btn",style:{background:"#10b981",color:"white"},onClick:Px,children:[" Download All Players (Excel)",i.jsx("span",{style:{marginLeft:"8px",fontSize:"0.7rem",padding:"2px 6px",background:"#059669",color:"white",borderRadius:"10px",fontWeight:"500"},children:"Backup"})]}),he()&&i.jsxs("button",{className:"nav-btn",style:{background:"#dc2626",color:"white"},onClick:async()=>{if(!window.confirm(` EMERGENCY OVERRIDE 

This will OVERWRITE all player codes in Firebase
with the hardcoded PLAYER_CODES from App.jsx.

 Any codes manually updated in Firebase will be LOST!
 This should ONLY be used in emergencies!

Firebase is the SOURCE OF TRUTH.
App.jsx is only a backup.

Are you SURE you want to override Firebase?`)||!window.confirm(` FINAL WARNING 

Type YES in the next prompt to proceed.

This action CANNOT be undone!

Click OK to continue or Cancel to abort.`))return;if(prompt(` Type YES (all caps) to confirm:

I understand this will ERASE all Firebase player codes
and replace them with App.jsx PLAYER_CODES.`)!=="YES"){alert(" Cancelled - you must type YES exactly.");return}try{const v=J(ee,"players"),b=await ot(v);if(!b.exists()){alert(" No players found in Firebase.");return}const P=b.val();let I=0,A=[];for(const[z,Y]of Object.entries(P)){const G=Object.entries(ke).find(([Q,X])=>X===Y.playerName);if(G){const[Q,X]=G,re=J(ee,`players/${z}`);await Fr(re,{playerCode:Q,updatedAt:Date.now()}),I++,console.log(` Updated ${X}: ${Y.playerCode}  ${Q}`)}else A.push(Y.playerName)}let D=` Emergency Override Complete!

`;D+=`Updated ${I} player codes from App.jsx.

`,A.length>0&&(D+=` ${A.length} players NOT found in App.jsx PLAYER_CODES:
`,D+=A.join(", ")+`

`,D+=`These players were NOT updated!

`),D+="REFRESH PAGE NOW!",alert(D)}catch(v){alert(" Error: "+v.message)}},children:[" EMERGENCY: Override Firebase",i.jsx("span",{style:{marginLeft:"8px",fontSize:"0.7rem",padding:"2px 6px",background:"#991b1b",color:"white",borderRadius:"10px",fontWeight:"500"},children:"DANGER"})]})]}),t==="standings"&&l?i.jsx(Sb,{allPicks:f,actualScores:g,currentWeek:c,playerName:n,playerCode:s,isPoolManager:he(),prizePool:He,officialWinners:uo,onLogout:yh}):t==="winners"&&l?i.jsx(Jb,{calculatedWinners:O,publishedWinners:M,isPoolManager:he(),onPublishPrize:Hx,onUnpublishPrize:Vx,allPicks:f,actualScores:g}):t==="loginLogs"&&l?i.jsx(Gb,{isPoolManager:he(),playerCodes:ke,onClearLogs:async()=>{if(window.confirm(` Are you sure you want to CLEAR ALL login logs?

This will permanently delete all login history from Firebase.

This action CANNOT be undone!`))try{await _e(J(ee,"loginLogs"),null),alert(" All login logs have been cleared successfully!"),console.log(" Login logs cleared by Pool Manager"),window.location.reload()}catch(u){alert(" Error clearing login logs: "+u.message),console.error("Error clearing login logs:",u)}}}):t==="payments"&&l?i.jsx(eC,{players:po,allPicks:f,onUpdatePayment:Cx,onTogglePlayerVisibility:Nx,onRemovePlayer:Ex,onToggleTableDisplay:jx,onUpdatePlayerCode:Tx}):t==="playoffSetup"&&l?i.jsx(Zb,{playoffTeams:N,actualScores:g,onSavePlayoffTeams:Yx,isPoolManager:he()}):i.jsxs(i.Fragment,{children:[l?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"player-confirmed",children:[i.jsx("span",{className:"confirmation-badge",children:" VERIFIED"}),i.jsxs("h3",{children:["Welcome, ",i.jsx("span",{className:"player-name-highlight",children:n}),"!",he()&&i.jsx("span",{style:{marginLeft:"10px",color:"#d63031"},children:" POOL MANAGER"})]}),i.jsxs("div",{style:{display:"inline-block",padding:"8px 20px",marginBottom:"10px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:"25px",fontWeight:"bold",fontSize:"1.1rem",boxShadow:"0 4px 15px rgba(102, 126, 234, 0.4)",letterSpacing:"0.5px"},children:[c==="wildcard"&&" WEEK 1 OF 4",c==="divisional"&&" WEEK 2 OF 4",c==="conference"&&" WEEK 3 OF 4",c==="superbowl"&&" WEEK 4 OF 4"]}),i.jsxs("p",{style:{color:"#000",marginTop:"8px"},children:["Making picks for: ",i.jsx("strong",{children:Ee.name})]}),Qt(c)&&!he()&&i.jsx("div",{style:{marginTop:"10px",padding:"10px 15px",background:"#fff3cd",border:"2px solid #ffc107",borderRadius:"6px",color:"#856404",fontWeight:"600"},children:" This week is LOCKED - You can view your picks but cannot edit them"}),i.jsx("button",{className:"validate-btn",style:{marginTop:"15px",padding:"10px 20px",fontSize:"0.9rem"},onClick:yh,children:" Logout / Switch Entry"}),i.jsx("p",{style:{fontSize:"0.85rem",color:"#666",marginTop:"10px",fontStyle:"italic"},children:" Playing with multiple entries? Logout to switch between your codes."})]}),!((wh=N==null?void 0:N.week1)!=null&&wh.configured)&&i.jsxs("div",{style:{margin:"20px 0",padding:"20px",background:"linear-gradient(135deg, #ffd89b 0%, #19547b 100%)",borderRadius:"12px",border:"3px solid #ff9800",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",textAlign:"center"},children:[i.jsx("div",{style:{fontSize:"2rem",marginBottom:"10px"},children:""}),i.jsx("h3",{style:{color:"white",margin:"0 0 10px 0",fontSize:"1.3rem",textShadow:"2px 2px 4px rgba(0,0,0,0.3)"},children:"Playoff Teams Will Be Announced Soon"}),i.jsxs("p",{style:{color:"white",fontSize:"1rem",margin:0,opacity:.95},children:["The 2025 NFL Playoff teams will be determined after the regular season ends by end of day January 4, 2026.",i.jsx("br",{}),"Pool Manager will announce the 14 playoff teams here once finalized."]})]}),!Bs()&&i.jsx("div",{className:"closed-warning",children:" PICKS ARE LOCKED (Playoff Weekend: Friday 11:59 PM - Monday 12:01 AM PST)"}),i.jsxs("div",{className:"prediction-form",children:[Rr==="manual"?i.jsxs("h2",{style:{color:"#e74c3c"},children:[" OVERRIDE MODE: Entering Picks for ",ke[pe]]}):i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"15px",gap:"15px"},children:[i.jsxs("h2",{style:{margin:0,flex:"1"},children:["Enter Your Predictions: ",i.jsxs("span",{style:{fontSize:"0.95rem",color:"#667eea",fontWeight:"600"},children:[c==="wildcard"&&"Week 1",c==="divisional"&&"Week 2",c==="conference"&&"Week 3",c==="superbowl"&&"Week 4"]})]}),!Qt(c)&&i.jsx("button",{type:"button",onClick:Ux,style:{padding:"10px 20px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"0.95rem",fontWeight:"600",boxShadow:"0 4px 15px rgba(102, 126, 234, 0.4)",transition:"all 0.3s ease"},onMouseOver:u=>{u.target.style.transform="translateY(-2px)",u.target.style.boxShadow="0 6px 20px rgba(102, 126, 234, 0.6)"},onMouseOut:u=>{u.target.style.transform="translateY(0)",u.target.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)"},children:" Quick RNG Pick - Auto-fill all games"}),i.jsx("button",{type:"button",onClick:()=>ao(!0),style:{width:"100%",padding:"15px",marginTop:"10px",fontSize:"1.1rem",fontWeight:"bold",color:"white",background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",border:"none",borderRadius:"12px",cursor:"pointer",boxShadow:"0 4px 15px rgba(245, 87, 108, 0.4)",transition:"all 0.3s ease"},onMouseOver:u=>{u.target.style.transform="translateY(-2px)",u.target.style.boxShadow="0 6px 20px rgba(245, 87, 108, 0.6)"},onMouseOut:u=>{u.target.style.transform="translateY(0)",u.target.style.boxShadow="0 4px 15px rgba(245, 87, 108, 0.4)"},children:" NFL Scoring Guide - 2025 Season Stats"})]}),i.jsxs("div",{className:"progress-indicator",children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[i.jsx("strong",{children:"Progress:"}),i.jsxs("span",{children:[Object.keys(p).filter(u=>p[u]&&p[u].team1&&p[u].team2).length," of ",Ee.games.length," games completed"]})]}),i.jsx("div",{className:"progress-bar",children:i.jsxs("div",{className:"progress-fill",style:{width:`${Object.keys(p).filter(u=>p[u]&&p[u].team1&&p[u].team2).length/Ee.games.length*100}%`},children:[Math.round(Object.keys(p).filter(u=>p[u]&&p[u].team1&&p[u].team2).length/Ee.games.length*100),"%"]})})]}),i.jsxs("form",{onSubmit:Rr==="manual"?Wx:vh,children:[Ee.games.map(u=>{var y,m,v,b,P;return i.jsxs("div",{className:"game-prediction",children:[i.jsxs("h3",{children:["Game ",u.id,": ",Cn(c,u.id,"team1",N)," @ ",Cn(c,u.id,"team2",N)]}),((y=g[c])==null?void 0:y[u.id])&&i.jsxs("div",{style:{padding:"10px 15px",background:"#ffffff",border:"3px solid #4caf50",borderRadius:"6px",marginBottom:"12px",fontSize:"1rem"},children:[i.jsx("strong",{style:{color:"#000",fontSize:"1.05rem"},children:"Actual Score:"})," ",i.jsxs("span",{style:{color:"#000",fontWeight:"700",fontSize:"1.1rem"},children:[g[c][u.id].team1||"-"," - ",g[c][u.id].team2||"-"]}),((m=x[c])==null?void 0:m[u.id])==="final"&&i.jsx("span",{style:{marginLeft:"10px",padding:"2px 8px",background:"#4caf50",color:"white",borderRadius:"4px",fontSize:"0.8rem",fontWeight:"bold"},children:" FINAL"}),((v=x[c])==null?void 0:v[u.id])==="live"&&i.jsx("span",{style:{marginLeft:"10px",padding:"2px 8px",background:"#ff9800",color:"white",borderRadius:"4px",fontSize:"0.8rem",fontWeight:"bold"},children:" LIVE"})]}),i.jsxs("div",{className:"score-inputs",children:[i.jsxs("div",{className:"team-score",children:[i.jsxs("label",{children:[i.jsx("span",{className:"team-designation",children:"AWAY TEAM"}),i.jsx("span",{className:"team-name-label",style:{color:"#ffffff",fontWeight:"700"},children:u.team1})]}),i.jsx("input",{type:"number",min:"0",max:"99",value:((b=p[u.id])==null?void 0:b.team1)||"",onChange:I=>uh(u.id,"team1",I.target.value),placeholder:"0",required:!0,disabled:Qt(c)},`${u.id}-team1-${n}`)]}),i.jsx("div",{className:"vs",children:"VS"}),i.jsxs("div",{className:"team-score",children:[i.jsxs("label",{children:[i.jsx("span",{className:"team-designation",children:"HOME TEAM"}),i.jsx("span",{className:"team-name-label",style:{color:"#ffffff",fontWeight:"700"},children:u.team2})]}),i.jsx("input",{type:"number",min:"0",max:"99",value:((P=p[u.id])==null?void 0:P.team2)||"",onChange:I=>uh(u.id,"team2",I.target.value),placeholder:"0",required:!0,disabled:Qt(c)},`${u.id}-team2-${n}`)]})]})]},u.id)}),i.jsxs("div",{style:{display:"flex",gap:"15px",marginTop:"20px"},children:[i.jsx("button",{type:"submit",className:"submit-btn",disabled:Rr==="manual"?!1:!Bs()||Qt(c),style:Rr==="manual"?{background:"#e74c3c",fontSize:"1.1rem",fontWeight:"700",flex:"1"}:{flex:"1"},children:Rr==="manual"?` Submit for ${ke[pe]}`:Qt(c)&&!he()?" Week Locked - Cannot Edit Picks":Bs()?" Submit / Update My Picks":" Submissions Locked (Playoff Weekend)"}),!Qt(c)&&Rr!=="manual"&&i.jsx("button",{type:"button",onClick:Zx,style:{padding:"15px 30px",background:"#6c757d",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"1.1rem",fontWeight:"600",transition:"all 0.3s ease",flex:"0 0 auto",minWidth:"150px"},onMouseOver:u=>{u.target.style.background="#5a6268"},onMouseOut:u=>{u.target.style.background="#6c757d"},children:" Cancel"})]}),Bs()&&!Qt(c)&&i.jsx("p",{style:{textAlign:"center",marginTop:"15px",color:"#666",fontSize:"0.9rem"},children:"You can edit and resubmit your picks as many times as you want until Friday 11:59 PM PST (before game weekends)"})]})]})]}):i.jsx("div",{className:"prediction-form",children:i.jsxs("div",{className:"code-entry-section",children:[i.jsx("h3",{children:" Enter Your Player Code"}),i.jsx("p",{style:{marginBottom:"20px",color:"#666"},children:"You received a 6-character code when you paid your $20 entry fee."}),i.jsx("p",{style:{marginBottom:"20px",color:"#666",fontSize:"0.9rem",fontStyle:"italic"},children:" Have multiple entries? Enter one code at a time."}),i.jsxs("div",{className:"code-input-group",children:[i.jsx("label",{htmlFor:"playerCode",children:"Player Code LOGIN ACCESS (6 characters)"}),i.jsx("input",{type:"text",id:"playerCode",className:"code-input",value:s,onChange:u=>o(u.target.value.toUpperCase()),placeholder:"A7K9M2",maxLength:"6",autoComplete:"off",onKeyPress:u=>{u.key==="Enter"&&xh()}}),i.jsx("button",{className:"validate-btn",onClick:xh,children:"Validate Code & Continue"}),i.jsxs("div",{style:{marginTop:"20px",padding:"15px",background:"#fff3cd",border:"2px solid #ffc107",borderRadius:"8px",textAlign:"left"},children:[i.jsx("h4",{style:{margin:"0 0 10px 0",color:"#856404"},children:" Entry Fee Payment"}),i.jsxs("p",{style:{margin:"5px 0",fontSize:"0.9rem",color:"#856404"},children:[i.jsx("strong",{children:"Cost:"})," $20 per entry"]}),i.jsxs("p",{style:{margin:"5px 0",fontSize:"0.9rem",color:"#856404"},children:[i.jsx("strong",{children:"Send e-Transfer to:"})," gammoneer2b@gmail.com"]}),i.jsxs("p",{style:{margin:"5px 0",fontSize:"0.9rem",color:"#856404"},children:[i.jsx("strong",{children:"Password:"})," nflpool"]}),i.jsx("p",{style:{margin:"10px 0 5px 0",fontSize:"0.85rem",color:"#856404",fontStyle:"italic"},children:"You will receive your player code after payment is confirmed."})]}),i.jsx("p",{style:{marginTop:"15px",fontSize:"0.9rem",color:"#666",textAlign:"center"},children:"Questions? Contact: gammoneer2b@gmail.com"})]})]})}),i.jsxs("div",{className:"all-picks",children:[i.jsxs("h2",{children:["All Player Picks - ",Ee.name,i.jsx("button",{onClick:t0,style:{marginLeft:"15px",padding:"8px 16px",background:"#4caf50",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Download CSV"}),i.jsx("div",{style:{fontSize:"0.75rem",color:"#666",marginTop:"5px",fontStyle:"italic"},children:" Mobile: Open the DOWNLOADABLE CSV file with Google Sheets (free app) or MS Office EXCEL"}),i.jsx("button",{onClick:Jx,disabled:Ps,style:{marginLeft:"10px",padding:"8px 16px",background:Ps?"#a0a0a0":"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:Ps?"not-allowed":"pointer",fontSize:"0.9rem",fontWeight:"600",opacity:Ps?.7:1},children:Ps?" Refreshed!":" Refresh Picks Table"})]}),f.filter(u=>u.week===c).length===0?i.jsx("p",{className:"no-picks",children:"No picks submitted yet for this week."}):i.jsxs("div",{className:"picks-table-container",children:[i.jsxs("table",{className:"picks-table",children:[i.jsxs("thead",{children:[i.jsxs("tr",{children:[i.jsxs("th",{rowSpan:"2",children:["Player",i.jsx("div",{style:{marginTop:"4px"},children:i.jsx("button",{onClick:()=>nn("name"),style:{padding:"4px 8px",fontSize:"0.7rem",background:Z==="name"?"#4caf50":"#f0f0f0",color:Z==="name"?"#fff":"#000",border:"1px solid #ddd",borderRadius:"4px",cursor:"pointer"},title:`Sort by first name ${Z==="name"&&xe==="asc"?"(A-Z)":"(Z-A)"}`,children:Z==="name"?xe==="asc"?"":"":""})})]}),Ee.games.map((u,y)=>{var m,v,b,P;return i.jsxs("th",{colSpan:"2",style:{borderLeft:y>0?"4px solid #2c3e50":"none",paddingLeft:y>0?"12px":"8px"},children:["Game ",u.id,i.jsx("br",{}),i.jsxs("small",{style:{color:"#ffffff",fontWeight:"700"},children:[Cn(c,u.id,"team1",N)," @ ",Cn(c,u.id,"team2",N)]}),he()&&i.jsxs("div",{style:{marginTop:"5px",display:"flex",gap:"5px",justifyContent:"center",alignItems:"center"},children:[i.jsx("input",{type:"text",maxLength:"3",value:((v=(m=T[c])==null?void 0:m[u.id])==null?void 0:v.team1)||"",onChange:I=>hh(u.id,"team1",I.target.value),placeholder:"PIT",style:{width:"45px",padding:"4px",textAlign:"center",fontSize:"0.8rem",fontWeight:"bold",border:"2px solid #667eea",borderRadius:"4px"}}),i.jsx("span",{style:{fontSize:"0.8rem"},children:"@"}),i.jsx("input",{type:"text",maxLength:"3",value:((P=(b=T[c])==null?void 0:b[u.id])==null?void 0:P.team2)||"",onChange:I=>hh(u.id,"team2",I.target.value),placeholder:"BUF",style:{width:"45px",padding:"4px",textAlign:"center",fontSize:"0.8rem",fontWeight:"bold",border:"2px solid #667eea",borderRadius:"4px"}})]})]},u.id)}),i.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#e8f5e9",fontWeight:"bold",color:"#090909ff",minWidth:"60px",fontSize:"0.75rem",padding:"8px 4px"},children:[i.jsx("div",{style:{marginBottom:"2px"},children:"Correct"}),i.jsx("div",{style:{marginBottom:"4px"},children:"Picks"}),i.jsx("button",{onClick:()=>nn("correct"),style:{padding:"4px 8px",fontSize:"0.7rem",background:Z==="correct"?"#4caf50":"#f0f0f0",color:Z==="correct"?"#fff":"#000",border:"1px solid #ddd",borderRadius:"4px",cursor:"pointer",marginTop:"2px"},title:`Sort by correct picks ${Z==="correct"&&xe==="asc"?"(Low to High)":"(High to Low)"}`,children:Z==="correct"?xe==="asc"?"":"":""})]}),c==="superbowl"?i.jsxs(i.Fragment,{children:[i.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#fff3cd",fontWeight:"bold",color:"#000"},children:[he()?i.jsxs("div",{style:{marginBottom:"8px"},children:[i.jsxs("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"},children:["OFFICIAL ",H.superbowl_week4?"":"",H.superbowl_week4&&i.jsx("button",{onClick:()=>zs("superbowl_week4"),title:"Return to auto-calculation",style:{padding:"2px 6px",fontSize:"0.65rem",background:"#e74c3c",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"},children:"Clear"})]}),i.jsx("input",{type:"number",min:"0",value:kn("superbowl_week4","superbowl"),onChange:u=>Wr("superbowl_week4",u.target.value),placeholder:"Auto",title:H.superbowl_week4?"Manually overridden - click Clear to return to auto":"Auto-calculated - click to override",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:H.superbowl_week4?"2px solid #e74c3c":"2px solid #27ae60",borderRadius:"4px",color:"#000",backgroundColor:H.superbowl_week4?"#ffe5e5":"#e8f8f5"}})]}):i.jsxs("div",{style:{marginBottom:"8px"},children:[i.jsxs("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:["Official ",H.superbowl_week4?"":""]}),i.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:kn("superbowl_week4","superbowl")||"-"})]}),"Week 4",i.jsx("br",{}),"Total",i.jsx("div",{style:{marginTop:"6px"},children:i.jsx("button",{onClick:()=>nn("week4"),style:{padding:"4px 8px",fontSize:"0.7rem",background:Z==="week4"?"#4caf50":"#f0f0f0",color:Z==="week4"?"#fff":"#000",border:"1px solid #ddd",borderRadius:"4px",cursor:"pointer"},title:`Sort by Week 4 difference ${Z==="week4"&&xe==="asc"?"(Low to High)":"(High to Low)"}`,children:Z==="week4"?xe==="asc"?"":"":""})})]}),i.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#d1ecf1",fontWeight:"bold",color:"#000"},children:[he()?i.jsxs("div",{style:{marginBottom:"8px"},children:[i.jsxs("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"},children:["OFFICIAL ",H.superbowl_week3?"":"",H.superbowl_week3&&i.jsx("button",{onClick:()=>zs("superbowl_week3"),title:"Return to auto-calculation",style:{padding:"2px 6px",fontSize:"0.65rem",background:"#e74c3c",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"},children:"Clear"})]}),i.jsx("input",{type:"number",min:"0",value:kn("superbowl_week3","conference"),onChange:u=>Wr("superbowl_week3",u.target.value),placeholder:"Auto",title:H.superbowl_week3?"Manually overridden - click Clear to return to auto":"Auto-calculated - click to override",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:H.superbowl_week3?"2px solid #e74c3c":"2px solid #27ae60",borderRadius:"4px",color:"#000",backgroundColor:H.superbowl_week3?"#ffe5e5":"#e8f8f5"}})]}):i.jsxs("div",{style:{marginBottom:"8px"},children:[i.jsxs("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:["Official ",H.superbowl_week3?"":""]}),i.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:kn("superbowl_week3","conference")||"-"})]}),"Week 3",i.jsx("br",{}),"Total",i.jsx("div",{style:{marginTop:"6px"},children:i.jsx("button",{onClick:()=>nn("week3"),style:{padding:"4px 8px",fontSize:"0.7rem",background:Z==="week3"?"#4caf50":"#f0f0f0",color:Z==="week3"?"#fff":"#000",border:"1px solid #ddd",borderRadius:"4px",cursor:"pointer"},title:`Sort by Week 3 difference ${Z==="week3"&&xe==="asc"?"(Low to High)":"(High to Low)"}`,children:Z==="week3"?xe==="asc"?"":"":""})})]}),i.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#d4edda",fontWeight:"bold",color:"#000"},children:[he()?i.jsxs("div",{style:{marginBottom:"8px"},children:[i.jsxs("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"},children:["OFFICIAL ",H.superbowl_week2?"":"",H.superbowl_week2&&i.jsx("button",{onClick:()=>zs("superbowl_week2"),title:"Return to auto-calculation",style:{padding:"2px 6px",fontSize:"0.65rem",background:"#e74c3c",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"},children:"Clear"})]}),i.jsx("input",{type:"number",min:"0",value:kn("superbowl_week2","divisional"),onChange:u=>Wr("superbowl_week2",u.target.value),placeholder:"Auto",title:H.superbowl_week2?"Manually overridden - click Clear to return to auto":"Auto-calculated - click to override",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:H.superbowl_week2?"2px solid #e74c3c":"2px solid #27ae60",borderRadius:"4px",color:"#000",backgroundColor:H.superbowl_week2?"#ffe5e5":"#e8f8f5"}})]}):i.jsxs("div",{style:{marginBottom:"8px"},children:[i.jsxs("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:["Official ",H.superbowl_week2?"":""]}),i.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:kn("superbowl_week2","divisional")||"-"})]}),"Week 2",i.jsx("br",{}),"Total",i.jsx("div",{style:{marginTop:"6px"},children:i.jsx("button",{onClick:()=>nn("week2"),style:{padding:"4px 8px",fontSize:"0.7rem",background:Z==="week2"?"#4caf50":"#f0f0f0",color:Z==="week2"?"#fff":"#000",border:"1px solid #ddd",borderRadius:"4px",cursor:"pointer"},title:`Sort by Week 2 difference ${Z==="week2"&&xe==="asc"?"(Low to High)":"(High to Low)"}`,children:Z==="week2"?xe==="asc"?"":"":""})})]}),i.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#f8d7da",fontWeight:"bold",color:"#000"},children:[he()?i.jsxs("div",{style:{marginBottom:"8px"},children:[i.jsxs("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"},children:["OFFICIAL ",H.superbowl_week1?"":"",H.superbowl_week1&&i.jsx("button",{onClick:()=>zs("superbowl_week1"),title:"Return to auto-calculation",style:{padding:"2px 6px",fontSize:"0.65rem",background:"#e74c3c",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"},children:"Clear"})]}),i.jsx("input",{type:"number",min:"0",value:kn("superbowl_week1","wildcard"),onChange:u=>Wr("superbowl_week1",u.target.value),placeholder:"Auto",title:H.superbowl_week1?"Manually overridden - click Clear to return to auto":"Auto-calculated - click to override",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:H.superbowl_week1?"2px solid #e74c3c":"2px solid #27ae60",borderRadius:"4px",color:"#000",backgroundColor:H.superbowl_week1?"#ffe5e5":"#e8f8f5"}})]}):i.jsxs("div",{style:{marginBottom:"8px"},children:[i.jsxs("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:["Official ",H.superbowl_week1?"":""]}),i.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:kn("superbowl_week1","wildcard")||"-"})]}),"Week 1",i.jsx("br",{}),"Total",i.jsx("div",{style:{marginTop:"6px"},children:i.jsx("button",{onClick:()=>nn("week1"),style:{padding:"4px 8px",fontSize:"0.7rem",background:Z==="week1"?"#4caf50":"#f0f0f0",color:Z==="week1"?"#fff":"#000",border:"1px solid #ddd",borderRadius:"4px",cursor:"pointer"},title:`Sort by Week 1 difference ${Z==="week1"&&xe==="asc"?"(Low to High)":"(High to Low)"}`,children:Z==="week1"?xe==="asc"?"":"":""})})]}),i.jsxs("th",{rowSpan:"2",className:"grand-total",children:[he()?i.jsxs("div",{style:{marginBottom:"8px"},children:[i.jsxs("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"},children:[H.superbowl_grand?"":""," over",H.superbowl_grand&&i.jsx("button",{onClick:()=>zs("superbowl_grand"),title:"Return to auto-calculation",style:{padding:"2px 6px",fontSize:"0.65rem",background:"#e74c3c",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"},children:"Clear"})]}),i.jsx("input",{type:"number",min:"0",value:gh(),onChange:u=>Wr("superbowl_grand",u.target.value),placeholder:"Auto",title:H.superbowl_grand?"Manually overridden - click Clear to return to auto":"Auto-calculated - click to override",style:{width:"70px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:H.superbowl_grand?"3px solid #e74c3c":"3px solid #27ae60",borderRadius:"4px",backgroundColor:H.superbowl_grand?"#ffe5e5":"#e8f8f5",color:"#000"}})]}):i.jsxs("div",{style:{marginBottom:"8px"},children:[i.jsxs("div",{style:{fontSize:"0.7rem",color:"#fff",marginBottom:"2px"},children:[H.superbowl_grand?" ":" ","Official"]}),i.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"#fff"},children:gh()||"-"})]}),"GRAND",i.jsx("br",{}),"TOTAL",i.jsx("div",{style:{marginTop:"6px"},children:i.jsx("button",{onClick:()=>nn("grand"),style:{padding:"4px 8px",fontSize:"0.7rem",background:Z==="grand"?"#4caf50":"#f0f0f0",color:Z==="grand"?"#fff":"#000",border:"1px solid #ddd",borderRadius:"4px",cursor:"pointer"},title:`Sort by Grand Total difference ${Z==="grand"&&xe==="asc"?"(Low to High)":"(High to Low)"}`,children:Z==="grand"?xe==="asc"?"":"":""})})]})]}):i.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#f8f9fa",fontWeight:"bold",color:"#000"},children:[!E[c]&&(()=>{const u=Ee.games.reduce((y,m)=>{var P,I,A,D;const v=parseInt((I=(P=g[c])==null?void 0:P[m.id])==null?void 0:I.team1)||0,b=parseInt((D=(A=g[c])==null?void 0:A[m.id])==null?void 0:D.team2)||0;return y+v+b},0);return i.jsxs("div",{style:{fontSize:"1.05rem",color:"#131515ff",marginBottom:"6px",fontWeight:"700"},children:["Actual Total: ",u>0?u:"-"]})})(),he()?i.jsx("div",{style:{marginBottom:"8px"},children:i.jsx("input",{type:"number",min:"0",value:E[c]||"",onChange:u=>Wr(c,u.target.value),placeholder:"override",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"0.9rem",fontWeight:"bold",border:"2px solid #f39c12",borderRadius:"4px",color:"#000"}})}):null,E[c]&&i.jsxs("div",{style:{marginBottom:"8px"},children:[i.jsx("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:"Official"}),i.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:E[c]})]}),"Official",i.jsx("br",{}),"Total",i.jsx("div",{style:{marginTop:"6px"},children:i.jsx("button",{onClick:()=>nn("difference"),style:{padding:"4px 8px",fontSize:"0.7rem",background:Z==="difference"?"#4caf50":"#f0f0f0",color:Z==="difference"?"#fff":"#000",border:"1px solid #ddd",borderRadius:"4px",cursor:"pointer"},title:`Sort by difference ${Z==="difference"&&xe==="asc"?"(Low to High)":"(High to Low)"}`,children:Z==="difference"?xe==="asc"?"":"":""})})]}),i.jsxs("th",{rowSpan:"2",children:["Submitted",i.jsx("div",{style:{marginTop:"4px"},children:i.jsx("button",{onClick:()=>nn("timestamp"),style:{padding:"4px 8px",fontSize:"0.7rem",background:Z==="timestamp"?"#4caf50":"#f0f0f0",color:Z==="timestamp"?"#fff":"#000",border:"1px solid #ddd",borderRadius:"4px",cursor:"pointer"},title:`Sort by submission time ${Z==="timestamp"&&xe==="asc"?"(Oldest First)":"(Newest First)"}`,children:Z==="timestamp"?xe==="asc"?"":"":""})})]})]}),i.jsx("tr",{style:{background:"#ffffff",borderTop:"3px solid #4caf50",borderBottom:"3px solid #4caf50"},children:Ee.games.map((u,y)=>{var m,v,b,P,I,A,D,z,Y,G,Q;return i.jsxs(cc.Fragment,{children:[i.jsx("th",{style:{padding:"8px 4px",background:"#ffffff",borderLeft:y>0?"4px solid #2c3e50":"1px solid #ddd",paddingLeft:y>0?"12px":"4px"},children:he()?i.jsxs("div",{children:[i.jsx("input",{type:"number",min:"0",max:"99",value:((v=(m=g[c])==null?void 0:m[u.id])==null?void 0:v.team1)||"",onChange:X=>fh(u.id,"team1",X.target.value),placeholder:"-",style:{width:"50px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #4caf50",borderRadius:"4px",color:"#000",background:"#f0fff0"}}),i.jsx("div",{style:{fontSize:"0.75rem",marginTop:"3px",color:"#000",fontWeight:"700"},children:"ACTUAL"})]}):i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#000"},children:((P=(b=g[c])==null?void 0:b[u.id])==null?void 0:P.team1)||"-"}),i.jsx("div",{style:{fontSize:"0.75rem",color:"#000",fontWeight:"700"},children:"ACTUAL"})]})}),i.jsx("th",{style:{padding:"8px 4px",background:"#ffffff",borderRight:"1px solid #ddd"},children:he()?i.jsxs("div",{children:[i.jsx("input",{type:"number",min:"0",max:"99",value:((A=(I=g[c])==null?void 0:I[u.id])==null?void 0:A.team2)||"",onChange:X=>fh(u.id,"team2",X.target.value),placeholder:"-",style:{width:"50px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #4caf50",borderRadius:"4px",color:"#000",background:"#f0fff0"}}),i.jsx("div",{style:{fontSize:"0.75rem",marginTop:"3px",color:"#000",fontWeight:"700"},children:"ACTUAL"}),i.jsxs("select",{value:((D=x[c])==null?void 0:D[u.id])||"",onChange:X=>Gx(u.id,X.target.value),style:{width:"60px",padding:"2px",fontSize:"0.7rem",marginTop:"4px",borderRadius:"3px",border:"1px solid #999"},children:[i.jsx("option",{value:"",children:"--"}),i.jsx("option",{value:"live",children:" LIVE"}),i.jsx("option",{value:"final",children:" FINAL"})]})]}):i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#000"},children:((Y=(z=g[c])==null?void 0:z[u.id])==null?void 0:Y.team2)||"-"}),i.jsx("div",{style:{fontSize:"0.75rem",color:"#000",fontWeight:"700"},children:"ACTUAL"}),((G=x[c])==null?void 0:G[u.id])==="final"&&i.jsx("div",{style:{display:"inline-block",padding:"2px 6px",background:"#4caf50",color:"white",borderRadius:"3px",fontSize:"0.65rem",fontWeight:"bold",marginTop:"4px"},children:" FINAL"}),((Q=x[c])==null?void 0:Q[u.id])==="live"&&i.jsx("div",{style:{display:"inline-block",padding:"2px 6px",background:"#ff9800",color:"white",borderRadius:"3px",fontSize:"0.65rem",fontWeight:"bold",marginTop:"4px"},children:" LIVE"})]})})]},`actual-${u.id}`)})})]}),i.jsx("tbody",{children:(()=>{const u=(()=>{if(c==="superbowl"){const m=new Map;return f.forEach(v=>{if(!m.has(v.playerCode)){const b=f.find(P=>P.playerCode===v.playerCode&&P.week==="superbowl");m.set(v.playerCode,b||{playerName:v.playerName,playerCode:v.playerCode,week:"superbowl",predictions:{},timestamp:v.timestamp,lastUpdated:v.lastUpdated||v.timestamp})}}),po.forEach(v=>{v.showInPicksTable===!0&&!m.has(v.playerCode)&&m.set(v.playerCode,{playerName:v.playerName,playerCode:v.playerCode,week:"superbowl",predictions:{},timestamp:Date.now(),lastUpdated:Date.now()})}),Array.from(m.values())}else{const m=f.filter(b=>b.week===c),v=new Set(m.map(b=>b.playerCode));return po.forEach(b=>{b.showInPicksTable===!0&&!v.has(b.playerCode)&&m.push({playerName:b.playerName,playerCode:b.playerCode,week:c,predictions:{},timestamp:Date.now(),lastUpdated:Date.now()})}),m}})();return(Z?Kx(u):u.sort((m,v)=>(v.lastUpdated||v.timestamp)-(m.lastUpdated||m.timestamp))).map((m,v)=>{var I;const b=A=>{var ge;const D=(ge=g[c])==null?void 0:ge[A],z=m.predictions[A];if(!D||!z)return!1;const Y=parseInt(D.team1),G=parseInt(D.team2),Q=parseInt(z.team1),X=parseInt(z.team2);if(isNaN(Y)||isNaN(G))return!1;const re=Y>G?"team1":G>Y?"team2":"tie",oe=Q>X?"team1":X>Q?"team2":"tie";return re===oe&&re!=="tie"},P=m.enteredBy==="POOL_MANAGER_RNG";return i.jsxs("tr",{className:P?"rng-pick-row":"",children:[i.jsxs("td",{className:"player-name",children:[m.playerName,P&&i.jsx("span",{className:"rng-indicator",title:"Picks generated by Pool Manager (missed deadline)",children:""})]}),Ee.games.map((A,D)=>{var re,oe,ge,jt;const z=m.predictions[A.id],Y=(re=g[c])==null?void 0:re[A.id],G=(oe=x[c])==null?void 0:oe[A.id],Q=ah(z==null?void 0:z.team1,z==null?void 0:z.team2,Y==null?void 0:Y.team1,Y==null?void 0:Y.team2,G,!0),X=ah(z==null?void 0:z.team1,z==null?void 0:z.team2,Y==null?void 0:Y.team1,Y==null?void 0:Y.team2,G,!1);return i.jsxs(cc.Fragment,{children:[i.jsx("td",{className:"score",style:{background:Q.background,color:Q.color,fontWeight:Q.background!=="transparent"?"bold":"normal",borderLeft:D>0?"4px solid #2c3e50":"none",paddingLeft:D>0?"12px":"8px"},children:((ge=m.predictions[A.id])==null?void 0:ge.team1)||"-"}),i.jsx("td",{className:"score",style:{background:X.background,color:X.color,fontWeight:X.background!=="transparent"?"bold":"normal"},children:((jt=m.predictions[A.id])==null?void 0:jt.team2)||"-"})]},`${v}-${A.id}`)}),(()=>{let A=0;return c==="superbowl"?["wildcard","divisional","conference","superbowl"].forEach(z=>{const Y=g[z];if(Y&&Object.values(Y).some(Q=>Q&&Q.team1!==null&&Q.team1!==void 0&&Q.team1!==""&&Q.team1!==0&&Q.team2!==null&&Q.team2!==void 0&&Q.team2!==""&&Q.team2!==0)){const Q=f.find(X=>X.playerCode===m.playerCode&&X.week===z);Q&&Q.predictions&&Object.keys(Y).forEach(X=>{const re=Y[X],oe=Q.predictions[X];if(oe&&re&&re.team1&&re.team2&&oe.team1&&oe.team2){const ge=parseInt(re.team1),jt=parseInt(re.team2),Lr=parseInt(oe.team1),Or=parseInt(oe.team2);if(!isNaN(ge)&&!isNaN(jt)){const $s=ge>jt?"team1":jt>ge?"team2":"tie",yo=Lr>Or?"team1":Or>Lr?"team2":"tie";$s===yo&&$s!=="tie"&&A++}}})}}):Ee.games.forEach(D=>{b(D.id)&&A++}),i.jsx("td",{style:{backgroundColor:"#f1f8f4",fontWeight:"bold",fontSize:"1rem",color:A>0?"#2e7d32":"#999",textAlign:"center",padding:"8px 4px"},children:A})})(),c==="superbowl"?i.jsx(i.Fragment,{children:(()=>{const A=Dr(m.playerCode,"superbowl"),D=Dr(m.playerCode,"conference"),z=Dr(m.playerCode,"divisional"),Y=Dr(m.playerCode,"wildcard"),G=va(m.playerCode);return i.jsxs(i.Fragment,{children:[i.jsx("td",{style:{backgroundColor:"#fff3cd",fontWeight:"bold",fontSize:A.fontSize},title:A.tooltip,children:i.jsx("span",{style:{color:"#000"},children:A.display})}),i.jsx("td",{style:{backgroundColor:"#d1ecf1",fontWeight:"bold",fontSize:D.fontSize},title:D.tooltip,children:i.jsx("span",{style:{color:"#000"},children:D.display})}),i.jsx("td",{style:{backgroundColor:"#d4edda",fontWeight:"bold",fontSize:z.fontSize},title:z.tooltip,children:i.jsx("span",{style:{color:"#000"},children:z.display})}),i.jsx("td",{style:{backgroundColor:"#f8d7da",fontWeight:"bold",fontSize:Y.fontSize},title:Y.tooltip,children:i.jsx("span",{style:{color:"#000"},children:Y.display})}),i.jsx("td",{className:"grand-total",style:{fontSize:G.fontSize},title:G.tooltip,children:G.display})]})})()}):i.jsx("td",{style:{backgroundColor:"#f8f9fa",fontWeight:"bold",fontSize:"16px"},children:i.jsx("span",{style:{color:"#000"},children:((I=wa[m.playerName])==null?void 0:I.current)||"0"})}),i.jsx("td",{className:"timestamp",children:new Date(m.lastUpdated||m.timestamp).toLocaleString("en-US",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})})]},v)})})()})]}),i.jsxs("div",{style:{marginTop:"15px",padding:"12px 20px",background:"#f8f9fa",border:"2px solid #dee2e6",borderRadius:"8px",fontSize:"0.9rem",color:"#495057",display:"flex",alignItems:"center",gap:"8px"},children:[i.jsx("span",{style:{fontSize:"1.2rem"},children:""}),i.jsx("span",{style:{fontWeight:"600"},children:"= Picks randomly generated by Pool Manager (player missed deadline)"})]}),i.jsxs("div",{style:{marginTop:"10px",padding:"10px 15px",background:"#e8f5e9",border:"1px solid #81c784",borderRadius:"6px",fontSize:"0.85rem",color:"#2e7d32"},children:[i.jsx("strong",{children:"Official Total Format:"}),i.jsxs("span",{style:{marginLeft:"8px"},children:[i.jsx("strong",{children:"333/14"})," = Predicted 333 pts, Off by 14 pts"]}),i.jsx("span",{style:{marginLeft:"15px",color:"#666"},children:"|"}),i.jsxs("span",{style:{marginLeft:"8px"},children:[i.jsx("strong",{children:"333"})," = Predicted 333 pts (week not played yet)"]})]})]}),l&&i.jsxs(i.Fragment,{children:[c==="superbowl"&&i.jsxs("div",{style:{marginTop:"40px",marginBottom:"40px",padding:"30px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"12px",border:"3px solid #5a67d8",boxShadow:"0 8px 20px rgba(0,0,0,0.15)"},children:[i.jsx("h3",{style:{color:"#fff",marginBottom:"20px",fontSize:"1.4rem",display:"flex",alignItems:"center",gap:"10px"},children:" Format Guide - How to Read the Totals"}),i.jsxs("div",{style:{background:"rgba(255,255,255,0.95)",padding:"25px",borderRadius:"10px",color:"#333"},children:[i.jsxs("div",{style:{marginBottom:"25px"},children:[i.jsx("p",{style:{fontWeight:"bold",color:"#5a67d8",marginBottom:"12px",fontSize:"1.1rem"},children:"Weekly Totals Format:"}),i.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0,lineHeight:"2.2"},children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Before Week is Played:"})," ",i.jsx("code",{style:{background:"#f0f4f8",padding:"4px 10px",borderRadius:"5px",fontWeight:"bold",color:"#2d3748"},children:"333"})," - Shows your predicted total"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"After Week is Played:"})," ",i.jsx("code",{style:{background:"#f0f4f8",padding:"4px 10px",borderRadius:"5px",fontWeight:"bold",color:"#2d3748"},children:"333/14"})," - Prediction / How far off"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Week Not Entered:"})," ",i.jsx("code",{style:{background:"#f0f4f8",padding:"4px 10px",borderRadius:"5px",fontWeight:"bold",color:"#2d3748"},children:"-"})," - Dash means no picks made"]})]})]}),i.jsxs("div",{style:{marginBottom:"25px"},children:[i.jsx("p",{style:{fontWeight:"bold",color:"#5a67d8",marginBottom:"12px",fontSize:"1.1rem"},children:"Grand Total Format (Shows ONLY Completed Weeks):"}),i.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0,lineHeight:"2.2"},children:[i.jsx("li",{children:i.jsx("code",{style:{background:"#f0f4f8",padding:"4px 10px",borderRadius:"5px",fontWeight:"bold",color:"#2d3748"},children:"579/39"})}),i.jsxs("li",{style:{marginLeft:"20px",fontSize:"0.95rem"},children:[" ",i.jsx("strong",{children:"First Number (579):"})," Sum of predictions for completed weeks"]}),i.jsxs("li",{style:{marginLeft:"20px",fontSize:"0.95rem"},children:[" ",i.jsx("strong",{children:"Second Number (39):"})," Sum of differences for completed weeks"]})]})]}),i.jsxs("div",{style:{marginBottom:"15px"},children:[i.jsx("p",{style:{fontWeight:"bold",color:"#5a67d8",marginBottom:"12px",fontSize:"1.1rem"},children:"Examples:"}),i.jsxs("div",{style:{marginBottom:"20px",padding:"15px",background:"#e6f7ff",borderRadius:"8px",border:"1px solid #91d5ff"},children:[i.jsx("p",{style:{fontWeight:"bold",marginBottom:"8px",color:"#0050b3"},children:"Richard - Only Week 1 Complete:"}),i.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0,lineHeight:"1.8"},children:[i.jsxs("li",{children:["Week 1: ",i.jsx("code",{style:{background:"#fff",padding:"2px 8px",borderRadius:"4px",fontWeight:"bold"},children:"333/14"}),"  Played"]}),i.jsxs("li",{children:["Week 2: ",i.jsx("code",{style:{background:"#fff",padding:"2px 8px",borderRadius:"4px",fontWeight:"bold"},children:"246"}),"  Not played (shows prediction)"]}),i.jsxs("li",{children:["Week 3: ",i.jsx("code",{style:{background:"#fff",padding:"2px 8px",borderRadius:"4px",fontWeight:"bold"},children:"108"}),"  Not played (shows prediction)"]}),i.jsxs("li",{children:["Week 4: ",i.jsx("code",{style:{background:"#fff",padding:"2px 8px",borderRadius:"4px",fontWeight:"bold"},children:"54"}),"  Not played (shows prediction)"]}),i.jsxs("li",{style:{marginTop:"8px",fontWeight:"bold"},children:["GRAND: ",i.jsx("code",{style:{background:"#52c41a",color:"white",padding:"2px 8px",borderRadius:"4px",fontWeight:"bold"},children:"333/14"}),"  Only Week 1"]})]})]}),i.jsxs("div",{style:{marginBottom:"20px",padding:"15px",background:"#fff7e6",borderRadius:"8px",border:"1px solid #ffd591"},children:[i.jsx("p",{style:{fontWeight:"bold",marginBottom:"8px",color:"#d46b08"},children:"Richard - Weeks 1 & 2 Complete:"}),i.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0,lineHeight:"1.8"},children:[i.jsxs("li",{children:["Week 1: ",i.jsx("code",{style:{background:"#fff",padding:"2px 8px",borderRadius:"4px",fontWeight:"bold"},children:"333/14"}),"  Played"]}),i.jsxs("li",{children:["Week 2: ",i.jsx("code",{style:{background:"#fff",padding:"2px 8px",borderRadius:"4px",fontWeight:"bold"},children:"246/25"}),"  Played"]}),i.jsxs("li",{children:["Week 3: ",i.jsx("code",{style:{background:"#fff",padding:"2px 8px",borderRadius:"4px",fontWeight:"bold"},children:"108"}),"  Not played (shows prediction)"]}),i.jsxs("li",{children:["Week 4: ",i.jsx("code",{style:{background:"#fff",padding:"2px 8px",borderRadius:"4px",fontWeight:"bold"},children:"54"}),"  Not played (shows prediction)"]}),i.jsxs("li",{style:{marginTop:"8px",fontWeight:"bold"},children:["GRAND: ",i.jsx("code",{style:{background:"#52c41a",color:"white",padding:"2px 8px",borderRadius:"4px",fontWeight:"bold"},children:"579/39"}),"  Week 1+2 (333+246=579, 14+25=39)"]})]})]})]}),i.jsxs("div",{style:{marginBottom:"15px"},children:[i.jsx("p",{style:{fontWeight:"bold",color:"#5a67d8",marginBottom:"12px",fontSize:"1.1rem"},children:"Special Indicators:"}),i.jsx("ul",{style:{listStyle:"none",padding:0,margin:0,lineHeight:"2.2"},children:i.jsxs("li",{children:[i.jsx("strong",{children:" Dice Icon:"})," Picks randomly generated by Pool Manager (player missed deadline)"]})})]}),i.jsx("div",{style:{paddingTop:"20px",borderTop:"2px solid #cbd5e0",marginTop:"15px"},children:i.jsxs("p",{style:{color:"#4a5568",fontStyle:"italic",fontSize:"1rem",margin:0},children:[" ",i.jsx("strong",{children:"Key Point:"})," Grand Total only includes completed weeks! Your future week predictions are visible but don't affect Grand Total until those weeks are played."]})})]})]}),i.jsx("div",{style:{marginTop:"60px"},children:i.jsx(Ub,{allPicks:f,actualScores:g,games:Te,officialWinners:uo,weekData:Te})})]}),l&&he()&&i.jsxs("div",{style:{marginTop:"40px",marginBottom:"40px"},children:[i.jsxs("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"25px",borderRadius:"12px",marginBottom:"30px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[i.jsxs("h2",{style:{margin:"0 0 15px 0",display:"flex",alignItems:"center",gap:"10px"},children:[i.jsx("span",{children:""}),i.jsx("span",{children:"PRIZE POOL MANAGEMENT"})]}),He.totalFees>0?i.jsxs("div",{children:[i.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:"20px",borderRadius:"8px",marginBottom:"15px"},children:[i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"20px",marginBottom:"15px"},children:[i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:"0.85rem",opacity:.9},children:"Total Pool Fees"}),i.jsxs("div",{style:{fontSize:"1.8rem",fontWeight:"bold"},children:["$",He.totalFees.toFixed(2)]})]}),i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:"0.85rem",opacity:.9},children:"Number of Players"}),i.jsx("div",{style:{fontSize:"1.8rem",fontWeight:"bold"},children:He.numberOfPlayers})]}),i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:"0.85rem",opacity:.9},children:"Each Prize (10%)"}),i.jsxs("div",{style:{fontSize:"1.8rem",fontWeight:"bold"},children:["$",He.prizeValue.toFixed(2)]})]})]}),i.jsxs("div",{style:{fontSize:"0.85rem",opacity:.8},children:["Entry Fee: $",He.entryFee," per player"]})]}),i.jsx("button",{onClick:()=>ho(!0),style:{padding:"10px 20px",background:"rgba(255,255,255,0.3)",color:"white",border:"2px solid white",borderRadius:"6px",cursor:"pointer",fontWeight:"600"},children:" Edit Prize Pool Setup"})]}):i.jsxs("div",{children:[i.jsx("p",{style:{marginBottom:"15px"},children:" Set up your prize pool to enable winner declarations."}),i.jsx("button",{onClick:()=>ho(!0),style:{padding:"12px 24px",background:"white",color:"#667eea",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"700",fontSize:"1rem"},children:" Set Up Prize Pool"})]})]}),He.totalFees>0&&i.jsxs("div",{style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"white",padding:"25px",borderRadius:"12px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[i.jsxs("h2",{style:{margin:"0 0 20px 0",display:"flex",alignItems:"center",gap:"10px"},children:[i.jsx("span",{children:""}),i.jsx("span",{children:"DECLARE PRIZE WINNERS"})]}),i.jsx("button",{onClick:()=>ga(!0),style:{padding:"14px 28px",background:"white",color:"#f5576c",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"700",fontSize:"1.1rem",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:" Declare Winner(s) for a Prize"}),Object.keys(uo).length>0&&i.jsxs("div",{style:{marginTop:"25px"},children:[i.jsx("h3",{style:{marginBottom:"15px",fontSize:"1.1rem"},children:" Current Prize Winners:"}),i.jsx("div",{style:{background:"rgba(255,255,255,0.2)",padding:"15px",borderRadius:"8px",maxHeight:"400px",overflowY:"auto"},children:Object.entries(uo).sort((u,y)=>{const m=u[1].prizeNumber,v=y[1].prizeNumber;return m-v}).map(([u,y])=>i.jsxs("div",{style:{background:"rgba(255,255,255,0.9)",color:"#333",padding:"15px",borderRadius:"6px",marginBottom:"12px"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"10px"},children:[i.jsxs("div",{children:[i.jsx("div",{style:{fontWeight:"bold",fontSize:"1rem",marginBottom:"5px"},children:y.prizeName}),i.jsxs("div",{style:{fontSize:"0.9rem",color:"#666"},children:["Prize Value: $",y.prizeValue.toFixed(2)]})]}),i.jsx("button",{onClick:()=>Fx(y.prizeNumber),style:{padding:"6px 12px",background:"#e74c3c",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.85rem",fontWeight:"600"},children:" Delete"})]}),i.jsx("div",{style:{paddingLeft:"15px"},children:y.winners.map((m,v)=>i.jsxs("div",{style:{padding:"8px 0",borderBottom:v<y.winners.length-1?"1px solid #eee":"none"},children:[i.jsxs("span",{style:{fontWeight:"600"},children:[" ",m.playerName]}),i.jsxs("span",{style:{marginLeft:"15px",color:"#666"},children:[m.percentage.toFixed(2),"% = $",m.amount.toFixed(2)]})]},v))})]},u))})]})]})]}),vx&&i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},children:i.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"30px",maxWidth:"600px",width:"100%",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 8px 32px rgba(0,0,0,0.3)"},children:[i.jsx("h2",{style:{marginTop:0,color:"#667eea"},children:" Prize Pool Setup"}),i.jsxs("div",{style:{marginBottom:"20px"},children:[i.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Total Pool Fees Collected:"}),i.jsx("input",{type:"number",id:"totalFees",defaultValue:He.totalFees||"",placeholder:"1000",style:{width:"100%",padding:"12px",fontSize:"1.1rem",border:"2px solid #667eea",borderRadius:"6px"}}),i.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginTop:"5px"},children:"Total money collected from all players"})]}),i.jsxs("div",{style:{marginBottom:"20px"},children:[i.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Number of Players:"}),i.jsx("input",{type:"number",id:"numberOfPlayers",defaultValue:He.numberOfPlayers||"",placeholder:"50",style:{width:"100%",padding:"12px",fontSize:"1.1rem",border:"2px solid #667eea",borderRadius:"6px"}}),i.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginTop:"5px"},children:"Total number of players in the pool"})]}),i.jsxs("div",{style:{marginBottom:"20px"},children:[i.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Entry Fee per Player:"}),i.jsx("input",{type:"number",id:"entryFee",defaultValue:He.entryFee||20,placeholder:"20",style:{width:"100%",padding:"12px",fontSize:"1.1rem",border:"2px solid #667eea",borderRadius:"6px"}}),i.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginTop:"5px"},children:"Amount each player paid to enter ($20, $50, etc.)"})]}),i.jsxs("div",{style:{background:"#f0f8ff",padding:"15px",borderRadius:"8px",marginBottom:"20px"},children:[i.jsx("div",{style:{fontWeight:"600",marginBottom:"10px"},children:" Calculation Preview:"}),i.jsxs("div",{style:{fontSize:"0.9rem",lineHeight:"1.6"},children:["Each Prize = Total Pool  10",i.jsx("br",{}),i.jsx("span",{id:"prizePreview",style:{fontWeight:"bold",color:"#667eea"},children:"Example: $1,000  10 = $100 per prize"})]})]}),i.jsxs("div",{style:{display:"flex",gap:"10px"},children:[i.jsx("button",{onClick:()=>ho(!1),style:{flex:"1",padding:"14px",background:"#95a5a6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Cancel"}),i.jsx("button",{onClick:()=>{const u=document.getElementById("totalFees").value,y=document.getElementById("numberOfPlayers").value,m=document.getElementById("entryFee").value;if(!u||u<=0){alert(" Please enter a valid total pool amount.");return}Mx(u,y,m)},style:{flex:"1",padding:"14px",background:"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Save Prize Pool"})]})]})}),wx&&i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},children:i.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"30px",maxWidth:"700px",width:"100%",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 8px 32px rgba(0,0,0,0.3)"},children:[i.jsx("h2",{style:{marginTop:0,color:"#f5576c"},children:" Declare Prize Winner(s)"}),i.jsxs("div",{style:{marginBottom:"20px"},children:[i.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Select Prize:"}),i.jsxs("select",{value:Ot,onChange:u=>fa(u.target.value),style:{width:"100%",padding:"12px",fontSize:"1rem",border:"2px solid #f5576c",borderRadius:"6px"},children:[i.jsx("option",{value:"",children:"-- Select Prize --"}),[1,2,3,4,5,6,7,8,9,10].map(u=>i.jsx("option",{value:u,children:Ms(u)},u))]}),Ot&&i.jsxs("div",{style:{marginTop:"8px",fontSize:"0.9rem",color:"#666"},children:["Prize Value: $",He.prizeValue.toFixed(2)," (10% of pool)"]})]}),Ot&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{style:{marginBottom:"20px"},children:[i.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Number of Winners (Tie?):"}),i.jsx("input",{type:"number",min:"1",max:"10",value:Pr,onChange:u=>{const y=parseInt(u.target.value)||1;pa(y),fo(Array(y).fill(null).map(()=>({name:"",code:""})));const m=mo(He.prizeValue,y);Is(m)},style:{width:"100%",padding:"12px",fontSize:"1rem",border:"2px solid #f5576c",borderRadius:"6px"}}),i.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginTop:"5px"},children:"How many players are tied? (1 = single winner, 2+ = tie)"})]}),i.jsxs("div",{style:{marginBottom:"20px"},children:[i.jsx("label",{style:{display:"block",marginBottom:"12px",fontWeight:"600"},children:"Select Winner(s):"}),Array(Pr).fill(0).map((u,y)=>{var v,b,P;const m=_n?null:mo(He.prizeValue,Pr)[y];return i.jsxs("div",{style:{background:"#f8f9fa",padding:"15px",borderRadius:"8px",marginBottom:"12px"},children:[i.jsxs("div",{style:{marginBottom:"10px",fontWeight:"600"},children:["Winner ",y+1,":"]}),i.jsxs("select",{value:((v=Et[y])==null?void 0:v.code)||"",onChange:I=>{const A=Object.entries(ke).find(([z])=>z===I.target.value),D=[...Et];D[y]={code:I.target.value,name:A?A[1]:""},fo(D)},style:{width:"100%",padding:"10px",fontSize:"1rem",border:"1px solid #ddd",borderRadius:"6px",marginBottom:"8px"},children:[i.jsx("option",{value:"",children:"-- Select Player --"}),Object.entries(ke).sort((I,A)=>I[1].localeCompare(A[1])).map(([I,A])=>i.jsx("option",{value:I,children:A},I))]}),!_n&&m&&i.jsxs("div",{style:{fontSize:"0.9rem",color:"#666"},children:["Share: ",m.percentage.toFixed(2),"% = $",m.amount.toFixed(2),y===Pr-1&&Pr>1&&i.jsx("span",{style:{marginLeft:"10px",fontSize:"0.85rem",color:"#f5576c"},children:"(includes extra penny)"})]}),_n&&i.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"8px"},children:[i.jsx("input",{type:"number",placeholder:"%",step:"0.01",value:((b=Kt[y])==null?void 0:b.percentage)||"",onChange:I=>{const A=[...Kt],D=parseFloat(I.target.value)||0;A[y]={...A[y],percentage:D,amount:He.prizeValue*D/100},Is(A)},style:{flex:"1",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"}}),i.jsx("input",{type:"number",placeholder:"$",step:"0.01",value:((P=Kt[y])==null?void 0:P.amount)||"",onChange:I=>{const A=[...Kt],D=parseFloat(I.target.value)||0;A[y]={...A[y],amount:D,percentage:D/He.prizeValue*100},Is(A)},style:{flex:"1",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"}})]})]},y)})]}),i.jsx("div",{style:{marginBottom:"20px"},children:i.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer"},children:[i.jsx("input",{type:"checkbox",checked:_n,onChange:u=>ma(u.target.checked),style:{width:"18px",height:"18px"}}),i.jsx("span",{style:{fontWeight:"600"},children:"Use custom percentages/amounts (manual override)"})]})}),i.jsxs("div",{style:{background:"#fff3cd",border:"2px solid #ffc107",padding:"15px",borderRadius:"8px",marginBottom:"20px",color:"#000"},children:[i.jsx("div",{style:{fontWeight:"700",marginBottom:"10px",color:"#000",fontSize:"1.05rem"},children:" Summary:"}),Et.every(u=>u.name)?i.jsxs("div",{style:{color:"#000"},children:[Et.map((u,y)=>{const m=_n?Kt[y]:mo(He.prizeValue,Pr)[y];return i.jsxs("div",{style:{marginBottom:"5px",color:"#000",fontWeight:"600"},children:[" ",u.name,": ",m==null?void 0:m.percentage.toFixed(2),"% = $",m==null?void 0:m.amount.toFixed(2)]},y)}),i.jsxs("div",{style:{marginTop:"10px",paddingTop:"10px",borderTop:"2px solid #856404",fontWeight:"700",color:"#000"},children:["Total: ",_n?Kt.reduce((u,y)=>u+(y.percentage||0),0).toFixed(2):"100.00","% = $",_n?Kt.reduce((u,y)=>u+(y.amount||0),0).toFixed(2):He.prizeValue.toFixed(2)]})]}):i.jsx("div",{style:{color:"#856404",fontWeight:"600"},children:"Select all winners to see summary"})]})]}),i.jsxs("div",{style:{display:"flex",gap:"10px"},children:[i.jsx("button",{onClick:()=>{ga(!1),fa(""),pa(1),fo([]),ma(!1),Is([])},style:{flex:"1",padding:"14px",background:"#95a5a6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Cancel"}),i.jsx("button",{onClick:zx,disabled:!Ot||!Et.every(u=>u.name),style:{flex:"1",padding:"14px",background:Ot&&Et.every(u=>u.name)?"#f5576c":"#ccc",color:"white",border:"none",borderRadius:"6px",cursor:Ot&&Et.every(u=>u.name)?"pointer":"not-allowed",fontSize:"1rem",fontWeight:"700"},children:" Declare Winner(s)"})]})]})}),nr==="unsavedChanges"&&i.jsx(Wb,{currentWeek:Te[c].name,onDiscard:()=>{d(co),go(co),tt(null)},onSaveAndSwitch:async()=>{await vh(new Event("submit")),setTimeout(()=>{d(co),go(co),tt(null),ha(null)},100)},onCancel:()=>{ha(null),tt(null)}}),nr==="discardChanges"&&i.jsx(Db,{onKeepEditing:()=>tt(null),onDiscard:()=>{h({...ya}),wn(!1),tt(null)}}),nr==="incomplete"&&i.jsx(Lb,{missingGames:nh,totalGames:Ee.games.length,onClose:()=>tt(null)}),nr==="invalidScores"&&i.jsx(Ob,{invalidScores:gx,onClose:()=>tt(null)}),nr==="success"&&i.jsx(Mb,{weekName:Ee.name,deadline:Ee.deadline,onClose:()=>tt(null)}),nr==="noChanges"&&i.jsx(zb,{onClose:()=>tt(null)}),nr==="tiedGames"&&i.jsx(Fb,{tiedGames:nh,gameData:Ee.games,onClose:()=>tt(null)})]})]})]}),mx&&i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},onClick:()=>ao(!1),children:i.jsxs("div",{style:{background:"white",borderRadius:"16px",maxWidth:"900px",width:"100%",maxHeight:"90vh",overflow:"auto",padding:"30px",boxShadow:"0 20px 60px rgba(0,0,0,0.3)"},onClick:u=>u.stopPropagation(),children:[i.jsxs("div",{style:{marginBottom:"25px"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"10px"},children:[i.jsxs("h2",{style:{fontSize:"1.8rem",margin:0,color:"#000",display:"flex",alignItems:"center",gap:"10px"},children:[" NFL Scoring Guide",i.jsx("span",{style:{fontSize:"0.6rem",padding:"4px 12px",background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"white",borderRadius:"20px",fontWeight:"500"},children:"2025 Regular Season Data"})]}),i.jsx("button",{onClick:()=>ao(!1),style:{padding:"8px 16px",fontSize:"1rem",fontWeight:"bold",color:"white",background:"#e74c3c",border:"none",borderRadius:"8px",cursor:"pointer",minWidth:"80px"},onMouseOver:u=>u.target.style.background="#c0392b",onMouseOut:u=>u.target.style.background="#e74c3c",children:" Close"})]}),i.jsxs("p",{style:{color:"#666",margin:"0 0 10px 0",fontSize:"0.95rem"},children:[i.jsx("strong",{children:"Real data from actual 2025 NFL Regular Season games played"})," - Use this to help you make smarter predictions!"]}),i.jsxs("div",{style:{background:"#fff3cd",border:"2px solid #ffc107",borderRadius:"8px",padding:"12px",marginBottom:"10px"},children:[i.jsx("p",{style:{color:"#856404",margin:"0 0 8px 0",fontSize:"0.9rem",fontWeight:"bold"},children:" How to Read This Table:"}),i.jsxs("p",{style:{color:"#856404",margin:"0 0 6px 0",fontSize:"0.85rem"},children:[" ",i.jsx("strong",{children:"Score"})," = Final points scored by ONE team in a game"]}),i.jsxs("p",{style:{color:"#856404",margin:"0 0 6px 0",fontSize:"0.85rem"},children:[" ",i.jsx("strong",{children:"Visitor"})," = How many times a visiting team finished with that score"]}),i.jsxs("p",{style:{color:"#856404",margin:"0 0 6px 0",fontSize:"0.85rem"},children:[" ",i.jsx("strong",{children:"Home"})," = How many times a home team finished with that score"]}),i.jsxs("p",{style:{color:"#856404",margin:"0 0 6px 0",fontSize:"0.85rem"},children:[" ",i.jsx("strong",{children:"Total"})," = Total times ANY team scored that many points"]}),i.jsxs("p",{style:{color:"#856404",margin:0,fontSize:"0.85rem",fontStyle:"italic"},children:[" ",i.jsx("strong",{children:"Mobile users:"})," Rotate to landscape for best viewing"]})]})]}),i.jsxs("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"20px",borderRadius:"12px",marginBottom:"25px",color:"white"},children:[i.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:"1.2rem"},children:" Quick Insights"}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"12px"},children:[i.jsxs("div",{children:[i.jsx("strong",{children:"Most Common:"})," 20 (44x), 27 (38x), 24 (34x)"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Sweet Spot:"})," 10-35 points"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Rarely Scored:"})," 0-9, 43-52"]})]})]}),i.jsxs("div",{style:{marginBottom:"20px"},children:[i.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:"1rem",color:"#333"},children:" Row Color Guide - These colored boxes match the table row backgrounds below:"}),i.jsx("p",{style:{color:"#666",fontSize:"0.85rem",margin:"0 0 10px 0",fontStyle:"italic"},children:"Each row in the table is colored based on how frequently that score occurred in 2025 games"}),i.jsxs("div",{style:{display:"flex",gap:"15px",flexWrap:"wrap",fontSize:"0.9rem"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",minWidth:"200px",marginBottom:"8px"},children:[i.jsx("div",{style:{width:"28px",height:"28px",background:"#a5d6a7",borderRadius:"4px",border:"2px solid #2e7d32",flexShrink:0}}),i.jsxs("span",{style:{color:"#000",fontSize:"0.9rem"},children:[i.jsx("strong",{children:"Very Common"})," (30+ times)"]})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",minWidth:"200px",marginBottom:"8px"},children:[i.jsx("div",{style:{width:"28px",height:"28px",background:"#fff59d",borderRadius:"4px",border:"2px solid #f9a825",flexShrink:0}}),i.jsxs("span",{style:{color:"#000",fontSize:"0.9rem"},children:[i.jsx("strong",{children:"Common"})," (15-29 times)"]})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",minWidth:"200px",marginBottom:"8px"},children:[i.jsx("div",{style:{width:"28px",height:"28px",background:"#ffcc80",borderRadius:"4px",border:"2px solid #ef6c00",flexShrink:0}}),i.jsxs("span",{style:{color:"#000",fontSize:"0.9rem"},children:[i.jsx("strong",{children:"Less Common"})," (5-14 times)"]})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",minWidth:"200px",marginBottom:"8px"},children:[i.jsx("div",{style:{width:"28px",height:"28px",background:"#ef9a9a",borderRadius:"4px",border:"2px solid #c62828",flexShrink:0}}),i.jsxs("span",{style:{color:"#000",fontSize:"0.9rem"},children:[i.jsx("strong",{children:"Rare"})," (0-4 times)"]})]})]})]}),i.jsx("div",{style:{overflowX:"auto"},children:i.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.95rem"},children:[i.jsx("thead",{children:i.jsxs("tr",{style:{background:"#2c3e50",color:"white"},children:[i.jsx("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #34495e",fontWeight:"bold"},children:"Score"}),i.jsx("th",{style:{padding:"12px",textAlign:"center",borderBottom:"2px solid #34495e",fontWeight:"bold"},children:"Visitor"}),i.jsx("th",{style:{padding:"12px",textAlign:"center",borderBottom:"2px solid #34495e",fontWeight:"bold"},children:"Home"}),i.jsx("th",{style:{padding:"12px",textAlign:"center",borderBottom:"2px solid #34495e",fontWeight:"bold"},children:"Total"}),i.jsx("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #34495e",fontWeight:"bold"},children:"Frequency"})]})}),i.jsx("tbody",{children:rC.map((u,y)=>{const m=u.frequency==="very-common"?"#a5d6a7":u.frequency==="common"?"#fff59d":u.frequency==="less-common"?"#ffcc80":"#ef9a9a",v=u.frequency==="very-common"?"#2e7d32":u.frequency==="common"?"#f9a825":u.frequency==="less-common"?"#ef6c00":"#c62828",b=Math.min(u.total/44*100,100);return i.jsxs("tr",{style:{background:m},children:[i.jsx("td",{style:{padding:"10px",fontWeight:"bold",borderBottom:"1px solid #999",color:"#000"},children:u.score}),i.jsx("td",{style:{padding:"10px",textAlign:"center",borderBottom:"1px solid #999",color:"#000"},children:u.visitor}),i.jsx("td",{style:{padding:"10px",textAlign:"center",borderBottom:"1px solid #999",color:"#000"},children:u.home}),i.jsx("td",{style:{padding:"10px",textAlign:"center",fontWeight:"bold",borderBottom:"1px solid #999",color:"#000",fontSize:"1.05rem"},children:u.total}),i.jsx("td",{style:{padding:"10px",borderBottom:"1px solid #999"},children:i.jsx("div",{style:{background:"#e0e0e0",height:"24px",borderRadius:"12px",overflow:"hidden",position:"relative",border:"1px solid #999"},children:i.jsx("div",{style:{background:v,height:"100%",width:`${b}%`,transition:"width 0.3s ease",display:"flex",alignItems:"center",justifyContent:"flex-end",paddingRight:"8px",color:"white",fontWeight:"bold",fontSize:"0.75rem"},children:b>15?`${u.total}x`:""})})})]},y)})})]})}),i.jsx("button",{onClick:()=>ao(!1),style:{marginTop:"25px",width:"100%",padding:"12px",fontSize:"1rem",fontWeight:"bold",color:"white",background:"#667eea",border:"none",borderRadius:"8px",cursor:"pointer"},children:" Got it, thanks!"})]})}),i.jsxs("footer",{children:[i.jsx("p",{children:"Richard's NFL Playoff Pool 2025 | Good luck! "}),i.jsx("p",{style:{fontSize:"0.85rem",marginTop:"5px"},children:"Questions? Contact: gammoneer2b@gmail.com"})]})]})}dc.createRoot(document.getElementById("root")).render(i.jsx(cc.StrictMode,{children:i.jsx(sC,{})}));
