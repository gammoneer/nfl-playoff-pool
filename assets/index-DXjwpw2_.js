(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Tg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Mf={exports:{}},Ao={},bf={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zi=Symbol.for("react.element"),Ig=Symbol.for("react.portal"),Pg=Symbol.for("react.fragment"),Rg=Symbol.for("react.strict_mode"),Ag=Symbol.for("react.profiler"),Dg=Symbol.for("react.provider"),Lg=Symbol.for("react.context"),Og=Symbol.for("react.forward_ref"),Mg=Symbol.for("react.suspense"),bg=Symbol.for("react.memo"),Fg=Symbol.for("react.lazy"),Dc=Symbol.iterator;function jg(t){return t===null||typeof t!="object"?null:(t=Dc&&t[Dc]||t["@@iterator"],typeof t=="function"?t:null)}var Ff={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jf=Object.assign,zf={};function Ur(t,e,n){this.props=t,this.context=e,this.refs=zf,this.updater=n||Ff}Ur.prototype.isReactComponent={};Ur.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ur.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Wf(){}Wf.prototype=Ur.prototype;function eu(t,e,n){this.props=t,this.context=e,this.refs=zf,this.updater=n||Ff}var tu=eu.prototype=new Wf;tu.constructor=eu;jf(tu,Ur.prototype);tu.isPureReactComponent=!0;var Lc=Array.isArray,Uf=Object.prototype.hasOwnProperty,nu={current:null},Bf={key:!0,ref:!0,__self:!0,__source:!0};function $f(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Uf.call(e,r)&&!Bf.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Zi,type:t,key:s,ref:o,props:i,_owner:nu.current}}function zg(t,e){return{$$typeof:Zi,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ru(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zi}function Wg(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Oc=/\/+/g;function rl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Wg(""+t.key):e.toString(36)}function Rs(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Zi:case Ig:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+rl(o,0):r,Lc(i)?(n="",t!=null&&(n=t.replace(Oc,"$&/")+"/"),Rs(i,e,n,"",function(u){return u})):i!=null&&(ru(i)&&(i=zg(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Oc,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Lc(t))for(var l=0;l<t.length;l++){s=t[l];var a=r+rl(s,l);o+=Rs(s,e,n,a,i)}else if(a=jg(t),typeof a=="function")for(t=a.call(t),l=0;!(s=t.next()).done;)s=s.value,a=r+rl(s,l++),o+=Rs(s,e,n,a,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function cs(t,e,n){if(t==null)return t;var r=[],i=0;return Rs(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Ug(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Qe={current:null},As={transition:null},Bg={ReactCurrentDispatcher:Qe,ReactCurrentBatchConfig:As,ReactCurrentOwner:nu};function Vf(){throw Error("act(...) is not supported in production builds of React.")}G.Children={map:cs,forEach:function(t,e,n){cs(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return cs(t,function(){e++}),e},toArray:function(t){return cs(t,function(e){return e})||[]},only:function(t){if(!ru(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};G.Component=Ur;G.Fragment=Pg;G.Profiler=Ag;G.PureComponent=eu;G.StrictMode=Rg;G.Suspense=Mg;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bg;G.act=Vf;G.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=jf({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=nu.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)Uf.call(e,a)&&!Bf.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Zi,type:t.type,key:i,ref:s,props:r,_owner:o}};G.createContext=function(t){return t={$$typeof:Lg,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Dg,_context:t},t.Consumer=t};G.createElement=$f;G.createFactory=function(t){var e=$f.bind(null,t);return e.type=t,e};G.createRef=function(){return{current:null}};G.forwardRef=function(t){return{$$typeof:Og,render:t}};G.isValidElement=ru;G.lazy=function(t){return{$$typeof:Fg,_payload:{_status:-1,_result:t},_init:Ug}};G.memo=function(t,e){return{$$typeof:bg,type:t,compare:e===void 0?null:e}};G.startTransition=function(t){var e=As.transition;As.transition={};try{t()}finally{As.transition=e}};G.unstable_act=Vf;G.useCallback=function(t,e){return Qe.current.useCallback(t,e)};G.useContext=function(t){return Qe.current.useContext(t)};G.useDebugValue=function(){};G.useDeferredValue=function(t){return Qe.current.useDeferredValue(t)};G.useEffect=function(t,e){return Qe.current.useEffect(t,e)};G.useId=function(){return Qe.current.useId()};G.useImperativeHandle=function(t,e,n){return Qe.current.useImperativeHandle(t,e,n)};G.useInsertionEffect=function(t,e){return Qe.current.useInsertionEffect(t,e)};G.useLayoutEffect=function(t,e){return Qe.current.useLayoutEffect(t,e)};G.useMemo=function(t,e){return Qe.current.useMemo(t,e)};G.useReducer=function(t,e,n){return Qe.current.useReducer(t,e,n)};G.useRef=function(t){return Qe.current.useRef(t)};G.useState=function(t){return Qe.current.useState(t)};G.useSyncExternalStore=function(t,e,n){return Qe.current.useSyncExternalStore(t,e,n)};G.useTransition=function(){return Qe.current.useTransition()};G.version="18.3.1";bf.exports=G;var Q=bf.exports;const Ul=Tg(Q);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $g=Q,Vg=Symbol.for("react.element"),Hg=Symbol.for("react.fragment"),Gg=Object.prototype.hasOwnProperty,Qg=$g.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Yg={key:!0,ref:!0,__self:!0,__source:!0};function Hf(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Gg.call(e,r)&&!Yg.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Vg,type:t,key:s,ref:o,props:i,_owner:Qg.current}}Ao.Fragment=Hg;Ao.jsx=Hf;Ao.jsxs=Hf;Mf.exports=Ao;var c=Mf.exports,Bl={},Gf={exports:{}},ut={},Qf={exports:{}},Yf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(A,z){var U=A.length;A.push(z);e:for(;0<U;){var de=U-1>>>1,ye=A[de];if(0<i(ye,z))A[de]=z,A[U]=ye,U=de;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var z=A[0],U=A.pop();if(U!==z){A[0]=U;e:for(var de=0,ye=A.length,An=ye>>>1;de<An;){var Pt=2*(de+1)-1,Kr=A[Pt],Ke=Pt+1,Rt=A[Ke];if(0>i(Kr,U))Ke<ye&&0>i(Rt,Kr)?(A[de]=Rt,A[Ke]=U,de=Ke):(A[de]=Kr,A[Pt]=U,de=Pt);else if(Ke<ye&&0>i(Rt,U))A[de]=Rt,A[Ke]=U,de=Ke;else break e}}return z}function i(A,z){var U=A.sortIndex-z.sortIndex;return U!==0?U:A.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],u=[],h=1,d=null,f=3,y=!1,v=!1,S=!1,E=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(A){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=A)r(u),z.sortIndex=z.expirationTime,e(a,z);else break;z=n(u)}}function C(A){if(S=!1,_(A),!v)if(n(a)!==null)v=!0,te(T);else{var z=n(u);z!==null&&jt(C,z.startTime-A)}}function T(A,z){v=!1,S&&(S=!1,g(D),D=-1),y=!0;var U=f;try{for(_(z),d=n(a);d!==null&&(!(d.expirationTime>z)||A&&!Fe());){var de=d.callback;if(typeof de=="function"){d.callback=null,f=d.priorityLevel;var ye=de(d.expirationTime<=z);z=t.unstable_now(),typeof ye=="function"?d.callback=ye:d===n(a)&&r(a),_(z)}else r(a);d=n(a)}if(d!==null)var An=!0;else{var Pt=n(u);Pt!==null&&jt(C,Pt.startTime-z),An=!1}return An}finally{d=null,f=U,y=!1}}var N=!1,R=null,D=-1,J=5,j=-1;function Fe(){return!(t.unstable_now()-j<J)}function Ft(){if(R!==null){var A=t.unstable_now();j=A;var z=!0;try{z=R(!0,A)}finally{z?It():(N=!1,R=null)}}else N=!1}var It;if(typeof p=="function")It=function(){p(Ft)};else if(typeof MessageChannel<"u"){var nr=new MessageChannel,rr=nr.port2;nr.port1.onmessage=Ft,It=function(){rr.postMessage(null)}}else It=function(){E(Ft,0)};function te(A){R=A,N||(N=!0,It())}function jt(A,z){D=E(function(){A(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){v||y||(v=!0,te(T))},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(A){switch(f){case 1:case 2:case 3:var z=3;break;default:z=f}var U=f;f=z;try{return A()}finally{f=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(A,z){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var U=f;f=A;try{return z()}finally{f=U}},t.unstable_scheduleCallback=function(A,z,U){var de=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?de+U:de):U=de,A){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=U+ye,A={id:h++,callback:z,priorityLevel:A,startTime:U,expirationTime:ye,sortIndex:-1},U>de?(A.sortIndex=U,e(u,A),n(a)===null&&A===n(u)&&(S?(g(D),D=-1):S=!0,jt(C,U-de))):(A.sortIndex=ye,e(a,A),v||y||(v=!0,te(T))),A},t.unstable_shouldYield=Fe,t.unstable_wrapCallback=function(A){var z=f;return function(){var U=f;f=z;try{return A.apply(this,arguments)}finally{f=U}}}})(Yf);Qf.exports=Yf;var Kg=Qf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qg=Q,at=Kg;function k(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Kf=new Set,Ni={};function Zn(t,e){Rr(t,e),Rr(t+"Capture",e)}function Rr(t,e){for(Ni[t]=e,t=0;t<e.length;t++)Kf.add(e[t])}var Qt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$l=Object.prototype.hasOwnProperty,Xg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Mc={},bc={};function Jg(t){return $l.call(bc,t)?!0:$l.call(Mc,t)?!1:Xg.test(t)?bc[t]=!0:(Mc[t]=!0,!1)}function Zg(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function e_(t,e,n,r){if(e===null||typeof e>"u"||Zg(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ye(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){be[t]=new Ye(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];be[e]=new Ye(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){be[t]=new Ye(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){be[t]=new Ye(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){be[t]=new Ye(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){be[t]=new Ye(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){be[t]=new Ye(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){be[t]=new Ye(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){be[t]=new Ye(t,5,!1,t.toLowerCase(),null,!1,!1)});var iu=/[\-:]([a-z])/g;function su(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(iu,su);be[e]=new Ye(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(iu,su);be[e]=new Ye(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(iu,su);be[e]=new Ye(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){be[t]=new Ye(t,1,!1,t.toLowerCase(),null,!1,!1)});be.xlinkHref=new Ye("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){be[t]=new Ye(t,1,!1,t.toLowerCase(),null,!0,!0)});function ou(t,e,n,r){var i=be.hasOwnProperty(e)?be[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(e_(e,n,i,r)&&(n=null),r||i===null?Jg(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var en=qg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ds=Symbol.for("react.element"),lr=Symbol.for("react.portal"),ar=Symbol.for("react.fragment"),lu=Symbol.for("react.strict_mode"),Vl=Symbol.for("react.profiler"),qf=Symbol.for("react.provider"),Xf=Symbol.for("react.context"),au=Symbol.for("react.forward_ref"),Hl=Symbol.for("react.suspense"),Gl=Symbol.for("react.suspense_list"),uu=Symbol.for("react.memo"),on=Symbol.for("react.lazy"),Jf=Symbol.for("react.offscreen"),Fc=Symbol.iterator;function qr(t){return t===null||typeof t!="object"?null:(t=Fc&&t[Fc]||t["@@iterator"],typeof t=="function"?t:null)}var pe=Object.assign,il;function ai(t){if(il===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);il=e&&e[1]||""}return`
`+il+t}var sl=!1;function ol(t,e){if(!t||sl)return"";sl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{sl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ai(t):""}function t_(t){switch(t.tag){case 5:return ai(t.type);case 16:return ai("Lazy");case 13:return ai("Suspense");case 19:return ai("SuspenseList");case 0:case 2:case 15:return t=ol(t.type,!1),t;case 11:return t=ol(t.type.render,!1),t;case 1:return t=ol(t.type,!0),t;default:return""}}function Ql(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ar:return"Fragment";case lr:return"Portal";case Vl:return"Profiler";case lu:return"StrictMode";case Hl:return"Suspense";case Gl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Xf:return(t.displayName||"Context")+".Consumer";case qf:return(t._context.displayName||"Context")+".Provider";case au:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case uu:return e=t.displayName||null,e!==null?e:Ql(t.type)||"Memo";case on:e=t._payload,t=t._init;try{return Ql(t(e))}catch{}}return null}function n_(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ql(e);case 8:return e===lu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function En(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Zf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function r_(t){var e=Zf(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function fs(t){t._valueTracker||(t._valueTracker=r_(t))}function eh(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Zf(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function $s(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Yl(t,e){var n=e.checked;return pe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function jc(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=En(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function th(t,e){e=e.checked,e!=null&&ou(t,"checked",e,!1)}function Kl(t,e){th(t,e);var n=En(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ql(t,e.type,n):e.hasOwnProperty("defaultValue")&&ql(t,e.type,En(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function zc(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ql(t,e,n){(e!=="number"||$s(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ui=Array.isArray;function wr(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+En(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Xl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(k(91));return pe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Wc(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(k(92));if(ui(n)){if(1<n.length)throw Error(k(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:En(n)}}function nh(t,e){var n=En(e.value),r=En(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Uc(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function rh(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jl(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?rh(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var hs,ih=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(hs=hs||document.createElement("div"),hs.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=hs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ti(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var fi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},i_=["Webkit","ms","Moz","O"];Object.keys(fi).forEach(function(t){i_.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),fi[e]=fi[t]})});function sh(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||fi.hasOwnProperty(t)&&fi[t]?(""+e).trim():e+"px"}function oh(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=sh(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var s_=pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zl(t,e){if(e){if(s_[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(k(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(k(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(k(61))}if(e.style!=null&&typeof e.style!="object")throw Error(k(62))}}function ea(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ta=null;function cu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var na=null,Sr=null,Cr=null;function Bc(t){if(t=ns(t)){if(typeof na!="function")throw Error(k(280));var e=t.stateNode;e&&(e=bo(e),na(t.stateNode,t.type,e))}}function lh(t){Sr?Cr?Cr.push(t):Cr=[t]:Sr=t}function ah(){if(Sr){var t=Sr,e=Cr;if(Cr=Sr=null,Bc(t),e)for(t=0;t<e.length;t++)Bc(e[t])}}function uh(t,e){return t(e)}function ch(){}var ll=!1;function dh(t,e,n){if(ll)return t(e,n);ll=!0;try{return uh(t,e,n)}finally{ll=!1,(Sr!==null||Cr!==null)&&(ch(),ah())}}function Ii(t,e){var n=t.stateNode;if(n===null)return null;var r=bo(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(k(231,e,typeof n));return n}var ra=!1;if(Qt)try{var Xr={};Object.defineProperty(Xr,"passive",{get:function(){ra=!0}}),window.addEventListener("test",Xr,Xr),window.removeEventListener("test",Xr,Xr)}catch{ra=!1}function o_(t,e,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var hi=!1,Vs=null,Hs=!1,ia=null,l_={onError:function(t){hi=!0,Vs=t}};function a_(t,e,n,r,i,s,o,l,a){hi=!1,Vs=null,o_.apply(l_,arguments)}function u_(t,e,n,r,i,s,o,l,a){if(a_.apply(this,arguments),hi){if(hi){var u=Vs;hi=!1,Vs=null}else throw Error(k(198));Hs||(Hs=!0,ia=u)}}function er(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function fh(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function $c(t){if(er(t)!==t)throw Error(k(188))}function c_(t){var e=t.alternate;if(!e){if(e=er(t),e===null)throw Error(k(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return $c(i),t;if(s===r)return $c(i),e;s=s.sibling}throw Error(k(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(k(189))}}if(n.alternate!==r)throw Error(k(190))}if(n.tag!==3)throw Error(k(188));return n.stateNode.current===n?t:e}function hh(t){return t=c_(t),t!==null?ph(t):null}function ph(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ph(t);if(e!==null)return e;t=t.sibling}return null}var mh=at.unstable_scheduleCallback,Vc=at.unstable_cancelCallback,d_=at.unstable_shouldYield,f_=at.unstable_requestPaint,we=at.unstable_now,h_=at.unstable_getCurrentPriorityLevel,du=at.unstable_ImmediatePriority,gh=at.unstable_UserBlockingPriority,Gs=at.unstable_NormalPriority,p_=at.unstable_LowPriority,_h=at.unstable_IdlePriority,Do=null,Mt=null;function m_(t){if(Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(Do,t,void 0,(t.current.flags&128)===128)}catch{}}var xt=Math.clz32?Math.clz32:y_,g_=Math.log,__=Math.LN2;function y_(t){return t>>>=0,t===0?32:31-(g_(t)/__|0)|0}var ps=64,ms=4194304;function ci(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Qs(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=ci(l):(s&=o,s!==0&&(r=ci(s)))}else o=n&~i,o!==0?r=ci(o):s!==0&&(r=ci(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-xt(e),i=1<<n,r|=t[n],e&=~i;return r}function v_(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function w_(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-xt(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=v_(l,e)):a<=e&&(t.expiredLanes|=l),s&=~l}}function sa(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function yh(){var t=ps;return ps<<=1,!(ps&4194240)&&(ps=64),t}function al(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function es(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-xt(e),t[e]=n}function S_(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-xt(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function fu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-xt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Z=0;function vh(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var wh,hu,Sh,Ch,Eh,oa=!1,gs=[],fn=null,hn=null,pn=null,Pi=new Map,Ri=new Map,an=[],C_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hc(t,e){switch(t){case"focusin":case"focusout":fn=null;break;case"dragenter":case"dragleave":hn=null;break;case"mouseover":case"mouseout":pn=null;break;case"pointerover":case"pointerout":Pi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ri.delete(e.pointerId)}}function Jr(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ns(e),e!==null&&hu(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function E_(t,e,n,r,i){switch(e){case"focusin":return fn=Jr(fn,t,e,n,r,i),!0;case"dragenter":return hn=Jr(hn,t,e,n,r,i),!0;case"mouseover":return pn=Jr(pn,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Pi.set(s,Jr(Pi.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ri.set(s,Jr(Ri.get(s)||null,t,e,n,r,i)),!0}return!1}function xh(t){var e=Fn(t.target);if(e!==null){var n=er(e);if(n!==null){if(e=n.tag,e===13){if(e=fh(n),e!==null){t.blockedOn=e,Eh(t.priority,function(){Sh(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ds(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=la(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ta=r,n.target.dispatchEvent(r),ta=null}else return e=ns(n),e!==null&&hu(e),t.blockedOn=n,!1;e.shift()}return!0}function Gc(t,e,n){Ds(t)&&n.delete(e)}function x_(){oa=!1,fn!==null&&Ds(fn)&&(fn=null),hn!==null&&Ds(hn)&&(hn=null),pn!==null&&Ds(pn)&&(pn=null),Pi.forEach(Gc),Ri.forEach(Gc)}function Zr(t,e){t.blockedOn===e&&(t.blockedOn=null,oa||(oa=!0,at.unstable_scheduleCallback(at.unstable_NormalPriority,x_)))}function Ai(t){function e(i){return Zr(i,t)}if(0<gs.length){Zr(gs[0],t);for(var n=1;n<gs.length;n++){var r=gs[n];r.blockedOn===t&&(r.blockedOn=null)}}for(fn!==null&&Zr(fn,t),hn!==null&&Zr(hn,t),pn!==null&&Zr(pn,t),Pi.forEach(e),Ri.forEach(e),n=0;n<an.length;n++)r=an[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<an.length&&(n=an[0],n.blockedOn===null);)xh(n),n.blockedOn===null&&an.shift()}var Er=en.ReactCurrentBatchConfig,Ys=!0;function k_(t,e,n,r){var i=Z,s=Er.transition;Er.transition=null;try{Z=1,pu(t,e,n,r)}finally{Z=i,Er.transition=s}}function N_(t,e,n,r){var i=Z,s=Er.transition;Er.transition=null;try{Z=4,pu(t,e,n,r)}finally{Z=i,Er.transition=s}}function pu(t,e,n,r){if(Ys){var i=la(t,e,n,r);if(i===null)yl(t,e,r,Ks,n),Hc(t,r);else if(E_(i,t,e,n,r))r.stopPropagation();else if(Hc(t,r),e&4&&-1<C_.indexOf(t)){for(;i!==null;){var s=ns(i);if(s!==null&&wh(s),s=la(t,e,n,r),s===null&&yl(t,e,r,Ks,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else yl(t,e,r,null,n)}}var Ks=null;function la(t,e,n,r){if(Ks=null,t=cu(r),t=Fn(t),t!==null)if(e=er(t),e===null)t=null;else if(n=e.tag,n===13){if(t=fh(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ks=t,null}function kh(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(h_()){case du:return 1;case gh:return 4;case Gs:case p_:return 16;case _h:return 536870912;default:return 16}default:return 16}}var cn=null,mu=null,Ls=null;function Nh(){if(Ls)return Ls;var t,e=mu,n=e.length,r,i="value"in cn?cn.value:cn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Ls=i.slice(t,1<r?1-r:void 0)}function Os(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function _s(){return!0}function Qc(){return!1}function ct(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?_s:Qc,this.isPropagationStopped=Qc,this}return pe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_s)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_s)},persist:function(){},isPersistent:_s}),e}var Br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gu=ct(Br),ts=pe({},Br,{view:0,detail:0}),T_=ct(ts),ul,cl,ei,Lo=pe({},ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_u,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ei&&(ei&&t.type==="mousemove"?(ul=t.screenX-ei.screenX,cl=t.screenY-ei.screenY):cl=ul=0,ei=t),ul)},movementY:function(t){return"movementY"in t?t.movementY:cl}}),Yc=ct(Lo),I_=pe({},Lo,{dataTransfer:0}),P_=ct(I_),R_=pe({},ts,{relatedTarget:0}),dl=ct(R_),A_=pe({},Br,{animationName:0,elapsedTime:0,pseudoElement:0}),D_=ct(A_),L_=pe({},Br,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),O_=ct(L_),M_=pe({},Br,{data:0}),Kc=ct(M_),b_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},F_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},j_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function z_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=j_[t])?!!e[t]:!1}function _u(){return z_}var W_=pe({},ts,{key:function(t){if(t.key){var e=b_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Os(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?F_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_u,charCode:function(t){return t.type==="keypress"?Os(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Os(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),U_=ct(W_),B_=pe({},Lo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qc=ct(B_),$_=pe({},ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_u}),V_=ct($_),H_=pe({},Br,{propertyName:0,elapsedTime:0,pseudoElement:0}),G_=ct(H_),Q_=pe({},Lo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Y_=ct(Q_),K_=[9,13,27,32],yu=Qt&&"CompositionEvent"in window,pi=null;Qt&&"documentMode"in document&&(pi=document.documentMode);var q_=Qt&&"TextEvent"in window&&!pi,Th=Qt&&(!yu||pi&&8<pi&&11>=pi),Xc=" ",Jc=!1;function Ih(t,e){switch(t){case"keyup":return K_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ph(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ur=!1;function X_(t,e){switch(t){case"compositionend":return Ph(e);case"keypress":return e.which!==32?null:(Jc=!0,Xc);case"textInput":return t=e.data,t===Xc&&Jc?null:t;default:return null}}function J_(t,e){if(ur)return t==="compositionend"||!yu&&Ih(t,e)?(t=Nh(),Ls=mu=cn=null,ur=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Th&&e.locale!=="ko"?null:e.data;default:return null}}var Z_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Z_[t.type]:e==="textarea"}function Rh(t,e,n,r){lh(r),e=qs(e,"onChange"),0<e.length&&(n=new gu("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var mi=null,Di=null;function ey(t){Uh(t,0)}function Oo(t){var e=fr(t);if(eh(e))return t}function ty(t,e){if(t==="change")return e}var Ah=!1;if(Qt){var fl;if(Qt){var hl="oninput"in document;if(!hl){var ed=document.createElement("div");ed.setAttribute("oninput","return;"),hl=typeof ed.oninput=="function"}fl=hl}else fl=!1;Ah=fl&&(!document.documentMode||9<document.documentMode)}function td(){mi&&(mi.detachEvent("onpropertychange",Dh),Di=mi=null)}function Dh(t){if(t.propertyName==="value"&&Oo(Di)){var e=[];Rh(e,Di,t,cu(t)),dh(ey,e)}}function ny(t,e,n){t==="focusin"?(td(),mi=e,Di=n,mi.attachEvent("onpropertychange",Dh)):t==="focusout"&&td()}function ry(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Oo(Di)}function iy(t,e){if(t==="click")return Oo(e)}function sy(t,e){if(t==="input"||t==="change")return Oo(e)}function oy(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Tt=typeof Object.is=="function"?Object.is:oy;function Li(t,e){if(Tt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!$l.call(e,i)||!Tt(t[i],e[i]))return!1}return!0}function nd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rd(t,e){var n=nd(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=nd(n)}}function Lh(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Lh(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Oh(){for(var t=window,e=$s();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=$s(t.document)}return e}function vu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ly(t){var e=Oh(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Lh(n.ownerDocument.documentElement,n)){if(r!==null&&vu(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=rd(n,s);var o=rd(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ay=Qt&&"documentMode"in document&&11>=document.documentMode,cr=null,aa=null,gi=null,ua=!1;function id(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ua||cr==null||cr!==$s(r)||(r=cr,"selectionStart"in r&&vu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),gi&&Li(gi,r)||(gi=r,r=qs(aa,"onSelect"),0<r.length&&(e=new gu("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=cr)))}function ys(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var dr={animationend:ys("Animation","AnimationEnd"),animationiteration:ys("Animation","AnimationIteration"),animationstart:ys("Animation","AnimationStart"),transitionend:ys("Transition","TransitionEnd")},pl={},Mh={};Qt&&(Mh=document.createElement("div").style,"AnimationEvent"in window||(delete dr.animationend.animation,delete dr.animationiteration.animation,delete dr.animationstart.animation),"TransitionEvent"in window||delete dr.transitionend.transition);function Mo(t){if(pl[t])return pl[t];if(!dr[t])return t;var e=dr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Mh)return pl[t]=e[n];return t}var bh=Mo("animationend"),Fh=Mo("animationiteration"),jh=Mo("animationstart"),zh=Mo("transitionend"),Wh=new Map,sd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tn(t,e){Wh.set(t,e),Zn(e,[t])}for(var ml=0;ml<sd.length;ml++){var gl=sd[ml],uy=gl.toLowerCase(),cy=gl[0].toUpperCase()+gl.slice(1);Tn(uy,"on"+cy)}Tn(bh,"onAnimationEnd");Tn(Fh,"onAnimationIteration");Tn(jh,"onAnimationStart");Tn("dblclick","onDoubleClick");Tn("focusin","onFocus");Tn("focusout","onBlur");Tn(zh,"onTransitionEnd");Rr("onMouseEnter",["mouseout","mouseover"]);Rr("onMouseLeave",["mouseout","mouseover"]);Rr("onPointerEnter",["pointerout","pointerover"]);Rr("onPointerLeave",["pointerout","pointerover"]);Zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var di="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dy=new Set("cancel close invalid load scroll toggle".split(" ").concat(di));function od(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,u_(r,e,void 0,t),t.currentTarget=null}function Uh(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;od(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;od(i,l,u),s=a}}}if(Hs)throw t=ia,Hs=!1,ia=null,t}function le(t,e){var n=e[pa];n===void 0&&(n=e[pa]=new Set);var r=t+"__bubble";n.has(r)||(Bh(e,t,2,!1),n.add(r))}function _l(t,e,n){var r=0;e&&(r|=4),Bh(n,t,r,e)}var vs="_reactListening"+Math.random().toString(36).slice(2);function Oi(t){if(!t[vs]){t[vs]=!0,Kf.forEach(function(n){n!=="selectionchange"&&(dy.has(n)||_l(n,!1,t),_l(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[vs]||(e[vs]=!0,_l("selectionchange",!1,e))}}function Bh(t,e,n,r){switch(kh(e)){case 1:var i=k_;break;case 4:i=N_;break;default:i=pu}n=i.bind(null,e,n,t),i=void 0,!ra||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function yl(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Fn(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}dh(function(){var u=s,h=cu(n),d=[];e:{var f=Wh.get(t);if(f!==void 0){var y=gu,v=t;switch(t){case"keypress":if(Os(n)===0)break e;case"keydown":case"keyup":y=U_;break;case"focusin":v="focus",y=dl;break;case"focusout":v="blur",y=dl;break;case"beforeblur":case"afterblur":y=dl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Yc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=P_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=V_;break;case bh:case Fh:case jh:y=D_;break;case zh:y=G_;break;case"scroll":y=T_;break;case"wheel":y=Y_;break;case"copy":case"cut":case"paste":y=O_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=qc}var S=(e&4)!==0,E=!S&&t==="scroll",g=S?f!==null?f+"Capture":null:f;S=[];for(var p=u,_;p!==null;){_=p;var C=_.stateNode;if(_.tag===5&&C!==null&&(_=C,g!==null&&(C=Ii(p,g),C!=null&&S.push(Mi(p,C,_)))),E)break;p=p.return}0<S.length&&(f=new y(f,v,null,n,h),d.push({event:f,listeners:S}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",f&&n!==ta&&(v=n.relatedTarget||n.fromElement)&&(Fn(v)||v[Yt]))break e;if((y||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,y?(v=n.relatedTarget||n.toElement,y=u,v=v?Fn(v):null,v!==null&&(E=er(v),v!==E||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=u),y!==v)){if(S=Yc,C="onMouseLeave",g="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(S=qc,C="onPointerLeave",g="onPointerEnter",p="pointer"),E=y==null?f:fr(y),_=v==null?f:fr(v),f=new S(C,p+"leave",y,n,h),f.target=E,f.relatedTarget=_,C=null,Fn(h)===u&&(S=new S(g,p+"enter",v,n,h),S.target=_,S.relatedTarget=E,C=S),E=C,y&&v)t:{for(S=y,g=v,p=0,_=S;_;_=sr(_))p++;for(_=0,C=g;C;C=sr(C))_++;for(;0<p-_;)S=sr(S),p--;for(;0<_-p;)g=sr(g),_--;for(;p--;){if(S===g||g!==null&&S===g.alternate)break t;S=sr(S),g=sr(g)}S=null}else S=null;y!==null&&ld(d,f,y,S,!1),v!==null&&E!==null&&ld(d,E,v,S,!0)}}e:{if(f=u?fr(u):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var T=ty;else if(Zc(f))if(Ah)T=sy;else{T=ry;var N=ny}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=iy);if(T&&(T=T(t,u))){Rh(d,T,n,h);break e}N&&N(t,f,u),t==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&ql(f,"number",f.value)}switch(N=u?fr(u):window,t){case"focusin":(Zc(N)||N.contentEditable==="true")&&(cr=N,aa=u,gi=null);break;case"focusout":gi=aa=cr=null;break;case"mousedown":ua=!0;break;case"contextmenu":case"mouseup":case"dragend":ua=!1,id(d,n,h);break;case"selectionchange":if(ay)break;case"keydown":case"keyup":id(d,n,h)}var R;if(yu)e:{switch(t){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else ur?Ih(t,n)&&(D="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(Th&&n.locale!=="ko"&&(ur||D!=="onCompositionStart"?D==="onCompositionEnd"&&ur&&(R=Nh()):(cn=h,mu="value"in cn?cn.value:cn.textContent,ur=!0)),N=qs(u,D),0<N.length&&(D=new Kc(D,t,null,n,h),d.push({event:D,listeners:N}),R?D.data=R:(R=Ph(n),R!==null&&(D.data=R)))),(R=q_?X_(t,n):J_(t,n))&&(u=qs(u,"onBeforeInput"),0<u.length&&(h=new Kc("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:u}),h.data=R))}Uh(d,e)})}function Mi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function qs(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ii(t,n),s!=null&&r.unshift(Mi(t,s,i)),s=Ii(t,e),s!=null&&r.push(Mi(t,s,i))),t=t.return}return r}function sr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ld(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=Ii(n,s),a!=null&&o.unshift(Mi(n,a,l))):i||(a=Ii(n,s),a!=null&&o.push(Mi(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var fy=/\r\n?/g,hy=/\u0000|\uFFFD/g;function ad(t){return(typeof t=="string"?t:""+t).replace(fy,`
`).replace(hy,"")}function ws(t,e,n){if(e=ad(e),ad(t)!==e&&n)throw Error(k(425))}function Xs(){}var ca=null,da=null;function fa(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ha=typeof setTimeout=="function"?setTimeout:void 0,py=typeof clearTimeout=="function"?clearTimeout:void 0,ud=typeof Promise=="function"?Promise:void 0,my=typeof queueMicrotask=="function"?queueMicrotask:typeof ud<"u"?function(t){return ud.resolve(null).then(t).catch(gy)}:ha;function gy(t){setTimeout(function(){throw t})}function vl(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ai(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ai(e)}function mn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function cd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var $r=Math.random().toString(36).slice(2),Ot="__reactFiber$"+$r,bi="__reactProps$"+$r,Yt="__reactContainer$"+$r,pa="__reactEvents$"+$r,_y="__reactListeners$"+$r,yy="__reactHandles$"+$r;function Fn(t){var e=t[Ot];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Yt]||n[Ot]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=cd(t);t!==null;){if(n=t[Ot])return n;t=cd(t)}return e}t=n,n=t.parentNode}return null}function ns(t){return t=t[Ot]||t[Yt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function fr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(k(33))}function bo(t){return t[bi]||null}var ma=[],hr=-1;function In(t){return{current:t}}function ue(t){0>hr||(t.current=ma[hr],ma[hr]=null,hr--)}function oe(t,e){hr++,ma[hr]=t.current,t.current=e}var xn={},Ve=In(xn),et=In(!1),Vn=xn;function Ar(t,e){var n=t.type.contextTypes;if(!n)return xn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function tt(t){return t=t.childContextTypes,t!=null}function Js(){ue(et),ue(Ve)}function dd(t,e,n){if(Ve.current!==xn)throw Error(k(168));oe(Ve,e),oe(et,n)}function $h(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(k(108,n_(t)||"Unknown",i));return pe({},n,r)}function Zs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||xn,Vn=Ve.current,oe(Ve,t),oe(et,et.current),!0}function fd(t,e,n){var r=t.stateNode;if(!r)throw Error(k(169));n?(t=$h(t,e,Vn),r.__reactInternalMemoizedMergedChildContext=t,ue(et),ue(Ve),oe(Ve,t)):ue(et),oe(et,n)}var Ut=null,Fo=!1,wl=!1;function Vh(t){Ut===null?Ut=[t]:Ut.push(t)}function vy(t){Fo=!0,Vh(t)}function Pn(){if(!wl&&Ut!==null){wl=!0;var t=0,e=Z;try{var n=Ut;for(Z=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ut=null,Fo=!1}catch(i){throw Ut!==null&&(Ut=Ut.slice(t+1)),mh(du,Pn),i}finally{Z=e,wl=!1}}return null}var pr=[],mr=0,eo=null,to=0,dt=[],ft=0,Hn=null,Bt=1,$t="";function Ln(t,e){pr[mr++]=to,pr[mr++]=eo,eo=t,to=e}function Hh(t,e,n){dt[ft++]=Bt,dt[ft++]=$t,dt[ft++]=Hn,Hn=t;var r=Bt;t=$t;var i=32-xt(r)-1;r&=~(1<<i),n+=1;var s=32-xt(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Bt=1<<32-xt(e)+i|n<<i|r,$t=s+t}else Bt=1<<s|n<<i|r,$t=t}function wu(t){t.return!==null&&(Ln(t,1),Hh(t,1,0))}function Su(t){for(;t===eo;)eo=pr[--mr],pr[mr]=null,to=pr[--mr],pr[mr]=null;for(;t===Hn;)Hn=dt[--ft],dt[ft]=null,$t=dt[--ft],dt[ft]=null,Bt=dt[--ft],dt[ft]=null}var lt=null,ot=null,ce=!1,wt=null;function Gh(t,e){var n=ht(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function hd(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,lt=t,ot=mn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,lt=t,ot=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Hn!==null?{id:Bt,overflow:$t}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ht(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,lt=t,ot=null,!0):!1;default:return!1}}function ga(t){return(t.mode&1)!==0&&(t.flags&128)===0}function _a(t){if(ce){var e=ot;if(e){var n=e;if(!hd(t,e)){if(ga(t))throw Error(k(418));e=mn(n.nextSibling);var r=lt;e&&hd(t,e)?Gh(r,n):(t.flags=t.flags&-4097|2,ce=!1,lt=t)}}else{if(ga(t))throw Error(k(418));t.flags=t.flags&-4097|2,ce=!1,lt=t}}}function pd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;lt=t}function Ss(t){if(t!==lt)return!1;if(!ce)return pd(t),ce=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!fa(t.type,t.memoizedProps)),e&&(e=ot)){if(ga(t))throw Qh(),Error(k(418));for(;e;)Gh(t,e),e=mn(e.nextSibling)}if(pd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(k(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ot=mn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ot=null}}else ot=lt?mn(t.stateNode.nextSibling):null;return!0}function Qh(){for(var t=ot;t;)t=mn(t.nextSibling)}function Dr(){ot=lt=null,ce=!1}function Cu(t){wt===null?wt=[t]:wt.push(t)}var wy=en.ReactCurrentBatchConfig;function ti(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(k(309));var r=n.stateNode}if(!r)throw Error(k(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(k(284));if(!n._owner)throw Error(k(290,t))}return t}function Cs(t,e){throw t=Object.prototype.toString.call(e),Error(k(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function md(t){var e=t._init;return e(t._payload)}function Yh(t){function e(g,p){if(t){var _=g.deletions;_===null?(g.deletions=[p],g.flags|=16):_.push(p)}}function n(g,p){if(!t)return null;for(;p!==null;)e(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function i(g,p){return g=vn(g,p),g.index=0,g.sibling=null,g}function s(g,p,_){return g.index=_,t?(_=g.alternate,_!==null?(_=_.index,_<p?(g.flags|=2,p):_):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,p,_,C){return p===null||p.tag!==6?(p=Tl(_,g.mode,C),p.return=g,p):(p=i(p,_),p.return=g,p)}function a(g,p,_,C){var T=_.type;return T===ar?h(g,p,_.props.children,C,_.key):p!==null&&(p.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===on&&md(T)===p.type)?(C=i(p,_.props),C.ref=ti(g,p,_),C.return=g,C):(C=Us(_.type,_.key,_.props,null,g.mode,C),C.ref=ti(g,p,_),C.return=g,C)}function u(g,p,_,C){return p===null||p.tag!==4||p.stateNode.containerInfo!==_.containerInfo||p.stateNode.implementation!==_.implementation?(p=Il(_,g.mode,C),p.return=g,p):(p=i(p,_.children||[]),p.return=g,p)}function h(g,p,_,C,T){return p===null||p.tag!==7?(p=$n(_,g.mode,C,T),p.return=g,p):(p=i(p,_),p.return=g,p)}function d(g,p,_){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Tl(""+p,g.mode,_),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ds:return _=Us(p.type,p.key,p.props,null,g.mode,_),_.ref=ti(g,null,p),_.return=g,_;case lr:return p=Il(p,g.mode,_),p.return=g,p;case on:var C=p._init;return d(g,C(p._payload),_)}if(ui(p)||qr(p))return p=$n(p,g.mode,_,null),p.return=g,p;Cs(g,p)}return null}function f(g,p,_,C){var T=p!==null?p.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return T!==null?null:l(g,p,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ds:return _.key===T?a(g,p,_,C):null;case lr:return _.key===T?u(g,p,_,C):null;case on:return T=_._init,f(g,p,T(_._payload),C)}if(ui(_)||qr(_))return T!==null?null:h(g,p,_,C,null);Cs(g,_)}return null}function y(g,p,_,C,T){if(typeof C=="string"&&C!==""||typeof C=="number")return g=g.get(_)||null,l(p,g,""+C,T);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case ds:return g=g.get(C.key===null?_:C.key)||null,a(p,g,C,T);case lr:return g=g.get(C.key===null?_:C.key)||null,u(p,g,C,T);case on:var N=C._init;return y(g,p,_,N(C._payload),T)}if(ui(C)||qr(C))return g=g.get(_)||null,h(p,g,C,T,null);Cs(p,C)}return null}function v(g,p,_,C){for(var T=null,N=null,R=p,D=p=0,J=null;R!==null&&D<_.length;D++){R.index>D?(J=R,R=null):J=R.sibling;var j=f(g,R,_[D],C);if(j===null){R===null&&(R=J);break}t&&R&&j.alternate===null&&e(g,R),p=s(j,p,D),N===null?T=j:N.sibling=j,N=j,R=J}if(D===_.length)return n(g,R),ce&&Ln(g,D),T;if(R===null){for(;D<_.length;D++)R=d(g,_[D],C),R!==null&&(p=s(R,p,D),N===null?T=R:N.sibling=R,N=R);return ce&&Ln(g,D),T}for(R=r(g,R);D<_.length;D++)J=y(R,g,D,_[D],C),J!==null&&(t&&J.alternate!==null&&R.delete(J.key===null?D:J.key),p=s(J,p,D),N===null?T=J:N.sibling=J,N=J);return t&&R.forEach(function(Fe){return e(g,Fe)}),ce&&Ln(g,D),T}function S(g,p,_,C){var T=qr(_);if(typeof T!="function")throw Error(k(150));if(_=T.call(_),_==null)throw Error(k(151));for(var N=T=null,R=p,D=p=0,J=null,j=_.next();R!==null&&!j.done;D++,j=_.next()){R.index>D?(J=R,R=null):J=R.sibling;var Fe=f(g,R,j.value,C);if(Fe===null){R===null&&(R=J);break}t&&R&&Fe.alternate===null&&e(g,R),p=s(Fe,p,D),N===null?T=Fe:N.sibling=Fe,N=Fe,R=J}if(j.done)return n(g,R),ce&&Ln(g,D),T;if(R===null){for(;!j.done;D++,j=_.next())j=d(g,j.value,C),j!==null&&(p=s(j,p,D),N===null?T=j:N.sibling=j,N=j);return ce&&Ln(g,D),T}for(R=r(g,R);!j.done;D++,j=_.next())j=y(R,g,D,j.value,C),j!==null&&(t&&j.alternate!==null&&R.delete(j.key===null?D:j.key),p=s(j,p,D),N===null?T=j:N.sibling=j,N=j);return t&&R.forEach(function(Ft){return e(g,Ft)}),ce&&Ln(g,D),T}function E(g,p,_,C){if(typeof _=="object"&&_!==null&&_.type===ar&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case ds:e:{for(var T=_.key,N=p;N!==null;){if(N.key===T){if(T=_.type,T===ar){if(N.tag===7){n(g,N.sibling),p=i(N,_.props.children),p.return=g,g=p;break e}}else if(N.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===on&&md(T)===N.type){n(g,N.sibling),p=i(N,_.props),p.ref=ti(g,N,_),p.return=g,g=p;break e}n(g,N);break}else e(g,N);N=N.sibling}_.type===ar?(p=$n(_.props.children,g.mode,C,_.key),p.return=g,g=p):(C=Us(_.type,_.key,_.props,null,g.mode,C),C.ref=ti(g,p,_),C.return=g,g=C)}return o(g);case lr:e:{for(N=_.key;p!==null;){if(p.key===N)if(p.tag===4&&p.stateNode.containerInfo===_.containerInfo&&p.stateNode.implementation===_.implementation){n(g,p.sibling),p=i(p,_.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else e(g,p);p=p.sibling}p=Il(_,g.mode,C),p.return=g,g=p}return o(g);case on:return N=_._init,E(g,p,N(_._payload),C)}if(ui(_))return v(g,p,_,C);if(qr(_))return S(g,p,_,C);Cs(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,p!==null&&p.tag===6?(n(g,p.sibling),p=i(p,_),p.return=g,g=p):(n(g,p),p=Tl(_,g.mode,C),p.return=g,g=p),o(g)):n(g,p)}return E}var Lr=Yh(!0),Kh=Yh(!1),no=In(null),ro=null,gr=null,Eu=null;function xu(){Eu=gr=ro=null}function ku(t){var e=no.current;ue(no),t._currentValue=e}function ya(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function xr(t,e){ro=t,Eu=gr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Xe=!0),t.firstContext=null)}function mt(t){var e=t._currentValue;if(Eu!==t)if(t={context:t,memoizedValue:e,next:null},gr===null){if(ro===null)throw Error(k(308));gr=t,ro.dependencies={lanes:0,firstContext:t}}else gr=gr.next=t;return e}var jn=null;function Nu(t){jn===null?jn=[t]:jn.push(t)}function qh(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Nu(e)):(n.next=i.next,i.next=n),e.interleaved=n,Kt(t,r)}function Kt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ln=!1;function Tu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xh(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ht(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function gn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,q&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Kt(t,n)}return i=r.interleaved,i===null?(e.next=e,Nu(r)):(e.next=i.next,i.next=e),r.interleaved=e,Kt(t,n)}function Ms(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,fu(t,n)}}function gd(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function io(t,e,n,r){var i=t.updateQueue;ln=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=a))}if(s!==null){var d=i.baseState;o=0,h=u=a=null,l=s;do{var f=l.lane,y=l.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,S=l;switch(f=e,y=n,S.tag){case 1:if(v=S.payload,typeof v=="function"){d=v.call(y,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=S.payload,f=typeof v=="function"?v.call(y,d,f):v,f==null)break e;d=pe({},d,f);break e;case 2:ln=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else y={eventTime:y,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=y,a=d):h=h.next=y,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(h===null&&(a=d),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Qn|=o,t.lanes=o,t.memoizedState=d}}function _d(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(k(191,i));i.call(r)}}}var rs={},bt=In(rs),Fi=In(rs),ji=In(rs);function zn(t){if(t===rs)throw Error(k(174));return t}function Iu(t,e){switch(oe(ji,e),oe(Fi,t),oe(bt,rs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Jl(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Jl(e,t)}ue(bt),oe(bt,e)}function Or(){ue(bt),ue(Fi),ue(ji)}function Jh(t){zn(ji.current);var e=zn(bt.current),n=Jl(e,t.type);e!==n&&(oe(Fi,t),oe(bt,n))}function Pu(t){Fi.current===t&&(ue(bt),ue(Fi))}var fe=In(0);function so(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Sl=[];function Ru(){for(var t=0;t<Sl.length;t++)Sl[t]._workInProgressVersionPrimary=null;Sl.length=0}var bs=en.ReactCurrentDispatcher,Cl=en.ReactCurrentBatchConfig,Gn=0,he=null,xe=null,Pe=null,oo=!1,_i=!1,zi=0,Sy=0;function je(){throw Error(k(321))}function Au(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Tt(t[n],e[n]))return!1;return!0}function Du(t,e,n,r,i,s){if(Gn=s,he=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,bs.current=t===null||t.memoizedState===null?ky:Ny,t=n(r,i),_i){s=0;do{if(_i=!1,zi=0,25<=s)throw Error(k(301));s+=1,Pe=xe=null,e.updateQueue=null,bs.current=Ty,t=n(r,i)}while(_i)}if(bs.current=lo,e=xe!==null&&xe.next!==null,Gn=0,Pe=xe=he=null,oo=!1,e)throw Error(k(300));return t}function Lu(){var t=zi!==0;return zi=0,t}function Lt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?he.memoizedState=Pe=t:Pe=Pe.next=t,Pe}function gt(){if(xe===null){var t=he.alternate;t=t!==null?t.memoizedState:null}else t=xe.next;var e=Pe===null?he.memoizedState:Pe.next;if(e!==null)Pe=e,xe=t;else{if(t===null)throw Error(k(310));xe=t,t={memoizedState:xe.memoizedState,baseState:xe.baseState,baseQueue:xe.baseQueue,queue:xe.queue,next:null},Pe===null?he.memoizedState=Pe=t:Pe=Pe.next=t}return Pe}function Wi(t,e){return typeof e=="function"?e(t):e}function El(t){var e=gt(),n=e.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=t;var r=xe,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,u=s;do{var h=u.lane;if((Gn&h)===h)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=d,o=r):a=a.next=d,he.lanes|=h,Qn|=h}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=l,Tt(r,e.memoizedState)||(Xe=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,he.lanes|=s,Qn|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function xl(t){var e=gt(),n=e.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Tt(s,e.memoizedState)||(Xe=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Zh(){}function ep(t,e){var n=he,r=gt(),i=e(),s=!Tt(r.memoizedState,i);if(s&&(r.memoizedState=i,Xe=!0),r=r.queue,Ou(rp.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Pe!==null&&Pe.memoizedState.tag&1){if(n.flags|=2048,Ui(9,np.bind(null,n,r,i,e),void 0,null),De===null)throw Error(k(349));Gn&30||tp(n,e,i)}return i}function tp(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=he.updateQueue,e===null?(e={lastEffect:null,stores:null},he.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function np(t,e,n,r){e.value=n,e.getSnapshot=r,ip(e)&&sp(t)}function rp(t,e,n){return n(function(){ip(e)&&sp(t)})}function ip(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Tt(t,n)}catch{return!0}}function sp(t){var e=Kt(t,1);e!==null&&kt(e,t,1,-1)}function yd(t){var e=Lt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:t},e.queue=t,t=t.dispatch=xy.bind(null,he,t),[e.memoizedState,t]}function Ui(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=he.updateQueue,e===null?(e={lastEffect:null,stores:null},he.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function op(){return gt().memoizedState}function Fs(t,e,n,r){var i=Lt();he.flags|=t,i.memoizedState=Ui(1|e,n,void 0,r===void 0?null:r)}function jo(t,e,n,r){var i=gt();r=r===void 0?null:r;var s=void 0;if(xe!==null){var o=xe.memoizedState;if(s=o.destroy,r!==null&&Au(r,o.deps)){i.memoizedState=Ui(e,n,s,r);return}}he.flags|=t,i.memoizedState=Ui(1|e,n,s,r)}function vd(t,e){return Fs(8390656,8,t,e)}function Ou(t,e){return jo(2048,8,t,e)}function lp(t,e){return jo(4,2,t,e)}function ap(t,e){return jo(4,4,t,e)}function up(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function cp(t,e,n){return n=n!=null?n.concat([t]):null,jo(4,4,up.bind(null,e,t),n)}function Mu(){}function dp(t,e){var n=gt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Au(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function fp(t,e){var n=gt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Au(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function hp(t,e,n){return Gn&21?(Tt(n,e)||(n=yh(),he.lanes|=n,Qn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Xe=!0),t.memoizedState=n)}function Cy(t,e){var n=Z;Z=n!==0&&4>n?n:4,t(!0);var r=Cl.transition;Cl.transition={};try{t(!1),e()}finally{Z=n,Cl.transition=r}}function pp(){return gt().memoizedState}function Ey(t,e,n){var r=yn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},mp(t))gp(e,n);else if(n=qh(t,e,n,r),n!==null){var i=Ge();kt(n,t,r,i),_p(n,e,r)}}function xy(t,e,n){var r=yn(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(mp(t))gp(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Tt(l,o)){var a=e.interleaved;a===null?(i.next=i,Nu(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=qh(t,e,i,r),n!==null&&(i=Ge(),kt(n,t,r,i),_p(n,e,r))}}function mp(t){var e=t.alternate;return t===he||e!==null&&e===he}function gp(t,e){_i=oo=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function _p(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,fu(t,n)}}var lo={readContext:mt,useCallback:je,useContext:je,useEffect:je,useImperativeHandle:je,useInsertionEffect:je,useLayoutEffect:je,useMemo:je,useReducer:je,useRef:je,useState:je,useDebugValue:je,useDeferredValue:je,useTransition:je,useMutableSource:je,useSyncExternalStore:je,useId:je,unstable_isNewReconciler:!1},ky={readContext:mt,useCallback:function(t,e){return Lt().memoizedState=[t,e===void 0?null:e],t},useContext:mt,useEffect:vd,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Fs(4194308,4,up.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Fs(4194308,4,t,e)},useInsertionEffect:function(t,e){return Fs(4,2,t,e)},useMemo:function(t,e){var n=Lt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Lt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Ey.bind(null,he,t),[r.memoizedState,t]},useRef:function(t){var e=Lt();return t={current:t},e.memoizedState=t},useState:yd,useDebugValue:Mu,useDeferredValue:function(t){return Lt().memoizedState=t},useTransition:function(){var t=yd(!1),e=t[0];return t=Cy.bind(null,t[1]),Lt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=he,i=Lt();if(ce){if(n===void 0)throw Error(k(407));n=n()}else{if(n=e(),De===null)throw Error(k(349));Gn&30||tp(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,vd(rp.bind(null,r,s,t),[t]),r.flags|=2048,Ui(9,np.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Lt(),e=De.identifierPrefix;if(ce){var n=$t,r=Bt;n=(r&~(1<<32-xt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=zi++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Sy++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Ny={readContext:mt,useCallback:dp,useContext:mt,useEffect:Ou,useImperativeHandle:cp,useInsertionEffect:lp,useLayoutEffect:ap,useMemo:fp,useReducer:El,useRef:op,useState:function(){return El(Wi)},useDebugValue:Mu,useDeferredValue:function(t){var e=gt();return hp(e,xe.memoizedState,t)},useTransition:function(){var t=El(Wi)[0],e=gt().memoizedState;return[t,e]},useMutableSource:Zh,useSyncExternalStore:ep,useId:pp,unstable_isNewReconciler:!1},Ty={readContext:mt,useCallback:dp,useContext:mt,useEffect:Ou,useImperativeHandle:cp,useInsertionEffect:lp,useLayoutEffect:ap,useMemo:fp,useReducer:xl,useRef:op,useState:function(){return xl(Wi)},useDebugValue:Mu,useDeferredValue:function(t){var e=gt();return xe===null?e.memoizedState=t:hp(e,xe.memoizedState,t)},useTransition:function(){var t=xl(Wi)[0],e=gt().memoizedState;return[t,e]},useMutableSource:Zh,useSyncExternalStore:ep,useId:pp,unstable_isNewReconciler:!1};function yt(t,e){if(t&&t.defaultProps){e=pe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function va(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:pe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var zo={isMounted:function(t){return(t=t._reactInternals)?er(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ge(),i=yn(t),s=Ht(r,i);s.payload=e,n!=null&&(s.callback=n),e=gn(t,s,i),e!==null&&(kt(e,t,i,r),Ms(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ge(),i=yn(t),s=Ht(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=gn(t,s,i),e!==null&&(kt(e,t,i,r),Ms(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ge(),r=yn(t),i=Ht(n,r);i.tag=2,e!=null&&(i.callback=e),e=gn(t,i,r),e!==null&&(kt(e,t,r,n),Ms(e,t,r))}};function wd(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Li(n,r)||!Li(i,s):!0}function yp(t,e,n){var r=!1,i=xn,s=e.contextType;return typeof s=="object"&&s!==null?s=mt(s):(i=tt(e)?Vn:Ve.current,r=e.contextTypes,s=(r=r!=null)?Ar(t,i):xn),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=zo,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Sd(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&zo.enqueueReplaceState(e,e.state,null)}function wa(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Tu(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=mt(s):(s=tt(e)?Vn:Ve.current,i.context=Ar(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(va(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&zo.enqueueReplaceState(i,i.state,null),io(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Mr(t,e){try{var n="",r=e;do n+=t_(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function kl(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Sa(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Iy=typeof WeakMap=="function"?WeakMap:Map;function vp(t,e,n){n=Ht(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){uo||(uo=!0,Aa=r),Sa(t,e)},n}function wp(t,e,n){n=Ht(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Sa(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Sa(t,e),typeof r!="function"&&(_n===null?_n=new Set([this]):_n.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Cd(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Iy;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=By.bind(null,t,e,n),e.then(t,t))}function Ed(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function xd(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ht(-1,1),e.tag=2,gn(n,e,1))),n.lanes|=1),t)}var Py=en.ReactCurrentOwner,Xe=!1;function He(t,e,n,r){e.child=t===null?Kh(e,null,n,r):Lr(e,t.child,n,r)}function kd(t,e,n,r,i){n=n.render;var s=e.ref;return xr(e,i),r=Du(t,e,n,r,s,i),n=Lu(),t!==null&&!Xe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,qt(t,e,i)):(ce&&n&&wu(e),e.flags|=1,He(t,e,r,i),e.child)}function Nd(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!$u(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Sp(t,e,s,r,i)):(t=Us(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Li,n(o,r)&&t.ref===e.ref)return qt(t,e,i)}return e.flags|=1,t=vn(s,r),t.ref=e.ref,t.return=e,e.child=t}function Sp(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Li(s,r)&&t.ref===e.ref)if(Xe=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Xe=!0);else return e.lanes=t.lanes,qt(t,e,i)}return Ca(t,e,n,r,i)}function Cp(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},oe(yr,st),st|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,oe(yr,st),st|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,oe(yr,st),st|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,oe(yr,st),st|=r;return He(t,e,i,n),e.child}function Ep(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ca(t,e,n,r,i){var s=tt(n)?Vn:Ve.current;return s=Ar(e,s),xr(e,i),n=Du(t,e,n,r,s,i),r=Lu(),t!==null&&!Xe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,qt(t,e,i)):(ce&&r&&wu(e),e.flags|=1,He(t,e,n,i),e.child)}function Td(t,e,n,r,i){if(tt(n)){var s=!0;Zs(e)}else s=!1;if(xr(e,i),e.stateNode===null)js(t,e),yp(e,n,r),wa(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=mt(u):(u=tt(n)?Vn:Ve.current,u=Ar(e,u));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Sd(e,o,r,u),ln=!1;var f=e.memoizedState;o.state=f,io(e,r,o,i),a=e.memoizedState,l!==r||f!==a||et.current||ln?(typeof h=="function"&&(va(e,n,h,r),a=e.memoizedState),(l=ln||wd(e,n,l,r,f,a,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Xh(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:yt(e.type,l),o.props=u,d=e.pendingProps,f=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=mt(a):(a=tt(n)?Vn:Ve.current,a=Ar(e,a));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||f!==a)&&Sd(e,o,r,a),ln=!1,f=e.memoizedState,o.state=f,io(e,r,o,i);var v=e.memoizedState;l!==d||f!==v||et.current||ln?(typeof y=="function"&&(va(e,n,y,r),v=e.memoizedState),(u=ln||wd(e,n,u,r,f,v,a)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Ea(t,e,n,r,s,i)}function Ea(t,e,n,r,i,s){Ep(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&fd(e,n,!1),qt(t,e,s);r=e.stateNode,Py.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Lr(e,t.child,null,s),e.child=Lr(e,null,l,s)):He(t,e,l,s),e.memoizedState=r.state,i&&fd(e,n,!0),e.child}function xp(t){var e=t.stateNode;e.pendingContext?dd(t,e.pendingContext,e.pendingContext!==e.context):e.context&&dd(t,e.context,!1),Iu(t,e.containerInfo)}function Id(t,e,n,r,i){return Dr(),Cu(i),e.flags|=256,He(t,e,n,r),e.child}var xa={dehydrated:null,treeContext:null,retryLane:0};function ka(t){return{baseLanes:t,cachePool:null,transitions:null}}function kp(t,e,n){var r=e.pendingProps,i=fe.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),oe(fe,i&1),t===null)return _a(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Bo(o,r,0,null),t=$n(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ka(n),e.memoizedState=xa,t):bu(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Ry(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=vn(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=vn(l,s):(s=$n(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?ka(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=xa,r}return s=t.child,t=s.sibling,r=vn(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function bu(t,e){return e=Bo({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Es(t,e,n,r){return r!==null&&Cu(r),Lr(e,t.child,null,n),t=bu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Ry(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=kl(Error(k(422))),Es(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Bo({mode:"visible",children:r.children},i,0,null),s=$n(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Lr(e,t.child,null,o),e.child.memoizedState=ka(o),e.memoizedState=xa,s);if(!(e.mode&1))return Es(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(k(419)),r=kl(s,r,void 0),Es(t,e,o,r)}if(l=(o&t.childLanes)!==0,Xe||l){if(r=De,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Kt(t,i),kt(r,t,i,-1))}return Bu(),r=kl(Error(k(421))),Es(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=$y.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ot=mn(i.nextSibling),lt=e,ce=!0,wt=null,t!==null&&(dt[ft++]=Bt,dt[ft++]=$t,dt[ft++]=Hn,Bt=t.id,$t=t.overflow,Hn=e),e=bu(e,r.children),e.flags|=4096,e)}function Pd(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ya(t.return,e,n)}function Nl(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Np(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(He(t,e,r.children,n),r=fe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Pd(t,n,e);else if(t.tag===19)Pd(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(oe(fe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&so(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Nl(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&so(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Nl(e,!0,n,null,s);break;case"together":Nl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function js(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function qt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Qn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(k(153));if(e.child!==null){for(t=e.child,n=vn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=vn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Ay(t,e,n){switch(e.tag){case 3:xp(e),Dr();break;case 5:Jh(e);break;case 1:tt(e.type)&&Zs(e);break;case 4:Iu(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;oe(no,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(oe(fe,fe.current&1),e.flags|=128,null):n&e.child.childLanes?kp(t,e,n):(oe(fe,fe.current&1),t=qt(t,e,n),t!==null?t.sibling:null);oe(fe,fe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Np(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),oe(fe,fe.current),r)break;return null;case 22:case 23:return e.lanes=0,Cp(t,e,n)}return qt(t,e,n)}var Tp,Na,Ip,Pp;Tp=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Na=function(){};Ip=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,zn(bt.current);var s=null;switch(n){case"input":i=Yl(t,i),r=Yl(t,r),s=[];break;case"select":i=pe({},i,{value:void 0}),r=pe({},r,{value:void 0}),s=[];break;case"textarea":i=Xl(t,i),r=Xl(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Xs)}Zl(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ni.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ni.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&le("scroll",t),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Pp=function(t,e,n,r){n!==r&&(e.flags|=4)};function ni(t,e){if(!ce)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ze(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Dy(t,e,n){var r=e.pendingProps;switch(Su(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(e),null;case 1:return tt(e.type)&&Js(),ze(e),null;case 3:return r=e.stateNode,Or(),ue(et),ue(Ve),Ru(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ss(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,wt!==null&&(Oa(wt),wt=null))),Na(t,e),ze(e),null;case 5:Pu(e);var i=zn(ji.current);if(n=e.type,t!==null&&e.stateNode!=null)Ip(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(k(166));return ze(e),null}if(t=zn(bt.current),Ss(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ot]=e,r[bi]=s,t=(e.mode&1)!==0,n){case"dialog":le("cancel",r),le("close",r);break;case"iframe":case"object":case"embed":le("load",r);break;case"video":case"audio":for(i=0;i<di.length;i++)le(di[i],r);break;case"source":le("error",r);break;case"img":case"image":case"link":le("error",r),le("load",r);break;case"details":le("toggle",r);break;case"input":jc(r,s),le("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},le("invalid",r);break;case"textarea":Wc(r,s),le("invalid",r)}Zl(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&ws(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&ws(r.textContent,l,t),i=["children",""+l]):Ni.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&le("scroll",r)}switch(n){case"input":fs(r),zc(r,s,!0);break;case"textarea":fs(r),Uc(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Xs)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=rh(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ot]=e,t[bi]=r,Tp(t,e,!1,!1),e.stateNode=t;e:{switch(o=ea(n,r),n){case"dialog":le("cancel",t),le("close",t),i=r;break;case"iframe":case"object":case"embed":le("load",t),i=r;break;case"video":case"audio":for(i=0;i<di.length;i++)le(di[i],t);i=r;break;case"source":le("error",t),i=r;break;case"img":case"image":case"link":le("error",t),le("load",t),i=r;break;case"details":le("toggle",t),i=r;break;case"input":jc(t,r),i=Yl(t,r),le("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=pe({},r,{value:void 0}),le("invalid",t);break;case"textarea":Wc(t,r),i=Xl(t,r),le("invalid",t);break;default:i=r}Zl(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?oh(t,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&ih(t,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Ti(t,a):typeof a=="number"&&Ti(t,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ni.hasOwnProperty(s)?a!=null&&s==="onScroll"&&le("scroll",t):a!=null&&ou(t,s,a,o))}switch(n){case"input":fs(t),zc(t,r,!1);break;case"textarea":fs(t),Uc(t);break;case"option":r.value!=null&&t.setAttribute("value",""+En(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?wr(t,!!r.multiple,s,!1):r.defaultValue!=null&&wr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Xs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ze(e),null;case 6:if(t&&e.stateNode!=null)Pp(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(k(166));if(n=zn(ji.current),zn(bt.current),Ss(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ot]=e,(s=r.nodeValue!==n)&&(t=lt,t!==null))switch(t.tag){case 3:ws(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ws(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ot]=e,e.stateNode=r}return ze(e),null;case 13:if(ue(fe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ce&&ot!==null&&e.mode&1&&!(e.flags&128))Qh(),Dr(),e.flags|=98560,s=!1;else if(s=Ss(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(k(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(k(317));s[Ot]=e}else Dr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ze(e),s=!1}else wt!==null&&(Oa(wt),wt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||fe.current&1?Ne===0&&(Ne=3):Bu())),e.updateQueue!==null&&(e.flags|=4),ze(e),null);case 4:return Or(),Na(t,e),t===null&&Oi(e.stateNode.containerInfo),ze(e),null;case 10:return ku(e.type._context),ze(e),null;case 17:return tt(e.type)&&Js(),ze(e),null;case 19:if(ue(fe),s=e.memoizedState,s===null)return ze(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ni(s,!1);else{if(Ne!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=so(t),o!==null){for(e.flags|=128,ni(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return oe(fe,fe.current&1|2),e.child}t=t.sibling}s.tail!==null&&we()>br&&(e.flags|=128,r=!0,ni(s,!1),e.lanes=4194304)}else{if(!r)if(t=so(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ni(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ce)return ze(e),null}else 2*we()-s.renderingStartTime>br&&n!==1073741824&&(e.flags|=128,r=!0,ni(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=we(),e.sibling=null,n=fe.current,oe(fe,r?n&1|2:n&1),e):(ze(e),null);case 22:case 23:return Uu(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?st&1073741824&&(ze(e),e.subtreeFlags&6&&(e.flags|=8192)):ze(e),null;case 24:return null;case 25:return null}throw Error(k(156,e.tag))}function Ly(t,e){switch(Su(e),e.tag){case 1:return tt(e.type)&&Js(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Or(),ue(et),ue(Ve),Ru(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Pu(e),null;case 13:if(ue(fe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(k(340));Dr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ue(fe),null;case 4:return Or(),null;case 10:return ku(e.type._context),null;case 22:case 23:return Uu(),null;case 24:return null;default:return null}}var xs=!1,Be=!1,Oy=typeof WeakSet=="function"?WeakSet:Set,L=null;function _r(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ge(t,e,r)}else n.current=null}function Ta(t,e,n){try{n()}catch(r){ge(t,e,r)}}var Rd=!1;function My(t,e){if(ca=Ys,t=Oh(),vu(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,h=0,d=t,f=null;t:for(;;){for(var y;d!==n||i!==0&&d.nodeType!==3||(l=o+i),d!==s||r!==0&&d.nodeType!==3||(a=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(y=d.firstChild)!==null;)f=d,d=y;for(;;){if(d===t)break t;if(f===n&&++u===i&&(l=o),f===s&&++h===r&&(a=o),(y=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=y}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(da={focusedElem:t,selectionRange:n},Ys=!1,L=e;L!==null;)if(e=L,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,L=t;else for(;L!==null;){e=L;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var S=v.memoizedProps,E=v.memoizedState,g=e.stateNode,p=g.getSnapshotBeforeUpdate(e.elementType===e.type?S:yt(e.type,S),E);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(k(163))}}catch(C){ge(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,L=t;break}L=e.return}return v=Rd,Rd=!1,v}function yi(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Ta(e,n,s)}i=i.next}while(i!==r)}}function Wo(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ia(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Rp(t){var e=t.alternate;e!==null&&(t.alternate=null,Rp(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ot],delete e[bi],delete e[pa],delete e[_y],delete e[yy])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ap(t){return t.tag===5||t.tag===3||t.tag===4}function Ad(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ap(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Pa(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Xs));else if(r!==4&&(t=t.child,t!==null))for(Pa(t,e,n),t=t.sibling;t!==null;)Pa(t,e,n),t=t.sibling}function Ra(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ra(t,e,n),t=t.sibling;t!==null;)Ra(t,e,n),t=t.sibling}var Le=null,vt=!1;function nn(t,e,n){for(n=n.child;n!==null;)Dp(t,e,n),n=n.sibling}function Dp(t,e,n){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(Do,n)}catch{}switch(n.tag){case 5:Be||_r(n,e);case 6:var r=Le,i=vt;Le=null,nn(t,e,n),Le=r,vt=i,Le!==null&&(vt?(t=Le,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Le.removeChild(n.stateNode));break;case 18:Le!==null&&(vt?(t=Le,n=n.stateNode,t.nodeType===8?vl(t.parentNode,n):t.nodeType===1&&vl(t,n),Ai(t)):vl(Le,n.stateNode));break;case 4:r=Le,i=vt,Le=n.stateNode.containerInfo,vt=!0,nn(t,e,n),Le=r,vt=i;break;case 0:case 11:case 14:case 15:if(!Be&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Ta(n,e,o),i=i.next}while(i!==r)}nn(t,e,n);break;case 1:if(!Be&&(_r(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ge(n,e,l)}nn(t,e,n);break;case 21:nn(t,e,n);break;case 22:n.mode&1?(Be=(r=Be)||n.memoizedState!==null,nn(t,e,n),Be=r):nn(t,e,n);break;default:nn(t,e,n)}}function Dd(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Oy),e.forEach(function(r){var i=Vy.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function _t(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Le=l.stateNode,vt=!1;break e;case 3:Le=l.stateNode.containerInfo,vt=!0;break e;case 4:Le=l.stateNode.containerInfo,vt=!0;break e}l=l.return}if(Le===null)throw Error(k(160));Dp(s,o,i),Le=null,vt=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){ge(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Lp(e,t),e=e.sibling}function Lp(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(_t(e,t),Dt(t),r&4){try{yi(3,t,t.return),Wo(3,t)}catch(S){ge(t,t.return,S)}try{yi(5,t,t.return)}catch(S){ge(t,t.return,S)}}break;case 1:_t(e,t),Dt(t),r&512&&n!==null&&_r(n,n.return);break;case 5:if(_t(e,t),Dt(t),r&512&&n!==null&&_r(n,n.return),t.flags&32){var i=t.stateNode;try{Ti(i,"")}catch(S){ge(t,t.return,S)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&th(i,s),ea(l,o);var u=ea(l,s);for(o=0;o<a.length;o+=2){var h=a[o],d=a[o+1];h==="style"?oh(i,d):h==="dangerouslySetInnerHTML"?ih(i,d):h==="children"?Ti(i,d):ou(i,h,d,u)}switch(l){case"input":Kl(i,s);break;case"textarea":nh(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?wr(i,!!s.multiple,y,!1):f!==!!s.multiple&&(s.defaultValue!=null?wr(i,!!s.multiple,s.defaultValue,!0):wr(i,!!s.multiple,s.multiple?[]:"",!1))}i[bi]=s}catch(S){ge(t,t.return,S)}}break;case 6:if(_t(e,t),Dt(t),r&4){if(t.stateNode===null)throw Error(k(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(S){ge(t,t.return,S)}}break;case 3:if(_t(e,t),Dt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ai(e.containerInfo)}catch(S){ge(t,t.return,S)}break;case 4:_t(e,t),Dt(t);break;case 13:_t(e,t),Dt(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(zu=we())),r&4&&Dd(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Be=(u=Be)||h,_t(e,t),Be=u):_t(e,t),Dt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(L=t,h=t.child;h!==null;){for(d=L=h;L!==null;){switch(f=L,y=f.child,f.tag){case 0:case 11:case 14:case 15:yi(4,f,f.return);break;case 1:_r(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(S){ge(r,n,S)}}break;case 5:_r(f,f.return);break;case 22:if(f.memoizedState!==null){Od(d);continue}}y!==null?(y.return=f,L=y):Od(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=d.stateNode,a=d.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=sh("display",o))}catch(S){ge(t,t.return,S)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(S){ge(t,t.return,S)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:_t(e,t),Dt(t),r&4&&Dd(t);break;case 21:break;default:_t(e,t),Dt(t)}}function Dt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Ap(n)){var r=n;break e}n=n.return}throw Error(k(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ti(i,""),r.flags&=-33);var s=Ad(t);Ra(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Ad(t);Pa(t,l,o);break;default:throw Error(k(161))}}catch(a){ge(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function by(t,e,n){L=t,Op(t)}function Op(t,e,n){for(var r=(t.mode&1)!==0;L!==null;){var i=L,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||xs;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||Be;l=xs;var u=Be;if(xs=o,(Be=a)&&!u)for(L=i;L!==null;)o=L,a=o.child,o.tag===22&&o.memoizedState!==null?Md(i):a!==null?(a.return=o,L=a):Md(i);for(;s!==null;)L=s,Op(s),s=s.sibling;L=i,xs=l,Be=u}Ld(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,L=s):Ld(t)}}function Ld(t){for(;L!==null;){var e=L;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Be||Wo(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Be)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:yt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&_d(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}_d(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Ai(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(k(163))}Be||e.flags&512&&Ia(e)}catch(f){ge(e,e.return,f)}}if(e===t){L=null;break}if(n=e.sibling,n!==null){n.return=e.return,L=n;break}L=e.return}}function Od(t){for(;L!==null;){var e=L;if(e===t){L=null;break}var n=e.sibling;if(n!==null){n.return=e.return,L=n;break}L=e.return}}function Md(t){for(;L!==null;){var e=L;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Wo(4,e)}catch(a){ge(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){ge(e,i,a)}}var s=e.return;try{Ia(e)}catch(a){ge(e,s,a)}break;case 5:var o=e.return;try{Ia(e)}catch(a){ge(e,o,a)}}}catch(a){ge(e,e.return,a)}if(e===t){L=null;break}var l=e.sibling;if(l!==null){l.return=e.return,L=l;break}L=e.return}}var Fy=Math.ceil,ao=en.ReactCurrentDispatcher,Fu=en.ReactCurrentOwner,pt=en.ReactCurrentBatchConfig,q=0,De=null,Ce=null,Me=0,st=0,yr=In(0),Ne=0,Bi=null,Qn=0,Uo=0,ju=0,vi=null,qe=null,zu=0,br=1/0,Wt=null,uo=!1,Aa=null,_n=null,ks=!1,dn=null,co=0,wi=0,Da=null,zs=-1,Ws=0;function Ge(){return q&6?we():zs!==-1?zs:zs=we()}function yn(t){return t.mode&1?q&2&&Me!==0?Me&-Me:wy.transition!==null?(Ws===0&&(Ws=yh()),Ws):(t=Z,t!==0||(t=window.event,t=t===void 0?16:kh(t.type)),t):1}function kt(t,e,n,r){if(50<wi)throw wi=0,Da=null,Error(k(185));es(t,n,r),(!(q&2)||t!==De)&&(t===De&&(!(q&2)&&(Uo|=n),Ne===4&&un(t,Me)),nt(t,r),n===1&&q===0&&!(e.mode&1)&&(br=we()+500,Fo&&Pn()))}function nt(t,e){var n=t.callbackNode;w_(t,e);var r=Qs(t,t===De?Me:0);if(r===0)n!==null&&Vc(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Vc(n),e===1)t.tag===0?vy(bd.bind(null,t)):Vh(bd.bind(null,t)),my(function(){!(q&6)&&Pn()}),n=null;else{switch(vh(r)){case 1:n=du;break;case 4:n=gh;break;case 16:n=Gs;break;case 536870912:n=_h;break;default:n=Gs}n=Bp(n,Mp.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Mp(t,e){if(zs=-1,Ws=0,q&6)throw Error(k(327));var n=t.callbackNode;if(kr()&&t.callbackNode!==n)return null;var r=Qs(t,t===De?Me:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=fo(t,r);else{e=r;var i=q;q|=2;var s=Fp();(De!==t||Me!==e)&&(Wt=null,br=we()+500,Bn(t,e));do try{Wy();break}catch(l){bp(t,l)}while(!0);xu(),ao.current=s,q=i,Ce!==null?e=0:(De=null,Me=0,e=Ne)}if(e!==0){if(e===2&&(i=sa(t),i!==0&&(r=i,e=La(t,i))),e===1)throw n=Bi,Bn(t,0),un(t,r),nt(t,we()),n;if(e===6)un(t,r);else{if(i=t.current.alternate,!(r&30)&&!jy(i)&&(e=fo(t,r),e===2&&(s=sa(t),s!==0&&(r=s,e=La(t,s))),e===1))throw n=Bi,Bn(t,0),un(t,r),nt(t,we()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(k(345));case 2:On(t,qe,Wt);break;case 3:if(un(t,r),(r&130023424)===r&&(e=zu+500-we(),10<e)){if(Qs(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ge(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ha(On.bind(null,t,qe,Wt),e);break}On(t,qe,Wt);break;case 4:if(un(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-xt(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=we()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Fy(r/1960))-r,10<r){t.timeoutHandle=ha(On.bind(null,t,qe,Wt),r);break}On(t,qe,Wt);break;case 5:On(t,qe,Wt);break;default:throw Error(k(329))}}}return nt(t,we()),t.callbackNode===n?Mp.bind(null,t):null}function La(t,e){var n=vi;return t.current.memoizedState.isDehydrated&&(Bn(t,e).flags|=256),t=fo(t,e),t!==2&&(e=qe,qe=n,e!==null&&Oa(e)),t}function Oa(t){qe===null?qe=t:qe.push.apply(qe,t)}function jy(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Tt(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function un(t,e){for(e&=~ju,e&=~Uo,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-xt(e),r=1<<n;t[n]=-1,e&=~r}}function bd(t){if(q&6)throw Error(k(327));kr();var e=Qs(t,0);if(!(e&1))return nt(t,we()),null;var n=fo(t,e);if(t.tag!==0&&n===2){var r=sa(t);r!==0&&(e=r,n=La(t,r))}if(n===1)throw n=Bi,Bn(t,0),un(t,e),nt(t,we()),n;if(n===6)throw Error(k(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,On(t,qe,Wt),nt(t,we()),null}function Wu(t,e){var n=q;q|=1;try{return t(e)}finally{q=n,q===0&&(br=we()+500,Fo&&Pn())}}function Yn(t){dn!==null&&dn.tag===0&&!(q&6)&&kr();var e=q;q|=1;var n=pt.transition,r=Z;try{if(pt.transition=null,Z=1,t)return t()}finally{Z=r,pt.transition=n,q=e,!(q&6)&&Pn()}}function Uu(){st=yr.current,ue(yr)}function Bn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,py(n)),Ce!==null)for(n=Ce.return;n!==null;){var r=n;switch(Su(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Js();break;case 3:Or(),ue(et),ue(Ve),Ru();break;case 5:Pu(r);break;case 4:Or();break;case 13:ue(fe);break;case 19:ue(fe);break;case 10:ku(r.type._context);break;case 22:case 23:Uu()}n=n.return}if(De=t,Ce=t=vn(t.current,null),Me=st=e,Ne=0,Bi=null,ju=Uo=Qn=0,qe=vi=null,jn!==null){for(e=0;e<jn.length;e++)if(n=jn[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}jn=null}return t}function bp(t,e){do{var n=Ce;try{if(xu(),bs.current=lo,oo){for(var r=he.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}oo=!1}if(Gn=0,Pe=xe=he=null,_i=!1,zi=0,Fu.current=null,n===null||n.return===null){Ne=1,Bi=e,Ce=null;break}e:{var s=t,o=n.return,l=n,a=e;if(e=Me,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,h=l,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=Ed(o);if(y!==null){y.flags&=-257,xd(y,o,l,s,e),y.mode&1&&Cd(s,u,e),e=y,a=u;var v=e.updateQueue;if(v===null){var S=new Set;S.add(a),e.updateQueue=S}else v.add(a);break e}else{if(!(e&1)){Cd(s,u,e),Bu();break e}a=Error(k(426))}}else if(ce&&l.mode&1){var E=Ed(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),xd(E,o,l,s,e),Cu(Mr(a,l));break e}}s=a=Mr(a,l),Ne!==4&&(Ne=2),vi===null?vi=[s]:vi.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=vp(s,a,e);gd(s,g);break e;case 1:l=a;var p=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(_n===null||!_n.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=wp(s,l,e);gd(s,C);break e}}s=s.return}while(s!==null)}zp(n)}catch(T){e=T,Ce===n&&n!==null&&(Ce=n=n.return);continue}break}while(!0)}function Fp(){var t=ao.current;return ao.current=lo,t===null?lo:t}function Bu(){(Ne===0||Ne===3||Ne===2)&&(Ne=4),De===null||!(Qn&268435455)&&!(Uo&268435455)||un(De,Me)}function fo(t,e){var n=q;q|=2;var r=Fp();(De!==t||Me!==e)&&(Wt=null,Bn(t,e));do try{zy();break}catch(i){bp(t,i)}while(!0);if(xu(),q=n,ao.current=r,Ce!==null)throw Error(k(261));return De=null,Me=0,Ne}function zy(){for(;Ce!==null;)jp(Ce)}function Wy(){for(;Ce!==null&&!d_();)jp(Ce)}function jp(t){var e=Up(t.alternate,t,st);t.memoizedProps=t.pendingProps,e===null?zp(t):Ce=e,Fu.current=null}function zp(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Ly(n,e),n!==null){n.flags&=32767,Ce=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ne=6,Ce=null;return}}else if(n=Dy(n,e,st),n!==null){Ce=n;return}if(e=e.sibling,e!==null){Ce=e;return}Ce=e=t}while(e!==null);Ne===0&&(Ne=5)}function On(t,e,n){var r=Z,i=pt.transition;try{pt.transition=null,Z=1,Uy(t,e,n,r)}finally{pt.transition=i,Z=r}return null}function Uy(t,e,n,r){do kr();while(dn!==null);if(q&6)throw Error(k(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(k(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(S_(t,s),t===De&&(Ce=De=null,Me=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ks||(ks=!0,Bp(Gs,function(){return kr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=pt.transition,pt.transition=null;var o=Z;Z=1;var l=q;q|=4,Fu.current=null,My(t,n),Lp(n,t),ly(da),Ys=!!ca,da=ca=null,t.current=n,by(n),f_(),q=l,Z=o,pt.transition=s}else t.current=n;if(ks&&(ks=!1,dn=t,co=i),s=t.pendingLanes,s===0&&(_n=null),m_(n.stateNode),nt(t,we()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(uo)throw uo=!1,t=Aa,Aa=null,t;return co&1&&t.tag!==0&&kr(),s=t.pendingLanes,s&1?t===Da?wi++:(wi=0,Da=t):wi=0,Pn(),null}function kr(){if(dn!==null){var t=vh(co),e=pt.transition,n=Z;try{if(pt.transition=null,Z=16>t?16:t,dn===null)var r=!1;else{if(t=dn,dn=null,co=0,q&6)throw Error(k(331));var i=q;for(q|=4,L=t.current;L!==null;){var s=L,o=s.child;if(L.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(L=u;L!==null;){var h=L;switch(h.tag){case 0:case 11:case 15:yi(8,h,s)}var d=h.child;if(d!==null)d.return=h,L=d;else for(;L!==null;){h=L;var f=h.sibling,y=h.return;if(Rp(h),h===u){L=null;break}if(f!==null){f.return=y,L=f;break}L=y}}}var v=s.alternate;if(v!==null){var S=v.child;if(S!==null){v.child=null;do{var E=S.sibling;S.sibling=null,S=E}while(S!==null)}}L=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,L=o;else e:for(;L!==null;){if(s=L,s.flags&2048)switch(s.tag){case 0:case 11:case 15:yi(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,L=g;break e}L=s.return}}var p=t.current;for(L=p;L!==null;){o=L;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,L=_;else e:for(o=p;L!==null;){if(l=L,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Wo(9,l)}}catch(T){ge(l,l.return,T)}if(l===o){L=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,L=C;break e}L=l.return}}if(q=i,Pn(),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(Do,t)}catch{}r=!0}return r}finally{Z=n,pt.transition=e}}return!1}function Fd(t,e,n){e=Mr(n,e),e=vp(t,e,1),t=gn(t,e,1),e=Ge(),t!==null&&(es(t,1,e),nt(t,e))}function ge(t,e,n){if(t.tag===3)Fd(t,t,n);else for(;e!==null;){if(e.tag===3){Fd(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_n===null||!_n.has(r))){t=Mr(n,t),t=wp(e,t,1),e=gn(e,t,1),t=Ge(),e!==null&&(es(e,1,t),nt(e,t));break}}e=e.return}}function By(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ge(),t.pingedLanes|=t.suspendedLanes&n,De===t&&(Me&n)===n&&(Ne===4||Ne===3&&(Me&130023424)===Me&&500>we()-zu?Bn(t,0):ju|=n),nt(t,e)}function Wp(t,e){e===0&&(t.mode&1?(e=ms,ms<<=1,!(ms&130023424)&&(ms=4194304)):e=1);var n=Ge();t=Kt(t,e),t!==null&&(es(t,e,n),nt(t,n))}function $y(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Wp(t,n)}function Vy(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(k(314))}r!==null&&r.delete(e),Wp(t,n)}var Up;Up=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||et.current)Xe=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Xe=!1,Ay(t,e,n);Xe=!!(t.flags&131072)}else Xe=!1,ce&&e.flags&1048576&&Hh(e,to,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;js(t,e),t=e.pendingProps;var i=Ar(e,Ve.current);xr(e,n),i=Du(null,e,r,t,i,n);var s=Lu();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,tt(r)?(s=!0,Zs(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Tu(e),i.updater=zo,e.stateNode=i,i._reactInternals=e,wa(e,r,t,n),e=Ea(null,e,r,!0,s,n)):(e.tag=0,ce&&s&&wu(e),He(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(js(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Gy(r),t=yt(r,t),i){case 0:e=Ca(null,e,r,t,n);break e;case 1:e=Td(null,e,r,t,n);break e;case 11:e=kd(null,e,r,t,n);break e;case 14:e=Nd(null,e,r,yt(r.type,t),n);break e}throw Error(k(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yt(r,i),Ca(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yt(r,i),Td(t,e,r,i,n);case 3:e:{if(xp(e),t===null)throw Error(k(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Xh(t,e),io(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Mr(Error(k(423)),e),e=Id(t,e,r,n,i);break e}else if(r!==i){i=Mr(Error(k(424)),e),e=Id(t,e,r,n,i);break e}else for(ot=mn(e.stateNode.containerInfo.firstChild),lt=e,ce=!0,wt=null,n=Kh(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Dr(),r===i){e=qt(t,e,n);break e}He(t,e,r,n)}e=e.child}return e;case 5:return Jh(e),t===null&&_a(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,fa(r,i)?o=null:s!==null&&fa(r,s)&&(e.flags|=32),Ep(t,e),He(t,e,o,n),e.child;case 6:return t===null&&_a(e),null;case 13:return kp(t,e,n);case 4:return Iu(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Lr(e,null,r,n):He(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yt(r,i),kd(t,e,r,i,n);case 7:return He(t,e,e.pendingProps,n),e.child;case 8:return He(t,e,e.pendingProps.children,n),e.child;case 12:return He(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,oe(no,r._currentValue),r._currentValue=o,s!==null)if(Tt(s.value,o)){if(s.children===i.children&&!et.current){e=qt(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=Ht(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?a.next=a:(a.next=h.next,h.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),ya(s.return,n,e),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(k(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),ya(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}He(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,xr(e,n),i=mt(i),r=r(i),e.flags|=1,He(t,e,r,n),e.child;case 14:return r=e.type,i=yt(r,e.pendingProps),i=yt(r.type,i),Nd(t,e,r,i,n);case 15:return Sp(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yt(r,i),js(t,e),e.tag=1,tt(r)?(t=!0,Zs(e)):t=!1,xr(e,n),yp(e,r,i),wa(e,r,i,n),Ea(null,e,r,!0,t,n);case 19:return Np(t,e,n);case 22:return Cp(t,e,n)}throw Error(k(156,e.tag))};function Bp(t,e){return mh(t,e)}function Hy(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ht(t,e,n,r){return new Hy(t,e,n,r)}function $u(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Gy(t){if(typeof t=="function")return $u(t)?1:0;if(t!=null){if(t=t.$$typeof,t===au)return 11;if(t===uu)return 14}return 2}function vn(t,e){var n=t.alternate;return n===null?(n=ht(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Us(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")$u(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ar:return $n(n.children,i,s,e);case lu:o=8,i|=8;break;case Vl:return t=ht(12,n,e,i|2),t.elementType=Vl,t.lanes=s,t;case Hl:return t=ht(13,n,e,i),t.elementType=Hl,t.lanes=s,t;case Gl:return t=ht(19,n,e,i),t.elementType=Gl,t.lanes=s,t;case Jf:return Bo(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case qf:o=10;break e;case Xf:o=9;break e;case au:o=11;break e;case uu:o=14;break e;case on:o=16,r=null;break e}throw Error(k(130,t==null?t:typeof t,""))}return e=ht(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function $n(t,e,n,r){return t=ht(7,t,r,e),t.lanes=n,t}function Bo(t,e,n,r){return t=ht(22,t,r,e),t.elementType=Jf,t.lanes=n,t.stateNode={isHidden:!1},t}function Tl(t,e,n){return t=ht(6,t,null,e),t.lanes=n,t}function Il(t,e,n){return e=ht(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Qy(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=al(0),this.expirationTimes=al(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=al(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vu(t,e,n,r,i,s,o,l,a){return t=new Qy(t,e,n,l,a),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ht(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tu(s),t}function Yy(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function $p(t){if(!t)return xn;t=t._reactInternals;e:{if(er(t)!==t||t.tag!==1)throw Error(k(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(tt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(k(171))}if(t.tag===1){var n=t.type;if(tt(n))return $h(t,n,e)}return e}function Vp(t,e,n,r,i,s,o,l,a){return t=Vu(n,r,!0,t,i,s,o,l,a),t.context=$p(null),n=t.current,r=Ge(),i=yn(n),s=Ht(r,i),s.callback=e??null,gn(n,s,i),t.current.lanes=i,es(t,i,r),nt(t,r),t}function $o(t,e,n,r){var i=e.current,s=Ge(),o=yn(i);return n=$p(n),e.context===null?e.context=n:e.pendingContext=n,e=Ht(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=gn(i,e,o),t!==null&&(kt(t,i,o,s),Ms(t,i,o)),o}function ho(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function jd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Hu(t,e){jd(t,e),(t=t.alternate)&&jd(t,e)}function Ky(){return null}var Hp=typeof reportError=="function"?reportError:function(t){console.error(t)};function Gu(t){this._internalRoot=t}Vo.prototype.render=Gu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(k(409));$o(t,e,null,null)};Vo.prototype.unmount=Gu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Yn(function(){$o(null,t,null,null)}),e[Yt]=null}};function Vo(t){this._internalRoot=t}Vo.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ch();t={blockedOn:null,target:t,priority:e};for(var n=0;n<an.length&&e!==0&&e<an[n].priority;n++);an.splice(n,0,t),n===0&&xh(t)}};function Qu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ho(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function zd(){}function qy(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=ho(o);s.call(u)}}var o=Vp(e,r,t,0,null,!1,!1,"",zd);return t._reactRootContainer=o,t[Yt]=o.current,Oi(t.nodeType===8?t.parentNode:t),Yn(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=ho(a);l.call(u)}}var a=Vu(t,0,!1,null,null,!1,!1,"",zd);return t._reactRootContainer=a,t[Yt]=a.current,Oi(t.nodeType===8?t.parentNode:t),Yn(function(){$o(e,a,n,r)}),a}function Go(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=ho(o);l.call(a)}}$o(e,o,t,i)}else o=qy(n,e,t,i,r);return ho(o)}wh=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ci(e.pendingLanes);n!==0&&(fu(e,n|1),nt(e,we()),!(q&6)&&(br=we()+500,Pn()))}break;case 13:Yn(function(){var r=Kt(t,1);if(r!==null){var i=Ge();kt(r,t,1,i)}}),Hu(t,1)}};hu=function(t){if(t.tag===13){var e=Kt(t,134217728);if(e!==null){var n=Ge();kt(e,t,134217728,n)}Hu(t,134217728)}};Sh=function(t){if(t.tag===13){var e=yn(t),n=Kt(t,e);if(n!==null){var r=Ge();kt(n,t,e,r)}Hu(t,e)}};Ch=function(){return Z};Eh=function(t,e){var n=Z;try{return Z=t,e()}finally{Z=n}};na=function(t,e,n){switch(e){case"input":if(Kl(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=bo(r);if(!i)throw Error(k(90));eh(r),Kl(r,i)}}}break;case"textarea":nh(t,n);break;case"select":e=n.value,e!=null&&wr(t,!!n.multiple,e,!1)}};uh=Wu;ch=Yn;var Xy={usingClientEntryPoint:!1,Events:[ns,fr,bo,lh,ah,Wu]},ri={findFiberByHostInstance:Fn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Jy={bundleType:ri.bundleType,version:ri.version,rendererPackageName:ri.rendererPackageName,rendererConfig:ri.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:en.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=hh(t),t===null?null:t.stateNode},findFiberByHostInstance:ri.findFiberByHostInstance||Ky,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ns=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ns.isDisabled&&Ns.supportsFiber)try{Do=Ns.inject(Jy),Mt=Ns}catch{}}ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xy;ut.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qu(e))throw Error(k(200));return Yy(t,e,null,n)};ut.createRoot=function(t,e){if(!Qu(t))throw Error(k(299));var n=!1,r="",i=Hp;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Vu(t,1,!1,null,null,n,!1,r,i),t[Yt]=e.current,Oi(t.nodeType===8?t.parentNode:t),new Gu(e)};ut.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(k(188)):(t=Object.keys(t).join(","),Error(k(268,t)));return t=hh(e),t=t===null?null:t.stateNode,t};ut.flushSync=function(t){return Yn(t)};ut.hydrate=function(t,e,n){if(!Ho(e))throw Error(k(200));return Go(null,t,e,!0,n)};ut.hydrateRoot=function(t,e,n){if(!Qu(t))throw Error(k(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Hp;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Vp(e,null,t,1,n??null,i,!1,s,o),t[Yt]=e.current,Oi(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Vo(e)};ut.render=function(t,e,n){if(!Ho(e))throw Error(k(200));return Go(null,t,e,!1,n)};ut.unmountComponentAtNode=function(t){if(!Ho(t))throw Error(k(40));return t._reactRootContainer?(Yn(function(){Go(null,null,t,!1,function(){t._reactRootContainer=null,t[Yt]=null})}),!0):!1};ut.unstable_batchedUpdates=Wu;ut.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ho(n))throw Error(k(200));if(t==null||t._reactInternals===void 0)throw Error(k(38));return Go(t,e,n,!1,r)};ut.version="18.3.1-next-f1338f8080-20240426";function Gp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Gp)}catch(t){console.error(t)}}Gp(),Gf.exports=ut;var Zy=Gf.exports,Wd=Zy;Bl.createRoot=Wd.createRoot,Bl.hydrateRoot=Wd.hydrateRoot;var Ud={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I=function(t,e){if(!t)throw Vr(e)},Vr=function(t){return new Error("Firebase Database ("+Qp.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},ev=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(a&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Yu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,a=i+2<t.length,u=a?t[i+2]:0,h=s>>2,d=(s&3)<<4|l>>4;let f=(l&15)<<2|u>>6,y=u&63;a||(y=64,o||(f=64)),r.push(n[h],n[d],n[f],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Yp(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ev(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||u==null||d==null)throw new tv;const f=s<<2|l>>4;if(r.push(f),u!==64){const y=l<<4&240|u>>2;if(r.push(y),d!==64){const v=u<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class tv extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Kp=function(t){const e=Yp(t);return Yu.encodeByteArray(e,!0)},po=function(t){return Kp(t).replace(/\./g,"")},Ma=function(t){try{return Yu.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(t){return qp(void 0,t)}function qp(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!rv(n)||(t[n]=qp(t[n],e[n]));return t}function rv(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv=()=>iv().__FIREBASE_DEFAULTS__,ov=()=>{if(typeof process>"u"||typeof Ud>"u")return;const t=Ud.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},lv=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ma(t[1]);return e&&JSON.parse(e)},Xp=()=>{try{return sv()||ov()||lv()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},av=t=>{var e,n;return(n=(e=Xp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},uv=t=>{const e=av(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Jp=()=>{var t;return(t=Xp())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[po(JSON.stringify(n)),po(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Zp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dv())}function fv(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hv(){return Qp.NODE_ADMIN===!0}function pv(){try{return typeof indexedDB=="object"}catch{return!1}}function mv(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv="FirebaseError";class is extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=gv,Object.setPrototypeOf(this,is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,em.prototype.create)}}class em{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?_v(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new is(i,l,r)}}function _v(t,e){return t.replace(yv,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const yv=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(t){return JSON.parse(t)}function Ae(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=$i(Ma(s[0])||""),n=$i(Ma(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},vv=function(t){const e=tm(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},wv=function(t){const e=tm(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Fr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Bd(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function mo(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function ba(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if($d(s)&&$d(o)){if(!ba(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function $d(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],a=this.chain_[4],u,h;for(let d=0;d<80;d++){d<40?d<20?(u=l^s&(o^l),h=1518500249):(u=s^o^l,h=1859775393):d<60?(u=s&o|l&(s|o),h=2400959708):(u=s^o^l,h=3395469782);const f=(i<<5|i>>>27)+u+a+h+r[d]&4294967295;a=l,l=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function Ku(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,I(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Yo=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(t){return t&&t._delegate?t._delegate:t}class Vi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Qo;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Nv(e))try{this.getOrInitializeService({instanceIdentifier:Mn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Mn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Mn){return this.instances.has(e)}getOptions(e=Mn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:kv(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Mn){return this.component?this.component.multipleInstances?e:Mn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kv(t){return t===Mn?void 0:t}function Nv(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new xv(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ie;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ie||(ie={}));const Iv={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},Pv=ie.INFO,Rv={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},Av=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Rv[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class nm{constructor(e){this.name=e,this._logLevel=Pv,this._logHandler=Av,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Iv[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...e),this._logHandler(this,ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...e),this._logHandler(this,ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...e),this._logHandler(this,ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...e),this._logHandler(this,ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...e),this._logHandler(this,ie.ERROR,...e)}}const Dv=(t,e)=>e.some(n=>t instanceof n);let Vd,Hd;function Lv(){return Vd||(Vd=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ov(){return Hd||(Hd=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rm=new WeakMap,Fa=new WeakMap,im=new WeakMap,Pl=new WeakMap,qu=new WeakMap;function Mv(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(wn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&rm.set(n,t)}).catch(()=>{}),qu.set(e,t),e}function bv(t){if(Fa.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Fa.set(t,e)}let ja={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Fa.get(t);if(e==="objectStoreNames")return t.objectStoreNames||im.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Fv(t){ja=t(ja)}function jv(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Rl(this),e,...n);return im.set(r,e.sort?e.sort():[e]),wn(r)}:Ov().includes(t)?function(...e){return t.apply(Rl(this),e),wn(rm.get(this))}:function(...e){return wn(t.apply(Rl(this),e))}}function zv(t){return typeof t=="function"?jv(t):(t instanceof IDBTransaction&&bv(t),Dv(t,Lv())?new Proxy(t,ja):t)}function wn(t){if(t instanceof IDBRequest)return Mv(t);if(Pl.has(t))return Pl.get(t);const e=zv(t);return e!==t&&(Pl.set(t,e),qu.set(e,t)),e}const Rl=t=>qu.get(t);function Wv(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=wn(o);return r&&o.addEventListener("upgradeneeded",a=>{r(wn(o.result),a.oldVersion,a.newVersion,wn(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const Uv=["get","getKey","getAll","getAllKeys","count"],Bv=["put","add","delete","clear"],Al=new Map;function Gd(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Al.get(e))return Al.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Bv.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Uv.includes(n)))return;const s=async function(o,...l){const a=this.transaction(o,i?"readwrite":"readonly");let u=a.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&a.done]))[0]};return Al.set(e,s),s}Fv(t=>({...t,get:(e,n,r)=>Gd(e,n)||t.get(e,n,r),has:(e,n)=>!!Gd(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Vv(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Vv(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const za="@firebase/app",Qd="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt=new nm("@firebase/app"),Hv="@firebase/app-compat",Gv="@firebase/analytics-compat",Qv="@firebase/analytics",Yv="@firebase/app-check-compat",Kv="@firebase/app-check",qv="@firebase/auth",Xv="@firebase/auth-compat",Jv="@firebase/database",Zv="@firebase/data-connect",e0="@firebase/database-compat",t0="@firebase/functions",n0="@firebase/functions-compat",r0="@firebase/installations",i0="@firebase/installations-compat",s0="@firebase/messaging",o0="@firebase/messaging-compat",l0="@firebase/performance",a0="@firebase/performance-compat",u0="@firebase/remote-config",c0="@firebase/remote-config-compat",d0="@firebase/storage",f0="@firebase/storage-compat",h0="@firebase/firestore",p0="@firebase/vertexai-preview",m0="@firebase/firestore-compat",g0="firebase",_0="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa="[DEFAULT]",y0={[za]:"fire-core",[Hv]:"fire-core-compat",[Qv]:"fire-analytics",[Gv]:"fire-analytics-compat",[Kv]:"fire-app-check",[Yv]:"fire-app-check-compat",[qv]:"fire-auth",[Xv]:"fire-auth-compat",[Jv]:"fire-rtdb",[Zv]:"fire-data-connect",[e0]:"fire-rtdb-compat",[t0]:"fire-fn",[n0]:"fire-fn-compat",[r0]:"fire-iid",[i0]:"fire-iid-compat",[s0]:"fire-fcm",[o0]:"fire-fcm-compat",[l0]:"fire-perf",[a0]:"fire-perf-compat",[u0]:"fire-rc",[c0]:"fire-rc-compat",[d0]:"fire-gcs",[f0]:"fire-gcs-compat",[h0]:"fire-fst",[m0]:"fire-fst-compat",[p0]:"fire-vertex","fire-js":"fire-js",[g0]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go=new Map,v0=new Map,Ua=new Map;function Yd(t,e){try{t.container.addComponent(e)}catch(n){Xt.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _o(t){const e=t.name;if(Ua.has(e))return Xt.debug(`There were multiple attempts to register component ${e}.`),!1;Ua.set(e,t);for(const n of go.values())Yd(n,t);for(const n of v0.values())Yd(n,t);return!0}function w0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Sn=new em("app","Firebase",S0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Sn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0=_0;function sm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Wa,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Sn.create("bad-app-name",{appName:String(i)});if(n||(n=Jp()),!n)throw Sn.create("no-options");const s=go.get(i);if(s){if(ba(n,s.options)&&ba(r,s.config))return s;throw Sn.create("duplicate-app",{appName:i})}const o=new Tv(i);for(const a of Ua.values())o.addComponent(a);const l=new C0(n,r,o);return go.set(i,l),l}function x0(t=Wa){const e=go.get(t);if(!e&&t===Wa&&Jp())return sm();if(!e)throw Sn.create("no-app",{appName:t});return e}function Nr(t,e,n){var r;let i=(r=y0[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xt.warn(l.join(" "));return}_o(new Vi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="firebase-heartbeat-database",N0=1,Hi="firebase-heartbeat-store";let Dl=null;function om(){return Dl||(Dl=Wv(k0,N0,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Hi)}catch(n){console.warn(n)}}}}).catch(t=>{throw Sn.create("idb-open",{originalErrorMessage:t.message})})),Dl}async function T0(t){try{const n=(await om()).transaction(Hi),r=await n.objectStore(Hi).get(lm(t));return await n.done,r}catch(e){if(e instanceof is)Xt.warn(e.message);else{const n=Sn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xt.warn(n.message)}}}async function Kd(t,e){try{const r=(await om()).transaction(Hi,"readwrite");await r.objectStore(Hi).put(e,lm(t)),await r.done}catch(n){if(n instanceof is)Xt.warn(n.message);else{const r=Sn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Xt.warn(r.message)}}}function lm(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0=1024,P0=30*24*60*60*1e3;class R0{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new D0(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=qd();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=P0}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Xt.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=qd(),{heartbeatsToSend:r,unsentEntries:i}=A0(this._heartbeatsCache.heartbeats),s=po(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Xt.warn(n),""}}}function qd(){return new Date().toISOString().substring(0,10)}function A0(t,e=I0){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Xd(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Xd(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class D0{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pv()?mv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await T0(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Kd(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Kd(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Xd(t){return po(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(t){_o(new Vi("platform-logger",e=>new $v(e),"PRIVATE")),_o(new Vi("heartbeat",e=>new R0(e),"PRIVATE")),Nr(za,Qd,t),Nr(za,Qd,"esm2017"),Nr("fire-js","")}L0("");var O0="firebase",M0="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nr(O0,M0,"app");var Jd={};const Zd="@firebase/database",ef="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let am="";function b0(t){am=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ae(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:$i(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return tn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new F0(e)}}catch{}return new j0},Wn=um("localStorage"),z0=um("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr=new nm("@firebase/database"),W0=function(){let t=1;return function(){return t++}}(),cm=function(t){const e=Ev(t),n=new Cv;n.update(e);const r=n.digest();return Yu.encodeByteArray(r)},ss=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=ss.apply(null,r):typeof r=="object"?e+=Ae(r):e+=r,e+=" "}return e};let Si=null,tf=!0;const U0=function(t,e){I(!0,"Can't turn on custom loggers persistently."),Tr.logLevel=ie.VERBOSE,Si=Tr.log.bind(Tr)},$e=function(...t){if(tf===!0&&(tf=!1,Si===null&&z0.get("logging_enabled")===!0&&U0()),Si){const e=ss.apply(null,t);Si(e)}},os=function(t){return function(...e){$e(t,...e)}},Ba=function(...t){const e="FIREBASE INTERNAL ERROR: "+ss(...t);Tr.error(e)},Jt=function(...t){const e=`FIREBASE FATAL ERROR: ${ss(...t)}`;throw Tr.error(e),new Error(e)},rt=function(...t){const e="FIREBASE WARNING: "+ss(...t);Tr.warn(e)},B0=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&rt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},dm=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},$0=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},jr="[MIN_NAME]",Kn="[MAX_NAME]",Gr=function(t,e){if(t===e)return 0;if(t===jr||e===Kn)return-1;if(e===jr||t===Kn)return 1;{const n=nf(t),r=nf(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},V0=function(t,e){return t===e?0:t<e?-1:1},ii=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ae(e))},Xu=function(t){if(typeof t!="object"||t===null)return Ae(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Ae(e[r]),n+=":",n+=Xu(t[e[r]]);return n+="}",n},fm=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function it(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const hm=function(t){I(!dm(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,l,a;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=l+r,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(a=n;a;a-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(a=e;a;a-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const h=u.join("");let d="";for(a=0;a<64;a+=8){let f=parseInt(h.substr(a,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},H0=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},G0=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Q0(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const Y0=new RegExp("^-?(0*)\\d{1,10}$"),K0=-2147483648,q0=2147483647,nf=function(t){if(Y0.test(t)){const e=Number(t);if(e>=K0&&e<=q0)return e}return null},Qr=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw rt("Exception was thrown by user callback.",n),e},Math.floor(0))}},X0=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ci=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){rt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?($e("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',rt(e)}}class Bs{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Bs.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju="5",pm="v",mm="s",gm="r",_m="f",ym=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,vm="ls",wm="p",$a="ac",Sm="websocket",Cm="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,n,r,i,s=!1,o="",l=!1,a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Wn.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Wn.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function ew(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function xm(t,e,n){I(typeof e=="string","typeof type must == string"),I(typeof n=="object","typeof params must == object");let r;if(e===Sm)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Cm)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);ew(t)&&(n.ns=t.namespace);const i=[];return it(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(){this.counters_={}}incrementCounter(e,n=1){tn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return nv(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll={},Ol={};function Zu(t){const e=t.toString();return Ll[e]||(Ll[e]=new tw),Ll[e]}function nw(t,e){const n=t.toString();return Ol[n]||(Ol[n]=e()),Ol[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Qr(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf="start",iw="close",sw="pLPCommand",ow="pRTLPCB",km="id",Nm="pw",Tm="ser",lw="cb",aw="seg",uw="ts",cw="d",dw="dframe",Im=1870,Pm=30,fw=Im-Pm,hw=25e3,pw=3e4;class vr{constructor(e,n,r,i,s,o,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=os(e),this.stats_=Zu(n),this.urlFn=a=>(this.appCheckToken&&(a[$a]=this.appCheckToken),xm(n,Cm,a))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new rw(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(pw)),$0(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ec((...s)=>{const[o,l,a,u,h]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===rf)this.id=l,this.password=a;else if(o===iw)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[rf]="t",r[Tm]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[lw]=this.scriptTagHolder.uniqueCallbackIdentifier),r[pm]=Ju,this.transportSessionId&&(r[mm]=this.transportSessionId),this.lastSessionId&&(r[vm]=this.lastSessionId),this.applicationId&&(r[wm]=this.applicationId),this.appCheckToken&&(r[$a]=this.appCheckToken),typeof location<"u"&&location.hostname&&ym.test(location.hostname)&&(r[gm]=_m);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){vr.forceAllow_=!0}static forceDisallow(){vr.forceDisallow_=!0}static isAvailable(){return vr.forceAllow_?!0:!vr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!H0()&&!G0()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ae(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Kp(n),i=fm(r,fw);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[dw]="t",r[km]=e,r[Nm]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ae(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class ec{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=W0(),window[sw+this.uniqueCallbackIdentifier]=e,window[ow+this.uniqueCallbackIdentifier]=n,this.myIFrame=ec.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){$e("frame writing exception"),l.stack&&$e(l.stack),$e(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||$e("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[km]=this.myID,e[Nm]=this.myPW,e[Tm]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Pm+r.length<=Im;){const o=this.pendingSegs.shift();r=r+"&"+aw+i+"="+o.seg+"&"+uw+i+"="+o.ts+"&"+cw+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(hw)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{$e("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw=16384,gw=45e3;let yo=null;typeof MozWebSocket<"u"?yo=MozWebSocket:typeof WebSocket<"u"&&(yo=WebSocket);class St{constructor(e,n,r,i,s,o,l){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=os(this.connId),this.stats_=Zu(n),this.connURL=St.connectionURL_(n,o,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[pm]=Ju,typeof location<"u"&&location.hostname&&ym.test(location.hostname)&&(o[gm]=_m),n&&(o[mm]=n),r&&(o[vm]=r),i&&(o[$a]=i),s&&(o[wm]=s),xm(e,Sm,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Wn.set("previous_websocket_failure",!0);try{let r;hv(),this.mySock=new yo(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){St.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&yo!==null&&!St.forceDisallow_}static previouslyFailed(){return Wn.isInMemoryStorage||Wn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Wn.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=$i(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(I(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Ae(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=fm(n,mw);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(gw))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}St.responsesRequiredToBeHealthy=2;St.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[vr,St]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=St&&St.isAvailable();let r=n&&!St.previouslyFailed();if(e.webSocketOnly&&(n||rt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[St];else{const i=this.transports_=[];for(const s of Gi.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Gi.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Gi.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w=6e4,yw=5e3,vw=10*1024,ww=100*1024,Ml="t",sf="d",Sw="s",of="r",Cw="e",lf="o",af="a",uf="n",cf="p",Ew="h";class xw{constructor(e,n,r,i,s,o,l,a,u,h){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=os("c:"+this.id+":"),this.transportManager_=new Gi(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ci(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>ww?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>vw?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Ml in e){const n=e[Ml];n===af?this.upgradeIfSecondaryHealthy_():n===of?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===lf&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=ii("t",e),r=ii("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:cf,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:af,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:uf,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=ii("t",e),r=ii("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=ii(Ml,e);if(sf in e){const r=e[sf];if(n===Ew){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===uf){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Sw?this.onConnectionShutdown_(r):n===of?this.onReset_(r):n===Cw?Ba("Server Error: "+r):n===lf?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ba("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Ju!==r&&rt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ci(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(_w))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ci(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(yw))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:cf,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Wn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e){this.allowedEvents_=e,this.listeners_={},I(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){I(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo extends Am{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Zp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new vo}getInitialEvent(e){return I(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const df=32,ff=768;class re{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function X(){return new re("")}function $(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function kn(t){return t.pieces_.length-t.pieceNum_}function se(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new re(t.pieces_,e)}function Dm(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function kw(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Lm(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Om(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new re(e,0)}function ke(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof re)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new re(n,0)}function H(t){return t.pieceNum_>=t.pieces_.length}function Je(t,e){const n=$(t),r=$(e);if(n===null)return e;if(n===r)return Je(se(t),se(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function tc(t,e){if(kn(t)!==kn(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Ct(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(kn(t)>kn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Nw{constructor(e,n){this.errorPrefix_=n,this.parts_=Lm(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Yo(this.parts_[r]);Mm(this)}}function Tw(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Yo(e),Mm(t)}function Iw(t){const e=t.parts_.pop();t.byteLength_-=Yo(e),t.parts_.length>0&&(t.byteLength_-=1)}function Mm(t){if(t.byteLength_>ff)throw new Error(t.errorPrefix_+"has a key path longer than "+ff+" bytes ("+t.byteLength_+").");if(t.parts_.length>df)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+df+") or object contains a cycle "+bn(t))}function bn(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc extends Am{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new nc}getInitialEvent(e){return I(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si=1e3,Pw=60*5*1e3,hf=30*1e3,Rw=1.3,Aw=3e4,Dw="server_kill",pf=3;class Gt extends Rm{constructor(e,n,r,i,s,o,l,a){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=Gt.nextPersistentConnectionId_++,this.log_=os("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=si,this.maxReconnectDelay_=Pw,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");nc.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&vo.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Ae(s)),I(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Qo,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),I(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),I(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,l=>{const a=l.d,u=l.s;Gt.warnOnListenWarnings_(a,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,a))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&tn(e,"w")){const r=Fr(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();rt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||wv(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=hf)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=vv(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),I(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ae(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Ba("Unrecognized action received from server: "+Ae(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){I(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=si,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=si,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Aw&&(this.reconnectDelay_=si),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Rw)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Gt.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const a=function(){l?l.close():(o=!0,r())},u=function(d){I(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(d)};this.realtime_={close:a,sendRequest:u};const h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);o?$e("getToken() completed but was canceled"):($e("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,l=new xw(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,y=>{rt(y+" ("+this.repoInfo_.toString()+")"),this.interrupt(Dw)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&rt(d),a())}}}interrupt(e){$e("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){$e("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Bd(this.interruptReasons_)&&(this.reconnectDelay_=si,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>Xu(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new re(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){$e("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=pf&&(this.reconnectDelay_=hf,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){$e("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=pf&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+am.replace(/\./g,"-")]=1,Zp()?e["framework.cordova"]=1:fv()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=vo.getInstance().currentlyOnline();return Bd(this.interruptReasons_)&&e}}Gt.nextPersistentConnectionId_=0;Gt.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new V(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new V(jr,e),i=new V(jr,n);return this.compare(r,i)!==0}minPost(){return V.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ts;class bm extends Ko{static get __EMPTY_NODE(){return Ts}static set __EMPTY_NODE(e){Ts=e}compare(e,n){return Gr(e.name,n.name)}isDefinedOn(e){throw Vr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return V.MIN}maxPost(){return new V(Kn,Ts)}makePost(e,n){return I(typeof e=="string","KeyIndex indexValue must always be a string."),new V(e,Ts)}toString(){return".key"}}const Ir=new bm;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Re{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Re.RED,this.left=i??Ze.EMPTY_NODE,this.right=s??Ze.EMPTY_NODE}copy(e,n,r,i,s){return new Re(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ze.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Ze.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Re.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Re.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Re.RED=!0;Re.BLACK=!1;class Lw{copy(e,n,r,i,s){return this}insert(e,n,r){return new Re(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ze{constructor(e,n=Ze.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Ze(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Re.BLACK,null,null))}remove(e){return new Ze(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Re.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Is(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Is(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Is(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Is(this.root_,null,this.comparator_,!0,e)}}Ze.EMPTY_NODE=new Lw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(t,e){return Gr(t.name,e.name)}function rc(t,e){return Gr(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Va;function Mw(t){Va=t}const Fm=function(t){return typeof t=="number"?"number:"+hm(t):"string:"+t},jm=function(t){if(t.isLeafNode()){const e=t.val();I(typeof e=="string"||typeof e=="number"||typeof e=="object"&&tn(e,".sv"),"Priority must be a string or number.")}else I(t===Va||t.isEmpty(),"priority of unexpected type.");I(t===Va||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mf;class Ie{constructor(e,n=Ie.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,I(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),jm(this.priorityNode_)}static set __childrenNodeConstructor(e){mf=e}static get __childrenNodeConstructor(){return mf}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ie(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ie.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return H(e)?this:$(e)===".priority"?this.priorityNode_:Ie.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Ie.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=$(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(I(r!==".priority"||kn(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Ie.__childrenNodeConstructor.EMPTY_NODE.updateChild(se(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Fm(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=hm(this.value_):e+=this.value_,this.lazyHash_=cm(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ie.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ie.__childrenNodeConstructor?-1:(I(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Ie.VALUE_TYPE_ORDER.indexOf(n),s=Ie.VALUE_TYPE_ORDER.indexOf(r);return I(i>=0,"Unknown leaf type: "+n),I(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ie.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zm,Wm;function bw(t){zm=t}function Fw(t){Wm=t}class jw extends Ko{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Gr(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return V.MIN}maxPost(){return new V(Kn,new Ie("[PRIORITY-POST]",Wm))}makePost(e,n){const r=zm(e);return new V(n,new Ie("[PRIORITY-POST]",r))}toString(){return".priority"}}const _e=new jw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=Math.log(2);class Ww{constructor(e){const n=s=>parseInt(Math.log(s)/zw,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const wo=function(t,e,n,r){t.sort(e);const i=function(a,u){const h=u-a;let d,f;if(h===0)return null;if(h===1)return d=t[a],f=n?n(d):d,new Re(f,d.node,Re.BLACK,null,null);{const y=parseInt(h/2,10)+a,v=i(a,y),S=i(y+1,u);return d=t[y],f=n?n(d):d,new Re(f,d.node,Re.BLACK,v,S)}},s=function(a){let u=null,h=null,d=t.length;const f=function(v,S){const E=d-v,g=d;d-=v;const p=i(E+1,g),_=t[E],C=n?n(_):_;y(new Re(C,_.node,S,null,p))},y=function(v){u?(u.left=v,u=v):(h=v,u=v)};for(let v=0;v<a.count;++v){const S=a.nextBitIsOne(),E=Math.pow(2,a.count-(v+1));S?f(E,Re.BLACK):(f(E,Re.BLACK),f(E,Re.RED))}return h},o=new Ww(t.length),l=s(o);return new Ze(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bl;const or={};class Vt{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return I(or&&_e,"ChildrenNode.ts has not been loaded"),bl=bl||new Vt({".priority":or},{".priority":_e}),bl}get(e){const n=Fr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ze?n:null}hasIndex(e){return tn(this.indexSet_,e.toString())}addIndex(e,n){I(e!==Ir,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(V.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let l;i?l=wo(r,e.getCompare()):l=or;const a=e.toString(),u=Object.assign({},this.indexSet_);u[a]=e;const h=Object.assign({},this.indexes_);return h[a]=l,new Vt(h,u)}addToIndexes(e,n){const r=mo(this.indexes_,(i,s)=>{const o=Fr(this.indexSet_,s);if(I(o,"Missing index implementation for "+s),i===or)if(o.isDefinedOn(e.node)){const l=[],a=n.getIterator(V.Wrap);let u=a.getNext();for(;u;)u.name!==e.name&&l.push(u),u=a.getNext();return l.push(e),wo(l,o.getCompare())}else return or;else{const l=n.get(e.name);let a=i;return l&&(a=a.remove(new V(e.name,l))),a.insert(e,e.node)}});return new Vt(r,this.indexSet_)}removeFromIndexes(e,n){const r=mo(this.indexes_,i=>{if(i===or)return i;{const s=n.get(e.name);return s?i.remove(new V(e.name,s)):i}});return new Vt(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oi;class F{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&jm(this.priorityNode_),this.children_.isEmpty()&&I(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return oi||(oi=new F(new Ze(rc),null,Vt.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||oi}updatePriority(e){return this.children_.isEmpty()?this:new F(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?oi:n}}getChild(e){const n=$(e);return n===null?this:this.getImmediateChild(n).getChild(se(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(I(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new V(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?oi:this.priorityNode_;return new F(i,o,s)}}updateChild(e,n){const r=$(e);if(r===null)return n;{I($(e)!==".priority"||kn(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(se(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(_e,(o,l)=>{n[o]=l.val(e),r++,s&&F.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Fm(this.getPriority().val())+":"),this.forEachChild(_e,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":cm(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new V(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new V(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new V(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,V.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,V.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ls?-1:0}withIndex(e){if(e===Ir||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new F(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Ir||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(_e),i=n.getIterator(_e);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Ir?null:this.indexMap_.get(e.toString())}}F.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Uw extends F{constructor(){super(new Ze(rc),F.EMPTY_NODE,Vt.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return F.EMPTY_NODE}isEmpty(){return!1}}const ls=new Uw;Object.defineProperties(V,{MIN:{value:new V(jr,F.EMPTY_NODE)},MAX:{value:new V(Kn,ls)}});bm.__EMPTY_NODE=F.EMPTY_NODE;Ie.__childrenNodeConstructor=F;Mw(ls);Fw(ls);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=!0;function Oe(t,e=null){if(t===null)return F.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),I(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Ie(n,Oe(e))}if(!(t instanceof Array)&&Bw){const n=[];let r=!1;if(it(t,(o,l)=>{if(o.substring(0,1)!=="."){const a=Oe(l);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new V(o,a)))}}),n.length===0)return F.EMPTY_NODE;const s=wo(n,Ow,o=>o.name,rc);if(r){const o=wo(n,_e.getCompare());return new F(s,Oe(e),new Vt({".priority":o},{".priority":_e}))}else return new F(s,Oe(e),Vt.Default)}else{let n=F.EMPTY_NODE;return it(t,(r,i)=>{if(tn(t,r)&&r.substring(0,1)!=="."){const s=Oe(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Oe(e))}}bw(Oe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w extends Ko{constructor(e){super(),this.indexPath_=e,I(!H(e)&&$(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Gr(e.name,n.name):s}makePost(e,n){const r=Oe(e),i=F.EMPTY_NODE.updateChild(this.indexPath_,r);return new V(n,i)}maxPost(){const e=F.EMPTY_NODE.updateChild(this.indexPath_,ls);return new V(Kn,e)}toString(){return Lm(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw extends Ko{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Gr(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return V.MIN}maxPost(){return V.MAX}makePost(e,n){const r=Oe(e);return new V(n,r)}toString(){return".value"}}const Hw=new Vw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(t){return{type:"value",snapshotNode:t}}function zr(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Qi(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Yi(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Gw(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){I(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Qi(n,l)):I(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(zr(n,r)):o.trackChildChange(Yi(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(_e,(i,s)=>{n.hasChild(i)||r.trackChildChange(Qi(i,s))}),n.isLeafNode()||n.forEachChild(_e,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(Yi(i,s,o))}else r.trackChildChange(zr(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?F.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e){this.indexedFilter_=new ic(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ki.getStartPost_(e),this.endPost_=Ki.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new V(n,r))||(r=F.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=F.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(F.EMPTY_NODE);const s=this;return n.forEachChild(_e,(o,l)=>{s.matches(new V(o,l))||(i=i.updateImmediateChild(o,F.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Ki(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new V(n,r))||(r=F.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=F.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=F.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const l=s.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(F.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const l=s.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:i=i.updateImmediateChild(l.name,F.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(f,y)=>d(y,f)}else o=this.index_.getCompare();const l=e;I(l.numChildren()===this.limit_,"");const a=new V(n,r),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),h=this.rangedFilter_.matches(a);if(l.hasChild(n)){const d=l.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,u,this.reverse_);for(;f!=null&&(f.name===n||l.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const y=f==null?1:o(f,a);if(h&&!r.isEmpty()&&y>=0)return s!=null&&s.trackChildChange(Yi(n,r,d)),l.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Qi(n,d));const S=l.updateImmediateChild(n,F.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s!=null&&s.trackChildChange(zr(f.name,f.node)),S.updateImmediateChild(f.name,f.node)):S}}else return r.isEmpty()?e:h&&o(u,a)>=0?(s!=null&&(s.trackChildChange(Qi(u.name,u.node)),s.trackChildChange(zr(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(u.name,F.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=_e}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return I(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return I(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:jr}hasEnd(){return this.endSet_}getIndexEndValue(){return I(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return I(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Kn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return I(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===_e}copy(){const e=new sc;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Yw(t){return t.loadsAllData()?new ic(t.getIndex()):t.hasLimit()?new Qw(t):new Ki(t)}function gf(t){const e={};if(t.isDefault())return e;let n;if(t.index_===_e?n="$priority":t.index_===Hw?n="$value":t.index_===Ir?n="$key":(I(t.index_ instanceof $w,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ae(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Ae(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Ae(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Ae(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Ae(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function _f(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==_e&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So extends Rm{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=os("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(I(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=So.getListenId_(e,r),l={};this.listens_[o]=l;const a=gf(e._queryParams);this.restRequest_(s+".json",a,(u,h)=>{let d=h;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),Fr(this.listens_,o)===l){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",i(f,null)}})}unlisten(e,n){const r=So.getListenId_(e,n);delete this.listens_[r]}get(e){const n=gf(e._queryParams),r=e._path.toString(),i=new Qo;return this.restRequest_(r+".json",n,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Sv(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=$i(l.responseText)}catch{rt("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,a)}else l.status!==401&&l.status!==404&&rt("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(){this.rootNode_=F.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Co(){return{value:null,children:new Map}}function Bm(t,e,n){if(H(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=$(e);t.children.has(r)||t.children.set(r,Co());const i=t.children.get(r);e=se(e),Bm(i,e,n)}}function Ha(t,e,n){t.value!==null?n(e,t.value):qw(t,(r,i)=>{const s=new re(e.toString()+"/"+r);Ha(i,s,n)})}function qw(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&it(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf=10*1e3,Jw=30*1e3,Zw=5*60*1e3;class eS{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Xw(e);const r=yf+(Jw-yf)*Math.random();Ci(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;it(e,(i,s)=>{s>0&&tn(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Ci(this.reportStats_.bind(this),Math.floor(Math.random()*2*Zw))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Et||(Et={}));function $m(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function oc(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function lc(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Et.ACK_USER_WRITE,this.source=$m()}operationForChild(e){if(H(this.path)){if(this.affectedTree.value!=null)return I(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new re(e));return new Eo(X(),n,this.revert)}}else return I($(this.path)===e,"operationForChild called for unrelated child."),new Eo(se(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n){this.source=e,this.path=n,this.type=Et.LISTEN_COMPLETE}operationForChild(e){return H(this.path)?new qi(this.source,X()):new qi(this.source,se(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Et.OVERWRITE}operationForChild(e){return H(this.path)?new qn(this.source,X(),this.snap.getImmediateChild(e)):new qn(this.source,se(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Et.MERGE}operationForChild(e){if(H(this.path)){const n=this.children.subtree(new re(e));return n.isEmpty()?null:n.value?new qn(this.source,X(),n.value):new Xi(this.source,X(),n)}else return I($(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Xi(this.source,se(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(H(e))return this.isFullyInitialized()&&!this.filtered_;const n=$(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function nS(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(Gw(o.childName,o.snapshotNode))}),li(t,i,"child_removed",e,r,n),li(t,i,"child_added",e,r,n),li(t,i,"child_moved",s,r,n),li(t,i,"child_changed",e,r,n),li(t,i,"value",e,r,n),i}function li(t,e,n,r,i,s){const o=r.filter(l=>l.type===n);o.sort((l,a)=>iS(t,l,a)),o.forEach(l=>{const a=rS(t,l,s);i.forEach(u=>{u.respondsTo(l.type)&&e.push(u.createEvent(a,t.query_))})})}function rS(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function iS(t,e,n){if(e.childName==null||n.childName==null)throw Vr("Should only compare child_ events.");const r=new V(e.childName,e.snapshotNode),i=new V(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(t,e){return{eventCache:t,serverCache:e}}function Ei(t,e,n,r){return qo(new Xn(e,n,r),t.serverCache)}function Vm(t,e,n,r){return qo(t.eventCache,new Xn(e,n,r))}function Ga(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Jn(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fl;const sS=()=>(Fl||(Fl=new Ze(V0)),Fl);class ae{constructor(e,n=sS()){this.value=e,this.children=n}static fromObject(e){let n=new ae(null);return it(e,(r,i)=>{n=n.set(new re(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:X(),value:this.value};if(H(e))return null;{const r=$(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(se(e),n);return s!=null?{path:ke(new re(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(H(e))return this;{const n=$(e),r=this.children.get(n);return r!==null?r.subtree(se(e)):new ae(null)}}set(e,n){if(H(e))return new ae(n,this.children);{const r=$(e),s=(this.children.get(r)||new ae(null)).set(se(e),n),o=this.children.insert(r,s);return new ae(this.value,o)}}remove(e){if(H(e))return this.children.isEmpty()?new ae(null):new ae(null,this.children);{const n=$(e),r=this.children.get(n);if(r){const i=r.remove(se(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new ae(null):new ae(this.value,s)}else return this}}get(e){if(H(e))return this.value;{const n=$(e),r=this.children.get(n);return r?r.get(se(e)):null}}setTree(e,n){if(H(e))return n;{const r=$(e),s=(this.children.get(r)||new ae(null)).setTree(se(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new ae(this.value,o)}}fold(e){return this.fold_(X(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(ke(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,X(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(H(e))return null;{const s=$(e),o=this.children.get(s);return o?o.findOnPath_(se(e),ke(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,X(),n)}foreachOnPath_(e,n,r){if(H(e))return this;{this.value&&r(n,this.value);const i=$(e),s=this.children.get(i);return s?s.foreachOnPath_(se(e),ke(n,i),r):new ae(null)}}foreach(e){this.foreach_(X(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(ke(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.writeTree_=e}static empty(){return new Nt(new ae(null))}}function xi(t,e,n){if(H(e))return new Nt(new ae(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Je(i,e);return s=s.updateChild(o,n),new Nt(t.writeTree_.set(i,s))}else{const i=new ae(n),s=t.writeTree_.setTree(e,i);return new Nt(s)}}}function vf(t,e,n){let r=t;return it(n,(i,s)=>{r=xi(r,ke(e,i),s)}),r}function wf(t,e){if(H(e))return Nt.empty();{const n=t.writeTree_.setTree(e,new ae(null));return new Nt(n)}}function Qa(t,e){return tr(t,e)!=null}function tr(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Je(n.path,e)):null}function Sf(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(_e,(r,i)=>{e.push(new V(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new V(r,i.value))}),e}function Cn(t,e){if(H(e))return t;{const n=tr(t,e);return n!=null?new Nt(new ae(n)):new Nt(t.writeTree_.subtree(e))}}function Ya(t){return t.writeTree_.isEmpty()}function Wr(t,e){return Hm(X(),t.writeTree_,e)}function Hm(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(I(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=Hm(ke(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(ke(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(t,e){return Km(e,t)}function oS(t,e,n,r,i){I(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=xi(t.visibleWrites,e,n)),t.lastWriteId=r}function lS(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function aS(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);I(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&uS(l,r.path)?i=!1:Ct(r.path,l.path)&&(s=!0)),o--}if(i){if(s)return cS(t),!0;if(r.snap)t.visibleWrites=wf(t.visibleWrites,r.path);else{const l=r.children;it(l,a=>{t.visibleWrites=wf(t.visibleWrites,ke(r.path,a))})}return!0}else return!1}function uS(t,e){if(t.snap)return Ct(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ct(ke(t.path,n),e))return!0;return!1}function cS(t){t.visibleWrites=Gm(t.allWrites,dS,X()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function dS(t){return t.visible}function Gm(t,e,n){let r=Nt.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let l;if(s.snap)Ct(n,o)?(l=Je(n,o),r=xi(r,l,s.snap)):Ct(o,n)&&(l=Je(o,n),r=xi(r,X(),s.snap.getChild(l)));else if(s.children){if(Ct(n,o))l=Je(n,o),r=vf(r,l,s.children);else if(Ct(o,n))if(l=Je(o,n),H(l))r=vf(r,X(),s.children);else{const a=Fr(s.children,$(l));if(a){const u=a.getChild(se(l));r=xi(r,X(),u)}}}else throw Vr("WriteRecord should have .snap or .children")}}return r}function Qm(t,e,n,r,i){if(!r&&!i){const s=tr(t.visibleWrites,e);if(s!=null)return s;{const o=Cn(t.visibleWrites,e);if(Ya(o))return n;if(n==null&&!Qa(o,X()))return null;{const l=n||F.EMPTY_NODE;return Wr(o,l)}}}else{const s=Cn(t.visibleWrites,e);if(!i&&Ya(s))return n;if(!i&&n==null&&!Qa(s,X()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Ct(u.path,e)||Ct(e,u.path))},l=Gm(t.allWrites,o,e),a=n||F.EMPTY_NODE;return Wr(l,a)}}}function fS(t,e,n){let r=F.EMPTY_NODE;const i=tr(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(_e,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Cn(t.visibleWrites,e);return n.forEachChild(_e,(o,l)=>{const a=Wr(Cn(s,new re(o)),l);r=r.updateImmediateChild(o,a)}),Sf(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Cn(t.visibleWrites,e);return Sf(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function hS(t,e,n,r,i){I(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=ke(e,n);if(Qa(t.visibleWrites,s))return null;{const o=Cn(t.visibleWrites,s);return Ya(o)?i.getChild(n):Wr(o,i.getChild(n))}}function pS(t,e,n,r){const i=ke(e,n),s=tr(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Cn(t.visibleWrites,i);return Wr(o,r.getNode().getImmediateChild(n))}else return null}function mS(t,e){return tr(t.visibleWrites,e)}function gS(t,e,n,r,i,s,o){let l;const a=Cn(t.visibleWrites,e),u=tr(a,X());if(u!=null)l=u;else if(n!=null)l=Wr(a,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const h=[],d=o.getCompare(),f=s?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let y=f.getNext();for(;y&&h.length<i;)d(y,r)!==0&&h.push(y),y=f.getNext();return h}else return[]}function _S(){return{visibleWrites:Nt.empty(),allWrites:[],lastWriteId:-1}}function xo(t,e,n,r){return Qm(t.writeTree,t.treePath,e,n,r)}function uc(t,e){return fS(t.writeTree,t.treePath,e)}function Cf(t,e,n,r){return hS(t.writeTree,t.treePath,e,n,r)}function ko(t,e){return mS(t.writeTree,ke(t.treePath,e))}function yS(t,e,n,r,i,s){return gS(t.writeTree,t.treePath,e,n,r,i,s)}function cc(t,e,n){return pS(t.writeTree,t.treePath,e,n)}function Ym(t,e){return Km(ke(t.treePath,e),t.writeTree)}function Km(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;I(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),I(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Yi(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Qi(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,zr(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Yi(r,e.snapshotNode,i.oldSnap));else throw Vr("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const qm=new wS;class dc{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Xn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return cc(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Jn(this.viewCache_),s=yS(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(t){return{filter:t}}function CS(t,e){I(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),I(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function ES(t,e,n,r,i){const s=new vS;let o,l;if(n.type===Et.OVERWRITE){const u=n;u.source.fromUser?o=Ka(t,e,u.path,u.snap,r,i,s):(I(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered()&&!H(u.path),o=No(t,e,u.path,u.snap,r,i,l,s))}else if(n.type===Et.MERGE){const u=n;u.source.fromUser?o=kS(t,e,u.path,u.children,r,i,s):(I(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered(),o=qa(t,e,u.path,u.children,r,i,l,s))}else if(n.type===Et.ACK_USER_WRITE){const u=n;u.revert?o=IS(t,e,u.path,r,i,s):o=NS(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===Et.LISTEN_COMPLETE)o=TS(t,e,n.path,r,s);else throw Vr("Unknown operation type: "+n.type);const a=s.getChanges();return xS(e,o,a),{viewCache:o,changes:a}}function xS(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Ga(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Um(Ga(e)))}}function Xm(t,e,n,r,i,s){const o=e.eventCache;if(ko(r,n)!=null)return e;{let l,a;if(H(n))if(I(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Jn(e),h=u instanceof F?u:F.EMPTY_NODE,d=uc(r,h);l=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const u=xo(r,Jn(e));l=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=$(n);if(u===".priority"){I(kn(n)===1,"Can't have a priority with additional path components");const h=o.getNode();a=e.serverCache.getNode();const d=Cf(r,n,h,a);d!=null?l=t.filter.updatePriority(h,d):l=o.getNode()}else{const h=se(n);let d;if(o.isCompleteForChild(u)){a=e.serverCache.getNode();const f=Cf(r,n,o.getNode(),a);f!=null?d=o.getNode().getImmediateChild(u).updateChild(h,f):d=o.getNode().getImmediateChild(u)}else d=cc(r,u,e.serverCache);d!=null?l=t.filter.updateChild(o.getNode(),u,d,h,i,s):l=o.getNode()}}return Ei(e,l,o.isFullyInitialized()||H(n),t.filter.filtersNodes())}}function No(t,e,n,r,i,s,o,l){const a=e.serverCache;let u;const h=o?t.filter:t.filter.getIndexedFilter();if(H(n))u=h.updateFullNode(a.getNode(),r,null);else if(h.filtersNodes()&&!a.isFiltered()){const y=a.getNode().updateChild(n,r);u=h.updateFullNode(a.getNode(),y,null)}else{const y=$(n);if(!a.isCompleteForPath(n)&&kn(n)>1)return e;const v=se(n),E=a.getNode().getImmediateChild(y).updateChild(v,r);y===".priority"?u=h.updatePriority(a.getNode(),E):u=h.updateChild(a.getNode(),y,E,v,qm,null)}const d=Vm(e,u,a.isFullyInitialized()||H(n),h.filtersNodes()),f=new dc(i,d,s);return Xm(t,d,n,i,f,l)}function Ka(t,e,n,r,i,s,o){const l=e.eventCache;let a,u;const h=new dc(i,e,s);if(H(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),a=Ei(e,u,!0,t.filter.filtersNodes());else{const d=$(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),a=Ei(e,u,l.isFullyInitialized(),l.isFiltered());else{const f=se(n),y=l.getNode().getImmediateChild(d);let v;if(H(f))v=r;else{const S=h.getCompleteChild(d);S!=null?Dm(f)===".priority"&&S.getChild(Om(f)).isEmpty()?v=S:v=S.updateChild(f,r):v=F.EMPTY_NODE}if(y.equals(v))a=e;else{const S=t.filter.updateChild(l.getNode(),d,v,f,h,o);a=Ei(e,S,l.isFullyInitialized(),t.filter.filtersNodes())}}}return a}function Ef(t,e){return t.eventCache.isCompleteForChild(e)}function kS(t,e,n,r,i,s,o){let l=e;return r.foreach((a,u)=>{const h=ke(n,a);Ef(e,$(h))&&(l=Ka(t,l,h,u,i,s,o))}),r.foreach((a,u)=>{const h=ke(n,a);Ef(e,$(h))||(l=Ka(t,l,h,u,i,s,o))}),l}function xf(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function qa(t,e,n,r,i,s,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let a=e,u;H(n)?u=r:u=new ae(null).setTree(n,r);const h=e.serverCache.getNode();return u.children.inorderTraversal((d,f)=>{if(h.hasChild(d)){const y=e.serverCache.getNode().getImmediateChild(d),v=xf(t,y,f);a=No(t,a,new re(d),v,i,s,o,l)}}),u.children.inorderTraversal((d,f)=>{const y=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!h.hasChild(d)&&!y){const v=e.serverCache.getNode().getImmediateChild(d),S=xf(t,v,f);a=No(t,a,new re(d),S,i,s,o,l)}}),a}function NS(t,e,n,r,i,s,o){if(ko(i,n)!=null)return e;const l=e.serverCache.isFiltered(),a=e.serverCache;if(r.value!=null){if(H(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return No(t,e,n,a.getNode().getChild(n),i,s,l,o);if(H(n)){let u=new ae(null);return a.getNode().forEachChild(Ir,(h,d)=>{u=u.set(new re(h),d)}),qa(t,e,n,u,i,s,l,o)}else return e}else{let u=new ae(null);return r.foreach((h,d)=>{const f=ke(n,h);a.isCompleteForPath(f)&&(u=u.set(h,a.getNode().getChild(f)))}),qa(t,e,n,u,i,s,l,o)}}function TS(t,e,n,r,i){const s=e.serverCache,o=Vm(e,s.getNode(),s.isFullyInitialized()||H(n),s.isFiltered());return Xm(t,o,n,r,qm,i)}function IS(t,e,n,r,i,s){let o;if(ko(r,n)!=null)return e;{const l=new dc(r,e,i),a=e.eventCache.getNode();let u;if(H(n)||$(n)===".priority"){let h;if(e.serverCache.isFullyInitialized())h=xo(r,Jn(e));else{const d=e.serverCache.getNode();I(d instanceof F,"serverChildren would be complete if leaf node"),h=uc(r,d)}h=h,u=t.filter.updateFullNode(a,h,s)}else{const h=$(n);let d=cc(r,h,e.serverCache);d==null&&e.serverCache.isCompleteForChild(h)&&(d=a.getImmediateChild(h)),d!=null?u=t.filter.updateChild(a,h,d,se(n),l,s):e.eventCache.getNode().hasChild(h)?u=t.filter.updateChild(a,h,F.EMPTY_NODE,se(n),l,s):u=a,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=xo(r,Jn(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||ko(r,X())!=null,Ei(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new ic(r.getIndex()),s=Yw(r);this.processor_=SS(s);const o=n.serverCache,l=n.eventCache,a=i.updateFullNode(F.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(F.EMPTY_NODE,l.getNode(),null),h=new Xn(a,o.isFullyInitialized(),i.filtersNodes()),d=new Xn(u,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=qo(d,h),this.eventGenerator_=new tS(this.query_)}get query(){return this.query_}}function RS(t){return t.viewCache_.serverCache.getNode()}function AS(t,e){const n=Jn(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!H(e)&&!n.getImmediateChild($(e)).isEmpty())?n.getChild(e):null}function kf(t){return t.eventRegistrations_.length===0}function DS(t,e){t.eventRegistrations_.push(e)}function Nf(t,e,n){const r=[];if(n){I(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function Tf(t,e,n,r){e.type===Et.MERGE&&e.source.queryId!==null&&(I(Jn(t.viewCache_),"We should always have a full cache before handling merges"),I(Ga(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=ES(t.processor_,i,e,n,r);return CS(t.processor_,s.viewCache),I(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,Jm(t,s.changes,s.viewCache.eventCache.getNode(),null)}function LS(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(_e,(s,o)=>{r.push(zr(s,o))}),n.isFullyInitialized()&&r.push(Um(n.getNode())),Jm(t,r,n.getNode(),e)}function Jm(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return nS(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let To;class OS{constructor(){this.views=new Map}}function MS(t){I(!To,"__referenceConstructor has already been defined"),To=t}function bS(){return I(To,"Reference.ts has not been loaded"),To}function FS(t){return t.views.size===0}function fc(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return I(s!=null,"SyncTree gave us an op for an invalid query."),Tf(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(Tf(o,e,n,r));return s}}function jS(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let l=xo(n,i?r:null),a=!1;l?a=!0:r instanceof F?(l=uc(n,r),a=!1):(l=F.EMPTY_NODE,a=!1);const u=qo(new Xn(l,a,!1),new Xn(r,i,!1));return new PS(e,u)}return o}function zS(t,e,n,r,i,s){const o=jS(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),DS(o,n),LS(o,n)}function WS(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const l=Nn(t);if(i==="default")for(const[a,u]of t.views.entries())o=o.concat(Nf(u,n,r)),kf(u)&&(t.views.delete(a),u.query._queryParams.loadsAllData()||s.push(u.query));else{const a=t.views.get(i);a&&(o=o.concat(Nf(a,n,r)),kf(a)&&(t.views.delete(i),a.query._queryParams.loadsAllData()||s.push(a.query)))}return l&&!Nn(t)&&s.push(new(bS())(e._repo,e._path)),{removed:s,events:o}}function Zm(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Pr(t,e){let n=null;for(const r of t.views.values())n=n||AS(r,e);return n}function eg(t,e){if(e._queryParams.loadsAllData())return Xo(t);{const r=e._queryIdentifier;return t.views.get(r)}}function tg(t,e){return eg(t,e)!=null}function Nn(t){return Xo(t)!=null}function Xo(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Io;function US(t){I(!Io,"__referenceConstructor has already been defined"),Io=t}function BS(){return I(Io,"Reference.ts has not been loaded"),Io}let $S=1;class If{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ae(null),this.pendingWriteTree_=_S(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function ng(t,e,n,r,i){return oS(t.pendingWriteTree_,e,n,r,i),i?as(t,new qn($m(),e,n)):[]}function Un(t,e,n=!1){const r=lS(t.pendingWriteTree_,e);if(aS(t.pendingWriteTree_,e)){let s=new ae(null);return r.snap!=null?s=s.set(X(),!0):it(r.children,o=>{s=s.set(new re(o),!0)}),as(t,new Eo(r.path,s,n))}else return[]}function Jo(t,e,n){return as(t,new qn(oc(),e,n))}function VS(t,e,n){const r=ae.fromObject(n);return as(t,new Xi(oc(),e,r))}function HS(t,e){return as(t,new qi(oc(),e))}function GS(t,e,n){const r=pc(t,n);if(r){const i=mc(r),s=i.path,o=i.queryId,l=Je(s,e),a=new qi(lc(o),l);return gc(t,s,a)}else return[]}function Xa(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let l=[];if(o&&(e._queryIdentifier==="default"||tg(o,e))){const a=WS(o,e,n,r);FS(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=a.removed;if(l=a.events,!i){const h=u.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(f,y)=>Nn(y));if(h&&!d){const f=t.syncPointTree_.subtree(s);if(!f.isEmpty()){const y=KS(f);for(let v=0;v<y.length;++v){const S=y[v],E=S.query,g=sg(t,S);t.listenProvider_.startListening(ki(E),Po(t,E),g.hashFn,g.onComplete)}}}!d&&u.length>0&&!r&&(h?t.listenProvider_.stopListening(ki(e),null):u.forEach(f=>{const y=t.queryToTagMap.get(Zo(f));t.listenProvider_.stopListening(ki(f),y)}))}qS(t,u)}return l}function QS(t,e,n,r){const i=pc(t,r);if(i!=null){const s=mc(i),o=s.path,l=s.queryId,a=Je(o,e),u=new qn(lc(l),a,n);return gc(t,o,u)}else return[]}function YS(t,e,n,r){const i=pc(t,r);if(i){const s=mc(i),o=s.path,l=s.queryId,a=Je(o,e),u=ae.fromObject(n),h=new Xi(lc(l),a,u);return gc(t,o,h)}else return[]}function Pf(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(f,y)=>{const v=Je(f,i);s=s||Pr(y,v),o=o||Nn(y)});let l=t.syncPointTree_.get(i);l?(o=o||Nn(l),s=s||Pr(l,X())):(l=new OS,t.syncPointTree_=t.syncPointTree_.set(i,l));let a;s!=null?a=!0:(a=!1,s=F.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((y,v)=>{const S=Pr(v,X());S&&(s=s.updateImmediateChild(y,S))}));const u=tg(l,e);if(!u&&!e._queryParams.loadsAllData()){const f=Zo(e);I(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const y=XS();t.queryToTagMap.set(f,y),t.tagToQueryMap.set(y,f)}const h=ac(t.pendingWriteTree_,i);let d=zS(l,e,n,h,s,a);if(!u&&!o&&!r){const f=eg(l,e);d=d.concat(JS(t,e,f))}return d}function hc(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,l)=>{const a=Je(o,e),u=Pr(l,a);if(u)return u});return Qm(i,e,s,n,!0)}function as(t,e){return rg(e,t.syncPointTree_,null,ac(t.pendingWriteTree_,X()))}function rg(t,e,n,r){if(H(t.path))return ig(t,e,n,r);{const i=e.get(X());n==null&&i!=null&&(n=Pr(i,X()));let s=[];const o=$(t.path),l=t.operationForChild(o),a=e.children.get(o);if(a&&l){const u=n?n.getImmediateChild(o):null,h=Ym(r,o);s=s.concat(rg(l,a,u,h))}return i&&(s=s.concat(fc(i,t,r,n))),s}}function ig(t,e,n,r){const i=e.get(X());n==null&&i!=null&&(n=Pr(i,X()));let s=[];return e.children.inorderTraversal((o,l)=>{const a=n?n.getImmediateChild(o):null,u=Ym(r,o),h=t.operationForChild(o);h&&(s=s.concat(ig(h,l,a,u)))}),i&&(s=s.concat(fc(i,t,r,n))),s}function sg(t,e){const n=e.query,r=Po(t,n);return{hashFn:()=>(RS(e)||F.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?GS(t,n._path,r):HS(t,n._path);{const s=Q0(i,n);return Xa(t,n,null,s)}}}}function Po(t,e){const n=Zo(e);return t.queryToTagMap.get(n)}function Zo(t){return t._path.toString()+"$"+t._queryIdentifier}function pc(t,e){return t.tagToQueryMap.get(e)}function mc(t){const e=t.indexOf("$");return I(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new re(t.substr(0,e))}}function gc(t,e,n){const r=t.syncPointTree_.get(e);I(r,"Missing sync point for query tag that we're tracking");const i=ac(t.pendingWriteTree_,e);return fc(r,n,i,null)}function KS(t){return t.fold((e,n,r)=>{if(n&&Nn(n))return[Xo(n)];{let i=[];return n&&(i=Zm(n)),it(r,(s,o)=>{i=i.concat(o)}),i}})}function ki(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(BS())(t._repo,t._path):t}function qS(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Zo(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function XS(){return $S++}function JS(t,e,n){const r=e._path,i=Po(t,e),s=sg(t,n),o=t.listenProvider_.startListening(ki(e),i,s.hashFn,s.onComplete),l=t.syncPointTree_.subtree(r);if(i)I(!Nn(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((u,h,d)=>{if(!H(u)&&h&&Nn(h))return[Xo(h).query];{let f=[];return h&&(f=f.concat(Zm(h).map(y=>y.query))),it(d,(y,v)=>{f=f.concat(v)}),f}});for(let u=0;u<a.length;++u){const h=a[u];t.listenProvider_.stopListening(ki(h),Po(t,h))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new _c(n)}node(){return this.node_}}class yc{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=ke(this.path_,e);return new yc(this.syncTree_,n)}node(){return hc(this.syncTree_,this.path_)}}const ZS=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Rf=function(t,e,n){if(!t||typeof t!="object")return t;if(I(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return eC(t[".sv"],e,n);if(typeof t[".sv"]=="object")return tC(t[".sv"],e);I(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},eC=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:I(!1,"Unexpected server value: "+t)}},tC=function(t,e,n){t.hasOwnProperty("increment")||I(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&I(!1,"Unexpected increment value: "+r);const i=e.node();if(I(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},nC=function(t,e,n,r){return vc(e,new yc(n,t),r)},og=function(t,e,n){return vc(t,new _c(e),n)};function vc(t,e,n){const r=t.getPriority().val(),i=Rf(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,l=Rf(o.getValue(),e,n);return l!==o.getValue()||i!==o.getPriority().val()?new Ie(l,Oe(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Ie(i))),o.forEachChild(_e,(l,a)=>{const u=vc(a,e.getImmediateChild(l),n);u!==a&&(s=s.updateImmediateChild(l,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Sc(t,e){let n=e instanceof re?e:new re(e),r=t,i=$(n);for(;i!==null;){const s=Fr(r.node.children,i)||{children:{},childCount:0};r=new wc(i,r,s),n=se(n),i=$(n)}return r}function Yr(t){return t.node.value}function lg(t,e){t.node.value=e,Ja(t)}function ag(t){return t.node.childCount>0}function rC(t){return Yr(t)===void 0&&!ag(t)}function el(t,e){it(t.node.children,(n,r)=>{e(new wc(n,t,r))})}function ug(t,e,n,r){n&&e(t),el(t,i=>{ug(i,e,!0)})}function iC(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function us(t){return new re(t.parent===null?t.name:us(t.parent)+"/"+t.name)}function Ja(t){t.parent!==null&&sC(t.parent,t.name,t)}function sC(t,e,n){const r=rC(n),i=tn(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Ja(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Ja(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=/[\[\].#$\/\u0000-\u001F\u007F]/,lC=/[\[\].#$\u0000-\u001F\u007F]/,jl=10*1024*1024,cg=function(t){return typeof t=="string"&&t.length!==0&&!oC.test(t)},dg=function(t){return typeof t=="string"&&t.length!==0&&!lC.test(t)},aC=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),dg(t)},fg=function(t,e,n,r){r&&e===void 0||Cc(Ku(t,"value"),e,n)},Cc=function(t,e,n){const r=n instanceof re?new Nw(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+bn(r));if(typeof e=="function")throw new Error(t+"contains a function "+bn(r)+" with contents = "+e.toString());if(dm(e))throw new Error(t+"contains "+e.toString()+" "+bn(r));if(typeof e=="string"&&e.length>jl/3&&Yo(e)>jl)throw new Error(t+"contains a string greater than "+jl+" utf8 bytes "+bn(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(it(e,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!cg(o)))throw new Error(t+" contains an invalid key ("+o+") "+bn(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Tw(r,o),Cc(t,l,r),Iw(r)}),i&&s)throw new Error(t+' contains ".value" child '+bn(r)+" in addition to actual children.")}},hg=function(t,e,n,r){if(!dg(n))throw new Error(Ku(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},uC=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),hg(t,e,n)},pg=function(t,e){if($(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},cC=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!cg(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!aC(n))throw new Error(Ku(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ec(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!tc(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function mg(t,e,n){Ec(t,n),gg(t,r=>tc(r,e))}function Zt(t,e,n){Ec(t,n),gg(t,r=>Ct(r,e)||Ct(e,r))}function gg(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(fC(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function fC(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Si&&$e("event: "+n.toString()),Qr(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC="repo_interrupt",pC=25;class mC{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new dC,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Co(),this.transactionQueueTree_=new wc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function gC(t,e,n){if(t.stats_=Zu(t.repoInfo_),t.forceRestClient_||X0())t.server_=new So(t.repoInfo_,(r,i,s,o)=>{Af(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Df(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ae(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Gt(t.repoInfo_,e,(r,i,s,o)=>{Af(t,r,i,s,o)},r=>{Df(t,r)},r=>{_C(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=nw(t.repoInfo_,()=>new eS(t.stats_,t.server_)),t.infoData_=new Kw,t.infoSyncTree_=new If({startListening:(r,i,s,o)=>{let l=[];const a=t.infoData_.getNode(r._path);return a.isEmpty()||(l=Jo(t.infoSyncTree_,r._path,a),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),kc(t,"connected",!1),t.serverSyncTree_=new If({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(l,a)=>{const u=o(l,a);Zt(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function _g(t){const n=t.infoData_.getNode(new re(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function xc(t){return ZS({timestamp:_g(t)})}function Af(t,e,n,r,i){t.dataUpdateCount++;const s=new re(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const a=mo(n,u=>Oe(u));o=YS(t.serverSyncTree_,s,a,i)}else{const a=Oe(n);o=QS(t.serverSyncTree_,s,a,i)}else if(r){const a=mo(n,u=>Oe(u));o=VS(t.serverSyncTree_,s,a)}else{const a=Oe(n);o=Jo(t.serverSyncTree_,s,a)}let l=s;o.length>0&&(l=tl(t,s)),Zt(t.eventQueue_,l,o)}function Df(t,e){kc(t,"connected",e),e===!1&&vC(t)}function _C(t,e){it(e,(n,r)=>{kc(t,n,r)})}function kc(t,e,n){const r=new re("/.info/"+e),i=Oe(n);t.infoData_.updateSnapshot(r,i);const s=Jo(t.infoSyncTree_,r,i);Zt(t.eventQueue_,r,s)}function yg(t){return t.nextWriteId_++}function yC(t,e,n,r,i){Nc(t,"set",{path:e.toString(),value:n,priority:r});const s=xc(t),o=Oe(n,r),l=hc(t.serverSyncTree_,e),a=og(o,l,s),u=yg(t),h=ng(t.serverSyncTree_,e,a,u,!0);Ec(t.eventQueue_,h),t.server_.put(e.toString(),o.val(!0),(f,y)=>{const v=f==="ok";v||rt("set at "+e+" failed: "+f);const S=Un(t.serverSyncTree_,u,!v);Zt(t.eventQueue_,e,S),EC(t,i,f,y)});const d=Eg(t,e);tl(t,d),Zt(t.eventQueue_,d,[])}function vC(t){Nc(t,"onDisconnectEvents");const e=xc(t),n=Co();Ha(t.onDisconnect_,X(),(i,s)=>{const o=nC(i,s,t.serverSyncTree_,e);Bm(n,i,o)});let r=[];Ha(n,X(),(i,s)=>{r=r.concat(Jo(t.serverSyncTree_,i,s));const o=Eg(t,i);tl(t,o)}),t.onDisconnect_=Co(),Zt(t.eventQueue_,X(),r)}function wC(t,e,n){let r;$(e._path)===".info"?r=Pf(t.infoSyncTree_,e,n):r=Pf(t.serverSyncTree_,e,n),mg(t.eventQueue_,e._path,r)}function SC(t,e,n){let r;$(e._path)===".info"?r=Xa(t.infoSyncTree_,e,n):r=Xa(t.serverSyncTree_,e,n),mg(t.eventQueue_,e._path,r)}function CC(t){t.persistentConnection_&&t.persistentConnection_.interrupt(hC)}function Nc(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),$e(n,...e)}function EC(t,e,n,r){e&&Qr(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function vg(t,e,n){return hc(t.serverSyncTree_,e,n)||F.EMPTY_NODE}function Tc(t,e=t.transactionQueueTree_){if(e||nl(t,e),Yr(e)){const n=Sg(t,e);I(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&xC(t,us(e),n)}else ag(e)&&el(e,n=>{Tc(t,n)})}function xC(t,e,n){const r=n.map(u=>u.currentWriteId),i=vg(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const h=n[u];I(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const d=Je(e,h.path);s=s.updateChild(d,h.currentOutputSnapshotRaw)}const l=s.val(!0),a=e;t.server_.put(a.toString(),l,u=>{Nc(t,"transaction put response",{path:a.toString(),status:u});let h=[];if(u==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,h=h.concat(Un(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();nl(t,Sc(t.transactionQueueTree_,e)),Tc(t,t.transactionQueueTree_),Zt(t.eventQueue_,e,h);for(let f=0;f<d.length;f++)Qr(d[f])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{rt("transaction at "+a.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}tl(t,e)}},o)}function tl(t,e){const n=wg(t,e),r=us(n),i=Sg(t,n);return kC(t,i,r),r}function kC(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const a=e[l],u=Je(n,a.path);let h=!1,d;if(I(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)h=!0,d=a.abortReason,i=i.concat(Un(t.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=pC)h=!0,d="maxretry",i=i.concat(Un(t.serverSyncTree_,a.currentWriteId,!0));else{const f=vg(t,a.path,o);a.currentInputSnapshot=f;const y=e[l].update(f.val());if(y!==void 0){Cc("transaction failed: Data returned ",y,a.path);let v=Oe(y);typeof y=="object"&&y!=null&&tn(y,".priority")||(v=v.updatePriority(f.getPriority()));const E=a.currentWriteId,g=xc(t),p=og(v,f,g);a.currentOutputSnapshotRaw=v,a.currentOutputSnapshotResolved=p,a.currentWriteId=yg(t),o.splice(o.indexOf(E),1),i=i.concat(ng(t.serverSyncTree_,a.path,p,a.currentWriteId,a.applyLocally)),i=i.concat(Un(t.serverSyncTree_,E,!0))}else h=!0,d="nodata",i=i.concat(Un(t.serverSyncTree_,a.currentWriteId,!0))}Zt(t.eventQueue_,n,i),i=[],h&&(e[l].status=2,function(f){setTimeout(f,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(d==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(d),!1,null))))}nl(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)Qr(r[l]);Tc(t,t.transactionQueueTree_)}function wg(t,e){let n,r=t.transactionQueueTree_;for(n=$(e);n!==null&&Yr(r)===void 0;)r=Sc(r,n),e=se(e),n=$(e);return r}function Sg(t,e){const n=[];return Cg(t,e,n),n.sort((r,i)=>r.order-i.order),n}function Cg(t,e,n){const r=Yr(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);el(e,i=>{Cg(t,i,n)})}function nl(t,e){const n=Yr(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,lg(e,n.length>0?n:void 0)}el(e,r=>{nl(t,r)})}function Eg(t,e){const n=us(wg(t,e)),r=Sc(t.transactionQueueTree_,e);return iC(r,i=>{zl(t,i)}),zl(t,r),ug(r,i=>{zl(t,i)}),n}function zl(t,e){const n=Yr(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(I(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(I(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Un(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?lg(e,void 0):n.length=s+1,Zt(t.eventQueue_,us(e),i);for(let o=0;o<r.length;o++)Qr(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function TC(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):rt(`Invalid query segment '${n}' in query '${t}'`)}return e}const Lf=function(t,e){const n=IC(t),r=n.namespace;n.domain==="firebase.com"&&Jt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Jt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||B0();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Em(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new re(n.pathString)}},IC=function(t){let e="",n="",r="",i="",s="",o=!0,l="https",a=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(l=t.substring(0,u-1),t=t.substring(u+2));let h=t.indexOf("/");h===-1&&(h=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(h,d)),h<d&&(i=NC(t.substring(h,d)));const f=TC(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o=l==="https"||l==="wss",a=parseInt(e.substring(u+1),10)):u=e.length;const y=e.slice(0,u);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{const v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:a,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",PC=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=Of.charAt(n%64),n=Math.floor(n/64);I(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=Of.charAt(e[i]);return I(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ae(this.snapshot.exportVal())}}class AC{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return I(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return H(this._path)?null:Dm(this._path)}get ref(){return new Rn(this._repo,this._path)}get _queryIdentifier(){const e=_f(this._queryParams),n=Xu(e);return n==="{}"?"default":n}get _queryObject(){return _f(this._queryParams)}isEqual(e){if(e=Hr(e),!(e instanceof Ic))return!1;const n=this._repo===e._repo,r=tc(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+kw(this._path)}}class Rn extends Ic{constructor(e,n){super(e,n,new sc,!1)}get parent(){const e=Om(this._path);return e===null?null:new Rn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Ro{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new re(e),r=Ji(this.ref,e);return new Ro(this._node.getChild(n),r,_e)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Ro(i,Ji(this.ref,r),_e)))}hasChild(e){const n=new re(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function We(t,e){return t=Hr(t),t._checkNotDeleted("ref"),e!==void 0?Ji(t._root,e):t._root}function Ji(t,e){return t=Hr(t),$(t._path)===null?uC("child","path",e):hg("child","path",e),new Rn(t._repo,ke(t._path,e))}function LC(t,e){t=Hr(t),pg("push",t._path),fg("push",e,t._path,!0);const n=_g(t._repo),r=PC(n),i=Ji(t,r),s=Ji(t,r);let o;return e!=null?o=zt(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function zt(t,e){t=Hr(t),pg("set",t._path),fg("set",e,t._path,!1);const n=new Qo;return yC(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}class Pc{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new RC("value",this,new Ro(e.snapshotNode,new Rn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new AC(this,e,n):null}matches(e){return e instanceof Pc?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function OC(t,e,n,r,i){const s=new DC(n,void 0),o=new Pc(s);return wC(t._repo,t,o),()=>SC(t._repo,t,o)}function Dn(t,e,n,r){return OC(t,"value",e)}MS(Rn);US(Rn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC="FIREBASE_DATABASE_EMULATOR_HOST",Za={};let bC=!1;function FC(t,e,n,r){t.repoInfo_=new Em(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function jC(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Jt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),$e("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Lf(s,i),l=o.repoInfo,a;typeof process<"u"&&Jd&&(a=Jd[MC]),a?(s=`http://${a}?ns=${l.namespace}`,o=Lf(s,i),l=o.repoInfo):o.repoInfo.secure;const u=new Z0(t.name,t.options,e);cC("Invalid Firebase Database URL",o),H(o.path)||Jt("Database URL must point to the root of a Firebase Database (not including a child path).");const h=WC(l,t,u,new J0(t.name,n));return new UC(h,t)}function zC(t,e){const n=Za[e];(!n||n[t.key]!==t)&&Jt(`Database ${e}(${t.repoInfo_}) has already been deleted.`),CC(t),delete n[t.key]}function WC(t,e,n,r){let i=Za[e.name];i||(i={},Za[e.name]=i);let s=i[t.toURLString()];return s&&Jt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new mC(t,bC,n,r),i[t.toURLString()]=s,s}class UC{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(gC(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Rn(this._repo,X())),this._rootInternal}_delete(){return this._rootInternal!==null&&(zC(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Jt("Cannot call "+e+" on a deleted database.")}}function BC(t=x0(),e){const n=w0(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=uv("database");r&&$C(n,...r)}return n}function $C(t,e,n,r={}){t=Hr(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Jt("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Jt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Bs(Bs.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:cv(r.mockUserToken,t.app.options.projectId);s=new Bs(o)}FC(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(t){b0(E0),_o(new Vi("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return jC(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Nr(Zd,ef,t),Nr(Zd,ef,"esm2017")}Gt.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Gt.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};VC();function HC({allPicks:t,actualScores:e,currentWeek:n}){const r=(u,h,d)=>{if(!u||!h||!h[d])return 0;let f=0;const y=h[d];return Object.keys(u).forEach(v=>{const S=u[v],E=y[v];if(!S||!E)return;const g=parseInt(S.team1),p=parseInt(S.team2),_=parseInt(E.team1),C=parseInt(E.team2);if(isNaN(g)||isNaN(p)||isNaN(_)||isNaN(C))return;const T=g>p?"team1":p>g?"team2":"tie",N=_>C?"team1":C>_?"team2":"tie";T===N&&N!=="tie"&&f++}),f},i=(u,h,d)=>{if(!u||!h||!h[d])return null;let f=0,y=0;const v=h[d];return Object.keys(u).forEach(S=>{const E=u[S],g=v[S];if(!E||!g)return;const p=parseInt(E.team1),_=parseInt(E.team2),C=parseInt(g.team1),T=parseInt(g.team2);isNaN(p)||isNaN(_)||isNaN(C)||isNaN(T)||(f+=p+_,y+=C+T)}),Math.abs(f-y)},s=(u,h,d)=>{let f=0,y=0;return d.forEach(v=>{const S=u[v];if(S){f+=r(S,h,v);const E=i(S,h,v);E!==null&&(y+=E)}}),{correctWinners:f,pointsDifference:y}},o={wildcard:"Week 1",divisional:"Week 2",conference:"Week 3",superbowl:"Week 4"},l=Q.useMemo(()=>{const u={};return t.forEach(h=>{const d=h.playerName;u[d]||(u[d]={wildcard:null,divisional:null,conference:null,superbowl:null}),u[d][h.week]=h.predictions}),u},[t]),a=Q.useMemo(()=>{const u=[],h=["wildcard","divisional","conference","superbowl"];h.slice(0,3).forEach((E,g)=>{const p=o[E],_=Object.entries(l).map(([T,N])=>({playerName:T,score:r(N[E],e,E)})).filter(T=>T.score>0).sort((T,N)=>N.score-T.score);u.push({prizeNumber:g*2+1,name:`${p} - Most Correct Winners`,week:E,type:"correctWinners",leaders:_.slice(0,5)});const C=Object.entries(l).map(([T,N])=>({playerName:T,score:i(N[E],e,E)})).filter(T=>T.score!==null).sort((T,N)=>T.score-N.score);u.push({prizeNumber:g*2+2,name:`${p} - Closest Total Points`,week:E,type:"pointsDifference",leaders:C.slice(0,5)})});const d="superbowl",f=Object.entries(l).map(([E,g])=>({playerName:E,score:r(g[d],e,d)})).filter(E=>E.score>0).sort((E,g)=>g.score-E.score);u.push({prizeNumber:7,name:"Week 4 - Most Correct Winners",week:d,type:"correctWinners",leaders:f.slice(0,5)});const y=Object.entries(l).map(([E,g])=>({playerName:E,score:i(g[d],e,d)})).filter(E=>E.score!==null).sort((E,g)=>E.score-g.score);u.push({prizeNumber:8,name:"Week 4 - Closest Total Points",week:d,type:"pointsDifference",leaders:y.slice(0,5)});const v=Object.entries(l).map(([E,g])=>{const p=s(g,e,h);return{playerName:E,score:p.correctWinners}}).filter(E=>E.score>0).sort((E,g)=>g.score-E.score);u.push({prizeNumber:9,name:"Cumulative (All 4 Weeks) - Most Correct Winners",week:"all",type:"correctWinners",leaders:v.slice(0,5)});const S=Object.entries(l).map(([E,g])=>{const p=s(g,e,h);return{playerName:E,score:p.pointsDifference}}).filter(E=>E.score!==null&&E.score>=0).sort((E,g)=>E.score-g.score);return u.push({prizeNumber:10,name:"Cumulative (All 4 Weeks) - Closest Total Points",week:"all",type:"pointsDifference",leaders:S.slice(0,5)}),u},[l,e]);return c.jsx("div",{className:"standings-page",children:c.jsxs("div",{className:"container",children:[c.jsx("h1",{className:"standings-title",children:" Standings & Prize Leaders"}),c.jsx("div",{className:"prizes-grid",children:a.map(u=>c.jsxs("div",{className:"prize-card",children:[c.jsxs("div",{className:"prize-header",children:[c.jsxs("div",{className:"prize-number",children:["Prize #",u.prizeNumber]}),c.jsx("div",{className:"prize-name",children:u.name})]}),c.jsx("div",{className:"prize-leaders",children:u.leaders.length===0?c.jsx("div",{className:"no-data",children:"No data available yet"}):c.jsxs("table",{className:"leaders-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Rank"}),c.jsx("th",{children:"Player"}),c.jsx("th",{children:u.type==="correctWinners"?"Correct":"Difference"})]})}),c.jsx("tbody",{children:u.leaders.map((h,d)=>{const f=d>0&&h.score===u.leaders[d-1].score,y=f?"=":d+1;return c.jsxs("tr",{className:d===0&&!f?"leader-first":"",children:[c.jsx("td",{className:"rank",children:y}),c.jsx("td",{className:"player-name",children:h.playerName}),c.jsx("td",{className:"score",children:u.type==="correctWinners"?`${h.score} correct`:`${h.score} pts`})]},d)})})]})})]},u.prizeNumber))}),c.jsx("div",{className:"standings-note",children:c.jsxs("p",{children:[c.jsx("strong",{children:"Note:"}),' Tied players are shown with "=" rank. Pool Manager will resolve ties manually using Excel if needed for prize distribution.']})})]})})}function GC({currentWeek:t,games:e,actualScores:n,teamCodes:r,onScoresFetched:i,onGameLockToggle:s,gameLocks:o,espnAutoRefresh:l}){const[a,u]=Q.useState(!1),[h,d]=Q.useState(null),[f,y]=Q.useState(null),[v,S]=Q.useState(!1),[E,g]=Q.useState(!1),p=async()=>{if(!(a||E)){u(!0),y({type:"loading",message:"Fetching scores from ESPN..."});try{await i(),d(new Date),y({type:"success",message:"Scores updated successfully!"}),setTimeout(()=>y(null),3e3)}catch(R){y({type:"error",message:`Error: ${R.message}`})}finally{u(!1)}}},_=()=>{v?(l.stop(),S(!1),y({type:"info",message:"Auto-refresh stopped"})):(l.start(),S(!0),y({type:"info",message:"Auto-refresh started (every 5 minutes)"})),setTimeout(()=>y(null),3e3)},C=()=>{E?(g(!1),y({type:"info",message:"API resumed - fetching enabled"})):(g(!0),v&&(l.stop(),S(!1)),y({type:"warning",message:"API paused - all fetching disabled"})),setTimeout(()=>y(null),3e3)},T=R=>{var D;return((D=o==null?void 0:o[t])==null?void 0:D[R])===!0},N=R=>{var D,J;return((J=(D=n==null?void 0:n[t])==null?void 0:D[R])==null?void 0:J.source)==="espn"};return c.jsxs("div",{className:"espn-controls",children:[c.jsxs("div",{className:"espn-header",children:[c.jsx("h3",{children:" ESPN API Controls"}),c.jsxs("div",{className:"espn-status-badges",children:[E&&c.jsx("span",{className:"status-badge paused",children:" API PAUSED"}),v&&!E&&c.jsx("span",{className:"status-badge active",children:" AUTO-REFRESH ON"}),h&&c.jsxs("span",{className:"status-badge info",children:["Last fetch: ",h.toLocaleTimeString()]})]})]}),c.jsxs("div",{className:"espn-global-controls",children:[c.jsx("button",{className:"espn-btn fetch-now",onClick:p,disabled:a||E,children:a?" Fetching...":" Fetch Scores Now"}),c.jsx("button",{className:`espn-btn auto-refresh ${v?"active":""}`,onClick:_,disabled:E,children:v?" Stop Auto-Refresh":" Start Auto-Refresh (5 min)"}),c.jsx("button",{className:`espn-btn pause-api ${E?"paused":""}`,onClick:C,children:E?" Resume API":" Pause API"})]}),f&&c.jsx("div",{className:`fetch-status ${f.type}`,children:f.message}),c.jsxs("div",{className:"game-overrides",children:[c.jsx("h4",{children:"Game Override Controls"}),c.jsxs("p",{className:"override-info",children:[" Lock = Manual entry only (ignore API)",c.jsx("br",{})," Unlock = Auto-update from ESPN API"]}),c.jsx("div",{className:"game-override-list",children:e.map(R=>{var It,nr,rr,te,jt;const D=T(R.id),J=N(R.id),j=(It=n==null?void 0:n[t])==null?void 0:It[R.id],Fe=((rr=(nr=r==null?void 0:r[t])==null?void 0:nr[R.id])==null?void 0:rr.team1)||R.team1,Ft=((jt=(te=r==null?void 0:r[t])==null?void 0:te[R.id])==null?void 0:jt.team2)||R.team2;return c.jsxs("div",{className:"game-override-item",children:[c.jsxs("div",{className:"game-info",children:[c.jsxs("span",{className:"game-matchup",children:[Fe," vs ",Ft]}),j&&c.jsxs("span",{className:"game-scores",children:[n[t][R.id].team1," - ",n[t][R.id].team2]})]}),c.jsxs("div",{className:"game-status-badges",children:[J&&!D&&c.jsx("span",{className:"game-badge api",children:" From API"}),D&&c.jsx("span",{className:"game-badge manual",children:" Manual Entry"}),!j&&c.jsx("span",{className:"game-badge no-score",children:"No Score"})]}),c.jsx("button",{className:`lock-btn ${D?"locked":"unlocked"}`,onClick:()=>s(R.id),title:D?"Unlock to allow API updates":"Lock to prevent API updates",children:D?" Locked":" Unlocked"})]},R.id)})})]}),c.jsxs("div",{className:"espn-help",children:[c.jsx("h4",{children:" How It Works:"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Fetch Now:"})," Manually fetch latest scores from ESPN"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Auto-Refresh:"})," Automatically fetch every 5 minutes"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Pause API:"})," Stop all API fetching (use manual entry only)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Lock Game:"})," Prevent API from overwriting your manual score for that game"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Unlock Game:"})," Allow API to update score automatically"]})]}),c.jsxs("p",{className:"help-note",children:[c.jsx("strong",{children:"Tip:"})," Lock a game if you need to manually correct a score that ESPN has wrong."]})]})]})}const QC="https://site.api.espn.com/apis/site/v2/sports/football/nfl";async function YC(){try{const t=await fetch(`${QC}/scoreboard`);if(!t.ok)throw new Error(`ESPN API error: ${t.status}`);const e=await t.json();return KC(e)}catch(t){return console.error("Error fetching ESPN scores:",t),{success:!1,error:t.message,games:[]}}}function KC(t){return!t.events||t.events.length===0?{success:!0,games:[],message:"No games currently available"}:{success:!0,games:t.events.map(n=>{const r=n.competitions[0],i=r.status,s=r.competitors,o=s.find(v=>v.homeAway==="away"),l=s.find(v=>v.homeAway==="home"),a=o.team.abbreviation,u=l.team.abbreviation,h=parseInt(o.score)||0,d=parseInt(l.score)||0,f=qC(i);return{espnGameId:n.id,awayTeam:{abbreviation:a,fullName:o.team.displayName,score:h},homeTeam:{abbreviation:u,fullName:l.team.displayName,score:d},status:f.status,statusText:f.text,period:f.period,clock:f.clock,isFinal:f.isFinal,isLive:f.isLive,isScheduled:f.isScheduled,startTime:n.date,lastUpdated:new Date().toISOString()}}),fetchedAt:new Date().toISOString()}}function qC(t){const e=t.type.name,n=t.period,r=t.displayClock,i=t.type.detail;let s="scheduled",o=i,l=!1,a=!1,u=!1;return e==="STATUS_SCHEDULED"?(s="scheduled",o="Scheduled",u=!0):e==="STATUS_IN_PROGRESS"?(s="live",l=!0,n===1?o=`1st Quarter - ${r}`:n===2?o=`2nd Quarter - ${r}`:n===3?o=`3rd Quarter - ${r}`:n===4?o=`4th Quarter - ${r}`:n>4&&(o=`OT ${n-4} - ${r}`)):e==="STATUS_HALFTIME"?(s="halftime",o="Halftime",l=!0):e==="STATUS_END_PERIOD"?(s="live",o=`End of ${n===1?"1st":n===2?"2nd":n===3?"3rd":"4th"} Quarter`,l=!0):(e==="STATUS_FINAL"||e==="STATUS_FINAL_OVERTIME")&&(s="final",a=!0,e==="STATUS_FINAL_OVERTIME"?o=n>4?`Final/OT${n-4}`:"Final/OT":o="Final"),{status:s,text:o,period:n,clock:r||"",isLive:l,isFinal:a,isScheduled:u}}function XC(t,e,n,r){if(!r||!r[n])return null;const i=e[n].games,s=r[n];for(const o of i){const l=s[o.id];if(!l)continue;const a=l.team1===t.awayTeam.abbreviation||l.team1===t.homeTeam.abbreviation,u=l.team2===t.awayTeam.abbreviation||l.team2===t.homeTeam.abbreviation;if(a&&u){const h=l.team1===t.awayTeam.abbreviation;return{gameId:o.id,team1Score:h?t.awayTeam.score:t.homeTeam.score,team2Score:h?t.homeTeam.score:t.awayTeam.score,status:t.status,statusText:t.statusText,period:t.period,clock:t.clock,isFinal:t.isFinal,isLive:t.isLive,espnGameId:t.espnGameId}}}return null}class JC{constructor(e,n=5){this.onFetch=e,this.intervalMinutes=n,this.intervalId=null,this.isRunning=!1}start(){if(this.isRunning){console.log("Auto-refresh already running");return}console.log(`Starting auto-refresh every ${this.intervalMinutes} minutes`),this.isRunning=!0,this.onFetch(),this.intervalId=setInterval(()=>{console.log("Auto-fetching ESPN scores..."),this.onFetch()},this.intervalMinutes*60*1e3)}stop(){if(!this.isRunning){console.log("Auto-refresh not running");return}console.log("Stopping auto-refresh"),clearInterval(this.intervalId),this.intervalId=null,this.isRunning=!1}isActive(){return this.isRunning}setInterval(e){this.intervalMinutes=e,this.isRunning&&(this.stop(),this.start())}}const ZC={apiKey:"AIzaSyDr3PPXC90wvQW_LG8TkAyR9K-7e0loQ3A",authDomain:"nfl-playoff-pool-2025-scores.firebaseapp.com",databaseURL:"https://nfl-playoff-pool-2025-scores-default-rtdb.firebaseio.com",projectId:"nfl-playoff-pool-2025-scores",storageBucket:"nfl-playoff-pool-2025-scores.firebasestorage.app",messagingSenderId:"844539772456",appId:"1:844539772456:web:9bbfcf523195a5eedfff1d"},eE=sm(ZC),Ue=BC(eE),Wl={firstFriday:"2026-01-09",lastMonday:"2026-02-09"},rn={wildcard:"2026-01-10",divisional:"2026-01-17",conference:"2026-01-25",superbowl:"2026-02-08"},sn=["76BB89","Z9Y8X7"],Ps={"76BB89":"POOL MANAGER - Richard",Z9Y8X7:"POOL MANAGER - Dennis",J239W4:"Bob Casson",B7Y4X3:"Bob Desrosiers",D4F7G5:"Bonnie Biletski","536EE2":"Brian Colburg",X8HH67:"Chris Neufeld",G7R3P5:"Curtis Braun",A4LJC9:"Curtis Palidwor",X3P8N1:"Dallas Pylypow",HM8T67:"Darrell Klassen",TA89R2:"Dave Boyarski",K2P9W5:"Dave Desrosiers",A5K4T7:"Dennis Biletski","6WRUJR":"Emily Chadwick",AB6C89:"Gareth Reeve",D3F6G9:"Jarrod Reimer",T42B67:"Jo Behr",PUEFKF:"Joshua Biletski",ABC378:"Ken Mcleod",K9R3N6:"Kevin Pich",H7P3N5:"Larry Bretecher",B5R4T6:"Larry Strand",L2W9X2:"Michelle Desrosiers","5GGPL3":"Mike Brkich",T4M8Z8:"Neema Dadmand","9CD72G":"Neil Banman",T7Y4R8:"Neil Foster",KWBZ86:"Nick Melanidis","2WQA9X":"Nima Ahmadi",E4T6J7:"Orest Pich",N4M8Q2:"Randy Moffatt",B8L9M2:"Richard Biletski","62R92L":"Rob Crowe",H8M3N7:"Rob Kost",WW3F44:"Ryan Moffatt",E5G7G8:"Tony Creta"},Ee={wildcard:{name:"Wild Card Round (Jan 10-12, 2026)",games:[{id:1,team1:"AFC #7",team2:"AFC #2"},{id:2,team1:"AFC #6",team2:"AFC #3"},{id:3,team1:"AFC #5",team2:"AFC #4"},{id:4,team1:"NFC #7",team2:"NFC #2"},{id:5,team1:"NFC #6",team2:"NFC #3"},{id:6,team1:"NFC #5",team2:"NFC #4"}]},divisional:{name:"Divisional Round (Jan 17-18, 2026)",games:[{id:7,team1:"AFC Winner 1",team2:"AFC #1"},{id:8,team1:"AFC Winner 2",team2:"AFC Winner 3"},{id:9,team1:"NFC Winner 1",team2:"NFC #1"},{id:10,team1:"NFC Winner 2",team2:"NFC Winner 3"}]},conference:{name:"Conference Championships (Jan 25, 2026)",games:[{id:11,team1:"AFC Winner A",team2:"AFC Winner B"},{id:12,team1:"NFC Winner A",team2:"NFC Winner B"}]},superbowl:{name:"Super Bowl LIX (Feb 8, 2026)",games:[{id:13,team1:"AFC Champion",team2:"NFC Champion"}]}};function tE(){const[t,e]=Q.useState("picks"),[n,r]=Q.useState(""),[i,s]=Q.useState(""),[o,l]=Q.useState(!1),[a,u]=Q.useState("wildcard"),[h,d]=Q.useState({}),[f,y]=Q.useState([]),[v,S]=Q.useState(!1),[E,g]=Q.useState({}),[p,_]=Q.useState({}),[C,T]=Q.useState({}),[N,R]=Q.useState({wildcard:"",divisional:"",conference:"",superbowl_week4:"",superbowl_week3:"",superbowl_week2:"",superbowl_week1:"",superbowl_grand:""}),[D,J]=Q.useState({wildcard:{locked:!1,lockDate:null,autoLockDate:rn.wildcard},divisional:{locked:!1,lockDate:null,autoLockDate:rn.divisional},conference:{locked:!1,lockDate:null,autoLockDate:rn.conference},superbowl:{locked:!1,lockDate:null,autoLockDate:rn.superbowl}}),[j,Fe]=Q.useState({}),[Ft,It]=Q.useState(null),[nr,rr]=Q.useState(null),te=()=>sn.includes(i)&&o,jt=m=>{const x=rn[m];if(!x)return!1;const w=new Date,M=new Date(w.toLocaleString("en-US",{timeZone:"America/Los_Angeles"})),O=new Date(x+"T00:00:00");return M>=O},A=m=>{var x;return te()?!1:(x=D[m])!=null&&x.locked?!0:jt(m)};Q.useEffect(()=>{const m=We(Ue,"weekLockStatus");Dn(m,x=>{const w=x.val();if(w){const M={};Object.keys(rn).forEach(O=>{var B,P;M[O]={locked:((B=w[O])==null?void 0:B.locked)||!1,lockDate:((P=w[O])==null?void 0:P.lockDate)||null,autoLockDate:rn[O]}}),J(M)}})},[]);const z=m=>{const x=!D[m].locked,w=x?new Date().toISOString():null,M={...D,[m]:{...D[m],locked:x,lockDate:w}};J(M),zt(We(Ue,`weekLockStatus/${m}`),{locked:x,lockDate:w,autoLockDate:rn[m]}),alert(x?` Week ${m} is now LOCKED

Players cannot edit picks for this week.`:` Week ${m} is now UNLOCKED

Players can edit picks for this week.`)};Q.useEffect(()=>{const m=We(Ue,"picks");Dn(m,x=>{const w=x.val();if(w){const M=Object.keys(w).map(O=>({...w[O],firebaseKey:O}));y(M)}else y([])})},[]),Q.useEffect(()=>{const m=We(Ue,"teamCodes");Dn(m,x=>{const w=x.val();w&&g(w)})},[]),Q.useEffect(()=>{const m=We(Ue,"actualScores");Dn(m,x=>{const w=x.val();w&&_(w)})},[]),Q.useEffect(()=>{const m=We(Ue,"gameStatus");Dn(m,x=>{const w=x.val();w&&T(w)})},[]),Q.useEffect(()=>{const m=We(Ue,"gameLocks");Dn(m,x=>{const w=x.val();w&&Fe(w)})},[]),Q.useEffect(()=>{const m=We(Ue,"manualWeekTotals");Dn(m,x=>{const w=x.val();w&&R(w)})},[]),Q.useEffect(()=>{if(o&&n&&f.length>0){const m=f.find(x=>x.playerName===n&&x.week===a);m&&m.predictions?(console.log("Loading existing picks for",n,"week",a),d(m.predictions)):(console.log("No existing picks found - clearing form"),d({}))}},[a,f,o,n]),Q.useEffect(()=>{const m=new JC(U,5);return It(m),()=>{m&&m.stop()}},[]);const U=async()=>{try{console.log("Fetching scores from ESPN...");const m=await YC();if(!m.success){console.error("ESPN fetch failed:",m.error);return}console.log("ESPN games fetched:",m.games.length);const x=Ee[a].games,w={};if(m.games.forEach(M=>{var B;const O=XC(M,Ee,a,E);if(O){const P=O.gameId;if((B=j[a])!=null&&B[P]){console.log(`Game ${P} is locked, skipping API update`);return}w[P]={team1:O.team1Score,team2:O.team2Score,source:"espn",lastUpdated:new Date().toISOString()},T(Y=>({...Y,[a]:{...Y[a],[P]:O.isFinal?"final":O.isLive?"live":""}}))}}),Object.keys(w).length>0){_(O=>({...O,[a]:{...O[a],...w}}));const M=We(Ue,`actualScores/${a}`);await zt(M,{...p[a],...w}),console.log(`Updated ${Object.keys(w).length} games from ESPN`)}rr(new Date)}catch(m){console.error("Error fetching ESPN scores:",m)}},de=m=>{var x;console.log(" Toggle clicked for game:",m),console.log(" Current week:",a),console.log(" Current locks:",j),console.log(" Current value for game",m,":",(x=j[a])==null?void 0:x[m]),Fe(w=>{const M={...w};M[a]||(M[a]={});const O=M[a][m],B=!O;console.log(" Old value:",O),console.log(" New value:",B),M[a][m]=B;const P=We(Ue,`gameLocks/${a}/${m}`);return zt(P,B),console.log(" Saved to Firebase:",B),console.log(" Returning new locks:",M),M})},ye=(m,x,w)=>{d(M=>({...M,[m]:{...M[m],[x]:w}}))},An=(m,x,w)=>{var O;const M={...E,[a]:{...E[a]||{},[m]:{...((O=E[a])==null?void 0:O[m])||{},[x]:w.toUpperCase()}}};g(M),zt(We(Ue,`teamCodes/${a}/${m}/${x}`),w.toUpperCase())},Pt=(m,x,w)=>{var O;const M={...p,[a]:{...p[a]||{},[m]:{...((O=p[a])==null?void 0:O[m])||{},[x]:w}}};_(M),zt(We(Ue,`actualScores/${a}/${m}/${x}`),w)},Kr=(m,x)=>{const w={...C,[a]:{...C[a]||{},[m]:x}};T(w),zt(We(Ue,`gameStatus/${a}/${m}`),x)},Ke=(m,x)=>{const w={...N,[m]:x};R(w),zt(We(Ue,`manualWeekTotals/${m}`),x)},Rt=()=>{if(te())return!0;const m=new Date,x=new Date(m.toLocaleString("en-US",{timeZone:"America/Los_Angeles"})),w=new Date(Wl.firstFriday+"T00:00:00"),M=new Date(Wl.lastMonday+"T23:59:59");if(x<w)return!0;if(x>M)return!1;const O=x.getDay(),B=x.getHours(),P=x.getMinutes();return!(O===5&&B===23&&P>=59||O===6||O===0||O===1&&B===0&&P===0)},Rc=()=>{const m=i.trim().toUpperCase();if(!m){alert("Please enter your 6-character player code");return}if(m.length!==6||!/^[A-Z0-9]{6}$/.test(m)){alert(`Invalid code format!

Player codes must be exactly 6 characters (letters and numbers).
Example: A7K9M2`);return}const x=Ps[m];if(!x){alert(`Invalid player code!

This code is not recognized.

Make sure you:
1. Paid your $20 entry fee
2. Received your code from the pool manager
3. Entered the code correctly

Contact: gammoneer2b@gmail.com`);return}if(f.find(M=>M.playerName===x&&M.week===a))if(sn.includes(m))alert(`Welcome, Pool Manager!

You have unrestricted access to:
 Enter picks anytime (no lockout)
 Enter team codes
 Enter actual game scores
 Set game status (LIVE/FINAL)
 Lock/unlock weeks
 View all player codes`);else{const M=A(a);alert(M?`Welcome back, ${x}!

 WARNING: This week is LOCKED!

Your existing picks for ${Ee[a].name} will be loaded, but you cannot edit them because the games have been played.

You can only view your submitted picks.`:`Welcome back, ${x}!

Your existing picks for ${Ee[a].name} will be loaded automatically.

You can edit and resubmit anytime except during playoff weekends (Friday 11:59 PM - Monday 12:01 AM PST).`)}else sn.includes(m)&&alert(`Welcome, Pool Manager!

You have unrestricted access to:
 Enter picks anytime (no lockout)
 Enter team codes
 Enter actual game scores
 Set game status (LIVE/FINAL)
 Lock/unlock weeks
 View all player codes`);r(x),s(m),l(!0)},xg=()=>{const m=f.filter(P=>P.week===a);if(m.length===0){alert("No picks to download for this week.");return}const x=Ee[a];let w="";w+="TEAM CODES:,",x.games.forEach(P=>{var b,K,W,ee;const Y=((K=(b=E[a])==null?void 0:b[P.id])==null?void 0:K.team1)||"-",ne=((ee=(W=E[a])==null?void 0:W[P.id])==null?void 0:ee.team2)||"-";w+=`${Y},${ne},`}),a==="superbowl"&&(w+=",,,,"),w+=`
`,w+="ACTUAL SCORES:,",x.games.forEach(P=>{var b,K,W,ee;const Y=((K=(b=p[a])==null?void 0:b[P.id])==null?void 0:K.team1)||"-",ne=((ee=(W=p[a])==null?void 0:W[P.id])==null?void 0:ee.team2)||"-";w+=`${Y},${ne},`}),a==="superbowl"&&(w+=",,,,"),w+=`
`,w+="GAME TOTALS:,",x.games.forEach(P=>{var W,ee,ve,Se;const Y=parseInt((ee=(W=p[a])==null?void 0:W[P.id])==null?void 0:ee.team1)||0,ne=parseInt((Se=(ve=p[a])==null?void 0:ve[P.id])==null?void 0:Se.team2)||0,b=Y+ne,K=Y>0||ne>0?b:"-";w+=`${K},,`}),a==="superbowl"&&(w+=",,,,"),w+=`
`,w+="GAME STATUS:,",x.games.forEach(P=>{var b;const Y=((b=C[a])==null?void 0:b[P.id])||"-";w+=`${Y==="final"?"FINAL":Y==="live"?"LIVE":"-"},,`}),a==="superbowl"&&(w+=",,,,"),w+=`
`,w+="OFFICIAL TOTALS:,",x.games.forEach(()=>{w+=",,"}),a==="superbowl"?(w+=`${N.superbowl_week4||"-"},`,w+=`${N.superbowl_week3||"-"},`,w+=`${N.superbowl_week2||"-"},`,w+=`${N.superbowl_week1||"-"},`,w+=`${N.superbowl_grand||"-"},`):w+=`${N[a]||"-"},`,w+=`
`,w+=`
`,w+=",",x.games.forEach(P=>{w+=`Game ${P.id},Game ${P.id},`}),w+=`
`,w+="Player Name,",x.games.forEach(P=>{w+=`${P.team1} Score,${P.team2} Score,`}),a==="superbowl"?w+="Week 4 Total,Week 3 Total,Week 2 Total,Week 1 Total,GRAND TOTAL,":w+="Total Points,",w+=`Submitted At
`,m.sort((P,Y)=>(Y.lastUpdated||Y.timestamp)-(P.lastUpdated||P.timestamp)).forEach(P=>{if(w+=`"${P.playerName}",`,x.games.forEach(ne=>{var W,ee;const b=((W=P.predictions[ne.id])==null?void 0:W.team1)||"-",K=((ee=P.predictions[ne.id])==null?void 0:ee.team2)||"-";w+=`${b},${K},`}),a==="superbowl"){const ne=(()=>{const ve=f.find(me=>me.playerName===P.playerName&&me.week==="superbowl");if(!ve)return 0;let Se=0;return Ee.superbowl.games.forEach(me=>{const Te=ve.predictions[me.id];Te&&(Se+=(Number(Te.team1)||0)+(Number(Te.team2)||0))}),Se})(),b=(()=>{const ve=f.find(me=>me.playerName===P.playerName&&me.week==="conference");if(!ve)return 0;let Se=0;return Ee.conference.games.forEach(me=>{const Te=ve.predictions[me.id];Te&&(Se+=(Number(Te.team1)||0)+(Number(Te.team2)||0))}),Se})(),K=(()=>{const ve=f.find(me=>me.playerName===P.playerName&&me.week==="divisional");if(!ve)return 0;let Se=0;return Ee.divisional.games.forEach(me=>{const Te=ve.predictions[me.id];Te&&(Se+=(Number(Te.team1)||0)+(Number(Te.team2)||0))}),Se})(),W=(()=>{const ve=f.find(me=>me.playerName===P.playerName&&me.week==="wildcard");if(!ve)return 0;let Se=0;return Ee.wildcard.games.forEach(me=>{const Te=ve.predictions[me.id];Te&&(Se+=(Number(Te.team1)||0)+(Number(Te.team2)||0))}),Se})(),ee=ne+b+K+W;w+=`${ne},${b},${K},${W},${ee},`}else{const ne=x.games.reduce((b,K)=>{var ve,Se;const W=parseInt((ve=P.predictions[K.id])==null?void 0:ve.team1)||0,ee=parseInt((Se=P.predictions[K.id])==null?void 0:Se.team2)||0;return b+W+ee},0);w+=`${ne},`}const Y=new Date(P.lastUpdated||P.timestamp).toLocaleString("en-US",{month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0});w+=`"${Y}"
`});const M=new Blob([w],{type:"text/csv;charset=utf-8;"}),O=document.createElement("a"),B=URL.createObjectURL(M);O.setAttribute("href",B),O.setAttribute("download",`nfl_playoff_picks_${a}_${Date.now()}.csv`),O.style.visibility="hidden",document.body.appendChild(O),O.click(),document.body.removeChild(O)},kg=async m=>{if(m.preventDefault(),A(a)){alert(` WEEK LOCKED

This week's games have been played.
Picks are permanently locked.

You can view your picks but cannot edit them.

Please select a different week to make picks.`);return}if(!Rt()){const P=new Date,Y=new Date(P.toLocaleString("en-US",{timeZone:"America/Los_Angeles"})),ne=new Date(Wl.firstFriday+"T00:00:00");Y<ne?alert(` SUBMISSIONS CLOSED

Picks are currently locked.

Please contact the pool manager for assistance.`):alert(` SUBMISSIONS CLOSED

During playoff weekends, picks are locked from:
 Friday 11:59 PM PST
 Through Monday 12:01 AM PST

Picks will reopen Monday at 12:01 AM PST.

You have all week to make your picks!`);return}const x=Ee[a],w=x.games.length,M=Object.keys(h).filter(P=>h[P].team1&&h[P].team2).length;if(M<w){alert(`Please complete all ${w} games before submitting!

You've completed ${M} of ${w} games.`);return}const O=f.find(P=>P.playerName===n&&P.week===a),B={playerName:n,week:a,predictions:h,timestamp:O?O.timestamp:Date.now(),lastUpdated:Date.now()};try{O?(await zt(We(Ue,`picks/${O.firebaseKey}`),B),alert(` PICKS UPDATED!

${n}, your picks for ${x.name} have been updated successfully!

You can edit and resubmit anytime except during playoff weekends (Friday 11:59 PM - Monday 12:01 AM PST).`)):(await LC(We(Ue,"picks"),B),alert(` PICKS SUBMITTED!

${n}, your picks for ${x.name} have been submitted successfully!

You can edit and resubmit anytime except during playoff weekends (Friday 11:59 PM - Monday 12:01 AM PST).`)),S(!0),setTimeout(()=>{const P=document.querySelector(".all-picks");P&&P.scrollIntoView({behavior:"smooth"})},100)}catch(P){console.error("Error submitting picks:",P),alert("Error submitting picks. Please try again.")}},At=Ee[a],ir=Q.useMemo(()=>{const m={};return f.filter(w=>w.week===a).forEach(w=>{m[w.playerName]||(m[w.playerName]={week4:0,week3:0,week2:0,week1:0,grand:0,current:0});let M=0;if(Ee[a].games.forEach(B=>{const P=w.predictions[B.id];P&&P.team1&&P.team2&&(M+=(parseInt(P.team1)||0)+(parseInt(P.team2)||0))}),m[w.playerName].current=M,a==="superbowl"){const B=f.find(b=>b.playerName===w.playerName&&b.week==="superbowl");if(B&&B.predictions){let b=0;Ee.superbowl.games.forEach(K=>{const W=B.predictions[K.id];W&&(b+=(Number(W.team1)||0)+(Number(W.team2)||0))}),m[w.playerName].week4=b}const P=f.find(b=>b.playerName===w.playerName&&b.week==="conference");if(P&&P.predictions){let b=0;Ee.conference.games.forEach(K=>{const W=P.predictions[K.id];W&&(b+=(Number(W.team1)||0)+(Number(W.team2)||0))}),m[w.playerName].week3=b}const Y=f.find(b=>b.playerName===w.playerName&&b.week==="divisional");if(Y&&Y.predictions){let b=0;Ee.divisional.games.forEach(K=>{const W=Y.predictions[K.id];W&&(b+=(Number(W.team1)||0)+(Number(W.team2)||0))}),m[w.playerName].week2=b}const ne=f.find(b=>b.playerName===w.playerName&&b.week==="wildcard");if(ne&&ne.predictions){let b=0;Ee.wildcard.games.forEach(K=>{const W=ne.predictions[K.id];W&&(b+=(Number(W.team1)||0)+(Number(W.team2)||0))}),m[w.playerName].week1=b}m[w.playerName].grand=m[w.playerName].week1+m[w.playerName].week2+m[w.playerName].week3+m[w.playerName].week4}}),m},[f,a]);return c.jsxs("div",{className:"App",children:[c.jsxs("header",{children:[c.jsx("h1",{children:" Richard's NFL Playoff Pool 2025"}),c.jsx("p",{children:"Enter your score predictions for each NFL Playoff 2025 game"}),c.jsxs("p",{style:{fontSize:"0.85rem",marginTop:"10px",opacity:.8},children:["v2.2-PLAYOFF-SCHEDULE-",new Date().toISOString().slice(0,10).replace(/-/g,"")]}),c.jsxs("div",{style:{marginTop:"15px",display:"flex",flexDirection:"column",gap:"10px",alignItems:"center"},children:[c.jsxs("div",{style:{display:"flex",gap:"15px",flexWrap:"wrap",justifyContent:"center"},children:[c.jsx("a",{href:"/nfl-playoff-pool/Playoff_Pool_Quick_Rules.pdf",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",padding:"10px 20px",backgroundColor:"#0984e3",color:"white",textDecoration:"none",borderRadius:"5px",fontSize:"0.95rem",fontWeight:"bold",transition:"background-color 0.3s ease",cursor:"pointer"},onMouseOver:m=>m.target.style.backgroundColor="#74b9ff",onMouseOut:m=>m.target.style.backgroundColor="#0984e3",children:" View Quick Rules (2 Pages)"}),c.jsx("a",{href:"/nfl-playoff-pool/Richards_Playoff_Pool_LIX_Rulebook.pdf",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",padding:"10px 20px",backgroundColor:"#6c5ce7",color:"white",textDecoration:"none",borderRadius:"5px",fontSize:"0.95rem",fontWeight:"bold",transition:"background-color 0.3s ease",cursor:"pointer"},onMouseOver:m=>m.target.style.backgroundColor="#a29bfe",onMouseOut:m=>m.target.style.backgroundColor="#6c5ce7",children:" View Full Rulebook (13 Pages)"})]}),c.jsx("p",{style:{fontSize:"0.8rem",marginTop:"10px",color:"#000"},children:"Entry Fee: $20 - Must be paid before end of regular season"})]})]}),c.jsxs("div",{className:"container",children:[te()&&o&&c.jsxs("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"15px 20px",borderRadius:"8px",marginBottom:"20px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[c.jsxs("h3",{style:{margin:"0 0 15px 0",display:"flex",alignItems:"center",gap:"10px"},children:[c.jsx("span",{children:""}),c.jsx("span",{children:"POOL MANAGER - WEEK LOCK CONTROLS"})]}),c.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"10px"},children:Object.keys(Ee).map(m=>{var O,B;const x=(O=D[m])==null?void 0:O.locked,w=jt(m),M=x||w;return c.jsxs("div",{style:{background:"rgba(255,255,255,0.15)",padding:"12px",borderRadius:"6px",display:"flex",flexDirection:"column",gap:"8px"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",fontWeight:"bold",fontSize:"0.9rem"},children:[c.jsxs("span",{children:[M?"":""," Week ",m==="wildcard"?"1":m==="divisional"?"2":m==="conference"?"3":"4"]}),c.jsx("span",{style:{fontSize:"0.75rem",opacity:.9},children:(B=D[m])==null?void 0:B.autoLockDate})]}),w&&!x&&c.jsx("div",{style:{fontSize:"0.7rem",padding:"4px 8px",background:"rgba(255,193,7,0.3)",borderRadius:"4px",border:"1px solid rgba(255,193,7,0.5)"},children:" AUTO-LOCKED"}),x&&c.jsx("div",{style:{fontSize:"0.7rem",padding:"4px 8px",background:"rgba(220,53,69,0.3)",borderRadius:"4px",border:"1px solid rgba(220,53,69,0.5)"},children:" MANUALLY LOCKED"}),c.jsx("button",{onClick:()=>z(m),style:{padding:"8px 12px",background:x?"#28a745":"#dc3545",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.85rem",fontWeight:"600",transition:"all 0.2s"},children:x?" Unlock Week":" Lock Week"})]},m)})}),c.jsx("p",{style:{fontSize:"0.8rem",marginTop:"12px",marginBottom:"0",opacity:.9},children:" Manual locks override automatic locks. Players cannot edit picks for locked weeks."})]}),te()&&o&&c.jsx(GC,{currentWeek:a,games:At.games,actualScores:p,teamCodes:E,onScoresFetched:U,onGameLockToggle:de,gameLocks:j,espnAutoRefresh:Ft}),te()&&o&&c.jsxs("div",{style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"white",padding:"15px 20px",borderRadius:"8px",marginBottom:"20px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[c.jsxs("h3",{style:{margin:"0 0 15px 0",display:"flex",alignItems:"center",gap:"10px"},children:[c.jsx("span",{children:""}),c.jsx("span",{children:"ALL PLAYER CODES"})]}),c.jsx("div",{style:{background:"rgba(255,255,255,0.95)",padding:"15px",borderRadius:"6px",maxHeight:"300px",overflowY:"auto"},children:c.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.9rem"},children:[c.jsx("thead",{children:c.jsxs("tr",{style:{background:"#f8f9fa",borderBottom:"2px solid #dee2e6"},children:[c.jsx("th",{style:{padding:"10px",textAlign:"left",color:"#495057",fontWeight:"600"},children:"Player Code"}),c.jsx("th",{style:{padding:"10px",textAlign:"left",color:"#495057",fontWeight:"600"},children:"Player Name"}),c.jsx("th",{style:{padding:"10px",textAlign:"center",color:"#495057",fontWeight:"600"},children:"Role"})]})}),c.jsx("tbody",{children:Object.entries(Ps).sort((m,x)=>{const w=sn.includes(m[0]),M=sn.includes(x[0]);return w&&!M?-1:!w&&M?1:m[1].localeCompare(x[1])}).map(([m,x],w)=>{const M=sn.includes(m);return c.jsxs("tr",{style:{background:w%2===0?"#ffffff":"#f8f9fa",borderBottom:"1px solid #dee2e6"},children:[c.jsx("td",{style:{padding:"10px",color:"#212529",fontFamily:"monospace",fontWeight:"bold",fontSize:"1rem"},children:m}),c.jsx("td",{style:{padding:"10px",color:"#212529"},children:x}),c.jsx("td",{style:{padding:"10px",textAlign:"center"},children:M?c.jsx("span",{style:{padding:"4px 8px",background:"#dc3545",color:"white",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"600"},children:" MANAGER"}):c.jsx("span",{style:{padding:"4px 8px",background:"#28a745",color:"white",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"600"},children:" PLAYER"})})]},m)})})]})}),c.jsxs("p",{style:{fontSize:"0.8rem",marginTop:"12px",marginBottom:"0",opacity:.9},children:[" Total Players: ",Object.keys(Ps).length," | Pool Managers: ",sn.length," | Regular Players: ",Object.keys(Ps).length-sn.length]})]}),c.jsx("div",{className:"week-selector",children:Object.keys(Ee).map(m=>{const x=A(m);return c.jsxs("button",{className:a===m?"active":"",onClick:()=>u(m),style:{position:"relative",opacity:x&&!te()?.7:1},children:[Ee[m].name.split(" ")[0]+(m==="superbowl"?" Bowl":""),x&&!te()&&c.jsx("span",{style:{position:"absolute",top:"4px",right:"4px",fontSize:"0.8rem"},children:""})]},m)})}),o&&c.jsxs("div",{className:"view-navigation",children:[c.jsx("button",{className:`nav-btn ${t==="picks"?"active":""}`,onClick:()=>e("picks"),children:" Make Picks"}),c.jsx("button",{className:`nav-btn ${t==="standings"?"active":""}`,onClick:()=>e("standings"),children:" Standings & Prizes"})]}),t==="standings"&&o?c.jsx(HC,{allPicks:f,actualScores:p,currentWeek:a}):c.jsxs(c.Fragment,{children:[o?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"player-confirmed",children:[c.jsx("span",{className:"confirmation-badge",children:" VERIFIED"}),c.jsxs("h3",{children:["Welcome, ",c.jsx("span",{className:"player-name-highlight",children:n}),"!",te()&&c.jsx("span",{style:{marginLeft:"10px",color:"#d63031"},children:" POOL MANAGER"})]}),c.jsxs("p",{style:{color:"#000"},children:["Making picks for: ",c.jsx("strong",{children:At.name})]}),A(a)&&!te()&&c.jsx("div",{style:{marginTop:"10px",padding:"10px 15px",background:"#fff3cd",border:"2px solid #ffc107",borderRadius:"6px",color:"#856404",fontWeight:"600"},children:" This week is LOCKED - You can view your picks but cannot edit them"}),c.jsx("button",{className:"validate-btn",style:{marginTop:"15px",padding:"10px 20px",fontSize:"0.9rem"},onClick:()=>{l(!1),s(""),r(""),d({})},children:" Enter Different Code"})]}),!Rt()&&c.jsx("div",{className:"closed-warning",children:" PICKS ARE LOCKED (Playoff Weekend: Friday 11:59 PM - Monday 12:01 AM PST)"}),c.jsxs("div",{className:"prediction-form",children:[c.jsx("h2",{children:"Enter Your Predictions"}),c.jsxs("div",{className:"progress-indicator",children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[c.jsx("strong",{children:"Progress:"}),c.jsxs("span",{children:[Object.keys(h).filter(m=>h[m].team1&&h[m].team2).length," of ",At.games.length," games completed"]})]}),c.jsx("div",{className:"progress-bar",children:c.jsxs("div",{className:"progress-fill",style:{width:`${Object.keys(h).filter(m=>h[m].team1&&h[m].team2).length/At.games.length*100}%`},children:[Math.round(Object.keys(h).filter(m=>h[m].team1&&h[m].team2).length/At.games.length*100),"%"]})})]}),c.jsxs("form",{onSubmit:kg,children:[At.games.map(m=>{var x,w,M,O,B,P;return c.jsxs("div",{className:"game-prediction",children:[c.jsxs("h3",{children:["Game ",m.id,": ",m.team1," @ ",m.team2,((x=E[a])==null?void 0:x[m.id])&&c.jsxs("span",{style:{fontSize:"0.9rem",color:"#666",marginLeft:"10px"},children:["(",E[a][m.id].team1||"?"," @ ",E[a][m.id].team2||"?",")"]})]}),((w=p[a])==null?void 0:w[m.id])&&c.jsxs("div",{style:{padding:"8px 12px",background:"#e8f5e9",borderRadius:"4px",marginBottom:"10px",fontSize:"0.9rem"},children:[c.jsx("strong",{children:"Actual Score:"})," ",p[a][m.id].team1||"-"," - ",p[a][m.id].team2||"-",((M=C[a])==null?void 0:M[m.id])==="final"&&c.jsx("span",{style:{marginLeft:"10px",padding:"2px 8px",background:"#4caf50",color:"white",borderRadius:"4px",fontSize:"0.8rem",fontWeight:"bold"},children:" FINAL"}),((O=C[a])==null?void 0:O[m.id])==="live"&&c.jsx("span",{style:{marginLeft:"10px",padding:"2px 8px",background:"#ff9800",color:"white",borderRadius:"4px",fontSize:"0.8rem",fontWeight:"bold"},children:" LIVE"})]}),c.jsxs("div",{className:"score-inputs",children:[c.jsxs("div",{className:"team-score",children:[c.jsxs("label",{children:[c.jsx("span",{className:"team-designation",children:"AWAY TEAM"}),c.jsx("span",{className:"team-name-label",children:m.team1})]}),c.jsx("input",{type:"number",min:"0",max:"99",value:((B=h[m.id])==null?void 0:B.team1)||"",onChange:Y=>ye(m.id,"team1",Y.target.value),placeholder:"0",required:!0,disabled:A(a)},`${m.id}-team1-${n}`)]}),c.jsx("div",{className:"vs",children:"VS"}),c.jsxs("div",{className:"team-score",children:[c.jsxs("label",{children:[c.jsx("span",{className:"team-designation",children:"HOME TEAM"}),c.jsx("span",{className:"team-name-label",children:m.team2})]}),c.jsx("input",{type:"number",min:"0",max:"99",value:((P=h[m.id])==null?void 0:P.team2)||"",onChange:Y=>ye(m.id,"team2",Y.target.value),placeholder:"0",required:!0,disabled:A(a)},`${m.id}-team2-${n}`)]})]})]},m.id)}),c.jsx("button",{type:"submit",className:"submit-btn",disabled:!Rt()||A(a),children:A(a)&&!te()?" Week Locked - Cannot Edit Picks":Rt()?" Submit / Update My Picks":" Submissions Locked (Playoff Weekend)"}),Rt()&&!A(a)&&c.jsx("p",{style:{textAlign:"center",marginTop:"15px",color:"#666",fontSize:"0.9rem"},children:"You can edit and resubmit your picks as many times as you want until Friday 11:59 PM PST (before game weekends)"})]})]})]}):c.jsx("div",{className:"prediction-form",children:c.jsxs("div",{className:"code-entry-section",children:[c.jsx("h3",{children:" Enter Your Player Code"}),c.jsx("p",{style:{marginBottom:"20px",color:"#666"},children:"You received a 6-character code when you paid your entry fee."}),c.jsxs("div",{className:"code-input-group",children:[c.jsx("label",{htmlFor:"playerCode",children:"Player Code (6 characters)"}),c.jsx("input",{type:"text",id:"playerCode",className:"code-input",value:i,onChange:m=>s(m.target.value.toUpperCase()),placeholder:"A7K9M2",maxLength:"6",autoComplete:"off",onKeyPress:m=>{m.key==="Enter"&&Rc()}}),c.jsx("button",{className:"validate-btn",onClick:Rc,children:"Validate Code & Continue"}),c.jsxs("div",{style:{marginTop:"20px",padding:"15px",background:"#fff3cd",border:"2px solid #ffc107",borderRadius:"8px",textAlign:"left"},children:[c.jsx("h4",{style:{margin:"0 0 10px 0",color:"#856404"},children:" Entry Fee Payment"}),c.jsxs("p",{style:{margin:"5px 0",fontSize:"0.9rem",color:"#856404"},children:[c.jsx("strong",{children:"Cost:"})," $20 per entry"]}),c.jsxs("p",{style:{margin:"5px 0",fontSize:"0.9rem",color:"#856404"},children:[c.jsx("strong",{children:"Send e-Transfer to:"})," gammoneer2b@gmail.com"]}),c.jsxs("p",{style:{margin:"5px 0",fontSize:"0.9rem",color:"#856404"},children:[c.jsx("strong",{children:"Password:"})," nflpool"]}),c.jsx("p",{style:{margin:"10px 0 5px 0",fontSize:"0.85rem",color:"#856404",fontStyle:"italic"},children:"You will receive your player code after payment is confirmed."})]}),c.jsx("p",{style:{marginTop:"15px",fontSize:"0.9rem",color:"#666",textAlign:"center"},children:"Questions? Contact: gammoneer2b@gmail.com"})]})]})}),c.jsxs("div",{className:"all-picks",children:[c.jsxs("h2",{children:["All Player Picks - ",At.name,c.jsx("button",{onClick:xg,style:{marginLeft:"15px",padding:"8px 16px",background:"#4caf50",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Download to Excel"}),c.jsx("button",{onClick:()=>window.location.reload(),style:{marginLeft:"10px",padding:"8px 16px",background:"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Refresh Picks Table"})]}),f.filter(m=>m.week===a).length===0?c.jsx("p",{className:"no-picks",children:"No picks submitted yet for this week."}):c.jsx("div",{className:"picks-table-container",children:c.jsxs("table",{className:"picks-table",children:[c.jsxs("thead",{children:[c.jsxs("tr",{children:[c.jsx("th",{rowSpan:"2",children:"Player"}),At.games.map(m=>{var x,w,M,O,B;return c.jsxs("th",{colSpan:"2",children:["Game ",m.id,c.jsx("br",{}),c.jsxs("small",{children:[m.team1," @ ",m.team2]}),te()&&c.jsxs("div",{style:{marginTop:"5px",display:"flex",gap:"5px",justifyContent:"center",alignItems:"center"},children:[c.jsx("input",{type:"text",maxLength:"3",value:((w=(x=E[a])==null?void 0:x[m.id])==null?void 0:w.team1)||"",onChange:P=>An(m.id,"team1",P.target.value),placeholder:"PIT",style:{width:"45px",padding:"4px",textAlign:"center",fontSize:"0.8rem",fontWeight:"bold",border:"2px solid #667eea",borderRadius:"4px"}}),c.jsx("span",{style:{fontSize:"0.8rem"},children:"@"}),c.jsx("input",{type:"text",maxLength:"3",value:((O=(M=E[a])==null?void 0:M[m.id])==null?void 0:O.team2)||"",onChange:P=>An(m.id,"team2",P.target.value),placeholder:"BUF",style:{width:"45px",padding:"4px",textAlign:"center",fontSize:"0.8rem",fontWeight:"bold",border:"2px solid #667eea",borderRadius:"4px"}})]}),!te()&&((B=E[a])==null?void 0:B[m.id])&&c.jsxs("div",{style:{fontSize:"0.8rem",color:"#666",marginTop:"3px"},children:[E[a][m.id].team1||"?"," @ ",E[a][m.id].team2||"?"]})]},m.id)}),a==="superbowl"?c.jsxs(c.Fragment,{children:[c.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#fff3cd",fontWeight:"bold",color:"#000"},children:[te()?c.jsxs("div",{style:{marginBottom:"8px"},children:[c.jsx("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000"},children:"OFFICIAL"}),c.jsx("input",{type:"number",min:"0",value:N.superbowl_week4||"",onChange:m=>Ke("superbowl_week4",m.target.value),placeholder:"-",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #f39c12",borderRadius:"4px",color:"#000"}})]}):c.jsxs("div",{style:{marginBottom:"8px"},children:[c.jsx("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:"Official"}),c.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:N.superbowl_week4||"-"})]}),"Week 4",c.jsx("br",{}),"Total"]}),c.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#d1ecf1",fontWeight:"bold",color:"#000"},children:[te()?c.jsxs("div",{style:{marginBottom:"8px"},children:[c.jsx("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000"},children:"OFFICIAL"}),c.jsx("input",{type:"number",min:"0",value:N.superbowl_week3||"",onChange:m=>Ke("superbowl_week3",m.target.value),placeholder:"-",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #f39c12",borderRadius:"4px",color:"#000"}})]}):c.jsxs("div",{style:{marginBottom:"8px"},children:[c.jsx("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:"Official"}),c.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:N.superbowl_week3||"-"})]}),"Week 3",c.jsx("br",{}),"Total"]}),c.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#d4edda",fontWeight:"bold",color:"#000"},children:[te()?c.jsxs("div",{style:{marginBottom:"8px"},children:[c.jsx("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000"},children:"OFFICIAL"}),c.jsx("input",{type:"number",min:"0",value:N.superbowl_week2||"",onChange:m=>Ke("superbowl_week2",m.target.value),placeholder:"-",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #f39c12",borderRadius:"4px",color:"#000"}})]}):c.jsxs("div",{style:{marginBottom:"8px"},children:[c.jsx("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:"Official"}),c.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:N.superbowl_week2||"-"})]}),"Week 2",c.jsx("br",{}),"Total"]}),c.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#f8d7da",fontWeight:"bold",color:"#000"},children:[te()?c.jsxs("div",{style:{marginBottom:"8px"},children:[c.jsx("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000"},children:"OFFICIAL"}),c.jsx("input",{type:"number",min:"0",value:N.superbowl_week1||"",onChange:m=>Ke("superbowl_week1",m.target.value),placeholder:"-",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #f39c12",borderRadius:"4px",color:"#000"}})]}):c.jsxs("div",{style:{marginBottom:"8px"},children:[c.jsx("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:"Official"}),c.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:N.superbowl_week1||"-"})]}),"Week 1",c.jsx("br",{}),"Total"]}),c.jsxs("th",{rowSpan:"2",className:"grand-total",children:[te()?c.jsxs("div",{style:{marginBottom:"8px"},children:[c.jsx("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#fff"},children:"OFFICIAL"}),c.jsx("input",{type:"number",min:"0",value:N.superbowl_grand||"",onChange:m=>Ke("superbowl_grand",m.target.value),placeholder:"-",style:{width:"70px",padding:"4px",textAlign:"center",fontSize:"1.1rem",fontWeight:"bold",border:"3px solid #f39c12",borderRadius:"4px",backgroundColor:"#fff",color:"#000"}})]}):c.jsxs("div",{style:{marginBottom:"8px"},children:[c.jsx("div",{style:{fontSize:"0.7rem",color:"#fff",marginBottom:"2px"},children:"Official"}),c.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"#fff"},children:N.superbowl_grand||"-"})]}),"GRAND",c.jsx("br",{}),"TOTAL"]})]}):c.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#f8f9fa",fontWeight:"bold",color:"#000"},children:[te()?c.jsxs("div",{style:{marginBottom:"8px"},children:[c.jsx("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000"},children:"OFFICIAL"}),c.jsx("input",{type:"number",min:"0",value:N[a]||"",onChange:m=>Ke(a,m.target.value),placeholder:"-",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #f39c12",borderRadius:"4px",color:"#000"}})]}):c.jsxs("div",{style:{marginBottom:"8px"},children:[c.jsx("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:"Official"}),c.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:N[a]||"-"})]}),"Official",c.jsx("br",{}),"Total"]}),c.jsx("th",{rowSpan:"2",children:"Submitted"})]}),c.jsx("tr",{style:{background:"#e3f2fd"},children:At.games.map(m=>{var x,w,M,O,B,P,Y,ne,b,K,W;return c.jsxs(Ul.Fragment,{children:[c.jsx("th",{style:{padding:"8px 4px",background:"#e3f2fd"},children:te()?c.jsxs("div",{children:[c.jsx("input",{type:"number",min:"0",max:"99",value:((w=(x=p[a])==null?void 0:x[m.id])==null?void 0:w.team1)||"",onChange:ee=>Pt(m.id,"team1",ee.target.value),placeholder:"-",style:{width:"50px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #4caf50",borderRadius:"4px",color:"#000"}}),c.jsx("div",{style:{fontSize:"0.7rem",marginTop:"2px",color:"#000"},children:"ACTUAL"})]}):c.jsxs("div",{children:[c.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#000"},children:((O=(M=p[a])==null?void 0:M[m.id])==null?void 0:O.team1)||"-"}),c.jsx("div",{style:{fontSize:"0.7rem",color:"#000"},children:"ACTUAL"})]})}),c.jsx("th",{style:{padding:"8px 4px",background:"#e3f2fd"},children:te()?c.jsxs("div",{children:[c.jsx("input",{type:"number",min:"0",max:"99",value:((P=(B=p[a])==null?void 0:B[m.id])==null?void 0:P.team2)||"",onChange:ee=>Pt(m.id,"team2",ee.target.value),placeholder:"-",style:{width:"50px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #4caf50",borderRadius:"4px",color:"#000"}}),c.jsx("div",{style:{fontSize:"0.7rem",marginTop:"2px",color:"#000"},children:"ACTUAL"}),c.jsxs("select",{value:((Y=C[a])==null?void 0:Y[m.id])||"",onChange:ee=>Kr(m.id,ee.target.value),style:{width:"60px",padding:"2px",fontSize:"0.7rem",marginTop:"4px",borderRadius:"3px",border:"1px solid #999"},children:[c.jsx("option",{value:"",children:"--"}),c.jsx("option",{value:"live",children:" LIVE"}),c.jsx("option",{value:"final",children:" FINAL"})]})]}):c.jsxs("div",{children:[c.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#000"},children:((b=(ne=p[a])==null?void 0:ne[m.id])==null?void 0:b.team2)||"-"}),c.jsx("div",{style:{fontSize:"0.7rem",color:"#000"},children:"ACTUAL"}),((K=C[a])==null?void 0:K[m.id])==="final"&&c.jsx("div",{style:{display:"inline-block",padding:"2px 6px",background:"#4caf50",color:"white",borderRadius:"3px",fontSize:"0.65rem",fontWeight:"bold",marginTop:"4px"},children:" FINAL"}),((W=C[a])==null?void 0:W[m.id])==="live"&&c.jsx("div",{style:{display:"inline-block",padding:"2px 6px",background:"#ff9800",color:"white",borderRadius:"3px",fontSize:"0.65rem",fontWeight:"bold",marginTop:"4px"},children:" LIVE"})]})})]},`actual-${m.id}`)})})]}),c.jsx("tbody",{children:f.filter(m=>m.week===a).sort((m,x)=>(x.lastUpdated||x.timestamp)-(m.lastUpdated||m.timestamp)).map((m,x)=>{var M,O,B,P,Y,ne;const w=b=>{var Ac;const K=(Ac=p[a])==null?void 0:Ac[b],W=m.predictions[b];if(!K||!W)return!1;const ee=parseInt(K.team1),ve=parseInt(K.team2),Se=parseInt(W.team1),me=parseInt(W.team2);if(isNaN(ee)||isNaN(ve))return!1;const Te=ee>ve?"team1":ve>ee?"team2":"tie",Ng=Se>me?"team1":me>Se?"team2":"tie";return Te===Ng&&Te!=="tie"};return c.jsxs("tr",{children:[c.jsx("td",{className:"player-name",children:m.playerName}),At.games.map(b=>{var W,ee;const K=w(b.id);return c.jsxs(Ul.Fragment,{children:[c.jsx("td",{className:`score ${K?"score-winner":""}`,children:((W=m.predictions[b.id])==null?void 0:W.team1)||"-"}),c.jsx("td",{className:`score ${K?"score-winner":""}`,children:((ee=m.predictions[b.id])==null?void 0:ee.team2)||"-"})]},`${x}-${b.id}`)}),a==="superbowl"?c.jsxs(c.Fragment,{children:[c.jsx("td",{style:{backgroundColor:"#fff3cd",fontWeight:"bold",fontSize:"16px"},children:c.jsx("span",{style:{color:"#000"},children:((M=ir[m.playerName])==null?void 0:M.week4)||0})}),c.jsx("td",{style:{backgroundColor:"#d1ecf1",fontWeight:"bold",fontSize:"16px"},children:c.jsx("span",{style:{color:"#000"},children:((O=ir[m.playerName])==null?void 0:O.week3)||0})}),c.jsx("td",{style:{backgroundColor:"#d4edda",fontWeight:"bold",fontSize:"16px"},children:c.jsx("span",{style:{color:"#000"},children:((B=ir[m.playerName])==null?void 0:B.week2)||0})}),c.jsx("td",{style:{backgroundColor:"#f8d7da",fontWeight:"bold",fontSize:"16px"},children:c.jsx("span",{style:{color:"#000"},children:((P=ir[m.playerName])==null?void 0:P.week1)||0})}),c.jsx("td",{className:"grand-total",children:((Y=ir[m.playerName])==null?void 0:Y.grand)||0})]}):c.jsx("td",{style:{backgroundColor:"#f8f9fa",fontWeight:"bold",fontSize:"16px"},children:c.jsx("span",{style:{color:"#000"},children:((ne=ir[m.playerName])==null?void 0:ne.current)||0})}),c.jsx("td",{className:"timestamp",children:new Date(m.lastUpdated||m.timestamp).toLocaleString("en-US",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})})]},x)})})]})})]})]})]}),c.jsxs("footer",{children:[c.jsx("p",{children:"Richard's NFL Playoff Pool 2025 | Good luck! "}),c.jsx("p",{style:{fontSize:"0.85rem",marginTop:"5px"},children:"Questions? Contact: gammoneer2b@gmail.com"})]})]})}Bl.createRoot(document.getElementById("root")).render(c.jsx(Ul.StrictMode,{children:c.jsx(tE,{})}));
