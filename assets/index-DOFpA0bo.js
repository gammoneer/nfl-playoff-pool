(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function P0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qh={exports:{}},vl={},Jh={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ai=Symbol.for("react.element"),I0=Symbol.for("react.portal"),R0=Symbol.for("react.fragment"),A0=Symbol.for("react.strict_mode"),D0=Symbol.for("react.profiler"),O0=Symbol.for("react.provider"),L0=Symbol.for("react.context"),W0=Symbol.for("react.forward_ref"),M0=Symbol.for("react.suspense"),z0=Symbol.for("react.memo"),F0=Symbol.for("react.lazy"),Hd=Symbol.iterator;function B0(t){return t===null||typeof t!="object"?null:(t=Hd&&t[Hd]||t["@@iterator"],typeof t=="function"?t:null)}var Zh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ep=Object.assign,tp={};function ls(t,e,n){this.props=t,this.context=e,this.refs=tp,this.updater=n||Zh}ls.prototype.isReactComponent={};ls.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ls.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function np(){}np.prototype=ls.prototype;function Jc(t,e,n){this.props=t,this.context=e,this.refs=tp,this.updater=n||Zh}var Zc=Jc.prototype=new np;Zc.constructor=Jc;ep(Zc,ls.prototype);Zc.isPureReactComponent=!0;var Yd=Array.isArray,rp=Object.prototype.hasOwnProperty,eu={current:null},sp={key:!0,ref:!0,__self:!0,__source:!0};function ip(t,e,n){var r,s={},i=null,l=null;if(e!=null)for(r in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(i=""+e.key),e)rp.call(e,r)&&!sp.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ai,type:t,key:i,ref:l,props:s,_owner:eu.current}}function $0(t,e){return{$$typeof:Ai,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function tu(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ai}function U0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Kd=/\/+/g;function ea(t,e){return typeof t=="object"&&t!==null&&t.key!=null?U0(""+t.key):e.toString(36)}function xo(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Ai:case I0:l=!0}}if(l)return l=t,s=s(l),t=r===""?"."+ea(l,0):r,Yd(s)?(n="",t!=null&&(n=t.replace(Kd,"$&/")+"/"),xo(s,e,n,"",function(u){return u})):s!=null&&(tu(s)&&(s=$0(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(Kd,"$&/")+"/")+t)),e.push(s)),1;if(l=0,r=r===""?".":r+":",Yd(t))for(var a=0;a<t.length;a++){i=t[a];var c=r+ea(i,a);l+=xo(i,e,n,c,s)}else if(c=B0(t),typeof c=="function")for(t=c.call(t),a=0;!(i=t.next()).done;)i=i.value,c=r+ea(i,a++),l+=xo(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function Ji(t,e,n){if(t==null)return t;var r=[],s=0;return xo(t,r,"","",function(i){return e.call(n,i,s++)}),r}function G0(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var lt={current:null},vo={transition:null},V0={ReactCurrentDispatcher:lt,ReactCurrentBatchConfig:vo,ReactCurrentOwner:eu};function op(){throw Error("act(...) is not supported in production builds of React.")}se.Children={map:Ji,forEach:function(t,e,n){Ji(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ji(t,function(){e++}),e},toArray:function(t){return Ji(t,function(e){return e})||[]},only:function(t){if(!tu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};se.Component=ls;se.Fragment=R0;se.Profiler=D0;se.PureComponent=Jc;se.StrictMode=A0;se.Suspense=M0;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V0;se.act=op;se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ep({},t.props),s=t.key,i=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,l=eu.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)rp.call(e,c)&&!sp.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ai,type:t.type,key:s,ref:i,props:r,_owner:l}};se.createContext=function(t){return t={$$typeof:L0,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:O0,_context:t},t.Consumer=t};se.createElement=ip;se.createFactory=function(t){var e=ip.bind(null,t);return e.type=t,e};se.createRef=function(){return{current:null}};se.forwardRef=function(t){return{$$typeof:W0,render:t}};se.isValidElement=tu;se.lazy=function(t){return{$$typeof:F0,_payload:{_status:-1,_result:t},_init:G0}};se.memo=function(t,e){return{$$typeof:z0,type:t,compare:e===void 0?null:e}};se.startTransition=function(t){var e=vo.transition;vo.transition={};try{t()}finally{vo.transition=e}};se.unstable_act=op;se.useCallback=function(t,e){return lt.current.useCallback(t,e)};se.useContext=function(t){return lt.current.useContext(t)};se.useDebugValue=function(){};se.useDeferredValue=function(t){return lt.current.useDeferredValue(t)};se.useEffect=function(t,e){return lt.current.useEffect(t,e)};se.useId=function(){return lt.current.useId()};se.useImperativeHandle=function(t,e,n){return lt.current.useImperativeHandle(t,e,n)};se.useInsertionEffect=function(t,e){return lt.current.useInsertionEffect(t,e)};se.useLayoutEffect=function(t,e){return lt.current.useLayoutEffect(t,e)};se.useMemo=function(t,e){return lt.current.useMemo(t,e)};se.useReducer=function(t,e,n){return lt.current.useReducer(t,e,n)};se.useRef=function(t){return lt.current.useRef(t)};se.useState=function(t){return lt.current.useState(t)};se.useSyncExternalStore=function(t,e,n){return lt.current.useSyncExternalStore(t,e,n)};se.useTransition=function(){return lt.current.useTransition()};se.version="18.3.1";Jh.exports=se;var L=Jh.exports;const Fa=P0(L);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H0=L,Y0=Symbol.for("react.element"),K0=Symbol.for("react.fragment"),Q0=Object.prototype.hasOwnProperty,X0=H0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,q0={key:!0,ref:!0,__self:!0,__source:!0};function lp(t,e,n){var r,s={},i=null,l=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(l=e.ref);for(r in e)Q0.call(e,r)&&!q0.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Y0,type:t,key:i,ref:l,props:s,_owner:X0.current}}vl.Fragment=K0;vl.jsx=lp;vl.jsxs=lp;qh.exports=vl;var o=qh.exports,Ba={},ap={exports:{}},kt={},cp={exports:{}},up={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,K){var J=z.length;z.push(K);e:for(;0<J;){var Se=J-1>>>1,Le=z[Se];if(0<s(Le,K))z[Se]=K,z[J]=Le,J=Se;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var K=z[0],J=z.pop();if(J!==K){z[0]=J;e:for(var Se=0,Le=z.length,_r=Le>>>1;Se<_r;){var ct=2*(Se+1)-1,Ct=z[ct],nt=ct+1,Ie=z[nt];if(0>s(Ct,J))nt<Le&&0>s(Ie,Ct)?(z[Se]=Ie,z[nt]=J,Se=nt):(z[Se]=Ct,z[ct]=J,Se=ct);else if(nt<Le&&0>s(Ie,J))z[Se]=Ie,z[nt]=J,Se=nt;else break e}}return K}function s(z,K){var J=z.sortIndex-K.sortIndex;return J!==0?J:z.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,a=l.now();t.unstable_now=function(){return l.now()-a}}var c=[],u=[],p=1,d=null,h=3,_=!1,w=!1,P=!1,E=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(z){for(var K=n(u);K!==null;){if(K.callback===null)r(u);else if(K.startTime<=z)r(u),K.sortIndex=K.expirationTime,e(c,K);else break;K=n(u)}}function m(z){if(P=!1,k(z),!w)if(n(c)!==null)w=!0,ce(S);else{var K=n(u);K!==null&&Ae(m,K.startTime-z)}}function S(z,K){w=!1,P&&(P=!1,v(R),R=-1),_=!0;var J=h;try{for(k(K),d=n(c);d!==null&&(!(d.expirationTime>K)||z&&!F());){var Se=d.callback;if(typeof Se=="function"){d.callback=null,h=d.priorityLevel;var Le=Se(d.expirationTime<=K);K=t.unstable_now(),typeof Le=="function"?d.callback=Le:d===n(c)&&r(c),k(K)}else r(c);d=n(c)}if(d!==null)var _r=!0;else{var ct=n(u);ct!==null&&Ae(m,ct.startTime-K),_r=!1}return _r}finally{d=null,h=J,_=!1}}var b=!1,j=null,R=-1,U=5,W=-1;function F(){return!(t.unstable_now()-W<U)}function ee(){if(j!==null){var z=t.unstable_now();W=z;var K=!0;try{K=j(!0,z)}finally{K?he():(b=!1,j=null)}}else b=!1}var he;if(typeof y=="function")he=function(){y(ee)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,Xe=H.port2;H.port1.onmessage=ee,he=function(){Xe.postMessage(null)}}else he=function(){E(ee,0)};function ce(z){j=z,b||(b=!0,he())}function Ae(z,K){R=E(function(){z(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){w||_||(w=!0,ce(S))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(z){switch(h){case 1:case 2:case 3:var K=3;break;default:K=h}var J=h;h=K;try{return z()}finally{h=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,K){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var J=h;h=z;try{return K()}finally{h=J}},t.unstable_scheduleCallback=function(z,K,J){var Se=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?Se+J:Se):J=Se,z){case 1:var Le=-1;break;case 2:Le=250;break;case 5:Le=1073741823;break;case 4:Le=1e4;break;default:Le=5e3}return Le=J+Le,z={id:p++,callback:K,priorityLevel:z,startTime:J,expirationTime:Le,sortIndex:-1},J>Se?(z.sortIndex=J,e(u,z),n(c)===null&&z===n(u)&&(P?(v(R),R=-1):P=!0,Ae(m,J-Se))):(z.sortIndex=Le,e(c,z),w||_||(w=!0,ce(S))),z},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(z){var K=h;return function(){var J=h;h=K;try{return z.apply(this,arguments)}finally{h=J}}}})(up);cp.exports=up;var J0=cp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z0=L,wt=J0;function D(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dp=new Set,si={};function gr(t,e){Xr(t,e),Xr(t+"Capture",e)}function Xr(t,e){for(si[t]=e,t=0;t<e.length;t++)dp.add(e[t])}var ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$a=Object.prototype.hasOwnProperty,ex=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Qd={},Xd={};function tx(t){return $a.call(Xd,t)?!0:$a.call(Qd,t)?!1:ex.test(t)?Xd[t]=!0:(Qd[t]=!0,!1)}function nx(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function rx(t,e,n,r){if(e===null||typeof e>"u"||nx(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function at(t,e,n,r,s,i,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=l}var Qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Qe[t]=new at(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Qe[e]=new at(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Qe[t]=new at(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Qe[t]=new at(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Qe[t]=new at(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Qe[t]=new at(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Qe[t]=new at(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Qe[t]=new at(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Qe[t]=new at(t,5,!1,t.toLowerCase(),null,!1,!1)});var nu=/[\-:]([a-z])/g;function ru(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(nu,ru);Qe[e]=new at(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(nu,ru);Qe[e]=new at(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(nu,ru);Qe[e]=new at(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Qe[t]=new at(t,1,!1,t.toLowerCase(),null,!1,!1)});Qe.xlinkHref=new at("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Qe[t]=new at(t,1,!1,t.toLowerCase(),null,!0,!0)});function su(t,e,n,r){var s=Qe.hasOwnProperty(e)?Qe[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(rx(e,n,s,r)&&(n=null),r||s===null?tx(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var hn=Z0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zi=Symbol.for("react.element"),Tr=Symbol.for("react.portal"),jr=Symbol.for("react.fragment"),iu=Symbol.for("react.strict_mode"),Ua=Symbol.for("react.profiler"),fp=Symbol.for("react.provider"),hp=Symbol.for("react.context"),ou=Symbol.for("react.forward_ref"),Ga=Symbol.for("react.suspense"),Va=Symbol.for("react.suspense_list"),lu=Symbol.for("react.memo"),wn=Symbol.for("react.lazy"),pp=Symbol.for("react.offscreen"),qd=Symbol.iterator;function bs(t){return t===null||typeof t!="object"?null:(t=qd&&t[qd]||t["@@iterator"],typeof t=="function"?t:null)}var Te=Object.assign,ta;function Fs(t){if(ta===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ta=e&&e[1]||""}return`
`+ta+t}var na=!1;function ra(t,e){if(!t||na)return"";na=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),l=s.length-1,a=i.length-1;1<=l&&0<=a&&s[l]!==i[a];)a--;for(;1<=l&&0<=a;l--,a--)if(s[l]!==i[a]){if(l!==1||a!==1)do if(l--,a--,0>a||s[l]!==i[a]){var c=`
`+s[l].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=l&&0<=a);break}}}finally{na=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Fs(t):""}function sx(t){switch(t.tag){case 5:return Fs(t.type);case 16:return Fs("Lazy");case 13:return Fs("Suspense");case 19:return Fs("SuspenseList");case 0:case 2:case 15:return t=ra(t.type,!1),t;case 11:return t=ra(t.type.render,!1),t;case 1:return t=ra(t.type,!0),t;default:return""}}function Ha(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case jr:return"Fragment";case Tr:return"Portal";case Ua:return"Profiler";case iu:return"StrictMode";case Ga:return"Suspense";case Va:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case hp:return(t.displayName||"Context")+".Consumer";case fp:return(t._context.displayName||"Context")+".Provider";case ou:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case lu:return e=t.displayName||null,e!==null?e:Ha(t.type)||"Memo";case wn:e=t._payload,t=t._init;try{return Ha(t(e))}catch{}}return null}function ix(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ha(e);case 8:return e===iu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function zn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mp(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ox(t){var e=mp(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(l){r=""+l,i.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function eo(t){t._valueTracker||(t._valueTracker=ox(t))}function gp(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=mp(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ro(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ya(t,e){var n=e.checked;return Te({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Jd(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=zn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function yp(t,e){e=e.checked,e!=null&&su(t,"checked",e,!1)}function Ka(t,e){yp(t,e);var n=zn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Qa(t,e.type,n):e.hasOwnProperty("defaultValue")&&Qa(t,e.type,zn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Zd(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Qa(t,e,n){(e!=="number"||Ro(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Bs=Array.isArray;function Br(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+zn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Xa(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(D(91));return Te({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ef(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(D(92));if(Bs(n)){if(1<n.length)throw Error(D(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:zn(n)}}function xp(t,e){var n=zn(e.value),r=zn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function tf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function vp(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qa(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?vp(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var to,_p=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(to=to||document.createElement("div"),to.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=to.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ii(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Gs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lx=["Webkit","ms","Moz","O"];Object.keys(Gs).forEach(function(t){lx.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Gs[e]=Gs[t]})});function wp(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Gs.hasOwnProperty(t)&&Gs[t]?(""+e).trim():e+"px"}function kp(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=wp(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var ax=Te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ja(t,e){if(e){if(ax[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(D(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(D(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(D(61))}if(e.style!=null&&typeof e.style!="object")throw Error(D(62))}}function Za(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ec=null;function au(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var tc=null,$r=null,Ur=null;function nf(t){if(t=Li(t)){if(typeof tc!="function")throw Error(D(280));var e=t.stateNode;e&&(e=Cl(e),tc(t.stateNode,t.type,e))}}function Sp(t){$r?Ur?Ur.push(t):Ur=[t]:$r=t}function Cp(){if($r){var t=$r,e=Ur;if(Ur=$r=null,nf(t),e)for(t=0;t<e.length;t++)nf(e[t])}}function Ep(t,e){return t(e)}function bp(){}var sa=!1;function Np(t,e,n){if(sa)return t(e,n);sa=!0;try{return Ep(t,e,n)}finally{sa=!1,($r!==null||Ur!==null)&&(bp(),Cp())}}function oi(t,e){var n=t.stateNode;if(n===null)return null;var r=Cl(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(D(231,e,typeof n));return n}var nc=!1;if(ln)try{var Ns={};Object.defineProperty(Ns,"passive",{get:function(){nc=!0}}),window.addEventListener("test",Ns,Ns),window.removeEventListener("test",Ns,Ns)}catch{nc=!1}function cx(t,e,n,r,s,i,l,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(p){this.onError(p)}}var Vs=!1,Ao=null,Do=!1,rc=null,ux={onError:function(t){Vs=!0,Ao=t}};function dx(t,e,n,r,s,i,l,a,c){Vs=!1,Ao=null,cx.apply(ux,arguments)}function fx(t,e,n,r,s,i,l,a,c){if(dx.apply(this,arguments),Vs){if(Vs){var u=Ao;Vs=!1,Ao=null}else throw Error(D(198));Do||(Do=!0,rc=u)}}function yr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Tp(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function rf(t){if(yr(t)!==t)throw Error(D(188))}function hx(t){var e=t.alternate;if(!e){if(e=yr(t),e===null)throw Error(D(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return rf(s),t;if(i===r)return rf(s),e;i=i.sibling}throw Error(D(188))}if(n.return!==r.return)n=s,r=i;else{for(var l=!1,a=s.child;a;){if(a===n){l=!0,n=s,r=i;break}if(a===r){l=!0,r=s,n=i;break}a=a.sibling}if(!l){for(a=i.child;a;){if(a===n){l=!0,n=i,r=s;break}if(a===r){l=!0,r=i,n=s;break}a=a.sibling}if(!l)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?t:e}function jp(t){return t=hx(t),t!==null?Pp(t):null}function Pp(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Pp(t);if(e!==null)return e;t=t.sibling}return null}var Ip=wt.unstable_scheduleCallback,sf=wt.unstable_cancelCallback,px=wt.unstable_shouldYield,mx=wt.unstable_requestPaint,Re=wt.unstable_now,gx=wt.unstable_getCurrentPriorityLevel,cu=wt.unstable_ImmediatePriority,Rp=wt.unstable_UserBlockingPriority,Oo=wt.unstable_NormalPriority,yx=wt.unstable_LowPriority,Ap=wt.unstable_IdlePriority,_l=null,Xt=null;function xx(t){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(_l,t,void 0,(t.current.flags&128)===128)}catch{}}var Bt=Math.clz32?Math.clz32:wx,vx=Math.log,_x=Math.LN2;function wx(t){return t>>>=0,t===0?32:31-(vx(t)/_x|0)|0}var no=64,ro=4194304;function $s(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Lo(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,l=n&268435455;if(l!==0){var a=l&~s;a!==0?r=$s(a):(i&=l,i!==0&&(r=$s(i)))}else l=n&~s,l!==0?r=$s(l):i!==0&&(r=$s(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Bt(e),s=1<<n,r|=t[n],e&=~s;return r}function kx(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sx(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var l=31-Bt(i),a=1<<l,c=s[l];c===-1?(!(a&n)||a&r)&&(s[l]=kx(a,e)):c<=e&&(t.expiredLanes|=a),i&=~a}}function sc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Dp(){var t=no;return no<<=1,!(no&4194240)&&(no=64),t}function ia(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Di(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Bt(e),t[e]=n}function Cx(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Bt(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function uu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Bt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ue=0;function Op(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Lp,du,Wp,Mp,zp,ic=!1,so=[],Nn=null,Tn=null,jn=null,li=new Map,ai=new Map,Sn=[],Ex="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function of(t,e){switch(t){case"focusin":case"focusout":Nn=null;break;case"dragenter":case"dragleave":Tn=null;break;case"mouseover":case"mouseout":jn=null;break;case"pointerover":case"pointerout":li.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ai.delete(e.pointerId)}}function Ts(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Li(e),e!==null&&du(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function bx(t,e,n,r,s){switch(e){case"focusin":return Nn=Ts(Nn,t,e,n,r,s),!0;case"dragenter":return Tn=Ts(Tn,t,e,n,r,s),!0;case"mouseover":return jn=Ts(jn,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return li.set(i,Ts(li.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ai.set(i,Ts(ai.get(i)||null,t,e,n,r,s)),!0}return!1}function Fp(t){var e=Zn(t.target);if(e!==null){var n=yr(e);if(n!==null){if(e=n.tag,e===13){if(e=Tp(n),e!==null){t.blockedOn=e,zp(t.priority,function(){Wp(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _o(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=oc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ec=r,n.target.dispatchEvent(r),ec=null}else return e=Li(n),e!==null&&du(e),t.blockedOn=n,!1;e.shift()}return!0}function lf(t,e,n){_o(t)&&n.delete(e)}function Nx(){ic=!1,Nn!==null&&_o(Nn)&&(Nn=null),Tn!==null&&_o(Tn)&&(Tn=null),jn!==null&&_o(jn)&&(jn=null),li.forEach(lf),ai.forEach(lf)}function js(t,e){t.blockedOn===e&&(t.blockedOn=null,ic||(ic=!0,wt.unstable_scheduleCallback(wt.unstable_NormalPriority,Nx)))}function ci(t){function e(s){return js(s,t)}if(0<so.length){js(so[0],t);for(var n=1;n<so.length;n++){var r=so[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Nn!==null&&js(Nn,t),Tn!==null&&js(Tn,t),jn!==null&&js(jn,t),li.forEach(e),ai.forEach(e),n=0;n<Sn.length;n++)r=Sn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Sn.length&&(n=Sn[0],n.blockedOn===null);)Fp(n),n.blockedOn===null&&Sn.shift()}var Gr=hn.ReactCurrentBatchConfig,Wo=!0;function Tx(t,e,n,r){var s=ue,i=Gr.transition;Gr.transition=null;try{ue=1,fu(t,e,n,r)}finally{ue=s,Gr.transition=i}}function jx(t,e,n,r){var s=ue,i=Gr.transition;Gr.transition=null;try{ue=4,fu(t,e,n,r)}finally{ue=s,Gr.transition=i}}function fu(t,e,n,r){if(Wo){var s=oc(t,e,n,r);if(s===null)ma(t,e,r,Mo,n),of(t,r);else if(bx(s,t,e,n,r))r.stopPropagation();else if(of(t,r),e&4&&-1<Ex.indexOf(t)){for(;s!==null;){var i=Li(s);if(i!==null&&Lp(i),i=oc(t,e,n,r),i===null&&ma(t,e,r,Mo,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ma(t,e,r,null,n)}}var Mo=null;function oc(t,e,n,r){if(Mo=null,t=au(r),t=Zn(t),t!==null)if(e=yr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Tp(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Mo=t,null}function Bp(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gx()){case cu:return 1;case Rp:return 4;case Oo:case yx:return 16;case Ap:return 536870912;default:return 16}default:return 16}}var En=null,hu=null,wo=null;function $p(){if(wo)return wo;var t,e=hu,n=e.length,r,s="value"in En?En.value:En.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var l=n-t;for(r=1;r<=l&&e[n-r]===s[i-r];r++);return wo=s.slice(t,1<r?1-r:void 0)}function ko(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function io(){return!0}function af(){return!1}function St(t){function e(n,r,s,i,l){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?io:af,this.isPropagationStopped=af,this}return Te(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=io)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=io)},persist:function(){},isPersistent:io}),e}var as={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pu=St(as),Oi=Te({},as,{view:0,detail:0}),Px=St(Oi),oa,la,Ps,wl=Te({},Oi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ps&&(Ps&&t.type==="mousemove"?(oa=t.screenX-Ps.screenX,la=t.screenY-Ps.screenY):la=oa=0,Ps=t),oa)},movementY:function(t){return"movementY"in t?t.movementY:la}}),cf=St(wl),Ix=Te({},wl,{dataTransfer:0}),Rx=St(Ix),Ax=Te({},Oi,{relatedTarget:0}),aa=St(Ax),Dx=Te({},as,{animationName:0,elapsedTime:0,pseudoElement:0}),Ox=St(Dx),Lx=Te({},as,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Wx=St(Lx),Mx=Te({},as,{data:0}),uf=St(Mx),zx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $x(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Bx[t])?!!e[t]:!1}function mu(){return $x}var Ux=Te({},Oi,{key:function(t){if(t.key){var e=zx[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ko(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Fx[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mu,charCode:function(t){return t.type==="keypress"?ko(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ko(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Gx=St(Ux),Vx=Te({},wl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),df=St(Vx),Hx=Te({},Oi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mu}),Yx=St(Hx),Kx=Te({},as,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qx=St(Kx),Xx=Te({},wl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qx=St(Xx),Jx=[9,13,27,32],gu=ln&&"CompositionEvent"in window,Hs=null;ln&&"documentMode"in document&&(Hs=document.documentMode);var Zx=ln&&"TextEvent"in window&&!Hs,Up=ln&&(!gu||Hs&&8<Hs&&11>=Hs),ff=" ",hf=!1;function Gp(t,e){switch(t){case"keyup":return Jx.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pr=!1;function ev(t,e){switch(t){case"compositionend":return Vp(e);case"keypress":return e.which!==32?null:(hf=!0,ff);case"textInput":return t=e.data,t===ff&&hf?null:t;default:return null}}function tv(t,e){if(Pr)return t==="compositionend"||!gu&&Gp(t,e)?(t=$p(),wo=hu=En=null,Pr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Up&&e.locale!=="ko"?null:e.data;default:return null}}var nv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!nv[t.type]:e==="textarea"}function Hp(t,e,n,r){Sp(r),e=zo(e,"onChange"),0<e.length&&(n=new pu("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ys=null,ui=null;function rv(t){rm(t,0)}function kl(t){var e=Ar(t);if(gp(e))return t}function sv(t,e){if(t==="change")return e}var Yp=!1;if(ln){var ca;if(ln){var ua="oninput"in document;if(!ua){var mf=document.createElement("div");mf.setAttribute("oninput","return;"),ua=typeof mf.oninput=="function"}ca=ua}else ca=!1;Yp=ca&&(!document.documentMode||9<document.documentMode)}function gf(){Ys&&(Ys.detachEvent("onpropertychange",Kp),ui=Ys=null)}function Kp(t){if(t.propertyName==="value"&&kl(ui)){var e=[];Hp(e,ui,t,au(t)),Np(rv,e)}}function iv(t,e,n){t==="focusin"?(gf(),Ys=e,ui=n,Ys.attachEvent("onpropertychange",Kp)):t==="focusout"&&gf()}function ov(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return kl(ui)}function lv(t,e){if(t==="click")return kl(e)}function av(t,e){if(t==="input"||t==="change")return kl(e)}function cv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Gt=typeof Object.is=="function"?Object.is:cv;function di(t,e){if(Gt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!$a.call(e,s)||!Gt(t[s],e[s]))return!1}return!0}function yf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xf(t,e){var n=yf(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=yf(n)}}function Qp(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Qp(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Xp(){for(var t=window,e=Ro();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ro(t.document)}return e}function yu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function uv(t){var e=Xp(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Qp(n.ownerDocument.documentElement,n)){if(r!==null&&yu(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=xf(n,i);var l=xf(n,r);s&&l&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var dv=ln&&"documentMode"in document&&11>=document.documentMode,Ir=null,lc=null,Ks=null,ac=!1;function vf(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ac||Ir==null||Ir!==Ro(r)||(r=Ir,"selectionStart"in r&&yu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ks&&di(Ks,r)||(Ks=r,r=zo(lc,"onSelect"),0<r.length&&(e=new pu("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ir)))}function oo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Rr={animationend:oo("Animation","AnimationEnd"),animationiteration:oo("Animation","AnimationIteration"),animationstart:oo("Animation","AnimationStart"),transitionend:oo("Transition","TransitionEnd")},da={},qp={};ln&&(qp=document.createElement("div").style,"AnimationEvent"in window||(delete Rr.animationend.animation,delete Rr.animationiteration.animation,delete Rr.animationstart.animation),"TransitionEvent"in window||delete Rr.transitionend.transition);function Sl(t){if(da[t])return da[t];if(!Rr[t])return t;var e=Rr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in qp)return da[t]=e[n];return t}var Jp=Sl("animationend"),Zp=Sl("animationiteration"),em=Sl("animationstart"),tm=Sl("transitionend"),nm=new Map,_f="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vn(t,e){nm.set(t,e),gr(e,[t])}for(var fa=0;fa<_f.length;fa++){var ha=_f[fa],fv=ha.toLowerCase(),hv=ha[0].toUpperCase()+ha.slice(1);Vn(fv,"on"+hv)}Vn(Jp,"onAnimationEnd");Vn(Zp,"onAnimationIteration");Vn(em,"onAnimationStart");Vn("dblclick","onDoubleClick");Vn("focusin","onFocus");Vn("focusout","onBlur");Vn(tm,"onTransitionEnd");Xr("onMouseEnter",["mouseout","mouseover"]);Xr("onMouseLeave",["mouseout","mouseover"]);Xr("onPointerEnter",["pointerout","pointerover"]);Xr("onPointerLeave",["pointerout","pointerover"]);gr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gr("onBeforeInput",["compositionend","keypress","textInput","paste"]);gr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Us="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Us));function wf(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,fx(r,e,void 0,t),t.currentTarget=null}function rm(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var l=r.length-1;0<=l;l--){var a=r[l],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;wf(s,a,u),i=c}else for(l=0;l<r.length;l++){if(a=r[l],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;wf(s,a,u),i=c}}}if(Do)throw t=rc,Do=!1,rc=null,t}function xe(t,e){var n=e[hc];n===void 0&&(n=e[hc]=new Set);var r=t+"__bubble";n.has(r)||(sm(e,t,2,!1),n.add(r))}function pa(t,e,n){var r=0;e&&(r|=4),sm(n,t,r,e)}var lo="_reactListening"+Math.random().toString(36).slice(2);function fi(t){if(!t[lo]){t[lo]=!0,dp.forEach(function(n){n!=="selectionchange"&&(pv.has(n)||pa(n,!1,t),pa(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[lo]||(e[lo]=!0,pa("selectionchange",!1,e))}}function sm(t,e,n,r){switch(Bp(e)){case 1:var s=Tx;break;case 4:s=jx;break;default:s=fu}n=s.bind(null,e,n,t),s=void 0,!nc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function ma(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(l===4)for(l=r.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;l=l.return}for(;a!==null;){if(l=Zn(a),l===null)return;if(c=l.tag,c===5||c===6){r=i=l;continue e}a=a.parentNode}}r=r.return}Np(function(){var u=i,p=au(n),d=[];e:{var h=nm.get(t);if(h!==void 0){var _=pu,w=t;switch(t){case"keypress":if(ko(n)===0)break e;case"keydown":case"keyup":_=Gx;break;case"focusin":w="focus",_=aa;break;case"focusout":w="blur",_=aa;break;case"beforeblur":case"afterblur":_=aa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=cf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=Rx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=Yx;break;case Jp:case Zp:case em:_=Ox;break;case tm:_=Qx;break;case"scroll":_=Px;break;case"wheel":_=qx;break;case"copy":case"cut":case"paste":_=Wx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=df}var P=(e&4)!==0,E=!P&&t==="scroll",v=P?h!==null?h+"Capture":null:h;P=[];for(var y=u,k;y!==null;){k=y;var m=k.stateNode;if(k.tag===5&&m!==null&&(k=m,v!==null&&(m=oi(y,v),m!=null&&P.push(hi(y,m,k)))),E)break;y=y.return}0<P.length&&(h=new _(h,w,null,n,p),d.push({event:h,listeners:P}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",h&&n!==ec&&(w=n.relatedTarget||n.fromElement)&&(Zn(w)||w[an]))break e;if((_||h)&&(h=p.window===p?p:(h=p.ownerDocument)?h.defaultView||h.parentWindow:window,_?(w=n.relatedTarget||n.toElement,_=u,w=w?Zn(w):null,w!==null&&(E=yr(w),w!==E||w.tag!==5&&w.tag!==6)&&(w=null)):(_=null,w=u),_!==w)){if(P=cf,m="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(P=df,m="onPointerLeave",v="onPointerEnter",y="pointer"),E=_==null?h:Ar(_),k=w==null?h:Ar(w),h=new P(m,y+"leave",_,n,p),h.target=E,h.relatedTarget=k,m=null,Zn(p)===u&&(P=new P(v,y+"enter",w,n,p),P.target=k,P.relatedTarget=E,m=P),E=m,_&&w)t:{for(P=_,v=w,y=0,k=P;k;k=br(k))y++;for(k=0,m=v;m;m=br(m))k++;for(;0<y-k;)P=br(P),y--;for(;0<k-y;)v=br(v),k--;for(;y--;){if(P===v||v!==null&&P===v.alternate)break t;P=br(P),v=br(v)}P=null}else P=null;_!==null&&kf(d,h,_,P,!1),w!==null&&E!==null&&kf(d,E,w,P,!0)}}e:{if(h=u?Ar(u):window,_=h.nodeName&&h.nodeName.toLowerCase(),_==="select"||_==="input"&&h.type==="file")var S=sv;else if(pf(h))if(Yp)S=av;else{S=ov;var b=iv}else(_=h.nodeName)&&_.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=lv);if(S&&(S=S(t,u))){Hp(d,S,n,p);break e}b&&b(t,h,u),t==="focusout"&&(b=h._wrapperState)&&b.controlled&&h.type==="number"&&Qa(h,"number",h.value)}switch(b=u?Ar(u):window,t){case"focusin":(pf(b)||b.contentEditable==="true")&&(Ir=b,lc=u,Ks=null);break;case"focusout":Ks=lc=Ir=null;break;case"mousedown":ac=!0;break;case"contextmenu":case"mouseup":case"dragend":ac=!1,vf(d,n,p);break;case"selectionchange":if(dv)break;case"keydown":case"keyup":vf(d,n,p)}var j;if(gu)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Pr?Gp(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(Up&&n.locale!=="ko"&&(Pr||R!=="onCompositionStart"?R==="onCompositionEnd"&&Pr&&(j=$p()):(En=p,hu="value"in En?En.value:En.textContent,Pr=!0)),b=zo(u,R),0<b.length&&(R=new uf(R,t,null,n,p),d.push({event:R,listeners:b}),j?R.data=j:(j=Vp(n),j!==null&&(R.data=j)))),(j=Zx?ev(t,n):tv(t,n))&&(u=zo(u,"onBeforeInput"),0<u.length&&(p=new uf("onBeforeInput","beforeinput",null,n,p),d.push({event:p,listeners:u}),p.data=j))}rm(d,e)})}function hi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function zo(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=oi(t,n),i!=null&&r.unshift(hi(t,i,s)),i=oi(t,e),i!=null&&r.push(hi(t,i,s))),t=t.return}return r}function br(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function kf(t,e,n,r,s){for(var i=e._reactName,l=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,s?(c=oi(n,i),c!=null&&l.unshift(hi(n,c,a))):s||(c=oi(n,i),c!=null&&l.push(hi(n,c,a)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var mv=/\r\n?/g,gv=/\u0000|\uFFFD/g;function Sf(t){return(typeof t=="string"?t:""+t).replace(mv,`
`).replace(gv,"")}function ao(t,e,n){if(e=Sf(e),Sf(t)!==e&&n)throw Error(D(425))}function Fo(){}var cc=null,uc=null;function dc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var fc=typeof setTimeout=="function"?setTimeout:void 0,yv=typeof clearTimeout=="function"?clearTimeout:void 0,Cf=typeof Promise=="function"?Promise:void 0,xv=typeof queueMicrotask=="function"?queueMicrotask:typeof Cf<"u"?function(t){return Cf.resolve(null).then(t).catch(vv)}:fc;function vv(t){setTimeout(function(){throw t})}function ga(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),ci(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ci(e)}function Pn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ef(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var cs=Math.random().toString(36).slice(2),Qt="__reactFiber$"+cs,pi="__reactProps$"+cs,an="__reactContainer$"+cs,hc="__reactEvents$"+cs,_v="__reactListeners$"+cs,wv="__reactHandles$"+cs;function Zn(t){var e=t[Qt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[an]||n[Qt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ef(t);t!==null;){if(n=t[Qt])return n;t=Ef(t)}return e}t=n,n=t.parentNode}return null}function Li(t){return t=t[Qt]||t[an],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ar(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(D(33))}function Cl(t){return t[pi]||null}var pc=[],Dr=-1;function Hn(t){return{current:t}}function we(t){0>Dr||(t.current=pc[Dr],pc[Dr]=null,Dr--)}function ye(t,e){Dr++,pc[Dr]=t.current,t.current=e}var Fn={},tt=Hn(Fn),ht=Hn(!1),or=Fn;function qr(t,e){var n=t.type.contextTypes;if(!n)return Fn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function pt(t){return t=t.childContextTypes,t!=null}function Bo(){we(ht),we(tt)}function bf(t,e,n){if(tt.current!==Fn)throw Error(D(168));ye(tt,e),ye(ht,n)}function im(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(D(108,ix(t)||"Unknown",s));return Te({},n,r)}function $o(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Fn,or=tt.current,ye(tt,t),ye(ht,ht.current),!0}function Nf(t,e,n){var r=t.stateNode;if(!r)throw Error(D(169));n?(t=im(t,e,or),r.__reactInternalMemoizedMergedChildContext=t,we(ht),we(tt),ye(tt,t)):we(ht),ye(ht,n)}var en=null,El=!1,ya=!1;function om(t){en===null?en=[t]:en.push(t)}function kv(t){El=!0,om(t)}function Yn(){if(!ya&&en!==null){ya=!0;var t=0,e=ue;try{var n=en;for(ue=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}en=null,El=!1}catch(s){throw en!==null&&(en=en.slice(t+1)),Ip(cu,Yn),s}finally{ue=e,ya=!1}}return null}var Or=[],Lr=0,Uo=null,Go=0,Nt=[],Tt=0,lr=null,tn=1,nn="";function Qn(t,e){Or[Lr++]=Go,Or[Lr++]=Uo,Uo=t,Go=e}function lm(t,e,n){Nt[Tt++]=tn,Nt[Tt++]=nn,Nt[Tt++]=lr,lr=t;var r=tn;t=nn;var s=32-Bt(r)-1;r&=~(1<<s),n+=1;var i=32-Bt(e)+s;if(30<i){var l=s-s%5;i=(r&(1<<l)-1).toString(32),r>>=l,s-=l,tn=1<<32-Bt(e)+s|n<<s|r,nn=i+t}else tn=1<<i|n<<s|r,nn=t}function xu(t){t.return!==null&&(Qn(t,1),lm(t,1,0))}function vu(t){for(;t===Uo;)Uo=Or[--Lr],Or[Lr]=null,Go=Or[--Lr],Or[Lr]=null;for(;t===lr;)lr=Nt[--Tt],Nt[Tt]=null,nn=Nt[--Tt],Nt[Tt]=null,tn=Nt[--Tt],Nt[Tt]=null}var _t=null,vt=null,ke=!1,Wt=null;function am(t,e){var n=jt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Tf(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,_t=t,vt=Pn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,_t=t,vt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=lr!==null?{id:tn,overflow:nn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=jt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,_t=t,vt=null,!0):!1;default:return!1}}function mc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function gc(t){if(ke){var e=vt;if(e){var n=e;if(!Tf(t,e)){if(mc(t))throw Error(D(418));e=Pn(n.nextSibling);var r=_t;e&&Tf(t,e)?am(r,n):(t.flags=t.flags&-4097|2,ke=!1,_t=t)}}else{if(mc(t))throw Error(D(418));t.flags=t.flags&-4097|2,ke=!1,_t=t}}}function jf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;_t=t}function co(t){if(t!==_t)return!1;if(!ke)return jf(t),ke=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!dc(t.type,t.memoizedProps)),e&&(e=vt)){if(mc(t))throw cm(),Error(D(418));for(;e;)am(t,e),e=Pn(e.nextSibling)}if(jf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(D(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){vt=Pn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}vt=null}}else vt=_t?Pn(t.stateNode.nextSibling):null;return!0}function cm(){for(var t=vt;t;)t=Pn(t.nextSibling)}function Jr(){vt=_t=null,ke=!1}function _u(t){Wt===null?Wt=[t]:Wt.push(t)}var Sv=hn.ReactCurrentBatchConfig;function Is(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(l){var a=s.refs;l===null?delete a[i]:a[i]=l},e._stringRef=i,e)}if(typeof t!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,t))}return t}function uo(t,e){throw t=Object.prototype.toString.call(e),Error(D(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Pf(t){var e=t._init;return e(t._payload)}function um(t){function e(v,y){if(t){var k=v.deletions;k===null?(v.deletions=[y],v.flags|=16):k.push(y)}}function n(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function s(v,y){return v=Dn(v,y),v.index=0,v.sibling=null,v}function i(v,y,k){return v.index=k,t?(k=v.alternate,k!==null?(k=k.index,k<y?(v.flags|=2,y):k):(v.flags|=2,y)):(v.flags|=1048576,y)}function l(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,y,k,m){return y===null||y.tag!==6?(y=Ca(k,v.mode,m),y.return=v,y):(y=s(y,k),y.return=v,y)}function c(v,y,k,m){var S=k.type;return S===jr?p(v,y,k.props.children,m,k.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===wn&&Pf(S)===y.type)?(m=s(y,k.props),m.ref=Is(v,y,k),m.return=v,m):(m=jo(k.type,k.key,k.props,null,v.mode,m),m.ref=Is(v,y,k),m.return=v,m)}function u(v,y,k,m){return y===null||y.tag!==4||y.stateNode.containerInfo!==k.containerInfo||y.stateNode.implementation!==k.implementation?(y=Ea(k,v.mode,m),y.return=v,y):(y=s(y,k.children||[]),y.return=v,y)}function p(v,y,k,m,S){return y===null||y.tag!==7?(y=ir(k,v.mode,m,S),y.return=v,y):(y=s(y,k),y.return=v,y)}function d(v,y,k){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Ca(""+y,v.mode,k),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Zi:return k=jo(y.type,y.key,y.props,null,v.mode,k),k.ref=Is(v,null,y),k.return=v,k;case Tr:return y=Ea(y,v.mode,k),y.return=v,y;case wn:var m=y._init;return d(v,m(y._payload),k)}if(Bs(y)||bs(y))return y=ir(y,v.mode,k,null),y.return=v,y;uo(v,y)}return null}function h(v,y,k,m){var S=y!==null?y.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return S!==null?null:a(v,y,""+k,m);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Zi:return k.key===S?c(v,y,k,m):null;case Tr:return k.key===S?u(v,y,k,m):null;case wn:return S=k._init,h(v,y,S(k._payload),m)}if(Bs(k)||bs(k))return S!==null?null:p(v,y,k,m,null);uo(v,k)}return null}function _(v,y,k,m,S){if(typeof m=="string"&&m!==""||typeof m=="number")return v=v.get(k)||null,a(y,v,""+m,S);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Zi:return v=v.get(m.key===null?k:m.key)||null,c(y,v,m,S);case Tr:return v=v.get(m.key===null?k:m.key)||null,u(y,v,m,S);case wn:var b=m._init;return _(v,y,k,b(m._payload),S)}if(Bs(m)||bs(m))return v=v.get(k)||null,p(y,v,m,S,null);uo(y,m)}return null}function w(v,y,k,m){for(var S=null,b=null,j=y,R=y=0,U=null;j!==null&&R<k.length;R++){j.index>R?(U=j,j=null):U=j.sibling;var W=h(v,j,k[R],m);if(W===null){j===null&&(j=U);break}t&&j&&W.alternate===null&&e(v,j),y=i(W,y,R),b===null?S=W:b.sibling=W,b=W,j=U}if(R===k.length)return n(v,j),ke&&Qn(v,R),S;if(j===null){for(;R<k.length;R++)j=d(v,k[R],m),j!==null&&(y=i(j,y,R),b===null?S=j:b.sibling=j,b=j);return ke&&Qn(v,R),S}for(j=r(v,j);R<k.length;R++)U=_(j,v,R,k[R],m),U!==null&&(t&&U.alternate!==null&&j.delete(U.key===null?R:U.key),y=i(U,y,R),b===null?S=U:b.sibling=U,b=U);return t&&j.forEach(function(F){return e(v,F)}),ke&&Qn(v,R),S}function P(v,y,k,m){var S=bs(k);if(typeof S!="function")throw Error(D(150));if(k=S.call(k),k==null)throw Error(D(151));for(var b=S=null,j=y,R=y=0,U=null,W=k.next();j!==null&&!W.done;R++,W=k.next()){j.index>R?(U=j,j=null):U=j.sibling;var F=h(v,j,W.value,m);if(F===null){j===null&&(j=U);break}t&&j&&F.alternate===null&&e(v,j),y=i(F,y,R),b===null?S=F:b.sibling=F,b=F,j=U}if(W.done)return n(v,j),ke&&Qn(v,R),S;if(j===null){for(;!W.done;R++,W=k.next())W=d(v,W.value,m),W!==null&&(y=i(W,y,R),b===null?S=W:b.sibling=W,b=W);return ke&&Qn(v,R),S}for(j=r(v,j);!W.done;R++,W=k.next())W=_(j,v,R,W.value,m),W!==null&&(t&&W.alternate!==null&&j.delete(W.key===null?R:W.key),y=i(W,y,R),b===null?S=W:b.sibling=W,b=W);return t&&j.forEach(function(ee){return e(v,ee)}),ke&&Qn(v,R),S}function E(v,y,k,m){if(typeof k=="object"&&k!==null&&k.type===jr&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Zi:e:{for(var S=k.key,b=y;b!==null;){if(b.key===S){if(S=k.type,S===jr){if(b.tag===7){n(v,b.sibling),y=s(b,k.props.children),y.return=v,v=y;break e}}else if(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===wn&&Pf(S)===b.type){n(v,b.sibling),y=s(b,k.props),y.ref=Is(v,b,k),y.return=v,v=y;break e}n(v,b);break}else e(v,b);b=b.sibling}k.type===jr?(y=ir(k.props.children,v.mode,m,k.key),y.return=v,v=y):(m=jo(k.type,k.key,k.props,null,v.mode,m),m.ref=Is(v,y,k),m.return=v,v=m)}return l(v);case Tr:e:{for(b=k.key;y!==null;){if(y.key===b)if(y.tag===4&&y.stateNode.containerInfo===k.containerInfo&&y.stateNode.implementation===k.implementation){n(v,y.sibling),y=s(y,k.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else e(v,y);y=y.sibling}y=Ea(k,v.mode,m),y.return=v,v=y}return l(v);case wn:return b=k._init,E(v,y,b(k._payload),m)}if(Bs(k))return w(v,y,k,m);if(bs(k))return P(v,y,k,m);uo(v,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,y!==null&&y.tag===6?(n(v,y.sibling),y=s(y,k),y.return=v,v=y):(n(v,y),y=Ca(k,v.mode,m),y.return=v,v=y),l(v)):n(v,y)}return E}var Zr=um(!0),dm=um(!1),Vo=Hn(null),Ho=null,Wr=null,wu=null;function ku(){wu=Wr=Ho=null}function Su(t){var e=Vo.current;we(Vo),t._currentValue=e}function yc(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Vr(t,e){Ho=t,wu=Wr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(dt=!0),t.firstContext=null)}function It(t){var e=t._currentValue;if(wu!==t)if(t={context:t,memoizedValue:e,next:null},Wr===null){if(Ho===null)throw Error(D(308));Wr=t,Ho.dependencies={lanes:0,firstContext:t}}else Wr=Wr.next=t;return e}var er=null;function Cu(t){er===null?er=[t]:er.push(t)}function fm(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Cu(e)):(n.next=s.next,s.next=n),e.interleaved=n,cn(t,r)}function cn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var kn=!1;function Eu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function sn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function In(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,oe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,cn(t,n)}return s=r.interleaved,s===null?(e.next=e,Cu(r)):(e.next=s.next,s.next=e),r.interleaved=e,cn(t,n)}function So(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,uu(t,n)}}function If(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Yo(t,e,n,r){var s=t.updateQueue;kn=!1;var i=s.firstBaseUpdate,l=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,l===null?i=u:l.next=u,l=c;var p=t.alternate;p!==null&&(p=p.updateQueue,a=p.lastBaseUpdate,a!==l&&(a===null?p.firstBaseUpdate=u:a.next=u,p.lastBaseUpdate=c))}if(i!==null){var d=s.baseState;l=0,p=u=c=null,a=i;do{var h=a.lane,_=a.eventTime;if((r&h)===h){p!==null&&(p=p.next={eventTime:_,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,P=a;switch(h=e,_=n,P.tag){case 1:if(w=P.payload,typeof w=="function"){d=w.call(_,d,h);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=P.payload,h=typeof w=="function"?w.call(_,d,h):w,h==null)break e;d=Te({},d,h);break e;case 2:kn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else _={eventTime:_,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},p===null?(u=p=_,c=d):p=p.next=_,l|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(p===null&&(c=d),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=p,e=s.shared.interleaved,e!==null){s=e;do l|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);cr|=l,t.lanes=l,t.memoizedState=d}}function Rf(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(D(191,s));s.call(r)}}}var Wi={},qt=Hn(Wi),mi=Hn(Wi),gi=Hn(Wi);function tr(t){if(t===Wi)throw Error(D(174));return t}function bu(t,e){switch(ye(gi,e),ye(mi,t),ye(qt,Wi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:qa(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=qa(e,t)}we(qt),ye(qt,e)}function es(){we(qt),we(mi),we(gi)}function pm(t){tr(gi.current);var e=tr(qt.current),n=qa(e,t.type);e!==n&&(ye(mi,t),ye(qt,n))}function Nu(t){mi.current===t&&(we(qt),we(mi))}var be=Hn(0);function Ko(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var xa=[];function Tu(){for(var t=0;t<xa.length;t++)xa[t]._workInProgressVersionPrimary=null;xa.length=0}var Co=hn.ReactCurrentDispatcher,va=hn.ReactCurrentBatchConfig,ar=0,Ne=null,We=null,Ue=null,Qo=!1,Qs=!1,yi=0,Cv=0;function qe(){throw Error(D(321))}function ju(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Gt(t[n],e[n]))return!1;return!0}function Pu(t,e,n,r,s,i){if(ar=i,Ne=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Co.current=t===null||t.memoizedState===null?Tv:jv,t=n(r,s),Qs){i=0;do{if(Qs=!1,yi=0,25<=i)throw Error(D(301));i+=1,Ue=We=null,e.updateQueue=null,Co.current=Pv,t=n(r,s)}while(Qs)}if(Co.current=Xo,e=We!==null&&We.next!==null,ar=0,Ue=We=Ne=null,Qo=!1,e)throw Error(D(300));return t}function Iu(){var t=yi!==0;return yi=0,t}function Kt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?Ne.memoizedState=Ue=t:Ue=Ue.next=t,Ue}function Rt(){if(We===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var e=Ue===null?Ne.memoizedState:Ue.next;if(e!==null)Ue=e,We=t;else{if(t===null)throw Error(D(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Ue===null?Ne.memoizedState=Ue=t:Ue=Ue.next=t}return Ue}function xi(t,e){return typeof e=="function"?e(t):e}function _a(t){var e=Rt(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var r=We,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var l=s.next;s.next=i.next,i.next=l}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=l=null,c=null,u=i;do{var p=u.lane;if((ar&p)===p)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:p,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=d,l=r):c=c.next=d,Ne.lanes|=p,cr|=p}u=u.next}while(u!==null&&u!==i);c===null?l=r:c.next=a,Gt(r,e.memoizedState)||(dt=!0),e.memoizedState=r,e.baseState=l,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ne.lanes|=i,cr|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function wa(t){var e=Rt(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do i=t(i,l.action),l=l.next;while(l!==s);Gt(i,e.memoizedState)||(dt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function mm(){}function gm(t,e){var n=Ne,r=Rt(),s=e(),i=!Gt(r.memoizedState,s);if(i&&(r.memoizedState=s,dt=!0),r=r.queue,Ru(vm.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Ue!==null&&Ue.memoizedState.tag&1){if(n.flags|=2048,vi(9,xm.bind(null,n,r,s,e),void 0,null),He===null)throw Error(D(349));ar&30||ym(n,e,s)}return s}function ym(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function xm(t,e,n,r){e.value=n,e.getSnapshot=r,_m(e)&&wm(t)}function vm(t,e,n){return n(function(){_m(e)&&wm(t)})}function _m(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Gt(t,n)}catch{return!0}}function wm(t){var e=cn(t,1);e!==null&&$t(e,t,1,-1)}function Af(t){var e=Kt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:t},e.queue=t,t=t.dispatch=Nv.bind(null,Ne,t),[e.memoizedState,t]}function vi(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function km(){return Rt().memoizedState}function Eo(t,e,n,r){var s=Kt();Ne.flags|=t,s.memoizedState=vi(1|e,n,void 0,r===void 0?null:r)}function bl(t,e,n,r){var s=Rt();r=r===void 0?null:r;var i=void 0;if(We!==null){var l=We.memoizedState;if(i=l.destroy,r!==null&&ju(r,l.deps)){s.memoizedState=vi(e,n,i,r);return}}Ne.flags|=t,s.memoizedState=vi(1|e,n,i,r)}function Df(t,e){return Eo(8390656,8,t,e)}function Ru(t,e){return bl(2048,8,t,e)}function Sm(t,e){return bl(4,2,t,e)}function Cm(t,e){return bl(4,4,t,e)}function Em(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function bm(t,e,n){return n=n!=null?n.concat([t]):null,bl(4,4,Em.bind(null,e,t),n)}function Au(){}function Nm(t,e){var n=Rt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ju(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Tm(t,e){var n=Rt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ju(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function jm(t,e,n){return ar&21?(Gt(n,e)||(n=Dp(),Ne.lanes|=n,cr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,dt=!0),t.memoizedState=n)}function Ev(t,e){var n=ue;ue=n!==0&&4>n?n:4,t(!0);var r=va.transition;va.transition={};try{t(!1),e()}finally{ue=n,va.transition=r}}function Pm(){return Rt().memoizedState}function bv(t,e,n){var r=An(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Im(t))Rm(e,n);else if(n=fm(t,e,n,r),n!==null){var s=ot();$t(n,t,r,s),Am(n,e,r)}}function Nv(t,e,n){var r=An(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Im(t))Rm(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var l=e.lastRenderedState,a=i(l,n);if(s.hasEagerState=!0,s.eagerState=a,Gt(a,l)){var c=e.interleaved;c===null?(s.next=s,Cu(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=fm(t,e,s,r),n!==null&&(s=ot(),$t(n,t,r,s),Am(n,e,r))}}function Im(t){var e=t.alternate;return t===Ne||e!==null&&e===Ne}function Rm(t,e){Qs=Qo=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Am(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,uu(t,n)}}var Xo={readContext:It,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useInsertionEffect:qe,useLayoutEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useMutableSource:qe,useSyncExternalStore:qe,useId:qe,unstable_isNewReconciler:!1},Tv={readContext:It,useCallback:function(t,e){return Kt().memoizedState=[t,e===void 0?null:e],t},useContext:It,useEffect:Df,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Eo(4194308,4,Em.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Eo(4194308,4,t,e)},useInsertionEffect:function(t,e){return Eo(4,2,t,e)},useMemo:function(t,e){var n=Kt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Kt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=bv.bind(null,Ne,t),[r.memoizedState,t]},useRef:function(t){var e=Kt();return t={current:t},e.memoizedState=t},useState:Af,useDebugValue:Au,useDeferredValue:function(t){return Kt().memoizedState=t},useTransition:function(){var t=Af(!1),e=t[0];return t=Ev.bind(null,t[1]),Kt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ne,s=Kt();if(ke){if(n===void 0)throw Error(D(407));n=n()}else{if(n=e(),He===null)throw Error(D(349));ar&30||ym(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Df(vm.bind(null,r,i,t),[t]),r.flags|=2048,vi(9,xm.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Kt(),e=He.identifierPrefix;if(ke){var n=nn,r=tn;n=(r&~(1<<32-Bt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=yi++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Cv++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},jv={readContext:It,useCallback:Nm,useContext:It,useEffect:Ru,useImperativeHandle:bm,useInsertionEffect:Sm,useLayoutEffect:Cm,useMemo:Tm,useReducer:_a,useRef:km,useState:function(){return _a(xi)},useDebugValue:Au,useDeferredValue:function(t){var e=Rt();return jm(e,We.memoizedState,t)},useTransition:function(){var t=_a(xi)[0],e=Rt().memoizedState;return[t,e]},useMutableSource:mm,useSyncExternalStore:gm,useId:Pm,unstable_isNewReconciler:!1},Pv={readContext:It,useCallback:Nm,useContext:It,useEffect:Ru,useImperativeHandle:bm,useInsertionEffect:Sm,useLayoutEffect:Cm,useMemo:Tm,useReducer:wa,useRef:km,useState:function(){return wa(xi)},useDebugValue:Au,useDeferredValue:function(t){var e=Rt();return We===null?e.memoizedState=t:jm(e,We.memoizedState,t)},useTransition:function(){var t=wa(xi)[0],e=Rt().memoizedState;return[t,e]},useMutableSource:mm,useSyncExternalStore:gm,useId:Pm,unstable_isNewReconciler:!1};function Ot(t,e){if(t&&t.defaultProps){e=Te({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function xc(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Te({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Nl={isMounted:function(t){return(t=t._reactInternals)?yr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ot(),s=An(t),i=sn(r,s);i.payload=e,n!=null&&(i.callback=n),e=In(t,i,s),e!==null&&($t(e,t,s,r),So(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ot(),s=An(t),i=sn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=In(t,i,s),e!==null&&($t(e,t,s,r),So(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ot(),r=An(t),s=sn(n,r);s.tag=2,e!=null&&(s.callback=e),e=In(t,s,r),e!==null&&($t(e,t,r,n),So(e,t,r))}};function Of(t,e,n,r,s,i,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,l):e.prototype&&e.prototype.isPureReactComponent?!di(n,r)||!di(s,i):!0}function Dm(t,e,n){var r=!1,s=Fn,i=e.contextType;return typeof i=="object"&&i!==null?i=It(i):(s=pt(e)?or:tt.current,r=e.contextTypes,i=(r=r!=null)?qr(t,s):Fn),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Nl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Lf(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Nl.enqueueReplaceState(e,e.state,null)}function vc(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Eu(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=It(i):(i=pt(e)?or:tt.current,s.context=qr(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(xc(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Nl.enqueueReplaceState(s,s.state,null),Yo(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ts(t,e){try{var n="",r=e;do n+=sx(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function ka(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function _c(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Iv=typeof WeakMap=="function"?WeakMap:Map;function Om(t,e,n){n=sn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Jo||(Jo=!0,Pc=r),_c(t,e)},n}function Lm(t,e,n){n=sn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){_c(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){_c(t,e),typeof r!="function"&&(Rn===null?Rn=new Set([this]):Rn.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function Wf(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Iv;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Vv.bind(null,t,e,n),e.then(t,t))}function Mf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function zf(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=sn(-1,1),e.tag=2,In(n,e,1))),n.lanes|=1),t)}var Rv=hn.ReactCurrentOwner,dt=!1;function st(t,e,n,r){e.child=t===null?dm(e,null,n,r):Zr(e,t.child,n,r)}function Ff(t,e,n,r,s){n=n.render;var i=e.ref;return Vr(e,s),r=Pu(t,e,n,r,i,s),n=Iu(),t!==null&&!dt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,un(t,e,s)):(ke&&n&&xu(e),e.flags|=1,st(t,e,r,s),e.child)}function Bf(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Bu(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Wm(t,e,i,r,s)):(t=jo(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:di,n(l,r)&&t.ref===e.ref)return un(t,e,s)}return e.flags|=1,t=Dn(i,r),t.ref=e.ref,t.return=e,e.child=t}function Wm(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(di(i,r)&&t.ref===e.ref)if(dt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(dt=!0);else return e.lanes=t.lanes,un(t,e,s)}return wc(t,e,n,r,s)}function Mm(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(zr,xt),xt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ye(zr,xt),xt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ye(zr,xt),xt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ye(zr,xt),xt|=r;return st(t,e,s,n),e.child}function zm(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function wc(t,e,n,r,s){var i=pt(n)?or:tt.current;return i=qr(e,i),Vr(e,s),n=Pu(t,e,n,r,i,s),r=Iu(),t!==null&&!dt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,un(t,e,s)):(ke&&r&&xu(e),e.flags|=1,st(t,e,n,s),e.child)}function $f(t,e,n,r,s){if(pt(n)){var i=!0;$o(e)}else i=!1;if(Vr(e,s),e.stateNode===null)bo(t,e),Dm(e,n,r),vc(e,n,r,s),r=!0;else if(t===null){var l=e.stateNode,a=e.memoizedProps;l.props=a;var c=l.context,u=n.contextType;typeof u=="object"&&u!==null?u=It(u):(u=pt(n)?or:tt.current,u=qr(e,u));var p=n.getDerivedStateFromProps,d=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function";d||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==r||c!==u)&&Lf(e,l,r,u),kn=!1;var h=e.memoizedState;l.state=h,Yo(e,r,l,s),c=e.memoizedState,a!==r||h!==c||ht.current||kn?(typeof p=="function"&&(xc(e,n,p,r),c=e.memoizedState),(a=kn||Of(e,n,a,r,h,c,u))?(d||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),l.props=r,l.state=c,l.context=u,r=a):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{l=e.stateNode,hm(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Ot(e.type,a),l.props=u,d=e.pendingProps,h=l.context,c=n.contextType,typeof c=="object"&&c!==null?c=It(c):(c=pt(n)?or:tt.current,c=qr(e,c));var _=n.getDerivedStateFromProps;(p=typeof _=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==d||h!==c)&&Lf(e,l,r,c),kn=!1,h=e.memoizedState,l.state=h,Yo(e,r,l,s);var w=e.memoizedState;a!==d||h!==w||ht.current||kn?(typeof _=="function"&&(xc(e,n,_,r),w=e.memoizedState),(u=kn||Of(e,n,u,r,h,w,c)||!1)?(p||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,w,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,w,c)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),l.props=r,l.state=w,l.context=c,r=u):(typeof l.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return kc(t,e,n,r,i,s)}function kc(t,e,n,r,s,i){zm(t,e);var l=(e.flags&128)!==0;if(!r&&!l)return s&&Nf(e,n,!1),un(t,e,i);r=e.stateNode,Rv.current=e;var a=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&l?(e.child=Zr(e,t.child,null,i),e.child=Zr(e,null,a,i)):st(t,e,a,i),e.memoizedState=r.state,s&&Nf(e,n,!0),e.child}function Fm(t){var e=t.stateNode;e.pendingContext?bf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&bf(t,e.context,!1),bu(t,e.containerInfo)}function Uf(t,e,n,r,s){return Jr(),_u(s),e.flags|=256,st(t,e,n,r),e.child}var Sc={dehydrated:null,treeContext:null,retryLane:0};function Cc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Bm(t,e,n){var r=e.pendingProps,s=be.current,i=!1,l=(e.flags&128)!==0,a;if((a=l)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ye(be,s&1),t===null)return gc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=r.children,t=r.fallback,i?(r=e.mode,i=e.child,l={mode:"hidden",children:l},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=Pl(l,r,0,null),t=ir(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Cc(n),e.memoizedState=Sc,t):Du(e,l));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Av(t,e,l,r,a,s,n);if(i){i=r.fallback,l=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(l&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Dn(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Dn(a,i):(i=ir(i,l,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,l=t.child.memoizedState,l=l===null?Cc(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=t.childLanes&~n,e.memoizedState=Sc,r}return i=t.child,t=i.sibling,r=Dn(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Du(t,e){return e=Pl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function fo(t,e,n,r){return r!==null&&_u(r),Zr(e,t.child,null,n),t=Du(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Av(t,e,n,r,s,i,l){if(n)return e.flags&256?(e.flags&=-257,r=ka(Error(D(422))),fo(t,e,l,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Pl({mode:"visible",children:r.children},s,0,null),i=ir(i,s,l,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Zr(e,t.child,null,l),e.child.memoizedState=Cc(l),e.memoizedState=Sc,i);if(!(e.mode&1))return fo(t,e,l,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(D(419)),r=ka(i,r,void 0),fo(t,e,l,r)}if(a=(l&t.childLanes)!==0,dt||a){if(r=He,r!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|l)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,cn(t,s),$t(r,t,s,-1))}return Fu(),r=ka(Error(D(421))),fo(t,e,l,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Hv.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,vt=Pn(s.nextSibling),_t=e,ke=!0,Wt=null,t!==null&&(Nt[Tt++]=tn,Nt[Tt++]=nn,Nt[Tt++]=lr,tn=t.id,nn=t.overflow,lr=e),e=Du(e,r.children),e.flags|=4096,e)}function Gf(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),yc(t.return,e,n)}function Sa(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function $m(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(st(t,e,r.children,n),r=be.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Gf(t,n,e);else if(t.tag===19)Gf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ye(be,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Ko(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Sa(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ko(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Sa(e,!0,n,null,i);break;case"together":Sa(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function bo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function un(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),cr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(D(153));if(e.child!==null){for(t=e.child,n=Dn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Dn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Dv(t,e,n){switch(e.tag){case 3:Fm(e),Jr();break;case 5:pm(e);break;case 1:pt(e.type)&&$o(e);break;case 4:bu(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ye(Vo,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ye(be,be.current&1),e.flags|=128,null):n&e.child.childLanes?Bm(t,e,n):(ye(be,be.current&1),t=un(t,e,n),t!==null?t.sibling:null);ye(be,be.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return $m(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ye(be,be.current),r)break;return null;case 22:case 23:return e.lanes=0,Mm(t,e,n)}return un(t,e,n)}var Um,Ec,Gm,Vm;Um=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ec=function(){};Gm=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,tr(qt.current);var i=null;switch(n){case"input":s=Ya(t,s),r=Ya(t,r),i=[];break;case"select":s=Te({},s,{value:void 0}),r=Te({},r,{value:void 0}),i=[];break;case"textarea":s=Xa(t,s),r=Xa(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Fo)}Ja(n,r);var l;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(l in a)a.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(si.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(l in a)!a.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&a[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(si.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&xe("scroll",t),i||a===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Vm=function(t,e,n,r){n!==r&&(e.flags|=4)};function Rs(t,e){if(!ke)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Je(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Ov(t,e,n){var r=e.pendingProps;switch(vu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(e),null;case 1:return pt(e.type)&&Bo(),Je(e),null;case 3:return r=e.stateNode,es(),we(ht),we(tt),Tu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(co(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Wt!==null&&(Ac(Wt),Wt=null))),Ec(t,e),Je(e),null;case 5:Nu(e);var s=tr(gi.current);if(n=e.type,t!==null&&e.stateNode!=null)Gm(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(D(166));return Je(e),null}if(t=tr(qt.current),co(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Qt]=e,r[pi]=i,t=(e.mode&1)!==0,n){case"dialog":xe("cancel",r),xe("close",r);break;case"iframe":case"object":case"embed":xe("load",r);break;case"video":case"audio":for(s=0;s<Us.length;s++)xe(Us[s],r);break;case"source":xe("error",r);break;case"img":case"image":case"link":xe("error",r),xe("load",r);break;case"details":xe("toggle",r);break;case"input":Jd(r,i),xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},xe("invalid",r);break;case"textarea":ef(r,i),xe("invalid",r)}Ja(n,i),s=null;for(var l in i)if(i.hasOwnProperty(l)){var a=i[l];l==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&ao(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ao(r.textContent,a,t),s=["children",""+a]):si.hasOwnProperty(l)&&a!=null&&l==="onScroll"&&xe("scroll",r)}switch(n){case"input":eo(r),Zd(r,i,!0);break;case"textarea":eo(r),tf(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Fo)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=vp(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),n==="select"&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[Qt]=e,t[pi]=r,Um(t,e,!1,!1),e.stateNode=t;e:{switch(l=Za(n,r),n){case"dialog":xe("cancel",t),xe("close",t),s=r;break;case"iframe":case"object":case"embed":xe("load",t),s=r;break;case"video":case"audio":for(s=0;s<Us.length;s++)xe(Us[s],t);s=r;break;case"source":xe("error",t),s=r;break;case"img":case"image":case"link":xe("error",t),xe("load",t),s=r;break;case"details":xe("toggle",t),s=r;break;case"input":Jd(t,r),s=Ya(t,r),xe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Te({},r,{value:void 0}),xe("invalid",t);break;case"textarea":ef(t,r),s=Xa(t,r),xe("invalid",t);break;default:s=r}Ja(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?kp(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&_p(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ii(t,c):typeof c=="number"&&ii(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(si.hasOwnProperty(i)?c!=null&&i==="onScroll"&&xe("scroll",t):c!=null&&su(t,i,c,l))}switch(n){case"input":eo(t),Zd(t,r,!1);break;case"textarea":eo(t),tf(t);break;case"option":r.value!=null&&t.setAttribute("value",""+zn(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Br(t,!!r.multiple,i,!1):r.defaultValue!=null&&Br(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Fo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Je(e),null;case 6:if(t&&e.stateNode!=null)Vm(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(D(166));if(n=tr(gi.current),tr(qt.current),co(e)){if(r=e.stateNode,n=e.memoizedProps,r[Qt]=e,(i=r.nodeValue!==n)&&(t=_t,t!==null))switch(t.tag){case 3:ao(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ao(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Qt]=e,e.stateNode=r}return Je(e),null;case 13:if(we(be),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ke&&vt!==null&&e.mode&1&&!(e.flags&128))cm(),Jr(),e.flags|=98560,i=!1;else if(i=co(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(D(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(D(317));i[Qt]=e}else Jr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Je(e),i=!1}else Wt!==null&&(Ac(Wt),Wt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||be.current&1?Fe===0&&(Fe=3):Fu())),e.updateQueue!==null&&(e.flags|=4),Je(e),null);case 4:return es(),Ec(t,e),t===null&&fi(e.stateNode.containerInfo),Je(e),null;case 10:return Su(e.type._context),Je(e),null;case 17:return pt(e.type)&&Bo(),Je(e),null;case 19:if(we(be),i=e.memoizedState,i===null)return Je(e),null;if(r=(e.flags&128)!==0,l=i.rendering,l===null)if(r)Rs(i,!1);else{if(Fe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=Ko(t),l!==null){for(e.flags|=128,Rs(i,!1),r=l.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,t=l.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ye(be,be.current&1|2),e.child}t=t.sibling}i.tail!==null&&Re()>ns&&(e.flags|=128,r=!0,Rs(i,!1),e.lanes=4194304)}else{if(!r)if(t=Ko(l),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Rs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!ke)return Je(e),null}else 2*Re()-i.renderingStartTime>ns&&n!==1073741824&&(e.flags|=128,r=!0,Rs(i,!1),e.lanes=4194304);i.isBackwards?(l.sibling=e.child,e.child=l):(n=i.last,n!==null?n.sibling=l:e.child=l,i.last=l)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Re(),e.sibling=null,n=be.current,ye(be,r?n&1|2:n&1),e):(Je(e),null);case 22:case 23:return zu(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?xt&1073741824&&(Je(e),e.subtreeFlags&6&&(e.flags|=8192)):Je(e),null;case 24:return null;case 25:return null}throw Error(D(156,e.tag))}function Lv(t,e){switch(vu(e),e.tag){case 1:return pt(e.type)&&Bo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return es(),we(ht),we(tt),Tu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Nu(e),null;case 13:if(we(be),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(D(340));Jr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return we(be),null;case 4:return es(),null;case 10:return Su(e.type._context),null;case 22:case 23:return zu(),null;case 24:return null;default:return null}}var ho=!1,Ze=!1,Wv=typeof WeakSet=="function"?WeakSet:Set,B=null;function Mr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){je(t,e,r)}else n.current=null}function bc(t,e,n){try{n()}catch(r){je(t,e,r)}}var Vf=!1;function Mv(t,e){if(cc=Wo,t=Xp(),yu(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,a=-1,c=-1,u=0,p=0,d=t,h=null;t:for(;;){for(var _;d!==n||s!==0&&d.nodeType!==3||(a=l+s),d!==i||r!==0&&d.nodeType!==3||(c=l+r),d.nodeType===3&&(l+=d.nodeValue.length),(_=d.firstChild)!==null;)h=d,d=_;for(;;){if(d===t)break t;if(h===n&&++u===s&&(a=l),h===i&&++p===r&&(c=l),(_=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=_}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(uc={focusedElem:t,selectionRange:n},Wo=!1,B=e;B!==null;)if(e=B,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,B=t;else for(;B!==null;){e=B;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var P=w.memoizedProps,E=w.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?P:Ot(e.type,P),E);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(m){je(e,e.return,m)}if(t=e.sibling,t!==null){t.return=e.return,B=t;break}B=e.return}return w=Vf,Vf=!1,w}function Xs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&bc(e,n,i)}s=s.next}while(s!==r)}}function Tl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Nc(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Hm(t){var e=t.alternate;e!==null&&(t.alternate=null,Hm(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Qt],delete e[pi],delete e[hc],delete e[_v],delete e[wv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ym(t){return t.tag===5||t.tag===3||t.tag===4}function Hf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ym(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Tc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Fo));else if(r!==4&&(t=t.child,t!==null))for(Tc(t,e,n),t=t.sibling;t!==null;)Tc(t,e,n),t=t.sibling}function jc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(jc(t,e,n),t=t.sibling;t!==null;)jc(t,e,n),t=t.sibling}var Ye=null,Lt=!1;function xn(t,e,n){for(n=n.child;n!==null;)Km(t,e,n),n=n.sibling}function Km(t,e,n){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(_l,n)}catch{}switch(n.tag){case 5:Ze||Mr(n,e);case 6:var r=Ye,s=Lt;Ye=null,xn(t,e,n),Ye=r,Lt=s,Ye!==null&&(Lt?(t=Ye,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ye.removeChild(n.stateNode));break;case 18:Ye!==null&&(Lt?(t=Ye,n=n.stateNode,t.nodeType===8?ga(t.parentNode,n):t.nodeType===1&&ga(t,n),ci(t)):ga(Ye,n.stateNode));break;case 4:r=Ye,s=Lt,Ye=n.stateNode.containerInfo,Lt=!0,xn(t,e,n),Ye=r,Lt=s;break;case 0:case 11:case 14:case 15:if(!Ze&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&bc(n,e,l),s=s.next}while(s!==r)}xn(t,e,n);break;case 1:if(!Ze&&(Mr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){je(n,e,a)}xn(t,e,n);break;case 21:xn(t,e,n);break;case 22:n.mode&1?(Ze=(r=Ze)||n.memoizedState!==null,xn(t,e,n),Ze=r):xn(t,e,n);break;default:xn(t,e,n)}}function Yf(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Wv),e.forEach(function(r){var s=Yv.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Dt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,l=e,a=l;e:for(;a!==null;){switch(a.tag){case 5:Ye=a.stateNode,Lt=!1;break e;case 3:Ye=a.stateNode.containerInfo,Lt=!0;break e;case 4:Ye=a.stateNode.containerInfo,Lt=!0;break e}a=a.return}if(Ye===null)throw Error(D(160));Km(i,l,s),Ye=null,Lt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){je(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Qm(e,t),e=e.sibling}function Qm(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Dt(e,t),Yt(t),r&4){try{Xs(3,t,t.return),Tl(3,t)}catch(P){je(t,t.return,P)}try{Xs(5,t,t.return)}catch(P){je(t,t.return,P)}}break;case 1:Dt(e,t),Yt(t),r&512&&n!==null&&Mr(n,n.return);break;case 5:if(Dt(e,t),Yt(t),r&512&&n!==null&&Mr(n,n.return),t.flags&32){var s=t.stateNode;try{ii(s,"")}catch(P){je(t,t.return,P)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,l=n!==null?n.memoizedProps:i,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&yp(s,i),Za(a,l);var u=Za(a,i);for(l=0;l<c.length;l+=2){var p=c[l],d=c[l+1];p==="style"?kp(s,d):p==="dangerouslySetInnerHTML"?_p(s,d):p==="children"?ii(s,d):su(s,p,d,u)}switch(a){case"input":Ka(s,i);break;case"textarea":xp(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var _=i.value;_!=null?Br(s,!!i.multiple,_,!1):h!==!!i.multiple&&(i.defaultValue!=null?Br(s,!!i.multiple,i.defaultValue,!0):Br(s,!!i.multiple,i.multiple?[]:"",!1))}s[pi]=i}catch(P){je(t,t.return,P)}}break;case 6:if(Dt(e,t),Yt(t),r&4){if(t.stateNode===null)throw Error(D(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(P){je(t,t.return,P)}}break;case 3:if(Dt(e,t),Yt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ci(e.containerInfo)}catch(P){je(t,t.return,P)}break;case 4:Dt(e,t),Yt(t);break;case 13:Dt(e,t),Yt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Wu=Re())),r&4&&Yf(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(Ze=(u=Ze)||p,Dt(e,t),Ze=u):Dt(e,t),Yt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!p&&t.mode&1)for(B=t,p=t.child;p!==null;){for(d=B=p;B!==null;){switch(h=B,_=h.child,h.tag){case 0:case 11:case 14:case 15:Xs(4,h,h.return);break;case 1:Mr(h,h.return);var w=h.stateNode;if(typeof w.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(P){je(r,n,P)}}break;case 5:Mr(h,h.return);break;case 22:if(h.memoizedState!==null){Qf(d);continue}}_!==null?(_.return=h,B=_):Qf(d)}p=p.sibling}e:for(p=null,d=t;;){if(d.tag===5){if(p===null){p=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,c=d.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=wp("display",l))}catch(P){je(t,t.return,P)}}}else if(d.tag===6){if(p===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(P){je(t,t.return,P)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;p===d&&(p=null),d=d.return}p===d&&(p=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Dt(e,t),Yt(t),r&4&&Yf(t);break;case 21:break;default:Dt(e,t),Yt(t)}}function Yt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Ym(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ii(s,""),r.flags&=-33);var i=Hf(t);jc(t,i,s);break;case 3:case 4:var l=r.stateNode.containerInfo,a=Hf(t);Tc(t,a,l);break;default:throw Error(D(161))}}catch(c){je(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function zv(t,e,n){B=t,Xm(t)}function Xm(t,e,n){for(var r=(t.mode&1)!==0;B!==null;){var s=B,i=s.child;if(s.tag===22&&r){var l=s.memoizedState!==null||ho;if(!l){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Ze;a=ho;var u=Ze;if(ho=l,(Ze=c)&&!u)for(B=s;B!==null;)l=B,c=l.child,l.tag===22&&l.memoizedState!==null?Xf(s):c!==null?(c.return=l,B=c):Xf(s);for(;i!==null;)B=i,Xm(i),i=i.sibling;B=s,ho=a,Ze=u}Kf(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,B=i):Kf(t)}}function Kf(t){for(;B!==null;){var e=B;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ze||Tl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ze)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Ot(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Rf(e,i,r);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Rf(e,l,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var p=u.memoizedState;if(p!==null){var d=p.dehydrated;d!==null&&ci(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}Ze||e.flags&512&&Nc(e)}catch(h){je(e,e.return,h)}}if(e===t){B=null;break}if(n=e.sibling,n!==null){n.return=e.return,B=n;break}B=e.return}}function Qf(t){for(;B!==null;){var e=B;if(e===t){B=null;break}var n=e.sibling;if(n!==null){n.return=e.return,B=n;break}B=e.return}}function Xf(t){for(;B!==null;){var e=B;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Tl(4,e)}catch(c){je(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){je(e,s,c)}}var i=e.return;try{Nc(e)}catch(c){je(e,i,c)}break;case 5:var l=e.return;try{Nc(e)}catch(c){je(e,l,c)}}}catch(c){je(e,e.return,c)}if(e===t){B=null;break}var a=e.sibling;if(a!==null){a.return=e.return,B=a;break}B=e.return}}var Fv=Math.ceil,qo=hn.ReactCurrentDispatcher,Ou=hn.ReactCurrentOwner,Pt=hn.ReactCurrentBatchConfig,oe=0,He=null,Oe=null,Ke=0,xt=0,zr=Hn(0),Fe=0,_i=null,cr=0,jl=0,Lu=0,qs=null,ut=null,Wu=0,ns=1/0,Zt=null,Jo=!1,Pc=null,Rn=null,po=!1,bn=null,Zo=0,Js=0,Ic=null,No=-1,To=0;function ot(){return oe&6?Re():No!==-1?No:No=Re()}function An(t){return t.mode&1?oe&2&&Ke!==0?Ke&-Ke:Sv.transition!==null?(To===0&&(To=Dp()),To):(t=ue,t!==0||(t=window.event,t=t===void 0?16:Bp(t.type)),t):1}function $t(t,e,n,r){if(50<Js)throw Js=0,Ic=null,Error(D(185));Di(t,n,r),(!(oe&2)||t!==He)&&(t===He&&(!(oe&2)&&(jl|=n),Fe===4&&Cn(t,Ke)),mt(t,r),n===1&&oe===0&&!(e.mode&1)&&(ns=Re()+500,El&&Yn()))}function mt(t,e){var n=t.callbackNode;Sx(t,e);var r=Lo(t,t===He?Ke:0);if(r===0)n!==null&&sf(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&sf(n),e===1)t.tag===0?kv(qf.bind(null,t)):om(qf.bind(null,t)),xv(function(){!(oe&6)&&Yn()}),n=null;else{switch(Op(r)){case 1:n=cu;break;case 4:n=Rp;break;case 16:n=Oo;break;case 536870912:n=Ap;break;default:n=Oo}n=sg(n,qm.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function qm(t,e){if(No=-1,To=0,oe&6)throw Error(D(327));var n=t.callbackNode;if(Hr()&&t.callbackNode!==n)return null;var r=Lo(t,t===He?Ke:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=el(t,r);else{e=r;var s=oe;oe|=2;var i=Zm();(He!==t||Ke!==e)&&(Zt=null,ns=Re()+500,sr(t,e));do try{Uv();break}catch(a){Jm(t,a)}while(!0);ku(),qo.current=i,oe=s,Oe!==null?e=0:(He=null,Ke=0,e=Fe)}if(e!==0){if(e===2&&(s=sc(t),s!==0&&(r=s,e=Rc(t,s))),e===1)throw n=_i,sr(t,0),Cn(t,r),mt(t,Re()),n;if(e===6)Cn(t,r);else{if(s=t.current.alternate,!(r&30)&&!Bv(s)&&(e=el(t,r),e===2&&(i=sc(t),i!==0&&(r=i,e=Rc(t,i))),e===1))throw n=_i,sr(t,0),Cn(t,r),mt(t,Re()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(D(345));case 2:Xn(t,ut,Zt);break;case 3:if(Cn(t,r),(r&130023424)===r&&(e=Wu+500-Re(),10<e)){if(Lo(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){ot(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=fc(Xn.bind(null,t,ut,Zt),e);break}Xn(t,ut,Zt);break;case 4:if(Cn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var l=31-Bt(r);i=1<<l,l=e[l],l>s&&(s=l),r&=~i}if(r=s,r=Re()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Fv(r/1960))-r,10<r){t.timeoutHandle=fc(Xn.bind(null,t,ut,Zt),r);break}Xn(t,ut,Zt);break;case 5:Xn(t,ut,Zt);break;default:throw Error(D(329))}}}return mt(t,Re()),t.callbackNode===n?qm.bind(null,t):null}function Rc(t,e){var n=qs;return t.current.memoizedState.isDehydrated&&(sr(t,e).flags|=256),t=el(t,e),t!==2&&(e=ut,ut=n,e!==null&&Ac(e)),t}function Ac(t){ut===null?ut=t:ut.push.apply(ut,t)}function Bv(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Gt(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Cn(t,e){for(e&=~Lu,e&=~jl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Bt(e),r=1<<n;t[n]=-1,e&=~r}}function qf(t){if(oe&6)throw Error(D(327));Hr();var e=Lo(t,0);if(!(e&1))return mt(t,Re()),null;var n=el(t,e);if(t.tag!==0&&n===2){var r=sc(t);r!==0&&(e=r,n=Rc(t,r))}if(n===1)throw n=_i,sr(t,0),Cn(t,e),mt(t,Re()),n;if(n===6)throw Error(D(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Xn(t,ut,Zt),mt(t,Re()),null}function Mu(t,e){var n=oe;oe|=1;try{return t(e)}finally{oe=n,oe===0&&(ns=Re()+500,El&&Yn())}}function ur(t){bn!==null&&bn.tag===0&&!(oe&6)&&Hr();var e=oe;oe|=1;var n=Pt.transition,r=ue;try{if(Pt.transition=null,ue=1,t)return t()}finally{ue=r,Pt.transition=n,oe=e,!(oe&6)&&Yn()}}function zu(){xt=zr.current,we(zr)}function sr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,yv(n)),Oe!==null)for(n=Oe.return;n!==null;){var r=n;switch(vu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Bo();break;case 3:es(),we(ht),we(tt),Tu();break;case 5:Nu(r);break;case 4:es();break;case 13:we(be);break;case 19:we(be);break;case 10:Su(r.type._context);break;case 22:case 23:zu()}n=n.return}if(He=t,Oe=t=Dn(t.current,null),Ke=xt=e,Fe=0,_i=null,Lu=jl=cr=0,ut=qs=null,er!==null){for(e=0;e<er.length;e++)if(n=er[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var l=i.next;i.next=s,r.next=l}n.pending=r}er=null}return t}function Jm(t,e){do{var n=Oe;try{if(ku(),Co.current=Xo,Qo){for(var r=Ne.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Qo=!1}if(ar=0,Ue=We=Ne=null,Qs=!1,yi=0,Ou.current=null,n===null||n.return===null){Fe=1,_i=e,Oe=null;break}e:{var i=t,l=n.return,a=n,c=e;if(e=Ke,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,p=a,d=p.tag;if(!(p.mode&1)&&(d===0||d===11||d===15)){var h=p.alternate;h?(p.updateQueue=h.updateQueue,p.memoizedState=h.memoizedState,p.lanes=h.lanes):(p.updateQueue=null,p.memoizedState=null)}var _=Mf(l);if(_!==null){_.flags&=-257,zf(_,l,a,i,e),_.mode&1&&Wf(i,u,e),e=_,c=u;var w=e.updateQueue;if(w===null){var P=new Set;P.add(c),e.updateQueue=P}else w.add(c);break e}else{if(!(e&1)){Wf(i,u,e),Fu();break e}c=Error(D(426))}}else if(ke&&a.mode&1){var E=Mf(l);if(E!==null){!(E.flags&65536)&&(E.flags|=256),zf(E,l,a,i,e),_u(ts(c,a));break e}}i=c=ts(c,a),Fe!==4&&(Fe=2),qs===null?qs=[i]:qs.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=Om(i,c,e);If(i,v);break e;case 1:a=c;var y=i.type,k=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Rn===null||!Rn.has(k)))){i.flags|=65536,e&=-e,i.lanes|=e;var m=Lm(i,a,e);If(i,m);break e}}i=i.return}while(i!==null)}tg(n)}catch(S){e=S,Oe===n&&n!==null&&(Oe=n=n.return);continue}break}while(!0)}function Zm(){var t=qo.current;return qo.current=Xo,t===null?Xo:t}function Fu(){(Fe===0||Fe===3||Fe===2)&&(Fe=4),He===null||!(cr&268435455)&&!(jl&268435455)||Cn(He,Ke)}function el(t,e){var n=oe;oe|=2;var r=Zm();(He!==t||Ke!==e)&&(Zt=null,sr(t,e));do try{$v();break}catch(s){Jm(t,s)}while(!0);if(ku(),oe=n,qo.current=r,Oe!==null)throw Error(D(261));return He=null,Ke=0,Fe}function $v(){for(;Oe!==null;)eg(Oe)}function Uv(){for(;Oe!==null&&!px();)eg(Oe)}function eg(t){var e=rg(t.alternate,t,xt);t.memoizedProps=t.pendingProps,e===null?tg(t):Oe=e,Ou.current=null}function tg(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Lv(n,e),n!==null){n.flags&=32767,Oe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Fe=6,Oe=null;return}}else if(n=Ov(n,e,xt),n!==null){Oe=n;return}if(e=e.sibling,e!==null){Oe=e;return}Oe=e=t}while(e!==null);Fe===0&&(Fe=5)}function Xn(t,e,n){var r=ue,s=Pt.transition;try{Pt.transition=null,ue=1,Gv(t,e,n,r)}finally{Pt.transition=s,ue=r}return null}function Gv(t,e,n,r){do Hr();while(bn!==null);if(oe&6)throw Error(D(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(D(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Cx(t,i),t===He&&(Oe=He=null,Ke=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||po||(po=!0,sg(Oo,function(){return Hr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Pt.transition,Pt.transition=null;var l=ue;ue=1;var a=oe;oe|=4,Ou.current=null,Mv(t,n),Qm(n,t),uv(uc),Wo=!!cc,uc=cc=null,t.current=n,zv(n),mx(),oe=a,ue=l,Pt.transition=i}else t.current=n;if(po&&(po=!1,bn=t,Zo=s),i=t.pendingLanes,i===0&&(Rn=null),xx(n.stateNode),mt(t,Re()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Jo)throw Jo=!1,t=Pc,Pc=null,t;return Zo&1&&t.tag!==0&&Hr(),i=t.pendingLanes,i&1?t===Ic?Js++:(Js=0,Ic=t):Js=0,Yn(),null}function Hr(){if(bn!==null){var t=Op(Zo),e=Pt.transition,n=ue;try{if(Pt.transition=null,ue=16>t?16:t,bn===null)var r=!1;else{if(t=bn,bn=null,Zo=0,oe&6)throw Error(D(331));var s=oe;for(oe|=4,B=t.current;B!==null;){var i=B,l=i.child;if(B.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(B=u;B!==null;){var p=B;switch(p.tag){case 0:case 11:case 15:Xs(8,p,i)}var d=p.child;if(d!==null)d.return=p,B=d;else for(;B!==null;){p=B;var h=p.sibling,_=p.return;if(Hm(p),p===u){B=null;break}if(h!==null){h.return=_,B=h;break}B=_}}}var w=i.alternate;if(w!==null){var P=w.child;if(P!==null){w.child=null;do{var E=P.sibling;P.sibling=null,P=E}while(P!==null)}}B=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,B=l;else e:for(;B!==null;){if(i=B,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Xs(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,B=v;break e}B=i.return}}var y=t.current;for(B=y;B!==null;){l=B;var k=l.child;if(l.subtreeFlags&2064&&k!==null)k.return=l,B=k;else e:for(l=y;B!==null;){if(a=B,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Tl(9,a)}}catch(S){je(a,a.return,S)}if(a===l){B=null;break e}var m=a.sibling;if(m!==null){m.return=a.return,B=m;break e}B=a.return}}if(oe=s,Yn(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(_l,t)}catch{}r=!0}return r}finally{ue=n,Pt.transition=e}}return!1}function Jf(t,e,n){e=ts(n,e),e=Om(t,e,1),t=In(t,e,1),e=ot(),t!==null&&(Di(t,1,e),mt(t,e))}function je(t,e,n){if(t.tag===3)Jf(t,t,n);else for(;e!==null;){if(e.tag===3){Jf(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Rn===null||!Rn.has(r))){t=ts(n,t),t=Lm(e,t,1),e=In(e,t,1),t=ot(),e!==null&&(Di(e,1,t),mt(e,t));break}}e=e.return}}function Vv(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ot(),t.pingedLanes|=t.suspendedLanes&n,He===t&&(Ke&n)===n&&(Fe===4||Fe===3&&(Ke&130023424)===Ke&&500>Re()-Wu?sr(t,0):Lu|=n),mt(t,e)}function ng(t,e){e===0&&(t.mode&1?(e=ro,ro<<=1,!(ro&130023424)&&(ro=4194304)):e=1);var n=ot();t=cn(t,e),t!==null&&(Di(t,e,n),mt(t,n))}function Hv(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ng(t,n)}function Yv(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(e),ng(t,n)}var rg;rg=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ht.current)dt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return dt=!1,Dv(t,e,n);dt=!!(t.flags&131072)}else dt=!1,ke&&e.flags&1048576&&lm(e,Go,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;bo(t,e),t=e.pendingProps;var s=qr(e,tt.current);Vr(e,n),s=Pu(null,e,r,t,s,n);var i=Iu();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pt(r)?(i=!0,$o(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Eu(e),s.updater=Nl,e.stateNode=s,s._reactInternals=e,vc(e,r,t,n),e=kc(null,e,r,!0,i,n)):(e.tag=0,ke&&i&&xu(e),st(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(bo(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Qv(r),t=Ot(r,t),s){case 0:e=wc(null,e,r,t,n);break e;case 1:e=$f(null,e,r,t,n);break e;case 11:e=Ff(null,e,r,t,n);break e;case 14:e=Bf(null,e,r,Ot(r.type,t),n);break e}throw Error(D(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ot(r,s),wc(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ot(r,s),$f(t,e,r,s,n);case 3:e:{if(Fm(e),t===null)throw Error(D(387));r=e.pendingProps,i=e.memoizedState,s=i.element,hm(t,e),Yo(e,r,null,n);var l=e.memoizedState;if(r=l.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ts(Error(D(423)),e),e=Uf(t,e,r,n,s);break e}else if(r!==s){s=ts(Error(D(424)),e),e=Uf(t,e,r,n,s);break e}else for(vt=Pn(e.stateNode.containerInfo.firstChild),_t=e,ke=!0,Wt=null,n=dm(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Jr(),r===s){e=un(t,e,n);break e}st(t,e,r,n)}e=e.child}return e;case 5:return pm(e),t===null&&gc(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,l=s.children,dc(r,s)?l=null:i!==null&&dc(r,i)&&(e.flags|=32),zm(t,e),st(t,e,l,n),e.child;case 6:return t===null&&gc(e),null;case 13:return Bm(t,e,n);case 4:return bu(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Zr(e,null,r,n):st(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ot(r,s),Ff(t,e,r,s,n);case 7:return st(t,e,e.pendingProps,n),e.child;case 8:return st(t,e,e.pendingProps.children,n),e.child;case 12:return st(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,l=s.value,ye(Vo,r._currentValue),r._currentValue=l,i!==null)if(Gt(i.value,l)){if(i.children===s.children&&!ht.current){e=un(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){l=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=sn(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var p=u.pending;p===null?c.next=c:(c.next=p.next,p.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),yc(i.return,n,e),a.lanes|=n;break}c=c.next}}else if(i.tag===10)l=i.type===e.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(D(341));l.lanes|=n,a=l.alternate,a!==null&&(a.lanes|=n),yc(l,n,e),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===e){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}st(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Vr(e,n),s=It(s),r=r(s),e.flags|=1,st(t,e,r,n),e.child;case 14:return r=e.type,s=Ot(r,e.pendingProps),s=Ot(r.type,s),Bf(t,e,r,s,n);case 15:return Wm(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ot(r,s),bo(t,e),e.tag=1,pt(r)?(t=!0,$o(e)):t=!1,Vr(e,n),Dm(e,r,s),vc(e,r,s,n),kc(null,e,r,!0,t,n);case 19:return $m(t,e,n);case 22:return Mm(t,e,n)}throw Error(D(156,e.tag))};function sg(t,e){return Ip(t,e)}function Kv(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(t,e,n,r){return new Kv(t,e,n,r)}function Bu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Qv(t){if(typeof t=="function")return Bu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ou)return 11;if(t===lu)return 14}return 2}function Dn(t,e){var n=t.alternate;return n===null?(n=jt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function jo(t,e,n,r,s,i){var l=2;if(r=t,typeof t=="function")Bu(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case jr:return ir(n.children,s,i,e);case iu:l=8,s|=8;break;case Ua:return t=jt(12,n,e,s|2),t.elementType=Ua,t.lanes=i,t;case Ga:return t=jt(13,n,e,s),t.elementType=Ga,t.lanes=i,t;case Va:return t=jt(19,n,e,s),t.elementType=Va,t.lanes=i,t;case pp:return Pl(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case fp:l=10;break e;case hp:l=9;break e;case ou:l=11;break e;case lu:l=14;break e;case wn:l=16,r=null;break e}throw Error(D(130,t==null?t:typeof t,""))}return e=jt(l,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ir(t,e,n,r){return t=jt(7,t,r,e),t.lanes=n,t}function Pl(t,e,n,r){return t=jt(22,t,r,e),t.elementType=pp,t.lanes=n,t.stateNode={isHidden:!1},t}function Ca(t,e,n){return t=jt(6,t,null,e),t.lanes=n,t}function Ea(t,e,n){return e=jt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Xv(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ia(0),this.expirationTimes=ia(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ia(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function $u(t,e,n,r,s,i,l,a,c){return t=new Xv(t,e,n,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=jt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Eu(i),t}function qv(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Tr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ig(t){if(!t)return Fn;t=t._reactInternals;e:{if(yr(t)!==t||t.tag!==1)throw Error(D(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(pt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(D(171))}if(t.tag===1){var n=t.type;if(pt(n))return im(t,n,e)}return e}function og(t,e,n,r,s,i,l,a,c){return t=$u(n,r,!0,t,s,i,l,a,c),t.context=ig(null),n=t.current,r=ot(),s=An(n),i=sn(r,s),i.callback=e??null,In(n,i,s),t.current.lanes=s,Di(t,s,r),mt(t,r),t}function Il(t,e,n,r){var s=e.current,i=ot(),l=An(s);return n=ig(n),e.context===null?e.context=n:e.pendingContext=n,e=sn(i,l),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=In(s,e,l),t!==null&&($t(t,s,l,i),So(t,s,l)),l}function tl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Zf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Uu(t,e){Zf(t,e),(t=t.alternate)&&Zf(t,e)}function Jv(){return null}var lg=typeof reportError=="function"?reportError:function(t){console.error(t)};function Gu(t){this._internalRoot=t}Rl.prototype.render=Gu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(D(409));Il(t,e,null,null)};Rl.prototype.unmount=Gu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ur(function(){Il(null,t,null,null)}),e[an]=null}};function Rl(t){this._internalRoot=t}Rl.prototype.unstable_scheduleHydration=function(t){if(t){var e=Mp();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Sn.length&&e!==0&&e<Sn[n].priority;n++);Sn.splice(n,0,t),n===0&&Fp(t)}};function Vu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Al(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function eh(){}function Zv(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=tl(l);i.call(u)}}var l=og(e,r,t,0,null,!1,!1,"",eh);return t._reactRootContainer=l,t[an]=l.current,fi(t.nodeType===8?t.parentNode:t),ur(),l}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=tl(c);a.call(u)}}var c=$u(t,0,!1,null,null,!1,!1,"",eh);return t._reactRootContainer=c,t[an]=c.current,fi(t.nodeType===8?t.parentNode:t),ur(function(){Il(e,c,n,r)}),c}function Dl(t,e,n,r,s){var i=n._reactRootContainer;if(i){var l=i;if(typeof s=="function"){var a=s;s=function(){var c=tl(l);a.call(c)}}Il(e,l,t,s)}else l=Zv(n,e,t,s,r);return tl(l)}Lp=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=$s(e.pendingLanes);n!==0&&(uu(e,n|1),mt(e,Re()),!(oe&6)&&(ns=Re()+500,Yn()))}break;case 13:ur(function(){var r=cn(t,1);if(r!==null){var s=ot();$t(r,t,1,s)}}),Uu(t,1)}};du=function(t){if(t.tag===13){var e=cn(t,134217728);if(e!==null){var n=ot();$t(e,t,134217728,n)}Uu(t,134217728)}};Wp=function(t){if(t.tag===13){var e=An(t),n=cn(t,e);if(n!==null){var r=ot();$t(n,t,e,r)}Uu(t,e)}};Mp=function(){return ue};zp=function(t,e){var n=ue;try{return ue=t,e()}finally{ue=n}};tc=function(t,e,n){switch(e){case"input":if(Ka(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Cl(r);if(!s)throw Error(D(90));gp(r),Ka(r,s)}}}break;case"textarea":xp(t,n);break;case"select":e=n.value,e!=null&&Br(t,!!n.multiple,e,!1)}};Ep=Mu;bp=ur;var e_={usingClientEntryPoint:!1,Events:[Li,Ar,Cl,Sp,Cp,Mu]},As={findFiberByHostInstance:Zn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},t_={bundleType:As.bundleType,version:As.version,rendererPackageName:As.rendererPackageName,rendererConfig:As.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=jp(t),t===null?null:t.stateNode},findFiberByHostInstance:As.findFiberByHostInstance||Jv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mo.isDisabled&&mo.supportsFiber)try{_l=mo.inject(t_),Xt=mo}catch{}}kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=e_;kt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vu(e))throw Error(D(200));return qv(t,e,null,n)};kt.createRoot=function(t,e){if(!Vu(t))throw Error(D(299));var n=!1,r="",s=lg;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=$u(t,1,!1,null,null,n,!1,r,s),t[an]=e.current,fi(t.nodeType===8?t.parentNode:t),new Gu(e)};kt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(D(188)):(t=Object.keys(t).join(","),Error(D(268,t)));return t=jp(e),t=t===null?null:t.stateNode,t};kt.flushSync=function(t){return ur(t)};kt.hydrate=function(t,e,n){if(!Al(e))throw Error(D(200));return Dl(null,t,e,!0,n)};kt.hydrateRoot=function(t,e,n){if(!Vu(t))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",l=lg;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=og(e,null,t,1,n??null,s,!1,i,l),t[an]=e.current,fi(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Rl(e)};kt.render=function(t,e,n){if(!Al(e))throw Error(D(200));return Dl(null,t,e,!1,n)};kt.unmountComponentAtNode=function(t){if(!Al(t))throw Error(D(40));return t._reactRootContainer?(ur(function(){Dl(null,null,t,!1,function(){t._reactRootContainer=null,t[an]=null})}),!0):!1};kt.unstable_batchedUpdates=Mu;kt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Al(n))throw Error(D(200));if(t==null||t._reactInternals===void 0)throw Error(D(38));return Dl(t,e,n,!1,r)};kt.version="18.3.1-next-f1338f8080-20240426";function ag(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ag)}catch(t){console.error(t)}}ag(),ap.exports=kt;var n_=ap.exports,th=n_;Ba.createRoot=th.createRoot,Ba.hydrateRoot=th.hydrateRoot;var nh={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O=function(t,e){if(!t)throw us(e)},us=function(t){return new Error("Firebase Database ("+cg.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},r_=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],l=t[n++],a=t[n++],c=((s&7)<<18|(i&63)<<12|(l&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|l&63)}}return e.join("")},Hu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],l=s+1<t.length,a=l?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,p=i>>2,d=(i&3)<<4|a>>4;let h=(a&15)<<2|u>>6,_=u&63;c||(_=64,l||(h=64)),r.push(n[p],n[d],n[h],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ug(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):r_(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||d==null)throw new s_;const h=i<<2|a>>4;if(r.push(h),u!==64){const _=a<<4&240|u>>2;if(r.push(_),d!==64){const w=u<<6&192|d;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class s_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dg=function(t){const e=ug(t);return Hu.encodeByteArray(e,!0)},nl=function(t){return dg(t).replace(/\./g,"")},Dc=function(t){try{return Hu.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(t){return fg(void 0,t)}function fg(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!o_(n)||(t[n]=fg(t[n],e[n]));return t}function o_(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_=()=>l_().__FIREBASE_DEFAULTS__,c_=()=>{if(typeof process>"u"||typeof nh>"u")return;const t=nh.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},u_=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Dc(t[1]);return e&&JSON.parse(e)},hg=()=>{try{return a_()||c_()||u_()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},d_=t=>{var e,n;return(n=(e=hg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},f_=t=>{const e=d_(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},pg=()=>{var t;return(t=hg())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[nl(JSON.stringify(n)),nl(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mg(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(p_())}function m_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function g_(){return cg.NODE_ADMIN===!0}function y_(){try{return typeof indexedDB=="object"}catch{return!1}}function x_(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="FirebaseError";class Mi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=v_,Object.setPrototypeOf(this,Mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gg.prototype.create)}}class gg{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],l=i?__(i,r):"Error",a=`${this.serviceName}: ${l} (${s}).`;return new Mi(s,a,r)}}function __(t,e){return t.replace(w_,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const w_=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(t){return JSON.parse(t)}function Me(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg=function(t){let e={},n={},r={},s="";try{const i=t.split(".");e=wi(Dc(i[0])||""),n=wi(Dc(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},k_=function(t){const e=yg(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},S_=function(t){const e=yg(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function rs(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function rh(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function rl(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function Oc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],l=e[s];if(sh(i)&&sh(l)){if(!Oc(i,l))return!1}else if(i!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function sh(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],l=this.chain_[2],a=this.chain_[3],c=this.chain_[4],u,p;for(let d=0;d<80;d++){d<40?d<20?(u=a^i&(l^a),p=1518500249):(u=i^l^a,p=1859775393):d<60?(u=i&l|a&(i|l),p=2400959708):(u=i^l^a,p=3395469782);const h=(s<<5|s>>>27)+u+c+p+r[d]&4294967295;c=a,a=l,l=(i<<30|i>>>2)&4294967295,i=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const i=this.buf_;let l=this.inbuf_;for(;s<n;){if(l===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(i[l]=e.charCodeAt(s),++l,++s,l===this.blockSize){this.compress_(i),l=0;break}}else for(;s<n;)if(i[l]=e[s],++l,++s,l===this.blockSize){this.compress_(i),l=0;break}}this.inbuf_=l,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function Yu(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,O(r<t.length,"Surrogate pair missing trail surrogate.");const l=t.charCodeAt(r)-56320;s=65536+(i<<10)+l}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Ll=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(t){return t&&t._delegate?t._delegate:t}class ki{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Ol;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(j_(e))try{this.getOrInitializeService({instanceIdentifier:qn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=qn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qn){return this.instances.has(e)}getOptions(e=qn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,l]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&l.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const l=this.instances.get(s);return l&&e(l,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:T_(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qn){return this.component?this.component.multipleInstances?e:qn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function T_(t){return t===qn?void 0:t}function j_(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new N_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(me||(me={}));const I_={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},R_=me.INFO,A_={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},D_=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=A_[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xg{constructor(e){this.name=e,this._logLevel=R_,this._logHandler=D_,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?I_[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}const O_=(t,e)=>e.some(n=>t instanceof n);let ih,oh;function L_(){return ih||(ih=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function W_(){return oh||(oh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vg=new WeakMap,Lc=new WeakMap,_g=new WeakMap,ba=new WeakMap,Ku=new WeakMap;function M_(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",l)},i=()=>{n(On(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&vg.set(n,t)}).catch(()=>{}),Ku.set(e,t),e}function z_(t){if(Lc.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",l),t.removeEventListener("abort",l)},i=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",l),t.addEventListener("abort",l)});Lc.set(t,e)}let Wc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Lc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_g.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return On(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function F_(t){Wc=t(Wc)}function B_(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Na(this),e,...n);return _g.set(r,e.sort?e.sort():[e]),On(r)}:W_().includes(t)?function(...e){return t.apply(Na(this),e),On(vg.get(this))}:function(...e){return On(t.apply(Na(this),e))}}function $_(t){return typeof t=="function"?B_(t):(t instanceof IDBTransaction&&z_(t),O_(t,L_())?new Proxy(t,Wc):t)}function On(t){if(t instanceof IDBRequest)return M_(t);if(ba.has(t))return ba.get(t);const e=$_(t);return e!==t&&(ba.set(t,e),Ku.set(e,t)),e}const Na=t=>Ku.get(t);function U_(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const l=indexedDB.open(t,e),a=On(l);return r&&l.addEventListener("upgradeneeded",c=>{r(On(l.result),c.oldVersion,c.newVersion,On(l.transaction),c)}),n&&l.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const G_=["get","getKey","getAll","getAllKeys","count"],V_=["put","add","delete","clear"],Ta=new Map;function lh(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ta.get(e))return Ta.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=V_.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||G_.includes(n)))return;const i=async function(l,...a){const c=this.transaction(l,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&c.done]))[0]};return Ta.set(e,i),i}F_(t=>({...t,get:(e,n,r)=>lh(e,n)||t.get(e,n,r),has:(e,n)=>!!lh(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Y_(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Y_(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Mc="@firebase/app",ah="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn=new xg("@firebase/app"),K_="@firebase/app-compat",Q_="@firebase/analytics-compat",X_="@firebase/analytics",q_="@firebase/app-check-compat",J_="@firebase/app-check",Z_="@firebase/auth",ew="@firebase/auth-compat",tw="@firebase/database",nw="@firebase/data-connect",rw="@firebase/database-compat",sw="@firebase/functions",iw="@firebase/functions-compat",ow="@firebase/installations",lw="@firebase/installations-compat",aw="@firebase/messaging",cw="@firebase/messaging-compat",uw="@firebase/performance",dw="@firebase/performance-compat",fw="@firebase/remote-config",hw="@firebase/remote-config-compat",pw="@firebase/storage",mw="@firebase/storage-compat",gw="@firebase/firestore",yw="@firebase/vertexai-preview",xw="@firebase/firestore-compat",vw="firebase",_w="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc="[DEFAULT]",ww={[Mc]:"fire-core",[K_]:"fire-core-compat",[X_]:"fire-analytics",[Q_]:"fire-analytics-compat",[J_]:"fire-app-check",[q_]:"fire-app-check-compat",[Z_]:"fire-auth",[ew]:"fire-auth-compat",[tw]:"fire-rtdb",[nw]:"fire-data-connect",[rw]:"fire-rtdb-compat",[sw]:"fire-fn",[iw]:"fire-fn-compat",[ow]:"fire-iid",[lw]:"fire-iid-compat",[aw]:"fire-fcm",[cw]:"fire-fcm-compat",[uw]:"fire-perf",[dw]:"fire-perf-compat",[fw]:"fire-rc",[hw]:"fire-rc-compat",[pw]:"fire-gcs",[mw]:"fire-gcs-compat",[gw]:"fire-fst",[xw]:"fire-fst-compat",[yw]:"fire-vertex","fire-js":"fire-js",[vw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sl=new Map,kw=new Map,Fc=new Map;function ch(t,e){try{t.container.addComponent(e)}catch(n){dn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function il(t){const e=t.name;if(Fc.has(e))return dn.debug(`There were multiple attempts to register component ${e}.`),!1;Fc.set(e,t);for(const n of sl.values())ch(n,t);for(const n of kw.values())ch(n,t);return!0}function Sw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ln=new gg("app","Firebase",Cw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ki("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ln.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw=_w;function wg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:zc,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Ln.create("bad-app-name",{appName:String(s)});if(n||(n=pg()),!n)throw Ln.create("no-options");const i=sl.get(s);if(i){if(Oc(n,i.options)&&Oc(r,i.config))return i;throw Ln.create("duplicate-app",{appName:s})}const l=new P_(s);for(const c of Fc.values())l.addComponent(c);const a=new Ew(n,r,l);return sl.set(s,a),a}function Nw(t=zc){const e=sl.get(t);if(!e&&t===zc&&pg())return wg();if(!e)throw Ln.create("no-app",{appName:t});return e}function Yr(t,e,n){var r;let s=(r=ww[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),l=e.match(/\s|\//);if(i||l){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&l&&a.push("and"),l&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),dn.warn(a.join(" "));return}il(new ki(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="firebase-heartbeat-database",jw=1,Si="firebase-heartbeat-store";let ja=null;function kg(){return ja||(ja=U_(Tw,jw,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Si)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ln.create("idb-open",{originalErrorMessage:t.message})})),ja}async function Pw(t){try{const n=(await kg()).transaction(Si),r=await n.objectStore(Si).get(Sg(t));return await n.done,r}catch(e){if(e instanceof Mi)dn.warn(e.message);else{const n=Ln.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});dn.warn(n.message)}}}async function uh(t,e){try{const r=(await kg()).transaction(Si,"readwrite");await r.objectStore(Si).put(e,Sg(t)),await r.done}catch(n){if(n instanceof Mi)dn.warn(n.message);else{const r=Ln.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});dn.warn(r.message)}}}function Sg(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw=1024,Rw=30*24*60*60*1e3;class Aw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ow(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=dh();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(l=>l.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const a=new Date(l.date).valueOf();return Date.now()-a<=Rw}),this._storage.overwrite(this._heartbeatsCache))}catch(r){dn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=dh(),{heartbeatsToSend:r,unsentEntries:s}=Dw(this._heartbeatsCache.heartbeats),i=nl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return dn.warn(n),""}}}function dh(){return new Date().toISOString().substring(0,10)}function Dw(t,e=Iw){const n=[];let r=t.slice();for(const s of t){const i=n.find(l=>l.agent===s.agent);if(i){if(i.dates.push(s.date),fh(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),fh(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Ow{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return y_()?x_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Pw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return uh(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return uh(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function fh(t){return nl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(t){il(new ki("platform-logger",e=>new H_(e),"PRIVATE")),il(new ki("heartbeat",e=>new Aw(e),"PRIVATE")),Yr(Mc,ah,t),Yr(Mc,ah,"esm2017"),Yr("fire-js","")}Lw("");var Ww="firebase",Mw="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yr(Ww,Mw,"app");var hh={};const ph="@firebase/database",mh="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cg="";function zw(t){Cg=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Me(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:wi(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return pn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Fw(e)}}catch{}return new Bw},nr=Eg("localStorage"),$w=Eg("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr=new xg("@firebase/database"),Uw=function(){let t=1;return function(){return t++}}(),bg=function(t){const e=b_(t),n=new E_;n.update(e);const r=n.digest();return Hu.encodeByteArray(r)},zi=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=zi.apply(null,r):typeof r=="object"?e+=Me(r):e+=r,e+=" "}return e};let Zs=null,gh=!0;const Gw=function(t,e){O(!0,"Can't turn on custom loggers persistently."),Kr.logLevel=me.VERBOSE,Zs=Kr.log.bind(Kr)},et=function(...t){if(gh===!0&&(gh=!1,Zs===null&&$w.get("logging_enabled")===!0&&Gw()),Zs){const e=zi.apply(null,t);Zs(e)}},Fi=function(t){return function(...e){et(t,...e)}},Bc=function(...t){const e="FIREBASE INTERNAL ERROR: "+zi(...t);Kr.error(e)},fn=function(...t){const e=`FIREBASE FATAL ERROR: ${zi(...t)}`;throw Kr.error(e),new Error(e)},gt=function(...t){const e="FIREBASE WARNING: "+zi(...t);Kr.warn(e)},Vw=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&gt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Ng=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Hw=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ss="[MIN_NAME]",dr="[MAX_NAME]",ds=function(t,e){if(t===e)return 0;if(t===ss||e===dr)return-1;if(e===ss||t===dr)return 1;{const n=yh(t),r=yh(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},Yw=function(t,e){return t===e?0:t<e?-1:1},Ds=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Me(e))},Qu=function(t){if(typeof t!="object"||t===null)return Me(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Me(e[r]),n+=":",n+=Qu(t[e[r]]);return n+="}",n},Tg=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function yt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const jg=function(t){O(!Ng(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,i,l,a,c;t===0?(i=0,l=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=a+r,l=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(i=0,l=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(c=n;c;c-=1)u.push(l%2?1:0),l=Math.floor(l/2);for(c=e;c;c-=1)u.push(i%2?1:0),i=Math.floor(i/2);u.push(s?1:0),u.reverse();const p=u.join("");let d="";for(c=0;c<64;c+=8){let h=parseInt(p.substr(c,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},Kw=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Qw=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Xw(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const qw=new RegExp("^-?(0*)\\d{1,10}$"),Jw=-2147483648,Zw=2147483647,yh=function(t){if(qw.test(t)){const e=Number(t);if(e>=Jw&&e<=Zw)return e}return null},fs=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw gt("Exception was thrown by user callback.",n),e},Math.floor(0))}},ek=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ei=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){gt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(et("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',gt(e)}}class Po{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Po.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu="5",Pg="v",Ig="s",Rg="r",Ag="f",Dg=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Og="ls",Lg="p",$c="ac",Wg="websocket",Mg="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,n,r,s,i=!1,l="",a=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=l,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=nr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&nr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function rk(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Fg(t,e,n){O(typeof e=="string","typeof type must == string"),O(typeof n=="object","typeof params must == object");let r;if(e===Wg)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Mg)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);rk(t)&&(n.ns=t.namespace);const s=[];return yt(n,(i,l)=>{s.push(i+"="+l)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(){this.counters_={}}incrementCounter(e,n=1){pn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return i_(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa={},Ia={};function qu(t){const e=t.toString();return Pa[e]||(Pa[e]=new sk),Pa[e]}function ik(t,e){const n=t.toString();return Ia[n]||(Ia[n]=e()),Ia[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&fs(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh="start",lk="close",ak="pLPCommand",ck="pRTLPCB",Bg="id",$g="pw",Ug="ser",uk="cb",dk="seg",fk="ts",hk="d",pk="dframe",Gg=1870,Vg=30,mk=Gg-Vg,gk=25e3,yk=3e4;class Fr{constructor(e,n,r,s,i,l,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=l,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Fi(e),this.stats_=qu(n),this.urlFn=c=>(this.appCheckToken&&(c[$c]=this.appCheckToken),Fg(n,Mg,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new ok(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(yk)),Hw(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ju((...i)=>{const[l,a,c,u,p]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,l===xh)this.id=a,this.password=c;else if(l===lk)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+l)},(...i)=>{const[l,a]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(l,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[xh]="t",r[Ug]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[uk]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Pg]=Xu,this.transportSessionId&&(r[Ig]=this.transportSessionId),this.lastSessionId&&(r[Og]=this.lastSessionId),this.applicationId&&(r[Lg]=this.applicationId),this.appCheckToken&&(r[$c]=this.appCheckToken),typeof location<"u"&&location.hostname&&Dg.test(location.hostname)&&(r[Rg]=Ag);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Fr.forceAllow_=!0}static forceDisallow(){Fr.forceDisallow_=!0}static isAvailable(){return Fr.forceAllow_?!0:!Fr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Kw()&&!Qw()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Me(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=dg(n),s=Tg(r,mk);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[pk]="t",r[Bg]=e,r[$g]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Me(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Ju{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Uw(),window[ak+this.uniqueCallbackIdentifier]=e,window[ck+this.uniqueCallbackIdentifier]=n,this.myIFrame=Ju.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(a){et("frame writing exception"),a.stack&&et(a.stack),et(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||et("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Bg]=this.myID,e[$g]=this.myPW,e[Ug]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Vg+r.length<=Gg;){const l=this.pendingSegs.shift();r=r+"&"+dk+s+"="+l.seg+"&"+fk+s+"="+l.ts+"&"+hk+s+"="+l.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(gk)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{et("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk=16384,vk=45e3;let ol=null;typeof MozWebSocket<"u"?ol=MozWebSocket:typeof WebSocket<"u"&&(ol=WebSocket);class Mt{constructor(e,n,r,s,i,l,a){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Fi(this.connId),this.stats_=qu(n),this.connURL=Mt.connectionURL_(n,l,a,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,i){const l={};return l[Pg]=Xu,typeof location<"u"&&location.hostname&&Dg.test(location.hostname)&&(l[Rg]=Ag),n&&(l[Ig]=n),r&&(l[Og]=r),s&&(l[$c]=s),i&&(l[Lg]=i),Fg(e,Wg,l)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,nr.set("previous_websocket_failure",!0);try{let r;g_(),this.mySock=new ol(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Mt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&ol!==null&&!Mt.forceDisallow_}static previouslyFailed(){return nr.isInMemoryStorage||nr.get("previous_websocket_failure")===!0}markConnectionHealthy(){nr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=wi(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(O(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Me(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Tg(n,xk);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(vk))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Mt.responsesRequiredToBeHealthy=2;Mt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Fr,Mt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Mt&&Mt.isAvailable();let r=n&&!Mt.previouslyFailed();if(e.webSocketOnly&&(n||gt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Mt];else{const s=this.transports_=[];for(const i of Ci.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);Ci.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ci.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k=6e4,wk=5e3,kk=10*1024,Sk=100*1024,Ra="t",vh="d",Ck="s",_h="r",Ek="e",wh="o",kh="a",Sh="n",Ch="p",bk="h";class Nk{constructor(e,n,r,s,i,l,a,c,u,p){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=l,this.onReady_=a,this.onDisconnect_=c,this.onKill_=u,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Fi("c:"+this.id+":"),this.transportManager_=new Ci(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=ei(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Sk?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>kk?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Ra in e){const n=e[Ra];n===kh?this.upgradeIfSecondaryHealthy_():n===_h?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===wh&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Ds("t",e),r=Ds("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Ch,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:kh,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Sh,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Ds("t",e),r=Ds("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Ds(Ra,e);if(vh in e){const r=e[vh];if(n===bk){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===Sh){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Ck?this.onConnectionShutdown_(r):n===_h?this.onReset_(r):n===Ek?Bc("Server Error: "+r):n===wh?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Bc("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Xu!==r&&gt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ei(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(_k))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ei(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(wk))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Ch,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(nr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e){this.allowedEvents_=e,this.listeners_={},O(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){O(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll extends Yg{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!mg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new ll}getInitialEvent(e){return O(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh=32,bh=768;class fe{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ae(){return new fe("")}function te(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Bn(t){return t.pieces_.length-t.pieceNum_}function ge(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new fe(t.pieces_,e)}function Kg(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Tk(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Qg(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Xg(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new fe(e,0)}function ze(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof fe)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new fe(n,0)}function re(t){return t.pieceNum_>=t.pieces_.length}function it(t,e){const n=te(t),r=te(e);if(n===null)return e;if(n===r)return it(ge(t),ge(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Zu(t,e){if(Bn(t)!==Bn(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function zt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Bn(t)>Bn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class jk{constructor(e,n){this.errorPrefix_=n,this.parts_=Qg(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Ll(this.parts_[r]);qg(this)}}function Pk(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Ll(e),qg(t)}function Ik(t){const e=t.parts_.pop();t.byteLength_-=Ll(e),t.parts_.length>0&&(t.byteLength_-=1)}function qg(t){if(t.byteLength_>bh)throw new Error(t.errorPrefix_+"has a key path longer than "+bh+" bytes ("+t.byteLength_+").");if(t.parts_.length>Eh)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Eh+") or object contains a cycle "+Jn(t))}function Jn(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed extends Yg{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new ed}getInitialEvent(e){return O(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=1e3,Rk=60*5*1e3,Nh=30*1e3,Ak=1.3,Dk=3e4,Ok="server_kill",Th=3;class on extends Hg{constructor(e,n,r,s,i,l,a,c){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=l,this.appCheckTokenProvider_=a,this.authOverride_=c,this.id=on.nextPersistentConnectionId_++,this.log_=Fi("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Os,this.maxReconnectDelay_=Rk,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ed.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&ll.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,i={r:s,a:e,b:n};this.log_(Me(i)),O(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new Ol,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:l=>{const a=l.d;l.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,r,s){this.initConnection_();const i=e._queryIdentifier,l=e._path.toString();this.log_("Listen called for "+l+" "+i),this.listens.has(l)||this.listens.set(l,new Map),O(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),O(!this.listens.get(l).has(i),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(l).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},l="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(l,i,a=>{const c=a.d,u=a.s;on.warnOnListenWarnings_(c,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(u,c))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&pn(e,"w")){const r=rs(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();gt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||S_(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Nh)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=k_(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,l=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,l))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),O(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const i={p:e},l="n";s&&(i.q=r,i.t=s),this.sendRequest(l,i)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,l=>{s&&setTimeout(()=>{s(l.s,l.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,i){this.initConnection_();const l={p:n,d:r};i!==void 0&&(l.h=i),this.outstandingPuts_.push({action:e,request:l,onComplete:s}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Me(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Bc("Unrecognized action received from server: "+Me(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){O(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Os,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Os,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Dk&&(this.reconnectDelay_=Os),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Ak)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+on.nextConnectionId_++,i=this.lastSessionId;let l=!1,a=null;const c=function(){a?a.close():(l=!0,r())},u=function(d){O(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:c,sendRequest:u};const p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)]);l?et("getToken() completed but was canceled"):(et("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new Nk(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,_=>{gt(_+" ("+this.repoInfo_.toString()+")"),this.interrupt(Ok)},i))}catch(d){this.log_("Failed to get token: "+d),l||(this.repoInfo_.nodeAdmin&&gt(d),c())}}}interrupt(e){et("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){et("Resuming connection for reason: "+e),delete this.interruptReasons_[e],rh(this.interruptReasons_)&&(this.reconnectDelay_=Os,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(i=>Qu(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new fe(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){et("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Th&&(this.reconnectDelay_=Nh,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){et("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Th&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Cg.replace(/\./g,"-")]=1,mg()?e["framework.cordova"]=1:m_()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=ll.getInstance().currentlyOnline();return rh(this.interruptReasons_)&&e}}on.nextPersistentConnectionId_=0;on.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ne(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ne(ss,e),s=new ne(ss,n);return this.compare(r,s)!==0}minPost(){return ne.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let go;class Jg extends Wl{static get __EMPTY_NODE(){return go}static set __EMPTY_NODE(e){go=e}compare(e,n){return ds(e.name,n.name)}isDefinedOn(e){throw us("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ne.MIN}maxPost(){return new ne(dr,go)}makePost(e,n){return O(typeof e=="string","KeyIndex indexValue must always be a string."),new ne(e,go)}toString(){return".key"}}const Qr=new Jg;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(e=e,l=n?r(e.key,n):1,s&&(l*=-1),l<0)this.isReverse_?e=e.left:e=e.right;else if(l===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ge{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Ge.RED,this.left=s??ft.EMPTY_NODE,this.right=i??ft.EMPTY_NODE}copy(e,n,r,s,i){return new Ge(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return ft.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return ft.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ge.RED=!0;Ge.BLACK=!1;class Lk{copy(e,n,r,s,i){return this}insert(e,n,r){return new Ge(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ft{constructor(e,n=ft.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new ft(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ge.BLACK,null,null))}remove(e){return new ft(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ge.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new yo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new yo(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new yo(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new yo(this.root_,null,this.comparator_,!0,e)}}ft.EMPTY_NODE=new Lk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk(t,e){return ds(t.name,e.name)}function td(t,e){return ds(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uc;function Mk(t){Uc=t}const Zg=function(t){return typeof t=="number"?"number:"+jg(t):"string:"+t},ey=function(t){if(t.isLeafNode()){const e=t.val();O(typeof e=="string"||typeof e=="number"||typeof e=="object"&&pn(e,".sv"),"Priority must be a string or number.")}else O(t===Uc||t.isEmpty(),"priority of unexpected type.");O(t===Uc||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jh;class $e{constructor(e,n=$e.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,O(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),ey(this.priorityNode_)}static set __childrenNodeConstructor(e){jh=e}static get __childrenNodeConstructor(){return jh}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new $e(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:$e.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return re(e)?this:te(e)===".priority"?this.priorityNode_:$e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:$e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=te(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(O(r!==".priority"||Bn(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,$e.__childrenNodeConstructor.EMPTY_NODE.updateChild(ge(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Zg(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=jg(this.value_):e+=this.value_,this.lazyHash_=bg(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===$e.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof $e.__childrenNodeConstructor?-1:(O(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=$e.VALUE_TYPE_ORDER.indexOf(n),i=$e.VALUE_TYPE_ORDER.indexOf(r);return O(s>=0,"Unknown leaf type: "+n),O(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}$e.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ty,ny;function zk(t){ty=t}function Fk(t){ny=t}class Bk extends Wl{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?ds(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ne.MIN}maxPost(){return new ne(dr,new $e("[PRIORITY-POST]",ny))}makePost(e,n){const r=ty(e);return new ne(n,new $e("[PRIORITY-POST]",r))}toString(){return".priority"}}const Pe=new Bk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k=Math.log(2);class Uk{constructor(e){const n=i=>parseInt(Math.log(i)/$k,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const al=function(t,e,n,r){t.sort(e);const s=function(c,u){const p=u-c;let d,h;if(p===0)return null;if(p===1)return d=t[c],h=n?n(d):d,new Ge(h,d.node,Ge.BLACK,null,null);{const _=parseInt(p/2,10)+c,w=s(c,_),P=s(_+1,u);return d=t[_],h=n?n(d):d,new Ge(h,d.node,Ge.BLACK,w,P)}},i=function(c){let u=null,p=null,d=t.length;const h=function(w,P){const E=d-w,v=d;d-=w;const y=s(E+1,v),k=t[E],m=n?n(k):k;_(new Ge(m,k.node,P,null,y))},_=function(w){u?(u.left=w,u=w):(p=w,u=w)};for(let w=0;w<c.count;++w){const P=c.nextBitIsOne(),E=Math.pow(2,c.count-(w+1));P?h(E,Ge.BLACK):(h(E,Ge.BLACK),h(E,Ge.RED))}return p},l=new Uk(t.length),a=i(l);return new ft(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Aa;const Nr={};class rn{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return O(Nr&&Pe,"ChildrenNode.ts has not been loaded"),Aa=Aa||new rn({".priority":Nr},{".priority":Pe}),Aa}get(e){const n=rs(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof ft?n:null}hasIndex(e){return pn(this.indexSet_,e.toString())}addIndex(e,n){O(e!==Qr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(ne.Wrap);let l=i.getNext();for(;l;)s=s||e.isDefinedOn(l.node),r.push(l),l=i.getNext();let a;s?a=al(r,e.getCompare()):a=Nr;const c=e.toString(),u=Object.assign({},this.indexSet_);u[c]=e;const p=Object.assign({},this.indexes_);return p[c]=a,new rn(p,u)}addToIndexes(e,n){const r=rl(this.indexes_,(s,i)=>{const l=rs(this.indexSet_,i);if(O(l,"Missing index implementation for "+i),s===Nr)if(l.isDefinedOn(e.node)){const a=[],c=n.getIterator(ne.Wrap);let u=c.getNext();for(;u;)u.name!==e.name&&a.push(u),u=c.getNext();return a.push(e),al(a,l.getCompare())}else return Nr;else{const a=n.get(e.name);let c=s;return a&&(c=c.remove(new ne(e.name,a))),c.insert(e,e.node)}});return new rn(r,this.indexSet_)}removeFromIndexes(e,n){const r=rl(this.indexes_,s=>{if(s===Nr)return s;{const i=n.get(e.name);return i?s.remove(new ne(e.name,i)):s}});return new rn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ls;class V{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&ey(this.priorityNode_),this.children_.isEmpty()&&O(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ls||(Ls=new V(new ft(td),null,rn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ls}updatePriority(e){return this.children_.isEmpty()?this:new V(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Ls:n}}getChild(e){const n=te(e);return n===null?this:this.getImmediateChild(n).getChild(ge(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(O(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new ne(e,n);let s,i;n.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));const l=s.isEmpty()?Ls:this.priorityNode_;return new V(s,l,i)}}updateChild(e,n){const r=te(e);if(r===null)return n;{O(te(e)!==".priority"||Bn(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(ge(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(Pe,(l,a)=>{n[l]=a.val(e),r++,i&&V.INTEGER_REGEXP_.test(l)?s=Math.max(s,Number(l)):i=!1}),!e&&i&&s<2*r){const l=[];for(const a in n)l[a]=n[a];return l}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Zg(this.getPriority().val())+":"),this.forEachChild(Pe,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":bg(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new ne(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ne(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ne(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,ne.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,ne.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Bi?-1:0}withIndex(e){if(e===Qr||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new V(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Qr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Pe),s=n.getIterator(Pe);let i=r.getNext(),l=s.getNext();for(;i&&l;){if(i.name!==l.name||!i.node.equals(l.node))return!1;i=r.getNext(),l=s.getNext()}return i===null&&l===null}else return!1;else return!1}}resolveIndex_(e){return e===Qr?null:this.indexMap_.get(e.toString())}}V.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Gk extends V{constructor(){super(new ft(td),V.EMPTY_NODE,rn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return V.EMPTY_NODE}isEmpty(){return!1}}const Bi=new Gk;Object.defineProperties(ne,{MIN:{value:new ne(ss,V.EMPTY_NODE)},MAX:{value:new ne(dr,Bi)}});Jg.__EMPTY_NODE=V.EMPTY_NODE;$e.__childrenNodeConstructor=V;Mk(Bi);Fk(Bi);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk=!0;function Ve(t,e=null){if(t===null)return V.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),O(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new $e(n,Ve(e))}if(!(t instanceof Array)&&Vk){const n=[];let r=!1;if(yt(t,(l,a)=>{if(l.substring(0,1)!=="."){const c=Ve(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new ne(l,c)))}}),n.length===0)return V.EMPTY_NODE;const i=al(n,Wk,l=>l.name,td);if(r){const l=al(n,Pe.getCompare());return new V(i,Ve(e),new rn({".priority":l},{".priority":Pe}))}else return new V(i,Ve(e),rn.Default)}else{let n=V.EMPTY_NODE;return yt(t,(r,s)=>{if(pn(t,r)&&r.substring(0,1)!=="."){const i=Ve(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(Ve(e))}}zk(Ve);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk extends Wl{constructor(e){super(),this.indexPath_=e,O(!re(e)&&te(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?ds(e.name,n.name):i}makePost(e,n){const r=Ve(e),s=V.EMPTY_NODE.updateChild(this.indexPath_,r);return new ne(n,s)}maxPost(){const e=V.EMPTY_NODE.updateChild(this.indexPath_,Bi);return new ne(dr,e)}toString(){return Qg(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk extends Wl{compare(e,n){const r=e.node.compareTo(n.node);return r===0?ds(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ne.MIN}maxPost(){return ne.MAX}makePost(e,n){const r=Ve(e);return new ne(n,r)}toString(){return".value"}}const Kk=new Yk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(t){return{type:"value",snapshotNode:t}}function is(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Ei(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function bi(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Qk(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e){this.index_=e}updateChild(e,n,r,s,i,l){O(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(s).equals(r.getChild(s))&&a.isEmpty()===r.isEmpty()||(l!=null&&(r.isEmpty()?e.hasChild(n)?l.trackChildChange(Ei(n,a)):O(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?l.trackChildChange(is(n,r)):l.trackChildChange(bi(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Pe,(s,i)=>{n.hasChild(s)||r.trackChildChange(Ei(s,i))}),n.isLeafNode()||n.forEachChild(Pe,(s,i)=>{if(e.hasChild(s)){const l=e.getImmediateChild(s);l.equals(i)||r.trackChildChange(bi(s,i,l))}else r.trackChildChange(is(s,i))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?V.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e){this.indexedFilter_=new nd(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ni.getStartPost_(e),this.endPost_=Ni.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,s,i,l){return this.matches(new ne(n,r))||(r=V.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,s,i,l)}updateFullNode(e,n,r){n.isLeafNode()&&(n=V.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(V.EMPTY_NODE);const i=this;return n.forEachChild(Pe,(l,a)=>{i.matches(new ne(l,a))||(s=s.updateImmediateChild(l,V.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Ni(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,s,i,l){return this.rangedFilter_.matches(new ne(n,r))||(r=V.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,s,i,l):this.fullLimitUpdateChild_(e,n,r,i,l)}updateFullNode(e,n,r){let s;if(n.isLeafNode()||n.isEmpty())s=V.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=V.EMPTY_NODE.withIndex(this.index_);let i;this.reverse_?i=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):i=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;i.hasNext()&&l<this.limit_;){const a=i.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))s=s.updateImmediateChild(a.name,a.node),l++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(V.EMPTY_NODE);let i;this.reverse_?i=s.getReverseIterator(this.index_):i=s.getIterator(this.index_);let l=0;for(;i.hasNext();){const a=i.getNext();l<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?l++:s=s.updateImmediateChild(a.name,V.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,s,i){let l;if(this.reverse_){const d=this.index_.getCompare();l=(h,_)=>d(_,h)}else l=this.index_.getCompare();const a=e;O(a.numChildren()===this.limit_,"");const c=new ne(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),p=this.rangedFilter_.matches(c);if(a.hasChild(n)){const d=a.getImmediateChild(n);let h=s.getChildAfterChild(this.index_,u,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=s.getChildAfterChild(this.index_,h,this.reverse_);const _=h==null?1:l(h,c);if(p&&!r.isEmpty()&&_>=0)return i!=null&&i.trackChildChange(bi(n,r,d)),a.updateImmediateChild(n,r);{i!=null&&i.trackChildChange(Ei(n,d));const P=a.updateImmediateChild(n,V.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(i!=null&&i.trackChildChange(is(h.name,h.node)),P.updateImmediateChild(h.name,h.node)):P}}else return r.isEmpty()?e:p&&l(u,c)>=0?(i!=null&&(i.trackChildChange(Ei(u.name,u.node)),i.trackChildChange(is(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,V.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Pe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return O(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return O(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ss}hasEnd(){return this.endSet_}getIndexEndValue(){return O(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return O(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:dr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return O(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Pe}copy(){const e=new rd;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function qk(t){return t.loadsAllData()?new nd(t.getIndex()):t.hasLimit()?new Xk(t):new Ni(t)}function Ph(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Pe?n="$priority":t.index_===Kk?n="$value":t.index_===Qr?n="$key":(O(t.index_ instanceof Hk,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Me(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Me(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Me(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Me(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Me(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Ih(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Pe&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl extends Hg{constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=Fi("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(O(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const l=cl.getListenId_(e,r),a={};this.listens_[l]=a;const c=Ph(e._queryParams);this.restRequest_(i+".json",c,(u,p)=>{let d=p;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(i,d,!1,r),rs(this.listens_,l)===a){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",s(h,null)}})}unlisten(e,n){const r=cl.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Ph(e._queryParams),r=e._path.toString(),s=new Ol;return this.restRequest_(r+".json",n,(i,l)=>{let a=l;i===404&&(a=null,i=null),i===null?(this.onDataUpdate_(r,a,!1,null),s.resolve(a)):s.reject(new Error(a))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+C_(n);this.log_("Sending REST request for "+l);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+l+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=wi(a.responseText)}catch{gt("Failed to parse JSON response for "+l+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&gt("Got unsuccessful REST response for "+l+" Status: "+a.status),r(a.status);r=null}},a.open("GET",l,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(){this.rootNode_=V.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(){return{value:null,children:new Map}}function sy(t,e,n){if(re(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=te(e);t.children.has(r)||t.children.set(r,ul());const s=t.children.get(r);e=ge(e),sy(s,e,n)}}function Gc(t,e,n){t.value!==null?n(e,t.value):Zk(t,(r,s)=>{const i=new fe(e.toString()+"/"+r);Gc(s,i,n)})}function Zk(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&yt(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh=10*1e3,t1=30*1e3,n1=5*60*1e3;class r1{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new e1(e);const r=Rh+(t1-Rh)*Math.random();ei(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;yt(e,(s,i)=>{i>0&&pn(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),ei(this.reportStats_.bind(this),Math.floor(Math.random()*2*n1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ft||(Ft={}));function iy(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function sd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function id(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Ft.ACK_USER_WRITE,this.source=iy()}operationForChild(e){if(re(this.path)){if(this.affectedTree.value!=null)return O(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new fe(e));return new dl(ae(),n,this.revert)}}else return O(te(this.path)===e,"operationForChild called for unrelated child."),new dl(ge(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e,n){this.source=e,this.path=n,this.type=Ft.LISTEN_COMPLETE}operationForChild(e){return re(this.path)?new Ti(this.source,ae()):new Ti(this.source,ge(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Ft.OVERWRITE}operationForChild(e){return re(this.path)?new fr(this.source,ae(),this.snap.getImmediateChild(e)):new fr(this.source,ge(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Ft.MERGE}operationForChild(e){if(re(this.path)){const n=this.children.subtree(new fe(e));return n.isEmpty()?null:n.value?new fr(this.source,ae(),n.value):new ji(this.source,ae(),n)}else return O(te(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ji(this.source,ge(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(re(e))return this.isFullyInitialized()&&!this.filtered_;const n=te(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function i1(t,e,n,r){const s=[],i=[];return e.forEach(l=>{l.type==="child_changed"&&t.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&i.push(Qk(l.childName,l.snapshotNode))}),Ws(t,s,"child_removed",e,r,n),Ws(t,s,"child_added",e,r,n),Ws(t,s,"child_moved",i,r,n),Ws(t,s,"child_changed",e,r,n),Ws(t,s,"value",e,r,n),s}function Ws(t,e,n,r,s,i){const l=r.filter(a=>a.type===n);l.sort((a,c)=>l1(t,a,c)),l.forEach(a=>{const c=o1(t,a,i);s.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(c,t.query_))})})}function o1(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function l1(t,e,n){if(e.childName==null||n.childName==null)throw us("Should only compare child_ events.");const r=new ne(e.childName,e.snapshotNode),s=new ne(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(t,e){return{eventCache:t,serverCache:e}}function ti(t,e,n,r){return Ml(new $n(e,n,r),t.serverCache)}function oy(t,e,n,r){return Ml(t.eventCache,new $n(e,n,r))}function fl(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function hr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Da;const a1=()=>(Da||(Da=new ft(Yw)),Da);class _e{constructor(e,n=a1()){this.value=e,this.children=n}static fromObject(e){let n=new _e(null);return yt(e,(r,s)=>{n=n.set(new fe(r),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ae(),value:this.value};if(re(e))return null;{const r=te(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(ge(e),n);return i!=null?{path:ze(new fe(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(re(e))return this;{const n=te(e),r=this.children.get(n);return r!==null?r.subtree(ge(e)):new _e(null)}}set(e,n){if(re(e))return new _e(n,this.children);{const r=te(e),i=(this.children.get(r)||new _e(null)).set(ge(e),n),l=this.children.insert(r,i);return new _e(this.value,l)}}remove(e){if(re(e))return this.children.isEmpty()?new _e(null):new _e(null,this.children);{const n=te(e),r=this.children.get(n);if(r){const s=r.remove(ge(e));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new _e(null):new _e(this.value,i)}else return this}}get(e){if(re(e))return this.value;{const n=te(e),r=this.children.get(n);return r?r.get(ge(e)):null}}setTree(e,n){if(re(e))return n;{const r=te(e),i=(this.children.get(r)||new _e(null)).setTree(ge(e),n);let l;return i.isEmpty()?l=this.children.remove(r):l=this.children.insert(r,i),new _e(this.value,l)}}fold(e){return this.fold_(ae(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(ze(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ae(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(re(e))return null;{const i=te(e),l=this.children.get(i);return l?l.findOnPath_(ge(e),ze(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ae(),n)}foreachOnPath_(e,n,r){if(re(e))return this;{this.value&&r(n,this.value);const s=te(e),i=this.children.get(s);return i?i.foreachOnPath_(ge(e),ze(n,s),r):new _e(null)}}foreach(e){this.foreach_(ae(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(ze(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.writeTree_=e}static empty(){return new Ut(new _e(null))}}function ni(t,e,n){if(re(e))return new Ut(new _e(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const l=it(s,e);return i=i.updateChild(l,n),new Ut(t.writeTree_.set(s,i))}else{const s=new _e(n),i=t.writeTree_.setTree(e,s);return new Ut(i)}}}function Ah(t,e,n){let r=t;return yt(n,(s,i)=>{r=ni(r,ze(e,s),i)}),r}function Dh(t,e){if(re(e))return Ut.empty();{const n=t.writeTree_.setTree(e,new _e(null));return new Ut(n)}}function Vc(t,e){return vr(t,e)!=null}function vr(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(it(n.path,e)):null}function Oh(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Pe,(r,s)=>{e.push(new ne(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new ne(r,s.value))}),e}function Wn(t,e){if(re(e))return t;{const n=vr(t,e);return n!=null?new Ut(new _e(n)):new Ut(t.writeTree_.subtree(e))}}function Hc(t){return t.writeTree_.isEmpty()}function os(t,e){return ly(ae(),t.writeTree_,e)}function ly(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?(O(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=ly(ze(t,s),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(ze(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(t,e){return dy(e,t)}function c1(t,e,n,r,s){O(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=ni(t.visibleWrites,e,n)),t.lastWriteId=r}function u1(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function d1(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);O(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,i=!1,l=t.allWrites.length-1;for(;s&&l>=0;){const a=t.allWrites[l];a.visible&&(l>=n&&f1(a,r.path)?s=!1:zt(r.path,a.path)&&(i=!0)),l--}if(s){if(i)return h1(t),!0;if(r.snap)t.visibleWrites=Dh(t.visibleWrites,r.path);else{const a=r.children;yt(a,c=>{t.visibleWrites=Dh(t.visibleWrites,ze(r.path,c))})}return!0}else return!1}function f1(t,e){if(t.snap)return zt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&zt(ze(t.path,n),e))return!0;return!1}function h1(t){t.visibleWrites=ay(t.allWrites,p1,ae()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function p1(t){return t.visible}function ay(t,e,n){let r=Ut.empty();for(let s=0;s<t.length;++s){const i=t[s];if(e(i)){const l=i.path;let a;if(i.snap)zt(n,l)?(a=it(n,l),r=ni(r,a,i.snap)):zt(l,n)&&(a=it(l,n),r=ni(r,ae(),i.snap.getChild(a)));else if(i.children){if(zt(n,l))a=it(n,l),r=Ah(r,a,i.children);else if(zt(l,n))if(a=it(l,n),re(a))r=Ah(r,ae(),i.children);else{const c=rs(i.children,te(a));if(c){const u=c.getChild(ge(a));r=ni(r,ae(),u)}}}else throw us("WriteRecord should have .snap or .children")}}return r}function cy(t,e,n,r,s){if(!r&&!s){const i=vr(t.visibleWrites,e);if(i!=null)return i;{const l=Wn(t.visibleWrites,e);if(Hc(l))return n;if(n==null&&!Vc(l,ae()))return null;{const a=n||V.EMPTY_NODE;return os(l,a)}}}else{const i=Wn(t.visibleWrites,e);if(!s&&Hc(i))return n;if(!s&&n==null&&!Vc(i,ae()))return null;{const l=function(u){return(u.visible||s)&&(!r||!~r.indexOf(u.writeId))&&(zt(u.path,e)||zt(e,u.path))},a=ay(t.allWrites,l,e),c=n||V.EMPTY_NODE;return os(a,c)}}}function m1(t,e,n){let r=V.EMPTY_NODE;const s=vr(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Pe,(i,l)=>{r=r.updateImmediateChild(i,l)}),r;if(n){const i=Wn(t.visibleWrites,e);return n.forEachChild(Pe,(l,a)=>{const c=os(Wn(i,new fe(l)),a);r=r.updateImmediateChild(l,c)}),Oh(i).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}else{const i=Wn(t.visibleWrites,e);return Oh(i).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}}function g1(t,e,n,r,s){O(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=ze(e,n);if(Vc(t.visibleWrites,i))return null;{const l=Wn(t.visibleWrites,i);return Hc(l)?s.getChild(n):os(l,s.getChild(n))}}function y1(t,e,n,r){const s=ze(e,n),i=vr(t.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const l=Wn(t.visibleWrites,s);return os(l,r.getNode().getImmediateChild(n))}else return null}function x1(t,e){return vr(t.visibleWrites,e)}function v1(t,e,n,r,s,i,l){let a;const c=Wn(t.visibleWrites,e),u=vr(c,ae());if(u!=null)a=u;else if(n!=null)a=os(c,n);else return[];if(a=a.withIndex(l),!a.isEmpty()&&!a.isLeafNode()){const p=[],d=l.getCompare(),h=i?a.getReverseIteratorFrom(r,l):a.getIteratorFrom(r,l);let _=h.getNext();for(;_&&p.length<s;)d(_,r)!==0&&p.push(_),_=h.getNext();return p}else return[]}function _1(){return{visibleWrites:Ut.empty(),allWrites:[],lastWriteId:-1}}function hl(t,e,n,r){return cy(t.writeTree,t.treePath,e,n,r)}function od(t,e){return m1(t.writeTree,t.treePath,e)}function Lh(t,e,n,r){return g1(t.writeTree,t.treePath,e,n,r)}function pl(t,e){return x1(t.writeTree,ze(t.treePath,e))}function w1(t,e,n,r,s,i){return v1(t.writeTree,t.treePath,e,n,r,s,i)}function ld(t,e,n){return y1(t.writeTree,t.treePath,e,n)}function uy(t,e){return dy(ze(t.treePath,e),t.writeTree)}function dy(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;O(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),O(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,bi(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,Ei(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,is(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,bi(r,e.snapshotNode,s.oldSnap));else throw us("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const fy=new S1;class ad{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new $n(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ld(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:hr(this.viewCache_),i=w1(this.writes_,s,n,1,r,e);return i.length===0?null:i[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(t){return{filter:t}}function E1(t,e){O(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),O(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function b1(t,e,n,r,s){const i=new k1;let l,a;if(n.type===Ft.OVERWRITE){const u=n;u.source.fromUser?l=Yc(t,e,u.path,u.snap,r,s,i):(O(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!re(u.path),l=ml(t,e,u.path,u.snap,r,s,a,i))}else if(n.type===Ft.MERGE){const u=n;u.source.fromUser?l=T1(t,e,u.path,u.children,r,s,i):(O(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),l=Kc(t,e,u.path,u.children,r,s,a,i))}else if(n.type===Ft.ACK_USER_WRITE){const u=n;u.revert?l=I1(t,e,u.path,r,s,i):l=j1(t,e,u.path,u.affectedTree,r,s,i)}else if(n.type===Ft.LISTEN_COMPLETE)l=P1(t,e,n.path,r,i);else throw us("Unknown operation type: "+n.type);const c=i.getChanges();return N1(e,l,c),{viewCache:l,changes:c}}function N1(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=fl(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(ry(fl(e)))}}function hy(t,e,n,r,s,i){const l=e.eventCache;if(pl(r,n)!=null)return e;{let a,c;if(re(n))if(O(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=hr(e),p=u instanceof V?u:V.EMPTY_NODE,d=od(r,p);a=t.filter.updateFullNode(e.eventCache.getNode(),d,i)}else{const u=hl(r,hr(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,i)}else{const u=te(n);if(u===".priority"){O(Bn(n)===1,"Can't have a priority with additional path components");const p=l.getNode();c=e.serverCache.getNode();const d=Lh(r,n,p,c);d!=null?a=t.filter.updatePriority(p,d):a=l.getNode()}else{const p=ge(n);let d;if(l.isCompleteForChild(u)){c=e.serverCache.getNode();const h=Lh(r,n,l.getNode(),c);h!=null?d=l.getNode().getImmediateChild(u).updateChild(p,h):d=l.getNode().getImmediateChild(u)}else d=ld(r,u,e.serverCache);d!=null?a=t.filter.updateChild(l.getNode(),u,d,p,s,i):a=l.getNode()}}return ti(e,a,l.isFullyInitialized()||re(n),t.filter.filtersNodes())}}function ml(t,e,n,r,s,i,l,a){const c=e.serverCache;let u;const p=l?t.filter:t.filter.getIndexedFilter();if(re(n))u=p.updateFullNode(c.getNode(),r,null);else if(p.filtersNodes()&&!c.isFiltered()){const _=c.getNode().updateChild(n,r);u=p.updateFullNode(c.getNode(),_,null)}else{const _=te(n);if(!c.isCompleteForPath(n)&&Bn(n)>1)return e;const w=ge(n),E=c.getNode().getImmediateChild(_).updateChild(w,r);_===".priority"?u=p.updatePriority(c.getNode(),E):u=p.updateChild(c.getNode(),_,E,w,fy,null)}const d=oy(e,u,c.isFullyInitialized()||re(n),p.filtersNodes()),h=new ad(s,d,i);return hy(t,d,n,s,h,a)}function Yc(t,e,n,r,s,i,l){const a=e.eventCache;let c,u;const p=new ad(s,e,i);if(re(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,l),c=ti(e,u,!0,t.filter.filtersNodes());else{const d=te(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),c=ti(e,u,a.isFullyInitialized(),a.isFiltered());else{const h=ge(n),_=a.getNode().getImmediateChild(d);let w;if(re(h))w=r;else{const P=p.getCompleteChild(d);P!=null?Kg(h)===".priority"&&P.getChild(Xg(h)).isEmpty()?w=P:w=P.updateChild(h,r):w=V.EMPTY_NODE}if(_.equals(w))c=e;else{const P=t.filter.updateChild(a.getNode(),d,w,h,p,l);c=ti(e,P,a.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function Wh(t,e){return t.eventCache.isCompleteForChild(e)}function T1(t,e,n,r,s,i,l){let a=e;return r.foreach((c,u)=>{const p=ze(n,c);Wh(e,te(p))&&(a=Yc(t,a,p,u,s,i,l))}),r.foreach((c,u)=>{const p=ze(n,c);Wh(e,te(p))||(a=Yc(t,a,p,u,s,i,l))}),a}function Mh(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function Kc(t,e,n,r,s,i,l,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,u;re(n)?u=r:u=new _e(null).setTree(n,r);const p=e.serverCache.getNode();return u.children.inorderTraversal((d,h)=>{if(p.hasChild(d)){const _=e.serverCache.getNode().getImmediateChild(d),w=Mh(t,_,h);c=ml(t,c,new fe(d),w,s,i,l,a)}}),u.children.inorderTraversal((d,h)=>{const _=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!p.hasChild(d)&&!_){const w=e.serverCache.getNode().getImmediateChild(d),P=Mh(t,w,h);c=ml(t,c,new fe(d),P,s,i,l,a)}}),c}function j1(t,e,n,r,s,i,l){if(pl(s,n)!=null)return e;const a=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(re(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return ml(t,e,n,c.getNode().getChild(n),s,i,a,l);if(re(n)){let u=new _e(null);return c.getNode().forEachChild(Qr,(p,d)=>{u=u.set(new fe(p),d)}),Kc(t,e,n,u,s,i,a,l)}else return e}else{let u=new _e(null);return r.foreach((p,d)=>{const h=ze(n,p);c.isCompleteForPath(h)&&(u=u.set(p,c.getNode().getChild(h)))}),Kc(t,e,n,u,s,i,a,l)}}function P1(t,e,n,r,s){const i=e.serverCache,l=oy(e,i.getNode(),i.isFullyInitialized()||re(n),i.isFiltered());return hy(t,l,n,r,fy,s)}function I1(t,e,n,r,s,i){let l;if(pl(r,n)!=null)return e;{const a=new ad(r,e,s),c=e.eventCache.getNode();let u;if(re(n)||te(n)===".priority"){let p;if(e.serverCache.isFullyInitialized())p=hl(r,hr(e));else{const d=e.serverCache.getNode();O(d instanceof V,"serverChildren would be complete if leaf node"),p=od(r,d)}p=p,u=t.filter.updateFullNode(c,p,i)}else{const p=te(n);let d=ld(r,p,e.serverCache);d==null&&e.serverCache.isCompleteForChild(p)&&(d=c.getImmediateChild(p)),d!=null?u=t.filter.updateChild(c,p,d,ge(n),a,i):e.eventCache.getNode().hasChild(p)?u=t.filter.updateChild(c,p,V.EMPTY_NODE,ge(n),a,i):u=c,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=hl(r,hr(e)),l.isLeafNode()&&(u=t.filter.updateFullNode(u,l,i)))}return l=e.serverCache.isFullyInitialized()||pl(r,ae())!=null,ti(e,u,l,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,s=new nd(r.getIndex()),i=qk(r);this.processor_=C1(i);const l=n.serverCache,a=n.eventCache,c=s.updateFullNode(V.EMPTY_NODE,l.getNode(),null),u=i.updateFullNode(V.EMPTY_NODE,a.getNode(),null),p=new $n(c,l.isFullyInitialized(),s.filtersNodes()),d=new $n(u,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=Ml(d,p),this.eventGenerator_=new s1(this.query_)}get query(){return this.query_}}function A1(t){return t.viewCache_.serverCache.getNode()}function D1(t){return fl(t.viewCache_)}function O1(t,e){const n=hr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!re(e)&&!n.getImmediateChild(te(e)).isEmpty())?n.getChild(e):null}function zh(t){return t.eventRegistrations_.length===0}function L1(t,e){t.eventRegistrations_.push(e)}function Fh(t,e,n){const r=[];if(n){O(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(i=>{const l=i.createCancelEvent(n,s);l&&r.push(l)})}if(e){let s=[];for(let i=0;i<t.eventRegistrations_.length;++i){const l=t.eventRegistrations_[i];if(!l.matches(e))s.push(l);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(i+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function Bh(t,e,n,r){e.type===Ft.MERGE&&e.source.queryId!==null&&(O(hr(t.viewCache_),"We should always have a full cache before handling merges"),O(fl(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,i=b1(t.processor_,s,e,n,r);return E1(t.processor_,i.viewCache),O(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,py(t,i.changes,i.viewCache.eventCache.getNode(),null)}function W1(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Pe,(i,l)=>{r.push(is(i,l))}),n.isFullyInitialized()&&r.push(ry(n.getNode())),py(t,r,n.getNode(),e)}function py(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return i1(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gl;class my{constructor(){this.views=new Map}}function M1(t){O(!gl,"__referenceConstructor has already been defined"),gl=t}function z1(){return O(gl,"Reference.ts has not been loaded"),gl}function F1(t){return t.views.size===0}function cd(t,e,n,r){const s=e.source.queryId;if(s!==null){const i=t.views.get(s);return O(i!=null,"SyncTree gave us an op for an invalid query."),Bh(i,e,n,r)}else{let i=[];for(const l of t.views.values())i=i.concat(Bh(l,e,n,r));return i}}function gy(t,e,n,r,s){const i=e._queryIdentifier,l=t.views.get(i);if(!l){let a=hl(n,s?r:null),c=!1;a?c=!0:r instanceof V?(a=od(n,r),c=!1):(a=V.EMPTY_NODE,c=!1);const u=Ml(new $n(a,c,!1),new $n(r,s,!1));return new R1(e,u)}return l}function B1(t,e,n,r,s,i){const l=gy(t,e,r,s,i);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,l),L1(l,n),W1(l,n)}function $1(t,e,n,r){const s=e._queryIdentifier,i=[];let l=[];const a=Un(t);if(s==="default")for(const[c,u]of t.views.entries())l=l.concat(Fh(u,n,r)),zh(u)&&(t.views.delete(c),u.query._queryParams.loadsAllData()||i.push(u.query));else{const c=t.views.get(s);c&&(l=l.concat(Fh(c,n,r)),zh(c)&&(t.views.delete(s),c.query._queryParams.loadsAllData()||i.push(c.query)))}return a&&!Un(t)&&i.push(new(z1())(e._repo,e._path)),{removed:i,events:l}}function yy(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Mn(t,e){let n=null;for(const r of t.views.values())n=n||O1(r,e);return n}function xy(t,e){if(e._queryParams.loadsAllData())return Fl(t);{const r=e._queryIdentifier;return t.views.get(r)}}function vy(t,e){return xy(t,e)!=null}function Un(t){return Fl(t)!=null}function Fl(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yl;function U1(t){O(!yl,"__referenceConstructor has already been defined"),yl=t}function G1(){return O(yl,"Reference.ts has not been loaded"),yl}let V1=1;class $h{constructor(e){this.listenProvider_=e,this.syncPointTree_=new _e(null),this.pendingWriteTree_=_1(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function _y(t,e,n,r,s){return c1(t.pendingWriteTree_,e,n,r,s),s?Ui(t,new fr(iy(),e,n)):[]}function rr(t,e,n=!1){const r=u1(t.pendingWriteTree_,e);if(d1(t.pendingWriteTree_,e)){let i=new _e(null);return r.snap!=null?i=i.set(ae(),!0):yt(r.children,l=>{i=i.set(new fe(l),!0)}),Ui(t,new dl(r.path,i,n))}else return[]}function $i(t,e,n){return Ui(t,new fr(sd(),e,n))}function H1(t,e,n){const r=_e.fromObject(n);return Ui(t,new ji(sd(),e,r))}function Y1(t,e){return Ui(t,new Ti(sd(),e))}function K1(t,e,n){const r=dd(t,n);if(r){const s=fd(r),i=s.path,l=s.queryId,a=it(i,e),c=new Ti(id(l),a);return hd(t,i,c)}else return[]}function xl(t,e,n,r,s=!1){const i=e._path,l=t.syncPointTree_.get(i);let a=[];if(l&&(e._queryIdentifier==="default"||vy(l,e))){const c=$1(l,e,n,r);F1(l)&&(t.syncPointTree_=t.syncPointTree_.remove(i));const u=c.removed;if(a=c.events,!s){const p=u.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(i,(h,_)=>Un(_));if(p&&!d){const h=t.syncPointTree_.subtree(i);if(!h.isEmpty()){const _=q1(h);for(let w=0;w<_.length;++w){const P=_[w],E=P.query,v=Cy(t,P);t.listenProvider_.startListening(ri(E),Pi(t,E),v.hashFn,v.onComplete)}}}!d&&u.length>0&&!r&&(p?t.listenProvider_.stopListening(ri(e),null):u.forEach(h=>{const _=t.queryToTagMap.get(Bl(h));t.listenProvider_.stopListening(ri(h),_)}))}J1(t,u)}return a}function wy(t,e,n,r){const s=dd(t,r);if(s!=null){const i=fd(s),l=i.path,a=i.queryId,c=it(l,e),u=new fr(id(a),c,n);return hd(t,l,u)}else return[]}function Q1(t,e,n,r){const s=dd(t,r);if(s){const i=fd(s),l=i.path,a=i.queryId,c=it(l,e),u=_e.fromObject(n),p=new ji(id(a),c,u);return hd(t,l,p)}else return[]}function Qc(t,e,n,r=!1){const s=e._path;let i=null,l=!1;t.syncPointTree_.foreachOnPath(s,(h,_)=>{const w=it(h,s);i=i||Mn(_,w),l=l||Un(_)});let a=t.syncPointTree_.get(s);a?(l=l||Un(a),i=i||Mn(a,ae())):(a=new my,t.syncPointTree_=t.syncPointTree_.set(s,a));let c;i!=null?c=!0:(c=!1,i=V.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((_,w)=>{const P=Mn(w,ae());P&&(i=i.updateImmediateChild(_,P))}));const u=vy(a,e);if(!u&&!e._queryParams.loadsAllData()){const h=Bl(e);O(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const _=Z1();t.queryToTagMap.set(h,_),t.tagToQueryMap.set(_,h)}const p=zl(t.pendingWriteTree_,s);let d=B1(a,e,n,p,i,c);if(!u&&!l&&!r){const h=xy(a,e);d=d.concat(eS(t,e,h))}return d}function ud(t,e,n){const s=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(l,a)=>{const c=it(l,e),u=Mn(a,c);if(u)return u});return cy(s,e,i,n,!0)}function X1(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(u,p)=>{const d=it(u,n);r=r||Mn(p,d)});let s=t.syncPointTree_.get(n);s?r=r||Mn(s,ae()):(s=new my,t.syncPointTree_=t.syncPointTree_.set(n,s));const i=r!=null,l=i?new $n(r,!0,!1):null,a=zl(t.pendingWriteTree_,e._path),c=gy(s,e,a,i?l.getNode():V.EMPTY_NODE,i);return D1(c)}function Ui(t,e){return ky(e,t.syncPointTree_,null,zl(t.pendingWriteTree_,ae()))}function ky(t,e,n,r){if(re(t.path))return Sy(t,e,n,r);{const s=e.get(ae());n==null&&s!=null&&(n=Mn(s,ae()));let i=[];const l=te(t.path),a=t.operationForChild(l),c=e.children.get(l);if(c&&a){const u=n?n.getImmediateChild(l):null,p=uy(r,l);i=i.concat(ky(a,c,u,p))}return s&&(i=i.concat(cd(s,t,r,n))),i}}function Sy(t,e,n,r){const s=e.get(ae());n==null&&s!=null&&(n=Mn(s,ae()));let i=[];return e.children.inorderTraversal((l,a)=>{const c=n?n.getImmediateChild(l):null,u=uy(r,l),p=t.operationForChild(l);p&&(i=i.concat(Sy(p,a,c,u)))}),s&&(i=i.concat(cd(s,t,r,n))),i}function Cy(t,e){const n=e.query,r=Pi(t,n);return{hashFn:()=>(A1(e)||V.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return r?K1(t,n._path,r):Y1(t,n._path);{const i=Xw(s,n);return xl(t,n,null,i)}}}}function Pi(t,e){const n=Bl(e);return t.queryToTagMap.get(n)}function Bl(t){return t._path.toString()+"$"+t._queryIdentifier}function dd(t,e){return t.tagToQueryMap.get(e)}function fd(t){const e=t.indexOf("$");return O(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new fe(t.substr(0,e))}}function hd(t,e,n){const r=t.syncPointTree_.get(e);O(r,"Missing sync point for query tag that we're tracking");const s=zl(t.pendingWriteTree_,e);return cd(r,n,s,null)}function q1(t){return t.fold((e,n,r)=>{if(n&&Un(n))return[Fl(n)];{let s=[];return n&&(s=yy(n)),yt(r,(i,l)=>{s=s.concat(l)}),s}})}function ri(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(G1())(t._repo,t._path):t}function J1(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const s=Bl(r),i=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(i)}}}function Z1(){return V1++}function eS(t,e,n){const r=e._path,s=Pi(t,e),i=Cy(t,n),l=t.listenProvider_.startListening(ri(e),s,i.hashFn,i.onComplete),a=t.syncPointTree_.subtree(r);if(s)O(!Un(a.value),"If we're adding a query, it shouldn't be shadowed");else{const c=a.fold((u,p,d)=>{if(!re(u)&&p&&Un(p))return[Fl(p).query];{let h=[];return p&&(h=h.concat(yy(p).map(_=>_.query))),yt(d,(_,w)=>{h=h.concat(w)}),h}});for(let u=0;u<c.length;++u){const p=c[u];t.listenProvider_.stopListening(ri(p),Pi(t,p))}}return l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new pd(n)}node(){return this.node_}}class md{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=ze(this.path_,e);return new md(this.syncTree_,n)}node(){return ud(this.syncTree_,this.path_)}}const tS=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Uh=function(t,e,n){if(!t||typeof t!="object")return t;if(O(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return nS(t[".sv"],e,n);if(typeof t[".sv"]=="object")return rS(t[".sv"],e);O(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},nS=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:O(!1,"Unexpected server value: "+t)}},rS=function(t,e,n){t.hasOwnProperty("increment")||O(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&O(!1,"Unexpected increment value: "+r);const s=e.node();if(O(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const l=s.getValue();return typeof l!="number"?r:l+r},sS=function(t,e,n,r){return gd(e,new md(n,t),r)},Ey=function(t,e,n){return gd(t,new pd(e),n)};function gd(t,e,n){const r=t.getPriority().val(),s=Uh(r,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const l=t,a=Uh(l.getValue(),e,n);return a!==l.getValue()||s!==l.getPriority().val()?new $e(a,Ve(s)):t}else{const l=t;return i=l,s!==l.getPriority().val()&&(i=i.updatePriority(new $e(s))),l.forEachChild(Pe,(a,c)=>{const u=gd(c,e.getImmediateChild(a),n);u!==c&&(i=i.updateImmediateChild(a,u))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function xd(t,e){let n=e instanceof fe?e:new fe(e),r=t,s=te(n);for(;s!==null;){const i=rs(r.node.children,s)||{children:{},childCount:0};r=new yd(s,r,i),n=ge(n),s=te(n)}return r}function hs(t){return t.node.value}function by(t,e){t.node.value=e,Xc(t)}function Ny(t){return t.node.childCount>0}function iS(t){return hs(t)===void 0&&!Ny(t)}function $l(t,e){yt(t.node.children,(n,r)=>{e(new yd(n,t,r))})}function Ty(t,e,n,r){n&&e(t),$l(t,s=>{Ty(s,e,!0)})}function oS(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Gi(t){return new fe(t.parent===null?t.name:Gi(t.parent)+"/"+t.name)}function Xc(t){t.parent!==null&&lS(t.parent,t.name,t)}function lS(t,e,n){const r=iS(n),s=pn(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,Xc(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,Xc(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS=/[\[\].#$\/\u0000-\u001F\u007F]/,cS=/[\[\].#$\u0000-\u001F\u007F]/,Oa=10*1024*1024,jy=function(t){return typeof t=="string"&&t.length!==0&&!aS.test(t)},Py=function(t){return typeof t=="string"&&t.length!==0&&!cS.test(t)},uS=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Py(t)},Iy=function(t,e,n,r){r&&e===void 0||vd(Yu(t,"value"),e,n)},vd=function(t,e,n){const r=n instanceof fe?new jk(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Jn(r));if(typeof e=="function")throw new Error(t+"contains a function "+Jn(r)+" with contents = "+e.toString());if(Ng(e))throw new Error(t+"contains "+e.toString()+" "+Jn(r));if(typeof e=="string"&&e.length>Oa/3&&Ll(e)>Oa)throw new Error(t+"contains a string greater than "+Oa+" utf8 bytes "+Jn(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(yt(e,(l,a)=>{if(l===".value")s=!0;else if(l!==".priority"&&l!==".sv"&&(i=!0,!jy(l)))throw new Error(t+" contains an invalid key ("+l+") "+Jn(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Pk(r,l),vd(t,a,r),Ik(r)}),s&&i)throw new Error(t+' contains ".value" child '+Jn(r)+" in addition to actual children.")}},Ry=function(t,e,n,r){if(!Py(n))throw new Error(Yu(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},dS=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Ry(t,e,n)},_d=function(t,e){if(te(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},fS=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!jy(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!uS(n))throw new Error(Yu(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function wd(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();n!==null&&!Zu(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&t.eventLists_.push(n)}function Ay(t,e,n){wd(t,n),Dy(t,r=>Zu(r,e))}function Jt(t,e,n){wd(t,n),Dy(t,r=>zt(r,e)||zt(e,r))}function Dy(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const i=s.path;e(i)?(pS(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function pS(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Zs&&et("event: "+n.toString()),fs(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="repo_interrupt",gS=25;class yS{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new hS,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ul(),this.transactionQueueTree_=new yd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function xS(t,e,n){if(t.stats_=qu(t.repoInfo_),t.forceRestClient_||ek())t.server_=new cl(t.repoInfo_,(r,s,i,l)=>{Gh(t,r,s,i,l)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Vh(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Me(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new on(t.repoInfo_,e,(r,s,i,l)=>{Gh(t,r,s,i,l)},r=>{Vh(t,r)},r=>{vS(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=ik(t.repoInfo_,()=>new r1(t.stats_,t.server_)),t.infoData_=new Jk,t.infoSyncTree_=new $h({startListening:(r,s,i,l)=>{let a=[];const c=t.infoData_.getNode(r._path);return c.isEmpty()||(a=$i(t.infoSyncTree_,r._path,c),setTimeout(()=>{l("ok")},0)),a},stopListening:()=>{}}),Sd(t,"connected",!1),t.serverSyncTree_=new $h({startListening:(r,s,i,l)=>(t.server_.listen(r,i,s,(a,c)=>{const u=l(a,c);Jt(t.eventQueue_,r._path,u)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function Oy(t){const n=t.infoData_.getNode(new fe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function kd(t){return tS({timestamp:Oy(t)})}function Gh(t,e,n,r,s){t.dataUpdateCount++;const i=new fe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let l=[];if(s)if(r){const c=rl(n,u=>Ve(u));l=Q1(t.serverSyncTree_,i,c,s)}else{const c=Ve(n);l=wy(t.serverSyncTree_,i,c,s)}else if(r){const c=rl(n,u=>Ve(u));l=H1(t.serverSyncTree_,i,c)}else{const c=Ve(n);l=$i(t.serverSyncTree_,i,c)}let a=i;l.length>0&&(a=Gl(t,i)),Jt(t.eventQueue_,a,l)}function Vh(t,e){Sd(t,"connected",e),e===!1&&kS(t)}function vS(t,e){yt(e,(n,r)=>{Sd(t,n,r)})}function Sd(t,e,n){const r=new fe("/.info/"+e),s=Ve(n);t.infoData_.updateSnapshot(r,s);const i=$i(t.infoSyncTree_,r,s);Jt(t.eventQueue_,r,i)}function Ly(t){return t.nextWriteId_++}function _S(t,e,n){const r=X1(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(s=>{const i=Ve(s).withIndex(e._queryParams.getIndex());Qc(t.serverSyncTree_,e,n,!0);let l;if(e._queryParams.loadsAllData())l=$i(t.serverSyncTree_,e._path,i);else{const a=Pi(t.serverSyncTree_,e);l=wy(t.serverSyncTree_,e._path,i,a)}return Jt(t.eventQueue_,e._path,l),xl(t.serverSyncTree_,e,n,null,!0),i},s=>(Ul(t,"get for query "+Me(e)+" failed: "+s),Promise.reject(new Error(s))))}function wS(t,e,n,r,s){Ul(t,"set",{path:e.toString(),value:n,priority:r});const i=kd(t),l=Ve(n,r),a=ud(t.serverSyncTree_,e),c=Ey(l,a,i),u=Ly(t),p=_y(t.serverSyncTree_,e,c,u,!0);wd(t.eventQueue_,p),t.server_.put(e.toString(),l.val(!0),(h,_)=>{const w=h==="ok";w||gt("set at "+e+" failed: "+h);const P=rr(t.serverSyncTree_,u,!w);Jt(t.eventQueue_,e,P),ES(t,s,h,_)});const d=By(t,e);Gl(t,d),Jt(t.eventQueue_,d,[])}function kS(t){Ul(t,"onDisconnectEvents");const e=kd(t),n=ul();Gc(t.onDisconnect_,ae(),(s,i)=>{const l=sS(s,i,t.serverSyncTree_,e);sy(n,s,l)});let r=[];Gc(n,ae(),(s,i)=>{r=r.concat($i(t.serverSyncTree_,s,i));const l=By(t,s);Gl(t,l)}),t.onDisconnect_=ul(),Jt(t.eventQueue_,ae(),r)}function SS(t,e,n){let r;te(e._path)===".info"?r=Qc(t.infoSyncTree_,e,n):r=Qc(t.serverSyncTree_,e,n),Ay(t.eventQueue_,e._path,r)}function Hh(t,e,n){let r;te(e._path)===".info"?r=xl(t.infoSyncTree_,e,n):r=xl(t.serverSyncTree_,e,n),Ay(t.eventQueue_,e._path,r)}function CS(t){t.persistentConnection_&&t.persistentConnection_.interrupt(mS)}function Ul(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),et(n,...e)}function ES(t,e,n,r){e&&fs(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let i=s;r&&(i+=": "+r);const l=new Error(i);l.code=s,e(l)}})}function Wy(t,e,n){return ud(t.serverSyncTree_,e,n)||V.EMPTY_NODE}function Cd(t,e=t.transactionQueueTree_){if(e||Vl(t,e),hs(e)){const n=zy(t,e);O(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&bS(t,Gi(e),n)}else Ny(e)&&$l(e,n=>{Cd(t,n)})}function bS(t,e,n){const r=n.map(u=>u.currentWriteId),s=Wy(t,e,r);let i=s;const l=s.hash();for(let u=0;u<n.length;u++){const p=n[u];O(p.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),p.status=1,p.retryCount++;const d=it(e,p.path);i=i.updateChild(d,p.currentOutputSnapshotRaw)}const a=i.val(!0),c=e;t.server_.put(c.toString(),a,u=>{Ul(t,"transaction put response",{path:c.toString(),status:u});let p=[];if(u==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,p=p.concat(rr(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Vl(t,xd(t.transactionQueueTree_,e)),Cd(t,t.transactionQueueTree_),Jt(t.eventQueue_,e,p);for(let h=0;h<d.length;h++)fs(d[h])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{gt("transaction at "+c.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}Gl(t,e)}},l)}function Gl(t,e){const n=My(t,e),r=Gi(n),s=zy(t,n);return NS(t,s,r),r}function NS(t,e,n){if(e.length===0)return;const r=[];let s=[];const l=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const c=e[a],u=it(n,c.path);let p=!1,d;if(O(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)p=!0,d=c.abortReason,s=s.concat(rr(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=gS)p=!0,d="maxretry",s=s.concat(rr(t.serverSyncTree_,c.currentWriteId,!0));else{const h=Wy(t,c.path,l);c.currentInputSnapshot=h;const _=e[a].update(h.val());if(_!==void 0){vd("transaction failed: Data returned ",_,c.path);let w=Ve(_);typeof _=="object"&&_!=null&&pn(_,".priority")||(w=w.updatePriority(h.getPriority()));const E=c.currentWriteId,v=kd(t),y=Ey(w,h,v);c.currentOutputSnapshotRaw=w,c.currentOutputSnapshotResolved=y,c.currentWriteId=Ly(t),l.splice(l.indexOf(E),1),s=s.concat(_y(t.serverSyncTree_,c.path,y,c.currentWriteId,c.applyLocally)),s=s.concat(rr(t.serverSyncTree_,E,!0))}else p=!0,d="nodata",s=s.concat(rr(t.serverSyncTree_,c.currentWriteId,!0))}Jt(t.eventQueue_,n,s),s=[],p&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}Vl(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)fs(r[a]);Cd(t,t.transactionQueueTree_)}function My(t,e){let n,r=t.transactionQueueTree_;for(n=te(e);n!==null&&hs(r)===void 0;)r=xd(r,n),e=ge(e),n=te(e);return r}function zy(t,e){const n=[];return Fy(t,e,n),n.sort((r,s)=>r.order-s.order),n}function Fy(t,e,n){const r=hs(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);$l(e,s=>{Fy(t,s,n)})}function Vl(t,e){const n=hs(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,by(e,n.length>0?n:void 0)}$l(e,r=>{Vl(t,r)})}function By(t,e){const n=Gi(My(t,e)),r=xd(t.transactionQueueTree_,e);return oS(r,s=>{La(t,s)}),La(t,r),Ty(r,s=>{La(t,s)}),n}function La(t,e){const n=hs(e);if(n){const r=[];let s=[],i=-1;for(let l=0;l<n.length;l++)n[l].status===3||(n[l].status===1?(O(i===l-1,"All SENT items should be at beginning of queue."),i=l,n[l].status=3,n[l].abortReason="set"):(O(n[l].status===0,"Unexpected transaction status in abort"),n[l].unwatcher(),s=s.concat(rr(t.serverSyncTree_,n[l].currentWriteId,!0)),n[l].onComplete&&r.push(n[l].onComplete.bind(null,new Error("set"),!1,null))));i===-1?by(e,void 0):n.length=i+1,Jt(t.eventQueue_,Gi(e),s);for(let l=0;l<r.length;l++)fs(r[l])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function jS(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):gt(`Invalid query segment '${n}' in query '${t}'`)}return e}const Yh=function(t,e){const n=PS(t),r=n.namespace;n.domain==="firebase.com"&&fn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&fn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Vw();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new zg(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new fe(n.pathString)}},PS=function(t){let e="",n="",r="",s="",i="",l=!0,a="https",c=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let p=t.indexOf("/");p===-1&&(p=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(p,d)),p<d&&(s=TS(t.substring(p,d)));const h=jS(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(l=a==="https"||a==="wss",c=parseInt(e.substring(u+1),10)):u=e.length;const _=e.slice(0,u);if(_.toLowerCase()==="localhost")n="localhost";else if(_.split(".").length<=2)n=_;else{const w=e.indexOf(".");r=e.substring(0,w).toLowerCase(),n=e.substring(w+1),i=r}"ns"in h&&(i=h.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:l,scheme:a,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",IS=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let s;const i=new Array(8);for(s=7;s>=0;s--)i[s]=Kh.charAt(n%64),n=Math.floor(n/64);O(n===0,"Cannot push at time == 0");let l=i.join("");if(r){for(s=11;s>=0&&e[s]===63;s--)e[s]=0;e[s]++}else for(s=0;s<12;s++)e[s]=Math.floor(Math.random()*64);for(s=0;s<12;s++)l+=Kh.charAt(e[s]);return O(l.length===20,"nextPushId: Length should be 20."),l}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,n,r,s){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Me(this.snapshot.exportVal())}}class AS{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return O(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return re(this._path)?null:Kg(this._path)}get ref(){return new mn(this._repo,this._path)}get _queryIdentifier(){const e=Ih(this._queryParams),n=Qu(e);return n==="{}"?"default":n}get _queryObject(){return Ih(this._queryParams)}isEqual(e){if(e=xr(e),!(e instanceof Ed))return!1;const n=this._repo===e._repo,r=Zu(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+Tk(this._path)}}class mn extends Ed{constructor(e,n){super(e,n,new rd,!1)}get parent(){const e=Xg(this._path);return e===null?null:new mn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Ii{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new fe(e),r=Ri(this.ref,e);return new Ii(this._node.getChild(n),r,Pe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,s)=>e(new Ii(s,Ri(this.ref,r),Pe)))}hasChild(e){const n=new fe(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Y(t,e){return t=xr(t),t._checkNotDeleted("ref"),e!==void 0?Ri(t._root,e):t._root}function Ri(t,e){return t=xr(t),te(t._path)===null?dS("child","path",e):Ry("child","path",e),new mn(t._repo,ze(t._path,e))}function Io(t,e){t=xr(t),_d("push",t._path),Iy("push",e,t._path,!0);const n=Oy(t._repo),r=IS(n),s=Ri(t,r),i=Ri(t,r);let l;return e!=null?l=ve(i,e).then(()=>i):l=Promise.resolve(i),s.then=l.then.bind(l),s.catch=l.then.bind(l,void 0),s}function Qh(t){return _d("remove",t._path),ve(t,null)}function ve(t,e){t=xr(t),_d("set",t._path),Iy("set",e,t._path,!1);const n=new Ol;return wS(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Ms(t){t=xr(t);const e=new $y(()=>{}),n=new Hl(e);return _S(t._repo,t,n).then(r=>new Ii(r,new mn(t._repo,t._path),t._queryParams.getIndex()))}class Hl{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new RS("value",this,new Ii(e.snapshotNode,new mn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new AS(this,e,n):null}matches(e){return e instanceof Hl?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function DS(t,e,n,r,s){let i;if(typeof r=="object"&&(i=void 0,s=r),typeof r=="function"&&(i=r),s&&s.onlyOnce){const c=n,u=(p,d)=>{Hh(t._repo,t,a),c(p,d)};u.userCallback=n.userCallback,u.context=n.context,n=u}const l=new $y(n,i||void 0),a=new Hl(l);return SS(t._repo,t,a),()=>Hh(t._repo,t,a)}function bt(t,e,n,r){return DS(t,"value",e,n,r)}M1(mn);U1(mn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS="FIREBASE_DATABASE_EMULATOR_HOST",qc={};let LS=!1;function WS(t,e,n,r){t.repoInfo_=new zg(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function MS(t,e,n,r,s){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||fn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),et("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let l=Yh(i,s),a=l.repoInfo,c;typeof process<"u"&&hh&&(c=hh[OS]),c?(i=`http://${c}?ns=${a.namespace}`,l=Yh(i,s),a=l.repoInfo):l.repoInfo.secure;const u=new nk(t.name,t.options,e);fS("Invalid Firebase Database URL",l),re(l.path)||fn("Database URL must point to the root of a Firebase Database (not including a child path).");const p=FS(a,t,u,new tk(t.name,n));return new BS(p,t)}function zS(t,e){const n=qc[e];(!n||n[t.key]!==t)&&fn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),CS(t),delete n[t.key]}function FS(t,e,n,r){let s=qc[e.name];s||(s={},qc[e.name]=s);let i=s[t.toURLString()];return i&&fn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new yS(t,LS,n,r),s[t.toURLString()]=i,i}class BS{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(xS(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new mn(this._repo,ae())),this._rootInternal}_delete(){return this._rootInternal!==null&&(zS(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&fn("Cannot call "+e+" on a deleted database.")}}function bd(t=Nw(),e){const n=Sw(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=f_("database");r&&$S(n,...r)}return n}function $S(t,e,n,r={}){t=xr(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&fn("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let i;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&fn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),i=new Po(Po.OWNER);else if(r.mockUserToken){const l=typeof r.mockUserToken=="string"?r.mockUserToken:h_(r.mockUserToken,t.app.options.projectId);i=new Po(l)}WS(s,e,n,i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(t){zw(bw),il(new ki("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return MS(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),Yr(ph,mh,t),Yr(ph,mh,"esm2017")}on.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};on.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};US();function GS({allPicks:t,actualScores:e,currentWeek:n,playerName:r,playerCode:s,isPoolManager:i,prizePool:l,officialWinners:a,onLogout:c}){const[u,p]=L.useState({"Week 1":!0,"Week 2":!1,"Week 3":!1,"Week 4":!1,"Grand Prizes":!1}),d=m=>{p(S=>({...S,[m]:!S[m]}))},h=()=>{p({"Week 1":!0,"Week 2":!0,"Week 3":!0,"Week 4":!0,"Grand Prizes":!0})},_=()=>{p({"Week 1":!1,"Week 2":!1,"Week 3":!1,"Week 4":!1,"Grand Prizes":!1})},w=(m,S,b)=>{if(!m||!S||!S[b])return 0;let j=0;const R=S[b];return Object.keys(m).forEach(U=>{const W=m[U],F=R[U];if(!W||!F)return;const ee=parseInt(W.team1),he=parseInt(W.team2),H=parseInt(F.team1),Xe=parseInt(F.team2);if(isNaN(ee)||isNaN(he)||isNaN(H)||isNaN(Xe))return;const ce=ee>he?"team1":he>ee?"team2":"tie",Ae=H>Xe?"team1":Xe>H?"team2":"tie";ce===Ae&&Ae!=="tie"&&j++}),j},P=(m,S,b)=>{if(!m||!S||!S[b])return null;let j=0,R=0;const U=S[b];return Object.keys(m).forEach(W=>{const F=m[W],ee=U[W];if(!F||!ee)return;const he=parseInt(F.team1),H=parseInt(F.team2),Xe=parseInt(ee.team1),ce=parseInt(ee.team2);isNaN(he)||isNaN(H)||isNaN(Xe)||isNaN(ce)||(j+=he+H,R+=Xe+ce)}),Math.abs(j-R)},E=(m,S,b)=>{let j=0,R=0;return b.forEach(U=>{const W=m[U];if(W){j+=w(W,S,U);const F=P(W,S,U);F!==null&&(R+=F)}}),{correctWinners:j,pointsDifference:R}},v={wildcard:"Week 1",divisional:"Week 2",conference:"Week 3",superbowl:"Week 4"},y=L.useMemo(()=>{const m={};return t.forEach(S=>{const b=S.playerName;m[b]||(m[b]={wildcard:null,divisional:null,conference:null,superbowl:null}),m[b][S.week]=S.predictions}),m},[t]),k=L.useMemo(()=>{const m=[],S=["wildcard","divisional","conference","superbowl"];S.slice(0,3).forEach((F,ee)=>{const he=v[F],H=Object.entries(y).map(([ce,Ae])=>({playerName:ce,score:w(Ae[F],e,F)})).filter(ce=>ce.score>0).sort((ce,Ae)=>Ae.score-ce.score);m.push({prizeNumber:ee*2+1,name:`${he} - Most Correct Predictions`,week:F,type:"correctWinners",leaders:H.slice(0,5)});const Xe=Object.entries(y).map(([ce,Ae])=>({playerName:ce,score:P(Ae[F],e,F)})).filter(ce=>ce.score!==null).sort((ce,Ae)=>ce.score-Ae.score);m.push({prizeNumber:ee*2+2,name:`${he} - Closest Total Points`,week:F,type:"pointsDifference",leaders:Xe.slice(0,5)})});const b="superbowl",j=Object.entries(y).map(([F,ee])=>({playerName:F,score:w(ee[b],e,b)})).filter(F=>F.score>0).sort((F,ee)=>ee.score-F.score);m.push({prizeNumber:7,name:"Week 4 - Most Correct Predictions",week:b,type:"correctWinners",leaders:j.slice(0,5)});const R=Object.entries(y).map(([F,ee])=>({playerName:F,score:P(ee[b],e,b)})).filter(F=>F.score!==null).sort((F,ee)=>F.score-ee.score);m.push({prizeNumber:8,name:"Week 4 - Closest Total Points",week:b,type:"pointsDifference",leaders:R.slice(0,5)});const U=Object.entries(y).map(([F,ee])=>{const he=E(ee,e,S);return{playerName:F,score:he.correctWinners}}).filter(F=>F.score>0).sort((F,ee)=>ee.score-F.score);m.push({prizeNumber:9,name:"Cumulative (All 4 Weeks) - Most Correct Predictions",week:"all",type:"correctWinners",leaders:U.slice(0,5)});const W=Object.entries(y).map(([F,ee])=>{const he=E(ee,e,S);return{playerName:F,score:he.pointsDifference}}).filter(F=>F.score!==null&&F.score>=0).sort((F,ee)=>F.score-ee.score);return m.push({prizeNumber:10,name:"Cumulative (All 4 Weeks) - Closest Total Points",week:"all",type:"pointsDifference",leaders:W.slice(0,5)}),m},[y,e]);return o.jsx("div",{className:"standings-page",children:o.jsxs("div",{className:"container",children:[o.jsxs("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"20px",borderRadius:"8px",marginBottom:"20px",color:"white"},children:[o.jsx("div",{style:{fontSize:"0.9rem",marginBottom:"5px"},children:" VERIFIED"}),o.jsxs("div",{style:{fontSize:"1.2rem",fontWeight:"bold",marginBottom:"5px"},children:["Viewing as: ",r]}),i&&o.jsx("div",{style:{fontSize:"0.9rem",marginBottom:"10px",color:"#ffd700",fontWeight:"600"},children:" POOL MANAGER"}),o.jsx("button",{onClick:()=>{console.log(" STANDINGS: Logout button clicked"),console.log(" STANDINGS: onLogout function:",c),console.log(" STANDINGS: Calling onLogout..."),c(),console.log(" STANDINGS: onLogout called")},style:{background:"white",color:"#764ba2",border:"none",padding:"10px 20px",borderRadius:"6px",fontSize:"0.95rem",fontWeight:"600",cursor:"pointer",marginTop:"10px",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:" Logout / Switch Entry"}),o.jsx("p",{style:{fontSize:"0.85rem",marginTop:"10px",opacity:.9,fontStyle:"italic"},children:" Playing with multiple entries? Logout to switch between your codes."})]}),o.jsx("h1",{className:"standings-title",children:" Standings & Prize Leaders"}),l&&l.totalFees>0&&o.jsxs("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"25px",borderRadius:"12px",marginBottom:"30px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[o.jsx("h2",{style:{margin:"0 0 20px 0",fontSize:"1.5rem"},children:" Prize Pool Information"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginBottom:"15px"},children:[o.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:"15px",borderRadius:"8px"},children:[o.jsx("div",{style:{fontSize:"0.9rem",opacity:.9,marginBottom:"5px"},children:"Total Pool Fees"}),o.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:["$",l.totalFees.toFixed(2)]})]}),o.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:"15px",borderRadius:"8px"},children:[o.jsx("div",{style:{fontSize:"0.9rem",opacity:.9,marginBottom:"5px"},children:"Number of Players"}),o.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:l.numberOfPlayers})]}),o.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:"15px",borderRadius:"8px"},children:[o.jsx("div",{style:{fontSize:"0.9rem",opacity:.9,marginBottom:"5px"},children:"Entry Fee"}),o.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:["$",l.entryFee]})]}),o.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:"15px",borderRadius:"8px"},children:[o.jsx("div",{style:{fontSize:"0.9rem",opacity:.9,marginBottom:"5px"},children:"Each Prize (10%)"}),o.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:["$",l.prizeValue.toFixed(2)]})]})]}),o.jsx("div",{style:{fontSize:"0.9rem",opacity:.9},children:" 10 prizes total  Equal 10% distribution  Ties split equally"})]}),a&&Object.keys(a).length>0&&o.jsxs("div",{style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"white",padding:"25px",borderRadius:"12px",marginBottom:"30px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[o.jsx("h2",{style:{margin:"0 0 5px 0",fontSize:"1.5rem"},children:" OFFICIAL PRIZE AWARDS"}),o.jsx("div",{style:{fontSize:"0.9rem",opacity:.9,marginBottom:"20px",fontStyle:"italic"},children:"Declared by Pool Manager"}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"20px"},children:Object.entries(a).sort((m,S)=>m[1].prizeNumber-S[1].prizeNumber).map(([m,S])=>o.jsxs("div",{style:{background:"rgba(255,255,255,0.95)",color:"#333",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 8px rgba(0,0,0,0.15)"},children:[o.jsxs("div",{style:{fontWeight:"bold",fontSize:"1.1rem",marginBottom:"8px",color:"#f5576c"},children:["Prize #",S.prizeNumber]}),o.jsx("div",{style:{fontSize:"0.9rem",color:"#666",marginBottom:"12px"},children:S.prizeName.replace(`Prize #${S.prizeNumber} - `,"")}),o.jsxs("div",{style:{fontSize:"0.85rem",fontWeight:"600",color:"#999",marginBottom:"12px"},children:["Prize Value: $",S.prizeValue.toFixed(2)]}),o.jsx("div",{style:{borderTop:"2px solid #f093fb",paddingTop:"12px"},children:S.winners.map((b,j)=>o.jsxs("div",{style:{padding:"8px 0",borderBottom:j<S.winners.length-1?"1px solid #eee":"none"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"10px"},children:[o.jsxs("div",{style:{fontWeight:"700",fontSize:"1rem",color:"#333"},children:[" ",b.playerName]}),o.jsxs("div",{style:{fontSize:"0.95rem",fontWeight:"600",color:"#f5576c"},children:["$",b.amount.toFixed(2)]})]}),o.jsxs("div",{style:{fontSize:"0.8rem",color:"#888",marginTop:"2px"},children:[b.percentage.toFixed(2),"% of prize"]})]},j))})]},m))})]}),o.jsx("div",{style:{background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",color:"white",padding:"20px 25px",borderRadius:"12px",marginBottom:"25px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",border:"2px solid rgba(255,255,255,0.3)"},children:o.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"15px"},children:[o.jsx("div",{style:{fontSize:"2rem",lineHeight:"1"},children:""}),o.jsxs("div",{style:{flex:1},children:[o.jsx("h3",{style:{margin:"0 0 10px 0",fontSize:"1.2rem",fontWeight:"700"},children:"How Prize Leaders Work"}),o.jsxs("div",{style:{fontSize:"0.95rem",lineHeight:"1.6",opacity:.95},children:[o.jsxs("p",{style:{margin:"0 0 10px 0"},children:["This page shows ",o.jsx("strong",{children:"current leaders"})," for each prize category based on games scored so far."]}),o.jsxs("p",{style:{margin:"0 0 10px 0"},children:[o.jsx("strong",{children:" These are NOT final results!"})," Rankings will change as more games are scored throughout the playoffs."]}),o.jsxs("p",{style:{margin:"0"},children:[o.jsx("strong",{children:"Official prize awards"})," will be declared by the Pool Manager after all games are completed and verified."]})]})]})]})}),o.jsxs("div",{style:{display:"flex",gap:"15px",justifyContent:"center",margin:"20px 0"},children:[o.jsx("button",{onClick:h,style:{padding:"10px 20px",background:"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.95rem",fontWeight:"600",transition:"all 0.2s"},onMouseOver:m=>m.target.style.background="#5568d3",onMouseOut:m=>m.target.style.background="#667eea",children:" Expand All Weeks"}),o.jsx("button",{onClick:_,style:{padding:"10px 20px",background:"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.95rem",fontWeight:"600",transition:"all 0.2s"},onMouseOver:m=>m.target.style.background="#5568d3",onMouseOut:m=>m.target.style.background="#667eea",children:" Collapse All Weeks"})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsxs("h3",{onClick:()=>d("Week 1"),style:{cursor:"pointer",userSelect:"none",display:"flex",alignItems:"center",gap:"10px",padding:"15px 20px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:"8px",transition:"all 0.3s",marginBottom:u["Week 1"]?"20px":"0",borderBottomLeftRadius:u["Week 1"]?"0":"8px",borderBottomRightRadius:u["Week 1"]?"0":"8px"},onMouseEnter:m=>{m.currentTarget.style.transform="translateX(5px)",m.currentTarget.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)"},onMouseLeave:m=>{m.currentTarget.style.transform="translateX(0)",m.currentTarget.style.boxShadow="none"},children:[o.jsx("span",{style:{fontSize:"1.2rem",transition:"transform 0.3s"},children:u["Week 1"]?"":""}),"Week 1 Prizes (Wild Card Round)"]}),u["Week 1"]&&o.jsx("div",{className:"prizes-grid",children:k.filter(m=>m.prizeNumber>=1&&m.prizeNumber<=2).map(m=>{const S=m.type==="correctWinners"?"Players who correctly predicted the most game outcomes (which team won)":"Players whose predicted total scores were closest to the actual combined scores";return o.jsxs("div",{className:"prize-card",children:[o.jsxs("div",{className:"prize-header",children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"5px"},children:[o.jsxs("div",{className:"prize-number",children:["PRIZE #",m.prizeNumber]}),o.jsx("div",{title:S,style:{cursor:"help",fontSize:"1.1rem",opacity:.7,transition:"opacity 0.2s"},onMouseOver:b=>b.target.style.opacity="1",onMouseOut:b=>b.target.style.opacity="0.7",children:""})]}),o.jsx("div",{className:"prize-name",children:m.name}),o.jsx("div",{style:{fontSize:"0.85rem",color:"#666",fontWeight:"600",marginTop:"5px",fontStyle:"italic"},children:"Current Leaders"})]}),o.jsx("div",{className:"prize-leaders",children:m.leaders.length===0?o.jsx("div",{className:"no-data",children:"No data available yet"}):o.jsxs("table",{className:"leaders-table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Rank"}),o.jsx("th",{children:"Player"}),o.jsx("th",{children:m.type==="correctWinners"?"Correct":"Difference"})]})}),o.jsx("tbody",{children:m.leaders.map((b,j)=>{const R=j>0&&b.score===m.leaders[j-1].score,U=R?"=":j+1,W=j===0&&!R;return o.jsxs("tr",{className:W?"leader-first":"",children:[o.jsxs("td",{className:"rank",children:[U,W&&o.jsx("span",{style:{marginLeft:"5px",fontSize:"0.8em"},children:""})]}),o.jsxs("td",{className:"player-name",children:[b.playerName,W&&o.jsx("span",{style:{marginLeft:"8px",fontSize:"0.7rem",background:"#4facfe",color:"white",padding:"2px 6px",borderRadius:"4px",fontWeight:"600"},children:"LEADING"})]}),o.jsx("td",{className:"score",children:m.type==="correctWinners"?`${b.score} correct`:`${b.score} pts`})]},j)})})]})})]},m.prizeNumber)})})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsxs("h3",{onClick:()=>d("Week 2"),style:{cursor:"pointer",userSelect:"none",display:"flex",alignItems:"center",gap:"10px",padding:"15px 20px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:"8px",transition:"all 0.3s",marginBottom:u["Week 2"]?"20px":"0",borderBottomLeftRadius:u["Week 2"]?"0":"8px",borderBottomRightRadius:u["Week 2"]?"0":"8px"},onMouseEnter:m=>{m.currentTarget.style.transform="translateX(5px)",m.currentTarget.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)"},onMouseLeave:m=>{m.currentTarget.style.transform="translateX(0)",m.currentTarget.style.boxShadow="none"},children:[o.jsx("span",{style:{fontSize:"1.2rem",transition:"transform 0.3s"},children:u["Week 2"]?"":""}),"Week 2 Prizes (Divisional Round)"]}),u["Week 2"]&&o.jsx("div",{className:"prizes-grid",children:k.filter(m=>m.prizeNumber>=3&&m.prizeNumber<=4).map(m=>{const S=m.type==="correctWinners"?"Players who correctly predicted the most game outcomes (which team won)":"Players whose predicted total scores were closest to the actual combined scores";return o.jsxs("div",{className:"prize-card",children:[o.jsxs("div",{className:"prize-header",children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"5px"},children:[o.jsxs("div",{className:"prize-number",children:["PRIZE #",m.prizeNumber]}),o.jsx("div",{title:S,style:{cursor:"help",fontSize:"1.1rem",opacity:.7,transition:"opacity 0.2s"},onMouseOver:b=>b.target.style.opacity="1",onMouseOut:b=>b.target.style.opacity="0.7",children:""})]}),o.jsx("div",{className:"prize-name",children:m.name}),o.jsx("div",{style:{fontSize:"0.85rem",color:"#666",fontWeight:"600",marginTop:"5px",fontStyle:"italic"},children:"Current Leaders"})]}),o.jsx("div",{className:"prize-leaders",children:m.leaders.length===0?o.jsx("div",{className:"no-data",children:"No data available yet"}):o.jsxs("table",{className:"leaders-table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Rank"}),o.jsx("th",{children:"Player"}),o.jsx("th",{children:m.type==="correctWinners"?"Correct":"Difference"})]})}),o.jsx("tbody",{children:m.leaders.map((b,j)=>{const R=j>0&&b.score===m.leaders[j-1].score,U=R?"=":j+1,W=j===0&&!R;return o.jsxs("tr",{className:W?"leader-first":"",children:[o.jsxs("td",{className:"rank",children:[U,W&&o.jsx("span",{style:{marginLeft:"5px",fontSize:"0.8em"},children:""})]}),o.jsxs("td",{className:"player-name",children:[b.playerName,W&&o.jsx("span",{style:{marginLeft:"8px",fontSize:"0.7rem",background:"#4facfe",color:"white",padding:"2px 6px",borderRadius:"4px",fontWeight:"600"},children:"LEADING"})]}),o.jsx("td",{className:"score",children:m.type==="correctWinners"?`${b.score} correct`:`${b.score} pts`})]},j)})})]})})]},m.prizeNumber)})})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsxs("h3",{onClick:()=>d("Week 3"),style:{cursor:"pointer",userSelect:"none",display:"flex",alignItems:"center",gap:"10px",padding:"15px 20px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:"8px",transition:"all 0.3s",marginBottom:u["Week 3"]?"20px":"0",borderBottomLeftRadius:u["Week 3"]?"0":"8px",borderBottomRightRadius:u["Week 3"]?"0":"8px"},onMouseEnter:m=>{m.currentTarget.style.transform="translateX(5px)",m.currentTarget.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)"},onMouseLeave:m=>{m.currentTarget.style.transform="translateX(0)",m.currentTarget.style.boxShadow="none"},children:[o.jsx("span",{style:{fontSize:"1.2rem",transition:"transform 0.3s"},children:u["Week 3"]?"":""}),"Week 3 Prizes (Conference Championships)"]}),u["Week 3"]&&o.jsx("div",{className:"prizes-grid",children:k.filter(m=>m.prizeNumber>=5&&m.prizeNumber<=6).map(m=>{const S=m.type==="correctWinners"?"Players who correctly predicted the most game outcomes (which team won)":"Players whose predicted total scores were closest to the actual combined scores";return o.jsxs("div",{className:"prize-card",children:[o.jsxs("div",{className:"prize-header",children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"5px"},children:[o.jsxs("div",{className:"prize-number",children:["PRIZE #",m.prizeNumber]}),o.jsx("div",{title:S,style:{cursor:"help",fontSize:"1.1rem",opacity:.7,transition:"opacity 0.2s"},onMouseOver:b=>b.target.style.opacity="1",onMouseOut:b=>b.target.style.opacity="0.7",children:""})]}),o.jsx("div",{className:"prize-name",children:m.name}),o.jsx("div",{style:{fontSize:"0.85rem",color:"#666",fontWeight:"600",marginTop:"5px",fontStyle:"italic"},children:"Current Leaders"})]}),o.jsx("div",{className:"prize-leaders",children:m.leaders.length===0?o.jsx("div",{className:"no-data",children:"No data available yet"}):o.jsxs("table",{className:"leaders-table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Rank"}),o.jsx("th",{children:"Player"}),o.jsx("th",{children:m.type==="correctWinners"?"Correct":"Difference"})]})}),o.jsx("tbody",{children:m.leaders.map((b,j)=>{const R=j>0&&b.score===m.leaders[j-1].score,U=R?"=":j+1,W=j===0&&!R;return o.jsxs("tr",{className:W?"leader-first":"",children:[o.jsxs("td",{className:"rank",children:[U,W&&o.jsx("span",{style:{marginLeft:"5px",fontSize:"0.8em"},children:""})]}),o.jsxs("td",{className:"player-name",children:[b.playerName,W&&o.jsx("span",{style:{marginLeft:"8px",fontSize:"0.7rem",background:"#4facfe",color:"white",padding:"2px 6px",borderRadius:"4px",fontWeight:"600"},children:"LEADING"})]}),o.jsx("td",{className:"score",children:m.type==="correctWinners"?`${b.score} correct`:`${b.score} pts`})]},j)})})]})})]},m.prizeNumber)})})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsxs("h3",{onClick:()=>d("Week 4"),style:{cursor:"pointer",userSelect:"none",display:"flex",alignItems:"center",gap:"10px",padding:"15px 20px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:"8px",transition:"all 0.3s",marginBottom:u["Week 4"]?"20px":"0",borderBottomLeftRadius:u["Week 4"]?"0":"8px",borderBottomRightRadius:u["Week 4"]?"0":"8px"},onMouseEnter:m=>{m.currentTarget.style.transform="translateX(5px)",m.currentTarget.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)"},onMouseLeave:m=>{m.currentTarget.style.transform="translateX(0)",m.currentTarget.style.boxShadow="none"},children:[o.jsx("span",{style:{fontSize:"1.2rem",transition:"transform 0.3s"},children:u["Week 4"]?"":""}),"Week 4 Prizes (Super Bowl)"]}),u["Week 4"]&&o.jsx("div",{className:"prizes-grid",children:k.filter(m=>m.prizeNumber>=7&&m.prizeNumber<=8).map(m=>{const S=m.type==="correctWinners"?"Players who correctly predicted the most game outcomes (which team won)":"Players whose predicted total scores were closest to the actual combined scores";return o.jsxs("div",{className:"prize-card",children:[o.jsxs("div",{className:"prize-header",children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"5px"},children:[o.jsxs("div",{className:"prize-number",children:["PRIZE #",m.prizeNumber]}),o.jsx("div",{title:S,style:{cursor:"help",fontSize:"1.1rem",opacity:.7,transition:"opacity 0.2s"},onMouseOver:b=>b.target.style.opacity="1",onMouseOut:b=>b.target.style.opacity="0.7",children:""})]}),o.jsx("div",{className:"prize-name",children:m.name}),o.jsx("div",{style:{fontSize:"0.85rem",color:"#666",fontWeight:"600",marginTop:"5px",fontStyle:"italic"},children:"Current Leaders"})]}),o.jsx("div",{className:"prize-leaders",children:m.leaders.length===0?o.jsx("div",{className:"no-data",children:"No data available yet"}):o.jsxs("table",{className:"leaders-table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Rank"}),o.jsx("th",{children:"Player"}),o.jsx("th",{children:m.type==="correctWinners"?"Correct":"Difference"})]})}),o.jsx("tbody",{children:m.leaders.map((b,j)=>{const R=j>0&&b.score===m.leaders[j-1].score,U=R?"=":j+1,W=j===0&&!R;return o.jsxs("tr",{className:W?"leader-first":"",children:[o.jsxs("td",{className:"rank",children:[U,W&&o.jsx("span",{style:{marginLeft:"5px",fontSize:"0.8em"},children:""})]}),o.jsxs("td",{className:"player-name",children:[b.playerName,W&&o.jsx("span",{style:{marginLeft:"8px",fontSize:"0.7rem",background:"#4facfe",color:"white",padding:"2px 6px",borderRadius:"4px",fontWeight:"600"},children:"LEADING"})]}),o.jsx("td",{className:"score",children:m.type==="correctWinners"?`${b.score} correct`:`${b.score} pts`})]},j)})})]})})]},m.prizeNumber)})})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsxs("h3",{onClick:()=>d("Grand Prizes"),style:{cursor:"pointer",userSelect:"none",display:"flex",alignItems:"center",gap:"10px",padding:"15px 20px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:"8px",transition:"all 0.3s",marginBottom:u["Grand Prizes"]?"20px":"0",borderBottomLeftRadius:u["Grand Prizes"]?"0":"8px",borderBottomRightRadius:u["Grand Prizes"]?"0":"8px"},onMouseEnter:m=>{m.currentTarget.style.transform="translateX(5px)",m.currentTarget.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)"},onMouseLeave:m=>{m.currentTarget.style.transform="translateX(0)",m.currentTarget.style.boxShadow="none"},children:[o.jsx("span",{style:{fontSize:"1.2rem",transition:"transform 0.3s"},children:u["Grand Prizes"]?"":""}),"Grand Prizes (All Weeks Combined)"]}),u["Grand Prizes"]&&o.jsx("div",{className:"prizes-grid",children:k.filter(m=>m.prizeNumber>=9&&m.prizeNumber<=10).map(m=>{const S=m.type==="correctWinners"?"Players who correctly predicted the most game outcomes (which team won)":"Players whose predicted total scores were closest to the actual combined scores";return o.jsxs("div",{className:"prize-card",children:[o.jsxs("div",{className:"prize-header",children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"5px"},children:[o.jsxs("div",{className:"prize-number",children:["PRIZE #",m.prizeNumber]}),o.jsx("div",{title:S,style:{cursor:"help",fontSize:"1.1rem",opacity:.7,transition:"opacity 0.2s"},onMouseOver:b=>b.target.style.opacity="1",onMouseOut:b=>b.target.style.opacity="0.7",children:""})]}),o.jsx("div",{className:"prize-name",children:m.name}),o.jsx("div",{style:{fontSize:"0.85rem",color:"#666",fontWeight:"600",marginTop:"5px",fontStyle:"italic"},children:"Current Leaders"})]}),o.jsx("div",{className:"prize-leaders",children:m.leaders.length===0?o.jsx("div",{className:"no-data",children:"No data available yet"}):o.jsxs("table",{className:"leaders-table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Rank"}),o.jsx("th",{children:"Player"}),o.jsx("th",{children:m.type==="correctWinners"?"Correct":"Difference"})]})}),o.jsx("tbody",{children:m.leaders.map((b,j)=>{const R=j>0&&b.score===m.leaders[j-1].score,U=R?"=":j+1,W=j===0&&!R;return o.jsxs("tr",{className:W?"leader-first":"",children:[o.jsxs("td",{className:"rank",children:[U,W&&o.jsx("span",{style:{marginLeft:"5px",fontSize:"0.8em"},children:""})]}),o.jsxs("td",{className:"player-name",children:[b.playerName,W&&o.jsx("span",{style:{marginLeft:"8px",fontSize:"0.7rem",background:"#4facfe",color:"white",padding:"2px 6px",borderRadius:"4px",fontWeight:"600"},children:"LEADING"})]}),o.jsx("td",{className:"score",children:m.type==="correctWinners"?`${b.score} correct`:`${b.score} pts`})]},j)})})]})})]},m.prizeNumber)})})]}),o.jsx("div",{className:"standings-note",children:o.jsxs("p",{children:[o.jsx("strong",{children:"Note:"}),' Tied players are shown with "=" rank. Pool Manager will resolve ties and declare official prize awards after all games are completed.']})})]})})}function VS({currentWeek:t,games:e,actualScores:n,teamCodes:r,onScoresFetched:s,onGameLockToggle:i,gameLocks:l,espnAutoRefresh:a}){const[c,u]=L.useState(!1),[p,d]=L.useState(null),[h,_]=L.useState(null),[w,P]=L.useState(!1),[E,v]=L.useState(!1),y=async()=>{if(!(c||E)){u(!0),_({type:"loading",message:"Fetching scores from ESPN..."});try{await s(),d(new Date),_({type:"success",message:"Scores updated successfully!"}),setTimeout(()=>_(null),3e3)}catch(j){_({type:"error",message:`Error: ${j.message}`})}finally{u(!1)}}},k=()=>{w?(a.stop(),P(!1),_({type:"info",message:"Auto-refresh stopped"})):(a.start(),P(!0),_({type:"info",message:"Auto-refresh started (every 5 minutes)"})),setTimeout(()=>_(null),3e3)},m=()=>{E?(v(!1),_({type:"info",message:"API resumed - fetching enabled"})):(v(!0),w&&(a.stop(),P(!1)),_({type:"warning",message:"API paused - all fetching disabled"})),setTimeout(()=>_(null),3e3)},S=j=>{var R;return((R=l==null?void 0:l[t])==null?void 0:R[j])===!0},b=j=>{var R,U;return((U=(R=n==null?void 0:n[t])==null?void 0:R[j])==null?void 0:U.source)==="espn"};return o.jsxs("div",{className:"espn-controls",children:[o.jsxs("div",{className:"espn-header",children:[o.jsx("h3",{children:" ESPN API Controls"}),o.jsxs("div",{className:"espn-status-badges",children:[E&&o.jsx("span",{className:"status-badge paused",children:" API PAUSED"}),w&&!E&&o.jsx("span",{className:"status-badge active",children:" AUTO-REFRESH ON"}),p&&o.jsxs("span",{className:"status-badge info",children:["Last fetch: ",p.toLocaleTimeString()]})]})]}),o.jsxs("div",{className:"espn-global-controls",children:[o.jsx("button",{className:"espn-btn fetch-now",onClick:y,disabled:c||E,children:c?" Fetching...":" Fetch Scores Now"}),o.jsx("button",{className:`espn-btn auto-refresh ${w?"active":""}`,onClick:k,disabled:E,children:w?" Stop Auto-Refresh":" Start Auto-Refresh (5 min)"}),o.jsx("button",{className:`espn-btn pause-api ${E?"paused":""}`,onClick:m,children:E?" Resume API":" Pause API"})]}),h&&o.jsx("div",{className:`fetch-status ${h.type}`,children:h.message}),o.jsxs("div",{className:"game-overrides",children:[o.jsx("h4",{children:"Game Override Controls"}),o.jsxs("p",{className:"override-info",children:[" Lock = Manual entry only (ignore API)",o.jsx("br",{})," Unlock = Auto-update from ESPN API"]}),o.jsx("div",{className:"game-override-list",children:e.map(j=>{var he,H,Xe,ce,Ae;const R=S(j.id),U=b(j.id),W=(he=n==null?void 0:n[t])==null?void 0:he[j.id],F=((Xe=(H=r==null?void 0:r[t])==null?void 0:H[j.id])==null?void 0:Xe.team1)||j.team1,ee=((Ae=(ce=r==null?void 0:r[t])==null?void 0:ce[j.id])==null?void 0:Ae.team2)||j.team2;return o.jsxs("div",{className:"game-override-item",children:[o.jsxs("div",{className:"game-info",children:[o.jsxs("span",{className:"game-matchup",children:[F," vs ",ee]}),W&&o.jsxs("span",{className:"game-scores",children:[n[t][j.id].team1," - ",n[t][j.id].team2]})]}),o.jsxs("div",{className:"game-status-badges",children:[U&&!R&&o.jsx("span",{className:"game-badge api",children:" From API"}),R&&o.jsx("span",{className:"game-badge manual",children:" Manual Entry"}),!W&&o.jsx("span",{className:"game-badge no-score",children:"No Score"})]}),o.jsx("button",{className:`lock-btn ${R?"locked":"unlocked"}`,onClick:()=>i(j.id),title:R?"Unlock to allow API updates":"Lock to prevent API updates",children:R?" Locked":" Unlocked"})]},j.id)})})]}),o.jsxs("div",{className:"espn-help",children:[o.jsx("h4",{children:" How It Works:"}),o.jsxs("ul",{children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Fetch Now:"})," Manually fetch latest scores from ESPN"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Auto-Refresh:"})," Automatically fetch every 5 minutes"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Pause API:"})," Stop all API fetching (use manual entry only)"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Lock Game:"})," Prevent API from overwriting your manual score for that game"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Unlock Game:"})," Allow API to update score automatically"]})]}),o.jsxs("p",{className:"help-note",children:[o.jsx("strong",{children:"Tip:"})," Lock a game if you need to manually correct a score that ESPN has wrong."]})]})]})}const HS="https://site.api.espn.com/apis/site/v2/sports/football/nfl";async function YS(){try{const t=await fetch(`${HS}/scoreboard`);if(!t.ok)throw new Error(`ESPN API error: ${t.status}`);const e=await t.json();return KS(e)}catch(t){return console.error("Error fetching ESPN scores:",t),{success:!1,error:t.message,games:[]}}}function KS(t){return!t.events||t.events.length===0?{success:!0,games:[],message:"No games currently available"}:{success:!0,games:t.events.map(n=>{const r=n.competitions[0],s=r.status,i=r.competitors,l=i.find(w=>w.homeAway==="away"),a=i.find(w=>w.homeAway==="home"),c=l.team.abbreviation,u=a.team.abbreviation,p=parseInt(l.score)||0,d=parseInt(a.score)||0,h=QS(s);return{espnGameId:n.id,awayTeam:{abbreviation:c,fullName:l.team.displayName,score:p},homeTeam:{abbreviation:u,fullName:a.team.displayName,score:d},status:h.status,statusText:h.text,period:h.period,clock:h.clock,isFinal:h.isFinal,isLive:h.isLive,isScheduled:h.isScheduled,startTime:n.date,lastUpdated:new Date().toISOString()}}),fetchedAt:new Date().toISOString()}}function QS(t){const e=t.type.name,n=t.period,r=t.displayClock,s=t.type.detail;let i="scheduled",l=s,a=!1,c=!1,u=!1;return e==="STATUS_SCHEDULED"?(i="scheduled",l="Scheduled",u=!0):e==="STATUS_IN_PROGRESS"?(i="live",a=!0,n===1?l=`1st Quarter - ${r}`:n===2?l=`2nd Quarter - ${r}`:n===3?l=`3rd Quarter - ${r}`:n===4?l=`4th Quarter - ${r}`:n>4&&(l=`OT ${n-4} - ${r}`)):e==="STATUS_HALFTIME"?(i="halftime",l="Halftime",a=!0):e==="STATUS_END_PERIOD"?(i="live",l=`End of ${n===1?"1st":n===2?"2nd":n===3?"3rd":"4th"} Quarter`,a=!0):(e==="STATUS_FINAL"||e==="STATUS_FINAL_OVERTIME")&&(i="final",c=!0,e==="STATUS_FINAL_OVERTIME"?l=n>4?`Final/OT${n-4}`:"Final/OT":l="Final"),{status:i,text:l,period:n,clock:r||"",isLive:a,isFinal:c,isScheduled:u}}function XS(t,e,n,r){if(!r||!r[n])return null;const s=e[n].games,i=r[n];for(const l of s){const a=i[l.id];if(!a)continue;const c=a.team1===t.awayTeam.abbreviation||a.team1===t.homeTeam.abbreviation,u=a.team2===t.awayTeam.abbreviation||a.team2===t.homeTeam.abbreviation;if(c&&u){const p=a.team1===t.awayTeam.abbreviation;return{gameId:l.id,team1Score:p?t.awayTeam.score:t.homeTeam.score,team2Score:p?t.homeTeam.score:t.awayTeam.score,status:t.status,statusText:t.statusText,period:t.period,clock:t.clock,isFinal:t.isFinal,isLive:t.isLive,espnGameId:t.espnGameId}}}return null}class qS{constructor(e,n=5){this.onFetch=e,this.intervalMinutes=n,this.intervalId=null,this.isRunning=!1}start(){if(this.isRunning){console.log("Auto-refresh already running");return}console.log(`Starting auto-refresh every ${this.intervalMinutes} minutes`),this.isRunning=!0,this.onFetch(),this.intervalId=setInterval(()=>{console.log("Auto-fetching ESPN scores..."),this.onFetch()},this.intervalMinutes*60*1e3)}stop(){if(!this.isRunning){console.log("Auto-refresh not running");return}console.log("Stopping auto-refresh"),clearInterval(this.intervalId),this.intervalId=null,this.isRunning=!1}isActive(){return this.isRunning}setInterval(e){this.intervalMinutes=e,this.isRunning&&(this.stop(),this.start())}}const JS={wildcard:{name:"Week 1 - Wildcard Round",shortName:"Wildcard",deadline:"Fri Jan 9, 11:59 PM PST",number:1},divisional:{name:"Week 2 - Divisional Round",shortName:"Divisional",deadline:"Fri Jan 16, 11:59 PM PST",number:2},conference:{name:"Week 3 - Conference Championships",shortName:"Conference",deadline:"Fri Jan 23, 11:59 PM PST",number:3},superbowl:{name:"Week 4 - Super Bowl LIX",shortName:"Super Bowl",deadline:"Fri Feb 6, 11:59 PM PST",number:4}};function ZS(t,e,n,r){return n?{icon:"",text:"LOCKED",color:"gray",className:"locked"}:r?{icon:"",text:"EDITING NOW",color:"purple",className:"editing"}:e&&e.complete?{icon:"",text:"ALL PICKS SAVED",color:"green",className:"saved"}:{icon:"",text:"READY TO PICK",color:"blue",className:"ready"}}function eC({currentWeek:t,onWeekChange:e,weekPicks:n={},weekLockStatus:r={},hasUnsavedChanges:s=!1}){const i=l=>{l!==t&&e(l)};return o.jsxs("div",{className:"week-selector-container",children:[o.jsxs("div",{className:"week-selector-header",children:[o.jsx("h2",{children:" SELECT WEEK TO MAKE/EDIT YOUR PICKS"}),s&&o.jsx("div",{className:"unsaved-indicator",children:" You have unsaved changes"})]}),o.jsx("div",{className:"week-cards",children:Object.entries(JS).map(([l,a])=>{var h;const c=l===t,u=((h=r[l])==null?void 0:h.locked)||!1,p=n[l],d=ZS(l,p,u,c);return o.jsxs("div",{className:`week-card ${d.className} ${c?"current":""}`,onClick:()=>i(l),role:"button",tabIndex:0,onKeyPress:_=>{(_.key==="Enter"||_.key===" ")&&i(l)},children:[o.jsxs("div",{className:"week-card-header",children:[o.jsxs("div",{className:"week-number",children:["WEEK ",a.number]}),c&&o.jsx("div",{className:"current-indicator",children:" YOU ARE HERE "})]}),o.jsxs("div",{className:"week-card-title",children:[l==="superbowl"?"":""," ",a.shortName]}),o.jsxs("div",{className:"week-card-deadline",children:[l==="superbowl"?"Game Day: ":"Deadline: ",a.deadline]}),o.jsxs("div",{className:`week-card-status status-${d.className}`,children:[o.jsx("span",{className:"status-icon",children:d.icon}),o.jsx("span",{className:"status-text",children:d.text})]}),u&&o.jsx("div",{className:"locked-overlay",children:o.jsx("div",{className:"locked-message",children:" Cannot Edit"})})]},l)})}),o.jsx("div",{className:"week-selector-footer",children:o.jsx("p",{className:"info-text",children:" You can make picks for all weeks in advance, even if teams aren't known yet."})})]})}function tC({currentWeek:t,onDiscard:e,onSaveAndSwitch:n,onCancel:r}){const s={wildcard:"Week 1",divisional:"Week 2",conference:"Week 3",superbowl:"Week 4"};return o.jsx("div",{className:"popup-overlay",children:o.jsxs("div",{className:"popup-container warning-popup",children:[o.jsxs("div",{className:"popup-header warning",children:[o.jsx("span",{className:"popup-icon",children:""}),o.jsx("h3",{children:"UNSAVED CHANGES"})]}),o.jsxs("div",{className:"popup-body",children:[o.jsxs("p",{children:["You have unsaved changes for ",s[t],"."]}),o.jsx("p",{children:"What would you like to do?"})]}),o.jsxs("div",{className:"popup-buttons",children:[o.jsx("button",{className:"popup-btn btn-secondary",onClick:e,children:"Discard Changes"}),o.jsx("button",{className:"popup-btn btn-primary",onClick:n,children:"Save & Switch"}),o.jsx("button",{className:"popup-btn btn-neutral",onClick:r,children:"Cancel"})]})]})})}function nC({onKeepEditing:t,onDiscard:e}){return o.jsx("div",{className:"popup-overlay",children:o.jsxs("div",{className:"popup-container warning-popup",children:[o.jsxs("div",{className:"popup-header warning",children:[o.jsx("span",{className:"popup-icon",children:""}),o.jsx("h3",{children:"DISCARD CHANGES?"})]}),o.jsxs("div",{className:"popup-body",children:[o.jsx("p",{children:"Your changes will not be saved."}),o.jsx("p",{children:"Your previously saved picks will remain unchanged in the system."})]}),o.jsxs("div",{className:"popup-buttons",children:[o.jsx("button",{className:"popup-btn btn-primary",onClick:t,children:"Keep Editing"}),o.jsx("button",{className:"popup-btn btn-danger",onClick:e,children:"Discard Changes"})]})]})})}function rC({missingGames:t,totalGames:e,onClose:n}){return o.jsx("div",{className:"popup-overlay",children:o.jsxs("div",{className:"popup-container error-popup",children:[o.jsxs("div",{className:"popup-header error",children:[o.jsx("span",{className:"popup-icon",children:""}),o.jsx("h3",{children:"CANNOT SAVE - INCOMPLETE ENTRY"})]}),o.jsxs("div",{className:"popup-body",children:[o.jsx("p",{children:"You must predict scores for ALL games."}),o.jsxs("p",{className:"count-text",children:["Completed: ",o.jsx("strong",{children:e-t.length})," of ",o.jsx("strong",{children:e})," games "]}),o.jsxs("div",{className:"missing-games-list",children:[o.jsx("p",{children:o.jsx("strong",{children:"Missing scores for:"})}),o.jsx("ul",{children:t.map((r,s)=>o.jsxs("li",{children:[" Game ",s+1,": ",r.team1," vs ",r.team2]},s))})]}),o.jsx("p",{className:"instruction-text",children:"Please fill in all games before saving."})]}),o.jsx("div",{className:"popup-buttons",children:o.jsx("button",{className:"popup-btn btn-primary",onClick:n,children:"OK - Go Back and Complete"})})]})})}function sC({invalidScores:t,onClose:e}){return o.jsx("div",{className:"popup-overlay",children:o.jsxs("div",{className:"popup-container error-popup",children:[o.jsxs("div",{className:"popup-header error",children:[o.jsx("span",{className:"popup-icon",children:""}),o.jsx("h3",{children:"INVALID SCORES"})]}),o.jsxs("div",{className:"popup-body",children:[o.jsx("p",{children:"All scores must be between 10 and 50."}),o.jsxs("div",{className:"invalid-scores-list",children:[o.jsx("p",{children:o.jsx("strong",{children:"Invalid scores:"})}),o.jsx("ul",{children:t.map((n,r)=>o.jsxs("li",{children:[" Game ",r+1," (",n.team,"): ",o.jsx("strong",{children:n.score})," (",n.score<10?"too low":"too high",")"]},r))})]}),o.jsx("p",{className:"instruction-text",children:"Please fix these scores."})]}),o.jsx("div",{className:"popup-buttons",children:o.jsx("button",{className:"popup-btn btn-primary",onClick:e,children:"OK - Go Back and Fix"})})]})})}function iC({weekName:t,deadline:e,onClose:n}){return o.jsx("div",{className:"popup-overlay",children:o.jsxs("div",{className:"popup-container success-popup",children:[o.jsxs("div",{className:"popup-header success",children:[o.jsx("span",{className:"popup-icon",children:""}),o.jsx("h3",{children:"PICKS SAVED SUCCESSFULLY!"})]}),o.jsxs("div",{className:"popup-body",children:[o.jsxs("p",{children:["Your ",t," picks have been saved."]}),o.jsx("p",{children:"You can edit them anytime before the deadline:"}),o.jsx("p",{className:"deadline-text",children:o.jsx("strong",{children:e})})]}),o.jsx("div",{className:"popup-buttons",children:o.jsx("button",{className:"popup-btn btn-success",onClick:n,children:"OK"})})]})})}function oC({onClose:t}){return o.jsx("div",{className:"popup-overlay",children:o.jsxs("div",{className:"popup-container info-popup",children:[o.jsxs("div",{className:"popup-header info",children:[o.jsx("span",{className:"popup-icon",children:""}),o.jsx("h3",{children:"NO CHANGES TO SAVE"})]}),o.jsxs("div",{className:"popup-body",children:[o.jsx("p",{children:"You haven't made any changes to your picks."}),o.jsx("p",{children:"Your picks are already saved."})]}),o.jsx("div",{className:"popup-buttons",children:o.jsx("button",{className:"popup-btn btn-primary",onClick:t,children:"OK"})})]})})}function lC({tiedGames:t,gameData:e,onClose:n}){return o.jsx("div",{className:"popup-overlay",children:o.jsxs("div",{className:"popup-container error-popup",children:[o.jsxs("div",{className:"popup-header error",children:[o.jsx("span",{className:"popup-icon",children:""}),o.jsx("h3",{children:"PLAYOFF GAMES CANNOT END IN A TIE!"})]}),o.jsxs("div",{className:"popup-body",children:[o.jsx("p",{style:{fontWeight:"bold",marginBottom:"15px"},children:"The following game(s) have tied scores:"}),o.jsx("ul",{style:{listStyle:"none",padding:0,marginBottom:"15px"},children:t.map(r=>{const s=e.find(i=>i.id===r);return o.jsxs("li",{style:{padding:"8px",background:"#ffebee",border:"1px solid #ef5350",borderRadius:"4px",marginBottom:"8px",color:"#c62828"},children:[" ",s.team1," vs. ",s.team2]},r)})}),o.jsx("p",{style:{fontStyle:"italic",color:"#666"},children:"NFL Playoff games go to overtime until there's a winner!"}),o.jsx("p",{style:{fontWeight:"bold"},children:"Please change the scores so one team wins."})]}),o.jsx("div",{className:"popup-buttons",children:o.jsx("button",{className:"popup-btn btn-primary",onClick:n,children:"Fix Scores"})})]})})}const Uy={1:{name:"Most Correct Predictions",week:"wildcard",weekName:"Week 1"},2:{name:"Closest Total Points",week:"wildcard",weekName:"Week 1"},3:{name:"Most Correct Predictions",week:"divisional",weekName:"Week 2"},4:{name:"Closest Total Points",week:"divisional",weekName:"Week 2"},5:{name:"Most Correct Predictions",week:"conference",weekName:"Week 3"},6:{name:"Closest Total Points",week:"conference",weekName:"Week 3"},7:{name:"Most Correct Predictions",week:"superbowl",weekName:"Week 4"},8:{name:"Closest Total Points",week:"superbowl",weekName:"Week 4"},9:{name:"Overall Most Correct Predictions",week:"all",weekName:"All Weeks"},10:{name:"Overall Closest Total Points",week:"all",weekName:"All Weeks"}};function aC(t,e,n){var r;if(t.week==="all"){let s=0,i=0;return Object.keys(n).forEach(l=>{const a=n[l].games;s+=a.length,a.forEach(c=>{var p;const u=(p=e[l])==null?void 0:p[c.id];if(u){const d=parseInt(u.team1),h=parseInt(u.team2);!isNaN(d)&&!isNaN(h)&&i++}})}),i===0?{status:"NOT_STARTED",gamesCompleted:0,totalGames:s,message:"First game Saturday, January 10, 2026! Standings will update as games finish."}:i<s?{status:"LIVE",gamesCompleted:i,totalGames:s,message:`LIVE NOW! ${i} of ${s} playoff games completed. Standings updating in real-time!`}:{status:"COMPLETE",gamesCompleted:i,totalGames:s,message:"Playoffs complete! Final standings shown above."}}else{const s=((r=n[t.week])==null?void 0:r.games)||[],i=s.length;let l=0;return s.forEach(a=>{var u;const c=(u=e[t.week])==null?void 0:u[a.id];if(c){const p=parseInt(c.team1),d=parseInt(c.team2);!isNaN(p)&&!isNaN(d)&&l++}}),l===0?{status:"NOT_STARTED",gamesCompleted:0,totalGames:i,message:"Games not started yet. Standings will update as games finish!"}:l<i?{status:"LIVE",gamesCompleted:l,totalGames:i,message:`LIVE NOW! ${l} of ${i} games completed. Standings changing in real-time!`}:{status:"COMPLETE",gamesCompleted:l,totalGames:i,message:"All games complete! Final standings shown above."}}}function cC(t,e,n,r){var u,p,d;const s=Uy[t],i=[1,3,5,7,9].includes(t);let l=[],a={},c=[];if(s.week==="all"){l=e,a=n,Object.keys(r).forEach(_=>{c=c.concat(r[_].games.map(w=>({...w,week:_})))});const h={};l.forEach(_=>{h[_.playerCode]||(h[_.playerCode]={playerCode:_.playerCode,playerName:_.playerName,weeklyPicks:[]}),h[_.playerCode].weeklyPicks.push(_)}),l=Object.values(h)}else l=e.filter(h=>h.week===s.week),a=n[s.week]||{},c=((u=r[s.week])==null?void 0:u.games)||[];if(l.length===0)return{leaders:[],allPlayers:[],hasTie:!1,tieCount:0};if(i){let h=0;c.forEach(E=>{var y;const v=s.week==="all"?(y=n[E.week])==null?void 0:y[E.id]:a[E.id];v&&(h+=(parseInt(v.team1)||0)+(parseInt(v.team2)||0))});const _=l.map(E=>{let v=0;return(E.weeklyPicks||[E]).forEach(k=>{c.forEach(m=>{var he,H;const S=(he=k.predictions)==null?void 0:he[m.id],b=s.week==="all"?(H=n[m.week])==null?void 0:H[m.id]:a[m.id];if(!S||!b)return;const j=parseInt(b.team1),R=parseInt(b.team2),U=parseInt(S.team1),W=parseInt(S.team2);if(isNaN(j)||isNaN(R)||isNaN(U)||isNaN(W))return;const F=U>W?"team1":W>U?"team2":"tie",ee=j>R?"team1":R>j?"team2":"tie";F!=="tie"&&ee!=="tie"&&F===ee&&v++})}),{playerCode:E.playerCode,playerName:E.playerName,score:v,actualTotal:h}});_.sort((E,v)=>v.score-E.score);const w=((p=_[0])==null?void 0:p.score)||0,P=_.filter(E=>E.score===w);return{leaders:P,allPlayers:_,hasTie:P.length>1,tieCount:P.length,actualTotal:h}}else{let h=0;c.forEach(E=>{var y;const v=s.week==="all"?(y=n[E.week])==null?void 0:y[E.id]:a[E.id];v&&(h+=(parseInt(v.team1)||0)+(parseInt(v.team2)||0))});const _=l.map(E=>{let v=0;(E.weeklyPicks||[E]).forEach(m=>{c.forEach(S=>{var j;const b=(j=m.predictions)==null?void 0:j[S.id];b&&(v+=(parseInt(b.team1)||0)+(parseInt(b.team2)||0))})});const k=Math.abs(v-h);return{playerCode:E.playerCode,playerName:E.playerName,score:v,actualTotal:h,difference:k}});_.sort((E,v)=>E.difference-v.difference);const w=((d=_[0])==null?void 0:d.difference)||0,P=_.filter(E=>E.difference===w);return{leaders:P,allPlayers:_,hasTie:P.length>1,tieCount:P.length,actualTotal:h}}}function zs({prizeNumber:t,allPicks:e,actualScores:n,weekData:r,officialWinner:s=null}){const[i,l]=L.useState(null),[a,c]=L.useState(!0),u=Uy[t],p=[1,3,5,7,9].includes(t);if(L.useEffect(()=>{try{const E=cC(t,e,n,r);l(E),c(!1)}catch(E){console.error(`Error calculating leaders for Prize ${t}:`,E),c(!1)}},[t,e,n,r]),a)return o.jsxs("div",{className:"leader-card loading",children:[o.jsx("div",{className:"leader-card-header",children:o.jsxs("h3",{children:["Prize #",t," - ",u.name]})}),o.jsx("div",{className:"leader-card-body",children:o.jsx("p",{children:"Calculating leaders..."})})]});if(!i||i.allPlayers.length===0)return o.jsxs("div",{className:"leader-card no-data",children:[o.jsxs("div",{className:"leader-card-header",children:[o.jsxs("h3",{children:["Prize #",t," - ",u.name]}),o.jsx("span",{className:"prize-week",children:u.weekName})]}),o.jsx("div",{className:"leader-card-body",children:o.jsx("p",{children:"No picks available yet."})})]});const{leaders:d,allPlayers:h,hasTie:_,tieCount:w}=i,P=aC(u,n,r);return o.jsxs("div",{className:`leader-card ${_?"has-tie":""}`,children:[o.jsxs("div",{className:"leader-card-header",children:[o.jsxs("h3",{children:["Prize #",t," - ",u.name]}),o.jsx("span",{className:"prize-week",children:u.weekName})]}),o.jsxs("div",{className:"leader-card-body",children:[o.jsxs("div",{className:`game-status ${P.status.toLowerCase()}`,children:[o.jsxs("div",{className:"status-badge",children:[P.status==="NOT_STARTED"&&" NOT STARTED",P.status==="LIVE"&&" LIVE",P.status==="COMPLETE"&&" COMPLETE"]}),o.jsx("div",{className:"status-details",children:P.status!=="NOT_STARTED"&&o.jsxs("span",{className:"games-count",children:[P.gamesCompleted," of ",P.totalGames," games"]})}),o.jsx("p",{className:"status-message",children:P.message})]}),_&&o.jsxs("div",{className:"tie-warning",children:[" ",w,"-WAY TIE FOR 1ST PLACE!"]}),_&&o.jsxs("div",{className:"tied-leaders-section",children:[o.jsx("h4",{children:" TIED FOR 1ST PLACE:"}),o.jsx("div",{className:"leaders-list",children:d.map((E,v)=>o.jsxs("div",{className:`leader-item ${(s==null?void 0:s.playerCode)===E.playerCode?"official-winner":"tied-leader"}`,children:[o.jsxs("span",{className:"leader-rank",children:[v+1,"."]}),o.jsxs("span",{className:"leader-name",children:[E.playerName,(s==null?void 0:s.playerCode)===E.playerCode?o.jsx("span",{className:"official-badge",style:{marginLeft:"8px"},children:" OFFICIAL WINNER"}):o.jsx("span",{className:"leading-badge",style:{marginLeft:"8px"},children:" LEADING"})]}),o.jsx("span",{className:"leader-score",children:p?`${E.score} correct`:`${E.score} pts  Actual: ${E.actualTotal||0} pts  Off by: ${E.difference} pts`})]},v))})]}),_&&h.length>w&&o.jsxs("div",{className:"next-in-line-section",children:[o.jsx("h4",{children:" NEXT IN LINE:"}),o.jsx("div",{className:"leaders-list",children:h.slice(w,w+10).map((E,v)=>o.jsxs("div",{className:"leader-item",children:[o.jsxs("span",{className:"leader-rank",children:[w+v+1,"."]}),o.jsx("span",{className:"leader-name",children:E.playerName}),o.jsx("span",{className:"leader-score",children:p?`${E.score} correct`:`${E.score} pts  Actual: ${E.actualTotal||0} pts  Off by: ${E.difference} pts`})]},v))})]}),!_&&o.jsxs("div",{className:"all-players-section",children:[o.jsx("h4",{children:" ALL PLAYERS RANKED:"}),o.jsx("div",{className:"leaders-list",children:h.map((E,v)=>o.jsxs("div",{className:`leader-item ${v===0&&(s==null?void 0:s.playerCode)===E.playerCode?"official-winner":""}`,children:[o.jsxs("span",{className:"leader-rank",children:[v+1,"."]}),o.jsxs("span",{className:"leader-name",children:[E.playerName,v===0&&((s==null?void 0:s.playerCode)===E.playerCode?o.jsx("span",{className:"official-badge",style:{marginLeft:"8px"},children:" OFFICIAL WINNER"}):o.jsx("span",{className:"leading-badge",style:{marginLeft:"8px"},children:" LEADING"}))]}),o.jsx("span",{className:"leader-score",children:p?`${E.score} correct`:`${E.score} pts  Actual: ${E.actualTotal||0} pts  Off by: ${E.difference} pts`})]},v))})]}),!s&&o.jsx("div",{className:"no-official-winner",children:o.jsx("em",{children:"No official winner declared yet"})})]})]})}function uC({allPicks:t,actualScores:e,games:n,officialWinners:r,weekData:s}){const[i,l]=L.useState({"Week 1":!0,"Week 2":!1,"Week 3":!1,"Week 4":!1,"Grand Prizes":!1}),a=d=>{l(h=>({...h,[d]:!h[d]}))},c=()=>{l({"Week 1":!0,"Week 2":!0,"Week 3":!0,"Week 4":!0,"Grand Prizes":!0})},u=()=>{l({"Week 1":!1,"Week 2":!1,"Week 3":!1,"Week 4":!1,"Grand Prizes":!1})},p=d=>({cursor:"pointer",userSelect:"none",display:"flex",alignItems:"center",gap:"10px",padding:"15px 20px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:"8px",transition:"all 0.3s",marginBottom:d?"20px":"0",borderBottomLeftRadius:d?"0":"8px",borderBottomRightRadius:d?"0":"8px"});return o.jsxs("div",{className:"leaders-section",children:[o.jsx("h2",{children:" Prize Leaders"}),o.jsx("p",{className:"leaders-description",children:"Current standings for all 10 prizes. Winners will be officially announced by the Pool Manager."}),o.jsxs("div",{style:{display:"flex",gap:"15px",justifyContent:"center",margin:"20px 0"},children:[o.jsx("button",{onClick:c,style:{padding:"10px 20px",background:"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.95rem",fontWeight:"600",transition:"all 0.2s"},onMouseOver:d=>d.target.style.background="#5568d3",onMouseOut:d=>d.target.style.background="#667eea",children:" Expand All Weeks"}),o.jsx("button",{onClick:u,style:{padding:"10px 20px",background:"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.95rem",fontWeight:"600",transition:"all 0.2s"},onMouseOver:d=>d.target.style.background="#5568d3",onMouseOut:d=>d.target.style.background="#667eea",children:" Collapse All Weeks"})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsxs("h3",{onClick:()=>a("Week 1"),style:p(i["Week 1"]),onMouseEnter:d=>{d.currentTarget.style.transform="translateX(5px)",d.currentTarget.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)"},onMouseLeave:d=>{d.currentTarget.style.transform="translateX(0)",d.currentTarget.style.boxShadow="none"},children:[o.jsx("span",{style:{fontSize:"1.2rem"},children:i["Week 1"]?"":""}),"Week 1 Prizes (Wild Card Round)"]}),i["Week 1"]&&o.jsx("div",{className:"prize-grid",children:[1,2].map(d=>o.jsx(zs,{prizeNumber:d,allPicks:t,actualScores:e,weekData:s,officialWinner:r==null?void 0:r[d]},d))})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsxs("h3",{onClick:()=>a("Week 2"),style:p(i["Week 2"]),onMouseEnter:d=>{d.currentTarget.style.transform="translateX(5px)",d.currentTarget.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)"},onMouseLeave:d=>{d.currentTarget.style.transform="translateX(0)",d.currentTarget.style.boxShadow="none"},children:[o.jsx("span",{style:{fontSize:"1.2rem"},children:i["Week 2"]?"":""}),"Week 2 Prizes (Divisional Round)"]}),i["Week 2"]&&o.jsx("div",{className:"prize-grid",children:[3,4].map(d=>o.jsx(zs,{prizeNumber:d,allPicks:t,actualScores:e,weekData:s,officialWinner:r==null?void 0:r[d]},d))})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsxs("h3",{onClick:()=>a("Week 3"),style:p(i["Week 3"]),onMouseEnter:d=>{d.currentTarget.style.transform="translateX(5px)",d.currentTarget.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)"},onMouseLeave:d=>{d.currentTarget.style.transform="translateX(0)",d.currentTarget.style.boxShadow="none"},children:[o.jsx("span",{style:{fontSize:"1.2rem"},children:i["Week 3"]?"":""}),"Week 3 Prizes (Conference Championships)"]}),i["Week 3"]&&o.jsx("div",{className:"prize-grid",children:[5,6].map(d=>o.jsx(zs,{prizeNumber:d,allPicks:t,actualScores:e,weekData:s,officialWinner:r==null?void 0:r[d]},d))})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsxs("h3",{onClick:()=>a("Week 4"),style:p(i["Week 4"]),onMouseEnter:d=>{d.currentTarget.style.transform="translateX(5px)",d.currentTarget.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)"},onMouseLeave:d=>{d.currentTarget.style.transform="translateX(0)",d.currentTarget.style.boxShadow="none"},children:[o.jsx("span",{style:{fontSize:"1.2rem"},children:i["Week 4"]?"":""}),"Week 4 Prizes (Super Bowl)"]}),i["Week 4"]&&o.jsx("div",{className:"prize-grid",children:[7,8].map(d=>o.jsx(zs,{prizeNumber:d,allPicks:t,actualScores:e,weekData:s,officialWinner:r==null?void 0:r[d]},d))})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsxs("h3",{onClick:()=>a("Grand Prizes"),style:p(i["Grand Prizes"]),onMouseEnter:d=>{d.currentTarget.style.transform="translateX(5px)",d.currentTarget.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)"},onMouseLeave:d=>{d.currentTarget.style.transform="translateX(0)",d.currentTarget.style.boxShadow="none"},children:[o.jsx("span",{style:{fontSize:"1.2rem"},children:i["Grand Prizes"]?"":""}),"Grand Prizes (All Weeks Combined)"]}),i["Grand Prizes"]&&o.jsx("div",{className:"prize-grid",children:[9,10].map(d=>o.jsx(zs,{prizeNumber:d,allPicks:t,actualScores:e,weekData:s,officialWinner:r==null?void 0:r[d]},d))})]})]})}const dC=({isPoolManager:t,playerCodes:e})=>{const[n,r]=L.useState([]),[s,i]=L.useState(!0),[l,a]=L.useState(null),[c,u]=L.useState("all"),[p,d]=L.useState(""),[h,_]=L.useState("newest");L.useEffect(()=>{if(!t){i(!1);return}try{const v=bd(),y=Y(v,"loginLogs"),k=bt(y,m=>{const S=m.val();if(console.log(" Login logs data:",S),S){const b=Object.keys(S).map(j=>({id:j,...S[j]}));console.log(" Parsed logs array:",b),r(b)}else console.log(" No login logs data found"),r([]);i(!1),a(null)},m=>{console.error(" Error fetching login logs:",m),a("Failed to load login logs. Check console for details."),i(!1)});return()=>{k&&k()}}catch(v){console.error(" Error setting up Firebase listener:",v),a("Failed to initialize Firebase. Check console for details."),i(!1)}},[t]);const w=n.filter(v=>{var y,k;if(c==="success"&&!v.success||c==="failed"&&v.success)return!1;if(p){const m=p.toLowerCase(),S=(y=v.playerCode)==null?void 0:y.toLowerCase().includes(m),b=(k=v.playerName)==null?void 0:k.toLowerCase().includes(m);return S||b}return!0}).sort((v,y)=>h==="newest"?y.timestamp-v.timestamp:v.timestamp-y.timestamp),P=()=>{if(w.length===0){alert("No logs to export!");return}const v=["Timestamp","Date/Time","Player Code","Player Name","Status","Error Message","Browser","Device"],y=w.map(j=>[j.timestamp,new Date(j.timestamp).toLocaleString(),j.playerCode||"",j.playerName||"",j.success?"Success":"Failed",j.errorMessage||"",j.browser||"",j.device||""]),k=[v.join(","),...y.map(j=>j.map(R=>`"${R}"`).join(","))].join(`
`),m=new Blob([k],{type:"text/csv;charset=utf-8;"}),S=document.createElement("a"),b=URL.createObjectURL(m);S.setAttribute("href",b),S.setAttribute("download",`login-logs-${new Date().toISOString().split("T")[0]}.csv`),S.style.visibility="hidden",document.body.appendChild(S),S.click(),document.body.removeChild(S),window.URL.revokeObjectURL(b)},E={total:n.length,successful:n.filter(v=>v.success).length,failed:n.filter(v=>v.success===!1).length,uniquePlayers:new Set(n.filter(v=>v.success).map(v=>v.playerCode)).size};return t?s?o.jsx("div",{style:{padding:"60px",textAlign:"center"},children:o.jsxs("div",{style:{display:"inline-block",padding:"20px 40px",background:"#f0f4f8",borderRadius:"10px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[o.jsx("p",{style:{fontSize:"1.2rem",margin:"0 0 10px 0",color:"#000"},children:" Loading login logs..."}),o.jsx("p",{style:{fontSize:"0.9rem",color:"#666",margin:0},children:"Connecting to Firebase..."})]})}):l?o.jsx("div",{style:{padding:"60px",textAlign:"center"},children:o.jsxs("div",{style:{display:"inline-block",padding:"30px",background:"#fff3cd",border:"2px solid #ffc107",borderRadius:"10px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",maxWidth:"600px"},children:[o.jsx("h3",{style:{margin:"0 0 15px 0",color:"#856404"},children:" Error Loading Logs"}),o.jsx("p",{style:{color:"#856404",margin:"0 0 15px 0"},children:l}),o.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:"20px",padding:"12px 24px",background:"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"600"},children:" Reload Page"})]})}):o.jsxs("div",{style:{margin:"40px auto",maxWidth:"1400px",padding:"0 20px"},children:[o.jsxs("div",{style:{marginBottom:"30px"},children:[o.jsxs("h1",{style:{fontSize:"2rem",margin:"0 0 10px 0",color:"#000",display:"flex",alignItems:"center",gap:"10px"},children:[" Login Activity Log",o.jsx("span",{style:{fontSize:"0.7rem",padding:"4px 12px",background:"#667eea",color:"white",borderRadius:"20px",fontWeight:"500"},children:"Pool Manager Only"})]}),o.jsx("p",{style:{color:"#666",margin:0},children:"Monitor all login attempts to the NFL Playoff Pool"})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginBottom:"30px"},children:[o.jsxs("div",{style:{background:"linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%)",padding:"25px",borderRadius:"12px",boxShadow:"0 4px 15px rgba(0,0,0,0.1)",color:"#000"},children:[o.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"bold",marginBottom:"5px"},children:E.successful}),o.jsx("div",{style:{fontSize:"1rem",fontWeight:"500"},children:"Successful Logins"})]}),o.jsxs("div",{style:{background:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)",padding:"25px",borderRadius:"12px",boxShadow:"0 4px 15px rgba(0,0,0,0.1)",color:"#000"},children:[o.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"bold",marginBottom:"5px"},children:E.failed}),o.jsx("div",{style:{fontSize:"1rem",fontWeight:"500"},children:"Failed Attempts"})]}),o.jsxs("div",{style:{background:"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)",padding:"25px",borderRadius:"12px",boxShadow:"0 4px 15px rgba(0,0,0,0.1)",color:"#000"},children:[o.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"bold",marginBottom:"5px"},children:E.uniquePlayers}),o.jsx("div",{style:{fontSize:"1rem",fontWeight:"500"},children:"Unique Players"})]}),o.jsxs("div",{style:{background:"linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)",padding:"25px",borderRadius:"12px",boxShadow:"0 4px 15px rgba(0,0,0,0.1)",color:"#000"},children:[o.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"bold",marginBottom:"5px"},children:E.total}),o.jsx("div",{style:{fontSize:"1rem",fontWeight:"500"},children:"Total Attempts"})]})]}),o.jsxs("div",{style:{background:"white",padding:"20px",borderRadius:"10px",marginBottom:"20px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",display:"flex",flexWrap:"wrap",gap:"15px",alignItems:"center"},children:[o.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[o.jsxs("button",{onClick:()=>u("all"),style:{padding:"10px 20px",background:c==="all"?"#667eea":"#f0f0f0",color:c==="all"?"white":"#333",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"0.9rem"},children:["All (",E.total,")"]}),o.jsxs("button",{onClick:()=>u("success"),style:{padding:"10px 20px",background:c==="success"?"#4caf50":"#f0f0f0",color:c==="success"?"white":"#333",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"0.9rem"},children:[" Success (",E.successful,")"]}),o.jsxs("button",{onClick:()=>u("failed"),style:{padding:"10px 20px",background:c==="failed"?"#f44336":"#f0f0f0",color:c==="failed"?"white":"#333",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"0.9rem"},children:[" Failed (",E.failed,")"]})]}),o.jsx("input",{type:"text",placeholder:"Search by code or name...",value:p,onChange:v=>d(v.target.value),style:{padding:"10px 15px",border:"2px solid #e0e0e0",borderRadius:"6px",fontSize:"0.9rem",flex:"1",minWidth:"200px",color:"#000"}}),o.jsxs("select",{value:h,onChange:v=>_(v.target.value),style:{padding:"10px 15px",border:"2px solid #e0e0e0",borderRadius:"6px",fontSize:"0.9rem",cursor:"pointer",background:"white",color:"#000"},children:[o.jsx("option",{value:"newest",children:"Newest First"}),o.jsx("option",{value:"oldest",children:"Oldest First"})]}),o.jsx("button",{onClick:P,style:{padding:"10px 20px",background:"#4caf50",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"0.9rem",display:"flex",alignItems:"center",gap:"8px"},children:" Export CSV"})]}),w.length===0?o.jsx("div",{style:{background:"white",padding:"60px 40px",borderRadius:"10px",textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:p?o.jsx("p",{style:{fontSize:"1.2rem",margin:0,color:"#666"},children:" No logs match your search"}):o.jsxs(o.Fragment,{children:[o.jsx("p",{style:{fontSize:"1.5rem",margin:"0 0 20px 0",color:"#333"},children:" No login attempts logged yet"}),o.jsxs("div",{style:{background:"#f8f9fa",padding:"25px",borderRadius:"8px",maxWidth:"600px",margin:"0 auto",textAlign:"left"},children:[o.jsx("p",{style:{margin:"0 0 15px 0",fontSize:"1rem",color:"#666"},children:o.jsx("strong",{children:"To test login tracking:"})}),o.jsxs("ol",{style:{margin:0,paddingLeft:"20px",color:"#666",lineHeight:"2"},children:[o.jsx("li",{children:'Logout (click " Logout" button)'}),o.jsx("li",{children:'Try logging in with a WRONG code (e.g., "ABC123")'}),o.jsx("li",{children:"See the failed attempt appear here"}),o.jsx("li",{children:"Login with your correct code"}),o.jsx("li",{children:"See the successful login appear here"})]})]})]})}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{style:{padding:"15px 20px",background:"#f8f9fa",borderRadius:"8px",marginBottom:"15px",display:"flex",alignItems:"center",gap:"10px"},children:[o.jsx("span",{style:{fontSize:"1.2rem"},children:""}),o.jsxs("span",{style:{fontWeight:"600",color:"#000"},children:["Showing: ",w.length," of ",n.length," total attempts"]})]}),o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:w.map((v,y)=>o.jsxs("div",{style:{padding:"20px",background:v.success?"#e8f5e9":"#ffebee",border:`3px solid ${v.success?"#4caf50":"#f44336"}`,borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",transition:"transform 0.2s",cursor:"default"},onMouseEnter:k=>k.currentTarget.style.transform="scale(1.01)",onMouseLeave:k=>k.currentTarget.style.transform="scale(1)",children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px",flexWrap:"wrap",gap:"10px"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[o.jsxs("span",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#000"},children:["#",w.length-y]}),o.jsx("span",{style:{padding:"8px 16px",background:v.success?"#4caf50":"#f44336",color:"white",borderRadius:"20px",fontWeight:"bold",fontSize:"0.9rem"},children:v.success?" SUCCESS":" FAILED"})]}),o.jsx("div",{style:{fontSize:"0.95rem",color:"#666",fontWeight:"500"},children:new Date(v.timestamp).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px"},children:[o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"5px",fontWeight:"500"},children:"Player Code"}),o.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#000",fontFamily:"monospace"},children:v.playerCode||"N/A"})]}),o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"5px",fontWeight:"500"},children:"Player Name"}),o.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#000"},children:v.playerName||"N/A"})]}),o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"5px",fontWeight:"500"},children:"Browser"}),o.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#000"},children:v.browser||"N/A"})]}),o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"5px",fontWeight:"500"},children:"Device"}),o.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#000"},children:v.device||"N/A"})]})]}),!v.success&&v.errorMessage&&o.jsxs("div",{style:{marginTop:"15px",padding:"12px",background:"#fff",borderLeft:"4px solid #f44336",borderRadius:"4px"},children:[o.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"5px",fontWeight:"500"},children:"Error Message"}),o.jsx("div",{style:{fontSize:"1rem",color:"#d32f2f",fontWeight:"600",fontStyle:"italic"},children:v.errorMessage})]})]},v.id))})]}),o.jsx("div",{style:{marginTop:"30px",padding:"20px",background:"#f8f9fa",borderRadius:"8px",textAlign:"center"},children:o.jsx("p",{style:{margin:0,color:"#666",fontSize:"0.9rem",fontStyle:"italic"},children:" Logs update in real-time. Failed attempts help identify players who need assistance with their codes."})})]}):o.jsx("div",{style:{padding:"40px",textAlign:"center",color:"#999"},children:o.jsx("p",{children:" This feature is only available to Pool Managers"})})},fC=()=>{const t=navigator.userAgent;let e="Unknown";if(t.indexOf("Firefox")>-1){const n=t.match(/Firefox\/(\d+)/);e=n?`Firefox ${n[1]}`:"Firefox"}else if(t.indexOf("SamsungBrowser")>-1)e="Samsung Internet";else if(t.indexOf("Opera")>-1||t.indexOf("OPR")>-1)e="Opera";else if(t.indexOf("Trident")>-1)e="Internet Explorer";else if(t.indexOf("Edge")>-1)e="Edge";else if(t.indexOf("Chrome")>-1){const n=t.match(/Chrome\/(\d+)/);e=n?`Chrome ${n[1]}`:"Chrome"}else if(t.indexOf("Safari")>-1){const n=t.match(/Version\/(\d+)/);e=n?`Safari ${n[1]}`:"Safari"}return e},hC=()=>{const t=navigator.userAgent;return/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(t)?"Tablet":/Mobile|iP(hone|od)|Android|BlackBerry|IEMobile|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(t)?"Mobile":"Desktop"},Gy=async({playerCode:t,playerName:e=null,success:n,errorMessage:r=null})=>{try{const s=bd(),i=Y(s,"loginLogs"),l={timestamp:Date.now(),playerCode:t||"EMPTY",playerName:e||null,success:n,errorMessage:r||null,browser:fC(),device:hC(),userAgent:navigator.userAgent};await Io(i,l),console.log(" Login attempt logged:",{code:t,success:n,browser:l.browser,device:l.device})}catch(s){console.error(" Failed to log login attempt:",s)}},pC=async(t,e)=>Gy({playerCode:t,playerName:e,success:!0,errorMessage:null}),Wa=async(t,e)=>Gy({playerCode:t,playerName:null,success:!1,errorMessage:e});function pr(t,e){if(!t||!t[e])return 0;let n=0;const r=t[e];return Object.keys(r).forEach(s=>{const i=r[s];i&&i.team1!==void 0&&i.team2!==void 0&&(n+=parseInt(i.team1)+parseInt(i.team2))}),n}function mr(t,e){if(!t||!t[e])return 0;let n=0;const r=t[e];return Object.keys(r).forEach(s=>{const i=r[s];i&&i.team1!==void 0&&i.team2!==void 0&&(n+=parseInt(i.team1)+parseInt(i.team2))}),n}function Nd(t,e){if(!t||!t[e])return{};const n={},r=t[e];return Object.keys(r).forEach(s=>{const i=r[s];if(i&&i.team1!==void 0&&i.team2!==void 0){const l=parseInt(i.team1),a=parseInt(i.team2);l>a?n[s]="team1":a>l&&(n[s]="team2")}}),n}function Vy(t,e,n){if(!t||!t[n])return 0;let r=0;const s=t[n];return Object.keys(e).forEach(i=>{const l=e[i],a=s[i];if(a&&a.team1!==void 0&&a.team2!==void 0){const c=parseInt(a.team1),u=parseInt(a.team2);let p=null;c>u?p="team1":u>c&&(p="team2"),p===l&&r++}}),r}function Gn(t,e){return Math.abs(t-e)}function Ma(t,e,n){const r=Nd(e,n);if(Object.keys(r).length===0)return{status:"not_scored",winner:null,message:"Waiting for game results"};const s=mr(e,n),i=[];if(Object.keys(t).forEach(d=>{const h=t[d],_=h.name,w=h.picks;if(!w||!w[n])return;const P=Vy(w,r,n),E=pr(w,n),v=Gn(E,s);i.push({name:_,code:d,correctWinners:P,predictedTotal:E,difference:v})}),i.length===0)return{status:"no_picks",winner:null,message:"No picks submitted for this week"};const l=Math.max(...i.map(d=>d.correctWinners)),a=i.filter(d=>d.correctWinners===l);if(a.length===1)return{status:"calculated",winner:a[0].name,winnerCode:a[0].code,correctWinners:l,tiebreakerUsed:!1,isTrueTie:!1,tiedPlayers:null,allPlayerResults:i.sort((d,h)=>h.correctWinners-d.correctWinners)};const c=Math.min(...a.map(d=>d.difference)),u=a.filter(d=>d.difference===c),p=u.length>1;return{status:"calculated",winner:p?u.map(d=>d.name):u[0].name,winnerCode:p?u.map(d=>d.code):u[0].code,correctWinners:l,actualTotal:s,predictedTotal:u[0].predictedTotal,difference:u[0].difference,tiebreakerUsed:!0,tiebreakerLevel:`${n} Total Points`,isTrueTie:p,tiedPlayers:a.map(d=>d.name),tiedPlayersDetails:a.map(d=>({name:d.name,correctWinners:d.correctWinners,predictedTotal:d.predictedTotal,difference:d.difference})),allPlayerResults:i.sort((d,h)=>h.correctWinners-d.correctWinners)}}function za(t,e,n){const r=mr(e,n);if(r===0)return{status:"not_scored",winner:null,message:"Waiting for game results"};const s=[];if(Object.keys(t).forEach(c=>{const u=t[c],p=u.name,d=u.picks;if(!d||!d[n])return;const h=pr(d,n),_=Gn(h,r);s.push({name:p,code:c,predictedTotal:h,difference:_})}),s.length===0)return{status:"no_picks",winner:null,message:"No picks submitted for this week"};const i=Math.min(...s.map(c=>c.difference)),l=s.filter(c=>c.difference===i);if(l.length===0)return{status:"no_picks",winner:null,message:"No valid picks submitted for this week"};const a=l.length>1;return{status:"calculated",winner:a?l.map(c=>c.name):l[0].name,winnerCode:a?l.map(c=>c.code):l[0].code,actualTotal:r,predictedTotal:l[0].predictedTotal,difference:i,tiebreakerUsed:!1,isTrueTie:a,tiedPlayers:a?l.map(c=>c.name):null,allPlayerResults:s.sort((c,u)=>c.difference-u.difference)}}function mC(t,e){const n="superbowl",r=Nd(e,n);if(Object.keys(r).length===0)return{status:"not_scored",winner:null,message:"Waiting for Super Bowl results"};const s=r[13];if(!s)return{status:"not_scored",winner:null,message:"Super Bowl winner not determined"};const i=[];if(Object.keys(t).forEach(p=>{const d=t[p],h=d.name,_=d.picks;if(!_||!_[n]||!_[n][13])return;const w=_[n][13],P=parseInt(w.team1),E=parseInt(w.team2);let v=null;P>E?v="team1":E>P&&(v="team2"),v===s&&i.push({name:h,code:p,picks:_})}),i.length===0)return{status:"no_winner",winner:null,message:"No players picked the correct Super Bowl winner"};if(i.length===1)return{status:"calculated",winner:i[0].name,winnerCode:i[0].code,pickedCorrectWinner:!0,eligiblePlayers:1,eliminatedPlayers:Object.keys(t).length-1,tiebreakerUsed:!1,isTrueTie:!1,steps:[{level:"Correct Super Bowl Winner",remaining:1,winner:i[0].name}]};const l=[{key:"superbowl",name:"Week 4"},{key:"conference",name:"Week 3"},{key:"divisional",name:"Week 2"},{key:"wildcard",name:"Week 1"}];let a=[...i];const c=[{level:"Correct Super Bowl Winner",remaining:i.length,tied:i.map(p=>p.name)}];for(const p of l){if(a.length===1)break;const d=mr(e,p.key),h=a.map(w=>{const P=pr(w.picks,p.key),E=Gn(P,d);return{...w,predictedTotal:P,difference:E,actualTotal:d}}),_=Math.min(...h.map(w=>w.difference));if(a=h.filter(w=>w.difference===_),c.push({level:`${p.name} Total Points`,actualTotal:d,remaining:a.length,tied:a.map(w=>w.name),minDifference:_,details:h.map(w=>({name:w.name,predictedTotal:w.predictedTotal,difference:w.difference}))}),a.length===1)break}const u=a.length>1;return{status:"calculated",winner:u?a.map(p=>p.name):a[0].name,winnerCode:u?a.map(p=>p.code):a[0].code,pickedCorrectWinner:!0,eligiblePlayers:i.length,eliminatedPlayers:Object.keys(t).length-i.length,tiebreakerUsed:c.length>1,isTrueTie:u,steps:c}}function gC(t,e){const n="superbowl",r=mr(e,n);if(r===0)return{status:"not_scored",winner:null,message:"Waiting for Super Bowl results"};const s=[];if(Object.keys(t).forEach(p=>{const d=t[p],h=d.name,_=d.picks;if(!_||!_[n])return;const w=pr(_,n),P=Gn(w,r);s.push({name:h,code:p,picks:_,predictedTotal:w,difference:P})}),s.length===0)return{status:"no_picks",winner:null,message:"No picks submitted for Super Bowl"};const i=Math.min(...s.map(p=>p.difference));let l=s.filter(p=>p.difference===i);if(l.length===1)return{status:"calculated",winner:l[0].name,winnerCode:l[0].code,actualTotal:r,predictedTotal:l[0].predictedTotal,difference:i,tiebreakerUsed:!1,isTrueTie:!1,steps:[{level:"Week 4 Total Points",actualTotal:r,remaining:1,winner:l[0].name,minDifference:i}]};const a=[{key:"conference",name:"Week 3"},{key:"divisional",name:"Week 2"},{key:"wildcard",name:"Week 1"}],c=[{level:"Week 4 Total Points",actualTotal:r,remaining:l.length,tied:l.map(p=>p.name),minDifference:i,details:l.map(p=>({name:p.name,predictedTotal:p.predictedTotal,difference:p.difference}))}];for(const p of a){if(l.length===1)break;const d=mr(e,p.key),h=l.map(w=>{const P=pr(w.picks,p.key),E=Gn(P,d);return{...w,weekPredictedTotal:P,weekDifference:E,weekActualTotal:d}}),_=Math.min(...h.map(w=>w.weekDifference));if(l=h.filter(w=>w.weekDifference===_),c.push({level:`${p.name} Total Points`,actualTotal:d,remaining:l.length,tied:l.map(w=>w.name),minDifference:_,details:h.map(w=>({name:w.name,predictedTotal:w.weekPredictedTotal,difference:w.weekDifference}))}),l.length===1)break}if(l.length===0)return{status:"no_picks",winner:null,message:"No valid picks for tiebreaker weeks"};const u=l.length>1;return{status:"calculated",winner:u?l.map(p=>p.name):l[0].name,winnerCode:u?l.map(p=>p.code):l[0].code,actualTotal:r,predictedTotal:l[0].predictedTotal,difference:l[0].difference,tiebreakerUsed:c.length>1,isTrueTie:u,steps:c,allPlayerResults:s.sort((p,d)=>p.difference-d.difference)}}function yC(t,e){const n=[{key:"wildcard",name:"Week 1"},{key:"divisional",name:"Week 2"},{key:"conference",name:"Week 3"},{key:"superbowl",name:"Week 4"}],r={};if(n.forEach(d=>{r[d.key]=Nd(e,d.key)}),!n.every(d=>Object.keys(r[d.key]).length>0))return{status:"not_scored",winner:null,message:"Waiting for all playoff rounds to complete"};const i=[];if(Object.keys(t).forEach(d=>{const h=t[d],_=h.name,w=h.picks;let P=0;const E={};n.forEach(v=>{const y=Vy(w,r[v.key],v.key);E[v.key]=y,P+=y}),i.push({name:_,code:d,picks:w,totalCorrect:P,weeklyCorrect:E})}),i.length===0)return{status:"no_picks",winner:null,message:"No picks submitted"};const l=Math.max(...i.map(d=>d.totalCorrect));let a=i.filter(d=>d.totalCorrect===l);if(a.length===1)return{status:"calculated",winner:a[0].name,winnerCode:a[0].code,correctWinners:l,tiebreakerUsed:!1,isTrueTie:!1,steps:[{layer:0,type:"Overall Correct Winners",remaining:1,winner:a[0].name,correctWinners:l}]};const c=[{layer:0,type:"Overall Correct Winners",remaining:a.length,tied:a.map(d=>d.name),correctWinners:l}],u=[...n].reverse();for(const d of u){if(a.length===1)break;const h=Math.max(...a.map(w=>w.weeklyCorrect[d.key])),_=a.length;if(a=a.filter(w=>w.weeklyCorrect[d.key]===h),c.push({layer:1,type:"Correct Winners",level:`${d.name} Winners`,remaining:a.length,tied:a.map(w=>w.name),maxCorrect:h,eliminated:_-a.length}),a.length===1)break}if(a.length===1)return{status:"calculated",winner:a[0].name,winnerCode:a[0].code,correctWinners:l,tiebreakerUsed:!0,isTrueTie:!1,steps:c};for(const d of u){if(a.length===1)break;const h=mr(e,d.key),_=a.map(E=>{const v=pr(E.picks,d.key),y=Gn(v,h);return{...E,weekPredictedTotal:v,weekDifference:y}}),w=Math.min(..._.map(E=>E.weekDifference)),P=a.length;if(a=_.filter(E=>E.weekDifference===w),c.push({layer:2,type:"Closest to Totals",level:`${d.name} Total Points`,actualTotal:h,remaining:a.length,tied:a.map(E=>E.name),minDifference:w,eliminated:P-a.length,details:_.map(E=>({name:E.name,predictedTotal:E.weekPredictedTotal,difference:E.weekDifference}))}),a.length===1)break}if(a.length===0)return{status:"no_picks",winner:null,message:"No valid picks for tiebreaker weeks"};const p=a.length>1;return{status:"calculated",winner:p?a.map(d=>d.name):a[0].name,winnerCode:p?a.map(d=>d.code):a[0].code,correctWinners:l,tiebreakerUsed:!0,isTrueTie:p,steps:c,allPlayerResults:i.sort((d,h)=>h.totalCorrect-d.totalCorrect)}}function xC(t,e){const n=[{key:"wildcard",name:"Week 1"},{key:"divisional",name:"Week 2"},{key:"conference",name:"Week 3"},{key:"superbowl",name:"Week 4"}],r={};let s=0;if(n.forEach(d=>{const h=mr(e,d.key);r[d.key]=h,s+=h}),s===0)return{status:"not_scored",winner:null,message:"Waiting for all playoff rounds to complete"};const i=[];if(Object.keys(t).forEach(d=>{const h=t[d],_=h.name,w=h.picks;let P=0;const E={};n.forEach(y=>{const k=pr(w,y.key);E[y.key]=k,P+=k});const v=Gn(P,s);i.push({name:_,code:d,picks:w,overallPredictedTotal:P,overallDifference:v,weeklyPredictedTotals:E})}),i.length===0)return{status:"no_picks",winner:null,message:"No picks submitted"};const l=Math.min(...i.map(d=>d.overallDifference));let a=i.filter(d=>d.overallDifference===l);if(a.length===1)return{status:"calculated",winner:a[0].name,winnerCode:a[0].code,overallActualTotal:s,overallPredictedTotal:a[0].overallPredictedTotal,difference:l,tiebreakerUsed:!1,isTrueTie:!1,steps:[{level:"Overall Total Points",actualTotal:s,remaining:1,winner:a[0].name,minDifference:l}],allPlayerResults:i.sort((d,h)=>d.overallDifference-h.overallDifference)};const c=[{level:"Overall Total Points",actualTotal:s,remaining:a.length,tied:a.map(d=>d.name),minDifference:l,details:a.map(d=>({name:d.name,predictedTotal:d.overallPredictedTotal,difference:d.overallDifference}))}],u=[...n].reverse();for(const d of u){if(a.length===1)break;const h=r[d.key],_=a.map(E=>{const v=E.weeklyPredictedTotals[d.key],y=Gn(v,h);return{...E,weekPredictedTotal:v,weekDifference:y}}),w=Math.min(..._.map(E=>E.weekDifference)),P=a.length;if(a=_.filter(E=>E.weekDifference===w),c.push({level:`${d.name} Total Points`,actualTotal:h,remaining:a.length,tied:a.map(E=>E.name),minDifference:w,eliminated:P-a.length,details:_.map(E=>({name:E.name,predictedTotal:E.weekPredictedTotal,difference:E.weekDifference}))}),a.length===1)break}if(a.length===0)return{status:"no_picks",winner:null,message:"No valid picks for tiebreaker weeks"};const p=a.length>1;return{status:"calculated",winner:p?a.map(d=>d.name):a[0].name,winnerCode:p?a.map(d=>d.code):a[0].code,overallActualTotal:s,overallPredictedTotal:a[0].overallPredictedTotal,difference:a[0].overallDifference,tiebreakerUsed:c.length>1,isTrueTie:p,steps:c,allPlayerResults:i.sort((d,h)=>d.overallDifference-h.overallDifference)}}const vC=({calculatedWinners:t,publishedWinners:e,isPoolManager:n,onPublishPrize:r,onUnpublishPrize:s})=>{const[i,l]=L.useState({"Week 1":!0,"Week 2":!1,"Week 3":!1,"Week 4":!1,"Grand Prize":!1}),[a,c]=L.useState({}),u=m=>{l(S=>({...S,[m]:!S[m]}))},p=m=>{c(S=>({...S,[m]:!S[m]}))},d=()=>{l({"Week 1":!0,"Week 2":!0,"Week 3":!0,"Week 4":!0,"Grand Prize":!0})},h=()=>{l({"Week 1":!1,"Week 2":!1,"Week 3":!1,"Week 4":!1,"Grand Prize":!1})},_=[{week:"Week 1",title:"Most Correct Winners",amount:"$50",icon:"",calcKey:"week1.prize1",pubKey:"week1_prize1"},{week:"Week 1",title:"Closest Total Points",amount:"$50",icon:"",calcKey:"week1.prize2",pubKey:"week1_prize2"},{week:"Week 2",title:"Most Correct Winners",amount:"$50",icon:"",calcKey:"week2.prize1",pubKey:"week2_prize1"},{week:"Week 2",title:"Closest Total Points",amount:"$50",icon:"",calcKey:"week2.prize2",pubKey:"week2_prize2"},{week:"Week 3",title:"Most Correct Winners",amount:"$50",icon:"",calcKey:"week3.prize1",pubKey:"week3_prize1"},{week:"Week 3",title:"Closest Total Points",amount:"$50",icon:"",calcKey:"week3.prize2",pubKey:"week3_prize2"},{week:"Week 4",title:"Correct Winner",amount:"$50",icon:"",calcKey:"week4.prize1",pubKey:"week4_prize1"},{week:"Week 4",title:"Closest Total Points",amount:"$50",icon:"",calcKey:"week4.prize2",pubKey:"week4_prize2"},{week:"Grand Prize",title:"Most Correct Winners",amount:"$120",icon:"",calcKey:"grandPrize.prize1",pubKey:"grand_prize1"},{week:"Grand Prize",title:"Closest Total Points",amount:"$80",icon:"",calcKey:"grandPrize.prize2",pubKey:"grand_prize2"}],w=m=>{const S=m.split(".");let b=t;for(const j of S)if(b=b==null?void 0:b[j],!b)return null;return b},P=m=>(e==null?void 0:e[m])===!0,E=(m,S)=>{r&&r(m.pubKey,m,S)},v=(m,S)=>{const b=S.steps&&S.steps.length>0,j=S.tiebreakerUsed&&S.tiedPlayersDetails&&S.tiedPlayersDetails.length>0;if(!b&&!j)return o.jsxs("div",{className:"expanded-view",children:[o.jsx("div",{className:"breakdown-header",children:" FULL BREAKDOWN "}),o.jsx("p",{children:"Winner determined without tiebreakers."})]});if(b)return o.jsxs("div",{className:"expanded-view",children:[o.jsx("div",{className:"breakdown-header",children:" FULL TIEBREAKER BREAKDOWN "}),S.steps.map((R,U)=>o.jsxs("div",{className:"breakdown-step",children:[o.jsxs("div",{className:"step-header",children:[R.layer!==void 0&&o.jsxs("span",{className:"layer-badge",children:["Layer ",R.layer]}),"STEP ",U+1,": ",R.level]}),R.actualTotal!==void 0&&o.jsxs("div",{className:"step-detail",children:["Actual total: ",R.actualTotal," points"]}),R.remaining!==void 0&&o.jsxs("div",{className:"step-detail",children:[R.remaining," player",R.remaining!==1?"s":""," remain",R.remaining===1?"s":""]}),R.tied&&R.tied.length>1&&o.jsxs("div",{className:"step-detail tied-players",children:[" Tied: ",R.tied.join(", ")]}),R.winner&&o.jsxs("div",{className:"step-detail winner",children:[" Winner: ",o.jsx("strong",{children:R.winner})]}),R.eliminated>0&&o.jsxs("div",{className:"step-detail eliminated",children:[" ",R.eliminated," player",R.eliminated!==1?"s":""," eliminated"]}),R.details&&R.details.length>0&&o.jsx("div",{className:"player-details",children:R.details.map((W,F)=>o.jsxs("div",{className:"player-row",children:[o.jsxs("span",{className:"player-name",children:[W.name,":"]}),o.jsxs("span",{className:"player-prediction",children:[W.predictedTotal," predicted"]}),o.jsxs("span",{className:"player-diff",children:["(off by ",W.difference,")"]})]},F))})]},U))]});if(j)return o.jsxs("div",{className:"expanded-view",children:[o.jsx("div",{className:"breakdown-header",children:" FULL TIEBREAKER BREAKDOWN "}),o.jsxs("div",{className:"breakdown-step",children:[o.jsxs("div",{className:"step-header",children:["INITIAL TIE: ",S.correctWinners," correct winner",S.correctWinners!==1?"s":""]}),o.jsxs("div",{className:"step-detail tied-players",children:[" Tied: ",S.tiedPlayers.join(", ")]})]}),o.jsxs("div",{className:"breakdown-step",children:[o.jsxs("div",{className:"step-header",children:["TIEBREAKER: ",S.tiebreakerLevel]}),o.jsxs("div",{className:"step-detail",children:["Actual total: ",S.actualTotal," points"]}),o.jsx("div",{className:"player-details",children:S.tiedPlayersDetails.map((R,U)=>o.jsxs("div",{className:"player-row",children:[o.jsxs("span",{className:"player-name",children:[R.name,":"]}),o.jsxs("span",{className:"player-prediction",children:[R.predictedTotal," predicted"]}),o.jsxs("span",{className:"player-diff",children:["(off by ",R.difference,")"]}),R.name===S.winner&&o.jsx("span",{className:"winner-badge",children:" WINNER"})]},U))})]})]})},y=m=>{var R;const S=w(m.calcKey),b=P(m.pubKey),j=a[m.pubKey]||!1;return!S||S.status==="not_scored"||S.status==="no_picks"?o.jsxs("div",{className:"prize-card",children:[o.jsxs("div",{className:"prize-header",children:[o.jsx("span",{className:"prize-icon",children:m.icon}),o.jsx("span",{className:"prize-title",children:m.title}),o.jsx("span",{className:"prize-amount",children:m.amount})]}),o.jsx("div",{className:"prize-status waiting",children:" Waiting for game results"})]},m.pubKey):b?o.jsxs("div",{className:"prize-card published",children:[o.jsxs("div",{className:"prize-header",children:[o.jsx("span",{className:"prize-icon",children:m.icon}),o.jsx("span",{className:"prize-title",children:m.title}),o.jsx("span",{className:"prize-amount",children:m.amount})]}),o.jsxs("div",{className:"moderate-view",children:[o.jsxs("div",{className:"winner-announcement",children:[" Winner: ",o.jsx("strong",{children:Array.isArray(S.winner)?S.winner.join(", "):S.winner})]}),S.correctWinners!==void 0&&o.jsxs("div",{className:"winner-stat",children:[S.correctWinners," correct winner",S.correctWinners!==1?"s":""]}),S.difference!==void 0&&o.jsxs("div",{className:"winner-stat",children:["Off by ",S.difference," point",S.difference!==1?"s":"",S.predictedTotal!==void 0&&S.actualTotal!==void 0&&o.jsxs("span",{children:[" (Predicted: ",S.predictedTotal,", Actual: ",S.actualTotal,")"]})]}),S.tiebreakerUsed&&o.jsxs("div",{className:"tiebreaker-info",children:[S.tiedPlayers&&S.tiedPlayers.length>1&&o.jsxs("div",{className:"tied-count",children:[S.tiedPlayers.length," players tied with ",S.correctWinners||"same score"]}),S.tiebreakerLevel&&o.jsxs("div",{className:"tiebreaker-method",children:["Tiebreaker: ",S.tiebreakerLevel]}),S.tiedPlayers&&S.tiedPlayers.length>0&&o.jsxs("div",{className:"tied-players-list",children:["Tied players: ",S.tiedPlayers.join(", ")]})]}),S.isTrueTie&&o.jsx("div",{className:"true-tie-notice",children:" TRUE TIE - Prize will be split equally"}),!S.tiebreakerUsed&&!S.isTrueTie&&o.jsx("div",{className:"no-tiebreaker",children:"No tiebreaker needed"})]}),(((R=S.steps)==null?void 0:R.length)>0||S.tiebreakerUsed)&&o.jsx("button",{className:"toggle-breakdown-btn",onClick:()=>p(m.pubKey),children:j?" Hide Full Breakdown":" Show Full Breakdown"}),j&&v(m,S),n&&o.jsxs("button",{className:"unpublish-btn",onClick:()=>s(m.pubKey),children:[" Unpublish ",m.title]})]},m.pubKey):o.jsxs("div",{className:"prize-card unpublished",children:[o.jsxs("div",{className:"prize-header",children:[o.jsx("span",{className:"prize-icon",children:m.icon}),o.jsx("span",{className:"prize-title",children:m.title}),o.jsx("span",{className:"prize-amount",children:m.amount})]}),o.jsx("div",{className:"prize-status unpublished",children:n?o.jsxs(o.Fragment,{children:[" Not yet published",o.jsx("button",{className:"publish-btn",onClick:()=>E(m,S),children:" Review & Publish"})]}):o.jsxs("div",{children:[" Not yet published",o.jsx("div",{style:{fontSize:"0.85rem",marginTop:"5px",opacity:.8},children:"(Pool Manager is reviewing calculations)"})]})})]},m.pubKey)},k=[{key:"Week 1",title:"Week 1 - Wild Card Round (6 games)",prizes:_.filter(m=>m.week==="Week 1")},{key:"Week 2",title:"Week 2 - Divisional Round (4 games)",prizes:_.filter(m=>m.week==="Week 2")},{key:"Week 3",title:"Week 3 - Conference Championships (2 games)",prizes:_.filter(m=>m.week==="Week 3")},{key:"Week 4",title:"Week 4 - Super Bowl (1 game)",prizes:_.filter(m=>m.week==="Week 4")},{key:"Grand Prize",title:"Grand Prizes",prizes:_.filter(m=>m.week==="Grand Prize")}];return o.jsxs("div",{className:"how-winners-container",children:[o.jsx("h2",{children:" How Winners Are Determined"}),o.jsx("p",{className:"intro-text",children:"Winners are published after the Pool Manager reviews calculations. Check back after each week's games complete."}),o.jsxs("div",{className:"week-controls",children:[o.jsx("button",{className:"control-btn",onClick:d,children:" Expand All Weeks"}),o.jsx("button",{className:"control-btn",onClick:h,children:" Collapse All Weeks"})]}),o.jsx("div",{className:"divider"}),k.map((m,S)=>o.jsxs("div",{className:"week-section",children:[o.jsxs("h3",{className:`week-header collapsible ${i[m.key]?"expanded":"collapsed"}`,onClick:()=>u(m.key),children:[o.jsx("span",{className:"toggle-icon",children:i[m.key]?"":""}),m.title]}),i[m.key]&&o.jsx("div",{className:"prizes-container",children:m.prizes.map(b=>y(b))}),S<k.length-1&&o.jsx("div",{className:"divider"})]},m.key))]})},_C={apiKey:"AIzaSyDr3PPXC90wvQW_LG8TkAyR9K-7e0loQ3A",authDomain:"nfl-playoff-pool-2025-scores.firebaseapp.com",databaseURL:"https://nfl-playoff-pool-2025-scores-default-rtdb.firebaseio.com",projectId:"nfl-playoff-pool-2025-scores",storageBucket:"nfl-playoff-pool-2025-scores.firebasestorage.app",messagingSenderId:"844539772456",appId:"1:844539772456:web:9bbfcf523195a5eedfff1d"},wC=wg(_C),X=bd(wC),Xh={firstFriday:"2026-01-09",lastMonday:"2026-02-09"},vn={wildcard:"2026-01-10",divisional:"2026-01-17",conference:"2026-01-25",superbowl:"2026-02-08"},_n=["76BB89","Z9Y8X7"],Ee={"76BB89":"POOL MANAGER - Richard",Z9Y8X7:"POOL MANAGER - Dennis",J239W4:"Bob Casson",B7Y4X3:"Bob Desrosiers",D4F7G5:"Bonnie Biletski","536EE2":"Brian Colburg",X8HH67:"Chris Neufeld",G7R3P5:"Curtis Braun",A4LJC9:"Curtis Palidwor",X3P8N1:"Dallas Pylypow",W32R1Z:"Daniel Bennett",HM8T67:"Darrell Klassen",TA89R2:"Dave Boyarski",K2P9W5:"Dave Desrosiers",A5K4T7:"Dennis Biletski","6WRUJR":"Emily Chadwick",AB6C89:"Gareth Reeve",D3F6G9:"Jarrod Reimer",T42B67:"Jo Behr",PUEFKF:"Joshua Biletski",ABC378:"Ken Mcleod",K9R3N6:"Kevin Pich",H7P3N5:"Larry Bretecher",B5R4T6:"Larry Strand",L2W9X2:"Michelle Desrosiers","5GGPL3":"Mike Brkich",PC12L3:"Natasha Biletski",T4M8Z8:"Neema Dadmand","9CD72G":"Neil Banman",T7Y4R8:"Neil Foster",KWBZ86:"Nick Melanidis","2WQA9X":"Nima Ahmadi",E4T6J7:"Orest Pich",N4M8Q2:"Randy Moffatt",B8L9M2:"Richard Biletski","62R92L":"Rob Crowe",H8M3N7:"Rob Kost",WW3F44:"Ryan Moffatt",E5G7G8:"Tony Creta"},De={wildcard:{name:"Wild Card Round (Jan 10-12, 2026)",deadline:"Friday, January 9, 2026 at 11:59 PM PST",games:[{id:1,team1:"AFC #7",team2:"AFC #2"},{id:2,team1:"AFC #6",team2:"AFC #3"},{id:3,team1:"AFC #5",team2:"AFC #4"},{id:4,team1:"NFC #7",team2:"NFC #2"},{id:5,team1:"NFC #6",team2:"NFC #3"},{id:6,team1:"NFC #5",team2:"NFC #4"}]},divisional:{name:"Divisional Round (Jan 17-18, 2026)",deadline:"Friday, January 16, 2026 at 11:59 PM PST",games:[{id:7,team1:"AFC Winner 1",team2:"AFC #1"},{id:8,team1:"AFC Winner 2",team2:"AFC Winner 3"},{id:9,team1:"NFC Winner 1",team2:"NFC #1"},{id:10,team1:"NFC Winner 2",team2:"NFC Winner 3"}]},conference:{name:"Conference Championships (Jan 25, 2026)",deadline:"Friday, January 23, 2026 at 11:59 PM PST",games:[{id:11,team1:"AFC Winner A",team2:"AFC Winner B"},{id:12,team1:"NFC Winner A",team2:"NFC Winner B"}]},superbowl:{name:"Super Bowl LIX (Feb 8, 2026)",deadline:"Friday, February 6, 2026 at 11:59 PM PST",games:[{id:13,team1:"AFC Champion",team2:"NFC Champion"}]}};function kC(){const[t,e]=L.useState("picks"),[n,r]=L.useState(""),[s,i]=L.useState(""),[l,a]=L.useState(!1),[c,u]=L.useState("wildcard"),[p,d]=L.useState({}),[h,_]=L.useState([]),[w,P]=L.useState(!1),[E,v]=L.useState({}),[y,k]=L.useState({}),[m,S]=L.useState({}),[b,j]=L.useState({wildcard:"",divisional:"",conference:"",superbowl_week4:"",superbowl_week3:"",superbowl_week2:"",superbowl_week1:"",superbowl_grand:""}),[R,U]=L.useState({}),[W,F]=L.useState({}),[ee,he]=L.useState(!1),[H,Xe]=L.useState({superbowl_week4:!1,superbowl_week3:!1,superbowl_week2:!1,superbowl_week1:!1,superbowl_grand:!1}),[ce,Ae]=L.useState({wildcard:{locked:!1,lockDate:null,autoLockDate:vn.wildcard},divisional:{locked:!1,lockDate:null,autoLockDate:vn.divisional},conference:{locked:!1,lockDate:null,autoLockDate:vn.conference},superbowl:{locked:!1,lockDate:null,autoLockDate:vn.superbowl}}),[z,K]=L.useState({}),[J,Se]=L.useState(null),[Le,_r]=L.useState(null),[ct,Ct]=L.useState(!1),[nt,Ie]=L.useState(null),[Vi,Yl]=L.useState(null),[ps,Td]=L.useState(!1),[jd,Pd]=L.useState([]),[Hy,Yy]=L.useState([]),[Hi,Ky]=L.useState({}),[Be,Id]=L.useState({totalFees:0,prizeValue:0,numberOfPlayers:0,entryFee:20}),[Qy,Yi]=L.useState(!1),[At,Kl]=L.useState(""),[wr,Ql]=L.useState(1),[Et,Ki]=L.useState([]),[gn,Xl]=L.useState(!1),[Vt,ms]=L.useState([]),[Xy,ql]=L.useState(!1),[Jl,gs]=L.useState({}),[qy,Jy]=L.useState({}),[Zy,ys]=L.useState(!1),[le,kr]=L.useState(""),[Sr,xs]=L.useState(null),[Kn,vs]=L.useState(null),[e0,_s]=L.useState(!1),[Rd,Cr]=L.useState(null),[ws,Zl]=L.useState(null),pe=()=>_n.includes(s)&&l,t0=()=>{let f=Math.floor(Math.random()*41)+10,g=Math.floor(Math.random()*41)+10;for(;f===g;)g=Math.floor(Math.random()*41)+10;return{team1:f,team2:g}},Ad=()=>{const f=De[c].games,g={};f.forEach(x=>{g[x.id]=t0()}),vs(g),_s(!0)},n0=async()=>{if(!le||!Kn)return;const f=Ee[le];if(f)try{const g=Y(X,"picks"),x=await Ms(g);let C=null;if(x.exists()){const I=x.val();for(const[N,A]of Object.entries(I))if(A.playerCode===le&&A.week===c){C=N;break}}const T={playerName:f,playerCode:le,week:c,predictions:Kn,timestamp:C&&x.val()[C].timestamp||Date.now(),lastUpdated:Date.now(),enteredBy:"POOL_MANAGER_RNG",enteredByCode:s,enteredByName:n};C?await ve(Y(X,`picks/${C}`),T):await Io(Y(X,"picks"),T),alert(` RNG picks successfully submitted for ${f}!`),_s(!1),vs(null),ys(!1),kr("")}catch(g){console.error("Error submitting RNG picks:",g),alert(" Error submitting RNG picks. Please try again.")}},r0=()=>{if(!le)return;const f=h.find(g=>g.playerCode===le&&g.week===c);f&&f.predictions?(d(f.predictions),gs({...f.predictions}),xs("manual")):(d({}),gs({}),xs("manual"))},s0=async f=>{if(f.preventDefault(),!le){alert("Please select a player first.");return}const g=Ee[le];De[c];try{const x=Y(X,"picks"),C=await Ms(x);let T=null;if(C.exists()){const N=C.val();for(const[A,M]of Object.entries(N))if(M.playerCode===le&&M.week===c){T=A;break}}const I={playerName:g,playerCode:le,week:c,predictions:p,timestamp:T&&C.val()[T].timestamp||Date.now(),lastUpdated:Date.now(),enteredBy:"POOL_MANAGER_MANUAL",enteredByCode:s,enteredByName:n};T?await ve(Y(X,`picks/${T}`),I):await Io(Y(X,"picks"),I),alert(` Picks successfully submitted for ${g}!`),d({}),ys(!1),kr(""),xs(null)}catch(x){console.error("Error submitting picks for player:",x),alert(" Error submitting picks. Please try again.")}},i0=async()=>{if(!le)return;const f=Ee[le];try{console.log(" DEBUG: Starting delete for player:",f),console.log(" DEBUG: Player code:",le),console.log(" DEBUG: Current week:",c);const g=Y(X,"picks"),x=await Ms(g);if(console.log(" DEBUG: Got snapshot, exists?",x.exists()),x.exists()){const C=x.val();console.log(" DEBUG: Total picks in database:",Object.keys(C).length);let T=null;for(const[I,N]of Object.entries(C))if(console.log(` DEBUG: Checking pick ${I}:`,N.playerCode,N.week),N.playerCode===le&&N.week===c){T=I,console.log(" DEBUG: FOUND KEY TO DELETE:",T);break}T?(console.log(" DEBUG: Attempting to delete key:",T),await Qh(Y(X,`picks/${T}`)),console.log(" DEBUG: Delete successful!"),alert(` ${f}'s picks for ${c==="wildcard"?"Week 1":c==="divisional"?"Week 2":c==="conference"?"Week 3":"Week 4"} have been deleted!`)):(console.log(" DEBUG: No pick found to delete"),alert(` ${f} has no picks for this week.`))}Cr(null),kr("")}catch(g){console.error(" DEBUG: Error deleting picks:",g),console.error(" DEBUG: Error message:",g.message),console.error(" DEBUG: Error code:",g.code),alert(` Error deleting picks: ${g.message}

Check browser console (F12) for details.`)}},o0=async()=>{if(!le)return;const f=Ee[le];try{console.log(" DEBUG: Starting delete ALL for player:",f),console.log(" DEBUG: Player code:",le);const g=Y(X,"picks"),x=await Ms(g);if(console.log(" DEBUG: Got snapshot, exists?",x.exists()),x.exists()){const C=x.val(),T=[];console.log(" DEBUG: Total picks in database:",Object.keys(C).length);for(const[I,N]of Object.entries(C))N.playerCode===le&&(console.log(" DEBUG: Found pick to delete:",I,N.week),T.push(I));if(console.log(" DEBUG: Total keys to delete:",T.length),T.length>0){console.log(" DEBUG: Attempting to delete keys:",T);const I=T.map(N=>Qh(Y(X,`picks/${N}`)));await Promise.all(I),console.log(" DEBUG: Delete ALL successful!"),alert(` ALL picks for ${f} have been deleted!

Deleted ${T.length} pick(s) across all weeks.`)}else console.log(" DEBUG: No picks found to delete"),alert(` ${f} has no picks in any week.`)}Cr(null),kr(""),ys(!1)}catch(g){console.error(" DEBUG: Error deleting all picks:",g),console.error(" DEBUG: Error message:",g.message),console.error(" DEBUG: Error code:",g.code),alert(` Error deleting picks: ${g.message}

Check browser console (F12) for details.`)}},l0=async f=>{try{console.log(" Clearing week data for:",f),E[f]&&(await ve(Y(X,`teamCodes/${f}`),null),console.log(" Cleared team codes")),y[f]&&(await ve(Y(X,`actualScores/${f}`),null),console.log(" Cleared actual scores")),m[f]&&(await ve(Y(X,`gameStatus/${f}`),null),console.log(" Cleared game status")),alert(` Week ${f==="wildcard"?"1":f==="divisional"?"2":f==="conference"?"3":"4"} data cleared!

Team names, scores, and statuses have been deleted.
Player picks are still intact.`),Zl(null)}catch(g){console.error(" Error clearing week data:",g),alert(` Error clearing week data: ${g.message}`)}},Dd=(f,g,x,C,T,I)=>{const N=Number(f)>Number(g),A=Number(g)>Number(f);if(f===g||!f||!g)return{background:"transparent",color:"#000"};if(x!==void 0&&C!==void 0&&x!==""&&C!==""){const M=Number(x)>Number(C),G=Number(C)>Number(x);if(!T||T===""){if(I&&N)return M?{background:"#fff9c4",color:"#000"}:{background:"#b3e5fc",color:"#000"};if(!I&&A)return G?{background:"#fff9c4",color:"#000"}:{background:"#b3e5fc",color:"#000"}}if(T==="live"){if(I&&N)return M?{background:"#c8e6c9",color:"#000"}:{background:"#ffcdd2",color:"#000"};if(!I&&A)return G?{background:"#c8e6c9",color:"#000"}:{background:"#ffcdd2",color:"#000"}}if(T==="final"){if(I&&N)return M?{background:"#4caf50",color:"#000"}:{background:"#f44336",color:"#000"};if(!I&&A)return G?{background:"#4caf50",color:"#000"}:{background:"#f44336",color:"#000"}}}return{background:"transparent",color:"#000"}},a0=async(f,g,x)=>{try{const C=f/10,T={totalFees:Number(f),prizeValue:Number(C.toFixed(2)),numberOfPlayers:Number(g),entryFee:Number(x),lastUpdated:new Date().toISOString()};await ve(Y(X,"prizePool"),T),Id(T),alert(` Prize pool saved!

Total Pool: $${f}
Each Prize: $${C.toFixed(2)} (10%)`),Yi(!1)}catch(C){console.error("Error saving prize pool:",C),alert(` Error saving prize pool: ${C.message}`)}},Qi=(f,g)=>{const x=Math.floor(f*100/g)/100,C=Math.floor(1e4/g)/100,T=[];let I=0;for(let M=0;M<g-1;M++)T.push({percentage:C,amount:x}),I+=x;const N=Number((f-I).toFixed(2)),A=Number((100-C*(g-1)).toFixed(2));return T.push({percentage:A,amount:N}),T},c0=async()=>{if(!At||Et.length===0){alert(" Please select a prize and at least one winner.");return}try{const f=Be.prizeValue||100;let g=[];if(gn){const C=Vt.reduce((I,N)=>I+Number(N.percentage||0),0),T=Vt.reduce((I,N)=>I+Number(N.amount||0),0);if(Math.abs(C-100)>.01){alert(` Percentages must equal 100%!
Current total: ${C.toFixed(2)}%`);return}if(Math.abs(T-f)>.01){alert(` Amounts must equal $${f.toFixed(2)}!
Current total: $${T.toFixed(2)}`);return}g=Vt.map((I,N)=>({playerCode:Et[N].code,playerName:Et[N].name,percentage:Number(I.percentage),amount:Number(I.amount)}))}else{const C=Qi(f,Et.length);g=Et.map((T,I)=>({playerCode:T.code,playerName:T.name,percentage:C[I].percentage,amount:C[I].amount}))}const x={prizeNumber:At,prizeName:ks(At),prizeValue:f,winners:g,declaredBy:"POOL_MANAGER",declaredByCode:s,declaredByName:n,declaredAt:new Date().toISOString()};await ve(Y(X,`officialWinners/prize${At}`),x),alert(` Winner(s) declared for ${ks(At)}!

${g.map(C=>`${C.playerName}: ${C.percentage}% ($${C.amount.toFixed(2)})`).join(`
`)}`),Kl(""),Ql(1),Ki([]),Xl(!1),ms([]),ql(!1)}catch(f){console.error("Error declaring winners:",f),alert(` Error declaring winners: ${f.message}`)}},ks=f=>({1:"Prize #1 - Week 1 Most Correct Predictions",2:"Prize #2 - Week 1 Closest Total Points",3:"Prize #3 - Week 2 Most Correct Predictions",4:"Prize #4 - Week 2 Closest Total Points",5:"Prize #5 - Week 3 Most Correct Predictions",6:"Prize #6 - Week 3 Closest Total Points",7:"Prize #7 - Week 4 Most Correct Predictions",8:"Prize #8 - Week 4 Closest Total Points",9:"Prize #9 - Overall 4-Week Grand Total Most Correct Predictions",10:"Prize #10 - Overall 4-Week Grand Total Closest Points"})[f]||`Prize #${f}`,u0=async f=>{if(window.confirm(`Are you sure you want to delete the winner declaration for ${ks(f)}?

This action cannot be undone!`))try{await ve(Y(X,`officialWinners/prize${f}`),null),alert(` Winner declaration deleted for ${ks(f)}`)}catch(g){console.error("Error deleting prize:",g),alert(` Error: ${g.message}`)}},Od=f=>{const g=vn[f];if(!g)return!1;const x=new Date,C=new Date(x.toLocaleString("en-US",{timeZone:"America/Los_Angeles"})),T=new Date(g+"T00:00:00");return C>=T},Ht=f=>{var g;return pe()?!1:(g=ce[f])!=null&&g.locked?!0:Od(f)};L.useEffect(()=>{const f=Y(X,"weekLockStatus");bt(f,g=>{const x=g.val();if(x){const C={};Object.keys(vn).forEach(T=>{var I,N;C[T]={locked:((I=x[T])==null?void 0:I.locked)||!1,lockDate:((N=x[T])==null?void 0:N.lockDate)||null,autoLockDate:vn[T]}}),Ae(C)}})},[]);const d0=f=>{const g=!ce[f].locked,x=g?new Date().toISOString():null,C={...ce,[f]:{...ce[f],locked:g,lockDate:x}};Ae(C),ve(Y(X,`weekLockStatus/${f}`),{locked:g,lockDate:x,autoLockDate:vn[f]}),alert(g?` Week ${f} is now LOCKED

Players cannot edit picks for this week.`:` Week ${f} is now UNLOCKED

Players can edit picks for this week.`)};L.useEffect(()=>{const f=Y(X,"picks");bt(f,g=>{const x=g.val();if(x){const C=Object.keys(x).map(T=>({...x[T],firebaseKey:T}));_(C)}else _([])})},[]),L.useEffect(()=>{const f=Y(X,"teamCodes");bt(f,g=>{const x=g.val();x&&v(x)})},[]),L.useEffect(()=>{const f=Y(X,"actualScores");bt(f,g=>{const x=g.val();x&&k(x)})},[]),L.useEffect(()=>{const f=Y(X,"gameStatus");bt(f,g=>{const x=g.val();x&&S(x)})},[]),L.useEffect(()=>{const f=Y(X,"officialWinners");bt(f,g=>{const x=g.val();x&&Ky(x)})},[]),L.useEffect(()=>{const f=Y(X,"prizePool");bt(f,g=>{const x=g.val();x&&Id(x)})},[]),L.useEffect(()=>{const f=Y(X,"calculatedWinners");bt(f,g=>{const x=g.val();x&&U(x)})},[]),L.useEffect(()=>{const f=Y(X,"publishedWinners");bt(f,g=>{const x=g.val();x&&F(x)})},[]),L.useEffect(()=>{const f=Y(X,"gameLocks");bt(f,g=>{const x=g.val();x&&K(x)})},[]),L.useEffect(()=>{const f=Y(X,"manualWeekTotals");bt(f,g=>{const x=g.val();x&&j(x)})},[]),L.useEffect(()=>{if(l&&n&&h.length>0){const f=h.find(g=>g.playerName===n&&g.week===c);f&&f.predictions?(console.log("Loading existing picks for",n,"week",c),d(f.predictions)):(console.log("No existing picks found - clearing form"),d({}))}},[c,h,l,n]),L.useEffect(()=>{const f=new qS(Ld,5);return Se(f),()=>{f&&f.stop()}},[]);const Ld=async()=>{try{console.log("Fetching scores from ESPN...");const f=await YS();if(!f.success){console.error("ESPN fetch failed:",f.error);return}console.log("ESPN games fetched:",f.games.length);const g=De[c].games,x={};if(f.games.forEach(C=>{var I;const T=XS(C,De,c,E);if(T){const N=T.gameId;if((I=z[c])!=null&&I[N]){console.log(`Game ${N} is locked, skipping API update`);return}x[N]={team1:T.team1Score,team2:T.team2Score,source:"espn",lastUpdated:new Date().toISOString()},S(A=>({...A,[c]:{...A[c],[N]:T.isFinal?"final":T.isLive?"live":""}}))}}),Object.keys(x).length>0){k(T=>({...T,[c]:{...T[c],...x}}));const C=Y(X,`actualScores/${c}`);await ve(C,{...y[c],...x}),console.log(`Updated ${Object.keys(x).length} games from ESPN`)}_r(new Date)}catch(f){console.error("Error fetching ESPN scores:",f)}},f0=f=>{var g;console.log(" Toggle clicked for game:",f),console.log(" Current week:",c),console.log(" Current locks:",z),console.log(" Current value for game",f,":",(g=z[c])==null?void 0:g[f]),K(x=>{const C={...x};C[c]||(C[c]={});const T=C[c][f],I=!T;console.log(" Old value:",T),console.log(" New value:",I),C[c][f]=I;const N=Y(X,`gameLocks/${c}/${f}`);return ve(N,I),console.log(" Saved to Firebase:",I),console.log(" Returning new locks:",C),C})},Wd=(f,g,x)=>{d(C=>({...C,[f]:{...C[f],[g]:x}})),console.log(" User typed score - setting hasUnsavedChanges to TRUE"),Ct(!0)},h0=()=>{if(Object.keys(p).some(x=>{var C,T;return((C=p[x])==null?void 0:C.team1)||((T=p[x])==null?void 0:T.team2)})&&!window.confirm(` WARNING!

Clicking RNG will OVERWRITE all your current picks!

Are you sure you want to continue?`))return;const g={};Ce.games.forEach(x=>{let C=Math.floor(Math.random()*43)+3,T=Math.floor(Math.random()*43)+3;for(;C===T;)T=Math.floor(Math.random()*43)+3;g[x.id]={team1:C.toString(),team2:T.toString()}}),d(g),console.log(" RNG: Setting hasUnsavedChanges to TRUE"),Ct(!0),console.log(" RNG: hasUnsavedChanges should now be true"),alert(` RNG picks generated for all ${Ce.games.length} games!

Score range: 3-45 points per team
No tied games guaranteed!

You can now edit any scores before submitting.`)},Md=(f,g,x)=>{var T;const C={...E,[c]:{...E[c]||{},[f]:{...((T=E[c])==null?void 0:T[f])||{},[g]:x.toUpperCase()}}};v(C),ve(Y(X,`teamCodes/${c}/${f}/${g}`),x.toUpperCase())},zd=(f,g,x)=>{var T;const C={...y,[c]:{...y[c]||{},[f]:{...((T=y[c])==null?void 0:T[f])||{},[g]:x}}};k(C),ve(Y(X,`actualScores/${c}/${f}/${g}`),x)},p0=(f,g)=>{const x={...m,[c]:{...m[c]||{},[f]:g}};S(x),ve(Y(X,`gameStatus/${c}/${f}`),g)},Er=(f,g)=>{const x={...b,[f]:g};j(x);const C=g!==""&&g!==null&&g!==void 0;Xe(T=>({...T,[f]:C})),ve(Y(X,`manualWeekTotals/${f}`),g||null)},m0=(f,g,x)=>{console.log("Publishing prize:",f),F(C=>({...C,[f]:!0})),ve(Y(X,`publishedWinners/${f}`),!0),alert(` Published: ${g.title}

Winner: ${x.winner}

Players can now see this result!`)},g0=f=>{window.confirm(` UNPUBLISH PRIZE?

This will hide the winner from all players.

Continue?`)&&(console.log("Unpublishing prize:",f),F(x=>({...x,[f]:!1})),ve(Y(X,`publishedWinners/${f}`),!1),alert(" Prize unpublished successfully!"))},Ss=f=>{j(g=>({...g,[f]:""})),Xe(g=>({...g,[f]:!1})),ve(Y(X,`manualWeekTotals/${f}`),null)},Fd=(f,g)=>{const x=h.find(T=>T.playerCode===f&&T.week===g);if(!x||!x.predictions)return null;let C=0;return Object.keys(x.predictions).forEach(T=>{const I=x.predictions[T];I&&I.team1&&I.team2&&(C+=(parseInt(I.team1)||0)+(parseInt(I.team2)||0))}),C},y0=f=>{const g=[],x={wildcard:1,divisional:2,conference:3,superbowl:4};return["wildcard","divisional","conference","superbowl"].forEach(C=>{h.some(I=>I.playerCode===f&&I.week===C)&&g.push(x[C])}),g},x0=f=>f.length===0||f.length===4?!1:!f.every((x,C)=>x===C+1),v0=f=>"P"+f.join(""),_0=(f,g)=>{const x=h.find(C=>C.playerCode===f&&C.week===g);return(x==null?void 0:x.enteredBy)==="POOL_MANAGER_RNG"},Bd=(f,g)=>{const x=h.find(I=>I.playerCode===f&&I.week===g);if(!x||!x.predictions)return 0;const C=y[g];if(!C)return 0;let T=0;return Object.keys(x.predictions).forEach(I=>{const N=x.predictions[I],A=C[I];if(N&&A&&N.team1&&N.team2&&A.team1&&A.team2){const M=parseInt(N.team1)+parseInt(N.team2),G=parseInt(A.team1)+parseInt(A.team2),$=Math.abs(M-G);T+=$}}),T},Xi=(f,g,x)=>{const C=Fd(f,g),T=Bd(f,g),I=_0(f,g),N=Object.keys(y[g]||{}).length>0;if(!C)return{display:"-",tooltip:"",fontSize:"16px"};const A=I?"*":"";return!N||T===0?{display:`${C}${A}`,tooltip:I?`Predicted: ${C} (RNG filled by Pool Manager)`:`Predicted: ${C}`,fontSize:"16px"}:{display:`${C}${A}/${T}`,tooltip:I?`Predicted: ${C} (RNG) | Difference: ${T}`:`Predicted: ${C} | Difference: ${T}`,fontSize:"16px"}},w0=f=>{const g=y0(f);if(g.length===0)return{display:"-",tooltip:"",fontSize:"16px"};const x=x0(g),C=x?v0(g)+"/":"";let T=0,I=0,N=0,A=!1,M=!0;const G={1:"wildcard",2:"divisional",3:"conference",4:"superbowl"};g.forEach(Q=>{const q=G[Q],Z=Fd(f,q),ie=Bd(f,q),de=Object.keys(y[q]||{}).length>0;Z&&(T+=Z,de&&ie>0?(I+=Z,N+=ie,A=!0):de||(M=!1))});let $="";return x&&($=`Weeks Entered: ${g.join(", ")} | `),A?M?($+=`Full Prediction: ${T} | Total Difference: ${N}`,{display:`${C}${T}/${N}`,tooltip:$,fontSize:"16px"}):($+=`Full Prediction: ${T} | Played Weeks: ${I} | Difference So Far: ${N}`,{display:`${C}${T}/${I}/${N}`,tooltip:$,fontSize:"14px"}):($+=`Full Prediction: ${T}`,{display:`${C}${T}`,tooltip:$,fontSize:"16px"})},Cs=f=>{const g=y[f];if(!g)return 0;let x=0;return Object.values(g).forEach(C=>{C&&C.team1&&C.team2&&(x+=(parseInt(C.team1)||0)+(parseInt(C.team2)||0))}),x},yn=(f,g)=>{if(b[f])return b[f];const x=Cs(g);return x>0?x:""},$d=()=>{if(b.superbowl_grand)return b.superbowl_grand;const f=Cs("wildcard"),g=Cs("divisional"),x=Cs("conference"),C=Cs("superbowl"),T=f+g+x+C;return T>0?T:""},k0=["ARI","ATL","BAL","BUF","CAR","CHI","CIN","CLE","DAL","DEN","DET","GB","HOU","IND","JAC","KC","LV","LAC","LAR","MIA","MIN","NE","NO","NYG","NYJ","PHI","PIT","SF","SEA","TB","TEN","WAS"],S0=()=>{const f=Ce.games.some($=>{var Q,q,Z,ie;return((q=(Q=E[c])==null?void 0:Q[$.id])==null?void 0:q.team1)||((ie=(Z=E[c])==null?void 0:Z[$.id])==null?void 0:ie.team2)}),g=Ce.games.some($=>{var Q,q,Z,ie;return((q=(Q=y[c])==null?void 0:Q[$.id])==null?void 0:q.team1)||((ie=(Z=y[c])==null?void 0:Z[$.id])==null?void 0:ie.team2)}),x=Ce.games.some($=>{var Q;return(Q=m[c])==null?void 0:Q[$.id]});if((f||g||x)&&!window.confirm(` POOL MANAGER RNG WARNING!

This will OVERWRITE:
 All team codes
 All actual scores
 All game statuses

Are you sure you want to continue?`))return;const C=[...k0].sort(()=>Math.random()-.5),T=Ce.games.length,I=T*2;if(I>C.length){alert(" Not enough unique teams for all games!");return}const N=C.slice(0,I),A={...E},M={...y},G={...m};A[c]||(A[c]={}),M[c]||(M[c]={}),G[c]||(G[c]={}),Ce.games.forEach(($,Q)=>{const q=N[Q*2],Z=N[Q*2+1];let ie=Math.floor(Math.random()*48)+3,de=Math.floor(Math.random()*48)+3;for(;ie===de;)de=Math.floor(Math.random()*48)+3;A[c][$.id]={team1:q,team2:Z},M[c][$.id]={team1:ie.toString(),team2:de.toString()},G[c][$.id]="final",ve(Y(X,`teamCodes/${c}/${$.id}`),{team1:q,team2:Z}),ve(Y(X,`actualScores/${c}/${$.id}`),{team1:ie.toString(),team2:de.toString()}),ve(Y(X,`gameStatus/${c}/${$.id}`),"final")}),v(A),k(M),S(G),alert(` POOL MANAGER RNG Complete!

 ${T} games populated
 Random teams assigned (each used once)
 Scores: 3-50 points
 No tied games guaranteed
 All games marked FINAL

Ready for testing!`)},Ud=()=>{if(console.log(""),console.log(" HANDLE LOGOUT CALLED"),console.log(" Current hasUnsavedChanges value:",ct),console.log(" Current predictions:",JSON.stringify(p)),console.log(" Current originalPicks:",JSON.stringify(Jl)),console.log(" Are they equal?",JSON.stringify(p)===JSON.stringify(Jl)),ct){if(console.log(" HAS UNSAVED CHANGES - SHOWING WARNING "),!window.confirm(` UNSAVED CHANGES!

You have unsaved picks that will be lost.

Click OK to DISCARD changes and logout
Click CANCEL to stay and save your picks`)){console.log(" User cancelled logout"),console.log("");return}console.log(" User confirmed logout - discarding changes")}else console.log(" NO UNSAVED CHANGES - LOGGING OUT DIRECTLY ");console.log(" Proceeding with logout..."),a(!1),i(""),r(""),d({}),e("picks"),Ct(!1),console.log(" Logout complete"),console.log("")},C0=()=>{Td(!0),setTimeout(()=>{Td(!1)},800)},E0=()=>{if(ct&&!window.confirm(` DISCARD CHANGES?

This will reset your picks to the last saved version.

Are you sure you want to discard your changes?`))return;const f=h.find(g=>g.playerCode===s&&g.week===c);d(f?f.predictions:{}),Ct(!1)},b0=f=>{ct?(Yl(f),Ie("unsavedChanges")):(u(f),qi(f))},qi=f=>{console.log(" LOAD WEEK PICKS CALLED "),console.log(" Loading picks for week:",f);const g=h.find(x=>x.week===f&&x.playerCode===s);if(g&&g.predictions){console.log(" Found existing picks:",JSON.stringify(g.predictions)),console.log(" Creating deep copies for predictions and originalPicks");const x=JSON.parse(JSON.stringify(g.predictions)),C=JSON.parse(JSON.stringify(g.predictions));d(x),gs(C),Ct(!1),console.log(" Set hasUnsavedChanges to FALSE"),console.log(" LOAD WEEK PICKS COMPLETE ")}else console.log(" No existing picks found - clearing state"),d({}),gs({}),Ct(!1),console.log(" LOAD WEEK PICKS COMPLETE (EMPTY) ")};L.useEffect(()=>{l&&s&&qi(c)},[c,l,s]),L.useEffect(()=>{if(h.length>0&&s){const f={};["wildcard","divisional","conference","superbowl"].forEach(g=>{const x=h.find(C=>C.week===g&&C.playerCode===s);if(x&&x.predictions){const C=De[g].games.length,T=Object.keys(x.predictions).filter(I=>{var N,A;return((N=x.predictions[I])==null?void 0:N.team1)&&((A=x.predictions[I])==null?void 0:A.team2)}).length;f[g]={complete:T===C,count:T,total:C}}}),Jy(f)}},[h,s]);const Es=()=>{if(pe())return!0;const f=new Date,g=new Date(f.toLocaleString("en-US",{timeZone:"America/Los_Angeles"})),x=new Date(Xh.firstFriday+"T00:00:00"),C=new Date(Xh.lastMonday+"T23:59:59");if(g<x)return!0;if(g>C)return!1;const T=g.getDay(),I=g.getHours(),N=g.getMinutes();return!(T===5&&I===23&&N>=59||T===6||T===0||T===1&&I===0&&N===0)},Gd=()=>{const f=s.trim().toUpperCase();if(!f){Wa(f,"Empty code"),alert("Please enter your 6-character player code");return}if(f.length!==6||!/^[A-Z0-9]{6}$/.test(f)){Wa(f,"Invalid format - must be 6 alphanumeric characters"),alert(`Invalid code format!

Player codes must be exactly 6 characters (letters and numbers).
Example: A7K9M2`);return}const g=Ee[f];if(!g){Wa(f,"Code not recognized"),alert(`Invalid player code!

This code is not recognized.

Make sure you:
1. Paid your $20 entry fee
2. Received your code from the pool manager
3. Entered the code correctly

Contact: gammoneer2b@gmail.com`);return}if(h.find(C=>C.playerName===g&&C.week===c))if(_n.includes(f))alert(`Welcome, Pool Manager!

You have unrestricted access to:
 Enter picks anytime (no lockout)
 Enter team codes
 Enter actual game scores
 Set game status (LIVE/FINAL)
 Lock/unlock weeks
 View all player codes`);else{const C=Ht(c);alert(C?`Welcome back, ${g}!

 WARNING: This week is LOCKED!

Your existing picks for ${De[c].name} will be loaded, but you cannot edit them because the games have been played.

You can only view your submitted picks.`:`Welcome back, ${g}!

Your existing picks for ${De[c].name} will be loaded automatically.

You can edit and resubmit anytime except during playoff weekends (Friday 11:59 PM - Monday 12:01 AM PST).`)}else _n.includes(f)&&alert(`Welcome, Pool Manager!

You have unrestricted access to:
 Enter picks anytime (no lockout)
 Enter team codes
 Enter actual game scores
 Set game status (LIVE/FINAL)
 Lock/unlock weeks
 View all player codes`);pC(f,g),r(g),i(f),a(!0)},N0=()=>{const f=h.filter(N=>N.week===c);if(f.length===0){alert("No picks to download for this week.");return}const g=De[c];let x="";x+="TEAM CODES:,",g.games.forEach(N=>{var G,$,Q,q;const A=(($=(G=E[c])==null?void 0:G[N.id])==null?void 0:$.team1)||"-",M=((q=(Q=E[c])==null?void 0:Q[N.id])==null?void 0:q.team2)||"-";x+=`${A},${M},`}),c==="superbowl"&&(x+=",,,,"),x+=`
`,x+="ACTUAL SCORES:,",g.games.forEach(N=>{var G,$,Q,q;const A=(($=(G=y[c])==null?void 0:G[N.id])==null?void 0:$.team1)||"-",M=((q=(Q=y[c])==null?void 0:Q[N.id])==null?void 0:q.team2)||"-";x+=`${A},${M},`}),c==="superbowl"&&(x+=",,,,"),x+=`
`,x+="GAME TOTALS:,",g.games.forEach(N=>{var Q,q,Z,ie;const A=parseInt((q=(Q=y[c])==null?void 0:Q[N.id])==null?void 0:q.team1)||0,M=parseInt((ie=(Z=y[c])==null?void 0:Z[N.id])==null?void 0:ie.team2)||0,G=A+M,$=A>0||M>0?G:"-";x+=`${$},,`}),c==="superbowl"&&(x+=",,,,"),x+=`
`,x+="GAME STATUS:,",g.games.forEach(N=>{var G;const A=((G=m[c])==null?void 0:G[N.id])||"-";x+=`${A==="final"?"FINAL":A==="live"?"LIVE":"-"},,`}),c==="superbowl"&&(x+=",,,,"),x+=`
`,x+="OFFICIAL TOTALS:,",g.games.forEach(()=>{x+=",,"}),c==="superbowl"?(x+=`${b.superbowl_week4||"-"},`,x+=`${b.superbowl_week3||"-"},`,x+=`${b.superbowl_week2||"-"},`,x+=`${b.superbowl_week1||"-"},`,x+=`${b.superbowl_grand||"-"},`):x+=`${b[c]||"-"},`,x+=`
`,x+=`
`,x+=",",g.games.forEach(N=>{x+=`Game ${N.id},Game ${N.id},`}),x+=`
`,x+="Player Name,",g.games.forEach(N=>{x+=`${N.team1} Score,${N.team2} Score,`}),c==="superbowl"?x+="Week 4 Total,Week 3 Total,Week 2 Total,Week 1 Total,GRAND TOTAL,":x+="Total Points,",x+=`Submitted At
`,f.sort((N,A)=>(A.lastUpdated||A.timestamp)-(N.lastUpdated||N.timestamp)).forEach(N=>{if(x+=`"${N.playerName}",`,g.games.forEach(M=>{var Q,q;const G=((Q=N.predictions[M.id])==null?void 0:Q.team1)||"-",$=((q=N.predictions[M.id])==null?void 0:q.team2)||"-";x+=`${G},${$},`}),c==="superbowl"){const M=(()=>{const Z=h.find(de=>de.playerName===N.playerName&&de.week==="superbowl");if(!Z)return 0;let ie=0;return De.superbowl.games.forEach(de=>{const rt=Z.predictions[de.id];rt&&(ie+=(Number(rt.team1)||0)+(Number(rt.team2)||0))}),ie})(),G=(()=>{const Z=h.find(de=>de.playerName===N.playerName&&de.week==="conference");if(!Z)return 0;let ie=0;return De.conference.games.forEach(de=>{const rt=Z.predictions[de.id];rt&&(ie+=(Number(rt.team1)||0)+(Number(rt.team2)||0))}),ie})(),$=(()=>{const Z=h.find(de=>de.playerName===N.playerName&&de.week==="divisional");if(!Z)return 0;let ie=0;return De.divisional.games.forEach(de=>{const rt=Z.predictions[de.id];rt&&(ie+=(Number(rt.team1)||0)+(Number(rt.team2)||0))}),ie})(),Q=(()=>{const Z=h.find(de=>de.playerName===N.playerName&&de.week==="wildcard");if(!Z)return 0;let ie=0;return De.wildcard.games.forEach(de=>{const rt=Z.predictions[de.id];rt&&(ie+=(Number(rt.team1)||0)+(Number(rt.team2)||0))}),ie})(),q=M+G+$+Q;x+=`${M},${G},${$},${Q},${q},`}else{const M=g.games.reduce((G,$)=>{var Z,ie;const Q=parseInt((Z=N.predictions[$.id])==null?void 0:Z.team1)||0,q=parseInt((ie=N.predictions[$.id])==null?void 0:ie.team2)||0;return G+Q+q},0);x+=`${M},`}const A=new Date(N.lastUpdated||N.timestamp).toLocaleString("en-US",{month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0});x+=`"${A}"
`});const C=new Blob([x],{type:"text/csv;charset=utf-8;"}),T=document.createElement("a"),I=URL.createObjectURL(C);T.setAttribute("href",I),T.setAttribute("download",`nfl_playoff_picks_${c}_${Date.now()}.csv`),T.style.visibility="hidden",document.body.appendChild(T),T.click(),document.body.removeChild(T)},Vd=async f=>{if(f.preventDefault(),Ht(c)){alert(` WEEK LOCKED

This week's games have been played.
Picks are permanently locked.`);return}if(!Es()){alert(` SUBMISSIONS CLOSED

During playoff weekends, picks are locked from:
 Friday 11:59 PM PST
 Through Monday 12:01 AM PST`);return}const g=De[c],x=[];if(g.games.forEach(I=>{(!p[I.id]||!p[I.id].team1||!p[I.id].team2)&&x.push(I.id)}),x.length>0){Pd(x),Ie("incomplete");return}const C=[];if(g.games.forEach(I=>{var M,G;const N=parseInt((M=p[I.id])==null?void 0:M.team1),A=parseInt((G=p[I.id])==null?void 0:G.team2);(isNaN(N)||isNaN(A)||N<0||A<0)&&C.push(I.id)}),C.length>0){Yy(C),Ie("invalidScores");return}const T=[];if(g.games.forEach(I=>{var M,G;const N=parseInt((M=p[I.id])==null?void 0:M.team1),A=parseInt((G=p[I.id])==null?void 0:G.team2);N===A&&T.push(I.id)}),T.length>0){Pd(T),Ie("tiedGames");return}if(!ct){Ie("noChanges");return}try{const I=Y(X,"picks"),N=await Ms(I);let A=null,M=null;if(N.exists()){const Q=N.val();for(const[q,Z]of Object.entries(Q))if(Z.playerCode===s&&Z.week===c){A=Z,M=q;break}}const G={playerName:n,playerCode:s,week:c,predictions:p,timestamp:A?A.timestamp:Date.now(),lastUpdated:Date.now()};M?await ve(Y(X,`picks/${M}`),G):await Io(Y(X,"picks"),G),console.log(" SUBMIT SUCCESS "),P(!0),console.log(" Creating deep copy of predictions for originalPicks");const $=JSON.parse(JSON.stringify(p));gs($),console.log(" Setting hasUnsavedChanges to FALSE"),Ct(!1),Ie("success"),console.log(" SUBMIT COMPLETE - allPicks will update but NOT trigger reload! "),setTimeout(()=>{const Q=document.querySelector(".all-picks");Q&&Q.scrollIntoView({behavior:"smooth"})},100)}catch(I){console.error("Error submitting picks:",I),alert("Error submitting picks. Please try again.")}},Ce=De[c],T0=L.useMemo(()=>{const f={};return(c==="superbowl"?(()=>{const x=new Map;return h.forEach(C=>{var T;x.has(C.playerName)||x.set(C.playerName,{playerName:C.playerName,playerCode:C.playerCode,week:c,predictions:((T=h.find(I=>I.playerCode===C.playerCode&&I.week==="superbowl"))==null?void 0:T.predictions)||{}})}),Array.from(x.values())})():h.filter(x=>x.week===c)).forEach(x=>{f[x.playerName]||(f[x.playerName]={week4:0,week3:0,week2:0,week1:0,grand:0,current:0});let C=0;if(De[c].games.forEach(I=>{const N=x.predictions[I.id];N&&N.team1&&N.team2&&(C+=(parseInt(N.team1)||0)+(parseInt(N.team2)||0))}),f[x.playerName].current=C,c==="superbowl"){const I=(N,A)=>{const M=h.find($=>$.playerCode===N&&$.week===A);if(!M||!M.predictions)return 0;let G=0;return Object.values(M.predictions).forEach($=>{$&&$.team1&&$.team2&&(G+=(parseInt($.team1)||0)+(parseInt($.team2)||0))}),G};f[x.playerName].week4=I(x.playerCode,"superbowl"),f[x.playerName].week3=I(x.playerCode,"conference"),f[x.playerName].week2=I(x.playerCode,"divisional"),f[x.playerName].week1=I(x.playerCode,"wildcard"),f[x.playerName].grand=f[x.playerName].week1+f[x.playerName].week2+f[x.playerName].week3+f[x.playerName].week4}}),f},[h,c,y]),j0=()=>{console.log(" Starting winner calculations...");const f={};h.forEach(C=>{if(C.firebaseKey&&C.playerCode&&C.predictions){f[C.playerCode]||(f[C.playerCode]={name:C.playerName,picks:{}});const T={};Array.isArray(C.predictions)?C.predictions.forEach((I,N)=>{N>0&&I&&(T[N.toString()]=I)}):Object.assign(T,C.predictions),f[C.playerCode].picks[C.week]=T}});const g={};Object.keys(y).forEach(C=>{if(y[C]){const T={};Object.keys(y[C]).forEach(I=>{T[I.toString()]=y[C][I]}),g[C]=T}}),console.log(" Converted picks:",Object.keys(f).length,"players"),console.log(" Converted scores:",Object.keys(g));const x={week1:{prize1:Ma(f,g,"wildcard"),prize2:za(f,g,"wildcard")},week2:{prize1:Ma(f,g,"divisional"),prize2:za(f,g,"divisional")},week3:{prize1:Ma(f,g,"conference"),prize2:za(f,g,"conference")},week4:{prize1:mC(f,g),prize2:gC(f,g)},grandPrize:{prize1:yC(f,g),prize2:xC(f,g)}};return console.log(" All calculations complete!"),console.log(" Results:",x),x};return L.useEffect(()=>{if(h.length>0&&y){const f=j0();U(f),ve(Y(X,"calculatedWinners"),f)}},[h,y]),o.jsxs("div",{className:"App",children:[o.jsxs("header",{children:[o.jsx("h1",{children:" Richard's NFL Playoff Pool 2025"}),o.jsx("p",{children:"Enter your score predictions for each NFL Playoff 2025 game"}),o.jsxs("p",{style:{fontSize:"0.85rem",marginTop:"10px",opacity:.8},children:["v2.2-PLAYOFF-SCHEDULE-",new Date().toISOString().slice(0,10).replace(/-/g,"")]}),o.jsxs("div",{style:{marginTop:"15px",display:"flex",flexDirection:"column",gap:"10px",alignItems:"center"},children:[o.jsxs("div",{style:{display:"flex",gap:"15px",flexWrap:"wrap",justifyContent:"center"},children:[o.jsx("a",{href:"/nfl-playoff-pool/Playoff_Pool_Quick_Rules.pdf",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",padding:"10px 20px",backgroundColor:"#0984e3",color:"white",textDecoration:"none",borderRadius:"5px",fontSize:"0.95rem",fontWeight:"bold",transition:"background-color 0.3s ease",cursor:"pointer"},onMouseOver:f=>f.target.style.backgroundColor="#74b9ff",onMouseOut:f=>f.target.style.backgroundColor="#0984e3",children:" View Quick Rules (2 Pages)"}),o.jsx("a",{href:"/nfl-playoff-pool/Richards_Playoff_Pool_LIX_Rulebook.pdf",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",padding:"10px 20px",backgroundColor:"#6c5ce7",color:"white",textDecoration:"none",borderRadius:"5px",fontSize:"0.95rem",fontWeight:"bold",transition:"background-color 0.3s ease",cursor:"pointer"},onMouseOver:f=>f.target.style.backgroundColor="#a29bfe",onMouseOut:f=>f.target.style.backgroundColor="#6c5ce7",children:" View Full Rulebook (13 Pages)"})]}),o.jsx("p",{style:{fontSize:"1.1em",marginTop:"10px",color:"#ffffff",fontWeight:"500"},children:"Entry Fee: $20 - Must be paid before end of regular season"})]})]}),o.jsxs("div",{className:"container",children:[pe()&&l&&o.jsxs("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"15px 20px",borderRadius:"8px",marginBottom:"20px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[o.jsxs("h3",{style:{margin:"0 0 15px 0",display:"flex",alignItems:"center",gap:"10px"},children:[o.jsx("span",{children:""}),o.jsx("span",{children:"POOL MANAGER - WEEK LOCK CONTROLS"})]}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"10px"},children:Object.keys(De).map(f=>{var T,I;const g=(T=ce[f])==null?void 0:T.locked,x=Od(f),C=g||x;return o.jsxs("div",{style:{background:"rgba(255,255,255,0.15)",padding:"12px",borderRadius:"6px",display:"flex",flexDirection:"column",gap:"8px"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",fontWeight:"bold",fontSize:"0.9rem"},children:[o.jsxs("span",{children:[C?"":""," Week ",f==="wildcard"?"1":f==="divisional"?"2":f==="conference"?"3":"4"]}),o.jsx("span",{style:{fontSize:"0.75rem",opacity:.9},children:(I=ce[f])==null?void 0:I.autoLockDate})]}),x&&!g&&o.jsx("div",{style:{fontSize:"0.7rem",padding:"4px 8px",background:"rgba(255,193,7,0.3)",borderRadius:"4px",border:"1px solid rgba(255,193,7,0.5)"},children:" AUTO-LOCKED"}),g&&o.jsx("div",{style:{fontSize:"0.7rem",padding:"4px 8px",background:"rgba(220,53,69,0.3)",borderRadius:"4px",border:"1px solid rgba(220,53,69,0.5)"},children:" MANUALLY LOCKED"}),o.jsx("button",{onClick:()=>d0(f),style:{padding:"8px 12px",background:g?"#28a745":"#dc3545",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.85rem",fontWeight:"600",transition:"all 0.2s"},children:g?" Unlock Week":" Lock Week"}),o.jsx("button",{onClick:()=>Zl(f),style:{padding:"8px 12px",background:"#e67e22",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.85rem",fontWeight:"600",transition:"all 0.2s",marginTop:"8px"},children:" Clear Week Data"})]},f)})}),o.jsx("p",{style:{fontSize:"0.8rem",marginTop:"12px",marginBottom:"0",opacity:.9},children:" Manual locks override automatic locks. Players cannot edit picks for locked weeks."})]}),pe()&&l&&o.jsxs("div",{style:{background:"linear-gradient(135deg, #f39c12 0%, #e74c3c 100%)",color:"white",padding:"20px",borderRadius:"8px",marginBottom:"20px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[o.jsxs("h3",{style:{margin:"0 0 15px 0",display:"flex",alignItems:"center",gap:"10px"},children:[o.jsx("span",{children:""}),o.jsx("span",{children:"POOL MANAGER OVERRIDE - ENTER/EDIT PICKS FOR ANY PLAYER"})]}),Zy?o.jsxs("div",{children:[o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"0.95rem"},children:"Select Player:"}),o.jsxs("select",{value:le,onChange:f=>{kr(f.target.value),xs(null),vs(null),_s(!1)},style:{width:"100%",padding:"12px",fontSize:"1rem",borderRadius:"6px",border:"2px solid white",background:"rgba(255,255,255,0.95)",color:"#333",fontWeight:"600"},children:[o.jsx("option",{value:"",children:"-- Select a Player --"}),Object.keys(Ee).sort((f,g)=>{const x=Ee[f].toUpperCase(),C=Ee[g].toUpperCase();return x.localeCompare(C)}).map(f=>o.jsxs("option",{value:f,children:[Ee[f]," (",f,")"]},f))]})]}),le&&o.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:"15px",borderRadius:"6px",marginBottom:"15px"},children:[o.jsxs("div",{style:{marginBottom:"15px"},children:[o.jsx("strong",{children:"Selected:"})," ",Ee[le]," (",le,")",o.jsx("br",{}),o.jsx("strong",{children:"Week:"})," ",c==="wildcard"?"Week 1":c==="divisional"?"Week 2":c==="conference"?"Week 3":"Week 4",o.jsx("br",{}),o.jsx("strong",{children:"Status:"})," ",h.find(f=>f.playerCode===le&&f.week===c)?" HAS PICKS":" NO PICKS"]}),o.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[o.jsx("button",{onClick:Ad,style:{flex:"1",minWidth:"150px",padding:"12px",background:"#9b59b6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Generate RNG Picks"}),o.jsx("button",{onClick:r0,style:{flex:"1",minWidth:"150px",padding:"12px",background:"#3498db",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Enter/Edit Manually"})]}),h.find(f=>f.playerCode===le)&&o.jsxs("div",{style:{marginTop:"15px",padding:"15px",background:"rgba(220, 53, 69, 0.1)",borderRadius:"6px",border:"2px solid rgba(220, 53, 69, 0.3)"},children:[o.jsx("div",{style:{marginBottom:"10px",fontWeight:"600",color:"#dc3545"},children:" Danger Zone - Delete Operations"}),o.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[o.jsx("button",{onClick:()=>Cr("week"),style:{flex:"1",minWidth:"150px",padding:"12px",background:"#e67e22",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Delete This Week Only"}),o.jsx("button",{onClick:()=>Cr("all"),style:{flex:"1",minWidth:"150px",padding:"12px",background:"#c0392b",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Delete ALL Weeks"})]})]})]}),o.jsx("button",{onClick:()=>{ys(!1),kr(""),xs(null),vs(null),_s(!1)},style:{padding:"10px 20px",background:"#95a5a6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Exit Override Mode"})]}):o.jsxs("div",{children:[o.jsx("p",{style:{marginBottom:"15px",fontSize:"0.9rem"},children:" Enter picks on behalf of players who missed the deadline or need assistance. Works even when week is locked."}),o.jsx("button",{onClick:()=>ys(!0),style:{padding:"12px 24px",background:"white",color:"#e74c3c",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:" Enter Override Mode"})]})]}),e0&&Kn&&o.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},children:o.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"30px",maxWidth:"600px",width:"100%",maxHeight:"90vh",overflow:"auto",boxShadow:"0 8px 32px rgba(0,0,0,0.3)"},children:[o.jsx("h3",{style:{marginTop:0,color:"#9b59b6"},children:" RNG PICKS GENERATED"}),o.jsxs("p",{style:{color:"#666",marginBottom:"20px"},children:["Player: ",o.jsx("strong",{children:Ee[le]}),o.jsx("br",{}),"Week: ",o.jsx("strong",{children:c==="wildcard"?"Week 1":c==="divisional"?"Week 2":c==="conference"?"Week 3":"Week 4"})]}),o.jsx("div",{style:{marginBottom:"20px"},children:De[c].games.map(f=>o.jsxs("div",{style:{padding:"12px",background:"#f8f9fa",borderRadius:"6px",marginBottom:"10px",border:"2px solid #e9ecef"},children:[o.jsxs("div",{style:{fontWeight:"600",marginBottom:"5px",color:"#333"},children:["Game ",f.id,": ",f.team1," vs ",f.team2]}),o.jsxs("div",{style:{fontSize:"1.2rem",fontWeight:"700",color:"#9b59b6"},children:[Kn[f.id].team1," - ",Kn[f.id].team2,Kn[f.id].team1>Kn[f.id].team2?` (${f.team1} wins)`:` (${f.team2} wins)`]})]},f.id))}),o.jsxs("div",{style:{background:"#d4edda",border:"1px solid #c3e6cb",color:"#155724",padding:"12px",borderRadius:"6px",marginBottom:"20px",fontSize:"0.9rem"},children:[" All scores between 10-50 (inclusive)",o.jsx("br",{})," No tied games",o.jsx("br",{}),' Will be marked as "POOL_MANAGER_RNG" in database']}),o.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[o.jsx("button",{onClick:n0,style:{flex:"1",padding:"14px 24px",background:"#28a745",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Submit RNG Picks"}),o.jsx("button",{onClick:Ad,style:{flex:"1",padding:"14px 24px",background:"#ffc107",color:"#333",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Regenerate"}),o.jsx("button",{onClick:()=>{_s(!1),vs(null)},style:{padding:"14px 24px",background:"#dc3545",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Cancel"})]})]})}),Rd&&o.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},children:o.jsx("div",{style:{background:"white",borderRadius:"12px",padding:"30px",maxWidth:"500px",width:"100%",boxShadow:"0 8px 32px rgba(0,0,0,0.3)"},children:Rd==="week"?o.jsxs(o.Fragment,{children:[o.jsxs("h3",{style:{marginTop:0,color:"#e67e22",display:"flex",alignItems:"center",gap:"10px"},children:[o.jsx("span",{children:""}),o.jsx("span",{children:"DELETE PICKS FOR THIS WEEK?"})]}),o.jsxs("div",{style:{marginBottom:"20px",color:"#666"},children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Player:"})," ",Ee[le]]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Week:"})," ",c==="wildcard"?"Week 1 (Wildcard)":c==="divisional"?"Week 2 (Divisional)":c==="conference"?"Week 3 (Conference)":"Week 4 (Super Bowl)"]})]}),o.jsxs("div",{style:{background:"#fff3cd",border:"1px solid #ffc107",color:"#856404",padding:"15px",borderRadius:"6px",marginBottom:"20px",fontSize:"0.95rem"},children:[o.jsx("strong",{children:" Warning:"})," This will DELETE ",Ee[le],"'s picks for this week only.",o.jsx("br",{}),o.jsx("strong",{children:"This action CANNOT be undone!"})]}),o.jsxs("div",{style:{display:"flex",gap:"10px"},children:[o.jsx("button",{onClick:()=>Cr(null),style:{flex:"1",padding:"14px",background:"#95a5a6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Cancel"}),o.jsx("button",{onClick:i0,style:{flex:"1",padding:"14px",background:"#e67e22",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Yes, Delete This Week"})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("h3",{style:{marginTop:0,color:"#c0392b",display:"flex",alignItems:"center",gap:"10px"},children:[o.jsx("span",{children:""}),o.jsx("span",{children:"DELETE ALL PICKS?"})]}),o.jsx("div",{style:{marginBottom:"20px",color:"#666"},children:o.jsxs("p",{children:[o.jsx("strong",{children:"Player:"})," ",Ee[le]]})}),o.jsxs("div",{style:{background:"#f8d7da",border:"2px solid #dc3545",color:"#721c24",padding:"15px",borderRadius:"6px",marginBottom:"20px",fontSize:"0.95rem"},children:[o.jsx("strong",{children:" DANGER:"})," This will DELETE ALL of ",Ee[le],"'s picks:",o.jsx("br",{}),o.jsx("br",{}),h.filter(f=>f.playerCode===le).map(f=>o.jsxs("div",{style:{marginLeft:"20px"},children:[" ",f.week==="wildcard"?"Week 1":f.week==="divisional"?"Week 2":f.week==="conference"?"Week 3":"Week 4"," picks"]},f.week)),o.jsx("br",{}),o.jsx("strong",{children:"This action CANNOT be undone!"}),o.jsx("br",{}),o.jsx("strong",{children:"Are you absolutely sure?"})]}),o.jsxs("div",{style:{display:"flex",gap:"10px"},children:[o.jsx("button",{onClick:()=>Cr(null),style:{flex:"1",padding:"14px",background:"#95a5a6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Cancel"}),o.jsx("button",{onClick:o0,style:{flex:"1",padding:"14px",background:"#c0392b",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Yes, Delete Everything"})]})]})})}),ws&&o.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},children:o.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"30px",maxWidth:"500px",width:"100%",boxShadow:"0 8px 32px rgba(0,0,0,0.3)"},children:[o.jsxs("h3",{style:{marginTop:0,color:"#e67e22",display:"flex",alignItems:"center",gap:"10px"},children:[o.jsx("span",{children:""}),o.jsx("span",{children:"CLEAR WEEK DATA?"})]}),o.jsx("div",{style:{marginBottom:"20px",color:"#666"},children:o.jsxs("p",{children:[o.jsx("strong",{children:"Week:"})," ",ws==="wildcard"?"Week 1 (Wildcard)":ws==="divisional"?"Week 2 (Divisional)":ws==="conference"?"Week 3 (Conference)":"Week 4 (Super Bowl)"]})}),o.jsxs("div",{style:{background:"#fff3cd",border:"2px solid #ffc107",color:"#856404",padding:"15px",borderRadius:"6px",marginBottom:"20px",fontSize:"0.95rem"},children:[o.jsx("strong",{children:" This will DELETE:"}),o.jsxs("div",{style:{marginLeft:"20px",marginTop:"10px"},children:[" All team names for this week",o.jsx("br",{})," All actual scores for this week",o.jsx("br",{})," All game statuses (FINAL/LIVE) for this week"]}),o.jsx("br",{}),o.jsx("strong",{style:{color:"#d63031"},children:" This will KEEP:"}),o.jsx("div",{style:{marginLeft:"20px",marginTop:"5px"},children:" ALL player picks (NOT deleted!)"}),o.jsx("br",{}),o.jsx("strong",{children:"This action CANNOT be undone!"})]}),o.jsxs("div",{style:{display:"flex",gap:"10px"},children:[o.jsx("button",{onClick:()=>Zl(null),style:{flex:"1",padding:"14px",background:"#95a5a6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Cancel"}),o.jsx("button",{onClick:()=>l0(ws),style:{flex:"1",padding:"14px",background:"#e67e22",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Yes, Clear Week Data"})]})]})}),pe()&&l&&o.jsx(VS,{currentWeek:c,games:Ce.games,actualScores:y,teamCodes:E,onScoresFetched:Ld,onGameLockToggle:f0,gameLocks:z,espnAutoRefresh:J}),pe()&&l&&o.jsx("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"20px",borderRadius:"8px",marginBottom:"20px",boxShadow:"0 4px 15px rgba(102, 126, 234, 0.4)"},children:o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[o.jsxs("div",{children:[o.jsxs("h3",{style:{margin:"0 0 8px 0",display:"flex",alignItems:"center",gap:"10px"},children:[o.jsx("span",{children:""}),o.jsx("span",{children:"POOL MANAGER RNG - Quick Test Data"})]}),o.jsx("p",{style:{margin:0,fontSize:"0.9rem",opacity:.9},children:"Auto-populate teams, scores, and mark games as FINAL for testing"})]}),o.jsx("button",{onClick:S0,style:{padding:"12px 24px",background:"white",color:"#667eea",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"1rem",fontWeight:"700",boxShadow:"0 4px 12px rgba(0,0,0,0.2)",transition:"all 0.3s ease",whiteSpace:"nowrap"},onMouseOver:f=>{f.target.style.transform="translateY(-2px)",f.target.style.boxShadow="0 6px 16px rgba(0,0,0,0.3)"},onMouseOut:f=>{f.target.style.transform="translateY(0)",f.target.style.boxShadow="0 4px 12px rgba(0,0,0,0.2)"},children:" Generate Test Data"})]})}),pe()&&l&&o.jsxs("div",{style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"white",padding:"15px 20px",borderRadius:"8px",marginBottom:"20px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[o.jsxs("h3",{style:{margin:"0 0 15px 0",display:"flex",alignItems:"center",gap:"10px"},children:[o.jsx("span",{children:""}),o.jsx("span",{children:"ALL PLAYER CODES"})]}),o.jsx("div",{style:{background:"rgba(255,255,255,0.95)",padding:"15px",borderRadius:"6px",maxHeight:"300px",overflowY:"auto"},children:o.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.9rem"},children:[o.jsx("thead",{children:o.jsxs("tr",{style:{background:"#f8f9fa",borderBottom:"2px solid #dee2e6"},children:[o.jsx("th",{style:{padding:"10px",textAlign:"left",color:"#495057",fontWeight:"600"},children:"Player Code"}),o.jsx("th",{style:{padding:"10px",textAlign:"left",color:"#495057",fontWeight:"600"},children:"Player Name"}),o.jsx("th",{style:{padding:"10px",textAlign:"center",color:"#495057",fontWeight:"600"},children:"Role"})]})}),o.jsx("tbody",{children:Object.entries(Ee).sort((f,g)=>{const x=_n.includes(f[0]),C=_n.includes(g[0]);return x&&!C?-1:!x&&C?1:f[1].localeCompare(g[1])}).map(([f,g],x)=>{const C=_n.includes(f);return o.jsxs("tr",{style:{background:x%2===0?"#ffffff":"#f8f9fa",borderBottom:"1px solid #dee2e6"},children:[o.jsx("td",{style:{padding:"10px",color:"#212529",fontFamily:"monospace",fontWeight:"bold",fontSize:"1rem"},children:f}),o.jsx("td",{style:{padding:"10px",color:"#212529"},children:g}),o.jsx("td",{style:{padding:"10px",textAlign:"center"},children:C?o.jsx("span",{style:{padding:"4px 8px",background:"#dc3545",color:"white",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"600"},children:" MANAGER"}):o.jsx("span",{style:{padding:"4px 8px",background:"#28a745",color:"white",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"600"},children:" PLAYER"})})]},f)})})]})}),o.jsxs("p",{style:{fontSize:"0.8rem",marginTop:"12px",marginBottom:"0",opacity:.9},children:[" Total Players: ",Object.keys(Ee).length," | Pool Managers: ",_n.length," | Regular Players: ",Object.keys(Ee).length-_n.length]})]}),l&&o.jsx(eC,{currentWeek:c,onWeekChange:b0,weekPicks:qy,weekLockStatus:ce,hasUnsavedChanges:ct,isPoolManager:pe()}),l&&o.jsxs("div",{className:"view-navigation",children:[o.jsxs("button",{className:`nav-btn ${t==="picks"?"active":""}`,onClick:()=>e("picks"),children:[" Make Picks",t==="picks"&&o.jsx("span",{style:{marginLeft:"8px",fontSize:"0.75rem",opacity:.9,fontStyle:"italic"},children:"(you are here)"})]}),o.jsxs("button",{className:`nav-btn ${t==="standings"?"active":""}`,onClick:()=>e("standings"),children:[" Standings & Prizes",t==="standings"&&o.jsx("span",{style:{marginLeft:"8px",fontSize:"0.75rem",opacity:.9,fontStyle:"italic"},children:"(you are here)"})]}),o.jsxs("button",{className:`nav-btn ${t==="winners"?"active":""}`,onClick:()=>e("winners"),children:[" How Winners Are Determined",t==="winners"&&o.jsx("span",{style:{marginLeft:"8px",fontSize:"0.75rem",opacity:.9,fontStyle:"italic"},children:"(you are here)"})]}),pe()&&o.jsxs("button",{className:`nav-btn ${t==="loginLogs"?"active":""}`,onClick:()=>e("loginLogs"),children:[" Login Logs",o.jsx("span",{style:{marginLeft:"8px",fontSize:"0.7rem",padding:"2px 6px",background:"#667eea",color:"white",borderRadius:"10px",fontWeight:"500"},children:"Pool Manager"}),t==="loginLogs"&&o.jsx("span",{style:{marginLeft:"8px",fontSize:"0.75rem",opacity:.9,fontStyle:"italic"},children:"(you are here)"})]})]}),t==="standings"&&l?o.jsx(GS,{allPicks:h,actualScores:y,currentWeek:c,playerName:n,playerCode:s,isPoolManager:pe(),prizePool:Be,officialWinners:Hi,onLogout:Ud}):t==="winners"&&l?o.jsx(vC,{calculatedWinners:R,publishedWinners:W,isPoolManager:pe(),onPublishPrize:m0,onUnpublishPrize:g0}):t==="loginLogs"&&l?o.jsx(dC,{isPoolManager:pe(),playerCodes:Ee}):o.jsxs(o.Fragment,{children:[l?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"player-confirmed",children:[o.jsx("span",{className:"confirmation-badge",children:" VERIFIED"}),o.jsxs("h3",{children:["Welcome, ",o.jsx("span",{className:"player-name-highlight",children:n}),"!",pe()&&o.jsx("span",{style:{marginLeft:"10px",color:"#d63031"},children:" POOL MANAGER"})]}),o.jsxs("div",{style:{display:"inline-block",padding:"8px 20px",marginBottom:"10px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:"25px",fontWeight:"bold",fontSize:"1.1rem",boxShadow:"0 4px 15px rgba(102, 126, 234, 0.4)",letterSpacing:"0.5px"},children:[c==="wildcard"&&" WEEK 1 OF 4",c==="divisional"&&" WEEK 2 OF 4",c==="conference"&&" WEEK 3 OF 4",c==="superbowl"&&" WEEK 4 OF 4"]}),o.jsxs("p",{style:{color:"#000",marginTop:"8px"},children:["Making picks for: ",o.jsx("strong",{children:Ce.name})]}),Ht(c)&&!pe()&&o.jsx("div",{style:{marginTop:"10px",padding:"10px 15px",background:"#fff3cd",border:"2px solid #ffc107",borderRadius:"6px",color:"#856404",fontWeight:"600"},children:" This week is LOCKED - You can view your picks but cannot edit them"}),o.jsx("button",{className:"validate-btn",style:{marginTop:"15px",padding:"10px 20px",fontSize:"0.9rem"},onClick:Ud,children:" Logout / Switch Entry"}),o.jsx("p",{style:{fontSize:"0.85rem",color:"#666",marginTop:"10px",fontStyle:"italic"},children:" Playing with multiple entries? Logout to switch between your codes."})]}),!Es()&&o.jsx("div",{className:"closed-warning",children:" PICKS ARE LOCKED (Playoff Weekend: Friday 11:59 PM - Monday 12:01 AM PST)"}),o.jsxs("div",{className:"prediction-form",children:[Sr==="manual"?o.jsxs("h2",{style:{color:"#e74c3c"},children:[" OVERRIDE MODE: Entering Picks for ",Ee[le]]}):o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"15px",gap:"15px"},children:[o.jsxs("h2",{style:{margin:0,flex:"1"},children:["Enter Your Predictions: ",o.jsxs("span",{style:{fontSize:"0.95rem",color:"#667eea",fontWeight:"600"},children:[c==="wildcard"&&"Wk 1",c==="divisional"&&"Wk 2",c==="conference"&&"Wk 3",c==="superbowl"&&"Wk 4"]})]}),!Ht(c)&&o.jsx("button",{type:"button",onClick:h0,style:{padding:"10px 20px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"0.95rem",fontWeight:"600",boxShadow:"0 4px 15px rgba(102, 126, 234, 0.4)",transition:"all 0.3s ease"},onMouseOver:f=>{f.target.style.transform="translateY(-2px)",f.target.style.boxShadow="0 6px 20px rgba(102, 126, 234, 0.6)"},onMouseOut:f=>{f.target.style.transform="translateY(0)",f.target.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)"},children:" Quick RNG Pick - Auto-fill all games"})]}),o.jsxs("div",{className:"progress-indicator",children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[o.jsx("strong",{children:"Progress:"}),o.jsxs("span",{children:[Object.keys(p).filter(f=>p[f]&&p[f].team1&&p[f].team2).length," of ",Ce.games.length," games completed"]})]}),o.jsx("div",{className:"progress-bar",children:o.jsxs("div",{className:"progress-fill",style:{width:`${Object.keys(p).filter(f=>p[f]&&p[f].team1&&p[f].team2).length/Ce.games.length*100}%`},children:[Math.round(Object.keys(p).filter(f=>p[f]&&p[f].team1&&p[f].team2).length/Ce.games.length*100),"%"]})})]}),o.jsxs("form",{onSubmit:Sr==="manual"?s0:Vd,children:[Ce.games.map(f=>{var g,x,C,T,I,N;return o.jsxs("div",{className:"game-prediction",children:[o.jsxs("h3",{children:["Game ",f.id,": ",f.team1," @ ",f.team2,((g=E[c])==null?void 0:g[f.id])&&o.jsxs("span",{style:{fontSize:"0.9rem",color:"#666",marginLeft:"10px"},children:["(",E[c][f.id].team1||"?"," @ ",E[c][f.id].team2||"?",")"]})]}),((x=y[c])==null?void 0:x[f.id])&&o.jsxs("div",{style:{padding:"10px 15px",background:"#ffffff",border:"3px solid #4caf50",borderRadius:"6px",marginBottom:"12px",fontSize:"1rem"},children:[o.jsx("strong",{style:{color:"#000",fontSize:"1.05rem"},children:"Actual Score:"})," ",o.jsxs("span",{style:{color:"#000",fontWeight:"700",fontSize:"1.1rem"},children:[y[c][f.id].team1||"-"," - ",y[c][f.id].team2||"-"]}),((C=m[c])==null?void 0:C[f.id])==="final"&&o.jsx("span",{style:{marginLeft:"10px",padding:"2px 8px",background:"#4caf50",color:"white",borderRadius:"4px",fontSize:"0.8rem",fontWeight:"bold"},children:" FINAL"}),((T=m[c])==null?void 0:T[f.id])==="live"&&o.jsx("span",{style:{marginLeft:"10px",padding:"2px 8px",background:"#ff9800",color:"white",borderRadius:"4px",fontSize:"0.8rem",fontWeight:"bold"},children:" LIVE"})]}),o.jsxs("div",{className:"score-inputs",children:[o.jsxs("div",{className:"team-score",children:[o.jsxs("label",{children:[o.jsx("span",{className:"team-designation",children:"AWAY TEAM"}),o.jsx("span",{className:"team-name-label",style:{color:"#ffffff",fontWeight:"700"},children:f.team1})]}),o.jsx("input",{type:"number",min:"0",max:"99",value:((I=p[f.id])==null?void 0:I.team1)||"",onChange:A=>Wd(f.id,"team1",A.target.value),placeholder:"0",required:!0,disabled:Ht(c)},`${f.id}-team1-${n}`)]}),o.jsx("div",{className:"vs",children:"VS"}),o.jsxs("div",{className:"team-score",children:[o.jsxs("label",{children:[o.jsx("span",{className:"team-designation",children:"HOME TEAM"}),o.jsx("span",{className:"team-name-label",style:{color:"#ffffff",fontWeight:"700"},children:f.team2})]}),o.jsx("input",{type:"number",min:"0",max:"99",value:((N=p[f.id])==null?void 0:N.team2)||"",onChange:A=>Wd(f.id,"team2",A.target.value),placeholder:"0",required:!0,disabled:Ht(c)},`${f.id}-team2-${n}`)]})]})]},f.id)}),o.jsxs("div",{style:{display:"flex",gap:"15px",marginTop:"20px"},children:[o.jsx("button",{type:"submit",className:"submit-btn",disabled:Sr==="manual"?!1:!Es()||Ht(c),style:Sr==="manual"?{background:"#e74c3c",fontSize:"1.1rem",fontWeight:"700",flex:"1"}:{flex:"1"},children:Sr==="manual"?` Submit for ${Ee[le]}`:Ht(c)&&!pe()?" Week Locked - Cannot Edit Picks":Es()?" Submit / Update My Picks":" Submissions Locked (Playoff Weekend)"}),!Ht(c)&&Sr!=="manual"&&o.jsx("button",{type:"button",onClick:E0,style:{padding:"15px 30px",background:"#6c757d",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"1.1rem",fontWeight:"600",transition:"all 0.3s ease",flex:"0 0 auto",minWidth:"150px"},onMouseOver:f=>{f.target.style.background="#5a6268"},onMouseOut:f=>{f.target.style.background="#6c757d"},children:" Cancel"})]}),Es()&&!Ht(c)&&o.jsx("p",{style:{textAlign:"center",marginTop:"15px",color:"#666",fontSize:"0.9rem"},children:"You can edit and resubmit your picks as many times as you want until Friday 11:59 PM PST (before game weekends)"})]})]})]}):o.jsx("div",{className:"prediction-form",children:o.jsxs("div",{className:"code-entry-section",children:[o.jsx("h3",{children:" Enter Your Player Code"}),o.jsx("p",{style:{marginBottom:"20px",color:"#666"},children:"You received a 6-character code when you paid your $20 entry fee."}),o.jsx("p",{style:{marginBottom:"20px",color:"#666",fontSize:"0.9rem",fontStyle:"italic"},children:" Have multiple entries? Enter one code at a time."}),o.jsxs("div",{className:"code-input-group",children:[o.jsx("label",{htmlFor:"playerCode",children:"Player Code (6 characters)"}),o.jsx("input",{type:"text",id:"playerCode",className:"code-input",value:s,onChange:f=>i(f.target.value.toUpperCase()),placeholder:"A7K9M2",maxLength:"6",autoComplete:"off",onKeyPress:f=>{f.key==="Enter"&&Gd()}}),o.jsx("button",{className:"validate-btn",onClick:Gd,children:"Validate Code & Continue"}),o.jsxs("div",{style:{marginTop:"20px",padding:"15px",background:"#fff3cd",border:"2px solid #ffc107",borderRadius:"8px",textAlign:"left"},children:[o.jsx("h4",{style:{margin:"0 0 10px 0",color:"#856404"},children:" Entry Fee Payment"}),o.jsxs("p",{style:{margin:"5px 0",fontSize:"0.9rem",color:"#856404"},children:[o.jsx("strong",{children:"Cost:"})," $20 per entry"]}),o.jsxs("p",{style:{margin:"5px 0",fontSize:"0.9rem",color:"#856404"},children:[o.jsx("strong",{children:"Send e-Transfer to:"})," gammoneer2b@gmail.com"]}),o.jsxs("p",{style:{margin:"5px 0",fontSize:"0.9rem",color:"#856404"},children:[o.jsx("strong",{children:"Password:"})," nflpool"]}),o.jsx("p",{style:{margin:"10px 0 5px 0",fontSize:"0.85rem",color:"#856404",fontStyle:"italic"},children:"You will receive your player code after payment is confirmed."})]}),o.jsx("p",{style:{marginTop:"15px",fontSize:"0.9rem",color:"#666",textAlign:"center"},children:"Questions? Contact: gammoneer2b@gmail.com"})]})]})}),o.jsxs("div",{className:"all-picks",children:[o.jsxs("h2",{children:["All Player Picks - ",Ce.name,o.jsx("button",{onClick:N0,style:{marginLeft:"15px",padding:"8px 16px",background:"#4caf50",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Download CSV"}),o.jsx("div",{style:{fontSize:"0.75rem",color:"#666",marginTop:"5px",fontStyle:"italic"},children:" Mobile: Open the DOWNLOADABLE CSV file with Google Sheets (free app) or MS Office EXCEL"}),o.jsx("button",{onClick:C0,disabled:ps,style:{marginLeft:"10px",padding:"8px 16px",background:ps?"#a0a0a0":"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:ps?"not-allowed":"pointer",fontSize:"0.9rem",fontWeight:"600",opacity:ps?.7:1},children:ps?" Refreshed!":" Refresh Picks Table"})]}),h.filter(f=>f.week===c).length===0?o.jsx("p",{className:"no-picks",children:"No picks submitted yet for this week."}):o.jsx("div",{className:"picks-table-container",children:o.jsxs("table",{className:"picks-table",children:[o.jsxs("thead",{children:[o.jsxs("tr",{children:[o.jsx("th",{rowSpan:"2",children:"Player"}),Ce.games.map(f=>{var g,x,C,T,I;return o.jsxs("th",{colSpan:"2",children:["Game ",f.id,o.jsx("br",{}),o.jsxs("small",{style:{color:"#ffffff",fontWeight:"700"},children:[f.team1," @ ",f.team2]}),pe()&&o.jsxs("div",{style:{marginTop:"5px",display:"flex",gap:"5px",justifyContent:"center",alignItems:"center"},children:[o.jsx("input",{type:"text",maxLength:"3",value:((x=(g=E[c])==null?void 0:g[f.id])==null?void 0:x.team1)||"",onChange:N=>Md(f.id,"team1",N.target.value),placeholder:"PIT",style:{width:"45px",padding:"4px",textAlign:"center",fontSize:"0.8rem",fontWeight:"bold",border:"2px solid #667eea",borderRadius:"4px"}}),o.jsx("span",{style:{fontSize:"0.8rem"},children:"@"}),o.jsx("input",{type:"text",maxLength:"3",value:((T=(C=E[c])==null?void 0:C[f.id])==null?void 0:T.team2)||"",onChange:N=>Md(f.id,"team2",N.target.value),placeholder:"BUF",style:{width:"45px",padding:"4px",textAlign:"center",fontSize:"0.8rem",fontWeight:"bold",border:"2px solid #667eea",borderRadius:"4px"}})]}),!pe()&&((I=E[c])==null?void 0:I[f.id])&&o.jsxs("div",{style:{fontSize:"0.8rem",color:"#ffffff",fontWeight:"700",marginTop:"3px"},children:[E[c][f.id].team1||"?"," @ ",E[c][f.id].team2||"?"]})]},f.id)}),o.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#e8f5e9",fontWeight:"bold",color:"#090909ff",minWidth:"60px",fontSize:"0.75rem",padding:"8px 4px"},children:[o.jsx("div",{style:{marginBottom:"2px"},children:"Correct"}),o.jsx("div",{children:"Picks"})]}),c==="superbowl"?o.jsxs(o.Fragment,{children:[o.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#fff3cd",fontWeight:"bold",color:"#000"},children:[pe()?o.jsxs("div",{style:{marginBottom:"8px"},children:[o.jsxs("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"},children:["OFFICIAL ",H.superbowl_week4?"":"",H.superbowl_week4&&o.jsx("button",{onClick:()=>Ss("superbowl_week4"),title:"Return to auto-calculation",style:{padding:"2px 6px",fontSize:"0.65rem",background:"#e74c3c",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"},children:"Clear"})]}),o.jsx("input",{type:"number",min:"0",value:yn("superbowl_week4","superbowl"),onChange:f=>Er("superbowl_week4",f.target.value),placeholder:"Auto",title:H.superbowl_week4?"Manually overridden - click Clear to return to auto":"Auto-calculated - click to override",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:H.superbowl_week4?"2px solid #e74c3c":"2px solid #27ae60",borderRadius:"4px",color:"#000",backgroundColor:H.superbowl_week4?"#ffe5e5":"#e8f8f5"}})]}):o.jsxs("div",{style:{marginBottom:"8px"},children:[o.jsxs("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:["Official ",H.superbowl_week4?"":""]}),o.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:yn("superbowl_week4","superbowl")||"-"})]}),"Week 4",o.jsx("br",{}),"Total"]}),o.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#d1ecf1",fontWeight:"bold",color:"#000"},children:[pe()?o.jsxs("div",{style:{marginBottom:"8px"},children:[o.jsxs("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"},children:["OFFICIAL ",H.superbowl_week3?"":"",H.superbowl_week3&&o.jsx("button",{onClick:()=>Ss("superbowl_week3"),title:"Return to auto-calculation",style:{padding:"2px 6px",fontSize:"0.65rem",background:"#e74c3c",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"},children:"Clear"})]}),o.jsx("input",{type:"number",min:"0",value:yn("superbowl_week3","conference"),onChange:f=>Er("superbowl_week3",f.target.value),placeholder:"Auto",title:H.superbowl_week3?"Manually overridden - click Clear to return to auto":"Auto-calculated - click to override",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:H.superbowl_week3?"2px solid #e74c3c":"2px solid #27ae60",borderRadius:"4px",color:"#000",backgroundColor:H.superbowl_week3?"#ffe5e5":"#e8f8f5"}})]}):o.jsxs("div",{style:{marginBottom:"8px"},children:[o.jsxs("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:["Official ",H.superbowl_week3?"":""]}),o.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:yn("superbowl_week3","conference")||"-"})]}),"Week 3",o.jsx("br",{}),"Total"]}),o.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#d4edda",fontWeight:"bold",color:"#000"},children:[pe()?o.jsxs("div",{style:{marginBottom:"8px"},children:[o.jsxs("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"},children:["OFFICIAL ",H.superbowl_week2?"":"",H.superbowl_week2&&o.jsx("button",{onClick:()=>Ss("superbowl_week2"),title:"Return to auto-calculation",style:{padding:"2px 6px",fontSize:"0.65rem",background:"#e74c3c",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"},children:"Clear"})]}),o.jsx("input",{type:"number",min:"0",value:yn("superbowl_week2","divisional"),onChange:f=>Er("superbowl_week2",f.target.value),placeholder:"Auto",title:H.superbowl_week2?"Manually overridden - click Clear to return to auto":"Auto-calculated - click to override",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:H.superbowl_week2?"2px solid #e74c3c":"2px solid #27ae60",borderRadius:"4px",color:"#000",backgroundColor:H.superbowl_week2?"#ffe5e5":"#e8f8f5"}})]}):o.jsxs("div",{style:{marginBottom:"8px"},children:[o.jsxs("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:["Official ",H.superbowl_week2?"":""]}),o.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:yn("superbowl_week2","divisional")||"-"})]}),"Week 2",o.jsx("br",{}),"Total"]}),o.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#f8d7da",fontWeight:"bold",color:"#000"},children:[pe()?o.jsxs("div",{style:{marginBottom:"8px"},children:[o.jsxs("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"},children:["OFFICIAL ",H.superbowl_week1?"":"",H.superbowl_week1&&o.jsx("button",{onClick:()=>Ss("superbowl_week1"),title:"Return to auto-calculation",style:{padding:"2px 6px",fontSize:"0.65rem",background:"#e74c3c",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"},children:"Clear"})]}),o.jsx("input",{type:"number",min:"0",value:yn("superbowl_week1","wildcard"),onChange:f=>Er("superbowl_week1",f.target.value),placeholder:"Auto",title:H.superbowl_week1?"Manually overridden - click Clear to return to auto":"Auto-calculated - click to override",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:H.superbowl_week1?"2px solid #e74c3c":"2px solid #27ae60",borderRadius:"4px",color:"#000",backgroundColor:H.superbowl_week1?"#ffe5e5":"#e8f8f5"}})]}):o.jsxs("div",{style:{marginBottom:"8px"},children:[o.jsxs("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:["Official ",H.superbowl_week1?"":""]}),o.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:yn("superbowl_week1","wildcard")||"-"})]}),"Week 1",o.jsx("br",{}),"Total"]}),o.jsxs("th",{rowSpan:"2",className:"grand-total",children:[pe()?o.jsxs("div",{style:{marginBottom:"8px"},children:[o.jsxs("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"},children:[H.superbowl_grand?"":""," over",H.superbowl_grand&&o.jsx("button",{onClick:()=>Ss("superbowl_grand"),title:"Return to auto-calculation",style:{padding:"2px 6px",fontSize:"0.65rem",background:"#e74c3c",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"},children:"Clear"})]}),o.jsx("input",{type:"number",min:"0",value:$d(),onChange:f=>Er("superbowl_grand",f.target.value),placeholder:"Auto",title:H.superbowl_grand?"Manually overridden - click Clear to return to auto":"Auto-calculated - click to override",style:{width:"70px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:H.superbowl_grand?"3px solid #e74c3c":"3px solid #27ae60",borderRadius:"4px",backgroundColor:H.superbowl_grand?"#ffe5e5":"#e8f8f5",color:"#000"}})]}):o.jsxs("div",{style:{marginBottom:"8px"},children:[o.jsxs("div",{style:{fontSize:"0.7rem",color:"#fff",marginBottom:"2px"},children:[H.superbowl_grand?" ":" ","Official"]}),o.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"#fff"},children:$d()||"-"})]}),"GRAND",o.jsx("br",{}),"TOTAL"]})]}):o.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#f8f9fa",fontWeight:"bold",color:"#000"},children:[!b[c]&&(()=>{const f=Ce.games.reduce((g,x)=>{var I,N,A,M;const C=parseInt((N=(I=y[c])==null?void 0:I[x.id])==null?void 0:N.team1)||0,T=parseInt((M=(A=y[c])==null?void 0:A[x.id])==null?void 0:M.team2)||0;return g+C+T},0);return o.jsxs("div",{style:{fontSize:"1.05rem",color:"#131515ff",marginBottom:"6px",fontWeight:"700"},children:["Actual Total: ",f>0?f:"-"]})})(),pe()?o.jsx("div",{style:{marginBottom:"8px"},children:o.jsx("input",{type:"number",min:"0",value:b[c]||"",onChange:f=>Er(c,f.target.value),placeholder:"override",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"0.9rem",fontWeight:"bold",border:"2px solid #f39c12",borderRadius:"4px",color:"#000"}})}):null,b[c]&&o.jsxs("div",{style:{marginBottom:"8px"},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:"Official"}),o.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:b[c]})]}),"Official",o.jsx("br",{}),"Total"]}),o.jsx("th",{rowSpan:"2",children:"Submitted"})]}),o.jsx("tr",{style:{background:"#ffffff",borderTop:"3px solid #4caf50",borderBottom:"3px solid #4caf50"},children:Ce.games.map(f=>{var g,x,C,T,I,N,A,M,G,$,Q;return o.jsxs(Fa.Fragment,{children:[o.jsx("th",{style:{padding:"8px 4px",background:"#ffffff",borderLeft:"1px solid #ddd"},children:pe()?o.jsxs("div",{children:[o.jsx("input",{type:"number",min:"0",max:"99",value:((x=(g=y[c])==null?void 0:g[f.id])==null?void 0:x.team1)||"",onChange:q=>zd(f.id,"team1",q.target.value),placeholder:"-",style:{width:"50px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #4caf50",borderRadius:"4px",color:"#000",background:"#f0fff0"}}),o.jsx("div",{style:{fontSize:"0.75rem",marginTop:"3px",color:"#000",fontWeight:"700"},children:"ACTUAL"})]}):o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#000"},children:((T=(C=y[c])==null?void 0:C[f.id])==null?void 0:T.team1)||"-"}),o.jsx("div",{style:{fontSize:"0.75rem",color:"#000",fontWeight:"700"},children:"ACTUAL"})]})}),o.jsx("th",{style:{padding:"8px 4px",background:"#ffffff",borderRight:"1px solid #ddd"},children:pe()?o.jsxs("div",{children:[o.jsx("input",{type:"number",min:"0",max:"99",value:((N=(I=y[c])==null?void 0:I[f.id])==null?void 0:N.team2)||"",onChange:q=>zd(f.id,"team2",q.target.value),placeholder:"-",style:{width:"50px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #4caf50",borderRadius:"4px",color:"#000",background:"#f0fff0"}}),o.jsx("div",{style:{fontSize:"0.75rem",marginTop:"3px",color:"#000",fontWeight:"700"},children:"ACTUAL"}),o.jsxs("select",{value:((A=m[c])==null?void 0:A[f.id])||"",onChange:q=>p0(f.id,q.target.value),style:{width:"60px",padding:"2px",fontSize:"0.7rem",marginTop:"4px",borderRadius:"3px",border:"1px solid #999"},children:[o.jsx("option",{value:"",children:"--"}),o.jsx("option",{value:"live",children:" LIVE"}),o.jsx("option",{value:"final",children:" FINAL"})]})]}):o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#000"},children:((G=(M=y[c])==null?void 0:M[f.id])==null?void 0:G.team2)||"-"}),o.jsx("div",{style:{fontSize:"0.75rem",color:"#000",fontWeight:"700"},children:"ACTUAL"}),(($=m[c])==null?void 0:$[f.id])==="final"&&o.jsx("div",{style:{display:"inline-block",padding:"2px 6px",background:"#4caf50",color:"white",borderRadius:"3px",fontSize:"0.65rem",fontWeight:"bold",marginTop:"4px"},children:" FINAL"}),((Q=m[c])==null?void 0:Q[f.id])==="live"&&o.jsx("div",{style:{display:"inline-block",padding:"2px 6px",background:"#ff9800",color:"white",borderRadius:"3px",fontSize:"0.65rem",fontWeight:"bold",marginTop:"4px"},children:" LIVE"})]})})]},`actual-${f.id}`)})})]}),o.jsx("tbody",{children:(c==="superbowl"?(()=>{const g=new Map;return h.forEach(x=>{if(!g.has(x.playerCode)){const C=h.find(T=>T.playerCode===x.playerCode&&T.week==="superbowl");g.set(x.playerCode,C||{playerName:x.playerName,playerCode:x.playerCode,week:"superbowl",predictions:{},timestamp:x.timestamp,lastUpdated:x.lastUpdated||x.timestamp})}}),Array.from(g.values())})():h.filter(g=>g.week===c)).sort((g,x)=>(x.lastUpdated||x.timestamp)-(g.lastUpdated||g.timestamp)).map((g,x)=>{var T;const C=I=>{var ie;const N=(ie=y[c])==null?void 0:ie[I],A=g.predictions[I];if(!N||!A)return!1;const M=parseInt(N.team1),G=parseInt(N.team2),$=parseInt(A.team1),Q=parseInt(A.team2);if(isNaN(M)||isNaN(G))return!1;const q=M>G?"team1":G>M?"team2":"tie",Z=$>Q?"team1":Q>$?"team2":"tie";return q===Z&&q!=="tie"};return o.jsxs("tr",{children:[o.jsx("td",{className:"player-name",children:g.playerName}),Ce.games.map(I=>{var Q,q,Z,ie;const N=g.predictions[I.id],A=(Q=y[c])==null?void 0:Q[I.id],M=(q=m[c])==null?void 0:q[I.id],G=Dd(N==null?void 0:N.team1,N==null?void 0:N.team2,A==null?void 0:A.team1,A==null?void 0:A.team2,M,!0),$=Dd(N==null?void 0:N.team1,N==null?void 0:N.team2,A==null?void 0:A.team1,A==null?void 0:A.team2,M,!1);return o.jsxs(Fa.Fragment,{children:[o.jsx("td",{className:"score",style:{background:G.background,color:G.color,fontWeight:G.background!=="transparent"?"bold":"normal"},children:((Z=g.predictions[I.id])==null?void 0:Z.team1)||"-"}),o.jsx("td",{className:"score",style:{background:$.background,color:$.color,fontWeight:$.background!=="transparent"?"bold":"normal"},children:((ie=g.predictions[I.id])==null?void 0:ie.team2)||"-"})]},`${x}-${I.id}`)}),(()=>{let I=0;return Ce.games.forEach(N=>{C(N.id)&&I++}),o.jsx("td",{style:{backgroundColor:"#f1f8f4",fontWeight:"bold",fontSize:"1rem",color:I>0?"#2e7d32":"#999",textAlign:"center",padding:"8px 4px"},children:I})})(),c==="superbowl"?o.jsx(o.Fragment,{children:(()=>{const I=Xi(g.playerCode,"superbowl"),N=Xi(g.playerCode,"conference"),A=Xi(g.playerCode,"divisional"),M=Xi(g.playerCode,"wildcard"),G=w0(g.playerCode);return o.jsxs(o.Fragment,{children:[o.jsx("td",{style:{backgroundColor:"#fff3cd",fontWeight:"bold",fontSize:I.fontSize},title:I.tooltip,children:o.jsx("span",{style:{color:"#000"},children:I.display})}),o.jsx("td",{style:{backgroundColor:"#d1ecf1",fontWeight:"bold",fontSize:N.fontSize},title:N.tooltip,children:o.jsx("span",{style:{color:"#000"},children:N.display})}),o.jsx("td",{style:{backgroundColor:"#d4edda",fontWeight:"bold",fontSize:A.fontSize},title:A.tooltip,children:o.jsx("span",{style:{color:"#000"},children:A.display})}),o.jsx("td",{style:{backgroundColor:"#f8d7da",fontWeight:"bold",fontSize:M.fontSize},title:M.tooltip,children:o.jsx("span",{style:{color:"#000"},children:M.display})}),o.jsx("td",{className:"grand-total",style:{fontSize:G.fontSize},title:G.tooltip,children:G.display})]})})()}):o.jsx("td",{style:{backgroundColor:"#f8f9fa",fontWeight:"bold",fontSize:"16px"},children:o.jsx("span",{style:{color:"#000"},children:((T=T0[g.playerName])==null?void 0:T.current)||0})}),o.jsx("td",{className:"timestamp",children:new Date(g.lastUpdated||g.timestamp).toLocaleString("en-US",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})})]},x)})})]})}),l&&o.jsxs(o.Fragment,{children:[c==="superbowl"&&o.jsxs("div",{style:{marginTop:"40px",marginBottom:"40px",padding:"30px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"12px",border:"3px solid #5a67d8",boxShadow:"0 8px 20px rgba(0,0,0,0.15)"},children:[o.jsx("h3",{style:{color:"#fff",marginBottom:"20px",fontSize:"1.4rem",display:"flex",alignItems:"center",gap:"10px"},children:" Format Guide - How to Read the Totals"}),o.jsxs("div",{style:{background:"rgba(255,255,255,0.95)",padding:"25px",borderRadius:"10px",color:"#333"},children:[o.jsxs("div",{style:{marginBottom:"25px"},children:[o.jsx("p",{style:{fontWeight:"bold",color:"#5a67d8",marginBottom:"12px",fontSize:"1.1rem"},children:"Grand Total Format:"}),o.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0,lineHeight:"2.2"},children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Complete Entry:"})," ",o.jsx("code",{style:{background:"#f0f4f8",padding:"4px 10px",borderRadius:"5px",fontWeight:"bold",color:"#2d3748"},children:"784"})," - All 4 weeks entered"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"During Season:"})," ",o.jsx("code",{style:{background:"#f0f4f8",padding:"4px 10px",borderRadius:"5px",fontWeight:"bold",color:"#2d3748"},children:"784/598/35"})," - Full Pred / Played Weeks / Difference"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"After Season:"})," ",o.jsx("code",{style:{background:"#f0f4f8",padding:"4px 10px",borderRadius:"5px",fontWeight:"bold",color:"#2d3748"},children:"784/55"})," - Full Pred / Total Difference"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Abnormal Pattern:"})," ",o.jsx("code",{style:{background:"#fff3cd",padding:"4px 10px",borderRadius:"5px",fontWeight:"bold",color:"#856404",border:"2px solid #ffc107"},children:"P13/415"})," - P = Partial (weeks 1 & 3 only - unusual!)"]})]})]}),o.jsxs("div",{style:{marginBottom:"25px"},children:[o.jsx("p",{style:{fontWeight:"bold",color:"#5a67d8",marginBottom:"12px",fontSize:"1.1rem"},children:"Special Indicators:"}),o.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0,lineHeight:"2.2"},children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Asterisk (*):"})," ",o.jsx("code",{style:{background:"#f0f4f8",padding:"4px 10px",borderRadius:"5px",fontWeight:"bold",color:"#2d3748"},children:"234*"})," - Pick filled by RNG/Pool Manager"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"P Notation:"})," Shows which weeks entered when pattern is unusual (e.g., P13 = weeks 1 & 3, skipped 2)"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Dash (-):"})," Week not entered yet"]})]})]}),o.jsxs("div",{style:{marginBottom:"15px"},children:[o.jsx("p",{style:{fontWeight:"bold",color:"#5a67d8",marginBottom:"12px",fontSize:"1.1rem"},children:"Examples:"}),o.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0,lineHeight:"2.2"},children:[o.jsxs("li",{children:["Richard: ",o.jsx("code",{style:{background:"#f0f4f8",padding:"4px 10px",borderRadius:"5px",fontWeight:"bold"},children:"784"})," - Entered all 4 weeks normally"]}),o.jsxs("li",{children:["Neema: ",o.jsx("code",{style:{background:"#f0f4f8",padding:"4px 10px",borderRadius:"5px",fontWeight:"bold"},children:"533/287/22"})," - 2 weeks played so far, 22 points off"]}),o.jsxs("li",{children:["Bob: ",o.jsx("code",{style:{background:"#fff3cd",padding:"4px 10px",borderRadius:"5px",fontWeight:"bold",border:"2px solid #ffc107"},children:"P13/415"})," - Entered weeks 1 & 3 only (skipped 2) - unusual!"]}),o.jsxs("li",{children:["After RNG fills Bob's week 2: ",o.jsx("code",{style:{background:"#f0f4f8",padding:"4px 10px",borderRadius:"5px",fontWeight:"bold"},children:"649"})," - P notation drops (normalized)"]})]})]}),o.jsx("div",{style:{paddingTop:"20px",borderTop:"2px solid #cbd5e0",marginTop:"15px"},children:o.jsxs("p",{style:{color:"#4a5568",fontStyle:"italic",fontSize:"1rem",margin:0},children:[" ",o.jsx("strong",{children:"Tip:"})," Hover over any number for detailed breakdown! The P notation only appears for unusual entry patterns and disappears once normalized."]})})]})]}),o.jsx("div",{style:{marginTop:"60px"},children:o.jsx(uC,{allPicks:h,actualScores:y,games:De,officialWinners:Hi,weekData:De})})]}),l&&pe()&&o.jsxs("div",{style:{marginTop:"40px",marginBottom:"40px"},children:[o.jsxs("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"25px",borderRadius:"12px",marginBottom:"30px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[o.jsxs("h2",{style:{margin:"0 0 15px 0",display:"flex",alignItems:"center",gap:"10px"},children:[o.jsx("span",{children:""}),o.jsx("span",{children:"PRIZE POOL MANAGEMENT"})]}),Be.totalFees>0?o.jsxs("div",{children:[o.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:"20px",borderRadius:"8px",marginBottom:"15px"},children:[o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"20px",marginBottom:"15px"},children:[o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"0.85rem",opacity:.9},children:"Total Pool Fees"}),o.jsxs("div",{style:{fontSize:"1.8rem",fontWeight:"bold"},children:["$",Be.totalFees.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"0.85rem",opacity:.9},children:"Number of Players"}),o.jsx("div",{style:{fontSize:"1.8rem",fontWeight:"bold"},children:Be.numberOfPlayers})]}),o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"0.85rem",opacity:.9},children:"Each Prize (10%)"}),o.jsxs("div",{style:{fontSize:"1.8rem",fontWeight:"bold"},children:["$",Be.prizeValue.toFixed(2)]})]})]}),o.jsxs("div",{style:{fontSize:"0.85rem",opacity:.8},children:["Entry Fee: $",Be.entryFee," per player"]})]}),o.jsx("button",{onClick:()=>Yi(!0),style:{padding:"10px 20px",background:"rgba(255,255,255,0.3)",color:"white",border:"2px solid white",borderRadius:"6px",cursor:"pointer",fontWeight:"600"},children:" Edit Prize Pool Setup"})]}):o.jsxs("div",{children:[o.jsx("p",{style:{marginBottom:"15px"},children:" Set up your prize pool to enable winner declarations."}),o.jsx("button",{onClick:()=>Yi(!0),style:{padding:"12px 24px",background:"white",color:"#667eea",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"700",fontSize:"1rem"},children:" Set Up Prize Pool"})]})]}),Be.totalFees>0&&o.jsxs("div",{style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"white",padding:"25px",borderRadius:"12px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[o.jsxs("h2",{style:{margin:"0 0 20px 0",display:"flex",alignItems:"center",gap:"10px"},children:[o.jsx("span",{children:""}),o.jsx("span",{children:"DECLARE PRIZE WINNERS"})]}),o.jsx("button",{onClick:()=>ql(!0),style:{padding:"14px 28px",background:"white",color:"#f5576c",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"700",fontSize:"1.1rem",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:" Declare Winner(s) for a Prize"}),Object.keys(Hi).length>0&&o.jsxs("div",{style:{marginTop:"25px"},children:[o.jsx("h3",{style:{marginBottom:"15px",fontSize:"1.1rem"},children:" Current Prize Winners:"}),o.jsx("div",{style:{background:"rgba(255,255,255,0.2)",padding:"15px",borderRadius:"8px",maxHeight:"400px",overflowY:"auto"},children:Object.entries(Hi).sort((f,g)=>{const x=f[1].prizeNumber,C=g[1].prizeNumber;return x-C}).map(([f,g])=>o.jsxs("div",{style:{background:"rgba(255,255,255,0.9)",color:"#333",padding:"15px",borderRadius:"6px",marginBottom:"12px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"10px"},children:[o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:"bold",fontSize:"1rem",marginBottom:"5px"},children:g.prizeName}),o.jsxs("div",{style:{fontSize:"0.9rem",color:"#666"},children:["Prize Value: $",g.prizeValue.toFixed(2)]})]}),o.jsx("button",{onClick:()=>u0(g.prizeNumber),style:{padding:"6px 12px",background:"#e74c3c",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.85rem",fontWeight:"600"},children:" Delete"})]}),o.jsx("div",{style:{paddingLeft:"15px"},children:g.winners.map((x,C)=>o.jsxs("div",{style:{padding:"8px 0",borderBottom:C<g.winners.length-1?"1px solid #eee":"none"},children:[o.jsxs("span",{style:{fontWeight:"600"},children:[" ",x.playerName]}),o.jsxs("span",{style:{marginLeft:"15px",color:"#666"},children:[x.percentage.toFixed(2),"% = $",x.amount.toFixed(2)]})]},C))})]},f))})]})]})]}),Qy&&o.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},children:o.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"30px",maxWidth:"600px",width:"100%",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 8px 32px rgba(0,0,0,0.3)"},children:[o.jsx("h2",{style:{marginTop:0,color:"#667eea"},children:" Prize Pool Setup"}),o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Total Pool Fees Collected:"}),o.jsx("input",{type:"number",id:"totalFees",defaultValue:Be.totalFees||"",placeholder:"1000",style:{width:"100%",padding:"12px",fontSize:"1.1rem",border:"2px solid #667eea",borderRadius:"6px"}}),o.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginTop:"5px"},children:"Total money collected from all players"})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Number of Players:"}),o.jsx("input",{type:"number",id:"numberOfPlayers",defaultValue:Be.numberOfPlayers||"",placeholder:"50",style:{width:"100%",padding:"12px",fontSize:"1.1rem",border:"2px solid #667eea",borderRadius:"6px"}}),o.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginTop:"5px"},children:"Total number of players in the pool"})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Entry Fee per Player:"}),o.jsx("input",{type:"number",id:"entryFee",defaultValue:Be.entryFee||20,placeholder:"20",style:{width:"100%",padding:"12px",fontSize:"1.1rem",border:"2px solid #667eea",borderRadius:"6px"}}),o.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginTop:"5px"},children:"Amount each player paid to enter ($20, $50, etc.)"})]}),o.jsxs("div",{style:{background:"#f0f8ff",padding:"15px",borderRadius:"8px",marginBottom:"20px"},children:[o.jsx("div",{style:{fontWeight:"600",marginBottom:"10px"},children:" Calculation Preview:"}),o.jsxs("div",{style:{fontSize:"0.9rem",lineHeight:"1.6"},children:["Each Prize = Total Pool  10",o.jsx("br",{}),o.jsx("span",{id:"prizePreview",style:{fontWeight:"bold",color:"#667eea"},children:"Example: $1,000  10 = $100 per prize"})]})]}),o.jsxs("div",{style:{display:"flex",gap:"10px"},children:[o.jsx("button",{onClick:()=>Yi(!1),style:{flex:"1",padding:"14px",background:"#95a5a6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Cancel"}),o.jsx("button",{onClick:()=>{const f=document.getElementById("totalFees").value,g=document.getElementById("numberOfPlayers").value,x=document.getElementById("entryFee").value;if(!f||f<=0){alert(" Please enter a valid total pool amount.");return}a0(f,g,x)},style:{flex:"1",padding:"14px",background:"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Save Prize Pool"})]})]})}),Xy&&o.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},children:o.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"30px",maxWidth:"700px",width:"100%",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 8px 32px rgba(0,0,0,0.3)"},children:[o.jsx("h2",{style:{marginTop:0,color:"#f5576c"},children:" Declare Prize Winner(s)"}),o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Select Prize:"}),o.jsxs("select",{value:At,onChange:f=>Kl(f.target.value),style:{width:"100%",padding:"12px",fontSize:"1rem",border:"2px solid #f5576c",borderRadius:"6px"},children:[o.jsx("option",{value:"",children:"-- Select Prize --"}),[1,2,3,4,5,6,7,8,9,10].map(f=>o.jsx("option",{value:f,children:ks(f)},f))]}),At&&o.jsxs("div",{style:{marginTop:"8px",fontSize:"0.9rem",color:"#666"},children:["Prize Value: $",Be.prizeValue.toFixed(2)," (10% of pool)"]})]}),At&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Number of Winners (Tie?):"}),o.jsx("input",{type:"number",min:"1",max:"10",value:wr,onChange:f=>{const g=parseInt(f.target.value)||1;Ql(g),Ki(Array(g).fill(null).map(()=>({name:"",code:""})));const x=Qi(Be.prizeValue,g);ms(x)},style:{width:"100%",padding:"12px",fontSize:"1rem",border:"2px solid #f5576c",borderRadius:"6px"}}),o.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginTop:"5px"},children:"How many players are tied? (1 = single winner, 2+ = tie)"})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsx("label",{style:{display:"block",marginBottom:"12px",fontWeight:"600"},children:"Select Winner(s):"}),Array(wr).fill(0).map((f,g)=>{var C,T,I;const x=gn?null:Qi(Be.prizeValue,wr)[g];return o.jsxs("div",{style:{background:"#f8f9fa",padding:"15px",borderRadius:"8px",marginBottom:"12px"},children:[o.jsxs("div",{style:{marginBottom:"10px",fontWeight:"600"},children:["Winner ",g+1,":"]}),o.jsxs("select",{value:((C=Et[g])==null?void 0:C.code)||"",onChange:N=>{const A=Object.entries(Ee).find(([G])=>G===N.target.value),M=[...Et];M[g]={code:N.target.value,name:A?A[1]:""},Ki(M)},style:{width:"100%",padding:"10px",fontSize:"1rem",border:"1px solid #ddd",borderRadius:"6px",marginBottom:"8px"},children:[o.jsx("option",{value:"",children:"-- Select Player --"}),Object.entries(Ee).sort((N,A)=>N[1].localeCompare(A[1])).map(([N,A])=>o.jsx("option",{value:N,children:A},N))]}),!gn&&x&&o.jsxs("div",{style:{fontSize:"0.9rem",color:"#666"},children:["Share: ",x.percentage.toFixed(2),"% = $",x.amount.toFixed(2),g===wr-1&&wr>1&&o.jsx("span",{style:{marginLeft:"10px",fontSize:"0.85rem",color:"#f5576c"},children:"(includes extra penny)"})]}),gn&&o.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"8px"},children:[o.jsx("input",{type:"number",placeholder:"%",step:"0.01",value:((T=Vt[g])==null?void 0:T.percentage)||"",onChange:N=>{const A=[...Vt],M=parseFloat(N.target.value)||0;A[g]={...A[g],percentage:M,amount:Be.prizeValue*M/100},ms(A)},style:{flex:"1",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"}}),o.jsx("input",{type:"number",placeholder:"$",step:"0.01",value:((I=Vt[g])==null?void 0:I.amount)||"",onChange:N=>{const A=[...Vt],M=parseFloat(N.target.value)||0;A[g]={...A[g],amount:M,percentage:M/Be.prizeValue*100},ms(A)},style:{flex:"1",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"}})]})]},g)})]}),o.jsx("div",{style:{marginBottom:"20px"},children:o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:gn,onChange:f=>Xl(f.target.checked),style:{width:"18px",height:"18px"}}),o.jsx("span",{style:{fontWeight:"600"},children:"Use custom percentages/amounts (manual override)"})]})}),o.jsxs("div",{style:{background:"#fff3cd",border:"2px solid #ffc107",padding:"15px",borderRadius:"8px",marginBottom:"20px",color:"#000"},children:[o.jsx("div",{style:{fontWeight:"700",marginBottom:"10px",color:"#000",fontSize:"1.05rem"},children:" Summary:"}),Et.every(f=>f.name)?o.jsxs("div",{style:{color:"#000"},children:[Et.map((f,g)=>{const x=gn?Vt[g]:Qi(Be.prizeValue,wr)[g];return o.jsxs("div",{style:{marginBottom:"5px",color:"#000",fontWeight:"600"},children:[" ",f.name,": ",x==null?void 0:x.percentage.toFixed(2),"% = $",x==null?void 0:x.amount.toFixed(2)]},g)}),o.jsxs("div",{style:{marginTop:"10px",paddingTop:"10px",borderTop:"2px solid #856404",fontWeight:"700",color:"#000"},children:["Total: ",gn?Vt.reduce((f,g)=>f+(g.percentage||0),0).toFixed(2):"100.00","% = $",gn?Vt.reduce((f,g)=>f+(g.amount||0),0).toFixed(2):Be.prizeValue.toFixed(2)]})]}):o.jsx("div",{style:{color:"#856404",fontWeight:"600"},children:"Select all winners to see summary"})]})]}),o.jsxs("div",{style:{display:"flex",gap:"10px"},children:[o.jsx("button",{onClick:()=>{ql(!1),Kl(""),Ql(1),Ki([]),Xl(!1),ms([])},style:{flex:"1",padding:"14px",background:"#95a5a6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Cancel"}),o.jsx("button",{onClick:c0,disabled:!At||!Et.every(f=>f.name),style:{flex:"1",padding:"14px",background:At&&Et.every(f=>f.name)?"#f5576c":"#ccc",color:"white",border:"none",borderRadius:"6px",cursor:At&&Et.every(f=>f.name)?"pointer":"not-allowed",fontSize:"1rem",fontWeight:"700"},children:" Declare Winner(s)"})]})]})}),nt==="unsavedChanges"&&o.jsx(tC,{currentWeek:De[c].name,onDiscard:()=>{u(Vi),qi(Vi),Ie(null)},onSaveAndSwitch:async()=>{await Vd(new Event("submit")),setTimeout(()=>{u(Vi),qi(Vi),Ie(null),Yl(null)},100)},onCancel:()=>{Yl(null),Ie(null)}}),nt==="discardChanges"&&o.jsx(nC,{onKeepEditing:()=>Ie(null),onDiscard:()=>{d({...Jl}),Ct(!1),Ie(null)}}),nt==="incomplete"&&o.jsx(rC,{missingGames:jd,totalGames:Ce.games.length,onClose:()=>Ie(null)}),nt==="invalidScores"&&o.jsx(sC,{invalidScores:Hy,onClose:()=>Ie(null)}),nt==="success"&&o.jsx(iC,{weekName:Ce.name,deadline:Ce.deadline,onClose:()=>Ie(null)}),nt==="noChanges"&&o.jsx(oC,{onClose:()=>Ie(null)}),nt==="tiedGames"&&o.jsx(lC,{tiedGames:jd,gameData:Ce.games,onClose:()=>Ie(null)})]})]})]}),o.jsxs("footer",{children:[o.jsx("p",{children:"Richard's NFL Playoff Pool 2025 | Good luck! "}),o.jsx("p",{style:{fontSize:"0.85rem",marginTop:"5px"},children:"Questions? Contact: gammoneer2b@gmail.com"})]})]})}Ba.createRoot(document.getElementById("root")).render(o.jsx(Fa.StrictMode,{children:o.jsx(kC,{})}));
