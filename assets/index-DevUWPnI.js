(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function yy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hh={exports:{}},Jo={},ph={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gi=Symbol.for("react.element"),vy=Symbol.for("react.portal"),_y=Symbol.for("react.fragment"),wy=Symbol.for("react.strict_mode"),xy=Symbol.for("react.profiler"),Sy=Symbol.for("react.provider"),Cy=Symbol.for("react.context"),Ey=Symbol.for("react.forward_ref"),ky=Symbol.for("react.suspense"),Ny=Symbol.for("react.memo"),Ty=Symbol.for("react.lazy"),dd=Symbol.iterator;function Iy(t){return t===null||typeof t!="object"?null:(t=dd&&t[dd]||t["@@iterator"],typeof t=="function"?t:null)}var mh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gh=Object.assign,yh={};function Xr(t,e,n){this.props=t,this.context=e,this.refs=yh,this.updater=n||mh}Xr.prototype.isReactComponent={};Xr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Xr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function vh(){}vh.prototype=Xr.prototype;function Tc(t,e,n){this.props=t,this.context=e,this.refs=yh,this.updater=n||mh}var Ic=Tc.prototype=new vh;Ic.constructor=Tc;gh(Ic,Xr.prototype);Ic.isPureReactComponent=!0;var fd=Array.isArray,_h=Object.prototype.hasOwnProperty,Pc={current:null},wh={key:!0,ref:!0,__self:!0,__source:!0};function xh(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)_h.call(e,r)&&!wh.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:gi,type:t,key:i,ref:o,props:s,_owner:Pc.current}}function Py(t,e){return{$$typeof:gi,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Rc(t){return typeof t=="object"&&t!==null&&t.$$typeof===gi}function Ry(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var hd=/\/+/g;function Il(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Ry(""+t.key):e.toString(36)}function Xi(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case gi:case vy:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Il(o,0):r,fd(s)?(n="",t!=null&&(n=t.replace(hd,"$&/")+"/"),Xi(s,e,n,"",function(u){return u})):s!=null&&(Rc(s)&&(s=Py(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(hd,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",fd(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Il(i,a);o+=Xi(i,e,n,l,s)}else if(l=Iy(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Il(i,a++),o+=Xi(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ji(t,e,n){if(t==null)return t;var r=[],s=0;return Xi(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Ay(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Xe={current:null},Ji={transition:null},jy={ReactCurrentDispatcher:Xe,ReactCurrentBatchConfig:Ji,ReactCurrentOwner:Pc};function Sh(){throw Error("act(...) is not supported in production builds of React.")}X.Children={map:ji,forEach:function(t,e,n){ji(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ji(t,function(){e++}),e},toArray:function(t){return ji(t,function(e){return e})||[]},only:function(t){if(!Rc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};X.Component=Xr;X.Fragment=_y;X.Profiler=xy;X.PureComponent=Tc;X.StrictMode=wy;X.Suspense=ky;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jy;X.act=Sh;X.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=gh({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Pc.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)_h.call(e,l)&&!wh.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:gi,type:t.type,key:s,ref:i,props:r,_owner:o}};X.createContext=function(t){return t={$$typeof:Cy,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Sy,_context:t},t.Consumer=t};X.createElement=xh;X.createFactory=function(t){var e=xh.bind(null,t);return e.type=t,e};X.createRef=function(){return{current:null}};X.forwardRef=function(t){return{$$typeof:Ey,render:t}};X.isValidElement=Rc;X.lazy=function(t){return{$$typeof:Ty,_payload:{_status:-1,_result:t},_init:Ay}};X.memo=function(t,e){return{$$typeof:Ny,type:t,compare:e===void 0?null:e}};X.startTransition=function(t){var e=Ji.transition;Ji.transition={};try{t()}finally{Ji.transition=e}};X.unstable_act=Sh;X.useCallback=function(t,e){return Xe.current.useCallback(t,e)};X.useContext=function(t){return Xe.current.useContext(t)};X.useDebugValue=function(){};X.useDeferredValue=function(t){return Xe.current.useDeferredValue(t)};X.useEffect=function(t,e){return Xe.current.useEffect(t,e)};X.useId=function(){return Xe.current.useId()};X.useImperativeHandle=function(t,e,n){return Xe.current.useImperativeHandle(t,e,n)};X.useInsertionEffect=function(t,e){return Xe.current.useInsertionEffect(t,e)};X.useLayoutEffect=function(t,e){return Xe.current.useLayoutEffect(t,e)};X.useMemo=function(t,e){return Xe.current.useMemo(t,e)};X.useReducer=function(t,e,n){return Xe.current.useReducer(t,e,n)};X.useRef=function(t){return Xe.current.useRef(t)};X.useState=function(t){return Xe.current.useState(t)};X.useSyncExternalStore=function(t,e,n){return Xe.current.useSyncExternalStore(t,e,n)};X.useTransition=function(){return Xe.current.useTransition()};X.version="18.3.1";ph.exports=X;var W=ph.exports;const ha=yy(W);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var by=W,Dy=Symbol.for("react.element"),Oy=Symbol.for("react.fragment"),Ly=Object.prototype.hasOwnProperty,My=by.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Fy={key:!0,ref:!0,__self:!0,__source:!0};function Ch(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Ly.call(e,r)&&!Fy.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Dy,type:t,key:i,ref:o,props:s,_owner:My.current}}Jo.Fragment=Oy;Jo.jsx=Ch;Jo.jsxs=Ch;hh.exports=Jo;var c=hh.exports,pa={},Eh={exports:{}},dt={},kh={exports:{}},Nh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(b,F){var H=b.length;b.push(F);e:for(;0<H;){var ce=H-1>>>1,Se=b[ce];if(0<s(Se,F))b[ce]=F,b[H]=Se,H=ce;else break e}}function n(b){return b.length===0?null:b[0]}function r(b){if(b.length===0)return null;var F=b[0],H=b.pop();if(H!==F){b[0]=H;e:for(var ce=0,Se=b.length,Wn=Se>>>1;ce<Wn;){var $t=2*(ce+1)-1,ss=b[$t],pt=$t+1,on=b[pt];if(0>s(ss,H))pt<Se&&0>s(on,ss)?(b[ce]=on,b[pt]=H,ce=pt):(b[ce]=ss,b[$t]=H,ce=$t);else if(pt<Se&&0>s(on,H))b[ce]=on,b[pt]=H,ce=pt;else break e}}return F}function s(b,F){var H=b.sortIndex-F.sortIndex;return H!==0?H:b.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,f=null,d=3,g=!1,_=!1,x=!1,E=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(b){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=b)r(u),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(u)}}function S(b){if(x=!1,v(b),!_)if(n(l)!==null)_=!0,Ot(k);else{var F=n(u);F!==null&&ht(S,F.startTime-b)}}function k(b,F){_=!1,x&&(x=!1,y(R),R=-1),g=!0;var H=d;try{for(v(F),f=n(l);f!==null&&(!(f.expirationTime>F)||b&&!Ue());){var ce=f.callback;if(typeof ce=="function"){f.callback=null,d=f.priorityLevel;var Se=ce(f.expirationTime<=F);F=t.unstable_now(),typeof Se=="function"?f.callback=Se:f===n(l)&&r(l),v(F)}else r(l);f=n(l)}if(f!==null)var Wn=!0;else{var $t=n(u);$t!==null&&ht(S,$t.startTime-F),Wn=!1}return Wn}finally{f=null,d=H,g=!1}}var N=!1,I=null,R=-1,B=5,z=-1;function Ue(){return!(t.unstable_now()-z<B)}function Ut(){if(I!==null){var b=t.unstable_now();z=b;var F=!0;try{F=I(!0,b)}finally{F?Dt():(N=!1,I=null)}}else N=!1}var Dt;if(typeof m=="function")Dt=function(){m(Ut)};else if(typeof MessageChannel<"u"){var ur=new MessageChannel,dr=ur.port2;ur.port1.onmessage=Ut,Dt=function(){dr.postMessage(null)}}else Dt=function(){E(Ut,0)};function Ot(b){I=b,N||(N=!0,Dt())}function ht(b,F){R=E(function(){b(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(b){b.callback=null},t.unstable_continueExecution=function(){_||g||(_=!0,Ot(k))},t.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<b?Math.floor(1e3/b):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(b){switch(d){case 1:case 2:case 3:var F=3;break;default:F=d}var H=d;d=F;try{return b()}finally{d=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(b,F){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var H=d;d=b;try{return F()}finally{d=H}},t.unstable_scheduleCallback=function(b,F,H){var ce=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ce+H:ce):H=ce,b){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=H+Se,b={id:h++,callback:F,priorityLevel:b,startTime:H,expirationTime:Se,sortIndex:-1},H>ce?(b.sortIndex=H,e(u,b),n(l)===null&&b===n(u)&&(x?(y(R),R=-1):x=!0,ht(S,H-ce))):(b.sortIndex=Se,e(l,b),_||g||(_=!0,Ot(k))),b},t.unstable_shouldYield=Ue,t.unstable_wrapCallback=function(b){var F=d;return function(){var H=d;d=F;try{return b.apply(this,arguments)}finally{d=H}}}})(Nh);kh.exports=Nh;var Wy=kh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zy=W,ut=Wy;function T(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Th=new Set,Bs={};function ir(t,e){Fr(t,e),Fr(t+"Capture",e)}function Fr(t,e){for(Bs[t]=e,t=0;t<e.length;t++)Th.add(e[t])}var Xt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ma=Object.prototype.hasOwnProperty,By=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pd={},md={};function Uy(t){return ma.call(md,t)?!0:ma.call(pd,t)?!1:By.test(t)?md[t]=!0:(pd[t]=!0,!1)}function $y(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Vy(t,e,n,r){if(e===null||typeof e>"u"||$y(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Je(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ze[t]=new Je(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ze[e]=new Je(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ze[t]=new Je(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ze[t]=new Je(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ze[t]=new Je(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ze[t]=new Je(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ze[t]=new Je(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ze[t]=new Je(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ze[t]=new Je(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ac=/[\-:]([a-z])/g;function jc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ac,jc);ze[e]=new Je(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ac,jc);ze[e]=new Je(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ac,jc);ze[e]=new Je(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ze[t]=new Je(t,1,!1,t.toLowerCase(),null,!1,!1)});ze.xlinkHref=new Je("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ze[t]=new Je(t,1,!1,t.toLowerCase(),null,!0,!0)});function bc(t,e,n,r){var s=ze.hasOwnProperty(e)?ze[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Vy(e,n,s,r)&&(n=null),r||s===null?Uy(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var rn=zy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bi=Symbol.for("react.element"),gr=Symbol.for("react.portal"),yr=Symbol.for("react.fragment"),Dc=Symbol.for("react.strict_mode"),ga=Symbol.for("react.profiler"),Ih=Symbol.for("react.provider"),Ph=Symbol.for("react.context"),Oc=Symbol.for("react.forward_ref"),ya=Symbol.for("react.suspense"),va=Symbol.for("react.suspense_list"),Lc=Symbol.for("react.memo"),fn=Symbol.for("react.lazy"),Rh=Symbol.for("react.offscreen"),gd=Symbol.iterator;function ds(t){return t===null||typeof t!="object"?null:(t=gd&&t[gd]||t["@@iterator"],typeof t=="function"?t:null)}var ge=Object.assign,Pl;function Cs(t){if(Pl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Pl=e&&e[1]||""}return`
`+Pl+t}var Rl=!1;function Al(t,e){if(!t||Rl)return"";Rl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Rl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Cs(t):""}function Hy(t){switch(t.tag){case 5:return Cs(t.type);case 16:return Cs("Lazy");case 13:return Cs("Suspense");case 19:return Cs("SuspenseList");case 0:case 2:case 15:return t=Al(t.type,!1),t;case 11:return t=Al(t.type.render,!1),t;case 1:return t=Al(t.type,!0),t;default:return""}}function _a(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case yr:return"Fragment";case gr:return"Portal";case ga:return"Profiler";case Dc:return"StrictMode";case ya:return"Suspense";case va:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ph:return(t.displayName||"Context")+".Consumer";case Ih:return(t._context.displayName||"Context")+".Provider";case Oc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Lc:return e=t.displayName||null,e!==null?e:_a(t.type)||"Memo";case fn:e=t._payload,t=t._init;try{return _a(t(e))}catch{}}return null}function Gy(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _a(e);case 8:return e===Dc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function An(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ah(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Yy(t){var e=Ah(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Di(t){t._valueTracker||(t._valueTracker=Yy(t))}function jh(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Ah(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function uo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function wa(t,e){var n=e.checked;return ge({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function yd(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=An(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function bh(t,e){e=e.checked,e!=null&&bc(t,"checked",e,!1)}function xa(t,e){bh(t,e);var n=An(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Sa(t,e.type,n):e.hasOwnProperty("defaultValue")&&Sa(t,e.type,An(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function vd(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Sa(t,e,n){(e!=="number"||uo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Es=Array.isArray;function Pr(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+An(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Ca(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(T(91));return ge({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function _d(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(T(92));if(Es(n)){if(1<n.length)throw Error(T(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:An(n)}}function Dh(t,e){var n=An(e.value),r=An(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function wd(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Oh(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ea(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Oh(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Oi,Lh=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Oi=Oi||document.createElement("div"),Oi.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Oi.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Us(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ts={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qy=["Webkit","ms","Moz","O"];Object.keys(Ts).forEach(function(t){Qy.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ts[e]=Ts[t]})});function Mh(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ts.hasOwnProperty(t)&&Ts[t]?(""+e).trim():e+"px"}function Fh(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Mh(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Ky=ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ka(t,e){if(e){if(Ky[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(T(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(T(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(T(61))}if(e.style!=null&&typeof e.style!="object")throw Error(T(62))}}function Na(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ta=null;function Mc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ia=null,Rr=null,Ar=null;function xd(t){if(t=_i(t)){if(typeof Ia!="function")throw Error(T(280));var e=t.stateNode;e&&(e=rl(e),Ia(t.stateNode,t.type,e))}}function Wh(t){Rr?Ar?Ar.push(t):Ar=[t]:Rr=t}function zh(){if(Rr){var t=Rr,e=Ar;if(Ar=Rr=null,xd(t),e)for(t=0;t<e.length;t++)xd(e[t])}}function Bh(t,e){return t(e)}function Uh(){}var jl=!1;function $h(t,e,n){if(jl)return t(e,n);jl=!0;try{return Bh(t,e,n)}finally{jl=!1,(Rr!==null||Ar!==null)&&(Uh(),zh())}}function $s(t,e){var n=t.stateNode;if(n===null)return null;var r=rl(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(T(231,e,typeof n));return n}var Pa=!1;if(Xt)try{var fs={};Object.defineProperty(fs,"passive",{get:function(){Pa=!0}}),window.addEventListener("test",fs,fs),window.removeEventListener("test",fs,fs)}catch{Pa=!1}function qy(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var Is=!1,fo=null,ho=!1,Ra=null,Xy={onError:function(t){Is=!0,fo=t}};function Jy(t,e,n,r,s,i,o,a,l){Is=!1,fo=null,qy.apply(Xy,arguments)}function Zy(t,e,n,r,s,i,o,a,l){if(Jy.apply(this,arguments),Is){if(Is){var u=fo;Is=!1,fo=null}else throw Error(T(198));ho||(ho=!0,Ra=u)}}function or(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Vh(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Sd(t){if(or(t)!==t)throw Error(T(188))}function ev(t){var e=t.alternate;if(!e){if(e=or(t),e===null)throw Error(T(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Sd(s),t;if(i===r)return Sd(s),e;i=i.sibling}throw Error(T(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(T(189))}}if(n.alternate!==r)throw Error(T(190))}if(n.tag!==3)throw Error(T(188));return n.stateNode.current===n?t:e}function Hh(t){return t=ev(t),t!==null?Gh(t):null}function Gh(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Gh(t);if(e!==null)return e;t=t.sibling}return null}var Yh=ut.unstable_scheduleCallback,Cd=ut.unstable_cancelCallback,tv=ut.unstable_shouldYield,nv=ut.unstable_requestPaint,Ee=ut.unstable_now,rv=ut.unstable_getCurrentPriorityLevel,Fc=ut.unstable_ImmediatePriority,Qh=ut.unstable_UserBlockingPriority,po=ut.unstable_NormalPriority,sv=ut.unstable_LowPriority,Kh=ut.unstable_IdlePriority,Zo=null,Wt=null;function iv(t){if(Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(Zo,t,void 0,(t.current.flags&128)===128)}catch{}}var Rt=Math.clz32?Math.clz32:av,ov=Math.log,lv=Math.LN2;function av(t){return t>>>=0,t===0?32:31-(ov(t)/lv|0)|0}var Li=64,Mi=4194304;function ks(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function mo(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=ks(a):(i&=o,i!==0&&(r=ks(i)))}else o=n&~s,o!==0?r=ks(o):i!==0&&(r=ks(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Rt(e),s=1<<n,r|=t[n],e&=~s;return r}function cv(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uv(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Rt(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=cv(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Aa(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function qh(){var t=Li;return Li<<=1,!(Li&4194240)&&(Li=64),t}function bl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function yi(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Rt(e),t[e]=n}function dv(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Rt(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Wc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Rt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var te=0;function Xh(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Jh,zc,Zh,ep,tp,ja=!1,Fi=[],_n=null,wn=null,xn=null,Vs=new Map,Hs=new Map,pn=[],fv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ed(t,e){switch(t){case"focusin":case"focusout":_n=null;break;case"dragenter":case"dragleave":wn=null;break;case"mouseover":case"mouseout":xn=null;break;case"pointerover":case"pointerout":Vs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hs.delete(e.pointerId)}}function hs(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=_i(e),e!==null&&zc(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function hv(t,e,n,r,s){switch(e){case"focusin":return _n=hs(_n,t,e,n,r,s),!0;case"dragenter":return wn=hs(wn,t,e,n,r,s),!0;case"mouseover":return xn=hs(xn,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Vs.set(i,hs(Vs.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Hs.set(i,hs(Hs.get(i)||null,t,e,n,r,s)),!0}return!1}function np(t){var e=Hn(t.target);if(e!==null){var n=or(e);if(n!==null){if(e=n.tag,e===13){if(e=Vh(n),e!==null){t.blockedOn=e,tp(t.priority,function(){Zh(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zi(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ba(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ta=r,n.target.dispatchEvent(r),Ta=null}else return e=_i(n),e!==null&&zc(e),t.blockedOn=n,!1;e.shift()}return!0}function kd(t,e,n){Zi(t)&&n.delete(e)}function pv(){ja=!1,_n!==null&&Zi(_n)&&(_n=null),wn!==null&&Zi(wn)&&(wn=null),xn!==null&&Zi(xn)&&(xn=null),Vs.forEach(kd),Hs.forEach(kd)}function ps(t,e){t.blockedOn===e&&(t.blockedOn=null,ja||(ja=!0,ut.unstable_scheduleCallback(ut.unstable_NormalPriority,pv)))}function Gs(t){function e(s){return ps(s,t)}if(0<Fi.length){ps(Fi[0],t);for(var n=1;n<Fi.length;n++){var r=Fi[n];r.blockedOn===t&&(r.blockedOn=null)}}for(_n!==null&&ps(_n,t),wn!==null&&ps(wn,t),xn!==null&&ps(xn,t),Vs.forEach(e),Hs.forEach(e),n=0;n<pn.length;n++)r=pn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<pn.length&&(n=pn[0],n.blockedOn===null);)np(n),n.blockedOn===null&&pn.shift()}var jr=rn.ReactCurrentBatchConfig,go=!0;function mv(t,e,n,r){var s=te,i=jr.transition;jr.transition=null;try{te=1,Bc(t,e,n,r)}finally{te=s,jr.transition=i}}function gv(t,e,n,r){var s=te,i=jr.transition;jr.transition=null;try{te=4,Bc(t,e,n,r)}finally{te=s,jr.transition=i}}function Bc(t,e,n,r){if(go){var s=ba(t,e,n,r);if(s===null)$l(t,e,r,yo,n),Ed(t,r);else if(hv(s,t,e,n,r))r.stopPropagation();else if(Ed(t,r),e&4&&-1<fv.indexOf(t)){for(;s!==null;){var i=_i(s);if(i!==null&&Jh(i),i=ba(t,e,n,r),i===null&&$l(t,e,r,yo,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else $l(t,e,r,null,n)}}var yo=null;function ba(t,e,n,r){if(yo=null,t=Mc(r),t=Hn(t),t!==null)if(e=or(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Vh(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return yo=t,null}function rp(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rv()){case Fc:return 1;case Qh:return 4;case po:case sv:return 16;case Kh:return 536870912;default:return 16}default:return 16}}var gn=null,Uc=null,eo=null;function sp(){if(eo)return eo;var t,e=Uc,n=e.length,r,s="value"in gn?gn.value:gn.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return eo=s.slice(t,1<r?1-r:void 0)}function to(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Wi(){return!0}function Nd(){return!1}function ft(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Wi:Nd,this.isPropagationStopped=Nd,this}return ge(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wi)},persist:function(){},isPersistent:Wi}),e}var Jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$c=ft(Jr),vi=ge({},Jr,{view:0,detail:0}),yv=ft(vi),Dl,Ol,ms,el=ge({},vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ms&&(ms&&t.type==="mousemove"?(Dl=t.screenX-ms.screenX,Ol=t.screenY-ms.screenY):Ol=Dl=0,ms=t),Dl)},movementY:function(t){return"movementY"in t?t.movementY:Ol}}),Td=ft(el),vv=ge({},el,{dataTransfer:0}),_v=ft(vv),wv=ge({},vi,{relatedTarget:0}),Ll=ft(wv),xv=ge({},Jr,{animationName:0,elapsedTime:0,pseudoElement:0}),Sv=ft(xv),Cv=ge({},Jr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ev=ft(Cv),kv=ge({},Jr,{data:0}),Id=ft(kv),Nv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pv(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Iv[t])?!!e[t]:!1}function Vc(){return Pv}var Rv=ge({},vi,{key:function(t){if(t.key){var e=Nv[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=to(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Tv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vc,charCode:function(t){return t.type==="keypress"?to(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?to(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Av=ft(Rv),jv=ge({},el,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pd=ft(jv),bv=ge({},vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vc}),Dv=ft(bv),Ov=ge({},Jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lv=ft(Ov),Mv=ge({},el,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Fv=ft(Mv),Wv=[9,13,27,32],Hc=Xt&&"CompositionEvent"in window,Ps=null;Xt&&"documentMode"in document&&(Ps=document.documentMode);var zv=Xt&&"TextEvent"in window&&!Ps,ip=Xt&&(!Hc||Ps&&8<Ps&&11>=Ps),Rd=" ",Ad=!1;function op(t,e){switch(t){case"keyup":return Wv.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var vr=!1;function Bv(t,e){switch(t){case"compositionend":return lp(e);case"keypress":return e.which!==32?null:(Ad=!0,Rd);case"textInput":return t=e.data,t===Rd&&Ad?null:t;default:return null}}function Uv(t,e){if(vr)return t==="compositionend"||!Hc&&op(t,e)?(t=sp(),eo=Uc=gn=null,vr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ip&&e.locale!=="ko"?null:e.data;default:return null}}var $v={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$v[t.type]:e==="textarea"}function ap(t,e,n,r){Wh(r),e=vo(e,"onChange"),0<e.length&&(n=new $c("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Rs=null,Ys=null;function Vv(t){_p(t,0)}function tl(t){var e=xr(t);if(jh(e))return t}function Hv(t,e){if(t==="change")return e}var cp=!1;if(Xt){var Ml;if(Xt){var Fl="oninput"in document;if(!Fl){var bd=document.createElement("div");bd.setAttribute("oninput","return;"),Fl=typeof bd.oninput=="function"}Ml=Fl}else Ml=!1;cp=Ml&&(!document.documentMode||9<document.documentMode)}function Dd(){Rs&&(Rs.detachEvent("onpropertychange",up),Ys=Rs=null)}function up(t){if(t.propertyName==="value"&&tl(Ys)){var e=[];ap(e,Ys,t,Mc(t)),$h(Vv,e)}}function Gv(t,e,n){t==="focusin"?(Dd(),Rs=e,Ys=n,Rs.attachEvent("onpropertychange",up)):t==="focusout"&&Dd()}function Yv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tl(Ys)}function Qv(t,e){if(t==="click")return tl(e)}function Kv(t,e){if(t==="input"||t==="change")return tl(e)}function qv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bt=typeof Object.is=="function"?Object.is:qv;function Qs(t,e){if(bt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!ma.call(e,s)||!bt(t[s],e[s]))return!1}return!0}function Od(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ld(t,e){var n=Od(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Od(n)}}function dp(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?dp(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function fp(){for(var t=window,e=uo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=uo(t.document)}return e}function Gc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Xv(t){var e=fp(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&dp(n.ownerDocument.documentElement,n)){if(r!==null&&Gc(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Ld(n,i);var o=Ld(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Jv=Xt&&"documentMode"in document&&11>=document.documentMode,_r=null,Da=null,As=null,Oa=!1;function Md(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Oa||_r==null||_r!==uo(r)||(r=_r,"selectionStart"in r&&Gc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),As&&Qs(As,r)||(As=r,r=vo(Da,"onSelect"),0<r.length&&(e=new $c("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=_r)))}function zi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var wr={animationend:zi("Animation","AnimationEnd"),animationiteration:zi("Animation","AnimationIteration"),animationstart:zi("Animation","AnimationStart"),transitionend:zi("Transition","TransitionEnd")},Wl={},hp={};Xt&&(hp=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);function nl(t){if(Wl[t])return Wl[t];if(!wr[t])return t;var e=wr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in hp)return Wl[t]=e[n];return t}var pp=nl("animationend"),mp=nl("animationiteration"),gp=nl("animationstart"),yp=nl("transitionend"),vp=new Map,Fd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ln(t,e){vp.set(t,e),ir(e,[t])}for(var zl=0;zl<Fd.length;zl++){var Bl=Fd[zl],Zv=Bl.toLowerCase(),e_=Bl[0].toUpperCase()+Bl.slice(1);Ln(Zv,"on"+e_)}Ln(pp,"onAnimationEnd");Ln(mp,"onAnimationIteration");Ln(gp,"onAnimationStart");Ln("dblclick","onDoubleClick");Ln("focusin","onFocus");Ln("focusout","onBlur");Ln(yp,"onTransitionEnd");Fr("onMouseEnter",["mouseout","mouseover"]);Fr("onMouseLeave",["mouseout","mouseover"]);Fr("onPointerEnter",["pointerout","pointerover"]);Fr("onPointerLeave",["pointerout","pointerover"]);ir("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ir("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ir("onBeforeInput",["compositionend","keypress","textInput","paste"]);ir("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ir("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ir("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ns="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),t_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ns));function Wd(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Zy(r,e,void 0,t),t.currentTarget=null}function _p(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Wd(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Wd(s,a,u),i=l}}}if(ho)throw t=Ra,ho=!1,Ra=null,t}function de(t,e){var n=e[za];n===void 0&&(n=e[za]=new Set);var r=t+"__bubble";n.has(r)||(wp(e,t,2,!1),n.add(r))}function Ul(t,e,n){var r=0;e&&(r|=4),wp(n,t,r,e)}var Bi="_reactListening"+Math.random().toString(36).slice(2);function Ks(t){if(!t[Bi]){t[Bi]=!0,Th.forEach(function(n){n!=="selectionchange"&&(t_.has(n)||Ul(n,!1,t),Ul(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Bi]||(e[Bi]=!0,Ul("selectionchange",!1,e))}}function wp(t,e,n,r){switch(rp(e)){case 1:var s=mv;break;case 4:s=gv;break;default:s=Bc}n=s.bind(null,e,n,t),s=void 0,!Pa||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function $l(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Hn(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}$h(function(){var u=i,h=Mc(n),f=[];e:{var d=vp.get(t);if(d!==void 0){var g=$c,_=t;switch(t){case"keypress":if(to(n)===0)break e;case"keydown":case"keyup":g=Av;break;case"focusin":_="focus",g=Ll;break;case"focusout":_="blur",g=Ll;break;case"beforeblur":case"afterblur":g=Ll;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Td;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=_v;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Dv;break;case pp:case mp:case gp:g=Sv;break;case yp:g=Lv;break;case"scroll":g=yv;break;case"wheel":g=Fv;break;case"copy":case"cut":case"paste":g=Ev;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Pd}var x=(e&4)!==0,E=!x&&t==="scroll",y=x?d!==null?d+"Capture":null:d;x=[];for(var m=u,v;m!==null;){v=m;var S=v.stateNode;if(v.tag===5&&S!==null&&(v=S,y!==null&&(S=$s(m,y),S!=null&&x.push(qs(m,S,v)))),E)break;m=m.return}0<x.length&&(d=new g(d,_,null,n,h),f.push({event:d,listeners:x}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",d&&n!==Ta&&(_=n.relatedTarget||n.fromElement)&&(Hn(_)||_[Jt]))break e;if((g||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,g?(_=n.relatedTarget||n.toElement,g=u,_=_?Hn(_):null,_!==null&&(E=or(_),_!==E||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=u),g!==_)){if(x=Td,S="onMouseLeave",y="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(x=Pd,S="onPointerLeave",y="onPointerEnter",m="pointer"),E=g==null?d:xr(g),v=_==null?d:xr(_),d=new x(S,m+"leave",g,n,h),d.target=E,d.relatedTarget=v,S=null,Hn(h)===u&&(x=new x(y,m+"enter",_,n,h),x.target=v,x.relatedTarget=E,S=x),E=S,g&&_)t:{for(x=g,y=_,m=0,v=x;v;v=pr(v))m++;for(v=0,S=y;S;S=pr(S))v++;for(;0<m-v;)x=pr(x),m--;for(;0<v-m;)y=pr(y),v--;for(;m--;){if(x===y||y!==null&&x===y.alternate)break t;x=pr(x),y=pr(y)}x=null}else x=null;g!==null&&zd(f,d,g,x,!1),_!==null&&E!==null&&zd(f,E,_,x,!0)}}e:{if(d=u?xr(u):window,g=d.nodeName&&d.nodeName.toLowerCase(),g==="select"||g==="input"&&d.type==="file")var k=Hv;else if(jd(d))if(cp)k=Kv;else{k=Yv;var N=Gv}else(g=d.nodeName)&&g.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(k=Qv);if(k&&(k=k(t,u))){ap(f,k,n,h);break e}N&&N(t,d,u),t==="focusout"&&(N=d._wrapperState)&&N.controlled&&d.type==="number"&&Sa(d,"number",d.value)}switch(N=u?xr(u):window,t){case"focusin":(jd(N)||N.contentEditable==="true")&&(_r=N,Da=u,As=null);break;case"focusout":As=Da=_r=null;break;case"mousedown":Oa=!0;break;case"contextmenu":case"mouseup":case"dragend":Oa=!1,Md(f,n,h);break;case"selectionchange":if(Jv)break;case"keydown":case"keyup":Md(f,n,h)}var I;if(Hc)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else vr?op(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(ip&&n.locale!=="ko"&&(vr||R!=="onCompositionStart"?R==="onCompositionEnd"&&vr&&(I=sp()):(gn=h,Uc="value"in gn?gn.value:gn.textContent,vr=!0)),N=vo(u,R),0<N.length&&(R=new Id(R,t,null,n,h),f.push({event:R,listeners:N}),I?R.data=I:(I=lp(n),I!==null&&(R.data=I)))),(I=zv?Bv(t,n):Uv(t,n))&&(u=vo(u,"onBeforeInput"),0<u.length&&(h=new Id("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:u}),h.data=I))}_p(f,e)})}function qs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function vo(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=$s(t,n),i!=null&&r.unshift(qs(t,i,s)),i=$s(t,e),i!=null&&r.push(qs(t,i,s))),t=t.return}return r}function pr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function zd(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=$s(n,i),l!=null&&o.unshift(qs(n,l,a))):s||(l=$s(n,i),l!=null&&o.push(qs(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var n_=/\r\n?/g,r_=/\u0000|\uFFFD/g;function Bd(t){return(typeof t=="string"?t:""+t).replace(n_,`
`).replace(r_,"")}function Ui(t,e,n){if(e=Bd(e),Bd(t)!==e&&n)throw Error(T(425))}function _o(){}var La=null,Ma=null;function Fa(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Wa=typeof setTimeout=="function"?setTimeout:void 0,s_=typeof clearTimeout=="function"?clearTimeout:void 0,Ud=typeof Promise=="function"?Promise:void 0,i_=typeof queueMicrotask=="function"?queueMicrotask:typeof Ud<"u"?function(t){return Ud.resolve(null).then(t).catch(o_)}:Wa;function o_(t){setTimeout(function(){throw t})}function Vl(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Gs(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Gs(e)}function Sn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function $d(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Zr=Math.random().toString(36).slice(2),Ft="__reactFiber$"+Zr,Xs="__reactProps$"+Zr,Jt="__reactContainer$"+Zr,za="__reactEvents$"+Zr,l_="__reactListeners$"+Zr,a_="__reactHandles$"+Zr;function Hn(t){var e=t[Ft];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Jt]||n[Ft]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=$d(t);t!==null;){if(n=t[Ft])return n;t=$d(t)}return e}t=n,n=t.parentNode}return null}function _i(t){return t=t[Ft]||t[Jt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function xr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(T(33))}function rl(t){return t[Xs]||null}var Ba=[],Sr=-1;function Mn(t){return{current:t}}function fe(t){0>Sr||(t.current=Ba[Sr],Ba[Sr]=null,Sr--)}function ae(t,e){Sr++,Ba[Sr]=t.current,t.current=e}var jn={},Ge=Mn(jn),st=Mn(!1),Xn=jn;function Wr(t,e){var n=t.type.contextTypes;if(!n)return jn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function it(t){return t=t.childContextTypes,t!=null}function wo(){fe(st),fe(Ge)}function Vd(t,e,n){if(Ge.current!==jn)throw Error(T(168));ae(Ge,e),ae(st,n)}function xp(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(T(108,Gy(t)||"Unknown",s));return ge({},n,r)}function xo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||jn,Xn=Ge.current,ae(Ge,t),ae(st,st.current),!0}function Hd(t,e,n){var r=t.stateNode;if(!r)throw Error(T(169));n?(t=xp(t,e,Xn),r.__reactInternalMemoizedMergedChildContext=t,fe(st),fe(Ge),ae(Ge,t)):fe(st),ae(st,n)}var Ht=null,sl=!1,Hl=!1;function Sp(t){Ht===null?Ht=[t]:Ht.push(t)}function c_(t){sl=!0,Sp(t)}function Fn(){if(!Hl&&Ht!==null){Hl=!0;var t=0,e=te;try{var n=Ht;for(te=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ht=null,sl=!1}catch(s){throw Ht!==null&&(Ht=Ht.slice(t+1)),Yh(Fc,Fn),s}finally{te=e,Hl=!1}}return null}var Cr=[],Er=0,So=null,Co=0,gt=[],yt=0,Jn=null,Gt=1,Yt="";function Bn(t,e){Cr[Er++]=Co,Cr[Er++]=So,So=t,Co=e}function Cp(t,e,n){gt[yt++]=Gt,gt[yt++]=Yt,gt[yt++]=Jn,Jn=t;var r=Gt;t=Yt;var s=32-Rt(r)-1;r&=~(1<<s),n+=1;var i=32-Rt(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Gt=1<<32-Rt(e)+s|n<<s|r,Yt=i+t}else Gt=1<<i|n<<s|r,Yt=t}function Yc(t){t.return!==null&&(Bn(t,1),Cp(t,1,0))}function Qc(t){for(;t===So;)So=Cr[--Er],Cr[Er]=null,Co=Cr[--Er],Cr[Er]=null;for(;t===Jn;)Jn=gt[--yt],gt[yt]=null,Yt=gt[--yt],gt[yt]=null,Gt=gt[--yt],gt[yt]=null}var ct=null,at=null,he=!1,Tt=null;function Ep(t,e){var n=vt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Gd(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ct=t,at=Sn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ct=t,at=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Jn!==null?{id:Gt,overflow:Yt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=vt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ct=t,at=null,!0):!1;default:return!1}}function Ua(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $a(t){if(he){var e=at;if(e){var n=e;if(!Gd(t,e)){if(Ua(t))throw Error(T(418));e=Sn(n.nextSibling);var r=ct;e&&Gd(t,e)?Ep(r,n):(t.flags=t.flags&-4097|2,he=!1,ct=t)}}else{if(Ua(t))throw Error(T(418));t.flags=t.flags&-4097|2,he=!1,ct=t}}}function Yd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ct=t}function $i(t){if(t!==ct)return!1;if(!he)return Yd(t),he=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Fa(t.type,t.memoizedProps)),e&&(e=at)){if(Ua(t))throw kp(),Error(T(418));for(;e;)Ep(t,e),e=Sn(e.nextSibling)}if(Yd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(T(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){at=Sn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}at=null}}else at=ct?Sn(t.stateNode.nextSibling):null;return!0}function kp(){for(var t=at;t;)t=Sn(t.nextSibling)}function zr(){at=ct=null,he=!1}function Kc(t){Tt===null?Tt=[t]:Tt.push(t)}var u_=rn.ReactCurrentBatchConfig;function gs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(T(309));var r=n.stateNode}if(!r)throw Error(T(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(T(284));if(!n._owner)throw Error(T(290,t))}return t}function Vi(t,e){throw t=Object.prototype.toString.call(e),Error(T(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Qd(t){var e=t._init;return e(t._payload)}function Np(t){function e(y,m){if(t){var v=y.deletions;v===null?(y.deletions=[m],y.flags|=16):v.push(m)}}function n(y,m){if(!t)return null;for(;m!==null;)e(y,m),m=m.sibling;return null}function r(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function s(y,m){return y=Nn(y,m),y.index=0,y.sibling=null,y}function i(y,m,v){return y.index=v,t?(v=y.alternate,v!==null?(v=v.index,v<m?(y.flags|=2,m):v):(y.flags|=2,m)):(y.flags|=1048576,m)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,m,v,S){return m===null||m.tag!==6?(m=Jl(v,y.mode,S),m.return=y,m):(m=s(m,v),m.return=y,m)}function l(y,m,v,S){var k=v.type;return k===yr?h(y,m,v.props.children,S,v.key):m!==null&&(m.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===fn&&Qd(k)===m.type)?(S=s(m,v.props),S.ref=gs(y,m,v),S.return=y,S):(S=ao(v.type,v.key,v.props,null,y.mode,S),S.ref=gs(y,m,v),S.return=y,S)}function u(y,m,v,S){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=Zl(v,y.mode,S),m.return=y,m):(m=s(m,v.children||[]),m.return=y,m)}function h(y,m,v,S,k){return m===null||m.tag!==7?(m=qn(v,y.mode,S,k),m.return=y,m):(m=s(m,v),m.return=y,m)}function f(y,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Jl(""+m,y.mode,v),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case bi:return v=ao(m.type,m.key,m.props,null,y.mode,v),v.ref=gs(y,null,m),v.return=y,v;case gr:return m=Zl(m,y.mode,v),m.return=y,m;case fn:var S=m._init;return f(y,S(m._payload),v)}if(Es(m)||ds(m))return m=qn(m,y.mode,v,null),m.return=y,m;Vi(y,m)}return null}function d(y,m,v,S){var k=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return k!==null?null:a(y,m,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case bi:return v.key===k?l(y,m,v,S):null;case gr:return v.key===k?u(y,m,v,S):null;case fn:return k=v._init,d(y,m,k(v._payload),S)}if(Es(v)||ds(v))return k!==null?null:h(y,m,v,S,null);Vi(y,v)}return null}function g(y,m,v,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(v)||null,a(m,y,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case bi:return y=y.get(S.key===null?v:S.key)||null,l(m,y,S,k);case gr:return y=y.get(S.key===null?v:S.key)||null,u(m,y,S,k);case fn:var N=S._init;return g(y,m,v,N(S._payload),k)}if(Es(S)||ds(S))return y=y.get(v)||null,h(m,y,S,k,null);Vi(m,S)}return null}function _(y,m,v,S){for(var k=null,N=null,I=m,R=m=0,B=null;I!==null&&R<v.length;R++){I.index>R?(B=I,I=null):B=I.sibling;var z=d(y,I,v[R],S);if(z===null){I===null&&(I=B);break}t&&I&&z.alternate===null&&e(y,I),m=i(z,m,R),N===null?k=z:N.sibling=z,N=z,I=B}if(R===v.length)return n(y,I),he&&Bn(y,R),k;if(I===null){for(;R<v.length;R++)I=f(y,v[R],S),I!==null&&(m=i(I,m,R),N===null?k=I:N.sibling=I,N=I);return he&&Bn(y,R),k}for(I=r(y,I);R<v.length;R++)B=g(I,y,R,v[R],S),B!==null&&(t&&B.alternate!==null&&I.delete(B.key===null?R:B.key),m=i(B,m,R),N===null?k=B:N.sibling=B,N=B);return t&&I.forEach(function(Ue){return e(y,Ue)}),he&&Bn(y,R),k}function x(y,m,v,S){var k=ds(v);if(typeof k!="function")throw Error(T(150));if(v=k.call(v),v==null)throw Error(T(151));for(var N=k=null,I=m,R=m=0,B=null,z=v.next();I!==null&&!z.done;R++,z=v.next()){I.index>R?(B=I,I=null):B=I.sibling;var Ue=d(y,I,z.value,S);if(Ue===null){I===null&&(I=B);break}t&&I&&Ue.alternate===null&&e(y,I),m=i(Ue,m,R),N===null?k=Ue:N.sibling=Ue,N=Ue,I=B}if(z.done)return n(y,I),he&&Bn(y,R),k;if(I===null){for(;!z.done;R++,z=v.next())z=f(y,z.value,S),z!==null&&(m=i(z,m,R),N===null?k=z:N.sibling=z,N=z);return he&&Bn(y,R),k}for(I=r(y,I);!z.done;R++,z=v.next())z=g(I,y,R,z.value,S),z!==null&&(t&&z.alternate!==null&&I.delete(z.key===null?R:z.key),m=i(z,m,R),N===null?k=z:N.sibling=z,N=z);return t&&I.forEach(function(Ut){return e(y,Ut)}),he&&Bn(y,R),k}function E(y,m,v,S){if(typeof v=="object"&&v!==null&&v.type===yr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case bi:e:{for(var k=v.key,N=m;N!==null;){if(N.key===k){if(k=v.type,k===yr){if(N.tag===7){n(y,N.sibling),m=s(N,v.props.children),m.return=y,y=m;break e}}else if(N.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===fn&&Qd(k)===N.type){n(y,N.sibling),m=s(N,v.props),m.ref=gs(y,N,v),m.return=y,y=m;break e}n(y,N);break}else e(y,N);N=N.sibling}v.type===yr?(m=qn(v.props.children,y.mode,S,v.key),m.return=y,y=m):(S=ao(v.type,v.key,v.props,null,y.mode,S),S.ref=gs(y,m,v),S.return=y,y=S)}return o(y);case gr:e:{for(N=v.key;m!==null;){if(m.key===N)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){n(y,m.sibling),m=s(m,v.children||[]),m.return=y,y=m;break e}else{n(y,m);break}else e(y,m);m=m.sibling}m=Zl(v,y.mode,S),m.return=y,y=m}return o(y);case fn:return N=v._init,E(y,m,N(v._payload),S)}if(Es(v))return _(y,m,v,S);if(ds(v))return x(y,m,v,S);Vi(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(n(y,m.sibling),m=s(m,v),m.return=y,y=m):(n(y,m),m=Jl(v,y.mode,S),m.return=y,y=m),o(y)):n(y,m)}return E}var Br=Np(!0),Tp=Np(!1),Eo=Mn(null),ko=null,kr=null,qc=null;function Xc(){qc=kr=ko=null}function Jc(t){var e=Eo.current;fe(Eo),t._currentValue=e}function Va(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function br(t,e){ko=t,qc=kr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(nt=!0),t.firstContext=null)}function xt(t){var e=t._currentValue;if(qc!==t)if(t={context:t,memoizedValue:e,next:null},kr===null){if(ko===null)throw Error(T(308));kr=t,ko.dependencies={lanes:0,firstContext:t}}else kr=kr.next=t;return e}var Gn=null;function Zc(t){Gn===null?Gn=[t]:Gn.push(t)}function Ip(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Zc(e)):(n.next=s.next,s.next=n),e.interleaved=n,Zt(t,r)}function Zt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var hn=!1;function eu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Kt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Cn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,J&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Zt(t,n)}return s=r.interleaved,s===null?(e.next=e,Zc(r)):(e.next=s.next,s.next=e),r.interleaved=e,Zt(t,n)}function no(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Wc(t,n)}}function Kd(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function No(t,e,n,r){var s=t.updateQueue;hn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,h=u=l=null,a=i;do{var d=a.lane,g=a.eventTime;if((r&d)===d){h!==null&&(h=h.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,x=a;switch(d=e,g=n,x.tag){case 1:if(_=x.payload,typeof _=="function"){f=_.call(g,f,d);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=x.payload,d=typeof _=="function"?_.call(g,f,d):_,d==null)break e;f=ge({},f,d);break e;case 2:hn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=s.effects,d===null?s.effects=[a]:d.push(a))}else g={eventTime:g,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=g,l=f):h=h.next=g,o|=d;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;d=a,a=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(!0);if(h===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);er|=o,t.lanes=o,t.memoizedState=f}}function qd(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(T(191,s));s.call(r)}}}var wi={},zt=Mn(wi),Js=Mn(wi),Zs=Mn(wi);function Yn(t){if(t===wi)throw Error(T(174));return t}function tu(t,e){switch(ae(Zs,e),ae(Js,t),ae(zt,wi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ea(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ea(e,t)}fe(zt),ae(zt,e)}function Ur(){fe(zt),fe(Js),fe(Zs)}function Rp(t){Yn(Zs.current);var e=Yn(zt.current),n=Ea(e,t.type);e!==n&&(ae(Js,t),ae(zt,n))}function nu(t){Js.current===t&&(fe(zt),fe(Js))}var pe=Mn(0);function To(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Gl=[];function ru(){for(var t=0;t<Gl.length;t++)Gl[t]._workInProgressVersionPrimary=null;Gl.length=0}var ro=rn.ReactCurrentDispatcher,Yl=rn.ReactCurrentBatchConfig,Zn=0,me=null,Te=null,De=null,Io=!1,js=!1,ei=0,d_=0;function $e(){throw Error(T(321))}function su(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!bt(t[n],e[n]))return!1;return!0}function iu(t,e,n,r,s,i){if(Zn=i,me=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ro.current=t===null||t.memoizedState===null?m_:g_,t=n(r,s),js){i=0;do{if(js=!1,ei=0,25<=i)throw Error(T(301));i+=1,De=Te=null,e.updateQueue=null,ro.current=y_,t=n(r,s)}while(js)}if(ro.current=Po,e=Te!==null&&Te.next!==null,Zn=0,De=Te=me=null,Io=!1,e)throw Error(T(300));return t}function ou(){var t=ei!==0;return ei=0,t}function Mt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?me.memoizedState=De=t:De=De.next=t,De}function St(){if(Te===null){var t=me.alternate;t=t!==null?t.memoizedState:null}else t=Te.next;var e=De===null?me.memoizedState:De.next;if(e!==null)De=e,Te=t;else{if(t===null)throw Error(T(310));Te=t,t={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},De===null?me.memoizedState=De=t:De=De.next=t}return De}function ti(t,e){return typeof e=="function"?e(t):e}function Ql(t){var e=St(),n=e.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=t;var r=Te,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var h=u.lane;if((Zn&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,me.lanes|=h,er|=h}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,bt(r,e.memoizedState)||(nt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,me.lanes|=i,er|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Kl(t){var e=St(),n=e.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);bt(i,e.memoizedState)||(nt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Ap(){}function jp(t,e){var n=me,r=St(),s=e(),i=!bt(r.memoizedState,s);if(i&&(r.memoizedState=s,nt=!0),r=r.queue,lu(Op.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||De!==null&&De.memoizedState.tag&1){if(n.flags|=2048,ni(9,Dp.bind(null,n,r,s,e),void 0,null),Le===null)throw Error(T(349));Zn&30||bp(n,e,s)}return s}function bp(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=me.updateQueue,e===null?(e={lastEffect:null,stores:null},me.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Dp(t,e,n,r){e.value=n,e.getSnapshot=r,Lp(e)&&Mp(t)}function Op(t,e,n){return n(function(){Lp(e)&&Mp(t)})}function Lp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!bt(t,n)}catch{return!0}}function Mp(t){var e=Zt(t,1);e!==null&&At(e,t,1,-1)}function Xd(t){var e=Mt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:t},e.queue=t,t=t.dispatch=p_.bind(null,me,t),[e.memoizedState,t]}function ni(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=me.updateQueue,e===null?(e={lastEffect:null,stores:null},me.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Fp(){return St().memoizedState}function so(t,e,n,r){var s=Mt();me.flags|=t,s.memoizedState=ni(1|e,n,void 0,r===void 0?null:r)}function il(t,e,n,r){var s=St();r=r===void 0?null:r;var i=void 0;if(Te!==null){var o=Te.memoizedState;if(i=o.destroy,r!==null&&su(r,o.deps)){s.memoizedState=ni(e,n,i,r);return}}me.flags|=t,s.memoizedState=ni(1|e,n,i,r)}function Jd(t,e){return so(8390656,8,t,e)}function lu(t,e){return il(2048,8,t,e)}function Wp(t,e){return il(4,2,t,e)}function zp(t,e){return il(4,4,t,e)}function Bp(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Up(t,e,n){return n=n!=null?n.concat([t]):null,il(4,4,Bp.bind(null,e,t),n)}function au(){}function $p(t,e){var n=St();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&su(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Vp(t,e){var n=St();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&su(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Hp(t,e,n){return Zn&21?(bt(n,e)||(n=qh(),me.lanes|=n,er|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,nt=!0),t.memoizedState=n)}function f_(t,e){var n=te;te=n!==0&&4>n?n:4,t(!0);var r=Yl.transition;Yl.transition={};try{t(!1),e()}finally{te=n,Yl.transition=r}}function Gp(){return St().memoizedState}function h_(t,e,n){var r=kn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Yp(t))Qp(e,n);else if(n=Ip(t,e,n,r),n!==null){var s=Ke();At(n,t,r,s),Kp(n,e,r)}}function p_(t,e,n){var r=kn(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yp(t))Qp(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,bt(a,o)){var l=e.interleaved;l===null?(s.next=s,Zc(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=Ip(t,e,s,r),n!==null&&(s=Ke(),At(n,t,r,s),Kp(n,e,r))}}function Yp(t){var e=t.alternate;return t===me||e!==null&&e===me}function Qp(t,e){js=Io=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Kp(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Wc(t,n)}}var Po={readContext:xt,useCallback:$e,useContext:$e,useEffect:$e,useImperativeHandle:$e,useInsertionEffect:$e,useLayoutEffect:$e,useMemo:$e,useReducer:$e,useRef:$e,useState:$e,useDebugValue:$e,useDeferredValue:$e,useTransition:$e,useMutableSource:$e,useSyncExternalStore:$e,useId:$e,unstable_isNewReconciler:!1},m_={readContext:xt,useCallback:function(t,e){return Mt().memoizedState=[t,e===void 0?null:e],t},useContext:xt,useEffect:Jd,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,so(4194308,4,Bp.bind(null,e,t),n)},useLayoutEffect:function(t,e){return so(4194308,4,t,e)},useInsertionEffect:function(t,e){return so(4,2,t,e)},useMemo:function(t,e){var n=Mt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Mt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=h_.bind(null,me,t),[r.memoizedState,t]},useRef:function(t){var e=Mt();return t={current:t},e.memoizedState=t},useState:Xd,useDebugValue:au,useDeferredValue:function(t){return Mt().memoizedState=t},useTransition:function(){var t=Xd(!1),e=t[0];return t=f_.bind(null,t[1]),Mt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=me,s=Mt();if(he){if(n===void 0)throw Error(T(407));n=n()}else{if(n=e(),Le===null)throw Error(T(349));Zn&30||bp(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Jd(Op.bind(null,r,i,t),[t]),r.flags|=2048,ni(9,Dp.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Mt(),e=Le.identifierPrefix;if(he){var n=Yt,r=Gt;n=(r&~(1<<32-Rt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ei++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=d_++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},g_={readContext:xt,useCallback:$p,useContext:xt,useEffect:lu,useImperativeHandle:Up,useInsertionEffect:Wp,useLayoutEffect:zp,useMemo:Vp,useReducer:Ql,useRef:Fp,useState:function(){return Ql(ti)},useDebugValue:au,useDeferredValue:function(t){var e=St();return Hp(e,Te.memoizedState,t)},useTransition:function(){var t=Ql(ti)[0],e=St().memoizedState;return[t,e]},useMutableSource:Ap,useSyncExternalStore:jp,useId:Gp,unstable_isNewReconciler:!1},y_={readContext:xt,useCallback:$p,useContext:xt,useEffect:lu,useImperativeHandle:Up,useInsertionEffect:Wp,useLayoutEffect:zp,useMemo:Vp,useReducer:Kl,useRef:Fp,useState:function(){return Kl(ti)},useDebugValue:au,useDeferredValue:function(t){var e=St();return Te===null?e.memoizedState=t:Hp(e,Te.memoizedState,t)},useTransition:function(){var t=Kl(ti)[0],e=St().memoizedState;return[t,e]},useMutableSource:Ap,useSyncExternalStore:jp,useId:Gp,unstable_isNewReconciler:!1};function kt(t,e){if(t&&t.defaultProps){e=ge({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ha(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ge({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ol={isMounted:function(t){return(t=t._reactInternals)?or(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ke(),s=kn(t),i=Kt(r,s);i.payload=e,n!=null&&(i.callback=n),e=Cn(t,i,s),e!==null&&(At(e,t,s,r),no(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ke(),s=kn(t),i=Kt(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Cn(t,i,s),e!==null&&(At(e,t,s,r),no(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ke(),r=kn(t),s=Kt(n,r);s.tag=2,e!=null&&(s.callback=e),e=Cn(t,s,r),e!==null&&(At(e,t,r,n),no(e,t,r))}};function Zd(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Qs(n,r)||!Qs(s,i):!0}function qp(t,e,n){var r=!1,s=jn,i=e.contextType;return typeof i=="object"&&i!==null?i=xt(i):(s=it(e)?Xn:Ge.current,r=e.contextTypes,i=(r=r!=null)?Wr(t,s):jn),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ol,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function ef(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ol.enqueueReplaceState(e,e.state,null)}function Ga(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},eu(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=xt(i):(i=it(e)?Xn:Ge.current,s.context=Wr(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ha(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ol.enqueueReplaceState(s,s.state,null),No(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function $r(t,e){try{var n="",r=e;do n+=Hy(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function ql(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ya(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var v_=typeof WeakMap=="function"?WeakMap:Map;function Xp(t,e,n){n=Kt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ao||(Ao=!0,rc=r),Ya(t,e)},n}function Jp(t,e,n){n=Kt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Ya(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ya(t,e),typeof r!="function"&&(En===null?En=new Set([this]):En.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function tf(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new v_;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=j_.bind(null,t,e,n),e.then(t,t))}function nf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function rf(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Kt(-1,1),e.tag=2,Cn(n,e,1))),n.lanes|=1),t)}var __=rn.ReactCurrentOwner,nt=!1;function Ye(t,e,n,r){e.child=t===null?Tp(e,null,n,r):Br(e,t.child,n,r)}function sf(t,e,n,r,s){n=n.render;var i=e.ref;return br(e,s),r=iu(t,e,n,r,i,s),n=ou(),t!==null&&!nt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,en(t,e,s)):(he&&n&&Yc(e),e.flags|=1,Ye(t,e,r,s),e.child)}function of(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!gu(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Zp(t,e,i,r,s)):(t=ao(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Qs,n(o,r)&&t.ref===e.ref)return en(t,e,s)}return e.flags|=1,t=Nn(i,r),t.ref=e.ref,t.return=e,e.child=t}function Zp(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Qs(i,r)&&t.ref===e.ref)if(nt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(nt=!0);else return e.lanes=t.lanes,en(t,e,s)}return Qa(t,e,n,r,s)}function em(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ae(Tr,lt),lt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ae(Tr,lt),lt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ae(Tr,lt),lt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ae(Tr,lt),lt|=r;return Ye(t,e,s,n),e.child}function tm(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Qa(t,e,n,r,s){var i=it(n)?Xn:Ge.current;return i=Wr(e,i),br(e,s),n=iu(t,e,n,r,i,s),r=ou(),t!==null&&!nt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,en(t,e,s)):(he&&r&&Yc(e),e.flags|=1,Ye(t,e,n,s),e.child)}function lf(t,e,n,r,s){if(it(n)){var i=!0;xo(e)}else i=!1;if(br(e,s),e.stateNode===null)io(t,e),qp(e,n,r),Ga(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=xt(u):(u=it(n)?Xn:Ge.current,u=Wr(e,u));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&ef(e,o,r,u),hn=!1;var d=e.memoizedState;o.state=d,No(e,r,o,s),l=e.memoizedState,a!==r||d!==l||st.current||hn?(typeof h=="function"&&(Ha(e,n,h,r),l=e.memoizedState),(a=hn||Zd(e,n,a,r,d,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Pp(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:kt(e.type,a),o.props=u,f=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=xt(l):(l=it(n)?Xn:Ge.current,l=Wr(e,l));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||d!==l)&&ef(e,o,r,l),hn=!1,d=e.memoizedState,o.state=d,No(e,r,o,s);var _=e.memoizedState;a!==f||d!==_||st.current||hn?(typeof g=="function"&&(Ha(e,n,g,r),_=e.memoizedState),(u=hn||Zd(e,n,u,r,d,_,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Ka(t,e,n,r,i,s)}function Ka(t,e,n,r,s,i){tm(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Hd(e,n,!1),en(t,e,i);r=e.stateNode,__.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Br(e,t.child,null,i),e.child=Br(e,null,a,i)):Ye(t,e,a,i),e.memoizedState=r.state,s&&Hd(e,n,!0),e.child}function nm(t){var e=t.stateNode;e.pendingContext?Vd(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Vd(t,e.context,!1),tu(t,e.containerInfo)}function af(t,e,n,r,s){return zr(),Kc(s),e.flags|=256,Ye(t,e,n,r),e.child}var qa={dehydrated:null,treeContext:null,retryLane:0};function Xa(t){return{baseLanes:t,cachePool:null,transitions:null}}function rm(t,e,n){var r=e.pendingProps,s=pe.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ae(pe,s&1),t===null)return $a(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=cl(o,r,0,null),t=qn(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Xa(n),e.memoizedState=qa,t):cu(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return w_(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Nn(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Nn(a,i):(i=qn(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Xa(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=qa,r}return i=t.child,t=i.sibling,r=Nn(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function cu(t,e){return e=cl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Hi(t,e,n,r){return r!==null&&Kc(r),Br(e,t.child,null,n),t=cu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function w_(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=ql(Error(T(422))),Hi(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=cl({mode:"visible",children:r.children},s,0,null),i=qn(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Br(e,t.child,null,o),e.child.memoizedState=Xa(o),e.memoizedState=qa,i);if(!(e.mode&1))return Hi(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(T(419)),r=ql(i,r,void 0),Hi(t,e,o,r)}if(a=(o&t.childLanes)!==0,nt||a){if(r=Le,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Zt(t,s),At(r,t,s,-1))}return mu(),r=ql(Error(T(421))),Hi(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=b_.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,at=Sn(s.nextSibling),ct=e,he=!0,Tt=null,t!==null&&(gt[yt++]=Gt,gt[yt++]=Yt,gt[yt++]=Jn,Gt=t.id,Yt=t.overflow,Jn=e),e=cu(e,r.children),e.flags|=4096,e)}function cf(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Va(t.return,e,n)}function Xl(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function sm(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ye(t,e,r.children,n),r=pe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cf(t,n,e);else if(t.tag===19)cf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ae(pe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&To(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Xl(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&To(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Xl(e,!0,n,null,i);break;case"together":Xl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function io(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function en(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),er|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(T(153));if(e.child!==null){for(t=e.child,n=Nn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Nn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function x_(t,e,n){switch(e.tag){case 3:nm(e),zr();break;case 5:Rp(e);break;case 1:it(e.type)&&xo(e);break;case 4:tu(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ae(Eo,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ae(pe,pe.current&1),e.flags|=128,null):n&e.child.childLanes?rm(t,e,n):(ae(pe,pe.current&1),t=en(t,e,n),t!==null?t.sibling:null);ae(pe,pe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return sm(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ae(pe,pe.current),r)break;return null;case 22:case 23:return e.lanes=0,em(t,e,n)}return en(t,e,n)}var im,Ja,om,lm;im=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ja=function(){};om=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Yn(zt.current);var i=null;switch(n){case"input":s=wa(t,s),r=wa(t,r),i=[];break;case"select":s=ge({},s,{value:void 0}),r=ge({},r,{value:void 0}),i=[];break;case"textarea":s=Ca(t,s),r=Ca(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=_o)}ka(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Bs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Bs.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&de("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};lm=function(t,e,n,r){n!==r&&(e.flags|=4)};function ys(t,e){if(!he)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ve(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function S_(t,e,n){var r=e.pendingProps;switch(Qc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(e),null;case 1:return it(e.type)&&wo(),Ve(e),null;case 3:return r=e.stateNode,Ur(),fe(st),fe(Ge),ru(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&($i(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Tt!==null&&(oc(Tt),Tt=null))),Ja(t,e),Ve(e),null;case 5:nu(e);var s=Yn(Zs.current);if(n=e.type,t!==null&&e.stateNode!=null)om(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(T(166));return Ve(e),null}if(t=Yn(zt.current),$i(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Ft]=e,r[Xs]=i,t=(e.mode&1)!==0,n){case"dialog":de("cancel",r),de("close",r);break;case"iframe":case"object":case"embed":de("load",r);break;case"video":case"audio":for(s=0;s<Ns.length;s++)de(Ns[s],r);break;case"source":de("error",r);break;case"img":case"image":case"link":de("error",r),de("load",r);break;case"details":de("toggle",r);break;case"input":yd(r,i),de("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},de("invalid",r);break;case"textarea":_d(r,i),de("invalid",r)}ka(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ui(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ui(r.textContent,a,t),s=["children",""+a]):Bs.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&de("scroll",r)}switch(n){case"input":Di(r),vd(r,i,!0);break;case"textarea":Di(r),wd(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=_o)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Oh(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ft]=e,t[Xs]=r,im(t,e,!1,!1),e.stateNode=t;e:{switch(o=Na(n,r),n){case"dialog":de("cancel",t),de("close",t),s=r;break;case"iframe":case"object":case"embed":de("load",t),s=r;break;case"video":case"audio":for(s=0;s<Ns.length;s++)de(Ns[s],t);s=r;break;case"source":de("error",t),s=r;break;case"img":case"image":case"link":de("error",t),de("load",t),s=r;break;case"details":de("toggle",t),s=r;break;case"input":yd(t,r),s=wa(t,r),de("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ge({},r,{value:void 0}),de("invalid",t);break;case"textarea":_d(t,r),s=Ca(t,r),de("invalid",t);break;default:s=r}ka(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Fh(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Lh(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Us(t,l):typeof l=="number"&&Us(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Bs.hasOwnProperty(i)?l!=null&&i==="onScroll"&&de("scroll",t):l!=null&&bc(t,i,l,o))}switch(n){case"input":Di(t),vd(t,r,!1);break;case"textarea":Di(t),wd(t);break;case"option":r.value!=null&&t.setAttribute("value",""+An(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Pr(t,!!r.multiple,i,!1):r.defaultValue!=null&&Pr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=_o)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ve(e),null;case 6:if(t&&e.stateNode!=null)lm(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(T(166));if(n=Yn(Zs.current),Yn(zt.current),$i(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ft]=e,(i=r.nodeValue!==n)&&(t=ct,t!==null))switch(t.tag){case 3:Ui(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ui(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ft]=e,e.stateNode=r}return Ve(e),null;case 13:if(fe(pe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(he&&at!==null&&e.mode&1&&!(e.flags&128))kp(),zr(),e.flags|=98560,i=!1;else if(i=$i(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(T(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(T(317));i[Ft]=e}else zr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ve(e),i=!1}else Tt!==null&&(oc(Tt),Tt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||pe.current&1?Re===0&&(Re=3):mu())),e.updateQueue!==null&&(e.flags|=4),Ve(e),null);case 4:return Ur(),Ja(t,e),t===null&&Ks(e.stateNode.containerInfo),Ve(e),null;case 10:return Jc(e.type._context),Ve(e),null;case 17:return it(e.type)&&wo(),Ve(e),null;case 19:if(fe(pe),i=e.memoizedState,i===null)return Ve(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)ys(i,!1);else{if(Re!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=To(t),o!==null){for(e.flags|=128,ys(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ae(pe,pe.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ee()>Vr&&(e.flags|=128,r=!0,ys(i,!1),e.lanes=4194304)}else{if(!r)if(t=To(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ys(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!he)return Ve(e),null}else 2*Ee()-i.renderingStartTime>Vr&&n!==1073741824&&(e.flags|=128,r=!0,ys(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ee(),e.sibling=null,n=pe.current,ae(pe,r?n&1|2:n&1),e):(Ve(e),null);case 22:case 23:return pu(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?lt&1073741824&&(Ve(e),e.subtreeFlags&6&&(e.flags|=8192)):Ve(e),null;case 24:return null;case 25:return null}throw Error(T(156,e.tag))}function C_(t,e){switch(Qc(e),e.tag){case 1:return it(e.type)&&wo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ur(),fe(st),fe(Ge),ru(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return nu(e),null;case 13:if(fe(pe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(T(340));zr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return fe(pe),null;case 4:return Ur(),null;case 10:return Jc(e.type._context),null;case 22:case 23:return pu(),null;case 24:return null;default:return null}}var Gi=!1,He=!1,E_=typeof WeakSet=="function"?WeakSet:Set,O=null;function Nr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){_e(t,e,r)}else n.current=null}function Za(t,e,n){try{n()}catch(r){_e(t,e,r)}}var uf=!1;function k_(t,e){if(La=go,t=fp(),Gc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,h=0,f=t,d=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)d=f,f=g;for(;;){if(f===t)break t;if(d===n&&++u===s&&(a=o),d===i&&++h===r&&(l=o),(g=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ma={focusedElem:t,selectionRange:n},go=!1,O=e;O!==null;)if(e=O,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,O=t;else for(;O!==null;){e=O;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var x=_.memoizedProps,E=_.memoizedState,y=e.stateNode,m=y.getSnapshotBeforeUpdate(e.elementType===e.type?x:kt(e.type,x),E);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(S){_e(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,O=t;break}O=e.return}return _=uf,uf=!1,_}function bs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Za(e,n,i)}s=s.next}while(s!==r)}}function ll(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ec(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function am(t){var e=t.alternate;e!==null&&(t.alternate=null,am(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ft],delete e[Xs],delete e[za],delete e[l_],delete e[a_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function cm(t){return t.tag===5||t.tag===3||t.tag===4}function df(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||cm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function tc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=_o));else if(r!==4&&(t=t.child,t!==null))for(tc(t,e,n),t=t.sibling;t!==null;)tc(t,e,n),t=t.sibling}function nc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(nc(t,e,n),t=t.sibling;t!==null;)nc(t,e,n),t=t.sibling}var Me=null,Nt=!1;function an(t,e,n){for(n=n.child;n!==null;)um(t,e,n),n=n.sibling}function um(t,e,n){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(Zo,n)}catch{}switch(n.tag){case 5:He||Nr(n,e);case 6:var r=Me,s=Nt;Me=null,an(t,e,n),Me=r,Nt=s,Me!==null&&(Nt?(t=Me,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Me.removeChild(n.stateNode));break;case 18:Me!==null&&(Nt?(t=Me,n=n.stateNode,t.nodeType===8?Vl(t.parentNode,n):t.nodeType===1&&Vl(t,n),Gs(t)):Vl(Me,n.stateNode));break;case 4:r=Me,s=Nt,Me=n.stateNode.containerInfo,Nt=!0,an(t,e,n),Me=r,Nt=s;break;case 0:case 11:case 14:case 15:if(!He&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Za(n,e,o),s=s.next}while(s!==r)}an(t,e,n);break;case 1:if(!He&&(Nr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){_e(n,e,a)}an(t,e,n);break;case 21:an(t,e,n);break;case 22:n.mode&1?(He=(r=He)||n.memoizedState!==null,an(t,e,n),He=r):an(t,e,n);break;default:an(t,e,n)}}function ff(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new E_),e.forEach(function(r){var s=D_.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Et(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Me=a.stateNode,Nt=!1;break e;case 3:Me=a.stateNode.containerInfo,Nt=!0;break e;case 4:Me=a.stateNode.containerInfo,Nt=!0;break e}a=a.return}if(Me===null)throw Error(T(160));um(i,o,s),Me=null,Nt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){_e(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)dm(e,t),e=e.sibling}function dm(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Et(e,t),Lt(t),r&4){try{bs(3,t,t.return),ll(3,t)}catch(x){_e(t,t.return,x)}try{bs(5,t,t.return)}catch(x){_e(t,t.return,x)}}break;case 1:Et(e,t),Lt(t),r&512&&n!==null&&Nr(n,n.return);break;case 5:if(Et(e,t),Lt(t),r&512&&n!==null&&Nr(n,n.return),t.flags&32){var s=t.stateNode;try{Us(s,"")}catch(x){_e(t,t.return,x)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&bh(s,i),Na(a,o);var u=Na(a,i);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];h==="style"?Fh(s,f):h==="dangerouslySetInnerHTML"?Lh(s,f):h==="children"?Us(s,f):bc(s,h,f,u)}switch(a){case"input":xa(s,i);break;case"textarea":Dh(s,i);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Pr(s,!!i.multiple,g,!1):d!==!!i.multiple&&(i.defaultValue!=null?Pr(s,!!i.multiple,i.defaultValue,!0):Pr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Xs]=i}catch(x){_e(t,t.return,x)}}break;case 6:if(Et(e,t),Lt(t),r&4){if(t.stateNode===null)throw Error(T(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){_e(t,t.return,x)}}break;case 3:if(Et(e,t),Lt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Gs(e.containerInfo)}catch(x){_e(t,t.return,x)}break;case 4:Et(e,t),Lt(t);break;case 13:Et(e,t),Lt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(fu=Ee())),r&4&&ff(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(He=(u=He)||h,Et(e,t),He=u):Et(e,t),Lt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(O=t,h=t.child;h!==null;){for(f=O=h;O!==null;){switch(d=O,g=d.child,d.tag){case 0:case 11:case 14:case 15:bs(4,d,d.return);break;case 1:Nr(d,d.return);var _=d.stateNode;if(typeof _.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(x){_e(r,n,x)}}break;case 5:Nr(d,d.return);break;case 22:if(d.memoizedState!==null){pf(f);continue}}g!==null?(g.return=d,O=g):pf(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Mh("display",o))}catch(x){_e(t,t.return,x)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){_e(t,t.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Et(e,t),Lt(t),r&4&&ff(t);break;case 21:break;default:Et(e,t),Lt(t)}}function Lt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(cm(n)){var r=n;break e}n=n.return}throw Error(T(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Us(s,""),r.flags&=-33);var i=df(t);nc(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=df(t);tc(t,a,o);break;default:throw Error(T(161))}}catch(l){_e(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function N_(t,e,n){O=t,fm(t)}function fm(t,e,n){for(var r=(t.mode&1)!==0;O!==null;){var s=O,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Gi;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||He;a=Gi;var u=He;if(Gi=o,(He=l)&&!u)for(O=s;O!==null;)o=O,l=o.child,o.tag===22&&o.memoizedState!==null?mf(s):l!==null?(l.return=o,O=l):mf(s);for(;i!==null;)O=i,fm(i),i=i.sibling;O=s,Gi=a,He=u}hf(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,O=i):hf(t)}}function hf(t){for(;O!==null;){var e=O;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:He||ll(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!He)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:kt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&qd(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}qd(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Gs(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}He||e.flags&512&&ec(e)}catch(d){_e(e,e.return,d)}}if(e===t){O=null;break}if(n=e.sibling,n!==null){n.return=e.return,O=n;break}O=e.return}}function pf(t){for(;O!==null;){var e=O;if(e===t){O=null;break}var n=e.sibling;if(n!==null){n.return=e.return,O=n;break}O=e.return}}function mf(t){for(;O!==null;){var e=O;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ll(4,e)}catch(l){_e(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){_e(e,s,l)}}var i=e.return;try{ec(e)}catch(l){_e(e,i,l)}break;case 5:var o=e.return;try{ec(e)}catch(l){_e(e,o,l)}}}catch(l){_e(e,e.return,l)}if(e===t){O=null;break}var a=e.sibling;if(a!==null){a.return=e.return,O=a;break}O=e.return}}var T_=Math.ceil,Ro=rn.ReactCurrentDispatcher,uu=rn.ReactCurrentOwner,wt=rn.ReactCurrentBatchConfig,J=0,Le=null,Ne=null,We=0,lt=0,Tr=Mn(0),Re=0,ri=null,er=0,al=0,du=0,Ds=null,tt=null,fu=0,Vr=1/0,Vt=null,Ao=!1,rc=null,En=null,Yi=!1,yn=null,jo=0,Os=0,sc=null,oo=-1,lo=0;function Ke(){return J&6?Ee():oo!==-1?oo:oo=Ee()}function kn(t){return t.mode&1?J&2&&We!==0?We&-We:u_.transition!==null?(lo===0&&(lo=qh()),lo):(t=te,t!==0||(t=window.event,t=t===void 0?16:rp(t.type)),t):1}function At(t,e,n,r){if(50<Os)throw Os=0,sc=null,Error(T(185));yi(t,n,r),(!(J&2)||t!==Le)&&(t===Le&&(!(J&2)&&(al|=n),Re===4&&mn(t,We)),ot(t,r),n===1&&J===0&&!(e.mode&1)&&(Vr=Ee()+500,sl&&Fn()))}function ot(t,e){var n=t.callbackNode;uv(t,e);var r=mo(t,t===Le?We:0);if(r===0)n!==null&&Cd(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Cd(n),e===1)t.tag===0?c_(gf.bind(null,t)):Sp(gf.bind(null,t)),i_(function(){!(J&6)&&Fn()}),n=null;else{switch(Xh(r)){case 1:n=Fc;break;case 4:n=Qh;break;case 16:n=po;break;case 536870912:n=Kh;break;default:n=po}n=wm(n,hm.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function hm(t,e){if(oo=-1,lo=0,J&6)throw Error(T(327));var n=t.callbackNode;if(Dr()&&t.callbackNode!==n)return null;var r=mo(t,t===Le?We:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=bo(t,r);else{e=r;var s=J;J|=2;var i=mm();(Le!==t||We!==e)&&(Vt=null,Vr=Ee()+500,Kn(t,e));do try{R_();break}catch(a){pm(t,a)}while(!0);Xc(),Ro.current=i,J=s,Ne!==null?e=0:(Le=null,We=0,e=Re)}if(e!==0){if(e===2&&(s=Aa(t),s!==0&&(r=s,e=ic(t,s))),e===1)throw n=ri,Kn(t,0),mn(t,r),ot(t,Ee()),n;if(e===6)mn(t,r);else{if(s=t.current.alternate,!(r&30)&&!I_(s)&&(e=bo(t,r),e===2&&(i=Aa(t),i!==0&&(r=i,e=ic(t,i))),e===1))throw n=ri,Kn(t,0),mn(t,r),ot(t,Ee()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(T(345));case 2:Un(t,tt,Vt);break;case 3:if(mn(t,r),(r&130023424)===r&&(e=fu+500-Ee(),10<e)){if(mo(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Ke(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Wa(Un.bind(null,t,tt,Vt),e);break}Un(t,tt,Vt);break;case 4:if(mn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Rt(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Ee()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*T_(r/1960))-r,10<r){t.timeoutHandle=Wa(Un.bind(null,t,tt,Vt),r);break}Un(t,tt,Vt);break;case 5:Un(t,tt,Vt);break;default:throw Error(T(329))}}}return ot(t,Ee()),t.callbackNode===n?hm.bind(null,t):null}function ic(t,e){var n=Ds;return t.current.memoizedState.isDehydrated&&(Kn(t,e).flags|=256),t=bo(t,e),t!==2&&(e=tt,tt=n,e!==null&&oc(e)),t}function oc(t){tt===null?tt=t:tt.push.apply(tt,t)}function I_(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!bt(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function mn(t,e){for(e&=~du,e&=~al,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Rt(e),r=1<<n;t[n]=-1,e&=~r}}function gf(t){if(J&6)throw Error(T(327));Dr();var e=mo(t,0);if(!(e&1))return ot(t,Ee()),null;var n=bo(t,e);if(t.tag!==0&&n===2){var r=Aa(t);r!==0&&(e=r,n=ic(t,r))}if(n===1)throw n=ri,Kn(t,0),mn(t,e),ot(t,Ee()),n;if(n===6)throw Error(T(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Un(t,tt,Vt),ot(t,Ee()),null}function hu(t,e){var n=J;J|=1;try{return t(e)}finally{J=n,J===0&&(Vr=Ee()+500,sl&&Fn())}}function tr(t){yn!==null&&yn.tag===0&&!(J&6)&&Dr();var e=J;J|=1;var n=wt.transition,r=te;try{if(wt.transition=null,te=1,t)return t()}finally{te=r,wt.transition=n,J=e,!(J&6)&&Fn()}}function pu(){lt=Tr.current,fe(Tr)}function Kn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,s_(n)),Ne!==null)for(n=Ne.return;n!==null;){var r=n;switch(Qc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&wo();break;case 3:Ur(),fe(st),fe(Ge),ru();break;case 5:nu(r);break;case 4:Ur();break;case 13:fe(pe);break;case 19:fe(pe);break;case 10:Jc(r.type._context);break;case 22:case 23:pu()}n=n.return}if(Le=t,Ne=t=Nn(t.current,null),We=lt=e,Re=0,ri=null,du=al=er=0,tt=Ds=null,Gn!==null){for(e=0;e<Gn.length;e++)if(n=Gn[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Gn=null}return t}function pm(t,e){do{var n=Ne;try{if(Xc(),ro.current=Po,Io){for(var r=me.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Io=!1}if(Zn=0,De=Te=me=null,js=!1,ei=0,uu.current=null,n===null||n.return===null){Re=1,ri=e,Ne=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=We,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=nf(o);if(g!==null){g.flags&=-257,rf(g,o,a,i,e),g.mode&1&&tf(i,u,e),e=g,l=u;var _=e.updateQueue;if(_===null){var x=new Set;x.add(l),e.updateQueue=x}else _.add(l);break e}else{if(!(e&1)){tf(i,u,e),mu();break e}l=Error(T(426))}}else if(he&&a.mode&1){var E=nf(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),rf(E,o,a,i,e),Kc($r(l,a));break e}}i=l=$r(l,a),Re!==4&&(Re=2),Ds===null?Ds=[i]:Ds.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=Xp(i,l,e);Kd(i,y);break e;case 1:a=l;var m=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(En===null||!En.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e;var S=Jp(i,a,e);Kd(i,S);break e}}i=i.return}while(i!==null)}ym(n)}catch(k){e=k,Ne===n&&n!==null&&(Ne=n=n.return);continue}break}while(!0)}function mm(){var t=Ro.current;return Ro.current=Po,t===null?Po:t}function mu(){(Re===0||Re===3||Re===2)&&(Re=4),Le===null||!(er&268435455)&&!(al&268435455)||mn(Le,We)}function bo(t,e){var n=J;J|=2;var r=mm();(Le!==t||We!==e)&&(Vt=null,Kn(t,e));do try{P_();break}catch(s){pm(t,s)}while(!0);if(Xc(),J=n,Ro.current=r,Ne!==null)throw Error(T(261));return Le=null,We=0,Re}function P_(){for(;Ne!==null;)gm(Ne)}function R_(){for(;Ne!==null&&!tv();)gm(Ne)}function gm(t){var e=_m(t.alternate,t,lt);t.memoizedProps=t.pendingProps,e===null?ym(t):Ne=e,uu.current=null}function ym(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=C_(n,e),n!==null){n.flags&=32767,Ne=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Re=6,Ne=null;return}}else if(n=S_(n,e,lt),n!==null){Ne=n;return}if(e=e.sibling,e!==null){Ne=e;return}Ne=e=t}while(e!==null);Re===0&&(Re=5)}function Un(t,e,n){var r=te,s=wt.transition;try{wt.transition=null,te=1,A_(t,e,n,r)}finally{wt.transition=s,te=r}return null}function A_(t,e,n,r){do Dr();while(yn!==null);if(J&6)throw Error(T(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(T(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(dv(t,i),t===Le&&(Ne=Le=null,We=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Yi||(Yi=!0,wm(po,function(){return Dr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=wt.transition,wt.transition=null;var o=te;te=1;var a=J;J|=4,uu.current=null,k_(t,n),dm(n,t),Xv(Ma),go=!!La,Ma=La=null,t.current=n,N_(n),nv(),J=a,te=o,wt.transition=i}else t.current=n;if(Yi&&(Yi=!1,yn=t,jo=s),i=t.pendingLanes,i===0&&(En=null),iv(n.stateNode),ot(t,Ee()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ao)throw Ao=!1,t=rc,rc=null,t;return jo&1&&t.tag!==0&&Dr(),i=t.pendingLanes,i&1?t===sc?Os++:(Os=0,sc=t):Os=0,Fn(),null}function Dr(){if(yn!==null){var t=Xh(jo),e=wt.transition,n=te;try{if(wt.transition=null,te=16>t?16:t,yn===null)var r=!1;else{if(t=yn,yn=null,jo=0,J&6)throw Error(T(331));var s=J;for(J|=4,O=t.current;O!==null;){var i=O,o=i.child;if(O.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(O=u;O!==null;){var h=O;switch(h.tag){case 0:case 11:case 15:bs(8,h,i)}var f=h.child;if(f!==null)f.return=h,O=f;else for(;O!==null;){h=O;var d=h.sibling,g=h.return;if(am(h),h===u){O=null;break}if(d!==null){d.return=g,O=d;break}O=g}}}var _=i.alternate;if(_!==null){var x=_.child;if(x!==null){_.child=null;do{var E=x.sibling;x.sibling=null,x=E}while(x!==null)}}O=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,O=o;else e:for(;O!==null;){if(i=O,i.flags&2048)switch(i.tag){case 0:case 11:case 15:bs(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,O=y;break e}O=i.return}}var m=t.current;for(O=m;O!==null;){o=O;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,O=v;else e:for(o=m;O!==null;){if(a=O,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ll(9,a)}}catch(k){_e(a,a.return,k)}if(a===o){O=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,O=S;break e}O=a.return}}if(J=s,Fn(),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(Zo,t)}catch{}r=!0}return r}finally{te=n,wt.transition=e}}return!1}function yf(t,e,n){e=$r(n,e),e=Xp(t,e,1),t=Cn(t,e,1),e=Ke(),t!==null&&(yi(t,1,e),ot(t,e))}function _e(t,e,n){if(t.tag===3)yf(t,t,n);else for(;e!==null;){if(e.tag===3){yf(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(En===null||!En.has(r))){t=$r(n,t),t=Jp(e,t,1),e=Cn(e,t,1),t=Ke(),e!==null&&(yi(e,1,t),ot(e,t));break}}e=e.return}}function j_(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ke(),t.pingedLanes|=t.suspendedLanes&n,Le===t&&(We&n)===n&&(Re===4||Re===3&&(We&130023424)===We&&500>Ee()-fu?Kn(t,0):du|=n),ot(t,e)}function vm(t,e){e===0&&(t.mode&1?(e=Mi,Mi<<=1,!(Mi&130023424)&&(Mi=4194304)):e=1);var n=Ke();t=Zt(t,e),t!==null&&(yi(t,e,n),ot(t,n))}function b_(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),vm(t,n)}function D_(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(T(314))}r!==null&&r.delete(e),vm(t,n)}var _m;_m=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||st.current)nt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return nt=!1,x_(t,e,n);nt=!!(t.flags&131072)}else nt=!1,he&&e.flags&1048576&&Cp(e,Co,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;io(t,e),t=e.pendingProps;var s=Wr(e,Ge.current);br(e,n),s=iu(null,e,r,t,s,n);var i=ou();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,it(r)?(i=!0,xo(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,eu(e),s.updater=ol,e.stateNode=s,s._reactInternals=e,Ga(e,r,t,n),e=Ka(null,e,r,!0,i,n)):(e.tag=0,he&&i&&Yc(e),Ye(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(io(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=L_(r),t=kt(r,t),s){case 0:e=Qa(null,e,r,t,n);break e;case 1:e=lf(null,e,r,t,n);break e;case 11:e=sf(null,e,r,t,n);break e;case 14:e=of(null,e,r,kt(r.type,t),n);break e}throw Error(T(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:kt(r,s),Qa(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:kt(r,s),lf(t,e,r,s,n);case 3:e:{if(nm(e),t===null)throw Error(T(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Pp(t,e),No(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=$r(Error(T(423)),e),e=af(t,e,r,n,s);break e}else if(r!==s){s=$r(Error(T(424)),e),e=af(t,e,r,n,s);break e}else for(at=Sn(e.stateNode.containerInfo.firstChild),ct=e,he=!0,Tt=null,n=Tp(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zr(),r===s){e=en(t,e,n);break e}Ye(t,e,r,n)}e=e.child}return e;case 5:return Rp(e),t===null&&$a(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Fa(r,s)?o=null:i!==null&&Fa(r,i)&&(e.flags|=32),tm(t,e),Ye(t,e,o,n),e.child;case 6:return t===null&&$a(e),null;case 13:return rm(t,e,n);case 4:return tu(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Br(e,null,r,n):Ye(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:kt(r,s),sf(t,e,r,s,n);case 7:return Ye(t,e,e.pendingProps,n),e.child;case 8:return Ye(t,e,e.pendingProps.children,n),e.child;case 12:return Ye(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ae(Eo,r._currentValue),r._currentValue=o,i!==null)if(bt(i.value,o)){if(i.children===s.children&&!st.current){e=en(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Kt(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Va(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(T(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Va(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ye(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,br(e,n),s=xt(s),r=r(s),e.flags|=1,Ye(t,e,r,n),e.child;case 14:return r=e.type,s=kt(r,e.pendingProps),s=kt(r.type,s),of(t,e,r,s,n);case 15:return Zp(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:kt(r,s),io(t,e),e.tag=1,it(r)?(t=!0,xo(e)):t=!1,br(e,n),qp(e,r,s),Ga(e,r,s,n),Ka(null,e,r,!0,t,n);case 19:return sm(t,e,n);case 22:return em(t,e,n)}throw Error(T(156,e.tag))};function wm(t,e){return Yh(t,e)}function O_(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vt(t,e,n,r){return new O_(t,e,n,r)}function gu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function L_(t){if(typeof t=="function")return gu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Oc)return 11;if(t===Lc)return 14}return 2}function Nn(t,e){var n=t.alternate;return n===null?(n=vt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ao(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")gu(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case yr:return qn(n.children,s,i,e);case Dc:o=8,s|=8;break;case ga:return t=vt(12,n,e,s|2),t.elementType=ga,t.lanes=i,t;case ya:return t=vt(13,n,e,s),t.elementType=ya,t.lanes=i,t;case va:return t=vt(19,n,e,s),t.elementType=va,t.lanes=i,t;case Rh:return cl(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ih:o=10;break e;case Ph:o=9;break e;case Oc:o=11;break e;case Lc:o=14;break e;case fn:o=16,r=null;break e}throw Error(T(130,t==null?t:typeof t,""))}return e=vt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function qn(t,e,n,r){return t=vt(7,t,r,e),t.lanes=n,t}function cl(t,e,n,r){return t=vt(22,t,r,e),t.elementType=Rh,t.lanes=n,t.stateNode={isHidden:!1},t}function Jl(t,e,n){return t=vt(6,t,null,e),t.lanes=n,t}function Zl(t,e,n){return e=vt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function M_(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bl(0),this.expirationTimes=bl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bl(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function yu(t,e,n,r,s,i,o,a,l){return t=new M_(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=vt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},eu(i),t}function F_(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function xm(t){if(!t)return jn;t=t._reactInternals;e:{if(or(t)!==t||t.tag!==1)throw Error(T(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(it(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(T(171))}if(t.tag===1){var n=t.type;if(it(n))return xp(t,n,e)}return e}function Sm(t,e,n,r,s,i,o,a,l){return t=yu(n,r,!0,t,s,i,o,a,l),t.context=xm(null),n=t.current,r=Ke(),s=kn(n),i=Kt(r,s),i.callback=e??null,Cn(n,i,s),t.current.lanes=s,yi(t,s,r),ot(t,r),t}function ul(t,e,n,r){var s=e.current,i=Ke(),o=kn(s);return n=xm(n),e.context===null?e.context=n:e.pendingContext=n,e=Kt(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Cn(s,e,o),t!==null&&(At(t,s,o,i),no(t,s,o)),o}function Do(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function vf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function vu(t,e){vf(t,e),(t=t.alternate)&&vf(t,e)}function W_(){return null}var Cm=typeof reportError=="function"?reportError:function(t){console.error(t)};function _u(t){this._internalRoot=t}dl.prototype.render=_u.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(T(409));ul(t,e,null,null)};dl.prototype.unmount=_u.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;tr(function(){ul(null,t,null,null)}),e[Jt]=null}};function dl(t){this._internalRoot=t}dl.prototype.unstable_scheduleHydration=function(t){if(t){var e=ep();t={blockedOn:null,target:t,priority:e};for(var n=0;n<pn.length&&e!==0&&e<pn[n].priority;n++);pn.splice(n,0,t),n===0&&np(t)}};function wu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function fl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _f(){}function z_(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Do(o);i.call(u)}}var o=Sm(e,r,t,0,null,!1,!1,"",_f);return t._reactRootContainer=o,t[Jt]=o.current,Ks(t.nodeType===8?t.parentNode:t),tr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Do(l);a.call(u)}}var l=yu(t,0,!1,null,null,!1,!1,"",_f);return t._reactRootContainer=l,t[Jt]=l.current,Ks(t.nodeType===8?t.parentNode:t),tr(function(){ul(e,l,n,r)}),l}function hl(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Do(o);a.call(l)}}ul(e,o,t,s)}else o=z_(n,e,t,s,r);return Do(o)}Jh=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ks(e.pendingLanes);n!==0&&(Wc(e,n|1),ot(e,Ee()),!(J&6)&&(Vr=Ee()+500,Fn()))}break;case 13:tr(function(){var r=Zt(t,1);if(r!==null){var s=Ke();At(r,t,1,s)}}),vu(t,1)}};zc=function(t){if(t.tag===13){var e=Zt(t,134217728);if(e!==null){var n=Ke();At(e,t,134217728,n)}vu(t,134217728)}};Zh=function(t){if(t.tag===13){var e=kn(t),n=Zt(t,e);if(n!==null){var r=Ke();At(n,t,e,r)}vu(t,e)}};ep=function(){return te};tp=function(t,e){var n=te;try{return te=t,e()}finally{te=n}};Ia=function(t,e,n){switch(e){case"input":if(xa(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=rl(r);if(!s)throw Error(T(90));jh(r),xa(r,s)}}}break;case"textarea":Dh(t,n);break;case"select":e=n.value,e!=null&&Pr(t,!!n.multiple,e,!1)}};Bh=hu;Uh=tr;var B_={usingClientEntryPoint:!1,Events:[_i,xr,rl,Wh,zh,hu]},vs={findFiberByHostInstance:Hn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},U_={bundleType:vs.bundleType,version:vs.version,rendererPackageName:vs.rendererPackageName,rendererConfig:vs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Hh(t),t===null?null:t.stateNode},findFiberByHostInstance:vs.findFiberByHostInstance||W_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qi.isDisabled&&Qi.supportsFiber)try{Zo=Qi.inject(U_),Wt=Qi}catch{}}dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B_;dt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wu(e))throw Error(T(200));return F_(t,e,null,n)};dt.createRoot=function(t,e){if(!wu(t))throw Error(T(299));var n=!1,r="",s=Cm;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=yu(t,1,!1,null,null,n,!1,r,s),t[Jt]=e.current,Ks(t.nodeType===8?t.parentNode:t),new _u(e)};dt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(T(188)):(t=Object.keys(t).join(","),Error(T(268,t)));return t=Hh(e),t=t===null?null:t.stateNode,t};dt.flushSync=function(t){return tr(t)};dt.hydrate=function(t,e,n){if(!fl(e))throw Error(T(200));return hl(null,t,e,!0,n)};dt.hydrateRoot=function(t,e,n){if(!wu(t))throw Error(T(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Cm;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Sm(e,null,t,1,n??null,s,!1,i,o),t[Jt]=e.current,Ks(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new dl(e)};dt.render=function(t,e,n){if(!fl(e))throw Error(T(200));return hl(null,t,e,!1,n)};dt.unmountComponentAtNode=function(t){if(!fl(t))throw Error(T(40));return t._reactRootContainer?(tr(function(){hl(null,null,t,!1,function(){t._reactRootContainer=null,t[Jt]=null})}),!0):!1};dt.unstable_batchedUpdates=hu;dt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!fl(n))throw Error(T(200));if(t==null||t._reactInternals===void 0)throw Error(T(38));return hl(t,e,n,!1,r)};dt.version="18.3.1-next-f1338f8080-20240426";function Em(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Em)}catch(t){console.error(t)}}Em(),Eh.exports=dt;var $_=Eh.exports,wf=$_;pa.createRoot=wf.createRoot,pa.hydrateRoot=wf.hydrateRoot;var xf={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P=function(t,e){if(!t)throw es(e)},es=function(t){return new Error("Firebase Database ("+km.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},V_=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},xu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let d=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(d=64)),r.push(n[h],n[f],n[d],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Nm(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):V_(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||f==null)throw new H_;const d=i<<2|a>>4;if(r.push(d),u!==64){const g=a<<4&240|u>>2;if(r.push(g),f!==64){const _=u<<6&192|f;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class H_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Tm=function(t){const e=Nm(t);return xu.encodeByteArray(e,!0)},Oo=function(t){return Tm(t).replace(/\./g,"")},lc=function(t){try{return xu.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(t){return Im(void 0,t)}function Im(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Y_(n)||(t[n]=Im(t[n],e[n]));return t}function Y_(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_=()=>Q_().__FIREBASE_DEFAULTS__,q_=()=>{if(typeof process>"u"||typeof xf>"u")return;const t=xf.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},X_=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&lc(t[1]);return e&&JSON.parse(e)},Pm=()=>{try{return K_()||q_()||X_()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},J_=t=>{var e,n;return(n=(e=Pm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Z_=t=>{const e=J_(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Rm=()=>{var t;return(t=Pm())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Oo(JSON.stringify(n)),Oo(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Am(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(t0())}function n0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function r0(){return km.NODE_ADMIN===!0}function s0(){try{return typeof indexedDB=="object"}catch{return!1}}function i0(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0="FirebaseError";class Si extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=o0,Object.setPrototypeOf(this,Si.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jm.prototype.create)}}class jm{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?l0(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Si(s,a,r)}}function l0(t,e){return t.replace(a0,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const a0=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(t){return JSON.parse(t)}function Pe(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm=function(t){let e={},n={},r={},s="";try{const i=t.split(".");e=si(lc(i[0])||""),n=si(lc(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},c0=function(t){const e=bm(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},u0=function(t){const e=bm(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Hr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Sf(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Lo(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function ac(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Cf(i)&&Cf(o)){if(!ac(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Cf(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)r[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)r[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const d=r[f-3]^r[f-8]^r[f-14]^r[f-16];r[f]=(d<<1|d>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,h;for(let f=0;f<80;f++){f<40?f<20?(u=a^i&(o^a),h=1518500249):(u=i^o^a,h=1859775393):f<60?(u=i&o|a&(i|o),h=2400959708):(u=i^o^a,h=3395469782);const d=(s<<5|s>>>27)+u+l+h+r[f]&4294967295;l=a,a=o,o=(i<<30|i>>>2)&4294967295,i=s,s=d}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const i=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(i[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}else for(;s<n;)if(i[o]=e[s],++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function pl(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,P(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;s=65536+(i<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},ml=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(t){return t&&t._delegate?t._delegate:t}class ii{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new xi;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(g0(e))try{this.getOrInitializeService({instanceIdentifier:$n})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=$n){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$n){return this.instances.has(e)}getOptions(e=$n){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:m0(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$n){return this.component?this.component.multipleInstances?e:$n:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function m0(t){return t===$n?void 0:t}function g0(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new p0(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(oe||(oe={}));const v0={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},_0=oe.INFO,w0={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},x0=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=w0[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dm{constructor(e){this.name=e,this._logLevel=_0,this._logHandler=x0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?v0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...e),this._logHandler(this,oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...e),this._logHandler(this,oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...e),this._logHandler(this,oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...e),this._logHandler(this,oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...e),this._logHandler(this,oe.ERROR,...e)}}const S0=(t,e)=>e.some(n=>t instanceof n);let Ef,kf;function C0(){return Ef||(Ef=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function E0(){return kf||(kf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Om=new WeakMap,cc=new WeakMap,Lm=new WeakMap,ea=new WeakMap,Su=new WeakMap;function k0(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Tn(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Om.set(n,t)}).catch(()=>{}),Su.set(e,t),e}function N0(t){if(cc.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});cc.set(t,e)}let uc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return cc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Lm.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Tn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function T0(t){uc=t(uc)}function I0(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ta(this),e,...n);return Lm.set(r,e.sort?e.sort():[e]),Tn(r)}:E0().includes(t)?function(...e){return t.apply(ta(this),e),Tn(Om.get(this))}:function(...e){return Tn(t.apply(ta(this),e))}}function P0(t){return typeof t=="function"?I0(t):(t instanceof IDBTransaction&&N0(t),S0(t,C0())?new Proxy(t,uc):t)}function Tn(t){if(t instanceof IDBRequest)return k0(t);if(ea.has(t))return ea.get(t);const e=P0(t);return e!==t&&(ea.set(t,e),Su.set(e,t)),e}const ta=t=>Su.get(t);function R0(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Tn(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Tn(o.result),l.oldVersion,l.newVersion,Tn(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const A0=["get","getKey","getAll","getAllKeys","count"],j0=["put","add","delete","clear"],na=new Map;function Nf(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(na.get(e))return na.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=j0.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||A0.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return na.set(e,i),i}T0(t=>({...t,get:(e,n,r)=>Nf(e,n)||t.get(e,n,r),has:(e,n)=>!!Nf(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(D0(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function D0(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const dc="@firebase/app",Tf="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn=new Dm("@firebase/app"),O0="@firebase/app-compat",L0="@firebase/analytics-compat",M0="@firebase/analytics",F0="@firebase/app-check-compat",W0="@firebase/app-check",z0="@firebase/auth",B0="@firebase/auth-compat",U0="@firebase/database",$0="@firebase/data-connect",V0="@firebase/database-compat",H0="@firebase/functions",G0="@firebase/functions-compat",Y0="@firebase/installations",Q0="@firebase/installations-compat",K0="@firebase/messaging",q0="@firebase/messaging-compat",X0="@firebase/performance",J0="@firebase/performance-compat",Z0="@firebase/remote-config",ew="@firebase/remote-config-compat",tw="@firebase/storage",nw="@firebase/storage-compat",rw="@firebase/firestore",sw="@firebase/vertexai-preview",iw="@firebase/firestore-compat",ow="firebase",lw="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc="[DEFAULT]",aw={[dc]:"fire-core",[O0]:"fire-core-compat",[M0]:"fire-analytics",[L0]:"fire-analytics-compat",[W0]:"fire-app-check",[F0]:"fire-app-check-compat",[z0]:"fire-auth",[B0]:"fire-auth-compat",[U0]:"fire-rtdb",[$0]:"fire-data-connect",[V0]:"fire-rtdb-compat",[H0]:"fire-fn",[G0]:"fire-fn-compat",[Y0]:"fire-iid",[Q0]:"fire-iid-compat",[K0]:"fire-fcm",[q0]:"fire-fcm-compat",[X0]:"fire-perf",[J0]:"fire-perf-compat",[Z0]:"fire-rc",[ew]:"fire-rc-compat",[tw]:"fire-gcs",[nw]:"fire-gcs-compat",[rw]:"fire-fst",[iw]:"fire-fst-compat",[sw]:"fire-vertex","fire-js":"fire-js",[ow]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo=new Map,cw=new Map,hc=new Map;function If(t,e){try{t.container.addComponent(e)}catch(n){tn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fo(t){const e=t.name;if(hc.has(e))return tn.debug(`There were multiple attempts to register component ${e}.`),!1;hc.set(e,t);for(const n of Mo.values())If(n,t);for(const n of cw.values())If(n,t);return!0}function uw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},In=new jm("app","Firebase",dw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ii("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw In.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw=lw;function Mm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:fc,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw In.create("bad-app-name",{appName:String(s)});if(n||(n=Rm()),!n)throw In.create("no-options");const i=Mo.get(s);if(i){if(ac(n,i.options)&&ac(r,i.config))return i;throw In.create("duplicate-app",{appName:s})}const o=new y0(s);for(const l of hc.values())o.addComponent(l);const a=new fw(n,r,o);return Mo.set(s,a),a}function pw(t=fc){const e=Mo.get(t);if(!e&&t===fc&&Rm())return Mm();if(!e)throw In.create("no-app",{appName:t});return e}function Or(t,e,n){var r;let s=(r=aw[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),tn.warn(a.join(" "));return}Fo(new ii(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw="firebase-heartbeat-database",gw=1,oi="firebase-heartbeat-store";let ra=null;function Fm(){return ra||(ra=R0(mw,gw,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(oi)}catch(n){console.warn(n)}}}}).catch(t=>{throw In.create("idb-open",{originalErrorMessage:t.message})})),ra}async function yw(t){try{const n=(await Fm()).transaction(oi),r=await n.objectStore(oi).get(Wm(t));return await n.done,r}catch(e){if(e instanceof Si)tn.warn(e.message);else{const n=In.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});tn.warn(n.message)}}}async function Pf(t,e){try{const r=(await Fm()).transaction(oi,"readwrite");await r.objectStore(oi).put(e,Wm(t)),await r.done}catch(n){if(n instanceof Si)tn.warn(n.message);else{const r=In.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});tn.warn(r.message)}}}function Wm(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=1024,_w=30*24*60*60*1e3;class ww{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Sw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Rf();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=_w}),this._storage.overwrite(this._heartbeatsCache))}catch(r){tn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Rf(),{heartbeatsToSend:r,unsentEntries:s}=xw(this._heartbeatsCache.heartbeats),i=Oo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return tn.warn(n),""}}}function Rf(){return new Date().toISOString().substring(0,10)}function xw(t,e=vw){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Af(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Af(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Sw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return s0()?i0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await yw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Pf(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Pf(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Af(t){return Oo(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(t){Fo(new ii("platform-logger",e=>new b0(e),"PRIVATE")),Fo(new ii("heartbeat",e=>new ww(e),"PRIVATE")),Or(dc,Tf,t),Or(dc,Tf,"esm2017"),Or("fire-js","")}Cw("");var Ew="firebase",kw="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Or(Ew,kw,"app");var jf={};const bf="@firebase/database",Df="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zm="";function Nw(t){zm=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Pe(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:si(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Bt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Tw(e)}}catch{}return new Iw},Qn=Bm("localStorage"),Pw=Bm("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr=new Dm("@firebase/database"),Rw=function(){let t=1;return function(){return t++}}(),Um=function(t){const e=h0(t),n=new f0;n.update(e);const r=n.digest();return xu.encodeByteArray(r)},Ci=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ci.apply(null,r):typeof r=="object"?e+=Pe(r):e+=r,e+=" "}return e};let Ls=null,Of=!0;const Aw=function(t,e){P(!0,"Can't turn on custom loggers persistently."),Lr.logLevel=oe.VERBOSE,Ls=Lr.log.bind(Lr)},Fe=function(...t){if(Of===!0&&(Of=!1,Ls===null&&Pw.get("logging_enabled")===!0&&Aw()),Ls){const e=Ci.apply(null,t);Ls(e)}},Ei=function(t){return function(...e){Fe(t,...e)}},pc=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ci(...t);Lr.error(e)},nn=function(...t){const e=`FIREBASE FATAL ERROR: ${Ci(...t)}`;throw Lr.error(e),new Error(e)},qe=function(...t){const e="FIREBASE WARNING: "+Ci(...t);Lr.warn(e)},jw=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&qe("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Cu=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},bw=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Gr="[MIN_NAME]",nr="[MAX_NAME]",ar=function(t,e){if(t===e)return 0;if(t===Gr||e===nr)return-1;if(e===Gr||t===nr)return 1;{const n=Lf(t),r=Lf(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},Dw=function(t,e){return t===e?0:t<e?-1:1},_s=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Pe(e))},Eu=function(t){if(typeof t!="object"||t===null)return Pe(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Pe(e[r]),n+=":",n+=Eu(t[e[r]]);return n+="}",n},$m=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function Be(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Vm=function(t){P(!Cu(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,i,o,a,l;t===0?(i=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(i%2?1:0),i=Math.floor(i/2);u.push(s?1:0),u.reverse();const h=u.join("");let f="";for(l=0;l<64;l+=8){let d=parseInt(h.substr(l,8),2).toString(16);d.length===1&&(d="0"+d),f=f+d}return f.toLowerCase()},Ow=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Lw=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Mw(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const Fw=new RegExp("^-?(0*)\\d{1,10}$"),Ww=-2147483648,zw=2147483647,Lf=function(t){if(Fw.test(t)){const e=Number(t);if(e>=Ww&&e<=zw)return e}return null},ts=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw qe("Exception was thrown by user callback.",n),e},Math.floor(0))}},Bw=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ms=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){qe(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Fe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',qe(e)}}class co{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}co.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku="5",Hm="v",Gm="s",Ym="r",Qm="f",Km=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,qm="ls",Xm="p",mc="ac",Jm="websocket",Zm="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,n,r,s,i=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Qn.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Qn.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Vw(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function tg(t,e,n){P(typeof e=="string","typeof type must == string"),P(typeof n=="object","typeof params must == object");let r;if(e===Jm)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Zm)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Vw(t)&&(n.ns=t.namespace);const s=[];return Be(n,(i,o)=>{s.push(i+"="+o)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(){this.counters_={}}incrementCounter(e,n=1){Bt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return G_(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa={},ia={};function Nu(t){const e=t.toString();return sa[e]||(sa[e]=new Hw),sa[e]}function Gw(t,e){const n=t.toString();return ia[n]||(ia[n]=e()),ia[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&ts(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf="start",Qw="close",Kw="pLPCommand",qw="pRTLPCB",ng="id",rg="pw",sg="ser",Xw="cb",Jw="seg",Zw="ts",ex="d",tx="dframe",ig=1870,og=30,nx=ig-og,rx=25e3,sx=3e4;class Ir{constructor(e,n,r,s,i,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ei(e),this.stats_=Nu(n),this.urlFn=l=>(this.appCheckToken&&(l[mc]=this.appCheckToken),tg(n,Zm,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Yw(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(sx)),bw(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Tu((...i)=>{const[o,a,l,u,h]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Mf)this.id=a,this.password=l;else if(o===Qw)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,a]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[Mf]="t",r[sg]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Xw]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Hm]=ku,this.transportSessionId&&(r[Gm]=this.transportSessionId),this.lastSessionId&&(r[qm]=this.lastSessionId),this.applicationId&&(r[Xm]=this.applicationId),this.appCheckToken&&(r[mc]=this.appCheckToken),typeof location<"u"&&location.hostname&&Km.test(location.hostname)&&(r[Ym]=Qm);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ir.forceAllow_=!0}static forceDisallow(){Ir.forceDisallow_=!0}static isAvailable(){return Ir.forceAllow_?!0:!Ir.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Ow()&&!Lw()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Pe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Tm(n),s=$m(r,nx);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[tx]="t",r[ng]=e,r[rg]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Pe(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Tu{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Rw(),window[Kw+this.uniqueCallbackIdentifier]=e,window[qw+this.uniqueCallbackIdentifier]=n,this.myIFrame=Tu.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Fe("frame writing exception"),a.stack&&Fe(a.stack),Fe(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Fe("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[ng]=this.myID,e[rg]=this.myPW,e[sg]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+og+r.length<=ig;){const o=this.pendingSegs.shift();r=r+"&"+Jw+s+"="+o.seg+"&"+Zw+s+"="+o.ts+"&"+ex+s+"="+o.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(rx)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Fe("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix=16384,ox=45e3;let Wo=null;typeof MozWebSocket<"u"?Wo=MozWebSocket:typeof WebSocket<"u"&&(Wo=WebSocket);class It{constructor(e,n,r,s,i,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ei(this.connId),this.stats_=Nu(n),this.connURL=It.connectionURL_(n,o,a,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,i){const o={};return o[Hm]=ku,typeof location<"u"&&location.hostname&&Km.test(location.hostname)&&(o[Ym]=Qm),n&&(o[Gm]=n),r&&(o[qm]=r),s&&(o[mc]=s),i&&(o[Xm]=i),tg(e,Jm,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Qn.set("previous_websocket_failure",!0);try{let r;r0(),this.mySock=new Wo(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){It.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Wo!==null&&!It.forceDisallow_}static previouslyFailed(){return Qn.isInMemoryStorage||Qn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Qn.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=si(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(P(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Pe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=$m(n,ix);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(ox))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}It.responsesRequiredToBeHealthy=2;It.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Ir,It]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=It&&It.isAvailable();let r=n&&!It.previouslyFailed();if(e.webSocketOnly&&(n||qe("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[It];else{const s=this.transports_=[];for(const i of li.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);li.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}li.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx=6e4,ax=5e3,cx=10*1024,ux=100*1024,oa="t",Ff="d",dx="s",Wf="r",fx="e",zf="o",Bf="a",Uf="n",$f="p",hx="h";class px{constructor(e,n,r,s,i,o,a,l,u,h){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ei("c:"+this.id+":"),this.transportManager_=new li(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=Ms(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>ux?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>cx?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(oa in e){const n=e[oa];n===Bf?this.upgradeIfSecondaryHealthy_():n===Wf?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===zf&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=_s("t",e),r=_s("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:$f,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Bf,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Uf,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=_s("t",e),r=_s("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=_s(oa,e);if(Ff in e){const r=e[Ff];if(n===hx){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===Uf){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===dx?this.onConnectionShutdown_(r):n===Wf?this.onReset_(r):n===fx?pc("Server Error: "+r):n===zf?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):pc("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),ku!==r&&qe("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ms(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(lx))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ms(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(ax))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:$f,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Qn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e){this.allowedEvents_=e,this.listeners_={},P(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){P(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo extends ag{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Am()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new zo}getInitialEvent(e){return P(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf=32,Hf=768;class ne{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ee(){return new ne("")}function Q(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function bn(t){return t.pieces_.length-t.pieceNum_}function le(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ne(t.pieces_,e)}function Iu(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function mx(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function ai(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function cg(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ne(e,0)}function we(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ne)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new ne(n,0)}function q(t){return t.pieceNum_>=t.pieces_.length}function Qe(t,e){const n=Q(t),r=Q(e);if(n===null)return e;if(n===r)return Qe(le(t),le(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function gx(t,e){const n=ai(t,0),r=ai(e,0);for(let s=0;s<n.length&&s<r.length;s++){const i=ar(n[s],r[s]);if(i!==0)return i}return n.length===r.length?0:n.length<r.length?-1:1}function Pu(t,e){if(bn(t)!==bn(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function _t(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(bn(t)>bn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class yx{constructor(e,n){this.errorPrefix_=n,this.parts_=ai(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=ml(this.parts_[r]);ug(this)}}function vx(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=ml(e),ug(t)}function _x(t){const e=t.parts_.pop();t.byteLength_-=ml(e),t.parts_.length>0&&(t.byteLength_-=1)}function ug(t){if(t.byteLength_>Hf)throw new Error(t.errorPrefix_+"has a key path longer than "+Hf+" bytes ("+t.byteLength_+").");if(t.parts_.length>Vf)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Vf+") or object contains a cycle "+Vn(t))}function Vn(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru extends ag{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Ru}getInitialEvent(e){return P(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws=1e3,wx=60*5*1e3,Gf=30*1e3,xx=1.3,Sx=3e4,Cx="server_kill",Yf=3;class qt extends lg{constructor(e,n,r,s,i,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=qt.nextPersistentConnectionId_++,this.log_=Ei("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ws,this.maxReconnectDelay_=wx,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ru.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&zo.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,i={r:s,a:e,b:n};this.log_(Pe(i)),P(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new xi,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,r,s){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),P(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),P(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,a=>{const l=a.d,u=a.s;qt.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Bt(e,"w")){const r=Hr(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();qe(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||u0(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Gf)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=c0(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,o=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),P(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";s&&(i.q=r,i.t=s),this.sendRequest(o,i)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,i){this.initConnection_();const o={p:n,d:r};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Pe(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):pc("Unrecognized action received from server: "+Pe(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){P(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ws,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ws,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Sx&&(this.reconnectDelay_=ws),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*xx)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+qt.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(f){P(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(f)};this.realtime_={close:l,sendRequest:u};const h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,d]=await Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);o?Fe("getToken() completed but was canceled"):(Fe("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=d&&d.token,a=new px(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,g=>{qe(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(Cx)},i))}catch(f){this.log_("Failed to get token: "+f),o||(this.repoInfo_.nodeAdmin&&qe(f),l())}}}interrupt(e){Fe("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Fe("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Sf(this.interruptReasons_)&&(this.reconnectDelay_=ws,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(i=>Eu(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new ne(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){Fe("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Yf&&(this.reconnectDelay_=Gf,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Fe("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Yf&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+zm.replace(/\./g,"-")]=1,Am()?e["framework.cordova"]=1:n0()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=zo.getInstance().currentlyOnline();return Sf(this.interruptReasons_)&&e}}qt.nextPersistentConnectionId_=0;qt.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new K(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new K(Gr,e),s=new K(Gr,n);return this.compare(r,s)!==0}minPost(){return K.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ki;class dg extends gl{static get __EMPTY_NODE(){return Ki}static set __EMPTY_NODE(e){Ki=e}compare(e,n){return ar(e.name,n.name)}isDefinedOn(e){throw es("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return K.MIN}maxPost(){return new K(nr,Ki)}makePost(e,n){return P(typeof e=="string","KeyIndex indexValue must always be a string."),new K(e,Ki)}toString(){return".key"}}const Mr=new dg;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Oe{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Oe.RED,this.left=s??rt.EMPTY_NODE,this.right=i??rt.EMPTY_NODE}copy(e,n,r,s,i){return new Oe(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return rt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return rt.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Oe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Oe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Oe.RED=!0;Oe.BLACK=!1;class Ex{copy(e,n,r,s,i){return this}insert(e,n,r){return new Oe(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class rt{constructor(e,n=rt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new rt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Oe.BLACK,null,null))}remove(e){return new rt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Oe.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new qi(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new qi(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new qi(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new qi(this.root_,null,this.comparator_,!0,e)}}rt.EMPTY_NODE=new Ex;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(t,e){return ar(t.name,e.name)}function Au(t,e){return ar(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gc;function Nx(t){gc=t}const fg=function(t){return typeof t=="number"?"number:"+Vm(t):"string:"+t},hg=function(t){if(t.isLeafNode()){const e=t.val();P(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Bt(e,".sv"),"Priority must be a string or number.")}else P(t===gc||t.isEmpty(),"priority of unexpected type.");P(t===gc||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qf;class be{constructor(e,n=be.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,P(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),hg(this.priorityNode_)}static set __childrenNodeConstructor(e){Qf=e}static get __childrenNodeConstructor(){return Qf}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new be(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:be.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return q(e)?this:Q(e)===".priority"?this.priorityNode_:be.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:be.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Q(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(P(r!==".priority"||bn(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,be.__childrenNodeConstructor.EMPTY_NODE.updateChild(le(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+fg(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Vm(this.value_):e+=this.value_,this.lazyHash_=Um(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===be.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof be.__childrenNodeConstructor?-1:(P(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=be.VALUE_TYPE_ORDER.indexOf(n),i=be.VALUE_TYPE_ORDER.indexOf(r);return P(s>=0,"Unknown leaf type: "+n),P(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}be.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pg,mg;function Tx(t){pg=t}function Ix(t){mg=t}class Px extends gl{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?ar(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return K.MIN}maxPost(){return new K(nr,new be("[PRIORITY-POST]",mg))}makePost(e,n){const r=pg(e);return new K(n,new be("[PRIORITY-POST]",r))}toString(){return".priority"}}const xe=new Px;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=Math.log(2);class Ax{constructor(e){const n=i=>parseInt(Math.log(i)/Rx,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Bo=function(t,e,n,r){t.sort(e);const s=function(l,u){const h=u-l;let f,d;if(h===0)return null;if(h===1)return f=t[l],d=n?n(f):f,new Oe(d,f.node,Oe.BLACK,null,null);{const g=parseInt(h/2,10)+l,_=s(l,g),x=s(g+1,u);return f=t[g],d=n?n(f):f,new Oe(d,f.node,Oe.BLACK,_,x)}},i=function(l){let u=null,h=null,f=t.length;const d=function(_,x){const E=f-_,y=f;f-=_;const m=s(E+1,y),v=t[E],S=n?n(v):v;g(new Oe(S,v.node,x,null,m))},g=function(_){u?(u.left=_,u=_):(h=_,u=_)};for(let _=0;_<l.count;++_){const x=l.nextBitIsOne(),E=Math.pow(2,l.count-(_+1));x?d(E,Oe.BLACK):(d(E,Oe.BLACK),d(E,Oe.RED))}return h},o=new Ax(t.length),a=i(o);return new rt(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let la;const mr={};class Qt{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return P(mr&&xe,"ChildrenNode.ts has not been loaded"),la=la||new Qt({".priority":mr},{".priority":xe}),la}get(e){const n=Hr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof rt?n:null}hasIndex(e){return Bt(this.indexSet_,e.toString())}addIndex(e,n){P(e!==Mr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(K.Wrap);let o=i.getNext();for(;o;)s=s||e.isDefinedOn(o.node),r.push(o),o=i.getNext();let a;s?a=Bo(r,e.getCompare()):a=mr;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const h=Object.assign({},this.indexes_);return h[l]=a,new Qt(h,u)}addToIndexes(e,n){const r=Lo(this.indexes_,(s,i)=>{const o=Hr(this.indexSet_,i);if(P(o,"Missing index implementation for "+i),s===mr)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(K.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),Bo(a,o.getCompare())}else return mr;else{const a=n.get(e.name);let l=s;return a&&(l=l.remove(new K(e.name,a))),l.insert(e,e.node)}});return new Qt(r,this.indexSet_)}removeFromIndexes(e,n){const r=Lo(this.indexes_,s=>{if(s===mr)return s;{const i=n.get(e.name);return i?s.remove(new K(e.name,i)):s}});return new Qt(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xs;class U{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&hg(this.priorityNode_),this.children_.isEmpty()&&P(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return xs||(xs=new U(new rt(Au),null,Qt.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||xs}updatePriority(e){return this.children_.isEmpty()?this:new U(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?xs:n}}getChild(e){const n=Q(e);return n===null?this:this.getImmediateChild(n).getChild(le(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(P(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new K(e,n);let s,i;n.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));const o=s.isEmpty()?xs:this.priorityNode_;return new U(s,o,i)}}updateChild(e,n){const r=Q(e);if(r===null)return n;{P(Q(e)!==".priority"||bn(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(le(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(xe,(o,a)=>{n[o]=a.val(e),r++,i&&U.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):i=!1}),!e&&i&&s<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+fg(this.getPriority().val())+":"),this.forEachChild(xe,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":Um(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new K(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new K(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new K(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,K.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,K.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ki?-1:0}withIndex(e){if(e===Mr||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new U(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Mr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(xe),s=n.getIterator(xe);let i=r.getNext(),o=s.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=r.getNext(),o=s.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Mr?null:this.indexMap_.get(e.toString())}}U.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class jx extends U{constructor(){super(new rt(Au),U.EMPTY_NODE,Qt.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return U.EMPTY_NODE}isEmpty(){return!1}}const ki=new jx;Object.defineProperties(K,{MIN:{value:new K(Gr,U.EMPTY_NODE)},MAX:{value:new K(nr,ki)}});dg.__EMPTY_NODE=U.EMPTY_NODE;be.__childrenNodeConstructor=U;Nx(ki);Ix(ki);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx=!0;function Ie(t,e=null){if(t===null)return U.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),P(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new be(n,Ie(e))}if(!(t instanceof Array)&&bx){const n=[];let r=!1;if(Be(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Ie(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new K(o,l)))}}),n.length===0)return U.EMPTY_NODE;const i=Bo(n,kx,o=>o.name,Au);if(r){const o=Bo(n,xe.getCompare());return new U(i,Ie(e),new Qt({".priority":o},{".priority":xe}))}else return new U(i,Ie(e),Qt.Default)}else{let n=U.EMPTY_NODE;return Be(t,(r,s)=>{if(Bt(t,r)&&r.substring(0,1)!=="."){const i=Ie(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(Ie(e))}}Tx(Ie);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx extends gl{constructor(e){super(),this.indexPath_=e,P(!q(e)&&Q(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?ar(e.name,n.name):i}makePost(e,n){const r=Ie(e),s=U.EMPTY_NODE.updateChild(this.indexPath_,r);return new K(n,s)}maxPost(){const e=U.EMPTY_NODE.updateChild(this.indexPath_,ki);return new K(nr,e)}toString(){return ai(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox extends gl{compare(e,n){const r=e.node.compareTo(n.node);return r===0?ar(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return K.MIN}maxPost(){return K.MAX}makePost(e,n){const r=Ie(e);return new K(n,r)}toString(){return".value"}}const Lx=new Ox;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(t){return{type:"value",snapshotNode:t}}function Yr(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ci(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ui(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Mx(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e){this.index_=e}updateChild(e,n,r,s,i,o){P(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(s).equals(r.getChild(s))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(ci(n,a)):P(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Yr(n,r)):o.trackChildChange(ui(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(xe,(s,i)=>{n.hasChild(s)||r.trackChildChange(ci(s,i))}),n.isLeafNode()||n.forEachChild(xe,(s,i)=>{if(e.hasChild(s)){const o=e.getImmediateChild(s);o.equals(i)||r.trackChildChange(ui(s,i,o))}else r.trackChildChange(Yr(s,i))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?U.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e){this.indexedFilter_=new ju(e.getIndex()),this.index_=e.getIndex(),this.startPost_=di.getStartPost_(e),this.endPost_=di.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,s,i,o){return this.matches(new K(n,r))||(r=U.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,s,i,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=U.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(U.EMPTY_NODE);const i=this;return n.forEachChild(xe,(o,a)=>{i.matches(new K(o,a))||(s=s.updateImmediateChild(o,U.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new di(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,s,i,o){return this.rangedFilter_.matches(new K(n,r))||(r=U.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,s,i,o):this.fullLimitUpdateChild_(e,n,r,i,o)}updateFullNode(e,n,r){let s;if(n.isLeafNode()||n.isEmpty())s=U.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=U.EMPTY_NODE.withIndex(this.index_);let i;this.reverse_?i=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):i=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;i.hasNext()&&o<this.limit_;){const a=i.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))s=s.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(U.EMPTY_NODE);let i;this.reverse_?i=s.getReverseIterator(this.index_):i=s.getIterator(this.index_);let o=0;for(;i.hasNext();){const a=i.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:s=s.updateImmediateChild(a.name,U.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,s,i){let o;if(this.reverse_){const f=this.index_.getCompare();o=(d,g)=>f(g,d)}else o=this.index_.getCompare();const a=e;P(a.numChildren()===this.limit_,"");const l=new K(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),h=this.rangedFilter_.matches(l);if(a.hasChild(n)){const f=a.getImmediateChild(n);let d=s.getChildAfterChild(this.index_,u,this.reverse_);for(;d!=null&&(d.name===n||a.hasChild(d.name));)d=s.getChildAfterChild(this.index_,d,this.reverse_);const g=d==null?1:o(d,l);if(h&&!r.isEmpty()&&g>=0)return i!=null&&i.trackChildChange(ui(n,r,f)),a.updateImmediateChild(n,r);{i!=null&&i.trackChildChange(ci(n,f));const x=a.updateImmediateChild(n,U.EMPTY_NODE);return d!=null&&this.rangedFilter_.matches(d)?(i!=null&&i.trackChildChange(Yr(d.name,d.node)),x.updateImmediateChild(d.name,d.node)):x}}else return r.isEmpty()?e:h&&o(u,l)>=0?(i!=null&&(i.trackChildChange(ci(u.name,u.node)),i.trackChildChange(Yr(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,U.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=xe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return P(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return P(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Gr}hasEnd(){return this.endSet_}getIndexEndValue(){return P(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return P(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:nr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return P(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===xe}copy(){const e=new bu;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Wx(t){return t.loadsAllData()?new ju(t.getIndex()):t.hasLimit()?new Fx(t):new di(t)}function Kf(t){const e={};if(t.isDefault())return e;let n;if(t.index_===xe?n="$priority":t.index_===Lx?n="$value":t.index_===Mr?n="$key":(P(t.index_ instanceof Dx,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Pe(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Pe(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Pe(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Pe(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Pe(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function qf(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==xe&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo extends lg{constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=Ei("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(P(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=Uo.getListenId_(e,r),a={};this.listens_[o]=a;const l=Kf(e._queryParams);this.restRequest_(i+".json",l,(u,h)=>{let f=h;if(u===404&&(f=null,u=null),u===null&&this.onDataUpdate_(i,f,!1,r),Hr(this.listens_,o)===a){let d;u?u===401?d="permission_denied":d="rest_error:"+u:d="ok",s(d,null)}})}unlisten(e,n){const r=Uo.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Kf(e._queryParams),r=e._path.toString(),s=new xi;return this.restRequest_(r+".json",n,(i,o)=>{let a=o;i===404&&(a=null,i=null),i===null?(this.onDataUpdate_(r,a,!1,null),s.resolve(a)):s.reject(new Error(a))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+d0(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=si(a.responseText)}catch{qe("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&qe("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(){this.rootNode_=U.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $o(){return{value:null,children:new Map}}function yg(t,e,n){if(q(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Q(e);t.children.has(r)||t.children.set(r,$o());const s=t.children.get(r);e=le(e),yg(s,e,n)}}function yc(t,e,n){t.value!==null?n(e,t.value):Bx(t,(r,s)=>{const i=new ne(e.toString()+"/"+r);yc(s,i,n)})}function Bx(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Be(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xf=10*1e3,$x=30*1e3,Vx=5*60*1e3;class Hx{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Ux(e);const r=Xf+($x-Xf)*Math.random();Ms(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Be(e,(s,i)=>{i>0&&Bt(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),Ms(this.reportStats_.bind(this),Math.floor(Math.random()*2*Vx))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Pt||(Pt={}));function Du(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Ou(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Lu(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Pt.ACK_USER_WRITE,this.source=Du()}operationForChild(e){if(q(this.path)){if(this.affectedTree.value!=null)return P(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ne(e));return new Vo(ee(),n,this.revert)}}else return P(Q(this.path)===e,"operationForChild called for unrelated child."),new Vo(le(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,n){this.source=e,this.path=n,this.type=Pt.LISTEN_COMPLETE}operationForChild(e){return q(this.path)?new fi(this.source,ee()):new fi(this.source,le(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Pt.OVERWRITE}operationForChild(e){return q(this.path)?new rr(this.source,ee(),this.snap.getImmediateChild(e)):new rr(this.source,le(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Pt.MERGE}operationForChild(e){if(q(this.path)){const n=this.children.subtree(new ne(e));return n.isEmpty()?null:n.value?new rr(this.source,ee(),n.value):new Qr(this.source,ee(),n)}else return P(Q(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Qr(this.source,le(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(q(e))return this.isFullyInitialized()&&!this.filtered_;const n=Q(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Yx(t,e,n,r){const s=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(Mx(o.childName,o.snapshotNode))}),Ss(t,s,"child_removed",e,r,n),Ss(t,s,"child_added",e,r,n),Ss(t,s,"child_moved",i,r,n),Ss(t,s,"child_changed",e,r,n),Ss(t,s,"value",e,r,n),s}function Ss(t,e,n,r,s,i){const o=r.filter(a=>a.type===n);o.sort((a,l)=>Kx(t,a,l)),o.forEach(a=>{const l=Qx(t,a,i);s.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function Qx(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Kx(t,e,n){if(e.childName==null||n.childName==null)throw es("Should only compare child_ events.");const r=new K(e.childName,e.snapshotNode),s=new K(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(t,e){return{eventCache:t,serverCache:e}}function Fs(t,e,n,r){return yl(new Dn(e,n,r),t.serverCache)}function vg(t,e,n,r){return yl(t.eventCache,new Dn(e,n,r))}function Ho(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function sr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aa;const qx=()=>(aa||(aa=new rt(Dw)),aa);class ie{constructor(e,n=qx()){this.value=e,this.children=n}static fromObject(e){let n=new ie(null);return Be(e,(r,s)=>{n=n.set(new ne(r),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ee(),value:this.value};if(q(e))return null;{const r=Q(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(le(e),n);return i!=null?{path:we(new ne(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(q(e))return this;{const n=Q(e),r=this.children.get(n);return r!==null?r.subtree(le(e)):new ie(null)}}set(e,n){if(q(e))return new ie(n,this.children);{const r=Q(e),i=(this.children.get(r)||new ie(null)).set(le(e),n),o=this.children.insert(r,i);return new ie(this.value,o)}}remove(e){if(q(e))return this.children.isEmpty()?new ie(null):new ie(null,this.children);{const n=Q(e),r=this.children.get(n);if(r){const s=r.remove(le(e));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new ie(null):new ie(this.value,i)}else return this}}get(e){if(q(e))return this.value;{const n=Q(e),r=this.children.get(n);return r?r.get(le(e)):null}}setTree(e,n){if(q(e))return n;{const r=Q(e),i=(this.children.get(r)||new ie(null)).setTree(le(e),n);let o;return i.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,i),new ie(this.value,o)}}fold(e){return this.fold_(ee(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(we(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ee(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(q(e))return null;{const i=Q(e),o=this.children.get(i);return o?o.findOnPath_(le(e),we(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ee(),n)}foreachOnPath_(e,n,r){if(q(e))return this;{this.value&&r(n,this.value);const s=Q(e),i=this.children.get(s);return i?i.foreachOnPath_(le(e),we(n,s),r):new ie(null)}}foreach(e){this.foreach_(ee(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(we(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.writeTree_=e}static empty(){return new jt(new ie(null))}}function Ws(t,e,n){if(q(e))return new jt(new ie(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const o=Qe(s,e);return i=i.updateChild(o,n),new jt(t.writeTree_.set(s,i))}else{const s=new ie(n),i=t.writeTree_.setTree(e,s);return new jt(i)}}}function vc(t,e,n){let r=t;return Be(n,(s,i)=>{r=Ws(r,we(e,s),i)}),r}function Jf(t,e){if(q(e))return jt.empty();{const n=t.writeTree_.setTree(e,new ie(null));return new jt(n)}}function _c(t,e){return cr(t,e)!=null}function cr(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Qe(n.path,e)):null}function Zf(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(xe,(r,s)=>{e.push(new K(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new K(r,s.value))}),e}function Pn(t,e){if(q(e))return t;{const n=cr(t,e);return n!=null?new jt(new ie(n)):new jt(t.writeTree_.subtree(e))}}function wc(t){return t.writeTree_.isEmpty()}function Kr(t,e){return _g(ee(),t.writeTree_,e)}function _g(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?(P(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=_g(we(t,s),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(we(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vl(t,e){return Cg(e,t)}function Xx(t,e,n,r,s){P(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=Ws(t.visibleWrites,e,n)),t.lastWriteId=r}function Jx(t,e,n,r){P(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=vc(t.visibleWrites,e,n),t.lastWriteId=r}function Zx(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function eS(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);P(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,i=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&tS(a,r.path)?s=!1:_t(r.path,a.path)&&(i=!0)),o--}if(s){if(i)return nS(t),!0;if(r.snap)t.visibleWrites=Jf(t.visibleWrites,r.path);else{const a=r.children;Be(a,l=>{t.visibleWrites=Jf(t.visibleWrites,we(r.path,l))})}return!0}else return!1}function tS(t,e){if(t.snap)return _t(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&_t(we(t.path,n),e))return!0;return!1}function nS(t){t.visibleWrites=wg(t.allWrites,rS,ee()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function rS(t){return t.visible}function wg(t,e,n){let r=jt.empty();for(let s=0;s<t.length;++s){const i=t[s];if(e(i)){const o=i.path;let a;if(i.snap)_t(n,o)?(a=Qe(n,o),r=Ws(r,a,i.snap)):_t(o,n)&&(a=Qe(o,n),r=Ws(r,ee(),i.snap.getChild(a)));else if(i.children){if(_t(n,o))a=Qe(n,o),r=vc(r,a,i.children);else if(_t(o,n))if(a=Qe(o,n),q(a))r=vc(r,ee(),i.children);else{const l=Hr(i.children,Q(a));if(l){const u=l.getChild(le(a));r=Ws(r,ee(),u)}}}else throw es("WriteRecord should have .snap or .children")}}return r}function xg(t,e,n,r,s){if(!r&&!s){const i=cr(t.visibleWrites,e);if(i!=null)return i;{const o=Pn(t.visibleWrites,e);if(wc(o))return n;if(n==null&&!_c(o,ee()))return null;{const a=n||U.EMPTY_NODE;return Kr(o,a)}}}else{const i=Pn(t.visibleWrites,e);if(!s&&wc(i))return n;if(!s&&n==null&&!_c(i,ee()))return null;{const o=function(u){return(u.visible||s)&&(!r||!~r.indexOf(u.writeId))&&(_t(u.path,e)||_t(e,u.path))},a=wg(t.allWrites,o,e),l=n||U.EMPTY_NODE;return Kr(a,l)}}}function sS(t,e,n){let r=U.EMPTY_NODE;const s=cr(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(xe,(i,o)=>{r=r.updateImmediateChild(i,o)}),r;if(n){const i=Pn(t.visibleWrites,e);return n.forEachChild(xe,(o,a)=>{const l=Kr(Pn(i,new ne(o)),a);r=r.updateImmediateChild(o,l)}),Zf(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const i=Pn(t.visibleWrites,e);return Zf(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function iS(t,e,n,r,s){P(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=we(e,n);if(_c(t.visibleWrites,i))return null;{const o=Pn(t.visibleWrites,i);return wc(o)?s.getChild(n):Kr(o,s.getChild(n))}}function oS(t,e,n,r){const s=we(e,n),i=cr(t.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const o=Pn(t.visibleWrites,s);return Kr(o,r.getNode().getImmediateChild(n))}else return null}function lS(t,e){return cr(t.visibleWrites,e)}function aS(t,e,n,r,s,i,o){let a;const l=Pn(t.visibleWrites,e),u=cr(l,ee());if(u!=null)a=u;else if(n!=null)a=Kr(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const h=[],f=o.getCompare(),d=i?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let g=d.getNext();for(;g&&h.length<s;)f(g,r)!==0&&h.push(g),g=d.getNext();return h}else return[]}function cS(){return{visibleWrites:jt.empty(),allWrites:[],lastWriteId:-1}}function Go(t,e,n,r){return xg(t.writeTree,t.treePath,e,n,r)}function Mu(t,e){return sS(t.writeTree,t.treePath,e)}function eh(t,e,n,r){return iS(t.writeTree,t.treePath,e,n,r)}function Yo(t,e){return lS(t.writeTree,we(t.treePath,e))}function uS(t,e,n,r,s,i){return aS(t.writeTree,t.treePath,e,n,r,s,i)}function Fu(t,e,n){return oS(t.writeTree,t.treePath,e,n)}function Sg(t,e){return Cg(we(t.treePath,e),t.writeTree)}function Cg(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;P(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),P(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,ui(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,ci(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,Yr(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,ui(r,e.snapshotNode,s.oldSnap));else throw es("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const Eg=new fS;class Wu{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Dn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Fu(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:sr(this.viewCache_),i=uS(this.writes_,s,n,1,r,e);return i.length===0?null:i[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(t){return{filter:t}}function pS(t,e){P(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),P(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function mS(t,e,n,r,s){const i=new dS;let o,a;if(n.type===Pt.OVERWRITE){const u=n;u.source.fromUser?o=xc(t,e,u.path,u.snap,r,s,i):(P(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!q(u.path),o=Qo(t,e,u.path,u.snap,r,s,a,i))}else if(n.type===Pt.MERGE){const u=n;u.source.fromUser?o=yS(t,e,u.path,u.children,r,s,i):(P(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=Sc(t,e,u.path,u.children,r,s,a,i))}else if(n.type===Pt.ACK_USER_WRITE){const u=n;u.revert?o=wS(t,e,u.path,r,s,i):o=vS(t,e,u.path,u.affectedTree,r,s,i)}else if(n.type===Pt.LISTEN_COMPLETE)o=_S(t,e,n.path,r,i);else throw es("Unknown operation type: "+n.type);const l=i.getChanges();return gS(e,o,l),{viewCache:o,changes:l}}function gS(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=Ho(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(gg(Ho(e)))}}function kg(t,e,n,r,s,i){const o=e.eventCache;if(Yo(r,n)!=null)return e;{let a,l;if(q(n))if(P(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=sr(e),h=u instanceof U?u:U.EMPTY_NODE,f=Mu(r,h);a=t.filter.updateFullNode(e.eventCache.getNode(),f,i)}else{const u=Go(r,sr(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,i)}else{const u=Q(n);if(u===".priority"){P(bn(n)===1,"Can't have a priority with additional path components");const h=o.getNode();l=e.serverCache.getNode();const f=eh(r,n,h,l);f!=null?a=t.filter.updatePriority(h,f):a=o.getNode()}else{const h=le(n);let f;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const d=eh(r,n,o.getNode(),l);d!=null?f=o.getNode().getImmediateChild(u).updateChild(h,d):f=o.getNode().getImmediateChild(u)}else f=Fu(r,u,e.serverCache);f!=null?a=t.filter.updateChild(o.getNode(),u,f,h,s,i):a=o.getNode()}}return Fs(e,a,o.isFullyInitialized()||q(n),t.filter.filtersNodes())}}function Qo(t,e,n,r,s,i,o,a){const l=e.serverCache;let u;const h=o?t.filter:t.filter.getIndexedFilter();if(q(n))u=h.updateFullNode(l.getNode(),r,null);else if(h.filtersNodes()&&!l.isFiltered()){const g=l.getNode().updateChild(n,r);u=h.updateFullNode(l.getNode(),g,null)}else{const g=Q(n);if(!l.isCompleteForPath(n)&&bn(n)>1)return e;const _=le(n),E=l.getNode().getImmediateChild(g).updateChild(_,r);g===".priority"?u=h.updatePriority(l.getNode(),E):u=h.updateChild(l.getNode(),g,E,_,Eg,null)}const f=vg(e,u,l.isFullyInitialized()||q(n),h.filtersNodes()),d=new Wu(s,f,i);return kg(t,f,n,s,d,a)}function xc(t,e,n,r,s,i,o){const a=e.eventCache;let l,u;const h=new Wu(s,e,i);if(q(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Fs(e,u,!0,t.filter.filtersNodes());else{const f=Q(n);if(f===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=Fs(e,u,a.isFullyInitialized(),a.isFiltered());else{const d=le(n),g=a.getNode().getImmediateChild(f);let _;if(q(d))_=r;else{const x=h.getCompleteChild(f);x!=null?Iu(d)===".priority"&&x.getChild(cg(d)).isEmpty()?_=x:_=x.updateChild(d,r):_=U.EMPTY_NODE}if(g.equals(_))l=e;else{const x=t.filter.updateChild(a.getNode(),f,_,d,h,o);l=Fs(e,x,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function th(t,e){return t.eventCache.isCompleteForChild(e)}function yS(t,e,n,r,s,i,o){let a=e;return r.foreach((l,u)=>{const h=we(n,l);th(e,Q(h))&&(a=xc(t,a,h,u,s,i,o))}),r.foreach((l,u)=>{const h=we(n,l);th(e,Q(h))||(a=xc(t,a,h,u,s,i,o))}),a}function nh(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function Sc(t,e,n,r,s,i,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;q(n)?u=r:u=new ie(null).setTree(n,r);const h=e.serverCache.getNode();return u.children.inorderTraversal((f,d)=>{if(h.hasChild(f)){const g=e.serverCache.getNode().getImmediateChild(f),_=nh(t,g,d);l=Qo(t,l,new ne(f),_,s,i,o,a)}}),u.children.inorderTraversal((f,d)=>{const g=!e.serverCache.isCompleteForChild(f)&&d.value===null;if(!h.hasChild(f)&&!g){const _=e.serverCache.getNode().getImmediateChild(f),x=nh(t,_,d);l=Qo(t,l,new ne(f),x,s,i,o,a)}}),l}function vS(t,e,n,r,s,i,o){if(Yo(s,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(q(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Qo(t,e,n,l.getNode().getChild(n),s,i,a,o);if(q(n)){let u=new ie(null);return l.getNode().forEachChild(Mr,(h,f)=>{u=u.set(new ne(h),f)}),Sc(t,e,n,u,s,i,a,o)}else return e}else{let u=new ie(null);return r.foreach((h,f)=>{const d=we(n,h);l.isCompleteForPath(d)&&(u=u.set(h,l.getNode().getChild(d)))}),Sc(t,e,n,u,s,i,a,o)}}function _S(t,e,n,r,s){const i=e.serverCache,o=vg(e,i.getNode(),i.isFullyInitialized()||q(n),i.isFiltered());return kg(t,o,n,r,Eg,s)}function wS(t,e,n,r,s,i){let o;if(Yo(r,n)!=null)return e;{const a=new Wu(r,e,s),l=e.eventCache.getNode();let u;if(q(n)||Q(n)===".priority"){let h;if(e.serverCache.isFullyInitialized())h=Go(r,sr(e));else{const f=e.serverCache.getNode();P(f instanceof U,"serverChildren would be complete if leaf node"),h=Mu(r,f)}h=h,u=t.filter.updateFullNode(l,h,i)}else{const h=Q(n);let f=Fu(r,h,e.serverCache);f==null&&e.serverCache.isCompleteForChild(h)&&(f=l.getImmediateChild(h)),f!=null?u=t.filter.updateChild(l,h,f,le(n),a,i):e.eventCache.getNode().hasChild(h)?u=t.filter.updateChild(l,h,U.EMPTY_NODE,le(n),a,i):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Go(r,sr(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,i)))}return o=e.serverCache.isFullyInitialized()||Yo(r,ee())!=null,Fs(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,s=new ju(r.getIndex()),i=Wx(r);this.processor_=hS(i);const o=n.serverCache,a=n.eventCache,l=s.updateFullNode(U.EMPTY_NODE,o.getNode(),null),u=i.updateFullNode(U.EMPTY_NODE,a.getNode(),null),h=new Dn(l,o.isFullyInitialized(),s.filtersNodes()),f=new Dn(u,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=yl(f,h),this.eventGenerator_=new Gx(this.query_)}get query(){return this.query_}}function SS(t){return t.viewCache_.serverCache.getNode()}function CS(t){return Ho(t.viewCache_)}function ES(t,e){const n=sr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!q(e)&&!n.getImmediateChild(Q(e)).isEmpty())?n.getChild(e):null}function rh(t){return t.eventRegistrations_.length===0}function kS(t,e){t.eventRegistrations_.push(e)}function sh(t,e,n){const r=[];if(n){P(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(i=>{const o=i.createCancelEvent(n,s);o&&r.push(o)})}if(e){let s=[];for(let i=0;i<t.eventRegistrations_.length;++i){const o=t.eventRegistrations_[i];if(!o.matches(e))s.push(o);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(i+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function ih(t,e,n,r){e.type===Pt.MERGE&&e.source.queryId!==null&&(P(sr(t.viewCache_),"We should always have a full cache before handling merges"),P(Ho(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,i=mS(t.processor_,s,e,n,r);return pS(t.processor_,i.viewCache),P(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,Ng(t,i.changes,i.viewCache.eventCache.getNode(),null)}function NS(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(xe,(i,o)=>{r.push(Yr(i,o))}),n.isFullyInitialized()&&r.push(gg(n.getNode())),Ng(t,r,n.getNode(),e)}function Ng(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return Yx(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ko;class Tg{constructor(){this.views=new Map}}function TS(t){P(!Ko,"__referenceConstructor has already been defined"),Ko=t}function IS(){return P(Ko,"Reference.ts has not been loaded"),Ko}function PS(t){return t.views.size===0}function zu(t,e,n,r){const s=e.source.queryId;if(s!==null){const i=t.views.get(s);return P(i!=null,"SyncTree gave us an op for an invalid query."),ih(i,e,n,r)}else{let i=[];for(const o of t.views.values())i=i.concat(ih(o,e,n,r));return i}}function Ig(t,e,n,r,s){const i=e._queryIdentifier,o=t.views.get(i);if(!o){let a=Go(n,s?r:null),l=!1;a?l=!0:r instanceof U?(a=Mu(n,r),l=!1):(a=U.EMPTY_NODE,l=!1);const u=yl(new Dn(a,l,!1),new Dn(r,s,!1));return new xS(e,u)}return o}function RS(t,e,n,r,s,i){const o=Ig(t,e,r,s,i);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),kS(o,n),NS(o,n)}function AS(t,e,n,r){const s=e._queryIdentifier,i=[];let o=[];const a=On(t);if(s==="default")for(const[l,u]of t.views.entries())o=o.concat(sh(u,n,r)),rh(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||i.push(u.query));else{const l=t.views.get(s);l&&(o=o.concat(sh(l,n,r)),rh(l)&&(t.views.delete(s),l.query._queryParams.loadsAllData()||i.push(l.query)))}return a&&!On(t)&&i.push(new(IS())(e._repo,e._path)),{removed:i,events:o}}function Pg(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Rn(t,e){let n=null;for(const r of t.views.values())n=n||ES(r,e);return n}function Rg(t,e){if(e._queryParams.loadsAllData())return _l(t);{const r=e._queryIdentifier;return t.views.get(r)}}function Ag(t,e){return Rg(t,e)!=null}function On(t){return _l(t)!=null}function _l(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qo;function jS(t){P(!qo,"__referenceConstructor has already been defined"),qo=t}function bS(){return P(qo,"Reference.ts has not been loaded"),qo}let DS=1;class oh{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ie(null),this.pendingWriteTree_=cS(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function jg(t,e,n,r,s){return Xx(t.pendingWriteTree_,e,n,r,s),s?ns(t,new rr(Du(),e,n)):[]}function OS(t,e,n,r){Jx(t.pendingWriteTree_,e,n,r);const s=ie.fromObject(n);return ns(t,new Qr(Du(),e,s))}function vn(t,e,n=!1){const r=Zx(t.pendingWriteTree_,e);if(eS(t.pendingWriteTree_,e)){let i=new ie(null);return r.snap!=null?i=i.set(ee(),!0):Be(r.children,o=>{i=i.set(new ne(o),!0)}),ns(t,new Vo(r.path,i,n))}else return[]}function Ni(t,e,n){return ns(t,new rr(Ou(),e,n))}function LS(t,e,n){const r=ie.fromObject(n);return ns(t,new Qr(Ou(),e,r))}function MS(t,e){return ns(t,new fi(Ou(),e))}function FS(t,e,n){const r=Uu(t,n);if(r){const s=$u(r),i=s.path,o=s.queryId,a=Qe(i,e),l=new fi(Lu(o),a);return Vu(t,i,l)}else return[]}function Xo(t,e,n,r,s=!1){const i=e._path,o=t.syncPointTree_.get(i);let a=[];if(o&&(e._queryIdentifier==="default"||Ag(o,e))){const l=AS(o,e,n,r);PS(o)&&(t.syncPointTree_=t.syncPointTree_.remove(i));const u=l.removed;if(a=l.events,!s){const h=u.findIndex(d=>d._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(i,(d,g)=>On(g));if(h&&!f){const d=t.syncPointTree_.subtree(i);if(!d.isEmpty()){const g=BS(d);for(let _=0;_<g.length;++_){const x=g[_],E=x.query,y=Lg(t,x);t.listenProvider_.startListening(zs(E),hi(t,E),y.hashFn,y.onComplete)}}}!f&&u.length>0&&!r&&(h?t.listenProvider_.stopListening(zs(e),null):u.forEach(d=>{const g=t.queryToTagMap.get(wl(d));t.listenProvider_.stopListening(zs(d),g)}))}US(t,u)}return a}function bg(t,e,n,r){const s=Uu(t,r);if(s!=null){const i=$u(s),o=i.path,a=i.queryId,l=Qe(o,e),u=new rr(Lu(a),l,n);return Vu(t,o,u)}else return[]}function WS(t,e,n,r){const s=Uu(t,r);if(s){const i=$u(s),o=i.path,a=i.queryId,l=Qe(o,e),u=ie.fromObject(n),h=new Qr(Lu(a),l,u);return Vu(t,o,h)}else return[]}function Cc(t,e,n,r=!1){const s=e._path;let i=null,o=!1;t.syncPointTree_.foreachOnPath(s,(d,g)=>{const _=Qe(d,s);i=i||Rn(g,_),o=o||On(g)});let a=t.syncPointTree_.get(s);a?(o=o||On(a),i=i||Rn(a,ee())):(a=new Tg,t.syncPointTree_=t.syncPointTree_.set(s,a));let l;i!=null?l=!0:(l=!1,i=U.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((g,_)=>{const x=Rn(_,ee());x&&(i=i.updateImmediateChild(g,x))}));const u=Ag(a,e);if(!u&&!e._queryParams.loadsAllData()){const d=wl(e);P(!t.queryToTagMap.has(d),"View does not exist, but we have a tag");const g=$S();t.queryToTagMap.set(d,g),t.tagToQueryMap.set(g,d)}const h=vl(t.pendingWriteTree_,s);let f=RS(a,e,n,h,i,l);if(!u&&!o&&!r){const d=Rg(a,e);f=f.concat(VS(t,e,d))}return f}function Bu(t,e,n){const s=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Qe(o,e),u=Rn(a,l);if(u)return u});return xg(s,e,i,n,!0)}function zS(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(u,h)=>{const f=Qe(u,n);r=r||Rn(h,f)});let s=t.syncPointTree_.get(n);s?r=r||Rn(s,ee()):(s=new Tg,t.syncPointTree_=t.syncPointTree_.set(n,s));const i=r!=null,o=i?new Dn(r,!0,!1):null,a=vl(t.pendingWriteTree_,e._path),l=Ig(s,e,a,i?o.getNode():U.EMPTY_NODE,i);return CS(l)}function ns(t,e){return Dg(e,t.syncPointTree_,null,vl(t.pendingWriteTree_,ee()))}function Dg(t,e,n,r){if(q(t.path))return Og(t,e,n,r);{const s=e.get(ee());n==null&&s!=null&&(n=Rn(s,ee()));let i=[];const o=Q(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,h=Sg(r,o);i=i.concat(Dg(a,l,u,h))}return s&&(i=i.concat(zu(s,t,r,n))),i}}function Og(t,e,n,r){const s=e.get(ee());n==null&&s!=null&&(n=Rn(s,ee()));let i=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=Sg(r,o),h=t.operationForChild(o);h&&(i=i.concat(Og(h,a,l,u)))}),s&&(i=i.concat(zu(s,t,r,n))),i}function Lg(t,e){const n=e.query,r=hi(t,n);return{hashFn:()=>(SS(e)||U.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return r?FS(t,n._path,r):MS(t,n._path);{const i=Mw(s,n);return Xo(t,n,null,i)}}}}function hi(t,e){const n=wl(e);return t.queryToTagMap.get(n)}function wl(t){return t._path.toString()+"$"+t._queryIdentifier}function Uu(t,e){return t.tagToQueryMap.get(e)}function $u(t){const e=t.indexOf("$");return P(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ne(t.substr(0,e))}}function Vu(t,e,n){const r=t.syncPointTree_.get(e);P(r,"Missing sync point for query tag that we're tracking");const s=vl(t.pendingWriteTree_,e);return zu(r,n,s,null)}function BS(t){return t.fold((e,n,r)=>{if(n&&On(n))return[_l(n)];{let s=[];return n&&(s=Pg(n)),Be(r,(i,o)=>{s=s.concat(o)}),s}})}function zs(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(bS())(t._repo,t._path):t}function US(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const s=wl(r),i=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(i)}}}function $S(){return DS++}function VS(t,e,n){const r=e._path,s=hi(t,e),i=Lg(t,n),o=t.listenProvider_.startListening(zs(e),s,i.hashFn,i.onComplete),a=t.syncPointTree_.subtree(r);if(s)P(!On(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((u,h,f)=>{if(!q(u)&&h&&On(h))return[_l(h).query];{let d=[];return h&&(d=d.concat(Pg(h).map(g=>g.query))),Be(f,(g,_)=>{d=d.concat(_)}),d}});for(let u=0;u<l.length;++u){const h=l[u];t.listenProvider_.stopListening(zs(h),hi(t,h))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Hu(n)}node(){return this.node_}}class Gu{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=we(this.path_,e);return new Gu(this.syncTree_,n)}node(){return Bu(this.syncTree_,this.path_)}}const HS=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},lh=function(t,e,n){if(!t||typeof t!="object")return t;if(P(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return GS(t[".sv"],e,n);if(typeof t[".sv"]=="object")return YS(t[".sv"],e);P(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},GS=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:P(!1,"Unexpected server value: "+t)}},YS=function(t,e,n){t.hasOwnProperty("increment")||P(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&P(!1,"Unexpected increment value: "+r);const s=e.node();if(P(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return typeof o!="number"?r:o+r},Mg=function(t,e,n,r){return Yu(e,new Gu(n,t),r)},Fg=function(t,e,n){return Yu(t,new Hu(e),n)};function Yu(t,e,n){const r=t.getPriority().val(),s=lh(r,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,a=lh(o.getValue(),e,n);return a!==o.getValue()||s!==o.getPriority().val()?new be(a,Ie(s)):t}else{const o=t;return i=o,s!==o.getPriority().val()&&(i=i.updatePriority(new be(s))),o.forEachChild(xe,(a,l)=>{const u=Yu(l,e.getImmediateChild(a),n);u!==l&&(i=i.updateImmediateChild(a,u))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Ku(t,e){let n=e instanceof ne?e:new ne(e),r=t,s=Q(n);for(;s!==null;){const i=Hr(r.node.children,s)||{children:{},childCount:0};r=new Qu(s,r,i),n=le(n),s=Q(n)}return r}function rs(t){return t.node.value}function Wg(t,e){t.node.value=e,Ec(t)}function zg(t){return t.node.childCount>0}function QS(t){return rs(t)===void 0&&!zg(t)}function xl(t,e){Be(t.node.children,(n,r)=>{e(new Qu(n,t,r))})}function Bg(t,e,n,r){n&&e(t),xl(t,s=>{Bg(s,e,!0)})}function KS(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Ti(t){return new ne(t.parent===null?t.name:Ti(t.parent)+"/"+t.name)}function Ec(t){t.parent!==null&&qS(t.parent,t.name,t)}function qS(t,e,n){const r=QS(n),s=Bt(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,Ec(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,Ec(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS=/[\[\].#$\/\u0000-\u001F\u007F]/,JS=/[\[\].#$\u0000-\u001F\u007F]/,ca=10*1024*1024,qu=function(t){return typeof t=="string"&&t.length!==0&&!XS.test(t)},Ug=function(t){return typeof t=="string"&&t.length!==0&&!JS.test(t)},ZS=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Ug(t)},eC=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Cu(t)||t&&typeof t=="object"&&Bt(t,".sv")},$g=function(t,e,n,r){r&&e===void 0||Sl(pl(t,"value"),e,n)},Sl=function(t,e,n){const r=n instanceof ne?new yx(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Vn(r));if(typeof e=="function")throw new Error(t+"contains a function "+Vn(r)+" with contents = "+e.toString());if(Cu(e))throw new Error(t+"contains "+e.toString()+" "+Vn(r));if(typeof e=="string"&&e.length>ca/3&&ml(e)>ca)throw new Error(t+"contains a string greater than "+ca+" utf8 bytes "+Vn(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(Be(e,(o,a)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!qu(o)))throw new Error(t+" contains an invalid key ("+o+") "+Vn(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);vx(r,o),Sl(t,a,r),_x(r)}),s&&i)throw new Error(t+' contains ".value" child '+Vn(r)+" in addition to actual children.")}},tC=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const i=ai(r);for(let o=0;o<i.length;o++)if(!(i[o]===".priority"&&o===i.length-1)){if(!qu(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(gx);let s=null;for(n=0;n<e.length;n++){if(r=e[n],s!==null&&_t(s,r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}},nC=function(t,e,n,r){const s=pl(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(s+" must be an object containing the children to replace.");const i=[];Be(e,(o,a)=>{const l=new ne(o);if(Sl(s,a,we(n,l)),Iu(l)===".priority"&&!eC(a))throw new Error(s+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");i.push(l)}),tC(s,i)},Vg=function(t,e,n,r){if(!Ug(n))throw new Error(pl(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},rC=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Vg(t,e,n)},Hg=function(t,e){if(Q(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},sC=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!qu(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!ZS(n))throw new Error(pl(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Cl(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();n!==null&&!Pu(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&t.eventLists_.push(n)}function Gg(t,e,n){Cl(t,n),Yg(t,r=>Pu(r,e))}function Ct(t,e,n){Cl(t,n),Yg(t,r=>_t(r,e)||_t(e,r))}function Yg(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const i=s.path;e(i)?(oC(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function oC(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Ls&&Fe("event: "+n.toString()),ts(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="repo_interrupt",aC=25;class cC{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new iC,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=$o(),this.transactionQueueTree_=new Qu,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function uC(t,e,n){if(t.stats_=Nu(t.repoInfo_),t.forceRestClient_||Bw())t.server_=new Uo(t.repoInfo_,(r,s,i,o)=>{ah(t,r,s,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>ch(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Pe(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new qt(t.repoInfo_,e,(r,s,i,o)=>{ah(t,r,s,i,o)},r=>{ch(t,r)},r=>{dC(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Gw(t.repoInfo_,()=>new Hx(t.stats_,t.server_)),t.infoData_=new zx,t.infoSyncTree_=new oh({startListening:(r,s,i,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Ni(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Xu(t,"connected",!1),t.serverSyncTree_=new oh({startListening:(r,s,i,o)=>(t.server_.listen(r,i,s,(a,l)=>{const u=o(a,l);Ct(t.eventQueue_,r._path,u)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function Qg(t){const n=t.infoData_.getNode(new ne(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function El(t){return HS({timestamp:Qg(t)})}function ah(t,e,n,r,s){t.dataUpdateCount++;const i=new ne(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(r){const l=Lo(n,u=>Ie(u));o=WS(t.serverSyncTree_,i,l,s)}else{const l=Ie(n);o=bg(t.serverSyncTree_,i,l,s)}else if(r){const l=Lo(n,u=>Ie(u));o=LS(t.serverSyncTree_,i,l)}else{const l=Ie(n);o=Ni(t.serverSyncTree_,i,l)}let a=i;o.length>0&&(a=qr(t,i)),Ct(t.eventQueue_,a,o)}function ch(t,e){Xu(t,"connected",e),e===!1&&mC(t)}function dC(t,e){Be(e,(n,r)=>{Xu(t,n,r)})}function Xu(t,e,n){const r=new ne("/.info/"+e),s=Ie(n);t.infoData_.updateSnapshot(r,s);const i=Ni(t.infoSyncTree_,r,s);Ct(t.eventQueue_,r,i)}function Ju(t){return t.nextWriteId_++}function fC(t,e,n){const r=zS(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(s=>{const i=Ie(s).withIndex(e._queryParams.getIndex());Cc(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Ni(t.serverSyncTree_,e._path,i);else{const a=hi(t.serverSyncTree_,e);o=bg(t.serverSyncTree_,e._path,i,a)}return Ct(t.eventQueue_,e._path,o),Xo(t.serverSyncTree_,e,n,null,!0),i},s=>(Ii(t,"get for query "+Pe(e)+" failed: "+s),Promise.reject(new Error(s))))}function hC(t,e,n,r,s){Ii(t,"set",{path:e.toString(),value:n,priority:r});const i=El(t),o=Ie(n,r),a=Bu(t.serverSyncTree_,e),l=Fg(o,a,i),u=Ju(t),h=jg(t.serverSyncTree_,e,l,u,!0);Cl(t.eventQueue_,h),t.server_.put(e.toString(),o.val(!0),(d,g)=>{const _=d==="ok";_||qe("set at "+e+" failed: "+d);const x=vn(t.serverSyncTree_,u,!_);Ct(t.eventQueue_,e,x),kc(t,s,d,g)});const f=ed(t,e);qr(t,f),Ct(t.eventQueue_,f,[])}function pC(t,e,n,r){Ii(t,"update",{path:e.toString(),value:n});let s=!0;const i=El(t),o={};if(Be(n,(a,l)=>{s=!1,o[a]=Mg(we(e,a),Ie(l),t.serverSyncTree_,i)}),s)Fe("update() called with empty data.  Don't do anything."),kc(t,r,"ok",void 0);else{const a=Ju(t),l=OS(t.serverSyncTree_,e,o,a);Cl(t.eventQueue_,l),t.server_.merge(e.toString(),n,(u,h)=>{const f=u==="ok";f||qe("update at "+e+" failed: "+u);const d=vn(t.serverSyncTree_,a,!f),g=d.length>0?qr(t,e):e;Ct(t.eventQueue_,g,d),kc(t,r,u,h)}),Be(n,u=>{const h=ed(t,we(e,u));qr(t,h)}),Ct(t.eventQueue_,e,[])}}function mC(t){Ii(t,"onDisconnectEvents");const e=El(t),n=$o();yc(t.onDisconnect_,ee(),(s,i)=>{const o=Mg(s,i,t.serverSyncTree_,e);yg(n,s,o)});let r=[];yc(n,ee(),(s,i)=>{r=r.concat(Ni(t.serverSyncTree_,s,i));const o=ed(t,s);qr(t,o)}),t.onDisconnect_=$o(),Ct(t.eventQueue_,ee(),r)}function gC(t,e,n){let r;Q(e._path)===".info"?r=Cc(t.infoSyncTree_,e,n):r=Cc(t.serverSyncTree_,e,n),Gg(t.eventQueue_,e._path,r)}function yC(t,e,n){let r;Q(e._path)===".info"?r=Xo(t.infoSyncTree_,e,n):r=Xo(t.serverSyncTree_,e,n),Gg(t.eventQueue_,e._path,r)}function vC(t){t.persistentConnection_&&t.persistentConnection_.interrupt(lC)}function Ii(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Fe(n,...e)}function kc(t,e,n,r){e&&ts(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let i=s;r&&(i+=": "+r);const o=new Error(i);o.code=s,e(o)}})}function Kg(t,e,n){return Bu(t.serverSyncTree_,e,n)||U.EMPTY_NODE}function Zu(t,e=t.transactionQueueTree_){if(e||kl(t,e),rs(e)){const n=Xg(t,e);P(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&_C(t,Ti(e),n)}else zg(e)&&xl(e,n=>{Zu(t,n)})}function _C(t,e,n){const r=n.map(u=>u.currentWriteId),s=Kg(t,e,r);let i=s;const o=s.hash();for(let u=0;u<n.length;u++){const h=n[u];P(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const f=Qe(e,h.path);i=i.updateChild(f,h.currentOutputSnapshotRaw)}const a=i.val(!0),l=e;t.server_.put(l.toString(),a,u=>{Ii(t,"transaction put response",{path:l.toString(),status:u});let h=[];if(u==="ok"){const f=[];for(let d=0;d<n.length;d++)n[d].status=2,h=h.concat(vn(t.serverSyncTree_,n[d].currentWriteId)),n[d].onComplete&&f.push(()=>n[d].onComplete(null,!0,n[d].currentOutputSnapshotResolved)),n[d].unwatcher();kl(t,Ku(t.transactionQueueTree_,e)),Zu(t,t.transactionQueueTree_),Ct(t.eventQueue_,e,h);for(let d=0;d<f.length;d++)ts(f[d])}else{if(u==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{qe("transaction at "+l.toString()+" failed: "+u);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=u}qr(t,e)}},o)}function qr(t,e){const n=qg(t,e),r=Ti(n),s=Xg(t,n);return wC(t,s,r),r}function wC(t,e,n){if(e.length===0)return;const r=[];let s=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=Qe(n,l.path);let h=!1,f;if(P(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)h=!0,f=l.abortReason,s=s.concat(vn(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=aC)h=!0,f="maxretry",s=s.concat(vn(t.serverSyncTree_,l.currentWriteId,!0));else{const d=Kg(t,l.path,o);l.currentInputSnapshot=d;const g=e[a].update(d.val());if(g!==void 0){Sl("transaction failed: Data returned ",g,l.path);let _=Ie(g);typeof g=="object"&&g!=null&&Bt(g,".priority")||(_=_.updatePriority(d.getPriority()));const E=l.currentWriteId,y=El(t),m=Fg(_,d,y);l.currentOutputSnapshotRaw=_,l.currentOutputSnapshotResolved=m,l.currentWriteId=Ju(t),o.splice(o.indexOf(E),1),s=s.concat(jg(t.serverSyncTree_,l.path,m,l.currentWriteId,l.applyLocally)),s=s.concat(vn(t.serverSyncTree_,E,!0))}else h=!0,f="nodata",s=s.concat(vn(t.serverSyncTree_,l.currentWriteId,!0))}Ct(t.eventQueue_,n,s),s=[],h&&(e[a].status=2,function(d){setTimeout(d,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(f==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(f),!1,null))))}kl(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)ts(r[a]);Zu(t,t.transactionQueueTree_)}function qg(t,e){let n,r=t.transactionQueueTree_;for(n=Q(e);n!==null&&rs(r)===void 0;)r=Ku(r,n),e=le(e),n=Q(e);return r}function Xg(t,e){const n=[];return Jg(t,e,n),n.sort((r,s)=>r.order-s.order),n}function Jg(t,e,n){const r=rs(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);xl(e,s=>{Jg(t,s,n)})}function kl(t,e){const n=rs(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,Wg(e,n.length>0?n:void 0)}xl(e,r=>{kl(t,r)})}function ed(t,e){const n=Ti(qg(t,e)),r=Ku(t.transactionQueueTree_,e);return KS(r,s=>{ua(t,s)}),ua(t,r),Bg(r,s=>{ua(t,s)}),n}function ua(t,e){const n=rs(e);if(n){const r=[];let s=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(P(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):(P(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(vn(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?Wg(e,void 0):n.length=i+1,Ct(t.eventQueue_,Ti(e),s);for(let o=0;o<r.length;o++)ts(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function SC(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):qe(`Invalid query segment '${n}' in query '${t}'`)}return e}const uh=function(t,e){const n=CC(t),r=n.namespace;n.domain==="firebase.com"&&nn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&nn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||jw();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new eg(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new ne(n.pathString)}},CC=function(t){let e="",n="",r="",s="",i="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let h=t.indexOf("/");h===-1&&(h=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(h,f)),h<f&&(s=xC(t.substring(h,f)));const d=SC(t.substring(Math.min(t.length,f)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const g=e.slice(0,u);if(g.toLowerCase()==="localhost")n="localhost";else if(g.split(".").length<=2)n=g;else{const _=e.indexOf(".");r=e.substring(0,_).toLowerCase(),n=e.substring(_+1),i=r}"ns"in d&&(i=d.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",EC=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let s;const i=new Array(8);for(s=7;s>=0;s--)i[s]=dh.charAt(n%64),n=Math.floor(n/64);P(n===0,"Cannot push at time == 0");let o=i.join("");if(r){for(s=11;s>=0&&e[s]===63;s--)e[s]=0;e[s]++}else for(s=0;s<12;s++)e[s]=Math.floor(Math.random()*64);for(s=0;s<12;s++)o+=dh.charAt(e[s]);return P(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,n,r,s){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Pe(this.snapshot.exportVal())}}class NC{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return P(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return q(this._path)?null:Iu(this._path)}get ref(){return new sn(this._repo,this._path)}get _queryIdentifier(){const e=qf(this._queryParams),n=Eu(e);return n==="{}"?"default":n}get _queryObject(){return qf(this._queryParams)}isEqual(e){if(e=lr(e),!(e instanceof td))return!1;const n=this._repo===e._repo,r=Pu(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+mx(this._path)}}class sn extends td{constructor(e,n){super(e,n,new bu,!1)}get parent(){const e=cg(this._path);return e===null?null:new sn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class pi{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new ne(e),r=mi(this.ref,e);return new pi(this._node.getChild(n),r,xe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,s)=>e(new pi(s,mi(this.ref,r),xe)))}hasChild(e){const n=new ne(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function re(t,e){return t=lr(t),t._checkNotDeleted("ref"),e!==void 0?mi(t._root,e):t._root}function mi(t,e){return t=lr(t),Q(t._path)===null?rC("child","path",e):Vg("child","path",e),new sn(t._repo,we(t._path,e))}function da(t,e){t=lr(t),Hg("push",t._path),$g("push",e,t._path,!0);const n=Qg(t._repo),r=EC(n),s=mi(t,r),i=mi(t,r);let o;return e!=null?o=mt(i,e).then(()=>i):o=Promise.resolve(i),s.then=o.then.bind(o),s.catch=o.then.bind(o,void 0),s}function mt(t,e){t=lr(t),Hg("set",t._path),$g("set",e,t._path,!1);const n=new xi;return hC(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function TC(t,e){nC("update",e,t._path);const n=new xi;return pC(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function fa(t){t=lr(t);const e=new Zg(()=>{}),n=new Nl(e);return fC(t._repo,t,n).then(r=>new pi(r,new sn(t._repo,t._path),t._queryParams.getIndex()))}class Nl{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new kC("value",this,new pi(e.snapshotNode,new sn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new NC(this,e,n):null}matches(e){return e instanceof Nl?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function IC(t,e,n,r,s){const i=new Zg(n,void 0),o=new Nl(i);return gC(t._repo,t,o),()=>yC(t._repo,t,o)}function cn(t,e,n,r){return IC(t,"value",e)}TS(sn);jS(sn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC="FIREBASE_DATABASE_EMULATOR_HOST",Nc={};let RC=!1;function AC(t,e,n,r){t.repoInfo_=new eg(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function jC(t,e,n,r,s){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||nn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Fe("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=uh(i,s),a=o.repoInfo,l;typeof process<"u"&&jf&&(l=jf[PC]),l?(i=`http://${l}?ns=${a.namespace}`,o=uh(i,s),a=o.repoInfo):o.repoInfo.secure;const u=new $w(t.name,t.options,e);sC("Invalid Firebase Database URL",o),q(o.path)||nn("Database URL must point to the root of a Firebase Database (not including a child path).");const h=DC(a,t,u,new Uw(t.name,n));return new OC(h,t)}function bC(t,e){const n=Nc[e];(!n||n[t.key]!==t)&&nn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),vC(t),delete n[t.key]}function DC(t,e,n,r){let s=Nc[e.name];s||(s={},Nc[e.name]=s);let i=s[t.toURLString()];return i&&nn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new cC(t,RC,n,r),s[t.toURLString()]=i,i}class OC{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(uC(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new sn(this._repo,ee())),this._rootInternal}_delete(){return this._rootInternal!==null&&(bC(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&nn("Cannot call "+e+" on a deleted database.")}}function LC(t=pw(),e){const n=uw(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=Z_("database");r&&MC(n,...r)}return n}function MC(t,e,n,r={}){t=lr(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&nn("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let i;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&nn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),i=new co(co.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:e0(r.mockUserToken,t.app.options.projectId);i=new co(o)}AC(s,e,n,i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(t){Nw(hw),Fo(new ii("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return jC(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),Or(bf,Df,t),Or(bf,Df,"esm2017")}qt.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};qt.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};FC();function WC({allPicks:t,actualScores:e,currentWeek:n,playerName:r,playerCode:s,isPoolManager:i,onLogout:o}){const a=(g,_,x)=>{if(!g||!_||!_[x])return 0;let E=0;const y=_[x];return Object.keys(g).forEach(m=>{const v=g[m],S=y[m];if(!v||!S)return;const k=parseInt(v.team1),N=parseInt(v.team2),I=parseInt(S.team1),R=parseInt(S.team2);if(isNaN(k)||isNaN(N)||isNaN(I)||isNaN(R))return;const B=k>N?"team1":N>k?"team2":"tie",z=I>R?"team1":R>I?"team2":"tie";B===z&&z!=="tie"&&E++}),E},l=(g,_,x)=>{if(!g||!_||!_[x])return null;let E=0,y=0;const m=_[x];return Object.keys(g).forEach(v=>{const S=g[v],k=m[v];if(!S||!k)return;const N=parseInt(S.team1),I=parseInt(S.team2),R=parseInt(k.team1),B=parseInt(k.team2);isNaN(N)||isNaN(I)||isNaN(R)||isNaN(B)||(E+=N+I,y+=R+B)}),Math.abs(E-y)},u=(g,_,x)=>{let E=0,y=0;return x.forEach(m=>{const v=g[m];if(v){E+=a(v,_,m);const S=l(v,_,m);S!==null&&(y+=S)}}),{correctWinners:E,pointsDifference:y}},h={wildcard:"Week 1",divisional:"Week 2",conference:"Week 3",superbowl:"Week 4"},f=W.useMemo(()=>{const g={};return t.forEach(_=>{const x=_.playerName;g[x]||(g[x]={wildcard:null,divisional:null,conference:null,superbowl:null}),g[x][_.week]=_.predictions}),g},[t]),d=W.useMemo(()=>{const g=[],_=["wildcard","divisional","conference","superbowl"];_.slice(0,3).forEach((S,k)=>{const N=h[S],I=Object.entries(f).map(([B,z])=>({playerName:B,score:a(z[S],e,S)})).filter(B=>B.score>0).sort((B,z)=>z.score-B.score);g.push({prizeNumber:k*2+1,name:`${N} - Most Correct Winners`,week:S,type:"correctWinners",leaders:I.slice(0,5)});const R=Object.entries(f).map(([B,z])=>({playerName:B,score:l(z[S],e,S)})).filter(B=>B.score!==null).sort((B,z)=>B.score-z.score);g.push({prizeNumber:k*2+2,name:`${N} - Closest Total Points`,week:S,type:"pointsDifference",leaders:R.slice(0,5)})});const x="superbowl",E=Object.entries(f).map(([S,k])=>({playerName:S,score:a(k[x],e,x)})).filter(S=>S.score>0).sort((S,k)=>k.score-S.score);g.push({prizeNumber:7,name:"Week 4 - Most Correct Winners",week:x,type:"correctWinners",leaders:E.slice(0,5)});const y=Object.entries(f).map(([S,k])=>({playerName:S,score:l(k[x],e,x)})).filter(S=>S.score!==null).sort((S,k)=>S.score-k.score);g.push({prizeNumber:8,name:"Week 4 - Closest Total Points",week:x,type:"pointsDifference",leaders:y.slice(0,5)});const m=Object.entries(f).map(([S,k])=>{const N=u(k,e,_);return{playerName:S,score:N.correctWinners}}).filter(S=>S.score>0).sort((S,k)=>k.score-S.score);g.push({prizeNumber:9,name:"Cumulative (All 4 Weeks) - Most Correct Winners",week:"all",type:"correctWinners",leaders:m.slice(0,5)});const v=Object.entries(f).map(([S,k])=>{const N=u(k,e,_);return{playerName:S,score:N.pointsDifference}}).filter(S=>S.score!==null&&S.score>=0).sort((S,k)=>S.score-k.score);return g.push({prizeNumber:10,name:"Cumulative (All 4 Weeks) - Closest Total Points",week:"all",type:"pointsDifference",leaders:v.slice(0,5)}),g},[f,e]);return c.jsx("div",{className:"standings-page",children:c.jsxs("div",{className:"container",children:[c.jsxs("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"20px",borderRadius:"8px",marginBottom:"20px",color:"white"},children:[c.jsx("div",{style:{fontSize:"0.9rem",marginBottom:"5px"},children:" VERIFIED"}),c.jsxs("div",{style:{fontSize:"1.2rem",fontWeight:"bold",marginBottom:"5px"},children:["Viewing as: ",r]}),i&&c.jsx("div",{style:{fontSize:"0.9rem",marginBottom:"10px",color:"#ffd700",fontWeight:"600"},children:" POOL MANAGER"}),c.jsx("button",{onClick:o,style:{background:"white",color:"#764ba2",border:"none",padding:"10px 20px",borderRadius:"6px",fontSize:"0.95rem",fontWeight:"600",cursor:"pointer",marginTop:"10px",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:" Logout / Switch Entry"}),c.jsx("p",{style:{fontSize:"0.85rem",marginTop:"10px",opacity:.9,fontStyle:"italic"},children:" Playing with multiple entries? Logout to switch between your codes."})]}),c.jsx("h1",{className:"standings-title",children:" Standings & Prize Leaders"}),c.jsx("div",{className:"prizes-grid",children:d.map(g=>c.jsxs("div",{className:"prize-card",children:[c.jsxs("div",{className:"prize-header",children:[c.jsxs("div",{className:"prize-number",children:["Prize #",g.prizeNumber]}),c.jsx("div",{className:"prize-name",children:g.name})]}),c.jsx("div",{className:"prize-leaders",children:g.leaders.length===0?c.jsx("div",{className:"no-data",children:"No data available yet"}):c.jsxs("table",{className:"leaders-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Rank"}),c.jsx("th",{children:"Player"}),c.jsx("th",{children:g.type==="correctWinners"?"Correct":"Difference"})]})}),c.jsx("tbody",{children:g.leaders.map((_,x)=>{const E=x>0&&_.score===g.leaders[x-1].score,y=E?"=":x+1;return c.jsxs("tr",{className:x===0&&!E?"leader-first":"",children:[c.jsx("td",{className:"rank",children:y}),c.jsx("td",{className:"player-name",children:_.playerName}),c.jsx("td",{className:"score",children:g.type==="correctWinners"?`${_.score} correct`:`${_.score} pts`})]},x)})})]})})]},g.prizeNumber))}),c.jsx("div",{className:"standings-note",children:c.jsxs("p",{children:[c.jsx("strong",{children:"Note:"}),' Tied players are shown with "=" rank. Pool Manager will resolve ties manually using Excel if needed for prize distribution.']})})]})})}function zC({currentWeek:t,games:e,actualScores:n,teamCodes:r,onScoresFetched:s,onGameLockToggle:i,gameLocks:o,espnAutoRefresh:a}){const[l,u]=W.useState(!1),[h,f]=W.useState(null),[d,g]=W.useState(null),[_,x]=W.useState(!1),[E,y]=W.useState(!1),m=async()=>{if(!(l||E)){u(!0),g({type:"loading",message:"Fetching scores from ESPN..."});try{await s(),f(new Date),g({type:"success",message:"Scores updated successfully!"}),setTimeout(()=>g(null),3e3)}catch(I){g({type:"error",message:`Error: ${I.message}`})}finally{u(!1)}}},v=()=>{_?(a.stop(),x(!1),g({type:"info",message:"Auto-refresh stopped"})):(a.start(),x(!0),g({type:"info",message:"Auto-refresh started (every 5 minutes)"})),setTimeout(()=>g(null),3e3)},S=()=>{E?(y(!1),g({type:"info",message:"API resumed - fetching enabled"})):(y(!0),_&&(a.stop(),x(!1)),g({type:"warning",message:"API paused - all fetching disabled"})),setTimeout(()=>g(null),3e3)},k=I=>{var R;return((R=o==null?void 0:o[t])==null?void 0:R[I])===!0},N=I=>{var R,B;return((B=(R=n==null?void 0:n[t])==null?void 0:R[I])==null?void 0:B.source)==="espn"};return c.jsxs("div",{className:"espn-controls",children:[c.jsxs("div",{className:"espn-header",children:[c.jsx("h3",{children:" ESPN API Controls"}),c.jsxs("div",{className:"espn-status-badges",children:[E&&c.jsx("span",{className:"status-badge paused",children:" API PAUSED"}),_&&!E&&c.jsx("span",{className:"status-badge active",children:" AUTO-REFRESH ON"}),h&&c.jsxs("span",{className:"status-badge info",children:["Last fetch: ",h.toLocaleTimeString()]})]})]}),c.jsxs("div",{className:"espn-global-controls",children:[c.jsx("button",{className:"espn-btn fetch-now",onClick:m,disabled:l||E,children:l?" Fetching...":" Fetch Scores Now"}),c.jsx("button",{className:`espn-btn auto-refresh ${_?"active":""}`,onClick:v,disabled:E,children:_?" Stop Auto-Refresh":" Start Auto-Refresh (5 min)"}),c.jsx("button",{className:`espn-btn pause-api ${E?"paused":""}`,onClick:S,children:E?" Resume API":" Pause API"})]}),d&&c.jsx("div",{className:`fetch-status ${d.type}`,children:d.message}),c.jsxs("div",{className:"game-overrides",children:[c.jsx("h4",{children:"Game Override Controls"}),c.jsxs("p",{className:"override-info",children:[" Lock = Manual entry only (ignore API)",c.jsx("br",{})," Unlock = Auto-update from ESPN API"]}),c.jsx("div",{className:"game-override-list",children:e.map(I=>{var Dt,ur,dr,Ot,ht;const R=k(I.id),B=N(I.id),z=(Dt=n==null?void 0:n[t])==null?void 0:Dt[I.id],Ue=((dr=(ur=r==null?void 0:r[t])==null?void 0:ur[I.id])==null?void 0:dr.team1)||I.team1,Ut=((ht=(Ot=r==null?void 0:r[t])==null?void 0:Ot[I.id])==null?void 0:ht.team2)||I.team2;return c.jsxs("div",{className:"game-override-item",children:[c.jsxs("div",{className:"game-info",children:[c.jsxs("span",{className:"game-matchup",children:[Ue," vs ",Ut]}),z&&c.jsxs("span",{className:"game-scores",children:[n[t][I.id].team1," - ",n[t][I.id].team2]})]}),c.jsxs("div",{className:"game-status-badges",children:[B&&!R&&c.jsx("span",{className:"game-badge api",children:" From API"}),R&&c.jsx("span",{className:"game-badge manual",children:" Manual Entry"}),!z&&c.jsx("span",{className:"game-badge no-score",children:"No Score"})]}),c.jsx("button",{className:`lock-btn ${R?"locked":"unlocked"}`,onClick:()=>i(I.id),title:R?"Unlock to allow API updates":"Lock to prevent API updates",children:R?" Locked":" Unlocked"})]},I.id)})})]}),c.jsxs("div",{className:"espn-help",children:[c.jsx("h4",{children:" How It Works:"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Fetch Now:"})," Manually fetch latest scores from ESPN"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Auto-Refresh:"})," Automatically fetch every 5 minutes"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Pause API:"})," Stop all API fetching (use manual entry only)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Lock Game:"})," Prevent API from overwriting your manual score for that game"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Unlock Game:"})," Allow API to update score automatically"]})]}),c.jsxs("p",{className:"help-note",children:[c.jsx("strong",{children:"Tip:"})," Lock a game if you need to manually correct a score that ESPN has wrong."]})]})]})}const BC="https://site.api.espn.com/apis/site/v2/sports/football/nfl";async function UC(){try{const t=await fetch(`${BC}/scoreboard`);if(!t.ok)throw new Error(`ESPN API error: ${t.status}`);const e=await t.json();return $C(e)}catch(t){return console.error("Error fetching ESPN scores:",t),{success:!1,error:t.message,games:[]}}}function $C(t){return!t.events||t.events.length===0?{success:!0,games:[],message:"No games currently available"}:{success:!0,games:t.events.map(n=>{const r=n.competitions[0],s=r.status,i=r.competitors,o=i.find(_=>_.homeAway==="away"),a=i.find(_=>_.homeAway==="home"),l=o.team.abbreviation,u=a.team.abbreviation,h=parseInt(o.score)||0,f=parseInt(a.score)||0,d=VC(s);return{espnGameId:n.id,awayTeam:{abbreviation:l,fullName:o.team.displayName,score:h},homeTeam:{abbreviation:u,fullName:a.team.displayName,score:f},status:d.status,statusText:d.text,period:d.period,clock:d.clock,isFinal:d.isFinal,isLive:d.isLive,isScheduled:d.isScheduled,startTime:n.date,lastUpdated:new Date().toISOString()}}),fetchedAt:new Date().toISOString()}}function VC(t){const e=t.type.name,n=t.period,r=t.displayClock,s=t.type.detail;let i="scheduled",o=s,a=!1,l=!1,u=!1;return e==="STATUS_SCHEDULED"?(i="scheduled",o="Scheduled",u=!0):e==="STATUS_IN_PROGRESS"?(i="live",a=!0,n===1?o=`1st Quarter - ${r}`:n===2?o=`2nd Quarter - ${r}`:n===3?o=`3rd Quarter - ${r}`:n===4?o=`4th Quarter - ${r}`:n>4&&(o=`OT ${n-4} - ${r}`)):e==="STATUS_HALFTIME"?(i="halftime",o="Halftime",a=!0):e==="STATUS_END_PERIOD"?(i="live",o=`End of ${n===1?"1st":n===2?"2nd":n===3?"3rd":"4th"} Quarter`,a=!0):(e==="STATUS_FINAL"||e==="STATUS_FINAL_OVERTIME")&&(i="final",l=!0,e==="STATUS_FINAL_OVERTIME"?o=n>4?`Final/OT${n-4}`:"Final/OT":o="Final"),{status:i,text:o,period:n,clock:r||"",isLive:a,isFinal:l,isScheduled:u}}function HC(t,e,n,r){if(!r||!r[n])return null;const s=e[n].games,i=r[n];for(const o of s){const a=i[o.id];if(!a)continue;const l=a.team1===t.awayTeam.abbreviation||a.team1===t.homeTeam.abbreviation,u=a.team2===t.awayTeam.abbreviation||a.team2===t.homeTeam.abbreviation;if(l&&u){const h=a.team1===t.awayTeam.abbreviation;return{gameId:o.id,team1Score:h?t.awayTeam.score:t.homeTeam.score,team2Score:h?t.homeTeam.score:t.awayTeam.score,status:t.status,statusText:t.statusText,period:t.period,clock:t.clock,isFinal:t.isFinal,isLive:t.isLive,espnGameId:t.espnGameId}}}return null}class GC{constructor(e,n=5){this.onFetch=e,this.intervalMinutes=n,this.intervalId=null,this.isRunning=!1}start(){if(this.isRunning){console.log("Auto-refresh already running");return}console.log(`Starting auto-refresh every ${this.intervalMinutes} minutes`),this.isRunning=!0,this.onFetch(),this.intervalId=setInterval(()=>{console.log("Auto-fetching ESPN scores..."),this.onFetch()},this.intervalMinutes*60*1e3)}stop(){if(!this.isRunning){console.log("Auto-refresh not running");return}console.log("Stopping auto-refresh"),clearInterval(this.intervalId),this.intervalId=null,this.isRunning=!1}isActive(){return this.isRunning}setInterval(e){this.intervalMinutes=e,this.isRunning&&(this.stop(),this.start())}}const YC={wildcard:{name:"Week 1 - Wildcard Round",shortName:"Wildcard",deadline:"Fri Jan 9, 11:59 PM PST",number:1},divisional:{name:"Week 2 - Divisional Round",shortName:"Divisional",deadline:"Fri Jan 16, 11:59 PM PST",number:2},conference:{name:"Week 3 - Conference Championships",shortName:"Conference",deadline:"Fri Jan 23, 11:59 PM PST",number:3},superbowl:{name:"Week 4 - Super Bowl LIX",shortName:"Super Bowl",deadline:"Fri Feb 6, 11:59 PM PST",number:4}};function QC(t,e,n,r){return n?{icon:"",text:"LOCKED",color:"gray",className:"locked"}:r?{icon:"",text:"EDITING NOW",color:"purple",className:"editing"}:e&&e.complete?{icon:"",text:"ALL PICKS SAVED",color:"green",className:"saved"}:{icon:"",text:"READY TO PICK",color:"blue",className:"ready"}}function KC({currentWeek:t,onWeekChange:e,weekPicks:n={},weekLockStatus:r={},hasUnsavedChanges:s=!1}){const i=o=>{o!==t&&e(o)};return c.jsxs("div",{className:"week-selector-container",children:[c.jsxs("div",{className:"week-selector-header",children:[c.jsx("h2",{children:" SELECT WEEK TO MAKE/EDIT YOUR PICKS"}),s&&c.jsx("div",{className:"unsaved-indicator",children:" You have unsaved changes"})]}),c.jsx("div",{className:"week-cards",children:Object.entries(YC).map(([o,a])=>{var d;const l=o===t,u=((d=r[o])==null?void 0:d.locked)||!1,h=n[o],f=QC(o,h,u,l);return c.jsxs("div",{className:`week-card ${f.className} ${l?"current":""}`,onClick:()=>i(o),role:"button",tabIndex:0,onKeyPress:g=>{(g.key==="Enter"||g.key===" ")&&i(o)},children:[c.jsxs("div",{className:"week-card-header",children:[c.jsxs("div",{className:"week-number",children:["WEEK ",a.number]}),l&&c.jsx("div",{className:"current-indicator",children:" YOU ARE HERE "})]}),c.jsxs("div",{className:"week-card-title",children:[o==="superbowl"?"":""," ",a.shortName]}),c.jsxs("div",{className:"week-card-deadline",children:[o==="superbowl"?"Game Day: ":"Deadline: ",a.deadline]}),c.jsxs("div",{className:`week-card-status status-${f.className}`,children:[c.jsx("span",{className:"status-icon",children:f.icon}),c.jsx("span",{className:"status-text",children:f.text})]}),u&&c.jsx("div",{className:"locked-overlay",children:c.jsx("div",{className:"locked-message",children:" Cannot Edit"})})]},o)})}),c.jsx("div",{className:"week-selector-footer",children:c.jsx("p",{className:"info-text",children:" You can make picks for all weeks in advance, even if teams aren't known yet."})})]})}function qC({currentWeek:t,onDiscard:e,onSaveAndSwitch:n,onCancel:r}){const s={wildcard:"Week 1",divisional:"Week 2",conference:"Week 3",superbowl:"Week 4"};return c.jsx("div",{className:"popup-overlay",children:c.jsxs("div",{className:"popup-container warning-popup",children:[c.jsxs("div",{className:"popup-header warning",children:[c.jsx("span",{className:"popup-icon",children:""}),c.jsx("h3",{children:"UNSAVED CHANGES"})]}),c.jsxs("div",{className:"popup-body",children:[c.jsxs("p",{children:["You have unsaved changes for ",s[t],"."]}),c.jsx("p",{children:"What would you like to do?"})]}),c.jsxs("div",{className:"popup-buttons",children:[c.jsx("button",{className:"popup-btn btn-secondary",onClick:e,children:"Discard Changes"}),c.jsx("button",{className:"popup-btn btn-primary",onClick:n,children:"Save & Switch"}),c.jsx("button",{className:"popup-btn btn-neutral",onClick:r,children:"Cancel"})]})]})})}function XC({onKeepEditing:t,onDiscard:e}){return c.jsx("div",{className:"popup-overlay",children:c.jsxs("div",{className:"popup-container warning-popup",children:[c.jsxs("div",{className:"popup-header warning",children:[c.jsx("span",{className:"popup-icon",children:""}),c.jsx("h3",{children:"DISCARD CHANGES?"})]}),c.jsxs("div",{className:"popup-body",children:[c.jsx("p",{children:"Your changes will not be saved."}),c.jsx("p",{children:"Your previously saved picks will remain unchanged in the system."})]}),c.jsxs("div",{className:"popup-buttons",children:[c.jsx("button",{className:"popup-btn btn-primary",onClick:t,children:"Keep Editing"}),c.jsx("button",{className:"popup-btn btn-danger",onClick:e,children:"Discard Changes"})]})]})})}function JC({missingGames:t,totalGames:e,onClose:n}){return c.jsx("div",{className:"popup-overlay",children:c.jsxs("div",{className:"popup-container error-popup",children:[c.jsxs("div",{className:"popup-header error",children:[c.jsx("span",{className:"popup-icon",children:""}),c.jsx("h3",{children:"CANNOT SAVE - INCOMPLETE ENTRY"})]}),c.jsxs("div",{className:"popup-body",children:[c.jsx("p",{children:"You must predict scores for ALL games."}),c.jsxs("p",{className:"count-text",children:["Completed: ",c.jsx("strong",{children:e-t.length})," of ",c.jsx("strong",{children:e})," games "]}),c.jsxs("div",{className:"missing-games-list",children:[c.jsx("p",{children:c.jsx("strong",{children:"Missing scores for:"})}),c.jsx("ul",{children:t.map((r,s)=>c.jsxs("li",{children:[" Game ",s+1,": ",r.team1," vs ",r.team2]},s))})]}),c.jsx("p",{className:"instruction-text",children:"Please fill in all games before saving."})]}),c.jsx("div",{className:"popup-buttons",children:c.jsx("button",{className:"popup-btn btn-primary",onClick:n,children:"OK - Go Back and Complete"})})]})})}function ZC({invalidScores:t,onClose:e}){return c.jsx("div",{className:"popup-overlay",children:c.jsxs("div",{className:"popup-container error-popup",children:[c.jsxs("div",{className:"popup-header error",children:[c.jsx("span",{className:"popup-icon",children:""}),c.jsx("h3",{children:"INVALID SCORES"})]}),c.jsxs("div",{className:"popup-body",children:[c.jsx("p",{children:"All scores must be between 10 and 50."}),c.jsxs("div",{className:"invalid-scores-list",children:[c.jsx("p",{children:c.jsx("strong",{children:"Invalid scores:"})}),c.jsx("ul",{children:t.map((n,r)=>c.jsxs("li",{children:[" Game ",r+1," (",n.team,"): ",c.jsx("strong",{children:n.score})," (",n.score<10?"too low":"too high",")"]},r))})]}),c.jsx("p",{className:"instruction-text",children:"Please fix these scores."})]}),c.jsx("div",{className:"popup-buttons",children:c.jsx("button",{className:"popup-btn btn-primary",onClick:e,children:"OK - Go Back and Fix"})})]})})}function eE({weekName:t,deadline:e,onClose:n}){return c.jsx("div",{className:"popup-overlay",children:c.jsxs("div",{className:"popup-container success-popup",children:[c.jsxs("div",{className:"popup-header success",children:[c.jsx("span",{className:"popup-icon",children:""}),c.jsx("h3",{children:"PICKS SAVED SUCCESSFULLY!"})]}),c.jsxs("div",{className:"popup-body",children:[c.jsxs("p",{children:["Your ",t," picks have been saved."]}),c.jsx("p",{children:"You can edit them anytime before the deadline:"}),c.jsx("p",{className:"deadline-text",children:c.jsx("strong",{children:e})})]}),c.jsx("div",{className:"popup-buttons",children:c.jsx("button",{className:"popup-btn btn-success",onClick:n,children:"OK"})})]})})}function tE({onClose:t}){return c.jsx("div",{className:"popup-overlay",children:c.jsxs("div",{className:"popup-container info-popup",children:[c.jsxs("div",{className:"popup-header info",children:[c.jsx("span",{className:"popup-icon",children:""}),c.jsx("h3",{children:"NO CHANGES TO SAVE"})]}),c.jsxs("div",{className:"popup-body",children:[c.jsx("p",{children:"You haven't made any changes to your picks."}),c.jsx("p",{children:"Your picks are already saved."})]}),c.jsx("div",{className:"popup-buttons",children:c.jsx("button",{className:"popup-btn btn-primary",onClick:t,children:"OK"})})]})})}function nE({tiedGames:t,gameData:e,onClose:n}){return c.jsx("div",{className:"popup-overlay",children:c.jsxs("div",{className:"popup-container error-popup",children:[c.jsxs("div",{className:"popup-header error",children:[c.jsx("span",{className:"popup-icon",children:""}),c.jsx("h3",{children:"PLAYOFF GAMES CANNOT END IN A TIE!"})]}),c.jsxs("div",{className:"popup-body",children:[c.jsx("p",{style:{fontWeight:"bold",marginBottom:"15px"},children:"The following game(s) have tied scores:"}),c.jsx("ul",{style:{listStyle:"none",padding:0,marginBottom:"15px"},children:t.map(r=>{const s=e.find(i=>i.id===r);return c.jsxs("li",{style:{padding:"8px",background:"#ffebee",border:"1px solid #ef5350",borderRadius:"4px",marginBottom:"8px",color:"#c62828"},children:[" ",s.team1," vs. ",s.team2]},r)})}),c.jsx("p",{style:{fontStyle:"italic",color:"#666"},children:"NFL Playoff games go to overtime until there's a winner!"}),c.jsx("p",{style:{fontWeight:"bold"},children:"Please change the scores so one team wins."})]}),c.jsx("div",{className:"popup-buttons",children:c.jsx("button",{className:"popup-btn btn-primary",onClick:n,children:"Fix Scores"})})]})})}const ey={1:{name:"Most Correct Winners",week:"wildcard",weekName:"Week 1"},2:{name:"Closest Total Points",week:"wildcard",weekName:"Week 1"},3:{name:"Most Correct Winners",week:"divisional",weekName:"Week 2"},4:{name:"Closest Total Points",week:"divisional",weekName:"Week 2"},5:{name:"Most Correct Winners",week:"conference",weekName:"Week 3"},6:{name:"Closest Total Points",week:"conference",weekName:"Week 3"},7:{name:"Most Correct Winners",week:"superbowl",weekName:"Week 4"},8:{name:"Closest Total Points",week:"superbowl",weekName:"Week 4"},9:{name:"Overall Most Correct Winners",week:"all",weekName:"All Weeks"},10:{name:"Overall Closest Total Points",week:"all",weekName:"All Weeks"}};function rE(t,e,n){var r;if(t.week==="all"){let s=0,i=0;return Object.keys(n).forEach(o=>{const a=n[o].games;s+=a.length,a.forEach(l=>{var h;const u=(h=e[o])==null?void 0:h[l.id];u&&(u.team1!==void 0||u.team2!==void 0)&&i++})}),i===0?{status:"NOT_STARTED",gamesCompleted:0,totalGames:s,message:"First game Saturday, January 11, 2026! Standings will update as games finish."}:i<s?{status:"LIVE",gamesCompleted:i,totalGames:s,message:`LIVE NOW! ${i} of ${s} playoff games completed. Standings updating in real-time!`}:{status:"COMPLETE",gamesCompleted:i,totalGames:s,message:"Playoffs complete! Final standings shown above."}}else{const s=((r=n[t.week])==null?void 0:r.games)||[],i=s.length;let o=0;return s.forEach(a=>{var u;const l=(u=e[t.week])==null?void 0:u[a.id];l&&(l.team1!==void 0||l.team2!==void 0)&&o++}),o===0?{status:"NOT_STARTED",gamesCompleted:0,totalGames:i,message:"Games not started yet. Standings will update as games finish!"}:o<i?{status:"LIVE",gamesCompleted:o,totalGames:i,message:`LIVE NOW! ${o} of ${i} games completed. Standings changing in real-time!`}:{status:"COMPLETE",gamesCompleted:o,totalGames:i,message:"All games complete! Final standings shown above."}}}function sE(t,e,n,r){var u,h,f;const s=ey[t],i=[1,3,5,7,9].includes(t);let o=[],a={},l=[];if(s.week==="all"){o=e,a=n,Object.keys(r).forEach(g=>{l=l.concat(r[g].games.map(_=>({..._,week:g})))});const d={};o.forEach(g=>{d[g.playerCode]||(d[g.playerCode]={playerCode:g.playerCode,playerName:g.playerName,weeklyPicks:[]}),d[g.playerCode].weeklyPicks.push(g)}),o=Object.values(d)}else o=e.filter(d=>d.week===s.week),a=n[s.week]||{},l=((u=r[s.week])==null?void 0:u.games)||[];if(o.length===0)return{leaders:[],allPlayers:[],hasTie:!1,tieCount:0};if(i){const d=o.map(x=>{let E=0;return(x.weeklyPicks||[x]).forEach(m=>{l.forEach(v=>{var R,B;const S=(R=m.predictions)==null?void 0:R[v.id],k=s.week==="all"?(B=n[v.week])==null?void 0:B[v.id]:a[v.id];if(!S||!k)return;const N=parseInt(S.team1)>parseInt(S.team2)?"team1":"team2",I=parseInt(k.team1)>parseInt(k.team2)?"team1":"team2";N===I&&E++})}),{playerCode:x.playerCode,playerName:x.playerName,score:E}});d.sort((x,E)=>E.score-x.score);const g=((h=d[0])==null?void 0:h.score)||0,_=d.filter(x=>x.score===g);return{leaders:_,allPlayers:d,hasTie:_.length>1,tieCount:_.length}}else{let d=0;l.forEach(E=>{var m;const y=s.week==="all"?(m=n[E.week])==null?void 0:m[E.id]:a[E.id];y&&(d+=(parseInt(y.team1)||0)+(parseInt(y.team2)||0))});const g=o.map(E=>{let y=0;(E.weeklyPicks||[E]).forEach(S=>{l.forEach(k=>{var I;const N=(I=S.predictions)==null?void 0:I[k.id];N&&(y+=(parseInt(N.team1)||0)+(parseInt(N.team2)||0))})});const v=Math.abs(y-d);return{playerCode:E.playerCode,playerName:E.playerName,score:y,actualTotal:d,difference:v}});g.sort((E,y)=>E.difference-y.difference);const _=((f=g[0])==null?void 0:f.difference)||0,x=g.filter(E=>E.difference===_);return{leaders:x,allPlayers:g,hasTie:x.length>1,tieCount:x.length,actualTotal:d}}}function iE({prizeNumber:t,allPicks:e,actualScores:n,weekData:r,officialWinner:s=null}){const[i,o]=W.useState(null),[a,l]=W.useState(!0),u=ey[t],h=[1,3,5,7,9].includes(t);if(W.useEffect(()=>{try{const E=sE(t,e,n,r);o(E),l(!1)}catch(E){console.error(`Error calculating leaders for Prize ${t}:`,E),l(!1)}},[t,e,n,r]),a)return c.jsxs("div",{className:"leader-card loading",children:[c.jsx("div",{className:"leader-card-header",children:c.jsxs("h3",{children:["Prize #",t," - ",u.name]})}),c.jsx("div",{className:"leader-card-body",children:c.jsx("p",{children:"Calculating leaders..."})})]});if(!i||i.allPlayers.length===0)return c.jsxs("div",{className:"leader-card no-data",children:[c.jsxs("div",{className:"leader-card-header",children:[c.jsxs("h3",{children:["Prize #",t," - ",u.name]}),c.jsx("span",{className:"prize-week",children:u.weekName})]}),c.jsx("div",{className:"leader-card-body",children:c.jsx("p",{children:"No picks available yet."})})]});const{leaders:f,allPlayers:d,hasTie:g,tieCount:_}=i,x=rE(u,n,r);return c.jsxs("div",{className:`leader-card ${g?"has-tie":""}`,children:[c.jsxs("div",{className:"leader-card-header",children:[c.jsxs("h3",{children:["Prize #",t," - ",u.name]}),c.jsx("span",{className:"prize-week",children:u.weekName})]}),c.jsxs("div",{className:"leader-card-body",children:[c.jsxs("div",{className:`game-status ${x.status.toLowerCase()}`,children:[c.jsxs("div",{className:"status-badge",children:[x.status==="NOT_STARTED"&&" NOT STARTED",x.status==="LIVE"&&" LIVE",x.status==="COMPLETE"&&" COMPLETE"]}),c.jsx("div",{className:"status-details",children:x.status!=="NOT_STARTED"&&c.jsxs("span",{className:"games-count",children:[x.gamesCompleted," of ",x.totalGames," games"]})}),c.jsx("p",{className:"status-message",children:x.message})]}),g&&c.jsxs("div",{className:"tie-warning",children:[" ",_,"-WAY TIE FOR 1ST PLACE!"]}),g&&c.jsxs("div",{className:"tied-leaders-section",children:[c.jsx("h4",{children:" TIED FOR 1ST PLACE:"}),c.jsx("div",{className:"leaders-list",children:f.map((E,y)=>c.jsxs("div",{className:`leader-item ${(s==null?void 0:s.playerCode)===E.playerCode?"official-winner":"tied-leader"}`,children:[c.jsxs("span",{className:"leader-rank",children:[y+1,"."]}),c.jsx("span",{className:"leader-name",children:E.playerName}),c.jsx("span",{className:"leader-score",children:h?`${E.score} correct`:`${E.score} pts (off by ${E.difference})`}),(s==null?void 0:s.playerCode)===E.playerCode?c.jsx("span",{className:"official-badge",children:" OFFICIAL WINNER"}):c.jsx("span",{className:"leading-badge",children:" LEADING"})]},y))})]}),g&&d.length>_&&c.jsxs("div",{className:"next-in-line-section",children:[c.jsx("h4",{children:" NEXT IN LINE:"}),c.jsx("div",{className:"leaders-list",children:d.slice(_,_+10).map((E,y)=>c.jsxs("div",{className:"leader-item",children:[c.jsxs("span",{className:"leader-rank",children:[_+y+1,"."]}),c.jsx("span",{className:"leader-name",children:E.playerName}),c.jsx("span",{className:"leader-score",children:h?`${E.score} correct`:`${E.score} pts (off by ${E.difference})`})]},y))})]}),!g&&c.jsxs("div",{className:"all-players-section",children:[c.jsx("h4",{children:" ALL PLAYERS RANKED:"}),c.jsx("div",{className:"leaders-list",children:d.map((E,y)=>c.jsxs("div",{className:`leader-item ${y===0&&(s==null?void 0:s.playerCode)===E.playerCode?"official-winner":""}`,children:[c.jsxs("span",{className:"leader-rank",children:[y+1,"."]}),c.jsx("span",{className:"leader-name",children:E.playerName}),c.jsx("span",{className:"leader-score",children:h?`${E.score} correct`:`${E.score} pts (off by ${E.difference})`}),y===0&&((s==null?void 0:s.playerCode)===E.playerCode?c.jsx("span",{className:"official-badge",children:" OFFICIAL WINNER"}):c.jsx("span",{className:"leading-badge",children:" LEADING"}))]},y))})]}),!s&&c.jsx("div",{className:"no-official-winner",children:c.jsx("em",{children:"No official winner declared yet"})})]})]})}function oE({allPicks:t,actualScores:e,games:n,officialWinners:r,weekData:s}){return c.jsxs("div",{className:"leaders-section",children:[c.jsx("h2",{children:" Prize Leaders"}),c.jsx("p",{className:"leaders-description",children:"Current standings for all 10 prizes. Winners will be officially announced by the Pool Manager."}),c.jsx("div",{className:"prize-grid",children:[1,2,3,4,5,6,7,8,9,10].map(i=>c.jsx(iE,{prizeNumber:i,allPicks:t,actualScores:e,weekData:s,officialWinner:r==null?void 0:r[i]},i))})]})}const ty={1:{name:"Most Correct Winners",week:"wildcard",weekName:"Week 1"},2:{name:"Closest Total Points",week:"wildcard",weekName:"Week 1"},3:{name:"Most Correct Winners",week:"divisional",weekName:"Week 2"},4:{name:"Closest Total Points",week:"divisional",weekName:"Week 2"},5:{name:"Most Correct Winners",week:"conference",weekName:"Week 3"},6:{name:"Closest Total Points",week:"conference",weekName:"Week 3"},7:{name:"Most Correct Winners",week:"superbowl",weekName:"Week 4"},8:{name:"Closest Total Points",week:"superbowl",weekName:"Week 4"},9:{name:"Overall Most Correct Winners",week:"all",weekName:"All Weeks"},10:{name:"Overall Closest Total Points",week:"all",weekName:"All Weeks"}};function lE(t,e,n,r){var u;const s=ty[t],i=[1,3,5,7,9].includes(t);let o=[],a={},l=[];if(s.week==="all"?(o=e,a=n,Object.keys(r).forEach(h=>{l=l.concat(r[h].games.map(f=>({...f,week:h})))})):(o=e.filter(h=>h.week===s.week),a=n[s.week]||{},l=((u=r[s.week])==null?void 0:u.games)||[]),o.length===0)return[];if(i)return o.map(f=>{let d=0;return l.forEach(g=>{var m,v;const _=(m=f.predictions)==null?void 0:m[g.id],x=s.week==="all"?(v=n[g.week])==null?void 0:v[g.id]:a[g.id];if(!_||!x)return;const E=parseInt(_.team1)>parseInt(_.team2)?"team1":"team2",y=parseInt(x.team1)>parseInt(x.team2)?"team1":"team2";E===y&&d++}),{playerCode:f.playerCode,playerName:f.playerName,score:d}}).sort((f,d)=>d.score-f.score);{let h=0;return l.forEach(d=>{var _;const g=s.week==="all"?(_=n[d.week])==null?void 0:_[d.id]:a[d.id];g&&(h+=(parseInt(g.team1)||0)+(parseInt(g.team2)||0))}),o.map(d=>{let g=0;l.forEach(x=>{var y;const E=(y=d.predictions)==null?void 0:y[x.id];E&&(g+=(parseInt(E.team1)||0)+(parseInt(E.team2)||0))});const _=Math.abs(g-h);return{playerCode:d.playerCode,playerName:d.playerName,score:g,difference:_}}).sort((d,g)=>d.difference-g.difference)}}function aE({prizeNumber:t,allPicks:e,actualScores:n,weekData:r,officialWinner:s,onDeclareWinner:i}){const[o,a]=W.useState(s?`${s.playerCode}|${s.playerName}`:""),l=ty[t],u=lE(t,e,n,r),h=[1,3,5,7,9].includes(t),f=()=>{if(!o){i(t,null);return}if(o==="TIE"){i(t,{playerCode:"TIE",playerName:"TIE - Multiple Winners",score:"TIE"});return}const[d,g]=o.split("|"),_=u.find(x=>x.playerCode===d);i(t,{playerCode:d,playerName:g,score:(_==null?void 0:_.score)||0})};return c.jsxs("div",{className:"prize-declaration-card",children:[c.jsxs("div",{className:"prize-header",children:[c.jsxs("h3",{children:["Prize #",t]}),c.jsx("span",{className:"prize-type",children:l.name}),c.jsx("span",{className:"prize-week",children:l.weekName})]}),c.jsxs("div",{className:"prize-body",children:[u.length===0?c.jsx("div",{className:"no-picks-warning",children:" No picks submitted yet for this week"}):c.jsxs("div",{className:"current-leaders",children:[c.jsx("h4",{children:" ALL PLAYERS RANKED:"}),c.jsx("ol",{className:"all-players-list",children:u.map((d,g)=>c.jsxs("li",{children:[d.playerName," - "," ",h?`${d.score} correct`:`${d.score} pts (off by ${d.difference})`]},g))})]}),c.jsxs("div",{className:"winner-selection",children:[c.jsxs("label",{children:[c.jsx("strong",{children:"Declare Official Winner:"}),c.jsxs("select",{value:o,onChange:d=>a(d.target.value),className:"winner-dropdown",children:[c.jsx("option",{value:"",children:"-- No Winner Declared --"}),c.jsx("option",{value:"TIE",children:" DECLARE TIE"}),u.map((d,g)=>c.jsxs("option",{value:`${d.playerCode}|${d.playerName}`,children:[d.playerName," (",h?`${d.score} correct`:`off by ${d.difference}`,")"]},g))]})]}),c.jsx("button",{className:"btn-declare",onClick:f,children:o?" Declare Winner":" Remove Winner"})]}),s&&c.jsxs("div",{className:"current-winner",children:[" Official Winner: ",c.jsx("strong",{children:s.playerName})]})]})]})}function cE({allPicks:t,actualScores:e,games:n,officialWinners:r,onDeclareWinner:s,isPoolManager:i}){return i?c.jsxs("div",{className:"winner-declaration-section",children:[c.jsx("h2",{children:" Pool Manager: Declare Official Winners"}),c.jsxs("p",{className:"declaration-description",children:["Select the official winner for each prize. You can choose from calculated leaders or declare a tie.",c.jsx("strong",{children:" Dropdowns are available even if no picks have been submitted yet."})]}),c.jsx("div",{className:"prize-grid",children:[1,2,3,4,5,6,7,8,9,10].map(o=>c.jsx(aE,{prizeNumber:o,allPicks:t,actualScores:e,weekData:n,officialWinner:r==null?void 0:r[o],onDeclareWinner:s},o))})]}):null}const uE={apiKey:"AIzaSyDr3PPXC90wvQW_LG8TkAyR9K-7e0loQ3A",authDomain:"nfl-playoff-pool-2025-scores.firebaseapp.com",databaseURL:"https://nfl-playoff-pool-2025-scores-default-rtdb.firebaseio.com",projectId:"nfl-playoff-pool-2025-scores",storageBucket:"nfl-playoff-pool-2025-scores.firebasestorage.app",messagingSenderId:"844539772456",appId:"1:844539772456:web:9bbfcf523195a5eedfff1d"},dE=Mm(uE),se=LC(dE),fh={firstFriday:"2026-01-09",lastMonday:"2026-02-09"},un={wildcard:"2026-01-10",divisional:"2026-01-17",conference:"2026-01-25",superbowl:"2026-02-08"},dn=["76BB89","Z9Y8X7"],et={"76BB89":"POOL MANAGER - Richard",Z9Y8X7:"POOL MANAGER - Dennis",J239W4:"Bob Casson",B7Y4X3:"Bob Desrosiers",D4F7G5:"Bonnie Biletski","536EE2":"Brian Colburg",X8HH67:"Chris Neufeld",G7R3P5:"Curtis Braun",A4LJC9:"Curtis Palidwor",X3P8N1:"Dallas Pylypow",HM8T67:"Darrell Klassen",TA89R2:"Dave Boyarski",K2P9W5:"Dave Desrosiers",A5K4T7:"Dennis Biletski","6WRUJR":"Emily Chadwick",AB6C89:"Gareth Reeve",D3F6G9:"Jarrod Reimer",T42B67:"Jo Behr",PUEFKF:"Joshua Biletski",ABC378:"Ken Mcleod",K9R3N6:"Kevin Pich",H7P3N5:"Larry Bretecher",B5R4T6:"Larry Strand",L2W9X2:"Michelle Desrosiers","5GGPL3":"Mike Brkich",T4M8Z8:"Neema Dadmand","9CD72G":"Neil Banman",T7Y4R8:"Neil Foster",KWBZ86:"Nick Melanidis","2WQA9X":"Nima Ahmadi",E4T6J7:"Orest Pich",N4M8Q2:"Randy Moffatt",B8L9M2:"Richard Biletski","62R92L":"Rob Crowe",H8M3N7:"Rob Kost",WW3F44:"Ryan Moffatt",E5G7G8:"Tony Creta"},ue={wildcard:{name:"Wild Card Round (Jan 10-12, 2026)",deadline:"Friday, January 9, 2026 at 11:59 PM PST",games:[{id:1,team1:"AFC #7",team2:"AFC #2"},{id:2,team1:"AFC #6",team2:"AFC #3"},{id:3,team1:"AFC #5",team2:"AFC #4"},{id:4,team1:"NFC #7",team2:"NFC #2"},{id:5,team1:"NFC #6",team2:"NFC #3"},{id:6,team1:"NFC #5",team2:"NFC #4"}]},divisional:{name:"Divisional Round (Jan 17-18, 2026)",deadline:"Friday, January 16, 2026 at 11:59 PM PST",games:[{id:7,team1:"AFC Winner 1",team2:"AFC #1"},{id:8,team1:"AFC Winner 2",team2:"AFC Winner 3"},{id:9,team1:"NFC Winner 1",team2:"NFC #1"},{id:10,team1:"NFC Winner 2",team2:"NFC Winner 3"}]},conference:{name:"Conference Championships (Jan 25, 2026)",deadline:"Friday, January 23, 2026 at 11:59 PM PST",games:[{id:11,team1:"AFC Winner A",team2:"AFC Winner B"},{id:12,team1:"NFC Winner A",team2:"NFC Winner B"}]},superbowl:{name:"Super Bowl LIX (Feb 8, 2026)",deadline:"Friday, February 6, 2026 at 11:59 PM PST",games:[{id:13,team1:"AFC Champion",team2:"NFC Champion"}]}};function fE(){const[t,e]=W.useState("picks"),[n,r]=W.useState(""),[s,i]=W.useState(""),[o,a]=W.useState(!1),[l,u]=W.useState("wildcard"),[h,f]=W.useState({}),[d,g]=W.useState([]),[_,x]=W.useState(!1),[E,y]=W.useState({}),[m,v]=W.useState({}),[S,k]=W.useState({}),[N,I]=W.useState({wildcard:"",divisional:"",conference:"",superbowl_week4:"",superbowl_week3:"",superbowl_week2:"",superbowl_week1:"",superbowl_grand:""}),[R,B]=W.useState({wildcard:{locked:!1,lockDate:null,autoLockDate:un.wildcard},divisional:{locked:!1,lockDate:null,autoLockDate:un.divisional},conference:{locked:!1,lockDate:null,autoLockDate:un.conference},superbowl:{locked:!1,lockDate:null,autoLockDate:un.superbowl}}),[z,Ue]=W.useState({}),[Ut,Dt]=W.useState(null),[ur,dr]=W.useState(null),[Ot,ht]=W.useState(!1),[b,F]=W.useState(null),[H,ce]=W.useState(null),[Se,Wn]=W.useState([]),[$t,ss]=W.useState([]),[pt,on]=W.useState({}),[Tl,is]=W.useState({}),[ny,ry]=W.useState({}),[sy,Pi]=W.useState(!1),[Ae,Ri]=W.useState(""),[os,ls]=W.useState(null),[zn,as]=W.useState(null),[iy,cs]=W.useState(!1),ye=()=>dn.includes(s)&&o,oy=()=>{let p=Math.floor(Math.random()*41)+10,C=Math.floor(Math.random()*41)+10;for(;p===C;)C=Math.floor(Math.random()*41)+10;return{team1:p,team2:C}},nd=()=>{const p=ue[l].games,C={};p.forEach(w=>{C[w.id]=oy()}),as(C),cs(!0)},ly=async()=>{if(!Ae||!zn)return;const p=et[Ae];if(p)try{const C=re(se,"picks"),w=await fa(C);let j=null;if(w.exists()){const L=w.val();for(const[A,$]of Object.entries(L))if($.playerCode===Ae&&$.week===l){j=A;break}}const D={playerName:p,playerCode:Ae,week:l,predictions:zn,timestamp:j&&w.val()[j].timestamp||Date.now(),lastUpdated:Date.now(),enteredBy:"POOL_MANAGER_RNG",enteredByCode:s,enteredByName:n};j?await mt(re(se,`picks/${j}`),D):await da(re(se,"picks"),D),alert(` RNG picks successfully submitted for ${p}!`),cs(!1),as(null),Pi(!1),Ri("")}catch(C){console.error("Error submitting RNG picks:",C),alert(" Error submitting RNG picks. Please try again.")}},ay=()=>{if(!Ae)return;const p=d.find(C=>C.playerCode===Ae&&C.week===l);p&&p.predictions?(f(p.predictions),is({...p.predictions}),ls("manual")):(f({}),is({}),ls("manual"))},cy=async p=>{if(p.preventDefault(),!Ae){alert("Please select a player first.");return}const C=et[Ae];ue[l];try{const w=re(se,"picks"),j=await fa(w);let D=null;if(j.exists()){const A=j.val();for(const[$,G]of Object.entries(A))if(G.playerCode===Ae&&G.week===l){D=$;break}}const L={playerName:C,playerCode:Ae,week:l,predictions:h,timestamp:D&&j.val()[D].timestamp||Date.now(),lastUpdated:Date.now(),enteredBy:"POOL_MANAGER_MANUAL",enteredByCode:s,enteredByName:n};D?await mt(re(se,`picks/${D}`),L):await da(re(se,"picks"),L),alert(` Picks successfully submitted for ${C}!`),f({}),Pi(!1),Ri(""),ls(null)}catch(w){console.error("Error submitting picks for player:",w),alert(" Error submitting picks. Please try again.")}},rd=p=>{const C=un[p];if(!C)return!1;const w=new Date,j=new Date(w.toLocaleString("en-US",{timeZone:"America/Los_Angeles"})),D=new Date(C+"T00:00:00");return j>=D},ln=p=>{var C;return ye()?!1:(C=R[p])!=null&&C.locked?!0:rd(p)};W.useEffect(()=>{const p=re(se,"weekLockStatus");cn(p,C=>{const w=C.val();if(w){const j={};Object.keys(un).forEach(D=>{var L,A;j[D]={locked:((L=w[D])==null?void 0:L.locked)||!1,lockDate:((A=w[D])==null?void 0:A.lockDate)||null,autoLockDate:un[D]}}),B(j)}})},[]);const uy=p=>{const C=!R[p].locked,w=C?new Date().toISOString():null,j={...R,[p]:{...R[p],locked:C,lockDate:w}};B(j),mt(re(se,`weekLockStatus/${p}`),{locked:C,lockDate:w,autoLockDate:un[p]}),alert(C?` Week ${p} is now LOCKED

Players cannot edit picks for this week.`:` Week ${p} is now UNLOCKED

Players can edit picks for this week.`)};W.useEffect(()=>{const p=re(se,"picks");cn(p,C=>{const w=C.val();if(w){const j=Object.keys(w).map(D=>({...w[D],firebaseKey:D}));g(j)}else g([])})},[]),W.useEffect(()=>{const p=re(se,"teamCodes");cn(p,C=>{const w=C.val();w&&y(w)})},[]),W.useEffect(()=>{const p=re(se,"actualScores");cn(p,C=>{const w=C.val();w&&v(w)})},[]),W.useEffect(()=>{const p=re(se,"gameStatus");cn(p,C=>{const w=C.val();w&&k(w)})},[]),W.useEffect(()=>{const p=re(se,"winners");cn(p,C=>{const w=C.val();w&&on(w)})},[]),W.useEffect(()=>{const p=re(se,"gameLocks");cn(p,C=>{const w=C.val();w&&Ue(w)})},[]),W.useEffect(()=>{const p=re(se,"manualWeekTotals");cn(p,C=>{const w=C.val();w&&I(w)})},[]),W.useEffect(()=>{if(o&&n&&d.length>0){const p=d.find(C=>C.playerName===n&&C.week===l);p&&p.predictions?(console.log("Loading existing picks for",n,"week",l),f(p.predictions)):(console.log("No existing picks found - clearing form"),f({}))}},[l,d,o,n]),W.useEffect(()=>{const p=new GC(sd,5);return Dt(p),()=>{p&&p.stop()}},[]);const sd=async()=>{try{console.log("Fetching scores from ESPN...");const p=await UC();if(!p.success){console.error("ESPN fetch failed:",p.error);return}console.log("ESPN games fetched:",p.games.length);const C=ue[l].games,w={};if(p.games.forEach(j=>{var L;const D=HC(j,ue,l,E);if(D){const A=D.gameId;if((L=z[l])!=null&&L[A]){console.log(`Game ${A} is locked, skipping API update`);return}w[A]={team1:D.team1Score,team2:D.team2Score,source:"espn",lastUpdated:new Date().toISOString()},k($=>({...$,[l]:{...$[l],[A]:D.isFinal?"final":D.isLive?"live":""}}))}}),Object.keys(w).length>0){v(D=>({...D,[l]:{...D[l],...w}}));const j=re(se,`actualScores/${l}`);await mt(j,{...m[l],...w}),console.log(`Updated ${Object.keys(w).length} games from ESPN`)}dr(new Date)}catch(p){console.error("Error fetching ESPN scores:",p)}},dy=p=>{var C;console.log(" Toggle clicked for game:",p),console.log(" Current week:",l),console.log(" Current locks:",z),console.log(" Current value for game",p,":",(C=z[l])==null?void 0:C[p]),Ue(w=>{const j={...w};j[l]||(j[l]={});const D=j[l][p],L=!D;console.log(" Old value:",D),console.log(" New value:",L),j[l][p]=L;const A=re(se,`gameLocks/${l}/${p}`);return mt(A,L),console.log(" Saved to Firebase:",L),console.log(" Returning new locks:",j),j})},id=(p,C,w)=>{f(j=>({...j,[p]:{...j[p],[C]:w}}))},od=(p,C,w)=>{var D;const j={...E,[l]:{...E[l]||{},[p]:{...((D=E[l])==null?void 0:D[p])||{},[C]:w.toUpperCase()}}};y(j),mt(re(se,`teamCodes/${l}/${p}/${C}`),w.toUpperCase())},ld=(p,C,w)=>{var D;const j={...m,[l]:{...m[l]||{},[p]:{...((D=m[l])==null?void 0:D[p])||{},[C]:w}}};v(j),mt(re(se,`actualScores/${l}/${p}/${C}`),w)},fy=(p,C)=>{const w={...S,[l]:{...S[l]||{},[p]:C}};k(w),mt(re(se,`gameStatus/${l}/${p}`),C)},fr=(p,C)=>{const w={...N,[p]:C};I(w),mt(re(se,`manualWeekTotals/${p}`),C)},hy=async(p,C)=>{if(C){const w={...pt,[p]:C};on(w);try{await TC(re(se,`winners/${p}`),{playerCode:C.playerCode,playerName:C.playerName,score:C.score,declaredAt:new Date().toISOString(),declaredBy:s}),alert(` Winner declared for Prize #${p}: ${C.playerName}`)}catch(j){console.error("Failed to save winner:",j),alert(" Failed to save winner. Please try again.")}}else{const w={...pt};delete w[p],on(w);try{await mt(re(se,`winners/${p}`),null),alert(` Winner removed for Prize #${p}`)}catch(j){console.error("Failed to remove winner:",j)}}},py=p=>{Ot?(ce(p),F("unsavedChanges")):(u(p),Ai(p))},Ai=p=>{const C=d.find(w=>w.week===p&&w.playerCode===s);C&&C.predictions?(f(C.predictions),is(C.predictions),ht(!1)):(f({}),is({}),ht(!1))};W.useEffect(()=>{const p=JSON.stringify(h)!==JSON.stringify(Tl);ht(p)},[h,Tl]),W.useEffect(()=>{o&&s&&Ai(l)},[l,o,s,d]),W.useEffect(()=>{if(d.length>0&&s){const p={};["wildcard","divisional","conference","superbowl"].forEach(C=>{const w=d.find(j=>j.week===C&&j.playerCode===s);if(w&&w.predictions){const j=ue[C].games.length,D=Object.keys(w.predictions).filter(L=>{var A,$;return((A=w.predictions[L])==null?void 0:A.team1)&&(($=w.predictions[L])==null?void 0:$.team2)}).length;p[C]={complete:D===j,count:D,total:j}}}),ry(p)}},[d,s]);const us=()=>{if(ye())return!0;const p=new Date,C=new Date(p.toLocaleString("en-US",{timeZone:"America/Los_Angeles"})),w=new Date(fh.firstFriday+"T00:00:00"),j=new Date(fh.lastMonday+"T23:59:59");if(C<w)return!0;if(C>j)return!1;const D=C.getDay(),L=C.getHours(),A=C.getMinutes();return!(D===5&&L===23&&A>=59||D===6||D===0||D===1&&L===0&&A===0)},ad=()=>{const p=s.trim().toUpperCase();if(!p){alert("Please enter your 6-character player code");return}if(p.length!==6||!/^[A-Z0-9]{6}$/.test(p)){alert(`Invalid code format!

Player codes must be exactly 6 characters (letters and numbers).
Example: A7K9M2`);return}const C=et[p];if(!C){alert(`Invalid player code!

This code is not recognized.

Make sure you:
1. Paid your $20 entry fee
2. Received your code from the pool manager
3. Entered the code correctly

Contact: gammoneer2b@gmail.com`);return}if(d.find(j=>j.playerName===C&&j.week===l))if(dn.includes(p))alert(`Welcome, Pool Manager!

You have unrestricted access to:
 Enter picks anytime (no lockout)
 Enter team codes
 Enter actual game scores
 Set game status (LIVE/FINAL)
 Lock/unlock weeks
 View all player codes`);else{const j=ln(l);alert(j?`Welcome back, ${C}!

 WARNING: This week is LOCKED!

Your existing picks for ${ue[l].name} will be loaded, but you cannot edit them because the games have been played.

You can only view your submitted picks.`:`Welcome back, ${C}!

Your existing picks for ${ue[l].name} will be loaded automatically.

You can edit and resubmit anytime except during playoff weekends (Friday 11:59 PM - Monday 12:01 AM PST).`)}else dn.includes(p)&&alert(`Welcome, Pool Manager!

You have unrestricted access to:
 Enter picks anytime (no lockout)
 Enter team codes
 Enter actual game scores
 Set game status (LIVE/FINAL)
 Lock/unlock weeks
 View all player codes`);r(C),i(p),a(!0)},my=()=>{const p=d.filter(A=>A.week===l);if(p.length===0){alert("No picks to download for this week.");return}const C=ue[l];let w="";w+="TEAM CODES:,",C.games.forEach(A=>{var M,Y,V,Z;const $=((Y=(M=E[l])==null?void 0:M[A.id])==null?void 0:Y.team1)||"-",G=((Z=(V=E[l])==null?void 0:V[A.id])==null?void 0:Z.team2)||"-";w+=`${$},${G},`}),l==="superbowl"&&(w+=",,,,"),w+=`
`,w+="ACTUAL SCORES:,",C.games.forEach(A=>{var M,Y,V,Z;const $=((Y=(M=m[l])==null?void 0:M[A.id])==null?void 0:Y.team1)||"-",G=((Z=(V=m[l])==null?void 0:V[A.id])==null?void 0:Z.team2)||"-";w+=`${$},${G},`}),l==="superbowl"&&(w+=",,,,"),w+=`
`,w+="GAME TOTALS:,",C.games.forEach(A=>{var V,Z,Ce,ke;const $=parseInt((Z=(V=m[l])==null?void 0:V[A.id])==null?void 0:Z.team1)||0,G=parseInt((ke=(Ce=m[l])==null?void 0:Ce[A.id])==null?void 0:ke.team2)||0,M=$+G,Y=$>0||G>0?M:"-";w+=`${Y},,`}),l==="superbowl"&&(w+=",,,,"),w+=`
`,w+="GAME STATUS:,",C.games.forEach(A=>{var M;const $=((M=S[l])==null?void 0:M[A.id])||"-";w+=`${$==="final"?"FINAL":$==="live"?"LIVE":"-"},,`}),l==="superbowl"&&(w+=",,,,"),w+=`
`,w+="OFFICIAL TOTALS:,",C.games.forEach(()=>{w+=",,"}),l==="superbowl"?(w+=`${N.superbowl_week4||"-"},`,w+=`${N.superbowl_week3||"-"},`,w+=`${N.superbowl_week2||"-"},`,w+=`${N.superbowl_week1||"-"},`,w+=`${N.superbowl_grand||"-"},`):w+=`${N[l]||"-"},`,w+=`
`,w+=`
`,w+=",",C.games.forEach(A=>{w+=`Game ${A.id},Game ${A.id},`}),w+=`
`,w+="Player Name,",C.games.forEach(A=>{w+=`${A.team1} Score,${A.team2} Score,`}),l==="superbowl"?w+="Week 4 Total,Week 3 Total,Week 2 Total,Week 1 Total,GRAND TOTAL,":w+="Total Points,",w+=`Submitted At
`,p.sort((A,$)=>($.lastUpdated||$.timestamp)-(A.lastUpdated||A.timestamp)).forEach(A=>{if(w+=`"${A.playerName}",`,C.games.forEach(G=>{var V,Z;const M=((V=A.predictions[G.id])==null?void 0:V.team1)||"-",Y=((Z=A.predictions[G.id])==null?void 0:Z.team2)||"-";w+=`${M},${Y},`}),l==="superbowl"){const G=(()=>{const Ce=d.find(ve=>ve.playerName===A.playerName&&ve.week==="superbowl");if(!Ce)return 0;let ke=0;return ue.superbowl.games.forEach(ve=>{const je=Ce.predictions[ve.id];je&&(ke+=(Number(je.team1)||0)+(Number(je.team2)||0))}),ke})(),M=(()=>{const Ce=d.find(ve=>ve.playerName===A.playerName&&ve.week==="conference");if(!Ce)return 0;let ke=0;return ue.conference.games.forEach(ve=>{const je=Ce.predictions[ve.id];je&&(ke+=(Number(je.team1)||0)+(Number(je.team2)||0))}),ke})(),Y=(()=>{const Ce=d.find(ve=>ve.playerName===A.playerName&&ve.week==="divisional");if(!Ce)return 0;let ke=0;return ue.divisional.games.forEach(ve=>{const je=Ce.predictions[ve.id];je&&(ke+=(Number(je.team1)||0)+(Number(je.team2)||0))}),ke})(),V=(()=>{const Ce=d.find(ve=>ve.playerName===A.playerName&&ve.week==="wildcard");if(!Ce)return 0;let ke=0;return ue.wildcard.games.forEach(ve=>{const je=Ce.predictions[ve.id];je&&(ke+=(Number(je.team1)||0)+(Number(je.team2)||0))}),ke})(),Z=G+M+Y+V;w+=`${G},${M},${Y},${V},${Z},`}else{const G=C.games.reduce((M,Y)=>{var Ce,ke;const V=parseInt((Ce=A.predictions[Y.id])==null?void 0:Ce.team1)||0,Z=parseInt((ke=A.predictions[Y.id])==null?void 0:ke.team2)||0;return M+V+Z},0);w+=`${G},`}const $=new Date(A.lastUpdated||A.timestamp).toLocaleString("en-US",{month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0});w+=`"${$}"
`});const j=new Blob([w],{type:"text/csv;charset=utf-8;"}),D=document.createElement("a"),L=URL.createObjectURL(j);D.setAttribute("href",L),D.setAttribute("download",`nfl_playoff_picks_${l}_${Date.now()}.csv`),D.style.visibility="hidden",document.body.appendChild(D),D.click(),document.body.removeChild(D)},cd=async p=>{if(p.preventDefault(),ln(l)){alert(` WEEK LOCKED

This week's games have been played.
Picks are permanently locked.`);return}if(!us()){alert(` SUBMISSIONS CLOSED

During playoff weekends, picks are locked from:
 Friday 11:59 PM PST
 Through Monday 12:01 AM PST`);return}const C=ue[l],w=[];if(C.games.forEach(L=>{(!h[L.id]||!h[L.id].team1||!h[L.id].team2)&&w.push(L.id)}),w.length>0){Wn(w),F("incomplete");return}const j=[];if(C.games.forEach(L=>{var G,M;const A=parseInt((G=h[L.id])==null?void 0:G.team1),$=parseInt((M=h[L.id])==null?void 0:M.team2);(isNaN(A)||isNaN($)||A<0||$<0)&&j.push(L.id)}),j.length>0){ss(j),F("invalidScores");return}const D=[];if(C.games.forEach(L=>{var G,M;const A=parseInt((G=h[L.id])==null?void 0:G.team1),$=parseInt((M=h[L.id])==null?void 0:M.team2);A===$&&D.push(L.id)}),D.length>0){Wn(D),F("tiedGames");return}if(!Ot){F("noChanges");return}try{const L=re(se,"picks"),A=await fa(L);let $=null,G=null;if(A.exists()){const Y=A.val();for(const[V,Z]of Object.entries(Y))if(Z.playerCode===s&&Z.week===l){$=Z,G=V;break}}const M={playerName:n,playerCode:s,week:l,predictions:h,timestamp:$?$.timestamp:Date.now(),lastUpdated:Date.now()};G?await mt(re(se,`picks/${G}`),M):await da(re(se,"picks"),M),x(!0),is({...h}),ht(!1),F("success"),setTimeout(()=>{const Y=document.querySelector(".all-picks");Y&&Y.scrollIntoView({behavior:"smooth"})},100)}catch(L){console.error("Error submitting picks:",L),alert("Error submitting picks. Please try again.")}},Ze=ue[l],hr=W.useMemo(()=>{const p={};return d.filter(w=>w.week===l).forEach(w=>{p[w.playerName]||(p[w.playerName]={week4:0,week3:0,week2:0,week1:0,grand:0,current:0});let j=0;if(ue[l].games.forEach(L=>{const A=w.predictions[L.id];A&&A.team1&&A.team2&&(j+=(parseInt(A.team1)||0)+(parseInt(A.team2)||0))}),p[w.playerName].current=j,l==="superbowl"){const L=d.find(M=>M.playerName===w.playerName&&M.week==="superbowl");if(L&&L.predictions){let M=0;ue.superbowl.games.forEach(Y=>{const V=L.predictions[Y.id];V&&(M+=(Number(V.team1)||0)+(Number(V.team2)||0))}),p[w.playerName].week4=M}const A=d.find(M=>M.playerName===w.playerName&&M.week==="conference");if(A&&A.predictions){let M=0;ue.conference.games.forEach(Y=>{const V=A.predictions[Y.id];V&&(M+=(Number(V.team1)||0)+(Number(V.team2)||0))}),p[w.playerName].week3=M}const $=d.find(M=>M.playerName===w.playerName&&M.week==="divisional");if($&&$.predictions){let M=0;ue.divisional.games.forEach(Y=>{const V=$.predictions[Y.id];V&&(M+=(Number(V.team1)||0)+(Number(V.team2)||0))}),p[w.playerName].week2=M}const G=d.find(M=>M.playerName===w.playerName&&M.week==="wildcard");if(G&&G.predictions){let M=0;ue.wildcard.games.forEach(Y=>{const V=G.predictions[Y.id];V&&(M+=(Number(V.team1)||0)+(Number(V.team2)||0))}),p[w.playerName].week1=M}p[w.playerName].grand=p[w.playerName].week1+p[w.playerName].week2+p[w.playerName].week3+p[w.playerName].week4}}),p},[d,l]);return c.jsxs("div",{className:"App",children:[c.jsxs("header",{children:[c.jsx("h1",{children:" Richard's NFL Playoff Pool 2025"}),c.jsx("p",{children:"Enter your score predictions for each NFL Playoff 2025 game"}),c.jsxs("p",{style:{fontSize:"0.85rem",marginTop:"10px",opacity:.8},children:["v2.2-PLAYOFF-SCHEDULE-",new Date().toISOString().slice(0,10).replace(/-/g,"")]}),c.jsxs("div",{style:{marginTop:"15px",display:"flex",flexDirection:"column",gap:"10px",alignItems:"center"},children:[c.jsxs("div",{style:{display:"flex",gap:"15px",flexWrap:"wrap",justifyContent:"center"},children:[c.jsx("a",{href:"/nfl-playoff-pool/Playoff_Pool_Quick_Rules.pdf",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",padding:"10px 20px",backgroundColor:"#0984e3",color:"white",textDecoration:"none",borderRadius:"5px",fontSize:"0.95rem",fontWeight:"bold",transition:"background-color 0.3s ease",cursor:"pointer"},onMouseOver:p=>p.target.style.backgroundColor="#74b9ff",onMouseOut:p=>p.target.style.backgroundColor="#0984e3",children:" View Quick Rules (2 Pages)"}),c.jsx("a",{href:"/nfl-playoff-pool/Richards_Playoff_Pool_LIX_Rulebook.pdf",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",padding:"10px 20px",backgroundColor:"#6c5ce7",color:"white",textDecoration:"none",borderRadius:"5px",fontSize:"0.95rem",fontWeight:"bold",transition:"background-color 0.3s ease",cursor:"pointer"},onMouseOver:p=>p.target.style.backgroundColor="#a29bfe",onMouseOut:p=>p.target.style.backgroundColor="#6c5ce7",children:" View Full Rulebook (13 Pages)"})]}),c.jsx("p",{style:{fontSize:"1.1em",marginTop:"10px",color:"#ffffff",fontWeight:"500"},children:"Entry Fee: $20 - Must be paid before end of regular season"})]})]}),c.jsxs("div",{className:"container",children:[ye()&&o&&c.jsxs("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"15px 20px",borderRadius:"8px",marginBottom:"20px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[c.jsxs("h3",{style:{margin:"0 0 15px 0",display:"flex",alignItems:"center",gap:"10px"},children:[c.jsx("span",{children:""}),c.jsx("span",{children:"POOL MANAGER - WEEK LOCK CONTROLS"})]}),c.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"10px"},children:Object.keys(ue).map(p=>{var D,L;const C=(D=R[p])==null?void 0:D.locked,w=rd(p),j=C||w;return c.jsxs("div",{style:{background:"rgba(255,255,255,0.15)",padding:"12px",borderRadius:"6px",display:"flex",flexDirection:"column",gap:"8px"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",fontWeight:"bold",fontSize:"0.9rem"},children:[c.jsxs("span",{children:[j?"":""," Week ",p==="wildcard"?"1":p==="divisional"?"2":p==="conference"?"3":"4"]}),c.jsx("span",{style:{fontSize:"0.75rem",opacity:.9},children:(L=R[p])==null?void 0:L.autoLockDate})]}),w&&!C&&c.jsx("div",{style:{fontSize:"0.7rem",padding:"4px 8px",background:"rgba(255,193,7,0.3)",borderRadius:"4px",border:"1px solid rgba(255,193,7,0.5)"},children:" AUTO-LOCKED"}),C&&c.jsx("div",{style:{fontSize:"0.7rem",padding:"4px 8px",background:"rgba(220,53,69,0.3)",borderRadius:"4px",border:"1px solid rgba(220,53,69,0.5)"},children:" MANUALLY LOCKED"}),c.jsx("button",{onClick:()=>uy(p),style:{padding:"8px 12px",background:C?"#28a745":"#dc3545",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.85rem",fontWeight:"600",transition:"all 0.2s"},children:C?" Unlock Week":" Lock Week"})]},p)})}),c.jsx("p",{style:{fontSize:"0.8rem",marginTop:"12px",marginBottom:"0",opacity:.9},children:" Manual locks override automatic locks. Players cannot edit picks for locked weeks."})]}),ye()&&o&&c.jsxs("div",{style:{background:"linear-gradient(135deg, #f39c12 0%, #e74c3c 100%)",color:"white",padding:"20px",borderRadius:"8px",marginBottom:"20px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[c.jsxs("h3",{style:{margin:"0 0 15px 0",display:"flex",alignItems:"center",gap:"10px"},children:[c.jsx("span",{children:""}),c.jsx("span",{children:"POOL MANAGER OVERRIDE - ENTER/EDIT PICKS FOR ANY PLAYER"})]}),sy?c.jsxs("div",{children:[c.jsxs("div",{style:{marginBottom:"20px"},children:[c.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"0.95rem"},children:"Select Player:"}),c.jsxs("select",{value:Ae,onChange:p=>{Ri(p.target.value),ls(null),as(null),cs(!1)},style:{width:"100%",padding:"12px",fontSize:"1rem",borderRadius:"6px",border:"2px solid white",background:"rgba(255,255,255,0.95)",color:"#333",fontWeight:"600"},children:[c.jsx("option",{value:"",children:"-- Select a Player --"}),Object.keys(et).sort((p,C)=>{const w=et[p].toUpperCase(),j=et[C].toUpperCase();return w.localeCompare(j)}).map(p=>c.jsxs("option",{value:p,children:[et[p]," (",p,")"]},p))]})]}),Ae&&c.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:"15px",borderRadius:"6px",marginBottom:"15px"},children:[c.jsxs("div",{style:{marginBottom:"15px"},children:[c.jsx("strong",{children:"Selected:"})," ",et[Ae]," (",Ae,")",c.jsx("br",{}),c.jsx("strong",{children:"Week:"})," ",l==="wildcard"?"Week 1":l==="divisional"?"Week 2":l==="conference"?"Week 3":"Week 4",c.jsx("br",{}),c.jsx("strong",{children:"Status:"})," ",d.find(p=>p.playerCode===Ae&&p.week===l)?" HAS PICKS":" NO PICKS"]}),c.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[c.jsx("button",{onClick:nd,style:{flex:"1",minWidth:"150px",padding:"12px",background:"#9b59b6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Generate RNG Picks"}),c.jsx("button",{onClick:ay,style:{flex:"1",minWidth:"150px",padding:"12px",background:"#3498db",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Enter/Edit Manually"})]})]}),c.jsx("button",{onClick:()=>{Pi(!1),Ri(""),ls(null),as(null),cs(!1)},style:{padding:"10px 20px",background:"#95a5a6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Exit Override Mode"})]}):c.jsxs("div",{children:[c.jsx("p",{style:{marginBottom:"15px",fontSize:"0.9rem"},children:" Enter picks on behalf of players who missed the deadline or need assistance. Works even when week is locked."}),c.jsx("button",{onClick:()=>Pi(!0),style:{padding:"12px 24px",background:"white",color:"#e74c3c",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:" Enter Override Mode"})]})]}),iy&&zn&&c.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},children:c.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"30px",maxWidth:"600px",width:"100%",maxHeight:"90vh",overflow:"auto",boxShadow:"0 8px 32px rgba(0,0,0,0.3)"},children:[c.jsx("h3",{style:{marginTop:0,color:"#9b59b6"},children:" RNG PICKS GENERATED"}),c.jsxs("p",{style:{color:"#666",marginBottom:"20px"},children:["Player: ",c.jsx("strong",{children:et[Ae]}),c.jsx("br",{}),"Week: ",c.jsx("strong",{children:l==="wildcard"?"Week 1":l==="divisional"?"Week 2":l==="conference"?"Week 3":"Week 4"})]}),c.jsx("div",{style:{marginBottom:"20px"},children:ue[l].games.map(p=>c.jsxs("div",{style:{padding:"12px",background:"#f8f9fa",borderRadius:"6px",marginBottom:"10px",border:"2px solid #e9ecef"},children:[c.jsxs("div",{style:{fontWeight:"600",marginBottom:"5px",color:"#333"},children:["Game ",p.id,": ",p.team1," vs ",p.team2]}),c.jsxs("div",{style:{fontSize:"1.2rem",fontWeight:"700",color:"#9b59b6"},children:[zn[p.id].team1," - ",zn[p.id].team2,zn[p.id].team1>zn[p.id].team2?` (${p.team1} wins)`:` (${p.team2} wins)`]})]},p.id))}),c.jsxs("div",{style:{background:"#d4edda",border:"1px solid #c3e6cb",color:"#155724",padding:"12px",borderRadius:"6px",marginBottom:"20px",fontSize:"0.9rem"},children:[" All scores between 10-50 (inclusive)",c.jsx("br",{})," No tied games",c.jsx("br",{}),' Will be marked as "POOL_MANAGER_RNG" in database']}),c.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[c.jsx("button",{onClick:ly,style:{flex:"1",padding:"14px 24px",background:"#28a745",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Submit RNG Picks"}),c.jsx("button",{onClick:nd,style:{flex:"1",padding:"14px 24px",background:"#ffc107",color:"#333",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Regenerate"}),c.jsx("button",{onClick:()=>{cs(!1),as(null)},style:{padding:"14px 24px",background:"#dc3545",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Cancel"})]})]})}),ye()&&o&&c.jsx(zC,{currentWeek:l,games:Ze.games,actualScores:m,teamCodes:E,onScoresFetched:sd,onGameLockToggle:dy,gameLocks:z,espnAutoRefresh:Ut}),ye()&&o&&c.jsxs("div",{style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"white",padding:"15px 20px",borderRadius:"8px",marginBottom:"20px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[c.jsxs("h3",{style:{margin:"0 0 15px 0",display:"flex",alignItems:"center",gap:"10px"},children:[c.jsx("span",{children:""}),c.jsx("span",{children:"ALL PLAYER CODES"})]}),c.jsx("div",{style:{background:"rgba(255,255,255,0.95)",padding:"15px",borderRadius:"6px",maxHeight:"300px",overflowY:"auto"},children:c.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.9rem"},children:[c.jsx("thead",{children:c.jsxs("tr",{style:{background:"#f8f9fa",borderBottom:"2px solid #dee2e6"},children:[c.jsx("th",{style:{padding:"10px",textAlign:"left",color:"#495057",fontWeight:"600"},children:"Player Code"}),c.jsx("th",{style:{padding:"10px",textAlign:"left",color:"#495057",fontWeight:"600"},children:"Player Name"}),c.jsx("th",{style:{padding:"10px",textAlign:"center",color:"#495057",fontWeight:"600"},children:"Role"})]})}),c.jsx("tbody",{children:Object.entries(et).sort((p,C)=>{const w=dn.includes(p[0]),j=dn.includes(C[0]);return w&&!j?-1:!w&&j?1:p[1].localeCompare(C[1])}).map(([p,C],w)=>{const j=dn.includes(p);return c.jsxs("tr",{style:{background:w%2===0?"#ffffff":"#f8f9fa",borderBottom:"1px solid #dee2e6"},children:[c.jsx("td",{style:{padding:"10px",color:"#212529",fontFamily:"monospace",fontWeight:"bold",fontSize:"1rem"},children:p}),c.jsx("td",{style:{padding:"10px",color:"#212529"},children:C}),c.jsx("td",{style:{padding:"10px",textAlign:"center"},children:j?c.jsx("span",{style:{padding:"4px 8px",background:"#dc3545",color:"white",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"600"},children:" MANAGER"}):c.jsx("span",{style:{padding:"4px 8px",background:"#28a745",color:"white",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"600"},children:" PLAYER"})})]},p)})})]})}),c.jsxs("p",{style:{fontSize:"0.8rem",marginTop:"12px",marginBottom:"0",opacity:.9},children:[" Total Players: ",Object.keys(et).length," | Pool Managers: ",dn.length," | Regular Players: ",Object.keys(et).length-dn.length]})]}),o&&c.jsx(KC,{currentWeek:l,onWeekChange:py,weekPicks:ny,weekLockStatus:R,hasUnsavedChanges:Ot,isPoolManager:ye()}),o&&c.jsxs("div",{className:"view-navigation",children:[c.jsx("button",{className:`nav-btn ${t==="picks"?"active":""}`,onClick:()=>e("picks"),children:" Make Picks"}),c.jsx("button",{className:`nav-btn ${t==="standings"?"active":""}`,onClick:()=>e("standings"),children:" Standings & Prizes"})]}),t==="standings"&&o?c.jsx(WC,{allPicks:d,actualScores:m,currentWeek:l,playerName:n,playerCode:s,isPoolManager:ye(),onLogout:()=>{a(!1),i(""),r(""),f({}),e("picks")}}):c.jsxs(c.Fragment,{children:[o?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"player-confirmed",children:[c.jsx("span",{className:"confirmation-badge",children:" VERIFIED"}),c.jsxs("h3",{children:["Welcome, ",c.jsx("span",{className:"player-name-highlight",children:n}),"!",ye()&&c.jsx("span",{style:{marginLeft:"10px",color:"#d63031"},children:" POOL MANAGER"})]}),c.jsxs("p",{style:{color:"#000"},children:["Making picks for: ",c.jsx("strong",{children:Ze.name})]}),ln(l)&&!ye()&&c.jsx("div",{style:{marginTop:"10px",padding:"10px 15px",background:"#fff3cd",border:"2px solid #ffc107",borderRadius:"6px",color:"#856404",fontWeight:"600"},children:" This week is LOCKED - You can view your picks but cannot edit them"}),c.jsx("button",{className:"validate-btn",style:{marginTop:"15px",padding:"10px 20px",fontSize:"0.9rem"},onClick:()=>{a(!1),i(""),r(""),f({})},children:" Logout / Switch Entry"}),c.jsx("p",{style:{fontSize:"0.85rem",color:"#666",marginTop:"10px",fontStyle:"italic"},children:" Playing with multiple entries? Logout to switch between your codes."})]}),!us()&&c.jsx("div",{className:"closed-warning",children:" PICKS ARE LOCKED (Playoff Weekend: Friday 11:59 PM - Monday 12:01 AM PST)"}),c.jsxs("div",{className:"prediction-form",children:[os==="manual"?c.jsxs("h2",{style:{color:"#e74c3c"},children:[" OVERRIDE MODE: Entering Picks for ",et[Ae]]}):c.jsx("h2",{children:"Enter Your Predictions"}),c.jsxs("div",{className:"progress-indicator",children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[c.jsx("strong",{children:"Progress:"}),c.jsxs("span",{children:[Object.keys(h).filter(p=>h[p].team1&&h[p].team2).length," of ",Ze.games.length," games completed"]})]}),c.jsx("div",{className:"progress-bar",children:c.jsxs("div",{className:"progress-fill",style:{width:`${Object.keys(h).filter(p=>h[p].team1&&h[p].team2).length/Ze.games.length*100}%`},children:[Math.round(Object.keys(h).filter(p=>h[p].team1&&h[p].team2).length/Ze.games.length*100),"%"]})})]}),c.jsxs("form",{onSubmit:os==="manual"?cy:cd,children:[Ze.games.map(p=>{var C,w,j,D,L,A;return c.jsxs("div",{className:"game-prediction",children:[c.jsxs("h3",{children:["Game ",p.id,": ",p.team1," @ ",p.team2,((C=E[l])==null?void 0:C[p.id])&&c.jsxs("span",{style:{fontSize:"0.9rem",color:"#666",marginLeft:"10px"},children:["(",E[l][p.id].team1||"?"," @ ",E[l][p.id].team2||"?",")"]})]}),((w=m[l])==null?void 0:w[p.id])&&c.jsxs("div",{style:{padding:"8px 12px",background:"#e8f5e9",borderRadius:"4px",marginBottom:"10px",fontSize:"0.9rem"},children:[c.jsx("strong",{children:"Actual Score:"})," ",m[l][p.id].team1||"-"," - ",m[l][p.id].team2||"-",((j=S[l])==null?void 0:j[p.id])==="final"&&c.jsx("span",{style:{marginLeft:"10px",padding:"2px 8px",background:"#4caf50",color:"white",borderRadius:"4px",fontSize:"0.8rem",fontWeight:"bold"},children:" FINAL"}),((D=S[l])==null?void 0:D[p.id])==="live"&&c.jsx("span",{style:{marginLeft:"10px",padding:"2px 8px",background:"#ff9800",color:"white",borderRadius:"4px",fontSize:"0.8rem",fontWeight:"bold"},children:" LIVE"})]}),c.jsxs("div",{className:"score-inputs",children:[c.jsxs("div",{className:"team-score",children:[c.jsxs("label",{children:[c.jsx("span",{className:"team-designation",children:"AWAY TEAM"}),c.jsx("span",{className:"team-name-label",children:p.team1})]}),c.jsx("input",{type:"number",min:"0",max:"99",value:((L=h[p.id])==null?void 0:L.team1)||"",onChange:$=>id(p.id,"team1",$.target.value),placeholder:"0",required:!0,disabled:ln(l)},`${p.id}-team1-${n}`)]}),c.jsx("div",{className:"vs",children:"VS"}),c.jsxs("div",{className:"team-score",children:[c.jsxs("label",{children:[c.jsx("span",{className:"team-designation",children:"HOME TEAM"}),c.jsx("span",{className:"team-name-label",children:p.team2})]}),c.jsx("input",{type:"number",min:"0",max:"99",value:((A=h[p.id])==null?void 0:A.team2)||"",onChange:$=>id(p.id,"team2",$.target.value),placeholder:"0",required:!0,disabled:ln(l)},`${p.id}-team2-${n}`)]})]})]},p.id)}),c.jsx("button",{type:"submit",className:"submit-btn",disabled:os==="manual"?!1:!us()||ln(l),style:os==="manual"?{background:"#e74c3c",fontSize:"1.1rem",fontWeight:"700"}:{},children:os==="manual"?` Submit for ${et[Ae]}`:ln(l)&&!ye()?" Week Locked - Cannot Edit Picks":us()?" Submit / Update My Picks":" Submissions Locked (Playoff Weekend)"}),us()&&!ln(l)&&c.jsx("p",{style:{textAlign:"center",marginTop:"15px",color:"#666",fontSize:"0.9rem"},children:"You can edit and resubmit your picks as many times as you want until Friday 11:59 PM PST (before game weekends)"})]})]})]}):c.jsx("div",{className:"prediction-form",children:c.jsxs("div",{className:"code-entry-section",children:[c.jsx("h3",{children:" Enter Your Player Code"}),c.jsx("p",{style:{marginBottom:"20px",color:"#666"},children:"You received a 6-character code when you paid your $20 entry fee."}),c.jsx("p",{style:{marginBottom:"20px",color:"#666",fontSize:"0.9rem",fontStyle:"italic"},children:" Have multiple entries? Enter one code at a time."}),c.jsxs("div",{className:"code-input-group",children:[c.jsx("label",{htmlFor:"playerCode",children:"Player Code (6 characters)"}),c.jsx("input",{type:"text",id:"playerCode",className:"code-input",value:s,onChange:p=>i(p.target.value.toUpperCase()),placeholder:"A7K9M2",maxLength:"6",autoComplete:"off",onKeyPress:p=>{p.key==="Enter"&&ad()}}),c.jsx("button",{className:"validate-btn",onClick:ad,children:"Validate Code & Continue"}),c.jsxs("div",{style:{marginTop:"20px",padding:"15px",background:"#fff3cd",border:"2px solid #ffc107",borderRadius:"8px",textAlign:"left"},children:[c.jsx("h4",{style:{margin:"0 0 10px 0",color:"#856404"},children:" Entry Fee Payment"}),c.jsxs("p",{style:{margin:"5px 0",fontSize:"0.9rem",color:"#856404"},children:[c.jsx("strong",{children:"Cost:"})," $20 per entry"]}),c.jsxs("p",{style:{margin:"5px 0",fontSize:"0.9rem",color:"#856404"},children:[c.jsx("strong",{children:"Send e-Transfer to:"})," gammoneer2b@gmail.com"]}),c.jsxs("p",{style:{margin:"5px 0",fontSize:"0.9rem",color:"#856404"},children:[c.jsx("strong",{children:"Password:"})," nflpool"]}),c.jsx("p",{style:{margin:"10px 0 5px 0",fontSize:"0.85rem",color:"#856404",fontStyle:"italic"},children:"You will receive your player code after payment is confirmed."})]}),c.jsx("p",{style:{marginTop:"15px",fontSize:"0.9rem",color:"#666",textAlign:"center"},children:"Questions? Contact: gammoneer2b@gmail.com"})]})]})}),c.jsxs("div",{className:"all-picks",children:[c.jsxs("h2",{children:["All Player Picks - ",Ze.name,c.jsx("button",{onClick:my,style:{marginLeft:"15px",padding:"8px 16px",background:"#4caf50",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Download CSV"}),c.jsx("div",{style:{fontSize:"0.75rem",color:"#666",marginTop:"5px",fontStyle:"italic"},children:" Mobile: Open with Google Sheets (free app)"}),c.jsx("button",{onClick:()=>window.location.reload(),style:{marginLeft:"10px",padding:"8px 16px",background:"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Refresh Picks Table"})]}),d.filter(p=>p.week===l).length===0?c.jsx("p",{className:"no-picks",children:"No picks submitted yet for this week."}):c.jsx("div",{className:"picks-table-container",children:c.jsxs("table",{className:"picks-table",children:[c.jsxs("thead",{children:[c.jsxs("tr",{children:[c.jsx("th",{rowSpan:"2",children:"Player"}),Ze.games.map(p=>{var C,w,j,D,L;return c.jsxs("th",{colSpan:"2",children:["Game ",p.id,c.jsx("br",{}),c.jsxs("small",{children:[p.team1," @ ",p.team2]}),ye()&&c.jsxs("div",{style:{marginTop:"5px",display:"flex",gap:"5px",justifyContent:"center",alignItems:"center"},children:[c.jsx("input",{type:"text",maxLength:"3",value:((w=(C=E[l])==null?void 0:C[p.id])==null?void 0:w.team1)||"",onChange:A=>od(p.id,"team1",A.target.value),placeholder:"PIT",style:{width:"45px",padding:"4px",textAlign:"center",fontSize:"0.8rem",fontWeight:"bold",border:"2px solid #667eea",borderRadius:"4px"}}),c.jsx("span",{style:{fontSize:"0.8rem"},children:"@"}),c.jsx("input",{type:"text",maxLength:"3",value:((D=(j=E[l])==null?void 0:j[p.id])==null?void 0:D.team2)||"",onChange:A=>od(p.id,"team2",A.target.value),placeholder:"BUF",style:{width:"45px",padding:"4px",textAlign:"center",fontSize:"0.8rem",fontWeight:"bold",border:"2px solid #667eea",borderRadius:"4px"}})]}),!ye()&&((L=E[l])==null?void 0:L[p.id])&&c.jsxs("div",{style:{fontSize:"0.8rem",color:"#666",marginTop:"3px"},children:[E[l][p.id].team1||"?"," @ ",E[l][p.id].team2||"?"]})]},p.id)}),l==="superbowl"?c.jsxs(c.Fragment,{children:[c.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#fff3cd",fontWeight:"bold",color:"#000"},children:[ye()?c.jsxs("div",{style:{marginBottom:"8px"},children:[c.jsx("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000"},children:"OFFICIAL"}),c.jsx("input",{type:"number",min:"0",value:N.superbowl_week4||"",onChange:p=>fr("superbowl_week4",p.target.value),placeholder:"-",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #f39c12",borderRadius:"4px",color:"#000"}})]}):c.jsxs("div",{style:{marginBottom:"8px"},children:[c.jsx("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:"Official"}),c.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:N.superbowl_week4||"-"})]}),"Week 4",c.jsx("br",{}),"Total"]}),c.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#d1ecf1",fontWeight:"bold",color:"#000"},children:[ye()?c.jsxs("div",{style:{marginBottom:"8px"},children:[c.jsx("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000"},children:"OFFICIAL"}),c.jsx("input",{type:"number",min:"0",value:N.superbowl_week3||"",onChange:p=>fr("superbowl_week3",p.target.value),placeholder:"-",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #f39c12",borderRadius:"4px",color:"#000"}})]}):c.jsxs("div",{style:{marginBottom:"8px"},children:[c.jsx("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:"Official"}),c.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:N.superbowl_week3||"-"})]}),"Week 3",c.jsx("br",{}),"Total"]}),c.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#d4edda",fontWeight:"bold",color:"#000"},children:[ye()?c.jsxs("div",{style:{marginBottom:"8px"},children:[c.jsx("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000"},children:"OFFICIAL"}),c.jsx("input",{type:"number",min:"0",value:N.superbowl_week2||"",onChange:p=>fr("superbowl_week2",p.target.value),placeholder:"-",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #f39c12",borderRadius:"4px",color:"#000"}})]}):c.jsxs("div",{style:{marginBottom:"8px"},children:[c.jsx("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:"Official"}),c.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:N.superbowl_week2||"-"})]}),"Week 2",c.jsx("br",{}),"Total"]}),c.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#f8d7da",fontWeight:"bold",color:"#000"},children:[ye()?c.jsxs("div",{style:{marginBottom:"8px"},children:[c.jsx("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000"},children:"OFFICIAL"}),c.jsx("input",{type:"number",min:"0",value:N.superbowl_week1||"",onChange:p=>fr("superbowl_week1",p.target.value),placeholder:"-",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #f39c12",borderRadius:"4px",color:"#000"}})]}):c.jsxs("div",{style:{marginBottom:"8px"},children:[c.jsx("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:"Official"}),c.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:N.superbowl_week1||"-"})]}),"Week 1",c.jsx("br",{}),"Total"]}),c.jsxs("th",{rowSpan:"2",className:"grand-total",children:[ye()?c.jsxs("div",{style:{marginBottom:"8px"},children:[c.jsx("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#fff"},children:"OFFICIAL"}),c.jsx("input",{type:"number",min:"0",value:N.superbowl_grand||"",onChange:p=>fr("superbowl_grand",p.target.value),placeholder:"-",style:{width:"70px",padding:"4px",textAlign:"center",fontSize:"1.1rem",fontWeight:"bold",border:"3px solid #f39c12",borderRadius:"4px",backgroundColor:"#fff",color:"#000"}})]}):c.jsxs("div",{style:{marginBottom:"8px"},children:[c.jsx("div",{style:{fontSize:"0.7rem",color:"#fff",marginBottom:"2px"},children:"Official"}),c.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"#fff"},children:N.superbowl_grand||"-"})]}),"GRAND",c.jsx("br",{}),"TOTAL"]})]}):c.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#f8f9fa",fontWeight:"bold",color:"#000"},children:[ye()?c.jsxs("div",{style:{marginBottom:"8px"},children:[c.jsx("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000"},children:"OFFICIAL"}),c.jsx("input",{type:"number",min:"0",value:N[l]||"",onChange:p=>fr(l,p.target.value),placeholder:"-",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #f39c12",borderRadius:"4px",color:"#000"}})]}):c.jsxs("div",{style:{marginBottom:"8px"},children:[c.jsx("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:"Official"}),c.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:N[l]||"-"})]}),"Official",c.jsx("br",{}),"Total"]}),c.jsx("th",{rowSpan:"2",children:"Submitted"})]}),c.jsx("tr",{style:{background:"#e3f2fd"},children:Ze.games.map(p=>{var C,w,j,D,L,A,$,G,M,Y,V;return c.jsxs(ha.Fragment,{children:[c.jsx("th",{style:{padding:"8px 4px",background:"#e3f2fd"},children:ye()?c.jsxs("div",{children:[c.jsx("input",{type:"number",min:"0",max:"99",value:((w=(C=m[l])==null?void 0:C[p.id])==null?void 0:w.team1)||"",onChange:Z=>ld(p.id,"team1",Z.target.value),placeholder:"-",style:{width:"50px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #4caf50",borderRadius:"4px",color:"#000"}}),c.jsx("div",{style:{fontSize:"0.7rem",marginTop:"2px",color:"#000"},children:"ACTUAL"})]}):c.jsxs("div",{children:[c.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#000"},children:((D=(j=m[l])==null?void 0:j[p.id])==null?void 0:D.team1)||"-"}),c.jsx("div",{style:{fontSize:"0.7rem",color:"#000"},children:"ACTUAL"})]})}),c.jsx("th",{style:{padding:"8px 4px",background:"#e3f2fd"},children:ye()?c.jsxs("div",{children:[c.jsx("input",{type:"number",min:"0",max:"99",value:((A=(L=m[l])==null?void 0:L[p.id])==null?void 0:A.team2)||"",onChange:Z=>ld(p.id,"team2",Z.target.value),placeholder:"-",style:{width:"50px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #4caf50",borderRadius:"4px",color:"#000"}}),c.jsx("div",{style:{fontSize:"0.7rem",marginTop:"2px",color:"#000"},children:"ACTUAL"}),c.jsxs("select",{value:(($=S[l])==null?void 0:$[p.id])||"",onChange:Z=>fy(p.id,Z.target.value),style:{width:"60px",padding:"2px",fontSize:"0.7rem",marginTop:"4px",borderRadius:"3px",border:"1px solid #999"},children:[c.jsx("option",{value:"",children:"--"}),c.jsx("option",{value:"live",children:" LIVE"}),c.jsx("option",{value:"final",children:" FINAL"})]})]}):c.jsxs("div",{children:[c.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#000"},children:((M=(G=m[l])==null?void 0:G[p.id])==null?void 0:M.team2)||"-"}),c.jsx("div",{style:{fontSize:"0.7rem",color:"#000"},children:"ACTUAL"}),((Y=S[l])==null?void 0:Y[p.id])==="final"&&c.jsx("div",{style:{display:"inline-block",padding:"2px 6px",background:"#4caf50",color:"white",borderRadius:"3px",fontSize:"0.65rem",fontWeight:"bold",marginTop:"4px"},children:" FINAL"}),((V=S[l])==null?void 0:V[p.id])==="live"&&c.jsx("div",{style:{display:"inline-block",padding:"2px 6px",background:"#ff9800",color:"white",borderRadius:"3px",fontSize:"0.65rem",fontWeight:"bold",marginTop:"4px"},children:" LIVE"})]})})]},`actual-${p.id}`)})})]}),c.jsx("tbody",{children:d.filter(p=>p.week===l).sort((p,C)=>(C.lastUpdated||C.timestamp)-(p.lastUpdated||p.timestamp)).map((p,C)=>{var j,D,L,A,$,G;const w=M=>{var ud;const Y=(ud=m[l])==null?void 0:ud[M],V=p.predictions[M];if(!Y||!V)return!1;const Z=parseInt(Y.team1),Ce=parseInt(Y.team2),ke=parseInt(V.team1),ve=parseInt(V.team2);if(isNaN(Z)||isNaN(Ce))return!1;const je=Z>Ce?"team1":Ce>Z?"team2":"tie",gy=ke>ve?"team1":ve>ke?"team2":"tie";return je===gy&&je!=="tie"};return c.jsxs("tr",{children:[c.jsx("td",{className:"player-name",children:p.playerName}),Ze.games.map(M=>{var V,Z;const Y=w(M.id);return c.jsxs(ha.Fragment,{children:[c.jsx("td",{className:`score ${Y?"score-winner":""}`,children:((V=p.predictions[M.id])==null?void 0:V.team1)||"-"}),c.jsx("td",{className:`score ${Y?"score-winner":""}`,children:((Z=p.predictions[M.id])==null?void 0:Z.team2)||"-"})]},`${C}-${M.id}`)}),l==="superbowl"?c.jsxs(c.Fragment,{children:[c.jsx("td",{style:{backgroundColor:"#fff3cd",fontWeight:"bold",fontSize:"16px"},children:c.jsx("span",{style:{color:"#000"},children:((j=hr[p.playerName])==null?void 0:j.week4)||0})}),c.jsx("td",{style:{backgroundColor:"#d1ecf1",fontWeight:"bold",fontSize:"16px"},children:c.jsx("span",{style:{color:"#000"},children:((D=hr[p.playerName])==null?void 0:D.week3)||0})}),c.jsx("td",{style:{backgroundColor:"#d4edda",fontWeight:"bold",fontSize:"16px"},children:c.jsx("span",{style:{color:"#000"},children:((L=hr[p.playerName])==null?void 0:L.week2)||0})}),c.jsx("td",{style:{backgroundColor:"#f8d7da",fontWeight:"bold",fontSize:"16px"},children:c.jsx("span",{style:{color:"#000"},children:((A=hr[p.playerName])==null?void 0:A.week1)||0})}),c.jsx("td",{className:"grand-total",children:(($=hr[p.playerName])==null?void 0:$.grand)||0})]}):c.jsx("td",{style:{backgroundColor:"#f8f9fa",fontWeight:"bold",fontSize:"16px"},children:c.jsx("span",{style:{color:"#000"},children:((G=hr[p.playerName])==null?void 0:G.current)||0})}),c.jsx("td",{className:"timestamp",children:new Date(p.lastUpdated||p.timestamp).toLocaleString("en-US",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})})]},C)})})]})}),o&&c.jsx("div",{style:{marginTop:"60px"},children:c.jsx(oE,{allPicks:d,actualScores:m,games:ue,officialWinners:pt,weekData:ue})}),o&&ye()&&c.jsx("div",{style:{marginTop:"40px"},children:c.jsx(cE,{allPicks:d,actualScores:m,games:ue,officialWinners:pt,onDeclareWinner:hy,isPoolManager:!0})}),b==="unsavedChanges"&&c.jsx(qC,{currentWeek:ue[l].name,onDiscard:()=>{u(H),Ai(H),F(null)},onSaveAndSwitch:async()=>{await cd(new Event("submit")),setTimeout(()=>{u(H),Ai(H),F(null),ce(null)},100)},onCancel:()=>{ce(null),F(null)}}),b==="discardChanges"&&c.jsx(XC,{onKeepEditing:()=>F(null),onDiscard:()=>{f({...Tl}),ht(!1),F(null)}}),b==="incomplete"&&c.jsx(JC,{missingGames:Se,totalGames:Ze.games.length,onClose:()=>F(null)}),b==="invalidScores"&&c.jsx(ZC,{invalidScores:$t,onClose:()=>F(null)}),b==="success"&&c.jsx(eE,{weekName:Ze.name,deadline:Ze.deadline,onClose:()=>F(null)}),b==="noChanges"&&c.jsx(tE,{onClose:()=>F(null)}),b==="tiedGames"&&c.jsx(nE,{tiedGames:Se,gameData:Ze.games,onClose:()=>F(null)})]})]})]}),c.jsxs("footer",{children:[c.jsx("p",{children:"Richard's NFL Playoff Pool 2025 | Good luck! "}),c.jsx("p",{style:{fontSize:"0.85rem",marginTop:"5px"},children:"Questions? Contact: gammoneer2b@gmail.com"})]})]})}pa.createRoot(document.getElementById("root")).render(c.jsx(ha.StrictMode,{children:c.jsx(fE,{})}));
