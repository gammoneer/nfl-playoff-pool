(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Uy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bh={exports:{}},al={},Ih={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ns=Symbol.for("react.element"),$y=Symbol.for("react.portal"),Vy=Symbol.for("react.fragment"),Hy=Symbol.for("react.strict_mode"),Gy=Symbol.for("react.profiler"),Yy=Symbol.for("react.provider"),Qy=Symbol.for("react.context"),Ky=Symbol.for("react.forward_ref"),qy=Symbol.for("react.suspense"),Xy=Symbol.for("react.memo"),Jy=Symbol.for("react.lazy"),Ed=Symbol.iterator;function Zy(t){return t===null||typeof t!="object"?null:(t=Ed&&t[Ed]||t["@@iterator"],typeof t=="function"?t:null)}var Ph={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jh=Object.assign,Rh={};function ni(t,e,n){this.props=t,this.context=e,this.refs=Rh,this.updater=n||Ph}ni.prototype.isReactComponent={};ni.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ni.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ah(){}Ah.prototype=ni.prototype;function Fc(t,e,n){this.props=t,this.context=e,this.refs=Rh,this.updater=n||Ph}var zc=Fc.prototype=new Ah;zc.constructor=Fc;jh(zc,ni.prototype);zc.isPureReactComponent=!0;var kd=Array.isArray,Dh=Object.prototype.hasOwnProperty,Wc={current:null},Oh={key:!0,ref:!0,__self:!0,__source:!0};function Lh(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Dh.call(e,r)&&!Oh.hasOwnProperty(r)&&(i[r]=e[r]);var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){for(var a=Array(c),u=0;u<c;u++)a[u]=arguments[u+2];i.children=a}if(t&&t.defaultProps)for(r in c=t.defaultProps,c)i[r]===void 0&&(i[r]=c[r]);return{$$typeof:Ns,type:t,key:s,ref:o,props:i,_owner:Wc.current}}function ev(t,e){return{$$typeof:Ns,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Bc(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ns}function tv(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Nd=/\/+/g;function Ul(t,e){return typeof t=="object"&&t!==null&&t.key!=null?tv(""+t.key):e.toString(36)}function lo(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ns:case $y:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Ul(o,0):r,kd(i)?(n="",t!=null&&(n=t.replace(Nd,"$&/")+"/"),lo(i,e,n,"",function(u){return u})):i!=null&&(Bc(i)&&(i=ev(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Nd,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",kd(t))for(var c=0;c<t.length;c++){s=t[c];var a=r+Ul(s,c);o+=lo(s,e,n,a,i)}else if(a=Zy(t),typeof a=="function")for(t=a.call(t),c=0;!(s=t.next()).done;)s=s.value,a=r+Ul(s,c++),o+=lo(s,e,n,a,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Us(t,e,n){if(t==null)return t;var r=[],i=0;return lo(t,r,"","",function(s){return e.call(n,s,i++)}),r}function nv(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ze={current:null},ao={transition:null},rv={ReactCurrentDispatcher:Ze,ReactCurrentBatchConfig:ao,ReactCurrentOwner:Wc};function Mh(){throw Error("act(...) is not supported in production builds of React.")}X.Children={map:Us,forEach:function(t,e,n){Us(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Us(t,function(){e++}),e},toArray:function(t){return Us(t,function(e){return e})||[]},only:function(t){if(!Bc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};X.Component=ni;X.Fragment=Vy;X.Profiler=Gy;X.PureComponent=Fc;X.StrictMode=Hy;X.Suspense=qy;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rv;X.act=Mh;X.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=jh({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Wc.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(a in e)Dh.call(e,a)&&!Oh.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&c!==void 0?c[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){c=Array(a);for(var u=0;u<a;u++)c[u]=arguments[u+2];r.children=c}return{$$typeof:Ns,type:t.type,key:i,ref:s,props:r,_owner:o}};X.createContext=function(t){return t={$$typeof:Qy,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Yy,_context:t},t.Consumer=t};X.createElement=Lh;X.createFactory=function(t){var e=Lh.bind(null,t);return e.type=t,e};X.createRef=function(){return{current:null}};X.forwardRef=function(t){return{$$typeof:Ky,render:t}};X.isValidElement=Bc;X.lazy=function(t){return{$$typeof:Jy,_payload:{_status:-1,_result:t},_init:nv}};X.memo=function(t,e){return{$$typeof:Xy,type:t,compare:e===void 0?null:e}};X.startTransition=function(t){var e=ao.transition;ao.transition={};try{t()}finally{ao.transition=e}};X.unstable_act=Mh;X.useCallback=function(t,e){return Ze.current.useCallback(t,e)};X.useContext=function(t){return Ze.current.useContext(t)};X.useDebugValue=function(){};X.useDeferredValue=function(t){return Ze.current.useDeferredValue(t)};X.useEffect=function(t,e){return Ze.current.useEffect(t,e)};X.useId=function(){return Ze.current.useId()};X.useImperativeHandle=function(t,e,n){return Ze.current.useImperativeHandle(t,e,n)};X.useInsertionEffect=function(t,e){return Ze.current.useInsertionEffect(t,e)};X.useLayoutEffect=function(t,e){return Ze.current.useLayoutEffect(t,e)};X.useMemo=function(t,e){return Ze.current.useMemo(t,e)};X.useReducer=function(t,e,n){return Ze.current.useReducer(t,e,n)};X.useRef=function(t){return Ze.current.useRef(t)};X.useState=function(t){return Ze.current.useState(t)};X.useSyncExternalStore=function(t,e,n){return Ze.current.useSyncExternalStore(t,e,n)};X.useTransition=function(){return Ze.current.useTransition()};X.version="18.3.1";Ih.exports=X;var F=Ih.exports;const Na=Uy(F);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv=F,sv=Symbol.for("react.element"),ov=Symbol.for("react.fragment"),lv=Object.prototype.hasOwnProperty,av=iv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cv={key:!0,ref:!0,__self:!0,__source:!0};function Fh(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)lv.call(e,r)&&!cv.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:sv,type:t,key:s,ref:o,props:i,_owner:av.current}}al.Fragment=ov;al.jsx=Fh;al.jsxs=Fh;bh.exports=al;var l=bh.exports,Ta={},zh={exports:{}},pt={},Wh={exports:{}},Bh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,W){var H=O.length;O.push(W);e:for(;0<H;){var ue=H-1>>>1,Ee=O[ue];if(0<i(Ee,W))O[ue]=W,O[H]=Ee,H=ue;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var W=O[0],H=O.pop();if(H!==W){O[0]=H;e:for(var ue=0,Ee=O.length,Un=Ee>>>1;ue<Un;){var Gt=2*(ue+1)-1,ci=O[Gt],yt=Gt+1,mr=O[yt];if(0>i(ci,H))yt<Ee&&0>i(mr,ci)?(O[ue]=mr,O[yt]=H,ue=yt):(O[ue]=ci,O[Gt]=H,ue=Gt);else if(yt<Ee&&0>i(mr,H))O[ue]=mr,O[yt]=H,ue=yt;else break e}}return W}function i(O,W){var H=O.sortIndex-W.sortIndex;return H!==0?H:O.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var a=[],u=[],p=1,h=null,f=3,_=!1,S=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(O){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=O)r(u),W.sortIndex=W.expirationTime,e(a,W);else break;W=n(u)}}function k(O){if(w=!1,x(O),!S)if(n(a)!==null)S=!0,Ft(A);else{var W=n(u);W!==null&&gt(k,W.startTime-O)}}function A(O,W){S=!1,w&&(w=!1,g(R),R=-1),_=!0;var H=f;try{for(x(W),h=n(a);h!==null&&(!(h.expirationTime>W)||O&&!ee());){var ue=h.callback;if(typeof ue=="function"){h.callback=null,f=h.priorityLevel;var Ee=ue(h.expirationTime<=W);W=t.unstable_now(),typeof Ee=="function"?h.callback=Ee:h===n(a)&&r(a),x(W)}else r(a);h=n(a)}if(h!==null)var Un=!0;else{var Gt=n(u);Gt!==null&&gt(k,Gt.startTime-W),Un=!1}return Un}finally{h=null,f=H,_=!1}}var E=!1,b=null,R=-1,G=5,U=-1;function ee(){return!(t.unstable_now()-U<G)}function Te(){if(b!==null){var O=t.unstable_now();U=O;var W=!0;try{W=b(!0,O)}finally{W?Mt():(E=!1,b=null)}}else E=!1}var Mt;if(typeof m=="function")Mt=function(){m(Te)};else if(typeof MessageChannel<"u"){var hr=new MessageChannel,pr=hr.port2;hr.port1.onmessage=Te,Mt=function(){pr.postMessage(null)}}else Mt=function(){C(Te,0)};function Ft(O){b=O,E||(E=!0,Mt())}function gt(O,W){R=C(function(){O(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){S||_||(S=!0,Ft(A))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(O){switch(f){case 1:case 2:case 3:var W=3;break;default:W=f}var H=f;f=W;try{return O()}finally{f=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,W){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var H=f;f=O;try{return W()}finally{f=H}},t.unstable_scheduleCallback=function(O,W,H){var ue=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ue+H:ue):H=ue,O){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=H+Ee,O={id:p++,callback:W,priorityLevel:O,startTime:H,expirationTime:Ee,sortIndex:-1},H>ue?(O.sortIndex=H,e(u,O),n(a)===null&&O===n(u)&&(w?(g(R),R=-1):w=!0,gt(k,H-ue))):(O.sortIndex=Ee,e(a,O),S||_||(S=!0,Ft(A))),O},t.unstable_shouldYield=ee,t.unstable_wrapCallback=function(O){var W=f;return function(){var H=f;f=W;try{return O.apply(this,arguments)}finally{f=H}}}})(Bh);Wh.exports=Bh;var uv=Wh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv=F,ht=uv;function P(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Uh=new Set,Xi={};function cr(t,e){Hr(t,e),Hr(t+"Capture",e)}function Hr(t,e){for(Xi[t]=e,t=0;t<e.length;t++)Uh.add(e[t])}var tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ba=Object.prototype.hasOwnProperty,fv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Td={},bd={};function hv(t){return ba.call(bd,t)?!0:ba.call(Td,t)?!1:fv.test(t)?bd[t]=!0:(Td[t]=!0,!1)}function pv(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function mv(t,e,n,r){if(e===null||typeof e>"u"||pv(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function et(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ve[t]=new et(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ve[e]=new et(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ve[t]=new et(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ve[t]=new et(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ve[t]=new et(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ve[t]=new et(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ve[t]=new et(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ve[t]=new et(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ve[t]=new et(t,5,!1,t.toLowerCase(),null,!1,!1)});var Uc=/[\-:]([a-z])/g;function $c(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Uc,$c);Ve[e]=new et(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Uc,$c);Ve[e]=new et(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Uc,$c);Ve[e]=new et(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ve[t]=new et(t,1,!1,t.toLowerCase(),null,!1,!1)});Ve.xlinkHref=new et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ve[t]=new et(t,1,!1,t.toLowerCase(),null,!0,!0)});function Vc(t,e,n,r){var i=Ve.hasOwnProperty(e)?Ve[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(mv(e,n,i,r)&&(n=null),r||i===null?hv(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var an=dv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$s=Symbol.for("react.element"),Cr=Symbol.for("react.portal"),Er=Symbol.for("react.fragment"),Hc=Symbol.for("react.strict_mode"),Ia=Symbol.for("react.profiler"),$h=Symbol.for("react.provider"),Vh=Symbol.for("react.context"),Gc=Symbol.for("react.forward_ref"),Pa=Symbol.for("react.suspense"),ja=Symbol.for("react.suspense_list"),Yc=Symbol.for("react.memo"),gn=Symbol.for("react.lazy"),Hh=Symbol.for("react.offscreen"),Id=Symbol.iterator;function xi(t){return t===null||typeof t!="object"?null:(t=Id&&t[Id]||t["@@iterator"],typeof t=="function"?t:null)}var ve=Object.assign,$l;function Ai(t){if($l===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);$l=e&&e[1]||""}return`
`+$l+t}var Vl=!1;function Hl(t,e){if(!t||Vl)return"";Vl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,c=s.length-1;1<=o&&0<=c&&i[o]!==s[c];)c--;for(;1<=o&&0<=c;o--,c--)if(i[o]!==s[c]){if(o!==1||c!==1)do if(o--,c--,0>c||i[o]!==s[c]){var a=`
`+i[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=c);break}}}finally{Vl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ai(t):""}function gv(t){switch(t.tag){case 5:return Ai(t.type);case 16:return Ai("Lazy");case 13:return Ai("Suspense");case 19:return Ai("SuspenseList");case 0:case 2:case 15:return t=Hl(t.type,!1),t;case 11:return t=Hl(t.type.render,!1),t;case 1:return t=Hl(t.type,!0),t;default:return""}}function Ra(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Er:return"Fragment";case Cr:return"Portal";case Ia:return"Profiler";case Hc:return"StrictMode";case Pa:return"Suspense";case ja:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Vh:return(t.displayName||"Context")+".Consumer";case $h:return(t._context.displayName||"Context")+".Provider";case Gc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Yc:return e=t.displayName||null,e!==null?e:Ra(t.type)||"Memo";case gn:e=t._payload,t=t._init;try{return Ra(t(e))}catch{}}return null}function yv(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ra(e);case 8:return e===Hc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Dn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Gh(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function vv(t){var e=Gh(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Vs(t){t._valueTracker||(t._valueTracker=vv(t))}function Yh(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Gh(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function wo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Aa(t,e){var n=e.checked;return ve({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Pd(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Dn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Qh(t,e){e=e.checked,e!=null&&Vc(t,"checked",e,!1)}function Da(t,e){Qh(t,e);var n=Dn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Oa(t,e.type,n):e.hasOwnProperty("defaultValue")&&Oa(t,e.type,Dn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function jd(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Oa(t,e,n){(e!=="number"||wo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Di=Array.isArray;function Lr(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Dn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function La(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(P(91));return ve({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Rd(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(P(92));if(Di(n)){if(1<n.length)throw Error(P(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Dn(n)}}function Kh(t,e){var n=Dn(e.value),r=Dn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ad(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function qh(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ma(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?qh(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Hs,Xh=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Hs=Hs||document.createElement("div"),Hs.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Hs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ji(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Mi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_v=["Webkit","ms","Moz","O"];Object.keys(Mi).forEach(function(t){_v.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Mi[e]=Mi[t]})});function Jh(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Mi.hasOwnProperty(t)&&Mi[t]?(""+e).trim():e+"px"}function Zh(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Jh(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var xv=ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fa(t,e){if(e){if(xv[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(P(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(P(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(P(61))}if(e.style!=null&&typeof e.style!="object")throw Error(P(62))}}function za(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wa=null;function Qc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ba=null,Mr=null,Fr=null;function Dd(t){if(t=Is(t)){if(typeof Ba!="function")throw Error(P(280));var e=t.stateNode;e&&(e=hl(e),Ba(t.stateNode,t.type,e))}}function ep(t){Mr?Fr?Fr.push(t):Fr=[t]:Mr=t}function tp(){if(Mr){var t=Mr,e=Fr;if(Fr=Mr=null,Dd(t),e)for(t=0;t<e.length;t++)Dd(e[t])}}function np(t,e){return t(e)}function rp(){}var Gl=!1;function ip(t,e,n){if(Gl)return t(e,n);Gl=!0;try{return np(t,e,n)}finally{Gl=!1,(Mr!==null||Fr!==null)&&(rp(),tp())}}function Zi(t,e){var n=t.stateNode;if(n===null)return null;var r=hl(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(P(231,e,typeof n));return n}var Ua=!1;if(tn)try{var wi={};Object.defineProperty(wi,"passive",{get:function(){Ua=!0}}),window.addEventListener("test",wi,wi),window.removeEventListener("test",wi,wi)}catch{Ua=!1}function wv(t,e,n,r,i,s,o,c,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(p){this.onError(p)}}var Fi=!1,So=null,Co=!1,$a=null,Sv={onError:function(t){Fi=!0,So=t}};function Cv(t,e,n,r,i,s,o,c,a){Fi=!1,So=null,wv.apply(Sv,arguments)}function Ev(t,e,n,r,i,s,o,c,a){if(Cv.apply(this,arguments),Fi){if(Fi){var u=So;Fi=!1,So=null}else throw Error(P(198));Co||(Co=!0,$a=u)}}function ur(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function sp(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Od(t){if(ur(t)!==t)throw Error(P(188))}function kv(t){var e=t.alternate;if(!e){if(e=ur(t),e===null)throw Error(P(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Od(i),t;if(s===r)return Od(i),e;s=s.sibling}throw Error(P(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,c=i.child;c;){if(c===n){o=!0,n=i,r=s;break}if(c===r){o=!0,r=i,n=s;break}c=c.sibling}if(!o){for(c=s.child;c;){if(c===n){o=!0,n=s,r=i;break}if(c===r){o=!0,r=s,n=i;break}c=c.sibling}if(!o)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?t:e}function op(t){return t=kv(t),t!==null?lp(t):null}function lp(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=lp(t);if(e!==null)return e;t=t.sibling}return null}var ap=ht.unstable_scheduleCallback,Ld=ht.unstable_cancelCallback,Nv=ht.unstable_shouldYield,Tv=ht.unstable_requestPaint,Ne=ht.unstable_now,bv=ht.unstable_getCurrentPriorityLevel,Kc=ht.unstable_ImmediatePriority,cp=ht.unstable_UserBlockingPriority,Eo=ht.unstable_NormalPriority,Iv=ht.unstable_LowPriority,up=ht.unstable_IdlePriority,cl=null,$t=null;function Pv(t){if($t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(cl,t,void 0,(t.current.flags&128)===128)}catch{}}var At=Math.clz32?Math.clz32:Av,jv=Math.log,Rv=Math.LN2;function Av(t){return t>>>=0,t===0?32:31-(jv(t)/Rv|0)|0}var Gs=64,Ys=4194304;function Oi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ko(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var c=o&~i;c!==0?r=Oi(c):(s&=o,s!==0&&(r=Oi(s)))}else o=n&~i,o!==0?r=Oi(o):s!==0&&(r=Oi(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-At(e),i=1<<n,r|=t[n],e&=~i;return r}function Dv(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ov(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-At(s),c=1<<o,a=i[o];a===-1?(!(c&n)||c&r)&&(i[o]=Dv(c,e)):a<=e&&(t.expiredLanes|=c),s&=~c}}function Va(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function dp(){var t=Gs;return Gs<<=1,!(Gs&4194240)&&(Gs=64),t}function Yl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ts(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-At(e),t[e]=n}function Lv(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-At(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function qc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-At(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var se=0;function fp(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var hp,Xc,pp,mp,gp,Ha=!1,Qs=[],Sn=null,Cn=null,En=null,es=new Map,ts=new Map,vn=[],Mv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Md(t,e){switch(t){case"focusin":case"focusout":Sn=null;break;case"dragenter":case"dragleave":Cn=null;break;case"mouseover":case"mouseout":En=null;break;case"pointerover":case"pointerout":es.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ts.delete(e.pointerId)}}function Si(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Is(e),e!==null&&Xc(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Fv(t,e,n,r,i){switch(e){case"focusin":return Sn=Si(Sn,t,e,n,r,i),!0;case"dragenter":return Cn=Si(Cn,t,e,n,r,i),!0;case"mouseover":return En=Si(En,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return es.set(s,Si(es.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ts.set(s,Si(ts.get(s)||null,t,e,n,r,i)),!0}return!1}function yp(t){var e=Qn(t.target);if(e!==null){var n=ur(e);if(n!==null){if(e=n.tag,e===13){if(e=sp(n),e!==null){t.blockedOn=e,gp(t.priority,function(){pp(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function co(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ga(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Wa=r,n.target.dispatchEvent(r),Wa=null}else return e=Is(n),e!==null&&Xc(e),t.blockedOn=n,!1;e.shift()}return!0}function Fd(t,e,n){co(t)&&n.delete(e)}function zv(){Ha=!1,Sn!==null&&co(Sn)&&(Sn=null),Cn!==null&&co(Cn)&&(Cn=null),En!==null&&co(En)&&(En=null),es.forEach(Fd),ts.forEach(Fd)}function Ci(t,e){t.blockedOn===e&&(t.blockedOn=null,Ha||(Ha=!0,ht.unstable_scheduleCallback(ht.unstable_NormalPriority,zv)))}function ns(t){function e(i){return Ci(i,t)}if(0<Qs.length){Ci(Qs[0],t);for(var n=1;n<Qs.length;n++){var r=Qs[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Sn!==null&&Ci(Sn,t),Cn!==null&&Ci(Cn,t),En!==null&&Ci(En,t),es.forEach(e),ts.forEach(e),n=0;n<vn.length;n++)r=vn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<vn.length&&(n=vn[0],n.blockedOn===null);)yp(n),n.blockedOn===null&&vn.shift()}var zr=an.ReactCurrentBatchConfig,No=!0;function Wv(t,e,n,r){var i=se,s=zr.transition;zr.transition=null;try{se=1,Jc(t,e,n,r)}finally{se=i,zr.transition=s}}function Bv(t,e,n,r){var i=se,s=zr.transition;zr.transition=null;try{se=4,Jc(t,e,n,r)}finally{se=i,zr.transition=s}}function Jc(t,e,n,r){if(No){var i=Ga(t,e,n,r);if(i===null)ra(t,e,r,To,n),Md(t,r);else if(Fv(i,t,e,n,r))r.stopPropagation();else if(Md(t,r),e&4&&-1<Mv.indexOf(t)){for(;i!==null;){var s=Is(i);if(s!==null&&hp(s),s=Ga(t,e,n,r),s===null&&ra(t,e,r,To,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ra(t,e,r,null,n)}}var To=null;function Ga(t,e,n,r){if(To=null,t=Qc(r),t=Qn(t),t!==null)if(e=ur(t),e===null)t=null;else if(n=e.tag,n===13){if(t=sp(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return To=t,null}function vp(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bv()){case Kc:return 1;case cp:return 4;case Eo:case Iv:return 16;case up:return 536870912;default:return 16}default:return 16}}var xn=null,Zc=null,uo=null;function _p(){if(uo)return uo;var t,e=Zc,n=e.length,r,i="value"in xn?xn.value:xn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return uo=i.slice(t,1<r?1-r:void 0)}function fo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ks(){return!0}function zd(){return!1}function mt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(s):s[c]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ks:zd,this.isPropagationStopped=zd,this}return ve(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ks)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ks)},persist:function(){},isPersistent:Ks}),e}var ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},eu=mt(ri),bs=ve({},ri,{view:0,detail:0}),Uv=mt(bs),Ql,Kl,Ei,ul=ve({},bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ei&&(Ei&&t.type==="mousemove"?(Ql=t.screenX-Ei.screenX,Kl=t.screenY-Ei.screenY):Kl=Ql=0,Ei=t),Ql)},movementY:function(t){return"movementY"in t?t.movementY:Kl}}),Wd=mt(ul),$v=ve({},ul,{dataTransfer:0}),Vv=mt($v),Hv=ve({},bs,{relatedTarget:0}),ql=mt(Hv),Gv=ve({},ri,{animationName:0,elapsedTime:0,pseudoElement:0}),Yv=mt(Gv),Qv=ve({},ri,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Kv=mt(Qv),qv=ve({},ri,{data:0}),Bd=mt(qv),Xv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function e_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Zv[t])?!!e[t]:!1}function tu(){return e_}var t_=ve({},bs,{key:function(t){if(t.key){var e=Xv[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=fo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Jv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tu,charCode:function(t){return t.type==="keypress"?fo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),n_=mt(t_),r_=ve({},ul,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ud=mt(r_),i_=ve({},bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tu}),s_=mt(i_),o_=ve({},ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),l_=mt(o_),a_=ve({},ul,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),c_=mt(a_),u_=[9,13,27,32],nu=tn&&"CompositionEvent"in window,zi=null;tn&&"documentMode"in document&&(zi=document.documentMode);var d_=tn&&"TextEvent"in window&&!zi,xp=tn&&(!nu||zi&&8<zi&&11>=zi),$d=" ",Vd=!1;function wp(t,e){switch(t){case"keyup":return u_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var kr=!1;function f_(t,e){switch(t){case"compositionend":return Sp(e);case"keypress":return e.which!==32?null:(Vd=!0,$d);case"textInput":return t=e.data,t===$d&&Vd?null:t;default:return null}}function h_(t,e){if(kr)return t==="compositionend"||!nu&&wp(t,e)?(t=_p(),uo=Zc=xn=null,kr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return xp&&e.locale!=="ko"?null:e.data;default:return null}}var p_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!p_[t.type]:e==="textarea"}function Cp(t,e,n,r){ep(r),e=bo(e,"onChange"),0<e.length&&(n=new eu("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Wi=null,rs=null;function m_(t){Dp(t,0)}function dl(t){var e=br(t);if(Yh(e))return t}function g_(t,e){if(t==="change")return e}var Ep=!1;if(tn){var Xl;if(tn){var Jl="oninput"in document;if(!Jl){var Gd=document.createElement("div");Gd.setAttribute("oninput","return;"),Jl=typeof Gd.oninput=="function"}Xl=Jl}else Xl=!1;Ep=Xl&&(!document.documentMode||9<document.documentMode)}function Yd(){Wi&&(Wi.detachEvent("onpropertychange",kp),rs=Wi=null)}function kp(t){if(t.propertyName==="value"&&dl(rs)){var e=[];Cp(e,rs,t,Qc(t)),ip(m_,e)}}function y_(t,e,n){t==="focusin"?(Yd(),Wi=e,rs=n,Wi.attachEvent("onpropertychange",kp)):t==="focusout"&&Yd()}function v_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return dl(rs)}function __(t,e){if(t==="click")return dl(e)}function x_(t,e){if(t==="input"||t==="change")return dl(e)}function w_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Lt=typeof Object.is=="function"?Object.is:w_;function is(t,e){if(Lt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ba.call(e,i)||!Lt(t[i],e[i]))return!1}return!0}function Qd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Kd(t,e){var n=Qd(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Qd(n)}}function Np(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Np(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Tp(){for(var t=window,e=wo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=wo(t.document)}return e}function ru(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function S_(t){var e=Tp(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Np(n.ownerDocument.documentElement,n)){if(r!==null&&ru(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Kd(n,s);var o=Kd(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var C_=tn&&"documentMode"in document&&11>=document.documentMode,Nr=null,Ya=null,Bi=null,Qa=!1;function qd(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qa||Nr==null||Nr!==wo(r)||(r=Nr,"selectionStart"in r&&ru(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Bi&&is(Bi,r)||(Bi=r,r=bo(Ya,"onSelect"),0<r.length&&(e=new eu("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Nr)))}function qs(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Tr={animationend:qs("Animation","AnimationEnd"),animationiteration:qs("Animation","AnimationIteration"),animationstart:qs("Animation","AnimationStart"),transitionend:qs("Transition","TransitionEnd")},Zl={},bp={};tn&&(bp=document.createElement("div").style,"AnimationEvent"in window||(delete Tr.animationend.animation,delete Tr.animationiteration.animation,delete Tr.animationstart.animation),"TransitionEvent"in window||delete Tr.transitionend.transition);function fl(t){if(Zl[t])return Zl[t];if(!Tr[t])return t;var e=Tr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in bp)return Zl[t]=e[n];return t}var Ip=fl("animationend"),Pp=fl("animationiteration"),jp=fl("animationstart"),Rp=fl("transitionend"),Ap=new Map,Xd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zn(t,e){Ap.set(t,e),cr(e,[t])}for(var ea=0;ea<Xd.length;ea++){var ta=Xd[ea],E_=ta.toLowerCase(),k_=ta[0].toUpperCase()+ta.slice(1);zn(E_,"on"+k_)}zn(Ip,"onAnimationEnd");zn(Pp,"onAnimationIteration");zn(jp,"onAnimationStart");zn("dblclick","onDoubleClick");zn("focusin","onFocus");zn("focusout","onBlur");zn(Rp,"onTransitionEnd");Hr("onMouseEnter",["mouseout","mouseover"]);Hr("onMouseLeave",["mouseout","mouseover"]);Hr("onPointerEnter",["pointerout","pointerover"]);Hr("onPointerLeave",["pointerout","pointerover"]);cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cr("onBeforeInput",["compositionend","keypress","textInput","paste"]);cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Li="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Li));function Jd(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Ev(r,e,void 0,t),t.currentTarget=null}function Dp(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var c=r[o],a=c.instance,u=c.currentTarget;if(c=c.listener,a!==s&&i.isPropagationStopped())break e;Jd(i,c,u),s=a}else for(o=0;o<r.length;o++){if(c=r[o],a=c.instance,u=c.currentTarget,c=c.listener,a!==s&&i.isPropagationStopped())break e;Jd(i,c,u),s=a}}}if(Co)throw t=$a,Co=!1,$a=null,t}function de(t,e){var n=e[Za];n===void 0&&(n=e[Za]=new Set);var r=t+"__bubble";n.has(r)||(Op(e,t,2,!1),n.add(r))}function na(t,e,n){var r=0;e&&(r|=4),Op(n,t,r,e)}var Xs="_reactListening"+Math.random().toString(36).slice(2);function ss(t){if(!t[Xs]){t[Xs]=!0,Uh.forEach(function(n){n!=="selectionchange"&&(N_.has(n)||na(n,!1,t),na(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Xs]||(e[Xs]=!0,na("selectionchange",!1,e))}}function Op(t,e,n,r){switch(vp(e)){case 1:var i=Wv;break;case 4:i=Bv;break;default:i=Jc}n=i.bind(null,e,n,t),i=void 0,!Ua||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ra(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var c=r.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;c!==null;){if(o=Qn(c),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}c=c.parentNode}}r=r.return}ip(function(){var u=s,p=Qc(n),h=[];e:{var f=Ap.get(t);if(f!==void 0){var _=eu,S=t;switch(t){case"keypress":if(fo(n)===0)break e;case"keydown":case"keyup":_=n_;break;case"focusin":S="focus",_=ql;break;case"focusout":S="blur",_=ql;break;case"beforeblur":case"afterblur":_=ql;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Wd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=Vv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=s_;break;case Ip:case Pp:case jp:_=Yv;break;case Rp:_=l_;break;case"scroll":_=Uv;break;case"wheel":_=c_;break;case"copy":case"cut":case"paste":_=Kv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Ud}var w=(e&4)!==0,C=!w&&t==="scroll",g=w?f!==null?f+"Capture":null:f;w=[];for(var m=u,x;m!==null;){x=m;var k=x.stateNode;if(x.tag===5&&k!==null&&(x=k,g!==null&&(k=Zi(m,g),k!=null&&w.push(os(m,k,x)))),C)break;m=m.return}0<w.length&&(f=new _(f,S,null,n,p),h.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",f&&n!==Wa&&(S=n.relatedTarget||n.fromElement)&&(Qn(S)||S[nn]))break e;if((_||f)&&(f=p.window===p?p:(f=p.ownerDocument)?f.defaultView||f.parentWindow:window,_?(S=n.relatedTarget||n.toElement,_=u,S=S?Qn(S):null,S!==null&&(C=ur(S),S!==C||S.tag!==5&&S.tag!==6)&&(S=null)):(_=null,S=u),_!==S)){if(w=Wd,k="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(w=Ud,k="onPointerLeave",g="onPointerEnter",m="pointer"),C=_==null?f:br(_),x=S==null?f:br(S),f=new w(k,m+"leave",_,n,p),f.target=C,f.relatedTarget=x,k=null,Qn(p)===u&&(w=new w(g,m+"enter",S,n,p),w.target=x,w.relatedTarget=C,k=w),C=k,_&&S)t:{for(w=_,g=S,m=0,x=w;x;x=wr(x))m++;for(x=0,k=g;k;k=wr(k))x++;for(;0<m-x;)w=wr(w),m--;for(;0<x-m;)g=wr(g),x--;for(;m--;){if(w===g||g!==null&&w===g.alternate)break t;w=wr(w),g=wr(g)}w=null}else w=null;_!==null&&Zd(h,f,_,w,!1),S!==null&&C!==null&&Zd(h,C,S,w,!0)}}e:{if(f=u?br(u):window,_=f.nodeName&&f.nodeName.toLowerCase(),_==="select"||_==="input"&&f.type==="file")var A=g_;else if(Hd(f))if(Ep)A=x_;else{A=v_;var E=y_}else(_=f.nodeName)&&_.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(A=__);if(A&&(A=A(t,u))){Cp(h,A,n,p);break e}E&&E(t,f,u),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&Oa(f,"number",f.value)}switch(E=u?br(u):window,t){case"focusin":(Hd(E)||E.contentEditable==="true")&&(Nr=E,Ya=u,Bi=null);break;case"focusout":Bi=Ya=Nr=null;break;case"mousedown":Qa=!0;break;case"contextmenu":case"mouseup":case"dragend":Qa=!1,qd(h,n,p);break;case"selectionchange":if(C_)break;case"keydown":case"keyup":qd(h,n,p)}var b;if(nu)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else kr?wp(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(xp&&n.locale!=="ko"&&(kr||R!=="onCompositionStart"?R==="onCompositionEnd"&&kr&&(b=_p()):(xn=p,Zc="value"in xn?xn.value:xn.textContent,kr=!0)),E=bo(u,R),0<E.length&&(R=new Bd(R,t,null,n,p),h.push({event:R,listeners:E}),b?R.data=b:(b=Sp(n),b!==null&&(R.data=b)))),(b=d_?f_(t,n):h_(t,n))&&(u=bo(u,"onBeforeInput"),0<u.length&&(p=new Bd("onBeforeInput","beforeinput",null,n,p),h.push({event:p,listeners:u}),p.data=b))}Dp(h,e)})}function os(t,e,n){return{instance:t,listener:e,currentTarget:n}}function bo(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Zi(t,n),s!=null&&r.unshift(os(t,s,i)),s=Zi(t,e),s!=null&&r.push(os(t,s,i))),t=t.return}return r}function wr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Zd(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var c=n,a=c.alternate,u=c.stateNode;if(a!==null&&a===r)break;c.tag===5&&u!==null&&(c=u,i?(a=Zi(n,s),a!=null&&o.unshift(os(n,a,c))):i||(a=Zi(n,s),a!=null&&o.push(os(n,a,c)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var T_=/\r\n?/g,b_=/\u0000|\uFFFD/g;function ef(t){return(typeof t=="string"?t:""+t).replace(T_,`
`).replace(b_,"")}function Js(t,e,n){if(e=ef(e),ef(t)!==e&&n)throw Error(P(425))}function Io(){}var Ka=null,qa=null;function Xa(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ja=typeof setTimeout=="function"?setTimeout:void 0,I_=typeof clearTimeout=="function"?clearTimeout:void 0,tf=typeof Promise=="function"?Promise:void 0,P_=typeof queueMicrotask=="function"?queueMicrotask:typeof tf<"u"?function(t){return tf.resolve(null).then(t).catch(j_)}:Ja;function j_(t){setTimeout(function(){throw t})}function ia(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ns(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ns(e)}function kn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function nf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ii=Math.random().toString(36).slice(2),Ut="__reactFiber$"+ii,ls="__reactProps$"+ii,nn="__reactContainer$"+ii,Za="__reactEvents$"+ii,R_="__reactListeners$"+ii,A_="__reactHandles$"+ii;function Qn(t){var e=t[Ut];if(e)return e;for(var n=t.parentNode;n;){if(e=n[nn]||n[Ut]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=nf(t);t!==null;){if(n=t[Ut])return n;t=nf(t)}return e}t=n,n=t.parentNode}return null}function Is(t){return t=t[Ut]||t[nn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function br(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(P(33))}function hl(t){return t[ls]||null}var ec=[],Ir=-1;function Wn(t){return{current:t}}function he(t){0>Ir||(t.current=ec[Ir],ec[Ir]=null,Ir--)}function ce(t,e){Ir++,ec[Ir]=t.current,t.current=e}var On={},Ke=Wn(On),st=Wn(!1),tr=On;function Gr(t,e){var n=t.type.contextTypes;if(!n)return On;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ot(t){return t=t.childContextTypes,t!=null}function Po(){he(st),he(Ke)}function rf(t,e,n){if(Ke.current!==On)throw Error(P(168));ce(Ke,e),ce(st,n)}function Lp(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(P(108,yv(t)||"Unknown",i));return ve({},n,r)}function jo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||On,tr=Ke.current,ce(Ke,t),ce(st,st.current),!0}function sf(t,e,n){var r=t.stateNode;if(!r)throw Error(P(169));n?(t=Lp(t,e,tr),r.__reactInternalMemoizedMergedChildContext=t,he(st),he(Ke),ce(Ke,t)):he(st),ce(st,n)}var Kt=null,pl=!1,sa=!1;function Mp(t){Kt===null?Kt=[t]:Kt.push(t)}function D_(t){pl=!0,Mp(t)}function Bn(){if(!sa&&Kt!==null){sa=!0;var t=0,e=se;try{var n=Kt;for(se=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Kt=null,pl=!1}catch(i){throw Kt!==null&&(Kt=Kt.slice(t+1)),ap(Kc,Bn),i}finally{se=e,sa=!1}}return null}var Pr=[],jr=0,Ro=null,Ao=0,_t=[],xt=0,nr=null,qt=1,Xt="";function Vn(t,e){Pr[jr++]=Ao,Pr[jr++]=Ro,Ro=t,Ao=e}function Fp(t,e,n){_t[xt++]=qt,_t[xt++]=Xt,_t[xt++]=nr,nr=t;var r=qt;t=Xt;var i=32-At(r)-1;r&=~(1<<i),n+=1;var s=32-At(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,qt=1<<32-At(e)+i|n<<i|r,Xt=s+t}else qt=1<<s|n<<i|r,Xt=t}function iu(t){t.return!==null&&(Vn(t,1),Fp(t,1,0))}function su(t){for(;t===Ro;)Ro=Pr[--jr],Pr[jr]=null,Ao=Pr[--jr],Pr[jr]=null;for(;t===nr;)nr=_t[--xt],_t[xt]=null,Xt=_t[--xt],_t[xt]=null,qt=_t[--xt],_t[xt]=null}var ft=null,dt=null,me=!1,It=null;function zp(t,e){var n=wt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function of(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ft=t,dt=kn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ft=t,dt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=nr!==null?{id:qt,overflow:Xt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=wt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ft=t,dt=null,!0):!1;default:return!1}}function tc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function nc(t){if(me){var e=dt;if(e){var n=e;if(!of(t,e)){if(tc(t))throw Error(P(418));e=kn(n.nextSibling);var r=ft;e&&of(t,e)?zp(r,n):(t.flags=t.flags&-4097|2,me=!1,ft=t)}}else{if(tc(t))throw Error(P(418));t.flags=t.flags&-4097|2,me=!1,ft=t}}}function lf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ft=t}function Zs(t){if(t!==ft)return!1;if(!me)return lf(t),me=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Xa(t.type,t.memoizedProps)),e&&(e=dt)){if(tc(t))throw Wp(),Error(P(418));for(;e;)zp(t,e),e=kn(e.nextSibling)}if(lf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){dt=kn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}dt=null}}else dt=ft?kn(t.stateNode.nextSibling):null;return!0}function Wp(){for(var t=dt;t;)t=kn(t.nextSibling)}function Yr(){dt=ft=null,me=!1}function ou(t){It===null?It=[t]:It.push(t)}var O_=an.ReactCurrentBatchConfig;function ki(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var c=i.refs;o===null?delete c[s]:c[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,t))}return t}function eo(t,e){throw t=Object.prototype.toString.call(e),Error(P(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function af(t){var e=t._init;return e(t._payload)}function Bp(t){function e(g,m){if(t){var x=g.deletions;x===null?(g.deletions=[m],g.flags|=16):x.push(m)}}function n(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function i(g,m){return g=In(g,m),g.index=0,g.sibling=null,g}function s(g,m,x){return g.index=x,t?(x=g.alternate,x!==null?(x=x.index,x<m?(g.flags|=2,m):x):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function c(g,m,x,k){return m===null||m.tag!==6?(m=fa(x,g.mode,k),m.return=g,m):(m=i(m,x),m.return=g,m)}function a(g,m,x,k){var A=x.type;return A===Er?p(g,m,x.props.children,k,x.key):m!==null&&(m.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===gn&&af(A)===m.type)?(k=i(m,x.props),k.ref=ki(g,m,x),k.return=g,k):(k=_o(x.type,x.key,x.props,null,g.mode,k),k.ref=ki(g,m,x),k.return=g,k)}function u(g,m,x,k){return m===null||m.tag!==4||m.stateNode.containerInfo!==x.containerInfo||m.stateNode.implementation!==x.implementation?(m=ha(x,g.mode,k),m.return=g,m):(m=i(m,x.children||[]),m.return=g,m)}function p(g,m,x,k,A){return m===null||m.tag!==7?(m=er(x,g.mode,k,A),m.return=g,m):(m=i(m,x),m.return=g,m)}function h(g,m,x){if(typeof m=="string"&&m!==""||typeof m=="number")return m=fa(""+m,g.mode,x),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case $s:return x=_o(m.type,m.key,m.props,null,g.mode,x),x.ref=ki(g,null,m),x.return=g,x;case Cr:return m=ha(m,g.mode,x),m.return=g,m;case gn:var k=m._init;return h(g,k(m._payload),x)}if(Di(m)||xi(m))return m=er(m,g.mode,x,null),m.return=g,m;eo(g,m)}return null}function f(g,m,x,k){var A=m!==null?m.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return A!==null?null:c(g,m,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case $s:return x.key===A?a(g,m,x,k):null;case Cr:return x.key===A?u(g,m,x,k):null;case gn:return A=x._init,f(g,m,A(x._payload),k)}if(Di(x)||xi(x))return A!==null?null:p(g,m,x,k,null);eo(g,x)}return null}function _(g,m,x,k,A){if(typeof k=="string"&&k!==""||typeof k=="number")return g=g.get(x)||null,c(m,g,""+k,A);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case $s:return g=g.get(k.key===null?x:k.key)||null,a(m,g,k,A);case Cr:return g=g.get(k.key===null?x:k.key)||null,u(m,g,k,A);case gn:var E=k._init;return _(g,m,x,E(k._payload),A)}if(Di(k)||xi(k))return g=g.get(x)||null,p(m,g,k,A,null);eo(m,k)}return null}function S(g,m,x,k){for(var A=null,E=null,b=m,R=m=0,G=null;b!==null&&R<x.length;R++){b.index>R?(G=b,b=null):G=b.sibling;var U=f(g,b,x[R],k);if(U===null){b===null&&(b=G);break}t&&b&&U.alternate===null&&e(g,b),m=s(U,m,R),E===null?A=U:E.sibling=U,E=U,b=G}if(R===x.length)return n(g,b),me&&Vn(g,R),A;if(b===null){for(;R<x.length;R++)b=h(g,x[R],k),b!==null&&(m=s(b,m,R),E===null?A=b:E.sibling=b,E=b);return me&&Vn(g,R),A}for(b=r(g,b);R<x.length;R++)G=_(b,g,R,x[R],k),G!==null&&(t&&G.alternate!==null&&b.delete(G.key===null?R:G.key),m=s(G,m,R),E===null?A=G:E.sibling=G,E=G);return t&&b.forEach(function(ee){return e(g,ee)}),me&&Vn(g,R),A}function w(g,m,x,k){var A=xi(x);if(typeof A!="function")throw Error(P(150));if(x=A.call(x),x==null)throw Error(P(151));for(var E=A=null,b=m,R=m=0,G=null,U=x.next();b!==null&&!U.done;R++,U=x.next()){b.index>R?(G=b,b=null):G=b.sibling;var ee=f(g,b,U.value,k);if(ee===null){b===null&&(b=G);break}t&&b&&ee.alternate===null&&e(g,b),m=s(ee,m,R),E===null?A=ee:E.sibling=ee,E=ee,b=G}if(U.done)return n(g,b),me&&Vn(g,R),A;if(b===null){for(;!U.done;R++,U=x.next())U=h(g,U.value,k),U!==null&&(m=s(U,m,R),E===null?A=U:E.sibling=U,E=U);return me&&Vn(g,R),A}for(b=r(g,b);!U.done;R++,U=x.next())U=_(b,g,R,U.value,k),U!==null&&(t&&U.alternate!==null&&b.delete(U.key===null?R:U.key),m=s(U,m,R),E===null?A=U:E.sibling=U,E=U);return t&&b.forEach(function(Te){return e(g,Te)}),me&&Vn(g,R),A}function C(g,m,x,k){if(typeof x=="object"&&x!==null&&x.type===Er&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case $s:e:{for(var A=x.key,E=m;E!==null;){if(E.key===A){if(A=x.type,A===Er){if(E.tag===7){n(g,E.sibling),m=i(E,x.props.children),m.return=g,g=m;break e}}else if(E.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===gn&&af(A)===E.type){n(g,E.sibling),m=i(E,x.props),m.ref=ki(g,E,x),m.return=g,g=m;break e}n(g,E);break}else e(g,E);E=E.sibling}x.type===Er?(m=er(x.props.children,g.mode,k,x.key),m.return=g,g=m):(k=_o(x.type,x.key,x.props,null,g.mode,k),k.ref=ki(g,m,x),k.return=g,g=k)}return o(g);case Cr:e:{for(E=x.key;m!==null;){if(m.key===E)if(m.tag===4&&m.stateNode.containerInfo===x.containerInfo&&m.stateNode.implementation===x.implementation){n(g,m.sibling),m=i(m,x.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else e(g,m);m=m.sibling}m=ha(x,g.mode,k),m.return=g,g=m}return o(g);case gn:return E=x._init,C(g,m,E(x._payload),k)}if(Di(x))return S(g,m,x,k);if(xi(x))return w(g,m,x,k);eo(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,m!==null&&m.tag===6?(n(g,m.sibling),m=i(m,x),m.return=g,g=m):(n(g,m),m=fa(x,g.mode,k),m.return=g,g=m),o(g)):n(g,m)}return C}var Qr=Bp(!0),Up=Bp(!1),Do=Wn(null),Oo=null,Rr=null,lu=null;function au(){lu=Rr=Oo=null}function cu(t){var e=Do.current;he(Do),t._currentValue=e}function rc(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Wr(t,e){Oo=t,lu=Rr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(rt=!0),t.firstContext=null)}function Ct(t){var e=t._currentValue;if(lu!==t)if(t={context:t,memoizedValue:e,next:null},Rr===null){if(Oo===null)throw Error(P(308));Rr=t,Oo.dependencies={lanes:0,firstContext:t}}else Rr=Rr.next=t;return e}var Kn=null;function uu(t){Kn===null?Kn=[t]:Kn.push(t)}function $p(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,uu(e)):(n.next=i.next,i.next=n),e.interleaved=n,rn(t,r)}function rn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var yn=!1;function du(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Nn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,te&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,rn(t,n)}return i=r.interleaved,i===null?(e.next=e,uu(r)):(e.next=i.next,i.next=e),r.interleaved=e,rn(t,n)}function ho(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qc(t,n)}}function cf(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Lo(t,e,n,r){var i=t.updateQueue;yn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var a=c,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var p=t.alternate;p!==null&&(p=p.updateQueue,c=p.lastBaseUpdate,c!==o&&(c===null?p.firstBaseUpdate=u:c.next=u,p.lastBaseUpdate=a))}if(s!==null){var h=i.baseState;o=0,p=u=a=null,c=s;do{var f=c.lane,_=c.eventTime;if((r&f)===f){p!==null&&(p=p.next={eventTime:_,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var S=t,w=c;switch(f=e,_=n,w.tag){case 1:if(S=w.payload,typeof S=="function"){h=S.call(_,h,f);break e}h=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=w.payload,f=typeof S=="function"?S.call(_,h,f):S,f==null)break e;h=ve({},h,f);break e;case 2:yn=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[c]:f.push(c))}else _={eventTime:_,lane:f,tag:c.tag,payload:c.payload,callback:c.callback,next:null},p===null?(u=p=_,a=h):p=p.next=_,o|=f;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;f=c,c=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(p===null&&(a=h),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ir|=o,t.lanes=o,t.memoizedState=h}}function uf(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(P(191,i));i.call(r)}}}var Ps={},Vt=Wn(Ps),as=Wn(Ps),cs=Wn(Ps);function qn(t){if(t===Ps)throw Error(P(174));return t}function fu(t,e){switch(ce(cs,e),ce(as,t),ce(Vt,Ps),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ma(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ma(e,t)}he(Vt),ce(Vt,e)}function Kr(){he(Vt),he(as),he(cs)}function Hp(t){qn(cs.current);var e=qn(Vt.current),n=Ma(e,t.type);e!==n&&(ce(as,t),ce(Vt,n))}function hu(t){as.current===t&&(he(Vt),he(as))}var ge=Wn(0);function Mo(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var oa=[];function pu(){for(var t=0;t<oa.length;t++)oa[t]._workInProgressVersionPrimary=null;oa.length=0}var po=an.ReactCurrentDispatcher,la=an.ReactCurrentBatchConfig,rr=0,ye=null,Pe=null,Fe=null,Fo=!1,Ui=!1,us=0,L_=0;function He(){throw Error(P(321))}function mu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Lt(t[n],e[n]))return!1;return!0}function gu(t,e,n,r,i,s){if(rr=s,ye=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,po.current=t===null||t.memoizedState===null?W_:B_,t=n(r,i),Ui){s=0;do{if(Ui=!1,us=0,25<=s)throw Error(P(301));s+=1,Fe=Pe=null,e.updateQueue=null,po.current=U_,t=n(r,i)}while(Ui)}if(po.current=zo,e=Pe!==null&&Pe.next!==null,rr=0,Fe=Pe=ye=null,Fo=!1,e)throw Error(P(300));return t}function yu(){var t=us!==0;return us=0,t}function Bt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?ye.memoizedState=Fe=t:Fe=Fe.next=t,Fe}function Et(){if(Pe===null){var t=ye.alternate;t=t!==null?t.memoizedState:null}else t=Pe.next;var e=Fe===null?ye.memoizedState:Fe.next;if(e!==null)Fe=e,Pe=t;else{if(t===null)throw Error(P(310));Pe=t,t={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},Fe===null?ye.memoizedState=Fe=t:Fe=Fe.next=t}return Fe}function ds(t,e){return typeof e=="function"?e(t):e}function aa(t){var e=Et(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=Pe,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var c=o=null,a=null,u=s;do{var p=u.lane;if((rr&p)===p)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:p,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(c=a=h,o=r):a=a.next=h,ye.lanes|=p,ir|=p}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=c,Lt(r,e.memoizedState)||(rt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ye.lanes|=s,ir|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ca(t){var e=Et(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Lt(s,e.memoizedState)||(rt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Gp(){}function Yp(t,e){var n=ye,r=Et(),i=e(),s=!Lt(r.memoizedState,i);if(s&&(r.memoizedState=i,rt=!0),r=r.queue,vu(qp.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Fe!==null&&Fe.memoizedState.tag&1){if(n.flags|=2048,fs(9,Kp.bind(null,n,r,i,e),void 0,null),Be===null)throw Error(P(349));rr&30||Qp(n,e,i)}return i}function Qp(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ye.updateQueue,e===null?(e={lastEffect:null,stores:null},ye.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Kp(t,e,n,r){e.value=n,e.getSnapshot=r,Xp(e)&&Jp(t)}function qp(t,e,n){return n(function(){Xp(e)&&Jp(t)})}function Xp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Lt(t,n)}catch{return!0}}function Jp(t){var e=rn(t,1);e!==null&&Dt(e,t,1,-1)}function df(t){var e=Bt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:t},e.queue=t,t=t.dispatch=z_.bind(null,ye,t),[e.memoizedState,t]}function fs(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ye.updateQueue,e===null?(e={lastEffect:null,stores:null},ye.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Zp(){return Et().memoizedState}function mo(t,e,n,r){var i=Bt();ye.flags|=t,i.memoizedState=fs(1|e,n,void 0,r===void 0?null:r)}function ml(t,e,n,r){var i=Et();r=r===void 0?null:r;var s=void 0;if(Pe!==null){var o=Pe.memoizedState;if(s=o.destroy,r!==null&&mu(r,o.deps)){i.memoizedState=fs(e,n,s,r);return}}ye.flags|=t,i.memoizedState=fs(1|e,n,s,r)}function ff(t,e){return mo(8390656,8,t,e)}function vu(t,e){return ml(2048,8,t,e)}function em(t,e){return ml(4,2,t,e)}function tm(t,e){return ml(4,4,t,e)}function nm(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function rm(t,e,n){return n=n!=null?n.concat([t]):null,ml(4,4,nm.bind(null,e,t),n)}function _u(){}function im(t,e){var n=Et();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&mu(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function sm(t,e){var n=Et();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&mu(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function om(t,e,n){return rr&21?(Lt(n,e)||(n=dp(),ye.lanes|=n,ir|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,rt=!0),t.memoizedState=n)}function M_(t,e){var n=se;se=n!==0&&4>n?n:4,t(!0);var r=la.transition;la.transition={};try{t(!1),e()}finally{se=n,la.transition=r}}function lm(){return Et().memoizedState}function F_(t,e,n){var r=bn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},am(t))cm(e,n);else if(n=$p(t,e,n,r),n!==null){var i=Je();Dt(n,t,r,i),um(n,e,r)}}function z_(t,e,n){var r=bn(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(am(t))cm(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,c=s(o,n);if(i.hasEagerState=!0,i.eagerState=c,Lt(c,o)){var a=e.interleaved;a===null?(i.next=i,uu(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=$p(t,e,i,r),n!==null&&(i=Je(),Dt(n,t,r,i),um(n,e,r))}}function am(t){var e=t.alternate;return t===ye||e!==null&&e===ye}function cm(t,e){Ui=Fo=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function um(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qc(t,n)}}var zo={readContext:Ct,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useInsertionEffect:He,useLayoutEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useMutableSource:He,useSyncExternalStore:He,useId:He,unstable_isNewReconciler:!1},W_={readContext:Ct,useCallback:function(t,e){return Bt().memoizedState=[t,e===void 0?null:e],t},useContext:Ct,useEffect:ff,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,mo(4194308,4,nm.bind(null,e,t),n)},useLayoutEffect:function(t,e){return mo(4194308,4,t,e)},useInsertionEffect:function(t,e){return mo(4,2,t,e)},useMemo:function(t,e){var n=Bt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Bt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=F_.bind(null,ye,t),[r.memoizedState,t]},useRef:function(t){var e=Bt();return t={current:t},e.memoizedState=t},useState:df,useDebugValue:_u,useDeferredValue:function(t){return Bt().memoizedState=t},useTransition:function(){var t=df(!1),e=t[0];return t=M_.bind(null,t[1]),Bt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ye,i=Bt();if(me){if(n===void 0)throw Error(P(407));n=n()}else{if(n=e(),Be===null)throw Error(P(349));rr&30||Qp(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,ff(qp.bind(null,r,s,t),[t]),r.flags|=2048,fs(9,Kp.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Bt(),e=Be.identifierPrefix;if(me){var n=Xt,r=qt;n=(r&~(1<<32-At(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=us++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=L_++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},B_={readContext:Ct,useCallback:im,useContext:Ct,useEffect:vu,useImperativeHandle:rm,useInsertionEffect:em,useLayoutEffect:tm,useMemo:sm,useReducer:aa,useRef:Zp,useState:function(){return aa(ds)},useDebugValue:_u,useDeferredValue:function(t){var e=Et();return om(e,Pe.memoizedState,t)},useTransition:function(){var t=aa(ds)[0],e=Et().memoizedState;return[t,e]},useMutableSource:Gp,useSyncExternalStore:Yp,useId:lm,unstable_isNewReconciler:!1},U_={readContext:Ct,useCallback:im,useContext:Ct,useEffect:vu,useImperativeHandle:rm,useInsertionEffect:em,useLayoutEffect:tm,useMemo:sm,useReducer:ca,useRef:Zp,useState:function(){return ca(ds)},useDebugValue:_u,useDeferredValue:function(t){var e=Et();return Pe===null?e.memoizedState=t:om(e,Pe.memoizedState,t)},useTransition:function(){var t=ca(ds)[0],e=Et().memoizedState;return[t,e]},useMutableSource:Gp,useSyncExternalStore:Yp,useId:lm,unstable_isNewReconciler:!1};function Tt(t,e){if(t&&t.defaultProps){e=ve({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ic(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ve({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var gl={isMounted:function(t){return(t=t._reactInternals)?ur(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Je(),i=bn(t),s=Zt(r,i);s.payload=e,n!=null&&(s.callback=n),e=Nn(t,s,i),e!==null&&(Dt(e,t,i,r),ho(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Je(),i=bn(t),s=Zt(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Nn(t,s,i),e!==null&&(Dt(e,t,i,r),ho(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Je(),r=bn(t),i=Zt(n,r);i.tag=2,e!=null&&(i.callback=e),e=Nn(t,i,r),e!==null&&(Dt(e,t,r,n),ho(e,t,r))}};function hf(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!is(n,r)||!is(i,s):!0}function dm(t,e,n){var r=!1,i=On,s=e.contextType;return typeof s=="object"&&s!==null?s=Ct(s):(i=ot(e)?tr:Ke.current,r=e.contextTypes,s=(r=r!=null)?Gr(t,i):On),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=gl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function pf(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&gl.enqueueReplaceState(e,e.state,null)}function sc(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},du(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ct(s):(s=ot(e)?tr:Ke.current,i.context=Gr(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ic(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&gl.enqueueReplaceState(i,i.state,null),Lo(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function qr(t,e){try{var n="",r=e;do n+=gv(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function ua(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function oc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var $_=typeof WeakMap=="function"?WeakMap:Map;function fm(t,e,n){n=Zt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Bo||(Bo=!0,gc=r),oc(t,e)},n}function hm(t,e,n){n=Zt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){oc(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){oc(t,e),typeof r!="function"&&(Tn===null?Tn=new Set([this]):Tn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function mf(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new $_;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=r0.bind(null,t,e,n),e.then(t,t))}function gf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function yf(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Zt(-1,1),e.tag=2,Nn(n,e,1))),n.lanes|=1),t)}var V_=an.ReactCurrentOwner,rt=!1;function qe(t,e,n,r){e.child=t===null?Up(e,null,n,r):Qr(e,t.child,n,r)}function vf(t,e,n,r,i){n=n.render;var s=e.ref;return Wr(e,i),r=gu(t,e,n,r,s,i),n=yu(),t!==null&&!rt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,sn(t,e,i)):(me&&n&&iu(e),e.flags|=1,qe(t,e,r,i),e.child)}function _f(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Tu(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,pm(t,e,s,r,i)):(t=_o(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:is,n(o,r)&&t.ref===e.ref)return sn(t,e,i)}return e.flags|=1,t=In(s,r),t.ref=e.ref,t.return=e,e.child=t}function pm(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(is(s,r)&&t.ref===e.ref)if(rt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(rt=!0);else return e.lanes=t.lanes,sn(t,e,i)}return lc(t,e,n,r,i)}function mm(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(Dr,ut),ut|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ce(Dr,ut),ut|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ce(Dr,ut),ut|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ce(Dr,ut),ut|=r;return qe(t,e,i,n),e.child}function gm(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function lc(t,e,n,r,i){var s=ot(n)?tr:Ke.current;return s=Gr(e,s),Wr(e,i),n=gu(t,e,n,r,s,i),r=yu(),t!==null&&!rt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,sn(t,e,i)):(me&&r&&iu(e),e.flags|=1,qe(t,e,n,i),e.child)}function xf(t,e,n,r,i){if(ot(n)){var s=!0;jo(e)}else s=!1;if(Wr(e,i),e.stateNode===null)go(t,e),dm(e,n,r),sc(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,c=e.memoizedProps;o.props=c;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ct(u):(u=ot(n)?tr:Ke.current,u=Gr(e,u));var p=n.getDerivedStateFromProps,h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==r||a!==u)&&pf(e,o,r,u),yn=!1;var f=e.memoizedState;o.state=f,Lo(e,r,o,i),a=e.memoizedState,c!==r||f!==a||st.current||yn?(typeof p=="function"&&(ic(e,n,p,r),a=e.memoizedState),(c=yn||hf(e,n,c,r,f,a,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=u,r=c):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Vp(t,e),c=e.memoizedProps,u=e.type===e.elementType?c:Tt(e.type,c),o.props=u,h=e.pendingProps,f=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Ct(a):(a=ot(n)?tr:Ke.current,a=Gr(e,a));var _=n.getDerivedStateFromProps;(p=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==h||f!==a)&&pf(e,o,r,a),yn=!1,f=e.memoizedState,o.state=f,Lo(e,r,o,i);var S=e.memoizedState;c!==h||f!==S||st.current||yn?(typeof _=="function"&&(ic(e,n,_,r),S=e.memoizedState),(u=yn||hf(e,n,u,r,f,S,a)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),o.props=r,o.state=S,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||c===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return ac(t,e,n,r,s,i)}function ac(t,e,n,r,i,s){gm(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&sf(e,n,!1),sn(t,e,s);r=e.stateNode,V_.current=e;var c=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Qr(e,t.child,null,s),e.child=Qr(e,null,c,s)):qe(t,e,c,s),e.memoizedState=r.state,i&&sf(e,n,!0),e.child}function ym(t){var e=t.stateNode;e.pendingContext?rf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&rf(t,e.context,!1),fu(t,e.containerInfo)}function wf(t,e,n,r,i){return Yr(),ou(i),e.flags|=256,qe(t,e,n,r),e.child}var cc={dehydrated:null,treeContext:null,retryLane:0};function uc(t){return{baseLanes:t,cachePool:null,transitions:null}}function vm(t,e,n){var r=e.pendingProps,i=ge.current,s=!1,o=(e.flags&128)!==0,c;if((c=o)||(c=t!==null&&t.memoizedState===null?!1:(i&2)!==0),c?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ce(ge,i&1),t===null)return nc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=_l(o,r,0,null),t=er(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=uc(n),e.memoizedState=cc,t):xu(e,o));if(i=t.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return H_(t,e,o,r,c,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,c=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=In(i,a),r.subtreeFlags=i.subtreeFlags&14680064),c!==null?s=In(c,s):(s=er(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?uc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=cc,r}return s=t.child,t=s.sibling,r=In(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function xu(t,e){return e=_l({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function to(t,e,n,r){return r!==null&&ou(r),Qr(e,t.child,null,n),t=xu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function H_(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=ua(Error(P(422))),to(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=_l({mode:"visible",children:r.children},i,0,null),s=er(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Qr(e,t.child,null,o),e.child.memoizedState=uc(o),e.memoizedState=cc,s);if(!(e.mode&1))return to(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var c=r.dgst;return r=c,s=Error(P(419)),r=ua(s,r,void 0),to(t,e,o,r)}if(c=(o&t.childLanes)!==0,rt||c){if(r=Be,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,rn(t,i),Dt(r,t,i,-1))}return Nu(),r=ua(Error(P(421))),to(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=i0.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,dt=kn(i.nextSibling),ft=e,me=!0,It=null,t!==null&&(_t[xt++]=qt,_t[xt++]=Xt,_t[xt++]=nr,qt=t.id,Xt=t.overflow,nr=e),e=xu(e,r.children),e.flags|=4096,e)}function Sf(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),rc(t.return,e,n)}function da(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function _m(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(qe(t,e,r.children,n),r=ge.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Sf(t,n,e);else if(t.tag===19)Sf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ce(ge,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Mo(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),da(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Mo(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}da(e,!0,n,null,s);break;case"together":da(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function go(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function sn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ir|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(P(153));if(e.child!==null){for(t=e.child,n=In(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=In(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function G_(t,e,n){switch(e.tag){case 3:ym(e),Yr();break;case 5:Hp(e);break;case 1:ot(e.type)&&jo(e);break;case 4:fu(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ce(Do,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ce(ge,ge.current&1),e.flags|=128,null):n&e.child.childLanes?vm(t,e,n):(ce(ge,ge.current&1),t=sn(t,e,n),t!==null?t.sibling:null);ce(ge,ge.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return _m(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ce(ge,ge.current),r)break;return null;case 22:case 23:return e.lanes=0,mm(t,e,n)}return sn(t,e,n)}var xm,dc,wm,Sm;xm=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};dc=function(){};wm=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,qn(Vt.current);var s=null;switch(n){case"input":i=Aa(t,i),r=Aa(t,r),s=[];break;case"select":i=ve({},i,{value:void 0}),r=ve({},r,{value:void 0}),s=[];break;case"textarea":i=La(t,i),r=La(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Io)}Fa(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var c=i[u];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Xi.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(c=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==c&&(a!=null||c!=null))if(u==="style")if(c){for(o in c)!c.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&c[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,c=c?c.__html:void 0,a!=null&&c!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Xi.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&de("scroll",t),s||c===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Sm=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ni(t,e){if(!me)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ge(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Y_(t,e,n){var r=e.pendingProps;switch(su(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(e),null;case 1:return ot(e.type)&&Po(),Ge(e),null;case 3:return r=e.stateNode,Kr(),he(st),he(Ke),pu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Zs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,It!==null&&(_c(It),It=null))),dc(t,e),Ge(e),null;case 5:hu(e);var i=qn(cs.current);if(n=e.type,t!==null&&e.stateNode!=null)wm(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(P(166));return Ge(e),null}if(t=qn(Vt.current),Zs(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ut]=e,r[ls]=s,t=(e.mode&1)!==0,n){case"dialog":de("cancel",r),de("close",r);break;case"iframe":case"object":case"embed":de("load",r);break;case"video":case"audio":for(i=0;i<Li.length;i++)de(Li[i],r);break;case"source":de("error",r);break;case"img":case"image":case"link":de("error",r),de("load",r);break;case"details":de("toggle",r);break;case"input":Pd(r,s),de("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},de("invalid",r);break;case"textarea":Rd(r,s),de("invalid",r)}Fa(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var c=s[o];o==="children"?typeof c=="string"?r.textContent!==c&&(s.suppressHydrationWarning!==!0&&Js(r.textContent,c,t),i=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(s.suppressHydrationWarning!==!0&&Js(r.textContent,c,t),i=["children",""+c]):Xi.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&de("scroll",r)}switch(n){case"input":Vs(r),jd(r,s,!0);break;case"textarea":Vs(r),Ad(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Io)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=qh(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ut]=e,t[ls]=r,xm(t,e,!1,!1),e.stateNode=t;e:{switch(o=za(n,r),n){case"dialog":de("cancel",t),de("close",t),i=r;break;case"iframe":case"object":case"embed":de("load",t),i=r;break;case"video":case"audio":for(i=0;i<Li.length;i++)de(Li[i],t);i=r;break;case"source":de("error",t),i=r;break;case"img":case"image":case"link":de("error",t),de("load",t),i=r;break;case"details":de("toggle",t),i=r;break;case"input":Pd(t,r),i=Aa(t,r),de("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ve({},r,{value:void 0}),de("invalid",t);break;case"textarea":Rd(t,r),i=La(t,r),de("invalid",t);break;default:i=r}Fa(n,i),c=i;for(s in c)if(c.hasOwnProperty(s)){var a=c[s];s==="style"?Zh(t,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Xh(t,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Ji(t,a):typeof a=="number"&&Ji(t,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Xi.hasOwnProperty(s)?a!=null&&s==="onScroll"&&de("scroll",t):a!=null&&Vc(t,s,a,o))}switch(n){case"input":Vs(t),jd(t,r,!1);break;case"textarea":Vs(t),Ad(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Dn(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Lr(t,!!r.multiple,s,!1):r.defaultValue!=null&&Lr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Io)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ge(e),null;case 6:if(t&&e.stateNode!=null)Sm(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(P(166));if(n=qn(cs.current),qn(Vt.current),Zs(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ut]=e,(s=r.nodeValue!==n)&&(t=ft,t!==null))switch(t.tag){case 3:Js(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Js(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ut]=e,e.stateNode=r}return Ge(e),null;case 13:if(he(ge),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(me&&dt!==null&&e.mode&1&&!(e.flags&128))Wp(),Yr(),e.flags|=98560,s=!1;else if(s=Zs(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(P(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(P(317));s[Ut]=e}else Yr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ge(e),s=!1}else It!==null&&(_c(It),It=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ge.current&1?Ae===0&&(Ae=3):Nu())),e.updateQueue!==null&&(e.flags|=4),Ge(e),null);case 4:return Kr(),dc(t,e),t===null&&ss(e.stateNode.containerInfo),Ge(e),null;case 10:return cu(e.type._context),Ge(e),null;case 17:return ot(e.type)&&Po(),Ge(e),null;case 19:if(he(ge),s=e.memoizedState,s===null)return Ge(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ni(s,!1);else{if(Ae!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Mo(t),o!==null){for(e.flags|=128,Ni(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ce(ge,ge.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ne()>Xr&&(e.flags|=128,r=!0,Ni(s,!1),e.lanes=4194304)}else{if(!r)if(t=Mo(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ni(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!me)return Ge(e),null}else 2*Ne()-s.renderingStartTime>Xr&&n!==1073741824&&(e.flags|=128,r=!0,Ni(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ne(),e.sibling=null,n=ge.current,ce(ge,r?n&1|2:n&1),e):(Ge(e),null);case 22:case 23:return ku(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ut&1073741824&&(Ge(e),e.subtreeFlags&6&&(e.flags|=8192)):Ge(e),null;case 24:return null;case 25:return null}throw Error(P(156,e.tag))}function Q_(t,e){switch(su(e),e.tag){case 1:return ot(e.type)&&Po(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Kr(),he(st),he(Ke),pu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return hu(e),null;case 13:if(he(ge),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(P(340));Yr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return he(ge),null;case 4:return Kr(),null;case 10:return cu(e.type._context),null;case 22:case 23:return ku(),null;case 24:return null;default:return null}}var no=!1,Ye=!1,K_=typeof WeakSet=="function"?WeakSet:Set,z=null;function Ar(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Se(t,e,r)}else n.current=null}function fc(t,e,n){try{n()}catch(r){Se(t,e,r)}}var Cf=!1;function q_(t,e){if(Ka=No,t=Tp(),ru(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,c=-1,a=-1,u=0,p=0,h=t,f=null;t:for(;;){for(var _;h!==n||i!==0&&h.nodeType!==3||(c=o+i),h!==s||r!==0&&h.nodeType!==3||(a=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(_=h.firstChild)!==null;)f=h,h=_;for(;;){if(h===t)break t;if(f===n&&++u===i&&(c=o),f===s&&++p===r&&(a=o),(_=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=_}n=c===-1||a===-1?null:{start:c,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(qa={focusedElem:t,selectionRange:n},No=!1,z=e;z!==null;)if(e=z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,z=t;else for(;z!==null;){e=z;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var w=S.memoizedProps,C=S.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(e.elementType===e.type?w:Tt(e.type,w),C);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(k){Se(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,z=t;break}z=e.return}return S=Cf,Cf=!1,S}function $i(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&fc(e,n,s)}i=i.next}while(i!==r)}}function yl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function hc(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Cm(t){var e=t.alternate;e!==null&&(t.alternate=null,Cm(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ut],delete e[ls],delete e[Za],delete e[R_],delete e[A_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Em(t){return t.tag===5||t.tag===3||t.tag===4}function Ef(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Em(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function pc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Io));else if(r!==4&&(t=t.child,t!==null))for(pc(t,e,n),t=t.sibling;t!==null;)pc(t,e,n),t=t.sibling}function mc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(mc(t,e,n),t=t.sibling;t!==null;)mc(t,e,n),t=t.sibling}var Ue=null,bt=!1;function hn(t,e,n){for(n=n.child;n!==null;)km(t,e,n),n=n.sibling}function km(t,e,n){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(cl,n)}catch{}switch(n.tag){case 5:Ye||Ar(n,e);case 6:var r=Ue,i=bt;Ue=null,hn(t,e,n),Ue=r,bt=i,Ue!==null&&(bt?(t=Ue,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ue.removeChild(n.stateNode));break;case 18:Ue!==null&&(bt?(t=Ue,n=n.stateNode,t.nodeType===8?ia(t.parentNode,n):t.nodeType===1&&ia(t,n),ns(t)):ia(Ue,n.stateNode));break;case 4:r=Ue,i=bt,Ue=n.stateNode.containerInfo,bt=!0,hn(t,e,n),Ue=r,bt=i;break;case 0:case 11:case 14:case 15:if(!Ye&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&fc(n,e,o),i=i.next}while(i!==r)}hn(t,e,n);break;case 1:if(!Ye&&(Ar(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){Se(n,e,c)}hn(t,e,n);break;case 21:hn(t,e,n);break;case 22:n.mode&1?(Ye=(r=Ye)||n.memoizedState!==null,hn(t,e,n),Ye=r):hn(t,e,n);break;default:hn(t,e,n)}}function kf(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new K_),e.forEach(function(r){var i=s0.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Nt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,c=o;e:for(;c!==null;){switch(c.tag){case 5:Ue=c.stateNode,bt=!1;break e;case 3:Ue=c.stateNode.containerInfo,bt=!0;break e;case 4:Ue=c.stateNode.containerInfo,bt=!0;break e}c=c.return}if(Ue===null)throw Error(P(160));km(s,o,i),Ue=null,bt=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){Se(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Nm(e,t),e=e.sibling}function Nm(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Nt(e,t),Wt(t),r&4){try{$i(3,t,t.return),yl(3,t)}catch(w){Se(t,t.return,w)}try{$i(5,t,t.return)}catch(w){Se(t,t.return,w)}}break;case 1:Nt(e,t),Wt(t),r&512&&n!==null&&Ar(n,n.return);break;case 5:if(Nt(e,t),Wt(t),r&512&&n!==null&&Ar(n,n.return),t.flags&32){var i=t.stateNode;try{Ji(i,"")}catch(w){Se(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,c=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{c==="input"&&s.type==="radio"&&s.name!=null&&Qh(i,s),za(c,o);var u=za(c,s);for(o=0;o<a.length;o+=2){var p=a[o],h=a[o+1];p==="style"?Zh(i,h):p==="dangerouslySetInnerHTML"?Xh(i,h):p==="children"?Ji(i,h):Vc(i,p,h,u)}switch(c){case"input":Da(i,s);break;case"textarea":Kh(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var _=s.value;_!=null?Lr(i,!!s.multiple,_,!1):f!==!!s.multiple&&(s.defaultValue!=null?Lr(i,!!s.multiple,s.defaultValue,!0):Lr(i,!!s.multiple,s.multiple?[]:"",!1))}i[ls]=s}catch(w){Se(t,t.return,w)}}break;case 6:if(Nt(e,t),Wt(t),r&4){if(t.stateNode===null)throw Error(P(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){Se(t,t.return,w)}}break;case 3:if(Nt(e,t),Wt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ns(e.containerInfo)}catch(w){Se(t,t.return,w)}break;case 4:Nt(e,t),Wt(t);break;case 13:Nt(e,t),Wt(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Cu=Ne())),r&4&&kf(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(Ye=(u=Ye)||p,Nt(e,t),Ye=u):Nt(e,t),Wt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!p&&t.mode&1)for(z=t,p=t.child;p!==null;){for(h=z=p;z!==null;){switch(f=z,_=f.child,f.tag){case 0:case 11:case 14:case 15:$i(4,f,f.return);break;case 1:Ar(f,f.return);var S=f.stateNode;if(typeof S.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(w){Se(r,n,w)}}break;case 5:Ar(f,f.return);break;case 22:if(f.memoizedState!==null){Tf(h);continue}}_!==null?(_.return=f,z=_):Tf(h)}p=p.sibling}e:for(p=null,h=t;;){if(h.tag===5){if(p===null){p=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(c=h.stateNode,a=h.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,c.style.display=Jh("display",o))}catch(w){Se(t,t.return,w)}}}else if(h.tag===6){if(p===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){Se(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;p===h&&(p=null),h=h.return}p===h&&(p=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Nt(e,t),Wt(t),r&4&&kf(t);break;case 21:break;default:Nt(e,t),Wt(t)}}function Wt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Em(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ji(i,""),r.flags&=-33);var s=Ef(t);mc(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,c=Ef(t);pc(t,c,o);break;default:throw Error(P(161))}}catch(a){Se(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function X_(t,e,n){z=t,Tm(t)}function Tm(t,e,n){for(var r=(t.mode&1)!==0;z!==null;){var i=z,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||no;if(!o){var c=i.alternate,a=c!==null&&c.memoizedState!==null||Ye;c=no;var u=Ye;if(no=o,(Ye=a)&&!u)for(z=i;z!==null;)o=z,a=o.child,o.tag===22&&o.memoizedState!==null?bf(i):a!==null?(a.return=o,z=a):bf(i);for(;s!==null;)z=s,Tm(s),s=s.sibling;z=i,no=c,Ye=u}Nf(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,z=s):Nf(t)}}function Nf(t){for(;z!==null;){var e=z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ye||yl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ye)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Tt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&uf(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}uf(e,o,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var p=u.memoizedState;if(p!==null){var h=p.dehydrated;h!==null&&ns(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}Ye||e.flags&512&&hc(e)}catch(f){Se(e,e.return,f)}}if(e===t){z=null;break}if(n=e.sibling,n!==null){n.return=e.return,z=n;break}z=e.return}}function Tf(t){for(;z!==null;){var e=z;if(e===t){z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,z=n;break}z=e.return}}function bf(t){for(;z!==null;){var e=z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{yl(4,e)}catch(a){Se(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){Se(e,i,a)}}var s=e.return;try{hc(e)}catch(a){Se(e,s,a)}break;case 5:var o=e.return;try{hc(e)}catch(a){Se(e,o,a)}}}catch(a){Se(e,e.return,a)}if(e===t){z=null;break}var c=e.sibling;if(c!==null){c.return=e.return,z=c;break}z=e.return}}var J_=Math.ceil,Wo=an.ReactCurrentDispatcher,wu=an.ReactCurrentOwner,St=an.ReactCurrentBatchConfig,te=0,Be=null,Ie=null,$e=0,ut=0,Dr=Wn(0),Ae=0,hs=null,ir=0,vl=0,Su=0,Vi=null,nt=null,Cu=0,Xr=1/0,Qt=null,Bo=!1,gc=null,Tn=null,ro=!1,wn=null,Uo=0,Hi=0,yc=null,yo=-1,vo=0;function Je(){return te&6?Ne():yo!==-1?yo:yo=Ne()}function bn(t){return t.mode&1?te&2&&$e!==0?$e&-$e:O_.transition!==null?(vo===0&&(vo=dp()),vo):(t=se,t!==0||(t=window.event,t=t===void 0?16:vp(t.type)),t):1}function Dt(t,e,n,r){if(50<Hi)throw Hi=0,yc=null,Error(P(185));Ts(t,n,r),(!(te&2)||t!==Be)&&(t===Be&&(!(te&2)&&(vl|=n),Ae===4&&_n(t,$e)),lt(t,r),n===1&&te===0&&!(e.mode&1)&&(Xr=Ne()+500,pl&&Bn()))}function lt(t,e){var n=t.callbackNode;Ov(t,e);var r=ko(t,t===Be?$e:0);if(r===0)n!==null&&Ld(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ld(n),e===1)t.tag===0?D_(If.bind(null,t)):Mp(If.bind(null,t)),P_(function(){!(te&6)&&Bn()}),n=null;else{switch(fp(r)){case 1:n=Kc;break;case 4:n=cp;break;case 16:n=Eo;break;case 536870912:n=up;break;default:n=Eo}n=Om(n,bm.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function bm(t,e){if(yo=-1,vo=0,te&6)throw Error(P(327));var n=t.callbackNode;if(Br()&&t.callbackNode!==n)return null;var r=ko(t,t===Be?$e:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=$o(t,r);else{e=r;var i=te;te|=2;var s=Pm();(Be!==t||$e!==e)&&(Qt=null,Xr=Ne()+500,Zn(t,e));do try{t0();break}catch(c){Im(t,c)}while(!0);au(),Wo.current=s,te=i,Ie!==null?e=0:(Be=null,$e=0,e=Ae)}if(e!==0){if(e===2&&(i=Va(t),i!==0&&(r=i,e=vc(t,i))),e===1)throw n=hs,Zn(t,0),_n(t,r),lt(t,Ne()),n;if(e===6)_n(t,r);else{if(i=t.current.alternate,!(r&30)&&!Z_(i)&&(e=$o(t,r),e===2&&(s=Va(t),s!==0&&(r=s,e=vc(t,s))),e===1))throw n=hs,Zn(t,0),_n(t,r),lt(t,Ne()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(P(345));case 2:Hn(t,nt,Qt);break;case 3:if(_n(t,r),(r&130023424)===r&&(e=Cu+500-Ne(),10<e)){if(ko(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Je(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ja(Hn.bind(null,t,nt,Qt),e);break}Hn(t,nt,Qt);break;case 4:if(_n(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-At(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ne()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*J_(r/1960))-r,10<r){t.timeoutHandle=Ja(Hn.bind(null,t,nt,Qt),r);break}Hn(t,nt,Qt);break;case 5:Hn(t,nt,Qt);break;default:throw Error(P(329))}}}return lt(t,Ne()),t.callbackNode===n?bm.bind(null,t):null}function vc(t,e){var n=Vi;return t.current.memoizedState.isDehydrated&&(Zn(t,e).flags|=256),t=$o(t,e),t!==2&&(e=nt,nt=n,e!==null&&_c(e)),t}function _c(t){nt===null?nt=t:nt.push.apply(nt,t)}function Z_(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Lt(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _n(t,e){for(e&=~Su,e&=~vl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-At(e),r=1<<n;t[n]=-1,e&=~r}}function If(t){if(te&6)throw Error(P(327));Br();var e=ko(t,0);if(!(e&1))return lt(t,Ne()),null;var n=$o(t,e);if(t.tag!==0&&n===2){var r=Va(t);r!==0&&(e=r,n=vc(t,r))}if(n===1)throw n=hs,Zn(t,0),_n(t,e),lt(t,Ne()),n;if(n===6)throw Error(P(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Hn(t,nt,Qt),lt(t,Ne()),null}function Eu(t,e){var n=te;te|=1;try{return t(e)}finally{te=n,te===0&&(Xr=Ne()+500,pl&&Bn())}}function sr(t){wn!==null&&wn.tag===0&&!(te&6)&&Br();var e=te;te|=1;var n=St.transition,r=se;try{if(St.transition=null,se=1,t)return t()}finally{se=r,St.transition=n,te=e,!(te&6)&&Bn()}}function ku(){ut=Dr.current,he(Dr)}function Zn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,I_(n)),Ie!==null)for(n=Ie.return;n!==null;){var r=n;switch(su(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Po();break;case 3:Kr(),he(st),he(Ke),pu();break;case 5:hu(r);break;case 4:Kr();break;case 13:he(ge);break;case 19:he(ge);break;case 10:cu(r.type._context);break;case 22:case 23:ku()}n=n.return}if(Be=t,Ie=t=In(t.current,null),$e=ut=e,Ae=0,hs=null,Su=vl=ir=0,nt=Vi=null,Kn!==null){for(e=0;e<Kn.length;e++)if(n=Kn[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Kn=null}return t}function Im(t,e){do{var n=Ie;try{if(au(),po.current=zo,Fo){for(var r=ye.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Fo=!1}if(rr=0,Fe=Pe=ye=null,Ui=!1,us=0,wu.current=null,n===null||n.return===null){Ae=1,hs=e,Ie=null;break}e:{var s=t,o=n.return,c=n,a=e;if(e=$e,c.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,p=c,h=p.tag;if(!(p.mode&1)&&(h===0||h===11||h===15)){var f=p.alternate;f?(p.updateQueue=f.updateQueue,p.memoizedState=f.memoizedState,p.lanes=f.lanes):(p.updateQueue=null,p.memoizedState=null)}var _=gf(o);if(_!==null){_.flags&=-257,yf(_,o,c,s,e),_.mode&1&&mf(s,u,e),e=_,a=u;var S=e.updateQueue;if(S===null){var w=new Set;w.add(a),e.updateQueue=w}else S.add(a);break e}else{if(!(e&1)){mf(s,u,e),Nu();break e}a=Error(P(426))}}else if(me&&c.mode&1){var C=gf(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),yf(C,o,c,s,e),ou(qr(a,c));break e}}s=a=qr(a,c),Ae!==4&&(Ae=2),Vi===null?Vi=[s]:Vi.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=fm(s,a,e);cf(s,g);break e;case 1:c=a;var m=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Tn===null||!Tn.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=hm(s,c,e);cf(s,k);break e}}s=s.return}while(s!==null)}Rm(n)}catch(A){e=A,Ie===n&&n!==null&&(Ie=n=n.return);continue}break}while(!0)}function Pm(){var t=Wo.current;return Wo.current=zo,t===null?zo:t}function Nu(){(Ae===0||Ae===3||Ae===2)&&(Ae=4),Be===null||!(ir&268435455)&&!(vl&268435455)||_n(Be,$e)}function $o(t,e){var n=te;te|=2;var r=Pm();(Be!==t||$e!==e)&&(Qt=null,Zn(t,e));do try{e0();break}catch(i){Im(t,i)}while(!0);if(au(),te=n,Wo.current=r,Ie!==null)throw Error(P(261));return Be=null,$e=0,Ae}function e0(){for(;Ie!==null;)jm(Ie)}function t0(){for(;Ie!==null&&!Nv();)jm(Ie)}function jm(t){var e=Dm(t.alternate,t,ut);t.memoizedProps=t.pendingProps,e===null?Rm(t):Ie=e,wu.current=null}function Rm(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Q_(n,e),n!==null){n.flags&=32767,Ie=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ae=6,Ie=null;return}}else if(n=Y_(n,e,ut),n!==null){Ie=n;return}if(e=e.sibling,e!==null){Ie=e;return}Ie=e=t}while(e!==null);Ae===0&&(Ae=5)}function Hn(t,e,n){var r=se,i=St.transition;try{St.transition=null,se=1,n0(t,e,n,r)}finally{St.transition=i,se=r}return null}function n0(t,e,n,r){do Br();while(wn!==null);if(te&6)throw Error(P(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(P(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Lv(t,s),t===Be&&(Ie=Be=null,$e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ro||(ro=!0,Om(Eo,function(){return Br(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=St.transition,St.transition=null;var o=se;se=1;var c=te;te|=4,wu.current=null,q_(t,n),Nm(n,t),S_(qa),No=!!Ka,qa=Ka=null,t.current=n,X_(n),Tv(),te=c,se=o,St.transition=s}else t.current=n;if(ro&&(ro=!1,wn=t,Uo=i),s=t.pendingLanes,s===0&&(Tn=null),Pv(n.stateNode),lt(t,Ne()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Bo)throw Bo=!1,t=gc,gc=null,t;return Uo&1&&t.tag!==0&&Br(),s=t.pendingLanes,s&1?t===yc?Hi++:(Hi=0,yc=t):Hi=0,Bn(),null}function Br(){if(wn!==null){var t=fp(Uo),e=St.transition,n=se;try{if(St.transition=null,se=16>t?16:t,wn===null)var r=!1;else{if(t=wn,wn=null,Uo=0,te&6)throw Error(P(331));var i=te;for(te|=4,z=t.current;z!==null;){var s=z,o=s.child;if(z.flags&16){var c=s.deletions;if(c!==null){for(var a=0;a<c.length;a++){var u=c[a];for(z=u;z!==null;){var p=z;switch(p.tag){case 0:case 11:case 15:$i(8,p,s)}var h=p.child;if(h!==null)h.return=p,z=h;else for(;z!==null;){p=z;var f=p.sibling,_=p.return;if(Cm(p),p===u){z=null;break}if(f!==null){f.return=_,z=f;break}z=_}}}var S=s.alternate;if(S!==null){var w=S.child;if(w!==null){S.child=null;do{var C=w.sibling;w.sibling=null,w=C}while(w!==null)}}z=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,z=o;else e:for(;z!==null;){if(s=z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:$i(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,z=g;break e}z=s.return}}var m=t.current;for(z=m;z!==null;){o=z;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,z=x;else e:for(o=m;z!==null;){if(c=z,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:yl(9,c)}}catch(A){Se(c,c.return,A)}if(c===o){z=null;break e}var k=c.sibling;if(k!==null){k.return=c.return,z=k;break e}z=c.return}}if(te=i,Bn(),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(cl,t)}catch{}r=!0}return r}finally{se=n,St.transition=e}}return!1}function Pf(t,e,n){e=qr(n,e),e=fm(t,e,1),t=Nn(t,e,1),e=Je(),t!==null&&(Ts(t,1,e),lt(t,e))}function Se(t,e,n){if(t.tag===3)Pf(t,t,n);else for(;e!==null;){if(e.tag===3){Pf(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Tn===null||!Tn.has(r))){t=qr(n,t),t=hm(e,t,1),e=Nn(e,t,1),t=Je(),e!==null&&(Ts(e,1,t),lt(e,t));break}}e=e.return}}function r0(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Je(),t.pingedLanes|=t.suspendedLanes&n,Be===t&&($e&n)===n&&(Ae===4||Ae===3&&($e&130023424)===$e&&500>Ne()-Cu?Zn(t,0):Su|=n),lt(t,e)}function Am(t,e){e===0&&(t.mode&1?(e=Ys,Ys<<=1,!(Ys&130023424)&&(Ys=4194304)):e=1);var n=Je();t=rn(t,e),t!==null&&(Ts(t,e,n),lt(t,n))}function i0(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Am(t,n)}function s0(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(e),Am(t,n)}var Dm;Dm=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||st.current)rt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return rt=!1,G_(t,e,n);rt=!!(t.flags&131072)}else rt=!1,me&&e.flags&1048576&&Fp(e,Ao,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;go(t,e),t=e.pendingProps;var i=Gr(e,Ke.current);Wr(e,n),i=gu(null,e,r,t,i,n);var s=yu();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ot(r)?(s=!0,jo(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,du(e),i.updater=gl,e.stateNode=i,i._reactInternals=e,sc(e,r,t,n),e=ac(null,e,r,!0,s,n)):(e.tag=0,me&&s&&iu(e),qe(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(go(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=l0(r),t=Tt(r,t),i){case 0:e=lc(null,e,r,t,n);break e;case 1:e=xf(null,e,r,t,n);break e;case 11:e=vf(null,e,r,t,n);break e;case 14:e=_f(null,e,r,Tt(r.type,t),n);break e}throw Error(P(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tt(r,i),lc(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tt(r,i),xf(t,e,r,i,n);case 3:e:{if(ym(e),t===null)throw Error(P(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Vp(t,e),Lo(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=qr(Error(P(423)),e),e=wf(t,e,r,n,i);break e}else if(r!==i){i=qr(Error(P(424)),e),e=wf(t,e,r,n,i);break e}else for(dt=kn(e.stateNode.containerInfo.firstChild),ft=e,me=!0,It=null,n=Up(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Yr(),r===i){e=sn(t,e,n);break e}qe(t,e,r,n)}e=e.child}return e;case 5:return Hp(e),t===null&&nc(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Xa(r,i)?o=null:s!==null&&Xa(r,s)&&(e.flags|=32),gm(t,e),qe(t,e,o,n),e.child;case 6:return t===null&&nc(e),null;case 13:return vm(t,e,n);case 4:return fu(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Qr(e,null,r,n):qe(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tt(r,i),vf(t,e,r,i,n);case 7:return qe(t,e,e.pendingProps,n),e.child;case 8:return qe(t,e,e.pendingProps.children,n),e.child;case 12:return qe(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ce(Do,r._currentValue),r._currentValue=o,s!==null)if(Lt(s.value,o)){if(s.children===i.children&&!st.current){e=sn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var c=s.dependencies;if(c!==null){o=s.child;for(var a=c.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=Zt(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var p=u.pending;p===null?a.next=a:(a.next=p.next,p.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),rc(s.return,n,e),c.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(P(341));o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),rc(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}qe(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Wr(e,n),i=Ct(i),r=r(i),e.flags|=1,qe(t,e,r,n),e.child;case 14:return r=e.type,i=Tt(r,e.pendingProps),i=Tt(r.type,i),_f(t,e,r,i,n);case 15:return pm(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tt(r,i),go(t,e),e.tag=1,ot(r)?(t=!0,jo(e)):t=!1,Wr(e,n),dm(e,r,i),sc(e,r,i,n),ac(null,e,r,!0,t,n);case 19:return _m(t,e,n);case 22:return mm(t,e,n)}throw Error(P(156,e.tag))};function Om(t,e){return ap(t,e)}function o0(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wt(t,e,n,r){return new o0(t,e,n,r)}function Tu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function l0(t){if(typeof t=="function")return Tu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Gc)return 11;if(t===Yc)return 14}return 2}function In(t,e){var n=t.alternate;return n===null?(n=wt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _o(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Tu(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Er:return er(n.children,i,s,e);case Hc:o=8,i|=8;break;case Ia:return t=wt(12,n,e,i|2),t.elementType=Ia,t.lanes=s,t;case Pa:return t=wt(13,n,e,i),t.elementType=Pa,t.lanes=s,t;case ja:return t=wt(19,n,e,i),t.elementType=ja,t.lanes=s,t;case Hh:return _l(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $h:o=10;break e;case Vh:o=9;break e;case Gc:o=11;break e;case Yc:o=14;break e;case gn:o=16,r=null;break e}throw Error(P(130,t==null?t:typeof t,""))}return e=wt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function er(t,e,n,r){return t=wt(7,t,r,e),t.lanes=n,t}function _l(t,e,n,r){return t=wt(22,t,r,e),t.elementType=Hh,t.lanes=n,t.stateNode={isHidden:!1},t}function fa(t,e,n){return t=wt(6,t,null,e),t.lanes=n,t}function ha(t,e,n){return e=wt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function a0(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yl(0),this.expirationTimes=Yl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function bu(t,e,n,r,i,s,o,c,a){return t=new a0(t,e,n,c,a),e===1?(e=1,s===!0&&(e|=8)):e=0,s=wt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},du(s),t}function c0(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Cr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Lm(t){if(!t)return On;t=t._reactInternals;e:{if(ur(t)!==t||t.tag!==1)throw Error(P(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ot(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(P(171))}if(t.tag===1){var n=t.type;if(ot(n))return Lp(t,n,e)}return e}function Mm(t,e,n,r,i,s,o,c,a){return t=bu(n,r,!0,t,i,s,o,c,a),t.context=Lm(null),n=t.current,r=Je(),i=bn(n),s=Zt(r,i),s.callback=e??null,Nn(n,s,i),t.current.lanes=i,Ts(t,i,r),lt(t,r),t}function xl(t,e,n,r){var i=e.current,s=Je(),o=bn(i);return n=Lm(n),e.context===null?e.context=n:e.pendingContext=n,e=Zt(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Nn(i,e,o),t!==null&&(Dt(t,i,o,s),ho(t,i,o)),o}function Vo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function jf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Iu(t,e){jf(t,e),(t=t.alternate)&&jf(t,e)}function u0(){return null}var Fm=typeof reportError=="function"?reportError:function(t){console.error(t)};function Pu(t){this._internalRoot=t}wl.prototype.render=Pu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(P(409));xl(t,e,null,null)};wl.prototype.unmount=Pu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;sr(function(){xl(null,t,null,null)}),e[nn]=null}};function wl(t){this._internalRoot=t}wl.prototype.unstable_scheduleHydration=function(t){if(t){var e=mp();t={blockedOn:null,target:t,priority:e};for(var n=0;n<vn.length&&e!==0&&e<vn[n].priority;n++);vn.splice(n,0,t),n===0&&yp(t)}};function ju(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Sl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Rf(){}function d0(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Vo(o);s.call(u)}}var o=Mm(e,r,t,0,null,!1,!1,"",Rf);return t._reactRootContainer=o,t[nn]=o.current,ss(t.nodeType===8?t.parentNode:t),sr(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var c=r;r=function(){var u=Vo(a);c.call(u)}}var a=bu(t,0,!1,null,null,!1,!1,"",Rf);return t._reactRootContainer=a,t[nn]=a.current,ss(t.nodeType===8?t.parentNode:t),sr(function(){xl(e,a,n,r)}),a}function Cl(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var c=i;i=function(){var a=Vo(o);c.call(a)}}xl(e,o,t,i)}else o=d0(n,e,t,i,r);return Vo(o)}hp=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Oi(e.pendingLanes);n!==0&&(qc(e,n|1),lt(e,Ne()),!(te&6)&&(Xr=Ne()+500,Bn()))}break;case 13:sr(function(){var r=rn(t,1);if(r!==null){var i=Je();Dt(r,t,1,i)}}),Iu(t,1)}};Xc=function(t){if(t.tag===13){var e=rn(t,134217728);if(e!==null){var n=Je();Dt(e,t,134217728,n)}Iu(t,134217728)}};pp=function(t){if(t.tag===13){var e=bn(t),n=rn(t,e);if(n!==null){var r=Je();Dt(n,t,e,r)}Iu(t,e)}};mp=function(){return se};gp=function(t,e){var n=se;try{return se=t,e()}finally{se=n}};Ba=function(t,e,n){switch(e){case"input":if(Da(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=hl(r);if(!i)throw Error(P(90));Yh(r),Da(r,i)}}}break;case"textarea":Kh(t,n);break;case"select":e=n.value,e!=null&&Lr(t,!!n.multiple,e,!1)}};np=Eu;rp=sr;var f0={usingClientEntryPoint:!1,Events:[Is,br,hl,ep,tp,Eu]},Ti={findFiberByHostInstance:Qn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},h0={bundleType:Ti.bundleType,version:Ti.version,rendererPackageName:Ti.rendererPackageName,rendererConfig:Ti.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:an.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=op(t),t===null?null:t.stateNode},findFiberByHostInstance:Ti.findFiberByHostInstance||u0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var io=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!io.isDisabled&&io.supportsFiber)try{cl=io.inject(h0),$t=io}catch{}}pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f0;pt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ju(e))throw Error(P(200));return c0(t,e,null,n)};pt.createRoot=function(t,e){if(!ju(t))throw Error(P(299));var n=!1,r="",i=Fm;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=bu(t,1,!1,null,null,n,!1,r,i),t[nn]=e.current,ss(t.nodeType===8?t.parentNode:t),new Pu(e)};pt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(P(188)):(t=Object.keys(t).join(","),Error(P(268,t)));return t=op(e),t=t===null?null:t.stateNode,t};pt.flushSync=function(t){return sr(t)};pt.hydrate=function(t,e,n){if(!Sl(e))throw Error(P(200));return Cl(null,t,e,!0,n)};pt.hydrateRoot=function(t,e,n){if(!ju(t))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Fm;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Mm(e,null,t,1,n??null,i,!1,s,o),t[nn]=e.current,ss(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new wl(e)};pt.render=function(t,e,n){if(!Sl(e))throw Error(P(200));return Cl(null,t,e,!1,n)};pt.unmountComponentAtNode=function(t){if(!Sl(t))throw Error(P(40));return t._reactRootContainer?(sr(function(){Cl(null,null,t,!1,function(){t._reactRootContainer=null,t[nn]=null})}),!0):!1};pt.unstable_batchedUpdates=Eu;pt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Sl(n))throw Error(P(200));if(t==null||t._reactInternals===void 0)throw Error(P(38));return Cl(t,e,n,!1,r)};pt.version="18.3.1-next-f1338f8080-20240426";function zm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zm)}catch(t){console.error(t)}}zm(),zh.exports=pt;var p0=zh.exports,Af=p0;Ta.createRoot=Af.createRoot,Ta.hydrateRoot=Af.hydrateRoot;var Df={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D=function(t,e){if(!t)throw si(e)},si=function(t){return new Error("Firebase Database ("+Wm.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},m0=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],c=t[n++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(a&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Ru={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,c=o?t[i+1]:0,a=i+2<t.length,u=a?t[i+2]:0,p=s>>2,h=(s&3)<<4|c>>4;let f=(c&15)<<2|u>>6,_=u&63;a||(_=64,o||(f=64)),r.push(n[p],n[h],n[f],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Bm(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):m0(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||u==null||h==null)throw new g0;const f=s<<2|c>>4;if(r.push(f),u!==64){const _=c<<4&240|u>>2;if(r.push(_),h!==64){const S=u<<6&192|h;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class g0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Um=function(t){const e=Bm(t);return Ru.encodeByteArray(e,!0)},Ho=function(t){return Um(t).replace(/\./g,"")},xc=function(t){try{return Ru.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(t){return $m(void 0,t)}function $m(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!v0(n)||(t[n]=$m(t[n],e[n]));return t}function v0(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0=()=>_0().__FIREBASE_DEFAULTS__,w0=()=>{if(typeof process>"u"||typeof Df>"u")return;const t=Df.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},S0=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&xc(t[1]);return e&&JSON.parse(e)},Vm=()=>{try{return x0()||w0()||S0()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},C0=t=>{var e,n;return(n=(e=Vm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},E0=t=>{const e=C0(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Hm=()=>{var t;return(t=Vm())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ho(JSON.stringify(n)),Ho(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Gm(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(N0())}function T0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function b0(){return Wm.NODE_ADMIN===!0}function I0(){try{return typeof indexedDB=="object"}catch{return!1}}function P0(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="FirebaseError";class js extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=j0,Object.setPrototypeOf(this,js.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ym.prototype.create)}}class Ym{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?R0(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new js(i,c,r)}}function R0(t,e){return t.replace(A0,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const A0=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ps(t){return JSON.parse(t)}function je(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=ps(xc(s[0])||""),n=ps(xc(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},D0=function(t){const e=Qm(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},O0=function(t){const e=Qm(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Jr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Of(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Go(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function wc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Lf(s)&&Lf(o)){if(!wc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Lf(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const f=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],c=this.chain_[3],a=this.chain_[4],u,p;for(let h=0;h<80;h++){h<40?h<20?(u=c^s&(o^c),p=1518500249):(u=s^o^c,p=1859775393):h<60?(u=s&o|c&(s|o),p=2400959708):(u=s^o^c,p=3395469782);const f=(i<<5|i>>>27)+u+a+p+r[h]&4294967295;a=c,c=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function Au(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,D(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},kl=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(t){return t&&t._delegate?t._delegate:t}class ms{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new El;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(B0(e))try{this.getOrInitializeService({instanceIdentifier:Gn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Gn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gn){return this.instances.has(e)}getOptions(e=Gn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:W0(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Gn){return this.component?this.component.multipleInstances?e:Gn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function W0(t){return t===Gn?void 0:t}function B0(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new z0(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(le||(le={}));const $0={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},V0=le.INFO,H0={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},G0=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=H0[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Km{constructor(e){this.name=e,this._logLevel=V0,this._logHandler=G0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}}const Y0=(t,e)=>e.some(n=>t instanceof n);let Mf,Ff;function Q0(){return Mf||(Mf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function K0(){return Ff||(Ff=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qm=new WeakMap,Sc=new WeakMap,Xm=new WeakMap,pa=new WeakMap,Du=new WeakMap;function q0(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Pn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&qm.set(n,t)}).catch(()=>{}),Du.set(e,t),e}function X0(t){if(Sc.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Sc.set(t,e)}let Cc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Sc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Xm.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function J0(t){Cc=t(Cc)}function Z0(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ma(this),e,...n);return Xm.set(r,e.sort?e.sort():[e]),Pn(r)}:K0().includes(t)?function(...e){return t.apply(ma(this),e),Pn(qm.get(this))}:function(...e){return Pn(t.apply(ma(this),e))}}function ex(t){return typeof t=="function"?Z0(t):(t instanceof IDBTransaction&&X0(t),Y0(t,Q0())?new Proxy(t,Cc):t)}function Pn(t){if(t instanceof IDBRequest)return q0(t);if(pa.has(t))return pa.get(t);const e=ex(t);return e!==t&&(pa.set(t,e),Du.set(e,t)),e}const ma=t=>Du.get(t);function tx(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),c=Pn(o);return r&&o.addEventListener("upgradeneeded",a=>{r(Pn(o.result),a.oldVersion,a.newVersion,Pn(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),c.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),c}const nx=["get","getKey","getAll","getAllKeys","count"],rx=["put","add","delete","clear"],ga=new Map;function zf(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ga.get(e))return ga.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=rx.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||nx.includes(n)))return;const s=async function(o,...c){const a=this.transaction(o,i?"readwrite":"readonly");let u=a.store;return r&&(u=u.index(c.shift())),(await Promise.all([u[n](...c),i&&a.done]))[0]};return ga.set(e,s),s}J0(t=>({...t,get:(e,n,r)=>zf(e,n)||t.get(e,n,r),has:(e,n)=>!!zf(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sx(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function sx(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ec="@firebase/app",Wf="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on=new Km("@firebase/app"),ox="@firebase/app-compat",lx="@firebase/analytics-compat",ax="@firebase/analytics",cx="@firebase/app-check-compat",ux="@firebase/app-check",dx="@firebase/auth",fx="@firebase/auth-compat",hx="@firebase/database",px="@firebase/data-connect",mx="@firebase/database-compat",gx="@firebase/functions",yx="@firebase/functions-compat",vx="@firebase/installations",_x="@firebase/installations-compat",xx="@firebase/messaging",wx="@firebase/messaging-compat",Sx="@firebase/performance",Cx="@firebase/performance-compat",Ex="@firebase/remote-config",kx="@firebase/remote-config-compat",Nx="@firebase/storage",Tx="@firebase/storage-compat",bx="@firebase/firestore",Ix="@firebase/vertexai-preview",Px="@firebase/firestore-compat",jx="firebase",Rx="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc="[DEFAULT]",Ax={[Ec]:"fire-core",[ox]:"fire-core-compat",[ax]:"fire-analytics",[lx]:"fire-analytics-compat",[ux]:"fire-app-check",[cx]:"fire-app-check-compat",[dx]:"fire-auth",[fx]:"fire-auth-compat",[hx]:"fire-rtdb",[px]:"fire-data-connect",[mx]:"fire-rtdb-compat",[gx]:"fire-fn",[yx]:"fire-fn-compat",[vx]:"fire-iid",[_x]:"fire-iid-compat",[xx]:"fire-fcm",[wx]:"fire-fcm-compat",[Sx]:"fire-perf",[Cx]:"fire-perf-compat",[Ex]:"fire-rc",[kx]:"fire-rc-compat",[Nx]:"fire-gcs",[Tx]:"fire-gcs-compat",[bx]:"fire-fst",[Px]:"fire-fst-compat",[Ix]:"fire-vertex","fire-js":"fire-js",[jx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=new Map,Dx=new Map,Nc=new Map;function Bf(t,e){try{t.container.addComponent(e)}catch(n){on.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qo(t){const e=t.name;if(Nc.has(e))return on.debug(`There were multiple attempts to register component ${e}.`),!1;Nc.set(e,t);for(const n of Yo.values())Bf(n,t);for(const n of Dx.values())Bf(n,t);return!0}function Ox(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jn=new Ym("app","Firebase",Lx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ms("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx=Rx;function Jm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:kc,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw jn.create("bad-app-name",{appName:String(i)});if(n||(n=Hm()),!n)throw jn.create("no-options");const s=Yo.get(i);if(s){if(wc(n,s.options)&&wc(r,s.config))return s;throw jn.create("duplicate-app",{appName:i})}const o=new U0(i);for(const a of Nc.values())o.addComponent(a);const c=new Mx(n,r,o);return Yo.set(i,c),c}function zx(t=kc){const e=Yo.get(t);if(!e&&t===kc&&Hm())return Jm();if(!e)throw jn.create("no-app",{appName:t});return e}function Ur(t,e,n){var r;let i=(r=Ax[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),on.warn(c.join(" "));return}Qo(new ms(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx="firebase-heartbeat-database",Bx=1,gs="firebase-heartbeat-store";let ya=null;function Zm(){return ya||(ya=tx(Wx,Bx,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(gs)}catch(n){console.warn(n)}}}}).catch(t=>{throw jn.create("idb-open",{originalErrorMessage:t.message})})),ya}async function Ux(t){try{const n=(await Zm()).transaction(gs),r=await n.objectStore(gs).get(eg(t));return await n.done,r}catch(e){if(e instanceof js)on.warn(e.message);else{const n=jn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});on.warn(n.message)}}}async function Uf(t,e){try{const r=(await Zm()).transaction(gs,"readwrite");await r.objectStore(gs).put(e,eg(t)),await r.done}catch(n){if(n instanceof js)on.warn(n.message);else{const r=jn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});on.warn(r.message)}}}function eg(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x=1024,Vx=30*24*60*60*1e3;class Hx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Yx(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=$f();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const c=new Date(o.date).valueOf();return Date.now()-c<=Vx}),this._storage.overwrite(this._heartbeatsCache))}catch(r){on.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=$f(),{heartbeatsToSend:r,unsentEntries:i}=Gx(this._heartbeatsCache.heartbeats),s=Ho(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return on.warn(n),""}}}function $f(){return new Date().toISOString().substring(0,10)}function Gx(t,e=$x){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Vf(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Vf(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Yx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return I0()?P0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Ux(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Uf(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Uf(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Vf(t){return Ho(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(t){Qo(new ms("platform-logger",e=>new ix(e),"PRIVATE")),Qo(new ms("heartbeat",e=>new Hx(e),"PRIVATE")),Ur(Ec,Wf,t),Ur(Ec,Wf,"esm2017"),Ur("fire-js","")}Qx("");var Kx="firebase",qx="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ur(Kx,qx,"app");var Hf={};const Gf="@firebase/database",Yf="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tg="";function Xx(t){tg=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),je(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:ps(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return cn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Jx(e)}}catch{}return new Zx},Xn=ng("localStorage"),ew=ng("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r=new Km("@firebase/database"),tw=function(){let t=1;return function(){return t++}}(),rg=function(t){const e=F0(t),n=new M0;n.update(e);const r=n.digest();return Ru.encodeByteArray(r)},Rs=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Rs.apply(null,r):typeof r=="object"?e+=je(r):e+=r,e+=" "}return e};let Gi=null,Qf=!0;const nw=function(t,e){D(!0,"Can't turn on custom loggers persistently."),$r.logLevel=le.VERBOSE,Gi=$r.log.bind($r)},Qe=function(...t){if(Qf===!0&&(Qf=!1,Gi===null&&ew.get("logging_enabled")===!0&&nw()),Gi){const e=Rs.apply(null,t);Gi(e)}},As=function(t){return function(...e){Qe(t,...e)}},Tc=function(...t){const e="FIREBASE INTERNAL ERROR: "+Rs(...t);$r.error(e)},ln=function(...t){const e=`FIREBASE FATAL ERROR: ${Rs(...t)}`;throw $r.error(e),new Error(e)},at=function(...t){const e="FIREBASE WARNING: "+Rs(...t);$r.warn(e)},rw=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&at("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},ig=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},iw=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Zr="[MIN_NAME]",or="[MAX_NAME]",oi=function(t,e){if(t===e)return 0;if(t===Zr||e===or)return-1;if(e===Zr||t===or)return 1;{const n=Kf(t),r=Kf(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},sw=function(t,e){return t===e?0:t<e?-1:1},bi=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+je(e))},Ou=function(t){if(typeof t!="object"||t===null)return je(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=je(e[r]),n+=":",n+=Ou(t[e[r]]);return n+="}",n},sg=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function ct(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const og=function(t){D(!ig(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,c,a;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=c+r,o=Math.round(t*Math.pow(2,n-c)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(a=n;a;a-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(a=e;a;a-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const p=u.join("");let h="";for(a=0;a<64;a+=8){let f=parseInt(p.substr(a,8),2).toString(16);f.length===1&&(f="0"+f),h=h+f}return h.toLowerCase()},ow=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},lw=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function aw(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const cw=new RegExp("^-?(0*)\\d{1,10}$"),uw=-2147483648,dw=2147483647,Kf=function(t){if(cw.test(t)){const e=Number(t);if(e>=uw&&e<=dw)return e}return null},li=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw at("Exception was thrown by user callback.",n),e},Math.floor(0))}},fw=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Yi=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){at(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Qe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',at(e)}}class xo{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}xo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lu="5",lg="v",ag="s",cg="r",ug="f",dg=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,fg="ls",hg="p",bc="ac",pg="websocket",mg="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,n,r,i,s=!1,o="",c=!1,a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Xn.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Xn.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function mw(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function yg(t,e,n){D(typeof e=="string","typeof type must == string"),D(typeof n=="object","typeof params must == object");let r;if(e===pg)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===mg)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);mw(t)&&(n.ns=t.namespace);const i=[];return ct(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(){this.counters_={}}incrementCounter(e,n=1){cn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return y0(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va={},_a={};function Mu(t){const e=t.toString();return va[e]||(va[e]=new gw),va[e]}function yw(t,e){const n=t.toString();return _a[n]||(_a[n]=e()),_a[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&li(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf="start",_w="close",xw="pLPCommand",ww="pRTLPCB",vg="id",_g="pw",xg="ser",Sw="cb",Cw="seg",Ew="ts",kw="d",Nw="dframe",wg=1870,Sg=30,Tw=wg-Sg,bw=25e3,Iw=3e4;class Or{constructor(e,n,r,i,s,o,c){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=As(e),this.stats_=Mu(n),this.urlFn=a=>(this.appCheckToken&&(a[bc]=this.appCheckToken),yg(n,mg,a))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new vw(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Iw)),iw(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Fu((...s)=>{const[o,c,a,u,p]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===qf)this.id=c,this.password=a;else if(o===_w)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,c]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,c)},()=>{this.onClosed_()},this.urlFn);const r={};r[qf]="t",r[xg]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Sw]=this.scriptTagHolder.uniqueCallbackIdentifier),r[lg]=Lu,this.transportSessionId&&(r[ag]=this.transportSessionId),this.lastSessionId&&(r[fg]=this.lastSessionId),this.applicationId&&(r[hg]=this.applicationId),this.appCheckToken&&(r[bc]=this.appCheckToken),typeof location<"u"&&location.hostname&&dg.test(location.hostname)&&(r[cg]=ug);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Or.forceAllow_=!0}static forceDisallow(){Or.forceDisallow_=!0}static isAvailable(){return Or.forceAllow_?!0:!Or.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!ow()&&!lw()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=je(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Um(n),i=sg(r,Tw);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Nw]="t",r[vg]=e,r[_g]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=je(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Fu{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=tw(),window[xw+this.uniqueCallbackIdentifier]=e,window[ww+this.uniqueCallbackIdentifier]=n,this.myIFrame=Fu.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(c){Qe("frame writing exception"),c.stack&&Qe(c.stack),Qe(c)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Qe("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[vg]=this.myID,e[_g]=this.myPW,e[xg]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Sg+r.length<=wg;){const o=this.pendingSegs.shift();r=r+"&"+Cw+i+"="+o.seg+"&"+Ew+i+"="+o.ts+"&"+kw+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(bw)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Qe("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw=16384,jw=45e3;let Ko=null;typeof MozWebSocket<"u"?Ko=MozWebSocket:typeof WebSocket<"u"&&(Ko=WebSocket);class Pt{constructor(e,n,r,i,s,o,c){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=As(this.connId),this.stats_=Mu(n),this.connURL=Pt.connectionURL_(n,o,c,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[lg]=Lu,typeof location<"u"&&location.hostname&&dg.test(location.hostname)&&(o[cg]=ug),n&&(o[ag]=n),r&&(o[fg]=r),i&&(o[bc]=i),s&&(o[hg]=s),yg(e,pg,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Xn.set("previous_websocket_failure",!0);try{let r;b0(),this.mySock=new Ko(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Pt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Ko!==null&&!Pt.forceDisallow_}static previouslyFailed(){return Xn.isInMemoryStorage||Xn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Xn.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=ps(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(D(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=je(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=sg(n,Pw);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(jw))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Pt.responsesRequiredToBeHealthy=2;Pt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Or,Pt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Pt&&Pt.isAvailable();let r=n&&!Pt.previouslyFailed();if(e.webSocketOnly&&(n||at("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Pt];else{const i=this.transports_=[];for(const s of ys.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);ys.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ys.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw=6e4,Aw=5e3,Dw=10*1024,Ow=100*1024,xa="t",Xf="d",Lw="s",Jf="r",Mw="e",Zf="o",eh="a",th="n",nh="p",Fw="h";class zw{constructor(e,n,r,i,s,o,c,a,u,p){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=c,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=As("c:"+this.id+":"),this.transportManager_=new ys(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Yi(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Ow?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Dw?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(xa in e){const n=e[xa];n===eh?this.upgradeIfSecondaryHealthy_():n===Jf?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Zf&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=bi("t",e),r=bi("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:nh,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:eh,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:th,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=bi("t",e),r=bi("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=bi(xa,e);if(Xf in e){const r=e[Xf];if(n===Fw){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===th){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Lw?this.onConnectionShutdown_(r):n===Jf?this.onReset_(r):n===Mw?Tc("Server Error: "+r):n===Zf?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Tc("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Lu!==r&&at("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Yi(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Rw))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Yi(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Aw))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:nh,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Xn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e){this.allowedEvents_=e,this.listeners_={},D(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){D(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo extends Eg{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Gm()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new qo}getInitialEvent(e){return D(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh=32,ih=768;class oe{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function re(){return new oe("")}function Q(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ln(t){return t.pieces_.length-t.pieceNum_}function ae(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new oe(t.pieces_,e)}function kg(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Ww(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Ng(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Tg(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new oe(e,0)}function Re(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof oe)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new oe(n,0)}function q(t){return t.pieceNum_>=t.pieces_.length}function Xe(t,e){const n=Q(t),r=Q(e);if(n===null)return e;if(n===r)return Xe(ae(t),ae(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function zu(t,e){if(Ln(t)!==Ln(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function jt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Ln(t)>Ln(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Bw{constructor(e,n){this.errorPrefix_=n,this.parts_=Ng(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=kl(this.parts_[r]);bg(this)}}function Uw(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=kl(e),bg(t)}function $w(t){const e=t.parts_.pop();t.byteLength_-=kl(e),t.parts_.length>0&&(t.byteLength_-=1)}function bg(t){if(t.byteLength_>ih)throw new Error(t.errorPrefix_+"has a key path longer than "+ih+" bytes ("+t.byteLength_+").");if(t.parts_.length>rh)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+rh+") or object contains a cycle "+Yn(t))}function Yn(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu extends Eg{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Wu}getInitialEvent(e){return D(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii=1e3,Vw=60*5*1e3,sh=30*1e3,Hw=1.3,Gw=3e4,Yw="server_kill",oh=3;class en extends Cg{constructor(e,n,r,i,s,o,c,a){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=c,this.authOverride_=a,this.id=en.nextPersistentConnectionId_++,this.log_=As("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ii,this.maxReconnectDelay_=Vw,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Wu.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&qo.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(je(s)),D(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new El,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const c=o.d;o.s==="ok"?n.resolve(c):n.reject(c)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),D(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),D(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const c={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,c=>{const a=c.d,u=c.s;en.warnOnListenWarnings_(a,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",c),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,a))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&cn(e,"w")){const r=Jr(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();at(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||O0(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=sh)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=D0(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),D(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+je(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Tc("Unrecognized action received from server: "+je(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){D(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ii,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ii,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Gw&&(this.reconnectDelay_=Ii),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Hw)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+en.nextConnectionId_++,s=this.lastSessionId;let o=!1,c=null;const a=function(){c?c.close():(o=!0,r())},u=function(h){D(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(h)};this.realtime_={close:a,sendRequest:u};const p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,f]=await Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)]);o?Qe("getToken() completed but was canceled"):(Qe("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,c=new zw(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,_=>{at(_+" ("+this.repoInfo_.toString()+")"),this.interrupt(Yw)},s))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&at(h),a())}}}interrupt(e){Qe("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Qe("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Of(this.interruptReasons_)&&(this.reconnectDelay_=Ii,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>Ou(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new oe(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Qe("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=oh&&(this.reconnectDelay_=sh,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Qe("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=oh&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+tg.replace(/\./g,"-")]=1,Gm()?e["framework.cordova"]=1:T0()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=qo.getInstance().currentlyOnline();return Of(this.interruptReasons_)&&e}}en.nextPersistentConnectionId_=0;en.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new K(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new K(Zr,e),i=new K(Zr,n);return this.compare(r,i)!==0}minPost(){return K.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let so;class Ig extends Nl{static get __EMPTY_NODE(){return so}static set __EMPTY_NODE(e){so=e}compare(e,n){return oi(e.name,n.name)}isDefinedOn(e){throw si("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return K.MIN}maxPost(){return new K(or,so)}makePost(e,n){return D(typeof e=="string","KeyIndex indexValue must always be a string."),new K(e,so)}toString(){return".key"}}const Vr=new Ig;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ze{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ze.RED,this.left=i??it.EMPTY_NODE,this.right=s??it.EMPTY_NODE}copy(e,n,r,i,s){return new ze(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return it.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return it.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ze.RED=!0;ze.BLACK=!1;class Qw{copy(e,n,r,i,s){return this}insert(e,n,r){return new ze(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class it{constructor(e,n=it.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new it(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ze.BLACK,null,null))}remove(e){return new it(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ze.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new oo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new oo(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new oo(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new oo(this.root_,null,this.comparator_,!0,e)}}it.EMPTY_NODE=new Qw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(t,e){return oi(t.name,e.name)}function Bu(t,e){return oi(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ic;function qw(t){Ic=t}const Pg=function(t){return typeof t=="number"?"number:"+og(t):"string:"+t},jg=function(t){if(t.isLeafNode()){const e=t.val();D(typeof e=="string"||typeof e=="number"||typeof e=="object"&&cn(e,".sv"),"Priority must be a string or number.")}else D(t===Ic||t.isEmpty(),"priority of unexpected type.");D(t===Ic||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lh;class Me{constructor(e,n=Me.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,D(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),jg(this.priorityNode_)}static set __childrenNodeConstructor(e){lh=e}static get __childrenNodeConstructor(){return lh}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Me(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Me.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return q(e)?this:Q(e)===".priority"?this.priorityNode_:Me.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Me.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Q(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(D(r!==".priority"||Ln(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Me.__childrenNodeConstructor.EMPTY_NODE.updateChild(ae(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Pg(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=og(this.value_):e+=this.value_,this.lazyHash_=rg(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Me.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Me.__childrenNodeConstructor?-1:(D(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Me.VALUE_TYPE_ORDER.indexOf(n),s=Me.VALUE_TYPE_ORDER.indexOf(r);return D(i>=0,"Unknown leaf type: "+n),D(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Me.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rg,Ag;function Xw(t){Rg=t}function Jw(t){Ag=t}class Zw extends Nl{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?oi(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return K.MIN}maxPost(){return new K(or,new Me("[PRIORITY-POST]",Ag))}makePost(e,n){const r=Rg(e);return new K(n,new Me("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ce=new Zw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS=Math.log(2);class tS{constructor(e){const n=s=>parseInt(Math.log(s)/eS,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Xo=function(t,e,n,r){t.sort(e);const i=function(a,u){const p=u-a;let h,f;if(p===0)return null;if(p===1)return h=t[a],f=n?n(h):h,new ze(f,h.node,ze.BLACK,null,null);{const _=parseInt(p/2,10)+a,S=i(a,_),w=i(_+1,u);return h=t[_],f=n?n(h):h,new ze(f,h.node,ze.BLACK,S,w)}},s=function(a){let u=null,p=null,h=t.length;const f=function(S,w){const C=h-S,g=h;h-=S;const m=i(C+1,g),x=t[C],k=n?n(x):x;_(new ze(k,x.node,w,null,m))},_=function(S){u?(u.left=S,u=S):(p=S,u=S)};for(let S=0;S<a.count;++S){const w=a.nextBitIsOne(),C=Math.pow(2,a.count-(S+1));w?f(C,ze.BLACK):(f(C,ze.BLACK),f(C,ze.RED))}return p},o=new tS(t.length),c=s(o);return new it(r||e,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wa;const Sr={};class Jt{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return D(Sr&&Ce,"ChildrenNode.ts has not been loaded"),wa=wa||new Jt({".priority":Sr},{".priority":Ce}),wa}get(e){const n=Jr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof it?n:null}hasIndex(e){return cn(this.indexSet_,e.toString())}addIndex(e,n){D(e!==Vr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(K.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let c;i?c=Xo(r,e.getCompare()):c=Sr;const a=e.toString(),u=Object.assign({},this.indexSet_);u[a]=e;const p=Object.assign({},this.indexes_);return p[a]=c,new Jt(p,u)}addToIndexes(e,n){const r=Go(this.indexes_,(i,s)=>{const o=Jr(this.indexSet_,s);if(D(o,"Missing index implementation for "+s),i===Sr)if(o.isDefinedOn(e.node)){const c=[],a=n.getIterator(K.Wrap);let u=a.getNext();for(;u;)u.name!==e.name&&c.push(u),u=a.getNext();return c.push(e),Xo(c,o.getCompare())}else return Sr;else{const c=n.get(e.name);let a=i;return c&&(a=a.remove(new K(e.name,c))),a.insert(e,e.node)}});return new Jt(r,this.indexSet_)}removeFromIndexes(e,n){const r=Go(this.indexes_,i=>{if(i===Sr)return i;{const s=n.get(e.name);return s?i.remove(new K(e.name,s)):i}});return new Jt(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pi;class ${constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&jg(this.priorityNode_),this.children_.isEmpty()&&D(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Pi||(Pi=new $(new it(Bu),null,Jt.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Pi}updatePriority(e){return this.children_.isEmpty()?this:new $(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Pi:n}}getChild(e){const n=Q(e);return n===null?this:this.getImmediateChild(n).getChild(ae(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(D(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new K(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Pi:this.priorityNode_;return new $(i,o,s)}}updateChild(e,n){const r=Q(e);if(r===null)return n;{D(Q(e)!==".priority"||Ln(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(ae(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Ce,(o,c)=>{n[o]=c.val(e),r++,s&&$.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const c in n)o[c]=n[c];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Pg(this.getPriority().val())+":"),this.forEachChild(Ce,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":rg(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new K(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new K(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new K(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,K.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,K.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ds?-1:0}withIndex(e){if(e===Vr||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new $(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Vr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Ce),i=n.getIterator(Ce);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Vr?null:this.indexMap_.get(e.toString())}}$.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class nS extends ${constructor(){super(new it(Bu),$.EMPTY_NODE,Jt.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return $.EMPTY_NODE}isEmpty(){return!1}}const Ds=new nS;Object.defineProperties(K,{MIN:{value:new K(Zr,$.EMPTY_NODE)},MAX:{value:new K(or,Ds)}});Ig.__EMPTY_NODE=$.EMPTY_NODE;Me.__childrenNodeConstructor=$;qw(Ds);Jw(Ds);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS=!0;function We(t,e=null){if(t===null)return $.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),D(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Me(n,We(e))}if(!(t instanceof Array)&&rS){const n=[];let r=!1;if(ct(t,(o,c)=>{if(o.substring(0,1)!=="."){const a=We(c);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new K(o,a)))}}),n.length===0)return $.EMPTY_NODE;const s=Xo(n,Kw,o=>o.name,Bu);if(r){const o=Xo(n,Ce.getCompare());return new $(s,We(e),new Jt({".priority":o},{".priority":Ce}))}else return new $(s,We(e),Jt.Default)}else{let n=$.EMPTY_NODE;return ct(t,(r,i)=>{if(cn(t,r)&&r.substring(0,1)!=="."){const s=We(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(We(e))}}Xw(We);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS extends Nl{constructor(e){super(),this.indexPath_=e,D(!q(e)&&Q(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?oi(e.name,n.name):s}makePost(e,n){const r=We(e),i=$.EMPTY_NODE.updateChild(this.indexPath_,r);return new K(n,i)}maxPost(){const e=$.EMPTY_NODE.updateChild(this.indexPath_,Ds);return new K(or,e)}toString(){return Ng(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS extends Nl{compare(e,n){const r=e.node.compareTo(n.node);return r===0?oi(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return K.MIN}maxPost(){return K.MAX}makePost(e,n){const r=We(e);return new K(n,r)}toString(){return".value"}}const oS=new sS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(t){return{type:"value",snapshotNode:t}}function ei(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function vs(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function _s(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function lS(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){D(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const c=e.getImmediateChild(n);return c.getChild(i).equals(r.getChild(i))&&c.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(vs(n,c)):D(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?o.trackChildChange(ei(n,r)):o.trackChildChange(_s(n,r,c))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Ce,(i,s)=>{n.hasChild(i)||r.trackChildChange(vs(i,s))}),n.isLeafNode()||n.forEachChild(Ce,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(_s(i,s,o))}else r.trackChildChange(ei(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?$.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e){this.indexedFilter_=new Uu(e.getIndex()),this.index_=e.getIndex(),this.startPost_=xs.getStartPost_(e),this.endPost_=xs.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new K(n,r))||(r=$.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=$.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority($.EMPTY_NODE);const s=this;return n.forEachChild(Ce,(o,c)=>{s.matches(new K(o,c))||(i=i.updateImmediateChild(o,$.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new xs(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new K(n,r))||(r=$.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=$.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=$.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const c=s.getNext();if(this.withinDirectionalStart(c))if(this.withinDirectionalEnd(c))i=i.updateImmediateChild(c.name,c.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority($.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const c=s.getNext();o<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?o++:i=i.updateImmediateChild(c.name,$.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const h=this.index_.getCompare();o=(f,_)=>h(_,f)}else o=this.index_.getCompare();const c=e;D(c.numChildren()===this.limit_,"");const a=new K(n,r),u=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),p=this.rangedFilter_.matches(a);if(c.hasChild(n)){const h=c.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,u,this.reverse_);for(;f!=null&&(f.name===n||c.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const _=f==null?1:o(f,a);if(p&&!r.isEmpty()&&_>=0)return s!=null&&s.trackChildChange(_s(n,r,h)),c.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(vs(n,h));const w=c.updateImmediateChild(n,$.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s!=null&&s.trackChildChange(ei(f.name,f.node)),w.updateImmediateChild(f.name,f.node)):w}}else return r.isEmpty()?e:p&&o(u,a)>=0?(s!=null&&(s.trackChildChange(vs(u.name,u.node)),s.trackChildChange(ei(n,r))),c.updateImmediateChild(n,r).updateImmediateChild(u.name,$.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ce}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return D(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return D(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Zr}hasEnd(){return this.endSet_}getIndexEndValue(){return D(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return D(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:or}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return D(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ce}copy(){const e=new $u;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function cS(t){return t.loadsAllData()?new Uu(t.getIndex()):t.hasLimit()?new aS(t):new xs(t)}function ah(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ce?n="$priority":t.index_===oS?n="$value":t.index_===Vr?n="$key":(D(t.index_ instanceof iS,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=je(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=je(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+je(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=je(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+je(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function ch(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ce&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo extends Cg{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=As("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(D(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Jo.getListenId_(e,r),c={};this.listens_[o]=c;const a=ah(e._queryParams);this.restRequest_(s+".json",a,(u,p)=>{let h=p;if(u===404&&(h=null,u=null),u===null&&this.onDataUpdate_(s,h,!1,r),Jr(this.listens_,o)===c){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",i(f,null)}})}unlisten(e,n){const r=Jo.getListenId_(e,n);delete this.listens_[r]}get(e){const n=ah(e._queryParams),r=e._path.toString(),i=new El;return this.restRequest_(r+".json",n,(s,o)=>{let c=o;s===404&&(c=null,s=null),s===null?(this.onDataUpdate_(r,c,!1,null),i.resolve(c)):i.reject(new Error(c))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+L0(n);this.log_("Sending REST request for "+o);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(r&&c.readyState===4){this.log_("REST Response for "+o+" received. status:",c.status,"response:",c.responseText);let a=null;if(c.status>=200&&c.status<300){try{a=ps(c.responseText)}catch{at("Failed to parse JSON response for "+o+": "+c.responseText)}r(null,a)}else c.status!==401&&c.status!==404&&at("Got unsuccessful REST response for "+o+" Status: "+c.status),r(c.status);r=null}},c.open("GET",o,!0),c.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(){this.rootNode_=$.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zo(){return{value:null,children:new Map}}function Og(t,e,n){if(q(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Q(e);t.children.has(r)||t.children.set(r,Zo());const i=t.children.get(r);e=ae(e),Og(i,e,n)}}function Pc(t,e,n){t.value!==null?n(e,t.value):dS(t,(r,i)=>{const s=new oe(e.toString()+"/"+r);Pc(i,s,n)})}function dS(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&ct(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh=10*1e3,hS=30*1e3,pS=5*60*1e3;class mS{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new fS(e);const r=uh+(hS-uh)*Math.random();Yi(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;ct(e,(i,s)=>{s>0&&cn(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Yi(this.reportStats_.bind(this),Math.floor(Math.random()*2*pS))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Rt||(Rt={}));function Lg(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Vu(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Hu(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Rt.ACK_USER_WRITE,this.source=Lg()}operationForChild(e){if(q(this.path)){if(this.affectedTree.value!=null)return D(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new oe(e));return new el(re(),n,this.revert)}}else return D(Q(this.path)===e,"operationForChild called for unrelated child."),new el(ae(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,n){this.source=e,this.path=n,this.type=Rt.LISTEN_COMPLETE}operationForChild(e){return q(this.path)?new ws(this.source,re()):new ws(this.source,ae(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Rt.OVERWRITE}operationForChild(e){return q(this.path)?new lr(this.source,re(),this.snap.getImmediateChild(e)):new lr(this.source,ae(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Rt.MERGE}operationForChild(e){if(q(this.path)){const n=this.children.subtree(new oe(e));return n.isEmpty()?null:n.value?new lr(this.source,re(),n.value):new Ss(this.source,re(),n)}else return D(Q(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ss(this.source,ae(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(q(e))return this.isFullyInitialized()&&!this.filtered_;const n=Q(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function yS(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(lS(o.childName,o.snapshotNode))}),ji(t,i,"child_removed",e,r,n),ji(t,i,"child_added",e,r,n),ji(t,i,"child_moved",s,r,n),ji(t,i,"child_changed",e,r,n),ji(t,i,"value",e,r,n),i}function ji(t,e,n,r,i,s){const o=r.filter(c=>c.type===n);o.sort((c,a)=>_S(t,c,a)),o.forEach(c=>{const a=vS(t,c,s);i.forEach(u=>{u.respondsTo(c.type)&&e.push(u.createEvent(a,t.query_))})})}function vS(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function _S(t,e,n){if(e.childName==null||n.childName==null)throw si("Should only compare child_ events.");const r=new K(e.childName,e.snapshotNode),i=new K(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(t,e){return{eventCache:t,serverCache:e}}function Qi(t,e,n,r){return Tl(new Mn(e,n,r),t.serverCache)}function Mg(t,e,n,r){return Tl(t.eventCache,new Mn(e,n,r))}function tl(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ar(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sa;const xS=()=>(Sa||(Sa=new it(sw)),Sa);class fe{constructor(e,n=xS()){this.value=e,this.children=n}static fromObject(e){let n=new fe(null);return ct(e,(r,i)=>{n=n.set(new oe(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:re(),value:this.value};if(q(e))return null;{const r=Q(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(ae(e),n);return s!=null?{path:Re(new oe(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(q(e))return this;{const n=Q(e),r=this.children.get(n);return r!==null?r.subtree(ae(e)):new fe(null)}}set(e,n){if(q(e))return new fe(n,this.children);{const r=Q(e),s=(this.children.get(r)||new fe(null)).set(ae(e),n),o=this.children.insert(r,s);return new fe(this.value,o)}}remove(e){if(q(e))return this.children.isEmpty()?new fe(null):new fe(null,this.children);{const n=Q(e),r=this.children.get(n);if(r){const i=r.remove(ae(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new fe(null):new fe(this.value,s)}else return this}}get(e){if(q(e))return this.value;{const n=Q(e),r=this.children.get(n);return r?r.get(ae(e)):null}}setTree(e,n){if(q(e))return n;{const r=Q(e),s=(this.children.get(r)||new fe(null)).setTree(ae(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new fe(this.value,o)}}fold(e){return this.fold_(re(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Re(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,re(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(q(e))return null;{const s=Q(e),o=this.children.get(s);return o?o.findOnPath_(ae(e),Re(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,re(),n)}foreachOnPath_(e,n,r){if(q(e))return this;{this.value&&r(n,this.value);const i=Q(e),s=this.children.get(i);return s?s.foreachOnPath_(ae(e),Re(n,i),r):new fe(null)}}foreach(e){this.foreach_(re(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Re(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.writeTree_=e}static empty(){return new Ot(new fe(null))}}function Ki(t,e,n){if(q(e))return new Ot(new fe(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Xe(i,e);return s=s.updateChild(o,n),new Ot(t.writeTree_.set(i,s))}else{const i=new fe(n),s=t.writeTree_.setTree(e,i);return new Ot(s)}}}function dh(t,e,n){let r=t;return ct(n,(i,s)=>{r=Ki(r,Re(e,i),s)}),r}function fh(t,e){if(q(e))return Ot.empty();{const n=t.writeTree_.setTree(e,new fe(null));return new Ot(n)}}function jc(t,e){return fr(t,e)!=null}function fr(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Xe(n.path,e)):null}function hh(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ce,(r,i)=>{e.push(new K(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new K(r,i.value))}),e}function Rn(t,e){if(q(e))return t;{const n=fr(t,e);return n!=null?new Ot(new fe(n)):new Ot(t.writeTree_.subtree(e))}}function Rc(t){return t.writeTree_.isEmpty()}function ti(t,e){return Fg(re(),t.writeTree_,e)}function Fg(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(D(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=Fg(Re(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Re(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(t,e){return Ug(e,t)}function wS(t,e,n,r,i){D(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Ki(t.visibleWrites,e,n)),t.lastWriteId=r}function SS(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function CS(t,e){const n=t.allWrites.findIndex(c=>c.writeId===e);D(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const c=t.allWrites[o];c.visible&&(o>=n&&ES(c,r.path)?i=!1:jt(r.path,c.path)&&(s=!0)),o--}if(i){if(s)return kS(t),!0;if(r.snap)t.visibleWrites=fh(t.visibleWrites,r.path);else{const c=r.children;ct(c,a=>{t.visibleWrites=fh(t.visibleWrites,Re(r.path,a))})}return!0}else return!1}function ES(t,e){if(t.snap)return jt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&jt(Re(t.path,n),e))return!0;return!1}function kS(t){t.visibleWrites=zg(t.allWrites,NS,re()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function NS(t){return t.visible}function zg(t,e,n){let r=Ot.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let c;if(s.snap)jt(n,o)?(c=Xe(n,o),r=Ki(r,c,s.snap)):jt(o,n)&&(c=Xe(o,n),r=Ki(r,re(),s.snap.getChild(c)));else if(s.children){if(jt(n,o))c=Xe(n,o),r=dh(r,c,s.children);else if(jt(o,n))if(c=Xe(o,n),q(c))r=dh(r,re(),s.children);else{const a=Jr(s.children,Q(c));if(a){const u=a.getChild(ae(c));r=Ki(r,re(),u)}}}else throw si("WriteRecord should have .snap or .children")}}return r}function Wg(t,e,n,r,i){if(!r&&!i){const s=fr(t.visibleWrites,e);if(s!=null)return s;{const o=Rn(t.visibleWrites,e);if(Rc(o))return n;if(n==null&&!jc(o,re()))return null;{const c=n||$.EMPTY_NODE;return ti(o,c)}}}else{const s=Rn(t.visibleWrites,e);if(!i&&Rc(s))return n;if(!i&&n==null&&!jc(s,re()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(jt(u.path,e)||jt(e,u.path))},c=zg(t.allWrites,o,e),a=n||$.EMPTY_NODE;return ti(c,a)}}}function TS(t,e,n){let r=$.EMPTY_NODE;const i=fr(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ce,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Rn(t.visibleWrites,e);return n.forEachChild(Ce,(o,c)=>{const a=ti(Rn(s,new oe(o)),c);r=r.updateImmediateChild(o,a)}),hh(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Rn(t.visibleWrites,e);return hh(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function bS(t,e,n,r,i){D(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Re(e,n);if(jc(t.visibleWrites,s))return null;{const o=Rn(t.visibleWrites,s);return Rc(o)?i.getChild(n):ti(o,i.getChild(n))}}function IS(t,e,n,r){const i=Re(e,n),s=fr(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Rn(t.visibleWrites,i);return ti(o,r.getNode().getImmediateChild(n))}else return null}function PS(t,e){return fr(t.visibleWrites,e)}function jS(t,e,n,r,i,s,o){let c;const a=Rn(t.visibleWrites,e),u=fr(a,re());if(u!=null)c=u;else if(n!=null)c=ti(a,n);else return[];if(c=c.withIndex(o),!c.isEmpty()&&!c.isLeafNode()){const p=[],h=o.getCompare(),f=s?c.getReverseIteratorFrom(r,o):c.getIteratorFrom(r,o);let _=f.getNext();for(;_&&p.length<i;)h(_,r)!==0&&p.push(_),_=f.getNext();return p}else return[]}function RS(){return{visibleWrites:Ot.empty(),allWrites:[],lastWriteId:-1}}function nl(t,e,n,r){return Wg(t.writeTree,t.treePath,e,n,r)}function Gu(t,e){return TS(t.writeTree,t.treePath,e)}function ph(t,e,n,r){return bS(t.writeTree,t.treePath,e,n,r)}function rl(t,e){return PS(t.writeTree,Re(t.treePath,e))}function AS(t,e,n,r,i,s){return jS(t.writeTree,t.treePath,e,n,r,i,s)}function Yu(t,e,n){return IS(t.writeTree,t.treePath,e,n)}function Bg(t,e){return Ug(Re(t.treePath,e),t.writeTree)}function Ug(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;D(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),D(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,_s(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,vs(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,ei(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,_s(r,e.snapshotNode,i.oldSnap));else throw si("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const $g=new OS;class Qu{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Mn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Yu(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ar(this.viewCache_),s=AS(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(t){return{filter:t}}function MS(t,e){D(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),D(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function FS(t,e,n,r,i){const s=new DS;let o,c;if(n.type===Rt.OVERWRITE){const u=n;u.source.fromUser?o=Ac(t,e,u.path,u.snap,r,i,s):(D(u.source.fromServer,"Unknown source."),c=u.source.tagged||e.serverCache.isFiltered()&&!q(u.path),o=il(t,e,u.path,u.snap,r,i,c,s))}else if(n.type===Rt.MERGE){const u=n;u.source.fromUser?o=WS(t,e,u.path,u.children,r,i,s):(D(u.source.fromServer,"Unknown source."),c=u.source.tagged||e.serverCache.isFiltered(),o=Dc(t,e,u.path,u.children,r,i,c,s))}else if(n.type===Rt.ACK_USER_WRITE){const u=n;u.revert?o=$S(t,e,u.path,r,i,s):o=BS(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===Rt.LISTEN_COMPLETE)o=US(t,e,n.path,r,s);else throw si("Unknown operation type: "+n.type);const a=s.getChanges();return zS(e,o,a),{viewCache:o,changes:a}}function zS(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=tl(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Dg(tl(e)))}}function Vg(t,e,n,r,i,s){const o=e.eventCache;if(rl(r,n)!=null)return e;{let c,a;if(q(n))if(D(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=ar(e),p=u instanceof $?u:$.EMPTY_NODE,h=Gu(r,p);c=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const u=nl(r,ar(e));c=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=Q(n);if(u===".priority"){D(Ln(n)===1,"Can't have a priority with additional path components");const p=o.getNode();a=e.serverCache.getNode();const h=ph(r,n,p,a);h!=null?c=t.filter.updatePriority(p,h):c=o.getNode()}else{const p=ae(n);let h;if(o.isCompleteForChild(u)){a=e.serverCache.getNode();const f=ph(r,n,o.getNode(),a);f!=null?h=o.getNode().getImmediateChild(u).updateChild(p,f):h=o.getNode().getImmediateChild(u)}else h=Yu(r,u,e.serverCache);h!=null?c=t.filter.updateChild(o.getNode(),u,h,p,i,s):c=o.getNode()}}return Qi(e,c,o.isFullyInitialized()||q(n),t.filter.filtersNodes())}}function il(t,e,n,r,i,s,o,c){const a=e.serverCache;let u;const p=o?t.filter:t.filter.getIndexedFilter();if(q(n))u=p.updateFullNode(a.getNode(),r,null);else if(p.filtersNodes()&&!a.isFiltered()){const _=a.getNode().updateChild(n,r);u=p.updateFullNode(a.getNode(),_,null)}else{const _=Q(n);if(!a.isCompleteForPath(n)&&Ln(n)>1)return e;const S=ae(n),C=a.getNode().getImmediateChild(_).updateChild(S,r);_===".priority"?u=p.updatePriority(a.getNode(),C):u=p.updateChild(a.getNode(),_,C,S,$g,null)}const h=Mg(e,u,a.isFullyInitialized()||q(n),p.filtersNodes()),f=new Qu(i,h,s);return Vg(t,h,n,i,f,c)}function Ac(t,e,n,r,i,s,o){const c=e.eventCache;let a,u;const p=new Qu(i,e,s);if(q(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),a=Qi(e,u,!0,t.filter.filtersNodes());else{const h=Q(n);if(h===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),a=Qi(e,u,c.isFullyInitialized(),c.isFiltered());else{const f=ae(n),_=c.getNode().getImmediateChild(h);let S;if(q(f))S=r;else{const w=p.getCompleteChild(h);w!=null?kg(f)===".priority"&&w.getChild(Tg(f)).isEmpty()?S=w:S=w.updateChild(f,r):S=$.EMPTY_NODE}if(_.equals(S))a=e;else{const w=t.filter.updateChild(c.getNode(),h,S,f,p,o);a=Qi(e,w,c.isFullyInitialized(),t.filter.filtersNodes())}}}return a}function mh(t,e){return t.eventCache.isCompleteForChild(e)}function WS(t,e,n,r,i,s,o){let c=e;return r.foreach((a,u)=>{const p=Re(n,a);mh(e,Q(p))&&(c=Ac(t,c,p,u,i,s,o))}),r.foreach((a,u)=>{const p=Re(n,a);mh(e,Q(p))||(c=Ac(t,c,p,u,i,s,o))}),c}function gh(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Dc(t,e,n,r,i,s,o,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let a=e,u;q(n)?u=r:u=new fe(null).setTree(n,r);const p=e.serverCache.getNode();return u.children.inorderTraversal((h,f)=>{if(p.hasChild(h)){const _=e.serverCache.getNode().getImmediateChild(h),S=gh(t,_,f);a=il(t,a,new oe(h),S,i,s,o,c)}}),u.children.inorderTraversal((h,f)=>{const _=!e.serverCache.isCompleteForChild(h)&&f.value===null;if(!p.hasChild(h)&&!_){const S=e.serverCache.getNode().getImmediateChild(h),w=gh(t,S,f);a=il(t,a,new oe(h),w,i,s,o,c)}}),a}function BS(t,e,n,r,i,s,o){if(rl(i,n)!=null)return e;const c=e.serverCache.isFiltered(),a=e.serverCache;if(r.value!=null){if(q(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return il(t,e,n,a.getNode().getChild(n),i,s,c,o);if(q(n)){let u=new fe(null);return a.getNode().forEachChild(Vr,(p,h)=>{u=u.set(new oe(p),h)}),Dc(t,e,n,u,i,s,c,o)}else return e}else{let u=new fe(null);return r.foreach((p,h)=>{const f=Re(n,p);a.isCompleteForPath(f)&&(u=u.set(p,a.getNode().getChild(f)))}),Dc(t,e,n,u,i,s,c,o)}}function US(t,e,n,r,i){const s=e.serverCache,o=Mg(e,s.getNode(),s.isFullyInitialized()||q(n),s.isFiltered());return Vg(t,o,n,r,$g,i)}function $S(t,e,n,r,i,s){let o;if(rl(r,n)!=null)return e;{const c=new Qu(r,e,i),a=e.eventCache.getNode();let u;if(q(n)||Q(n)===".priority"){let p;if(e.serverCache.isFullyInitialized())p=nl(r,ar(e));else{const h=e.serverCache.getNode();D(h instanceof $,"serverChildren would be complete if leaf node"),p=Gu(r,h)}p=p,u=t.filter.updateFullNode(a,p,s)}else{const p=Q(n);let h=Yu(r,p,e.serverCache);h==null&&e.serverCache.isCompleteForChild(p)&&(h=a.getImmediateChild(p)),h!=null?u=t.filter.updateChild(a,p,h,ae(n),c,s):e.eventCache.getNode().hasChild(p)?u=t.filter.updateChild(a,p,$.EMPTY_NODE,ae(n),c,s):u=a,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=nl(r,ar(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||rl(r,re())!=null,Qi(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Uu(r.getIndex()),s=cS(r);this.processor_=LS(s);const o=n.serverCache,c=n.eventCache,a=i.updateFullNode($.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode($.EMPTY_NODE,c.getNode(),null),p=new Mn(a,o.isFullyInitialized(),i.filtersNodes()),h=new Mn(u,c.isFullyInitialized(),s.filtersNodes());this.viewCache_=Tl(h,p),this.eventGenerator_=new gS(this.query_)}get query(){return this.query_}}function HS(t){return t.viewCache_.serverCache.getNode()}function GS(t){return tl(t.viewCache_)}function YS(t,e){const n=ar(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!q(e)&&!n.getImmediateChild(Q(e)).isEmpty())?n.getChild(e):null}function yh(t){return t.eventRegistrations_.length===0}function QS(t,e){t.eventRegistrations_.push(e)}function vh(t,e,n){const r=[];if(n){D(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function _h(t,e,n,r){e.type===Rt.MERGE&&e.source.queryId!==null&&(D(ar(t.viewCache_),"We should always have a full cache before handling merges"),D(tl(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=FS(t.processor_,i,e,n,r);return MS(t.processor_,s.viewCache),D(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,Hg(t,s.changes,s.viewCache.eventCache.getNode(),null)}function KS(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ce,(s,o)=>{r.push(ei(s,o))}),n.isFullyInitialized()&&r.push(Dg(n.getNode())),Hg(t,r,n.getNode(),e)}function Hg(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return yS(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sl;class Gg{constructor(){this.views=new Map}}function qS(t){D(!sl,"__referenceConstructor has already been defined"),sl=t}function XS(){return D(sl,"Reference.ts has not been loaded"),sl}function JS(t){return t.views.size===0}function Ku(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return D(s!=null,"SyncTree gave us an op for an invalid query."),_h(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(_h(o,e,n,r));return s}}function Yg(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let c=nl(n,i?r:null),a=!1;c?a=!0:r instanceof $?(c=Gu(n,r),a=!1):(c=$.EMPTY_NODE,a=!1);const u=Tl(new Mn(c,a,!1),new Mn(r,i,!1));return new VS(e,u)}return o}function ZS(t,e,n,r,i,s){const o=Yg(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),QS(o,n),KS(o,n)}function e1(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const c=Fn(t);if(i==="default")for(const[a,u]of t.views.entries())o=o.concat(vh(u,n,r)),yh(u)&&(t.views.delete(a),u.query._queryParams.loadsAllData()||s.push(u.query));else{const a=t.views.get(i);a&&(o=o.concat(vh(a,n,r)),yh(a)&&(t.views.delete(i),a.query._queryParams.loadsAllData()||s.push(a.query)))}return c&&!Fn(t)&&s.push(new(XS())(e._repo,e._path)),{removed:s,events:o}}function Qg(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function An(t,e){let n=null;for(const r of t.views.values())n=n||YS(r,e);return n}function Kg(t,e){if(e._queryParams.loadsAllData())return Il(t);{const r=e._queryIdentifier;return t.views.get(r)}}function qg(t,e){return Kg(t,e)!=null}function Fn(t){return Il(t)!=null}function Il(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ol;function t1(t){D(!ol,"__referenceConstructor has already been defined"),ol=t}function n1(){return D(ol,"Reference.ts has not been loaded"),ol}let r1=1;class xh{constructor(e){this.listenProvider_=e,this.syncPointTree_=new fe(null),this.pendingWriteTree_=RS(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Xg(t,e,n,r,i){return wS(t.pendingWriteTree_,e,n,r,i),i?Ls(t,new lr(Lg(),e,n)):[]}function Jn(t,e,n=!1){const r=SS(t.pendingWriteTree_,e);if(CS(t.pendingWriteTree_,e)){let s=new fe(null);return r.snap!=null?s=s.set(re(),!0):ct(r.children,o=>{s=s.set(new oe(o),!0)}),Ls(t,new el(r.path,s,n))}else return[]}function Os(t,e,n){return Ls(t,new lr(Vu(),e,n))}function i1(t,e,n){const r=fe.fromObject(n);return Ls(t,new Ss(Vu(),e,r))}function s1(t,e){return Ls(t,new ws(Vu(),e))}function o1(t,e,n){const r=Xu(t,n);if(r){const i=Ju(r),s=i.path,o=i.queryId,c=Xe(s,e),a=new ws(Hu(o),c);return Zu(t,s,a)}else return[]}function ll(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let c=[];if(o&&(e._queryIdentifier==="default"||qg(o,e))){const a=e1(o,e,n,r);JS(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=a.removed;if(c=a.events,!i){const p=u.findIndex(f=>f._queryParams.loadsAllData())!==-1,h=t.syncPointTree_.findOnPath(s,(f,_)=>Fn(_));if(p&&!h){const f=t.syncPointTree_.subtree(s);if(!f.isEmpty()){const _=c1(f);for(let S=0;S<_.length;++S){const w=_[S],C=w.query,g=ty(t,w);t.listenProvider_.startListening(qi(C),Cs(t,C),g.hashFn,g.onComplete)}}}!h&&u.length>0&&!r&&(p?t.listenProvider_.stopListening(qi(e),null):u.forEach(f=>{const _=t.queryToTagMap.get(Pl(f));t.listenProvider_.stopListening(qi(f),_)}))}u1(t,u)}return c}function Jg(t,e,n,r){const i=Xu(t,r);if(i!=null){const s=Ju(i),o=s.path,c=s.queryId,a=Xe(o,e),u=new lr(Hu(c),a,n);return Zu(t,o,u)}else return[]}function l1(t,e,n,r){const i=Xu(t,r);if(i){const s=Ju(i),o=s.path,c=s.queryId,a=Xe(o,e),u=fe.fromObject(n),p=new Ss(Hu(c),a,u);return Zu(t,o,p)}else return[]}function Oc(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(f,_)=>{const S=Xe(f,i);s=s||An(_,S),o=o||Fn(_)});let c=t.syncPointTree_.get(i);c?(o=o||Fn(c),s=s||An(c,re())):(c=new Gg,t.syncPointTree_=t.syncPointTree_.set(i,c));let a;s!=null?a=!0:(a=!1,s=$.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((_,S)=>{const w=An(S,re());w&&(s=s.updateImmediateChild(_,w))}));const u=qg(c,e);if(!u&&!e._queryParams.loadsAllData()){const f=Pl(e);D(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const _=d1();t.queryToTagMap.set(f,_),t.tagToQueryMap.set(_,f)}const p=bl(t.pendingWriteTree_,i);let h=ZS(c,e,n,p,s,a);if(!u&&!o&&!r){const f=Kg(c,e);h=h.concat(f1(t,e,f))}return h}function qu(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,c)=>{const a=Xe(o,e),u=An(c,a);if(u)return u});return Wg(i,e,s,n,!0)}function a1(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(u,p)=>{const h=Xe(u,n);r=r||An(p,h)});let i=t.syncPointTree_.get(n);i?r=r||An(i,re()):(i=new Gg,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,o=s?new Mn(r,!0,!1):null,c=bl(t.pendingWriteTree_,e._path),a=Yg(i,e,c,s?o.getNode():$.EMPTY_NODE,s);return GS(a)}function Ls(t,e){return Zg(e,t.syncPointTree_,null,bl(t.pendingWriteTree_,re()))}function Zg(t,e,n,r){if(q(t.path))return ey(t,e,n,r);{const i=e.get(re());n==null&&i!=null&&(n=An(i,re()));let s=[];const o=Q(t.path),c=t.operationForChild(o),a=e.children.get(o);if(a&&c){const u=n?n.getImmediateChild(o):null,p=Bg(r,o);s=s.concat(Zg(c,a,u,p))}return i&&(s=s.concat(Ku(i,t,r,n))),s}}function ey(t,e,n,r){const i=e.get(re());n==null&&i!=null&&(n=An(i,re()));let s=[];return e.children.inorderTraversal((o,c)=>{const a=n?n.getImmediateChild(o):null,u=Bg(r,o),p=t.operationForChild(o);p&&(s=s.concat(ey(p,c,a,u)))}),i&&(s=s.concat(Ku(i,t,r,n))),s}function ty(t,e){const n=e.query,r=Cs(t,n);return{hashFn:()=>(HS(e)||$.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?o1(t,n._path,r):s1(t,n._path);{const s=aw(i,n);return ll(t,n,null,s)}}}}function Cs(t,e){const n=Pl(e);return t.queryToTagMap.get(n)}function Pl(t){return t._path.toString()+"$"+t._queryIdentifier}function Xu(t,e){return t.tagToQueryMap.get(e)}function Ju(t){const e=t.indexOf("$");return D(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new oe(t.substr(0,e))}}function Zu(t,e,n){const r=t.syncPointTree_.get(e);D(r,"Missing sync point for query tag that we're tracking");const i=bl(t.pendingWriteTree_,e);return Ku(r,n,i,null)}function c1(t){return t.fold((e,n,r)=>{if(n&&Fn(n))return[Il(n)];{let i=[];return n&&(i=Qg(n)),ct(r,(s,o)=>{i=i.concat(o)}),i}})}function qi(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(n1())(t._repo,t._path):t}function u1(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Pl(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function d1(){return r1++}function f1(t,e,n){const r=e._path,i=Cs(t,e),s=ty(t,n),o=t.listenProvider_.startListening(qi(e),i,s.hashFn,s.onComplete),c=t.syncPointTree_.subtree(r);if(i)D(!Fn(c.value),"If we're adding a query, it shouldn't be shadowed");else{const a=c.fold((u,p,h)=>{if(!q(u)&&p&&Fn(p))return[Il(p).query];{let f=[];return p&&(f=f.concat(Qg(p).map(_=>_.query))),ct(h,(_,S)=>{f=f.concat(S)}),f}});for(let u=0;u<a.length;++u){const p=a[u];t.listenProvider_.stopListening(qi(p),Cs(t,p))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new ed(n)}node(){return this.node_}}class td{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Re(this.path_,e);return new td(this.syncTree_,n)}node(){return qu(this.syncTree_,this.path_)}}const h1=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},wh=function(t,e,n){if(!t||typeof t!="object")return t;if(D(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return p1(t[".sv"],e,n);if(typeof t[".sv"]=="object")return m1(t[".sv"],e);D(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},p1=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:D(!1,"Unexpected server value: "+t)}},m1=function(t,e,n){t.hasOwnProperty("increment")||D(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&D(!1,"Unexpected increment value: "+r);const i=e.node();if(D(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},g1=function(t,e,n,r){return nd(e,new td(n,t),r)},ny=function(t,e,n){return nd(t,new ed(e),n)};function nd(t,e,n){const r=t.getPriority().val(),i=wh(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,c=wh(o.getValue(),e,n);return c!==o.getValue()||i!==o.getPriority().val()?new Me(c,We(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Me(i))),o.forEachChild(Ce,(c,a)=>{const u=nd(a,e.getImmediateChild(c),n);u!==a&&(s=s.updateImmediateChild(c,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function id(t,e){let n=e instanceof oe?e:new oe(e),r=t,i=Q(n);for(;i!==null;){const s=Jr(r.node.children,i)||{children:{},childCount:0};r=new rd(i,r,s),n=ae(n),i=Q(n)}return r}function ai(t){return t.node.value}function ry(t,e){t.node.value=e,Lc(t)}function iy(t){return t.node.childCount>0}function y1(t){return ai(t)===void 0&&!iy(t)}function jl(t,e){ct(t.node.children,(n,r)=>{e(new rd(n,t,r))})}function sy(t,e,n,r){n&&e(t),jl(t,i=>{sy(i,e,!0)})}function v1(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Ms(t){return new oe(t.parent===null?t.name:Ms(t.parent)+"/"+t.name)}function Lc(t){t.parent!==null&&_1(t.parent,t.name,t)}function _1(t,e,n){const r=y1(n),i=cn(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Lc(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Lc(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1=/[\[\].#$\/\u0000-\u001F\u007F]/,w1=/[\[\].#$\u0000-\u001F\u007F]/,Ca=10*1024*1024,oy=function(t){return typeof t=="string"&&t.length!==0&&!x1.test(t)},ly=function(t){return typeof t=="string"&&t.length!==0&&!w1.test(t)},S1=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),ly(t)},ay=function(t,e,n,r){r&&e===void 0||sd(Au(t,"value"),e,n)},sd=function(t,e,n){const r=n instanceof oe?new Bw(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Yn(r));if(typeof e=="function")throw new Error(t+"contains a function "+Yn(r)+" with contents = "+e.toString());if(ig(e))throw new Error(t+"contains "+e.toString()+" "+Yn(r));if(typeof e=="string"&&e.length>Ca/3&&kl(e)>Ca)throw new Error(t+"contains a string greater than "+Ca+" utf8 bytes "+Yn(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(ct(e,(o,c)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!oy(o)))throw new Error(t+" contains an invalid key ("+o+") "+Yn(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Uw(r,o),sd(t,c,r),$w(r)}),i&&s)throw new Error(t+' contains ".value" child '+Yn(r)+" in addition to actual children.")}},cy=function(t,e,n,r){if(!ly(n))throw new Error(Au(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},C1=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),cy(t,e,n)},od=function(t,e){if(Q(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},E1=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!oy(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!S1(n))throw new Error(Au(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ld(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!zu(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function uy(t,e,n){ld(t,n),dy(t,r=>zu(r,e))}function Ht(t,e,n){ld(t,n),dy(t,r=>jt(r,e)||jt(e,r))}function dy(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(N1(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function N1(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Gi&&Qe("event: "+n.toString()),li(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="repo_interrupt",b1=25;class I1{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new k1,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Zo(),this.transactionQueueTree_=new rd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function P1(t,e,n){if(t.stats_=Mu(t.repoInfo_),t.forceRestClient_||fw())t.server_=new Jo(t.repoInfo_,(r,i,s,o)=>{Sh(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Ch(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{je(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new en(t.repoInfo_,e,(r,i,s,o)=>{Sh(t,r,i,s,o)},r=>{Ch(t,r)},r=>{j1(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=yw(t.repoInfo_,()=>new mS(t.stats_,t.server_)),t.infoData_=new uS,t.infoSyncTree_=new xh({startListening:(r,i,s,o)=>{let c=[];const a=t.infoData_.getNode(r._path);return a.isEmpty()||(c=Os(t.infoSyncTree_,r._path,a),setTimeout(()=>{o("ok")},0)),c},stopListening:()=>{}}),cd(t,"connected",!1),t.serverSyncTree_=new xh({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(c,a)=>{const u=o(c,a);Ht(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function fy(t){const n=t.infoData_.getNode(new oe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function ad(t){return h1({timestamp:fy(t)})}function Sh(t,e,n,r,i){t.dataUpdateCount++;const s=new oe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const a=Go(n,u=>We(u));o=l1(t.serverSyncTree_,s,a,i)}else{const a=We(n);o=Jg(t.serverSyncTree_,s,a,i)}else if(r){const a=Go(n,u=>We(u));o=i1(t.serverSyncTree_,s,a)}else{const a=We(n);o=Os(t.serverSyncTree_,s,a)}let c=s;o.length>0&&(c=Al(t,s)),Ht(t.eventQueue_,c,o)}function Ch(t,e){cd(t,"connected",e),e===!1&&D1(t)}function j1(t,e){ct(e,(n,r)=>{cd(t,n,r)})}function cd(t,e,n){const r=new oe("/.info/"+e),i=We(n);t.infoData_.updateSnapshot(r,i);const s=Os(t.infoSyncTree_,r,i);Ht(t.eventQueue_,r,s)}function hy(t){return t.nextWriteId_++}function R1(t,e,n){const r=a1(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=We(i).withIndex(e._queryParams.getIndex());Oc(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Os(t.serverSyncTree_,e._path,s);else{const c=Cs(t.serverSyncTree_,e);o=Jg(t.serverSyncTree_,e._path,s,c)}return Ht(t.eventQueue_,e._path,o),ll(t.serverSyncTree_,e,n,null,!0),s},i=>(Rl(t,"get for query "+je(e)+" failed: "+i),Promise.reject(new Error(i))))}function A1(t,e,n,r,i){Rl(t,"set",{path:e.toString(),value:n,priority:r});const s=ad(t),o=We(n,r),c=qu(t.serverSyncTree_,e),a=ny(o,c,s),u=hy(t),p=Xg(t.serverSyncTree_,e,a,u,!0);ld(t.eventQueue_,p),t.server_.put(e.toString(),o.val(!0),(f,_)=>{const S=f==="ok";S||at("set at "+e+" failed: "+f);const w=Jn(t.serverSyncTree_,u,!S);Ht(t.eventQueue_,e,w),F1(t,i,f,_)});const h=vy(t,e);Al(t,h),Ht(t.eventQueue_,h,[])}function D1(t){Rl(t,"onDisconnectEvents");const e=ad(t),n=Zo();Pc(t.onDisconnect_,re(),(i,s)=>{const o=g1(i,s,t.serverSyncTree_,e);Og(n,i,o)});let r=[];Pc(n,re(),(i,s)=>{r=r.concat(Os(t.serverSyncTree_,i,s));const o=vy(t,i);Al(t,o)}),t.onDisconnect_=Zo(),Ht(t.eventQueue_,re(),r)}function O1(t,e,n){let r;Q(e._path)===".info"?r=Oc(t.infoSyncTree_,e,n):r=Oc(t.serverSyncTree_,e,n),uy(t.eventQueue_,e._path,r)}function L1(t,e,n){let r;Q(e._path)===".info"?r=ll(t.infoSyncTree_,e,n):r=ll(t.serverSyncTree_,e,n),uy(t.eventQueue_,e._path,r)}function M1(t){t.persistentConnection_&&t.persistentConnection_.interrupt(T1)}function Rl(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Qe(n,...e)}function F1(t,e,n,r){e&&li(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function py(t,e,n){return qu(t.serverSyncTree_,e,n)||$.EMPTY_NODE}function ud(t,e=t.transactionQueueTree_){if(e||Dl(t,e),ai(e)){const n=gy(t,e);D(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&z1(t,Ms(e),n)}else iy(e)&&jl(e,n=>{ud(t,n)})}function z1(t,e,n){const r=n.map(u=>u.currentWriteId),i=py(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const p=n[u];D(p.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),p.status=1,p.retryCount++;const h=Xe(e,p.path);s=s.updateChild(h,p.currentOutputSnapshotRaw)}const c=s.val(!0),a=e;t.server_.put(a.toString(),c,u=>{Rl(t,"transaction put response",{path:a.toString(),status:u});let p=[];if(u==="ok"){const h=[];for(let f=0;f<n.length;f++)n[f].status=2,p=p.concat(Jn(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&h.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Dl(t,id(t.transactionQueueTree_,e)),ud(t,t.transactionQueueTree_),Ht(t.eventQueue_,e,p);for(let f=0;f<h.length;f++)li(h[f])}else{if(u==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{at("transaction at "+a.toString()+" failed: "+u);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=u}Al(t,e)}},o)}function Al(t,e){const n=my(t,e),r=Ms(n),i=gy(t,n);return W1(t,i,r),r}function W1(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){const a=e[c],u=Xe(n,a.path);let p=!1,h;if(D(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)p=!0,h=a.abortReason,i=i.concat(Jn(t.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=b1)p=!0,h="maxretry",i=i.concat(Jn(t.serverSyncTree_,a.currentWriteId,!0));else{const f=py(t,a.path,o);a.currentInputSnapshot=f;const _=e[c].update(f.val());if(_!==void 0){sd("transaction failed: Data returned ",_,a.path);let S=We(_);typeof _=="object"&&_!=null&&cn(_,".priority")||(S=S.updatePriority(f.getPriority()));const C=a.currentWriteId,g=ad(t),m=ny(S,f,g);a.currentOutputSnapshotRaw=S,a.currentOutputSnapshotResolved=m,a.currentWriteId=hy(t),o.splice(o.indexOf(C),1),i=i.concat(Xg(t.serverSyncTree_,a.path,m,a.currentWriteId,a.applyLocally)),i=i.concat(Jn(t.serverSyncTree_,C,!0))}else p=!0,h="nodata",i=i.concat(Jn(t.serverSyncTree_,a.currentWriteId,!0))}Ht(t.eventQueue_,n,i),i=[],p&&(e[c].status=2,function(f){setTimeout(f,Math.floor(0))}(e[c].unwatcher),e[c].onComplete&&(h==="nodata"?r.push(()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot)):r.push(()=>e[c].onComplete(new Error(h),!1,null))))}Dl(t,t.transactionQueueTree_);for(let c=0;c<r.length;c++)li(r[c]);ud(t,t.transactionQueueTree_)}function my(t,e){let n,r=t.transactionQueueTree_;for(n=Q(e);n!==null&&ai(r)===void 0;)r=id(r,n),e=ae(e),n=Q(e);return r}function gy(t,e){const n=[];return yy(t,e,n),n.sort((r,i)=>r.order-i.order),n}function yy(t,e,n){const r=ai(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);jl(e,i=>{yy(t,i,n)})}function Dl(t,e){const n=ai(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,ry(e,n.length>0?n:void 0)}jl(e,r=>{Dl(t,r)})}function vy(t,e){const n=Ms(my(t,e)),r=id(t.transactionQueueTree_,e);return v1(r,i=>{Ea(t,i)}),Ea(t,r),sy(r,i=>{Ea(t,i)}),n}function Ea(t,e){const n=ai(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(D(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(D(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Jn(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?ry(e,void 0):n.length=s+1,Ht(t.eventQueue_,Ms(e),i);for(let o=0;o<r.length;o++)li(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function U1(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):at(`Invalid query segment '${n}' in query '${t}'`)}return e}const Eh=function(t,e){const n=$1(t),r=n.namespace;n.domain==="firebase.com"&&ln(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&ln("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||rw();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new gg(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new oe(n.pathString)}},$1=function(t){let e="",n="",r="",i="",s="",o=!0,c="https",a=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(c=t.substring(0,u-1),t=t.substring(u+2));let p=t.indexOf("/");p===-1&&(p=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(p,h)),p<h&&(i=B1(t.substring(p,h)));const f=U1(t.substring(Math.min(t.length,h)));u=e.indexOf(":"),u>=0?(o=c==="https"||c==="wss",a=parseInt(e.substring(u+1),10)):u=e.length;const _=e.slice(0,u);if(_.toLowerCase()==="localhost")n="localhost";else if(_.split(".").length<=2)n=_;else{const S=e.indexOf(".");r=e.substring(0,S).toLowerCase(),n=e.substring(S+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:a,domain:n,subdomain:r,secure:o,scheme:c,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",V1=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=kh.charAt(n%64),n=Math.floor(n/64);D(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=kh.charAt(e[i]);return D(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+je(this.snapshot.exportVal())}}class G1{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return D(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return q(this._path)?null:kg(this._path)}get ref(){return new un(this._repo,this._path)}get _queryIdentifier(){const e=ch(this._queryParams),n=Ou(e);return n==="{}"?"default":n}get _queryObject(){return ch(this._queryParams)}isEqual(e){if(e=dr(e),!(e instanceof dd))return!1;const n=this._repo===e._repo,r=zu(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Ww(this._path)}}class un extends dd{constructor(e,n){super(e,n,new $u,!1)}get parent(){const e=Tg(this._path);return e===null?null:new un(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Es{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new oe(e),r=ks(this.ref,e);return new Es(this._node.getChild(n),r,Ce)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Es(i,ks(this.ref,r),Ce)))}hasChild(e){const n=new oe(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function J(t,e){return t=dr(t),t._checkNotDeleted("ref"),e!==void 0?ks(t._root,e):t._root}function ks(t,e){return t=dr(t),Q(t._path)===null?C1("child","path",e):cy("child","path",e),new un(t._repo,Re(t._path,e))}function ka(t,e){t=dr(t),od("push",t._path),ay("push",e,t._path,!0);const n=fy(t._repo),r=V1(n),i=ks(t,r),s=ks(t,r);let o;return e!=null?o=Le(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function Nh(t){return od("remove",t._path),Le(t,null)}function Le(t,e){t=dr(t),od("set",t._path),ay("set",e,t._path,!1);const n=new El;return A1(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Ri(t){t=dr(t);const e=new _y(()=>{}),n=new Ol(e);return R1(t._repo,t,n).then(r=>new Es(r,new un(t._repo,t._path),t._queryParams.getIndex()))}class Ol{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new H1("value",this,new Es(e.snapshotNode,new un(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new G1(this,e,n):null}matches(e){return e instanceof Ol?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function Y1(t,e,n,r,i){const s=new _y(n,void 0),o=new Ol(s);return O1(t._repo,t,o),()=>L1(t._repo,t,o)}function Yt(t,e,n,r){return Y1(t,"value",e)}qS(un);t1(un);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="FIREBASE_DATABASE_EMULATOR_HOST",Mc={};let K1=!1;function q1(t,e,n,r){t.repoInfo_=new gg(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function X1(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||ln("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Qe("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Eh(s,i),c=o.repoInfo,a;typeof process<"u"&&Hf&&(a=Hf[Q1]),a?(s=`http://${a}?ns=${c.namespace}`,o=Eh(s,i),c=o.repoInfo):o.repoInfo.secure;const u=new pw(t.name,t.options,e);E1("Invalid Firebase Database URL",o),q(o.path)||ln("Database URL must point to the root of a Firebase Database (not including a child path).");const p=Z1(c,t,u,new hw(t.name,n));return new eC(p,t)}function J1(t,e){const n=Mc[e];(!n||n[t.key]!==t)&&ln(`Database ${e}(${t.repoInfo_}) has already been deleted.`),M1(t),delete n[t.key]}function Z1(t,e,n,r){let i=Mc[e.name];i||(i={},Mc[e.name]=i);let s=i[t.toURLString()];return s&&ln("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new I1(t,K1,n,r),i[t.toURLString()]=s,s}class eC{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(P1(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new un(this._repo,re())),this._rootInternal}_delete(){return this._rootInternal!==null&&(J1(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ln("Cannot call "+e+" on a deleted database.")}}function tC(t=zx(),e){const n=Ox(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=E0("database");r&&nC(n,...r)}return n}function nC(t,e,n,r={}){t=dr(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&ln("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&ln('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new xo(xo.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:k0(r.mockUserToken,t.app.options.projectId);s=new xo(o)}q1(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(t){Xx(Fx),Qo(new ms("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return X1(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Ur(Gf,Yf,t),Ur(Gf,Yf,"esm2017")}en.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};en.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};rC();function iC({allPicks:t,actualScores:e,currentWeek:n,playerName:r,playerCode:i,isPoolManager:s,prizePool:o,officialWinners:c,onLogout:a}){const u=(w,C,g)=>{if(!w||!C||!C[g])return 0;let m=0;const x=C[g];return Object.keys(w).forEach(k=>{const A=w[k],E=x[k];if(!A||!E)return;const b=parseInt(A.team1),R=parseInt(A.team2),G=parseInt(E.team1),U=parseInt(E.team2);if(isNaN(b)||isNaN(R)||isNaN(G)||isNaN(U))return;const ee=b>R?"team1":R>b?"team2":"tie",Te=G>U?"team1":U>G?"team2":"tie";ee===Te&&Te!=="tie"&&m++}),m},p=(w,C,g)=>{if(!w||!C||!C[g])return null;let m=0,x=0;const k=C[g];return Object.keys(w).forEach(A=>{const E=w[A],b=k[A];if(!E||!b)return;const R=parseInt(E.team1),G=parseInt(E.team2),U=parseInt(b.team1),ee=parseInt(b.team2);isNaN(R)||isNaN(G)||isNaN(U)||isNaN(ee)||(m+=R+G,x+=U+ee)}),Math.abs(m-x)},h=(w,C,g)=>{let m=0,x=0;return g.forEach(k=>{const A=w[k];if(A){m+=u(A,C,k);const E=p(A,C,k);E!==null&&(x+=E)}}),{correctWinners:m,pointsDifference:x}},f={wildcard:"Week 1",divisional:"Week 2",conference:"Week 3",superbowl:"Week 4"},_=F.useMemo(()=>{const w={};return t.forEach(C=>{const g=C.playerName;w[g]||(w[g]={wildcard:null,divisional:null,conference:null,superbowl:null}),w[g][C.week]=C.predictions}),w},[t]),S=F.useMemo(()=>{const w=[],C=["wildcard","divisional","conference","superbowl"];C.slice(0,3).forEach((E,b)=>{const R=f[E],G=Object.entries(_).map(([ee,Te])=>({playerName:ee,score:u(Te[E],e,E)})).filter(ee=>ee.score>0).sort((ee,Te)=>Te.score-ee.score);w.push({prizeNumber:b*2+1,name:`${R} - Most Correct Winners`,week:E,type:"correctWinners",leaders:G.slice(0,5)});const U=Object.entries(_).map(([ee,Te])=>({playerName:ee,score:p(Te[E],e,E)})).filter(ee=>ee.score!==null).sort((ee,Te)=>ee.score-Te.score);w.push({prizeNumber:b*2+2,name:`${R} - Closest Total Points`,week:E,type:"pointsDifference",leaders:U.slice(0,5)})});const g="superbowl",m=Object.entries(_).map(([E,b])=>({playerName:E,score:u(b[g],e,g)})).filter(E=>E.score>0).sort((E,b)=>b.score-E.score);w.push({prizeNumber:7,name:"Week 4 - Most Correct Winners",week:g,type:"correctWinners",leaders:m.slice(0,5)});const x=Object.entries(_).map(([E,b])=>({playerName:E,score:p(b[g],e,g)})).filter(E=>E.score!==null).sort((E,b)=>E.score-b.score);w.push({prizeNumber:8,name:"Week 4 - Closest Total Points",week:g,type:"pointsDifference",leaders:x.slice(0,5)});const k=Object.entries(_).map(([E,b])=>{const R=h(b,e,C);return{playerName:E,score:R.correctWinners}}).filter(E=>E.score>0).sort((E,b)=>b.score-E.score);w.push({prizeNumber:9,name:"Cumulative (All 4 Weeks) - Most Correct Winners",week:"all",type:"correctWinners",leaders:k.slice(0,5)});const A=Object.entries(_).map(([E,b])=>{const R=h(b,e,C);return{playerName:E,score:R.pointsDifference}}).filter(E=>E.score!==null&&E.score>=0).sort((E,b)=>E.score-b.score);return w.push({prizeNumber:10,name:"Cumulative (All 4 Weeks) - Closest Total Points",week:"all",type:"pointsDifference",leaders:A.slice(0,5)}),w},[_,e]);return l.jsx("div",{className:"standings-page",children:l.jsxs("div",{className:"container",children:[l.jsxs("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"20px",borderRadius:"8px",marginBottom:"20px",color:"white"},children:[l.jsx("div",{style:{fontSize:"0.9rem",marginBottom:"5px"},children:" VERIFIED"}),l.jsxs("div",{style:{fontSize:"1.2rem",fontWeight:"bold",marginBottom:"5px"},children:["Viewing as: ",r]}),s&&l.jsx("div",{style:{fontSize:"0.9rem",marginBottom:"10px",color:"#ffd700",fontWeight:"600"},children:" POOL MANAGER"}),l.jsx("button",{onClick:a,style:{background:"white",color:"#764ba2",border:"none",padding:"10px 20px",borderRadius:"6px",fontSize:"0.95rem",fontWeight:"600",cursor:"pointer",marginTop:"10px",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:" Logout / Switch Entry"}),l.jsx("p",{style:{fontSize:"0.85rem",marginTop:"10px",opacity:.9,fontStyle:"italic"},children:" Playing with multiple entries? Logout to switch between your codes."})]}),l.jsx("h1",{className:"standings-title",children:" Standings & Prize Leaders"}),o&&o.totalFees>0&&l.jsxs("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"25px",borderRadius:"12px",marginBottom:"30px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[l.jsx("h2",{style:{margin:"0 0 20px 0",fontSize:"1.5rem"},children:" Prize Pool Information"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginBottom:"15px"},children:[l.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:"15px",borderRadius:"8px"},children:[l.jsx("div",{style:{fontSize:"0.9rem",opacity:.9,marginBottom:"5px"},children:"Total Pool Fees"}),l.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:["$",o.totalFees.toFixed(2)]})]}),l.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:"15px",borderRadius:"8px"},children:[l.jsx("div",{style:{fontSize:"0.9rem",opacity:.9,marginBottom:"5px"},children:"Number of Players"}),l.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:o.numberOfPlayers})]}),l.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:"15px",borderRadius:"8px"},children:[l.jsx("div",{style:{fontSize:"0.9rem",opacity:.9,marginBottom:"5px"},children:"Entry Fee"}),l.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:["$",o.entryFee]})]}),l.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:"15px",borderRadius:"8px"},children:[l.jsx("div",{style:{fontSize:"0.9rem",opacity:.9,marginBottom:"5px"},children:"Each Prize (10%)"}),l.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:["$",o.prizeValue.toFixed(2)]})]})]}),l.jsx("div",{style:{fontSize:"0.9rem",opacity:.9},children:" 10 prizes total  Equal 10% distribution  Ties split equally"})]}),c&&Object.keys(c).length>0&&l.jsxs("div",{style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"white",padding:"25px",borderRadius:"12px",marginBottom:"30px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[l.jsx("h2",{style:{margin:"0 0 20px 0",fontSize:"1.5rem"},children:" OFFICIAL PRIZE WINNERS"}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"20px"},children:Object.entries(c).sort((w,C)=>w[1].prizeNumber-C[1].prizeNumber).map(([w,C])=>l.jsxs("div",{style:{background:"rgba(255,255,255,0.95)",color:"#333",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 8px rgba(0,0,0,0.15)"},children:[l.jsxs("div",{style:{fontWeight:"bold",fontSize:"1.1rem",marginBottom:"8px",color:"#f5576c"},children:["Prize #",C.prizeNumber]}),l.jsx("div",{style:{fontSize:"0.9rem",color:"#666",marginBottom:"12px"},children:C.prizeName.replace(`Prize #${C.prizeNumber} - `,"")}),l.jsxs("div",{style:{fontSize:"0.85rem",fontWeight:"600",color:"#999",marginBottom:"12px"},children:["Prize Value: $",C.prizeValue.toFixed(2)]}),l.jsx("div",{style:{borderTop:"2px solid #f093fb",paddingTop:"12px"},children:C.winners.map((g,m)=>l.jsxs("div",{style:{padding:"8px 0",borderBottom:m<C.winners.length-1?"1px solid #eee":"none"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"10px"},children:[l.jsxs("div",{style:{fontWeight:"700",fontSize:"1rem",color:"#333"},children:[" ",g.playerName]}),l.jsxs("div",{style:{fontSize:"0.95rem",fontWeight:"600",color:"#f5576c"},children:["$",g.amount.toFixed(2)]})]}),l.jsxs("div",{style:{fontSize:"0.8rem",color:"#888",marginTop:"2px"},children:[g.percentage.toFixed(2),"% of prize"]})]},m))})]},w))})]}),l.jsx("div",{className:"prizes-grid",children:S.map(w=>l.jsxs("div",{className:"prize-card",children:[l.jsxs("div",{className:"prize-header",children:[l.jsxs("div",{className:"prize-number",children:["Prize #",w.prizeNumber]}),l.jsx("div",{className:"prize-name",children:w.name})]}),l.jsx("div",{className:"prize-leaders",children:w.leaders.length===0?l.jsx("div",{className:"no-data",children:"No data available yet"}):l.jsxs("table",{className:"leaders-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Rank"}),l.jsx("th",{children:"Player"}),l.jsx("th",{children:w.type==="correctWinners"?"Correct":"Difference"})]})}),l.jsx("tbody",{children:w.leaders.map((C,g)=>{const m=g>0&&C.score===w.leaders[g-1].score,x=m?"=":g+1;return l.jsxs("tr",{className:g===0&&!m?"leader-first":"",children:[l.jsx("td",{className:"rank",children:x}),l.jsx("td",{className:"player-name",children:C.playerName}),l.jsx("td",{className:"score",children:w.type==="correctWinners"?`${C.score} correct`:`${C.score} pts`})]},g)})})]})})]},w.prizeNumber))}),l.jsx("div",{className:"standings-note",children:l.jsxs("p",{children:[l.jsx("strong",{children:"Note:"}),' Tied players are shown with "=" rank. Pool Manager will resolve ties manually using Excel if needed for prize distribution.']})})]})})}function sC({currentWeek:t,games:e,actualScores:n,teamCodes:r,onScoresFetched:i,onGameLockToggle:s,gameLocks:o,espnAutoRefresh:c}){const[a,u]=F.useState(!1),[p,h]=F.useState(null),[f,_]=F.useState(null),[S,w]=F.useState(!1),[C,g]=F.useState(!1),m=async()=>{if(!(a||C)){u(!0),_({type:"loading",message:"Fetching scores from ESPN..."});try{await i(),h(new Date),_({type:"success",message:"Scores updated successfully!"}),setTimeout(()=>_(null),3e3)}catch(b){_({type:"error",message:`Error: ${b.message}`})}finally{u(!1)}}},x=()=>{S?(c.stop(),w(!1),_({type:"info",message:"Auto-refresh stopped"})):(c.start(),w(!0),_({type:"info",message:"Auto-refresh started (every 5 minutes)"})),setTimeout(()=>_(null),3e3)},k=()=>{C?(g(!1),_({type:"info",message:"API resumed - fetching enabled"})):(g(!0),S&&(c.stop(),w(!1)),_({type:"warning",message:"API paused - all fetching disabled"})),setTimeout(()=>_(null),3e3)},A=b=>{var R;return((R=o==null?void 0:o[t])==null?void 0:R[b])===!0},E=b=>{var R,G;return((G=(R=n==null?void 0:n[t])==null?void 0:R[b])==null?void 0:G.source)==="espn"};return l.jsxs("div",{className:"espn-controls",children:[l.jsxs("div",{className:"espn-header",children:[l.jsx("h3",{children:" ESPN API Controls"}),l.jsxs("div",{className:"espn-status-badges",children:[C&&l.jsx("span",{className:"status-badge paused",children:" API PAUSED"}),S&&!C&&l.jsx("span",{className:"status-badge active",children:" AUTO-REFRESH ON"}),p&&l.jsxs("span",{className:"status-badge info",children:["Last fetch: ",p.toLocaleTimeString()]})]})]}),l.jsxs("div",{className:"espn-global-controls",children:[l.jsx("button",{className:"espn-btn fetch-now",onClick:m,disabled:a||C,children:a?" Fetching...":" Fetch Scores Now"}),l.jsx("button",{className:`espn-btn auto-refresh ${S?"active":""}`,onClick:x,disabled:C,children:S?" Stop Auto-Refresh":" Start Auto-Refresh (5 min)"}),l.jsx("button",{className:`espn-btn pause-api ${C?"paused":""}`,onClick:k,children:C?" Resume API":" Pause API"})]}),f&&l.jsx("div",{className:`fetch-status ${f.type}`,children:f.message}),l.jsxs("div",{className:"game-overrides",children:[l.jsx("h4",{children:"Game Override Controls"}),l.jsxs("p",{className:"override-info",children:[" Lock = Manual entry only (ignore API)",l.jsx("br",{})," Unlock = Auto-update from ESPN API"]}),l.jsx("div",{className:"game-override-list",children:e.map(b=>{var Mt,hr,pr,Ft,gt;const R=A(b.id),G=E(b.id),U=(Mt=n==null?void 0:n[t])==null?void 0:Mt[b.id],ee=((pr=(hr=r==null?void 0:r[t])==null?void 0:hr[b.id])==null?void 0:pr.team1)||b.team1,Te=((gt=(Ft=r==null?void 0:r[t])==null?void 0:Ft[b.id])==null?void 0:gt.team2)||b.team2;return l.jsxs("div",{className:"game-override-item",children:[l.jsxs("div",{className:"game-info",children:[l.jsxs("span",{className:"game-matchup",children:[ee," vs ",Te]}),U&&l.jsxs("span",{className:"game-scores",children:[n[t][b.id].team1," - ",n[t][b.id].team2]})]}),l.jsxs("div",{className:"game-status-badges",children:[G&&!R&&l.jsx("span",{className:"game-badge api",children:" From API"}),R&&l.jsx("span",{className:"game-badge manual",children:" Manual Entry"}),!U&&l.jsx("span",{className:"game-badge no-score",children:"No Score"})]}),l.jsx("button",{className:`lock-btn ${R?"locked":"unlocked"}`,onClick:()=>s(b.id),title:R?"Unlock to allow API updates":"Lock to prevent API updates",children:R?" Locked":" Unlocked"})]},b.id)})})]}),l.jsxs("div",{className:"espn-help",children:[l.jsx("h4",{children:" How It Works:"}),l.jsxs("ul",{children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Fetch Now:"})," Manually fetch latest scores from ESPN"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Auto-Refresh:"})," Automatically fetch every 5 minutes"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Pause API:"})," Stop all API fetching (use manual entry only)"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Lock Game:"})," Prevent API from overwriting your manual score for that game"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Unlock Game:"})," Allow API to update score automatically"]})]}),l.jsxs("p",{className:"help-note",children:[l.jsx("strong",{children:"Tip:"})," Lock a game if you need to manually correct a score that ESPN has wrong."]})]})]})}const oC="https://site.api.espn.com/apis/site/v2/sports/football/nfl";async function lC(){try{const t=await fetch(`${oC}/scoreboard`);if(!t.ok)throw new Error(`ESPN API error: ${t.status}`);const e=await t.json();return aC(e)}catch(t){return console.error("Error fetching ESPN scores:",t),{success:!1,error:t.message,games:[]}}}function aC(t){return!t.events||t.events.length===0?{success:!0,games:[],message:"No games currently available"}:{success:!0,games:t.events.map(n=>{const r=n.competitions[0],i=r.status,s=r.competitors,o=s.find(S=>S.homeAway==="away"),c=s.find(S=>S.homeAway==="home"),a=o.team.abbreviation,u=c.team.abbreviation,p=parseInt(o.score)||0,h=parseInt(c.score)||0,f=cC(i);return{espnGameId:n.id,awayTeam:{abbreviation:a,fullName:o.team.displayName,score:p},homeTeam:{abbreviation:u,fullName:c.team.displayName,score:h},status:f.status,statusText:f.text,period:f.period,clock:f.clock,isFinal:f.isFinal,isLive:f.isLive,isScheduled:f.isScheduled,startTime:n.date,lastUpdated:new Date().toISOString()}}),fetchedAt:new Date().toISOString()}}function cC(t){const e=t.type.name,n=t.period,r=t.displayClock,i=t.type.detail;let s="scheduled",o=i,c=!1,a=!1,u=!1;return e==="STATUS_SCHEDULED"?(s="scheduled",o="Scheduled",u=!0):e==="STATUS_IN_PROGRESS"?(s="live",c=!0,n===1?o=`1st Quarter - ${r}`:n===2?o=`2nd Quarter - ${r}`:n===3?o=`3rd Quarter - ${r}`:n===4?o=`4th Quarter - ${r}`:n>4&&(o=`OT ${n-4} - ${r}`)):e==="STATUS_HALFTIME"?(s="halftime",o="Halftime",c=!0):e==="STATUS_END_PERIOD"?(s="live",o=`End of ${n===1?"1st":n===2?"2nd":n===3?"3rd":"4th"} Quarter`,c=!0):(e==="STATUS_FINAL"||e==="STATUS_FINAL_OVERTIME")&&(s="final",a=!0,e==="STATUS_FINAL_OVERTIME"?o=n>4?`Final/OT${n-4}`:"Final/OT":o="Final"),{status:s,text:o,period:n,clock:r||"",isLive:c,isFinal:a,isScheduled:u}}function uC(t,e,n,r){if(!r||!r[n])return null;const i=e[n].games,s=r[n];for(const o of i){const c=s[o.id];if(!c)continue;const a=c.team1===t.awayTeam.abbreviation||c.team1===t.homeTeam.abbreviation,u=c.team2===t.awayTeam.abbreviation||c.team2===t.homeTeam.abbreviation;if(a&&u){const p=c.team1===t.awayTeam.abbreviation;return{gameId:o.id,team1Score:p?t.awayTeam.score:t.homeTeam.score,team2Score:p?t.homeTeam.score:t.awayTeam.score,status:t.status,statusText:t.statusText,period:t.period,clock:t.clock,isFinal:t.isFinal,isLive:t.isLive,espnGameId:t.espnGameId}}}return null}class dC{constructor(e,n=5){this.onFetch=e,this.intervalMinutes=n,this.intervalId=null,this.isRunning=!1}start(){if(this.isRunning){console.log("Auto-refresh already running");return}console.log(`Starting auto-refresh every ${this.intervalMinutes} minutes`),this.isRunning=!0,this.onFetch(),this.intervalId=setInterval(()=>{console.log("Auto-fetching ESPN scores..."),this.onFetch()},this.intervalMinutes*60*1e3)}stop(){if(!this.isRunning){console.log("Auto-refresh not running");return}console.log("Stopping auto-refresh"),clearInterval(this.intervalId),this.intervalId=null,this.isRunning=!1}isActive(){return this.isRunning}setInterval(e){this.intervalMinutes=e,this.isRunning&&(this.stop(),this.start())}}const fC={wildcard:{name:"Week 1 - Wildcard Round",shortName:"Wildcard",deadline:"Fri Jan 9, 11:59 PM PST",number:1},divisional:{name:"Week 2 - Divisional Round",shortName:"Divisional",deadline:"Fri Jan 16, 11:59 PM PST",number:2},conference:{name:"Week 3 - Conference Championships",shortName:"Conference",deadline:"Fri Jan 23, 11:59 PM PST",number:3},superbowl:{name:"Week 4 - Super Bowl LIX",shortName:"Super Bowl",deadline:"Fri Feb 6, 11:59 PM PST",number:4}};function hC(t,e,n,r){return n?{icon:"",text:"LOCKED",color:"gray",className:"locked"}:r?{icon:"",text:"EDITING NOW",color:"purple",className:"editing"}:e&&e.complete?{icon:"",text:"ALL PICKS SAVED",color:"green",className:"saved"}:{icon:"",text:"READY TO PICK",color:"blue",className:"ready"}}function pC({currentWeek:t,onWeekChange:e,weekPicks:n={},weekLockStatus:r={},hasUnsavedChanges:i=!1}){const s=o=>{o!==t&&e(o)};return l.jsxs("div",{className:"week-selector-container",children:[l.jsxs("div",{className:"week-selector-header",children:[l.jsx("h2",{children:" SELECT WEEK TO MAKE/EDIT YOUR PICKS"}),i&&l.jsx("div",{className:"unsaved-indicator",children:" You have unsaved changes"})]}),l.jsx("div",{className:"week-cards",children:Object.entries(fC).map(([o,c])=>{var f;const a=o===t,u=((f=r[o])==null?void 0:f.locked)||!1,p=n[o],h=hC(o,p,u,a);return l.jsxs("div",{className:`week-card ${h.className} ${a?"current":""}`,onClick:()=>s(o),role:"button",tabIndex:0,onKeyPress:_=>{(_.key==="Enter"||_.key===" ")&&s(o)},children:[l.jsxs("div",{className:"week-card-header",children:[l.jsxs("div",{className:"week-number",children:["WEEK ",c.number]}),a&&l.jsx("div",{className:"current-indicator",children:" YOU ARE HERE "})]}),l.jsxs("div",{className:"week-card-title",children:[o==="superbowl"?"":""," ",c.shortName]}),l.jsxs("div",{className:"week-card-deadline",children:[o==="superbowl"?"Game Day: ":"Deadline: ",c.deadline]}),l.jsxs("div",{className:`week-card-status status-${h.className}`,children:[l.jsx("span",{className:"status-icon",children:h.icon}),l.jsx("span",{className:"status-text",children:h.text})]}),u&&l.jsx("div",{className:"locked-overlay",children:l.jsx("div",{className:"locked-message",children:" Cannot Edit"})})]},o)})}),l.jsx("div",{className:"week-selector-footer",children:l.jsx("p",{className:"info-text",children:" You can make picks for all weeks in advance, even if teams aren't known yet."})})]})}function mC({currentWeek:t,onDiscard:e,onSaveAndSwitch:n,onCancel:r}){const i={wildcard:"Week 1",divisional:"Week 2",conference:"Week 3",superbowl:"Week 4"};return l.jsx("div",{className:"popup-overlay",children:l.jsxs("div",{className:"popup-container warning-popup",children:[l.jsxs("div",{className:"popup-header warning",children:[l.jsx("span",{className:"popup-icon",children:""}),l.jsx("h3",{children:"UNSAVED CHANGES"})]}),l.jsxs("div",{className:"popup-body",children:[l.jsxs("p",{children:["You have unsaved changes for ",i[t],"."]}),l.jsx("p",{children:"What would you like to do?"})]}),l.jsxs("div",{className:"popup-buttons",children:[l.jsx("button",{className:"popup-btn btn-secondary",onClick:e,children:"Discard Changes"}),l.jsx("button",{className:"popup-btn btn-primary",onClick:n,children:"Save & Switch"}),l.jsx("button",{className:"popup-btn btn-neutral",onClick:r,children:"Cancel"})]})]})})}function gC({onKeepEditing:t,onDiscard:e}){return l.jsx("div",{className:"popup-overlay",children:l.jsxs("div",{className:"popup-container warning-popup",children:[l.jsxs("div",{className:"popup-header warning",children:[l.jsx("span",{className:"popup-icon",children:""}),l.jsx("h3",{children:"DISCARD CHANGES?"})]}),l.jsxs("div",{className:"popup-body",children:[l.jsx("p",{children:"Your changes will not be saved."}),l.jsx("p",{children:"Your previously saved picks will remain unchanged in the system."})]}),l.jsxs("div",{className:"popup-buttons",children:[l.jsx("button",{className:"popup-btn btn-primary",onClick:t,children:"Keep Editing"}),l.jsx("button",{className:"popup-btn btn-danger",onClick:e,children:"Discard Changes"})]})]})})}function yC({missingGames:t,totalGames:e,onClose:n}){return l.jsx("div",{className:"popup-overlay",children:l.jsxs("div",{className:"popup-container error-popup",children:[l.jsxs("div",{className:"popup-header error",children:[l.jsx("span",{className:"popup-icon",children:""}),l.jsx("h3",{children:"CANNOT SAVE - INCOMPLETE ENTRY"})]}),l.jsxs("div",{className:"popup-body",children:[l.jsx("p",{children:"You must predict scores for ALL games."}),l.jsxs("p",{className:"count-text",children:["Completed: ",l.jsx("strong",{children:e-t.length})," of ",l.jsx("strong",{children:e})," games "]}),l.jsxs("div",{className:"missing-games-list",children:[l.jsx("p",{children:l.jsx("strong",{children:"Missing scores for:"})}),l.jsx("ul",{children:t.map((r,i)=>l.jsxs("li",{children:[" Game ",i+1,": ",r.team1," vs ",r.team2]},i))})]}),l.jsx("p",{className:"instruction-text",children:"Please fill in all games before saving."})]}),l.jsx("div",{className:"popup-buttons",children:l.jsx("button",{className:"popup-btn btn-primary",onClick:n,children:"OK - Go Back and Complete"})})]})})}function vC({invalidScores:t,onClose:e}){return l.jsx("div",{className:"popup-overlay",children:l.jsxs("div",{className:"popup-container error-popup",children:[l.jsxs("div",{className:"popup-header error",children:[l.jsx("span",{className:"popup-icon",children:""}),l.jsx("h3",{children:"INVALID SCORES"})]}),l.jsxs("div",{className:"popup-body",children:[l.jsx("p",{children:"All scores must be between 10 and 50."}),l.jsxs("div",{className:"invalid-scores-list",children:[l.jsx("p",{children:l.jsx("strong",{children:"Invalid scores:"})}),l.jsx("ul",{children:t.map((n,r)=>l.jsxs("li",{children:[" Game ",r+1," (",n.team,"): ",l.jsx("strong",{children:n.score})," (",n.score<10?"too low":"too high",")"]},r))})]}),l.jsx("p",{className:"instruction-text",children:"Please fix these scores."})]}),l.jsx("div",{className:"popup-buttons",children:l.jsx("button",{className:"popup-btn btn-primary",onClick:e,children:"OK - Go Back and Fix"})})]})})}function _C({weekName:t,deadline:e,onClose:n}){return l.jsx("div",{className:"popup-overlay",children:l.jsxs("div",{className:"popup-container success-popup",children:[l.jsxs("div",{className:"popup-header success",children:[l.jsx("span",{className:"popup-icon",children:""}),l.jsx("h3",{children:"PICKS SAVED SUCCESSFULLY!"})]}),l.jsxs("div",{className:"popup-body",children:[l.jsxs("p",{children:["Your ",t," picks have been saved."]}),l.jsx("p",{children:"You can edit them anytime before the deadline:"}),l.jsx("p",{className:"deadline-text",children:l.jsx("strong",{children:e})})]}),l.jsx("div",{className:"popup-buttons",children:l.jsx("button",{className:"popup-btn btn-success",onClick:n,children:"OK"})})]})})}function xC({onClose:t}){return l.jsx("div",{className:"popup-overlay",children:l.jsxs("div",{className:"popup-container info-popup",children:[l.jsxs("div",{className:"popup-header info",children:[l.jsx("span",{className:"popup-icon",children:""}),l.jsx("h3",{children:"NO CHANGES TO SAVE"})]}),l.jsxs("div",{className:"popup-body",children:[l.jsx("p",{children:"You haven't made any changes to your picks."}),l.jsx("p",{children:"Your picks are already saved."})]}),l.jsx("div",{className:"popup-buttons",children:l.jsx("button",{className:"popup-btn btn-primary",onClick:t,children:"OK"})})]})})}function wC({tiedGames:t,gameData:e,onClose:n}){return l.jsx("div",{className:"popup-overlay",children:l.jsxs("div",{className:"popup-container error-popup",children:[l.jsxs("div",{className:"popup-header error",children:[l.jsx("span",{className:"popup-icon",children:""}),l.jsx("h3",{children:"PLAYOFF GAMES CANNOT END IN A TIE!"})]}),l.jsxs("div",{className:"popup-body",children:[l.jsx("p",{style:{fontWeight:"bold",marginBottom:"15px"},children:"The following game(s) have tied scores:"}),l.jsx("ul",{style:{listStyle:"none",padding:0,marginBottom:"15px"},children:t.map(r=>{const i=e.find(s=>s.id===r);return l.jsxs("li",{style:{padding:"8px",background:"#ffebee",border:"1px solid #ef5350",borderRadius:"4px",marginBottom:"8px",color:"#c62828"},children:[" ",i.team1," vs. ",i.team2]},r)})}),l.jsx("p",{style:{fontStyle:"italic",color:"#666"},children:"NFL Playoff games go to overtime until there's a winner!"}),l.jsx("p",{style:{fontWeight:"bold"},children:"Please change the scores so one team wins."})]}),l.jsx("div",{className:"popup-buttons",children:l.jsx("button",{className:"popup-btn btn-primary",onClick:n,children:"Fix Scores"})})]})})}const xy={1:{name:"Most Correct Winners",week:"wildcard",weekName:"Week 1"},2:{name:"Closest Total Points",week:"wildcard",weekName:"Week 1"},3:{name:"Most Correct Winners",week:"divisional",weekName:"Week 2"},4:{name:"Closest Total Points",week:"divisional",weekName:"Week 2"},5:{name:"Most Correct Winners",week:"conference",weekName:"Week 3"},6:{name:"Closest Total Points",week:"conference",weekName:"Week 3"},7:{name:"Most Correct Winners",week:"superbowl",weekName:"Week 4"},8:{name:"Closest Total Points",week:"superbowl",weekName:"Week 4"},9:{name:"Overall Most Correct Winners",week:"all",weekName:"All Weeks"},10:{name:"Overall Closest Total Points",week:"all",weekName:"All Weeks"}};function SC(t,e,n){var r;if(t.week==="all"){let i=0,s=0;return Object.keys(n).forEach(o=>{const c=n[o].games;i+=c.length,c.forEach(a=>{var p;const u=(p=e[o])==null?void 0:p[a.id];u&&(u.team1!==void 0||u.team2!==void 0)&&s++})}),s===0?{status:"NOT_STARTED",gamesCompleted:0,totalGames:i,message:"First game Saturday, January 11, 2026! Standings will update as games finish."}:s<i?{status:"LIVE",gamesCompleted:s,totalGames:i,message:`LIVE NOW! ${s} of ${i} playoff games completed. Standings updating in real-time!`}:{status:"COMPLETE",gamesCompleted:s,totalGames:i,message:"Playoffs complete! Final standings shown above."}}else{const i=((r=n[t.week])==null?void 0:r.games)||[],s=i.length;let o=0;return i.forEach(c=>{var u;const a=(u=e[t.week])==null?void 0:u[c.id];a&&(a.team1!==void 0||a.team2!==void 0)&&o++}),o===0?{status:"NOT_STARTED",gamesCompleted:0,totalGames:s,message:"Games not started yet. Standings will update as games finish!"}:o<s?{status:"LIVE",gamesCompleted:o,totalGames:s,message:`LIVE NOW! ${o} of ${s} games completed. Standings changing in real-time!`}:{status:"COMPLETE",gamesCompleted:o,totalGames:s,message:"All games complete! Final standings shown above."}}}function CC(t,e,n,r){var u,p,h;const i=xy[t],s=[1,3,5,7,9].includes(t);let o=[],c={},a=[];if(i.week==="all"){o=e,c=n,Object.keys(r).forEach(_=>{a=a.concat(r[_].games.map(S=>({...S,week:_})))});const f={};o.forEach(_=>{f[_.playerCode]||(f[_.playerCode]={playerCode:_.playerCode,playerName:_.playerName,weeklyPicks:[]}),f[_.playerCode].weeklyPicks.push(_)}),o=Object.values(f)}else o=e.filter(f=>f.week===i.week),c=n[i.week]||{},a=((u=r[i.week])==null?void 0:u.games)||[];if(o.length===0)return{leaders:[],allPlayers:[],hasTie:!1,tieCount:0};if(s){const f=o.map(w=>{let C=0;return(w.weeklyPicks||[w]).forEach(m=>{a.forEach(x=>{var R,G;const k=(R=m.predictions)==null?void 0:R[x.id],A=i.week==="all"?(G=n[x.week])==null?void 0:G[x.id]:c[x.id];if(!k||!A)return;const E=parseInt(k.team1)>parseInt(k.team2)?"team1":"team2",b=parseInt(A.team1)>parseInt(A.team2)?"team1":"team2";E===b&&C++})}),{playerCode:w.playerCode,playerName:w.playerName,score:C}});f.sort((w,C)=>C.score-w.score);const _=((p=f[0])==null?void 0:p.score)||0,S=f.filter(w=>w.score===_);return{leaders:S,allPlayers:f,hasTie:S.length>1,tieCount:S.length}}else{let f=0;a.forEach(C=>{var m;const g=i.week==="all"?(m=n[C.week])==null?void 0:m[C.id]:c[C.id];g&&(f+=(parseInt(g.team1)||0)+(parseInt(g.team2)||0))});const _=o.map(C=>{let g=0;(C.weeklyPicks||[C]).forEach(k=>{a.forEach(A=>{var b;const E=(b=k.predictions)==null?void 0:b[A.id];E&&(g+=(parseInt(E.team1)||0)+(parseInt(E.team2)||0))})});const x=Math.abs(g-f);return{playerCode:C.playerCode,playerName:C.playerName,score:g,actualTotal:f,difference:x}});_.sort((C,g)=>C.difference-g.difference);const S=((h=_[0])==null?void 0:h.difference)||0,w=_.filter(C=>C.difference===S);return{leaders:w,allPlayers:_,hasTie:w.length>1,tieCount:w.length,actualTotal:f}}}function EC({prizeNumber:t,allPicks:e,actualScores:n,weekData:r,officialWinner:i=null}){const[s,o]=F.useState(null),[c,a]=F.useState(!0),u=xy[t],p=[1,3,5,7,9].includes(t);if(F.useEffect(()=>{try{const C=CC(t,e,n,r);o(C),a(!1)}catch(C){console.error(`Error calculating leaders for Prize ${t}:`,C),a(!1)}},[t,e,n,r]),c)return l.jsxs("div",{className:"leader-card loading",children:[l.jsx("div",{className:"leader-card-header",children:l.jsxs("h3",{children:["Prize #",t," - ",u.name]})}),l.jsx("div",{className:"leader-card-body",children:l.jsx("p",{children:"Calculating leaders..."})})]});if(!s||s.allPlayers.length===0)return l.jsxs("div",{className:"leader-card no-data",children:[l.jsxs("div",{className:"leader-card-header",children:[l.jsxs("h3",{children:["Prize #",t," - ",u.name]}),l.jsx("span",{className:"prize-week",children:u.weekName})]}),l.jsx("div",{className:"leader-card-body",children:l.jsx("p",{children:"No picks available yet."})})]});const{leaders:h,allPlayers:f,hasTie:_,tieCount:S}=s,w=SC(u,n,r);return l.jsxs("div",{className:`leader-card ${_?"has-tie":""}`,children:[l.jsxs("div",{className:"leader-card-header",children:[l.jsxs("h3",{children:["Prize #",t," - ",u.name]}),l.jsx("span",{className:"prize-week",children:u.weekName})]}),l.jsxs("div",{className:"leader-card-body",children:[l.jsxs("div",{className:`game-status ${w.status.toLowerCase()}`,children:[l.jsxs("div",{className:"status-badge",children:[w.status==="NOT_STARTED"&&" NOT STARTED",w.status==="LIVE"&&" LIVE",w.status==="COMPLETE"&&" COMPLETE"]}),l.jsx("div",{className:"status-details",children:w.status!=="NOT_STARTED"&&l.jsxs("span",{className:"games-count",children:[w.gamesCompleted," of ",w.totalGames," games"]})}),l.jsx("p",{className:"status-message",children:w.message})]}),_&&l.jsxs("div",{className:"tie-warning",children:[" ",S,"-WAY TIE FOR 1ST PLACE!"]}),_&&l.jsxs("div",{className:"tied-leaders-section",children:[l.jsx("h4",{children:" TIED FOR 1ST PLACE:"}),l.jsx("div",{className:"leaders-list",children:h.map((C,g)=>l.jsxs("div",{className:`leader-item ${(i==null?void 0:i.playerCode)===C.playerCode?"official-winner":"tied-leader"}`,children:[l.jsxs("span",{className:"leader-rank",children:[g+1,"."]}),l.jsx("span",{className:"leader-name",children:C.playerName}),l.jsx("span",{className:"leader-score",children:p?`${C.score} correct`:`${C.score} pts  Actual: ${C.actualTotal||0} pts  Off by: ${C.difference} pts`}),(i==null?void 0:i.playerCode)===C.playerCode?l.jsx("span",{className:"official-badge",children:" OFFICIAL WINNER"}):l.jsx("span",{className:"leading-badge",children:" LEADING"})]},g))})]}),_&&f.length>S&&l.jsxs("div",{className:"next-in-line-section",children:[l.jsx("h4",{children:" NEXT IN LINE:"}),l.jsx("div",{className:"leaders-list",children:f.slice(S,S+10).map((C,g)=>l.jsxs("div",{className:"leader-item",children:[l.jsxs("span",{className:"leader-rank",children:[S+g+1,"."]}),l.jsx("span",{className:"leader-name",children:C.playerName}),l.jsx("span",{className:"leader-score",children:p?`${C.score} correct`:`${C.score} pts  Actual: ${C.actualTotal||0} pts  Off by: ${C.difference} pts`})]},g))})]}),!_&&l.jsxs("div",{className:"all-players-section",children:[l.jsx("h4",{children:" ALL PLAYERS RANKED:"}),l.jsx("div",{className:"leaders-list",children:f.map((C,g)=>l.jsxs("div",{className:`leader-item ${g===0&&(i==null?void 0:i.playerCode)===C.playerCode?"official-winner":""}`,children:[l.jsxs("span",{className:"leader-rank",children:[g+1,"."]}),l.jsx("span",{className:"leader-name",children:C.playerName}),l.jsx("span",{className:"leader-score",children:p?`${C.score} correct`:`${C.score} pts  Actual: ${C.actualTotal||0} pts  Off by: ${C.difference} pts`}),g===0&&((i==null?void 0:i.playerCode)===C.playerCode?l.jsx("span",{className:"official-badge",children:" OFFICIAL WINNER"}):l.jsx("span",{className:"leading-badge",children:" LEADING"}))]},g))})]}),!i&&l.jsx("div",{className:"no-official-winner",children:l.jsx("em",{children:"No official winner declared yet"})})]})]})}function kC({allPicks:t,actualScores:e,games:n,officialWinners:r,weekData:i}){return l.jsxs("div",{className:"leaders-section",children:[l.jsx("h2",{children:" Prize Leaders"}),l.jsx("p",{className:"leaders-description",children:"Current standings for all 10 prizes. Winners will be officially announced by the Pool Manager."}),l.jsx("div",{className:"prize-grid",children:[1,2,3,4,5,6,7,8,9,10].map(s=>l.jsx(EC,{prizeNumber:s,allPicks:t,actualScores:e,weekData:i,officialWinner:r==null?void 0:r[s]},s))})]})}const NC={apiKey:"AIzaSyDr3PPXC90wvQW_LG8TkAyR9K-7e0loQ3A",authDomain:"nfl-playoff-pool-2025-scores.firebaseapp.com",databaseURL:"https://nfl-playoff-pool-2025-scores-default-rtdb.firebaseio.com",projectId:"nfl-playoff-pool-2025-scores",storageBucket:"nfl-playoff-pool-2025-scores.firebasestorage.app",messagingSenderId:"844539772456",appId:"1:844539772456:web:9bbfcf523195a5eedfff1d"},TC=Jm(NC),Z=tC(TC),Th={firstFriday:"2026-01-09",lastMonday:"2026-02-09"},pn={wildcard:"2026-01-10",divisional:"2026-01-17",conference:"2026-01-25",superbowl:"2026-02-08"},mn=["76BB89","Z9Y8X7"],we={"76BB89":"POOL MANAGER - Richard",Z9Y8X7:"POOL MANAGER - Dennis",J239W4:"Bob Casson",B7Y4X3:"Bob Desrosiers",D4F7G5:"Bonnie Biletski","536EE2":"Brian Colburg",X8HH67:"Chris Neufeld",G7R3P5:"Curtis Braun",A4LJC9:"Curtis Palidwor",X3P8N1:"Dallas Pylypow",HM8T67:"Darrell Klassen",TA89R2:"Dave Boyarski",K2P9W5:"Dave Desrosiers",A5K4T7:"Dennis Biletski","6WRUJR":"Emily Chadwick",AB6C89:"Gareth Reeve",D3F6G9:"Jarrod Reimer",T42B67:"Jo Behr",PUEFKF:"Joshua Biletski",ABC378:"Ken Mcleod",K9R3N6:"Kevin Pich",H7P3N5:"Larry Bretecher",B5R4T6:"Larry Strand",L2W9X2:"Michelle Desrosiers","5GGPL3":"Mike Brkich",T4M8Z8:"Neema Dadmand","9CD72G":"Neil Banman",T7Y4R8:"Neil Foster",KWBZ86:"Nick Melanidis","2WQA9X":"Nima Ahmadi",E4T6J7:"Orest Pich",N4M8Q2:"Randy Moffatt",B8L9M2:"Richard Biletski","62R92L":"Rob Crowe",H8M3N7:"Rob Kost",WW3F44:"Ryan Moffatt",E5G7G8:"Tony Creta"},pe={wildcard:{name:"Wild Card Round (Jan 10-12, 2026)",deadline:"Friday, January 9, 2026 at 11:59 PM PST",games:[{id:1,team1:"AFC #7",team2:"AFC #2"},{id:2,team1:"AFC #6",team2:"AFC #3"},{id:3,team1:"AFC #5",team2:"AFC #4"},{id:4,team1:"NFC #7",team2:"NFC #2"},{id:5,team1:"NFC #6",team2:"NFC #3"},{id:6,team1:"NFC #5",team2:"NFC #4"}]},divisional:{name:"Divisional Round (Jan 17-18, 2026)",deadline:"Friday, January 16, 2026 at 11:59 PM PST",games:[{id:7,team1:"AFC Winner 1",team2:"AFC #1"},{id:8,team1:"AFC Winner 2",team2:"AFC Winner 3"},{id:9,team1:"NFC Winner 1",team2:"NFC #1"},{id:10,team1:"NFC Winner 2",team2:"NFC Winner 3"}]},conference:{name:"Conference Championships (Jan 25, 2026)",deadline:"Friday, January 23, 2026 at 11:59 PM PST",games:[{id:11,team1:"AFC Winner A",team2:"AFC Winner B"},{id:12,team1:"NFC Winner A",team2:"NFC Winner B"}]},superbowl:{name:"Super Bowl LIX (Feb 8, 2026)",deadline:"Friday, February 6, 2026 at 11:59 PM PST",games:[{id:13,team1:"AFC Champion",team2:"NFC Champion"}]}};function bC(){const[t,e]=F.useState("picks"),[n,r]=F.useState(""),[i,s]=F.useState(""),[o,c]=F.useState(!1),[a,u]=F.useState("wildcard"),[p,h]=F.useState({}),[f,_]=F.useState([]),[S,w]=F.useState(!1),[C,g]=F.useState({}),[m,x]=F.useState({}),[k,A]=F.useState({}),[E,b]=F.useState({wildcard:"",divisional:"",conference:"",superbowl_week4:"",superbowl_week3:"",superbowl_week2:"",superbowl_week1:"",superbowl_grand:""}),[R,G]=F.useState({wildcard:{locked:!1,lockDate:null,autoLockDate:pn.wildcard},divisional:{locked:!1,lockDate:null,autoLockDate:pn.divisional},conference:{locked:!1,lockDate:null,autoLockDate:pn.conference},superbowl:{locked:!1,lockDate:null,autoLockDate:pn.superbowl}}),[U,ee]=F.useState({}),[Te,Mt]=F.useState(null),[hr,pr]=F.useState(null),[Ft,gt]=F.useState(!1),[O,W]=F.useState(null),[H,ue]=F.useState(null),[Ee,Un]=F.useState([]),[Gt,ci]=F.useState([]),[yt,mr]=F.useState({}),[De,fd]=F.useState({totalFees:0,prizeValue:0,numberOfPlayers:0,entryFee:20}),[wy,Fs]=F.useState(!1),[kt,Ll]=F.useState(""),[gr,Ml]=F.useState(1),[vt,zs]=F.useState([]),[dn,Fl]=F.useState(!1),[zt,ui]=F.useState([]),[Sy,zl]=F.useState(!1),[Wl,di]=F.useState({}),[Cy,Ey]=F.useState({}),[ky,fi]=F.useState(!1),[ne,yr]=F.useState(""),[hi,pi]=F.useState(null),[$n,mi]=F.useState(null),[Ny,gi]=F.useState(!1),[hd,vr]=F.useState(null),[yi,Bl]=F.useState(null),_e=()=>mn.includes(i)&&o,Ty=()=>{let d=Math.floor(Math.random()*41)+10,y=Math.floor(Math.random()*41)+10;for(;d===y;)y=Math.floor(Math.random()*41)+10;return{team1:d,team2:y}},pd=()=>{const d=pe[a].games,y={};d.forEach(v=>{y[v.id]=Ty()}),mi(y),gi(!0)},by=async()=>{if(!ne||!$n)return;const d=we[ne];if(d)try{const y=J(Z,"picks"),v=await Ri(y);let T=null;if(v.exists()){const j=v.val();for(const[N,M]of Object.entries(j))if(M.playerCode===ne&&M.week===a){T=N;break}}const I={playerName:d,playerCode:ne,week:a,predictions:$n,timestamp:T&&v.val()[T].timestamp||Date.now(),lastUpdated:Date.now(),enteredBy:"POOL_MANAGER_RNG",enteredByCode:i,enteredByName:n};T?await Le(J(Z,`picks/${T}`),I):await ka(J(Z,"picks"),I),alert(` RNG picks successfully submitted for ${d}!`),gi(!1),mi(null),fi(!1),yr("")}catch(y){console.error("Error submitting RNG picks:",y),alert(" Error submitting RNG picks. Please try again.")}},Iy=()=>{if(!ne)return;const d=f.find(y=>y.playerCode===ne&&y.week===a);d&&d.predictions?(h(d.predictions),di({...d.predictions}),pi("manual")):(h({}),di({}),pi("manual"))},Py=async d=>{if(d.preventDefault(),!ne){alert("Please select a player first.");return}const y=we[ne];pe[a];try{const v=J(Z,"picks"),T=await Ri(v);let I=null;if(T.exists()){const N=T.val();for(const[M,B]of Object.entries(N))if(B.playerCode===ne&&B.week===a){I=M;break}}const j={playerName:y,playerCode:ne,week:a,predictions:p,timestamp:I&&T.val()[I].timestamp||Date.now(),lastUpdated:Date.now(),enteredBy:"POOL_MANAGER_MANUAL",enteredByCode:i,enteredByName:n};I?await Le(J(Z,`picks/${I}`),j):await ka(J(Z,"picks"),j),alert(` Picks successfully submitted for ${y}!`),h({}),fi(!1),yr(""),pi(null)}catch(v){console.error("Error submitting picks for player:",v),alert(" Error submitting picks. Please try again.")}},jy=async()=>{if(!ne)return;const d=we[ne];try{console.log(" DEBUG: Starting delete for player:",d),console.log(" DEBUG: Player code:",ne),console.log(" DEBUG: Current week:",a);const y=J(Z,"picks"),v=await Ri(y);if(console.log(" DEBUG: Got snapshot, exists?",v.exists()),v.exists()){const T=v.val();console.log(" DEBUG: Total picks in database:",Object.keys(T).length);let I=null;for(const[j,N]of Object.entries(T))if(console.log(` DEBUG: Checking pick ${j}:`,N.playerCode,N.week),N.playerCode===ne&&N.week===a){I=j,console.log(" DEBUG: FOUND KEY TO DELETE:",I);break}I?(console.log(" DEBUG: Attempting to delete key:",I),await Nh(J(Z,`picks/${I}`)),console.log(" DEBUG: Delete successful!"),alert(` ${d}'s picks for ${a==="wildcard"?"Week 1":a==="divisional"?"Week 2":a==="conference"?"Week 3":"Week 4"} have been deleted!`)):(console.log(" DEBUG: No pick found to delete"),alert(` ${d} has no picks for this week.`))}vr(null),yr("")}catch(y){console.error(" DEBUG: Error deleting picks:",y),console.error(" DEBUG: Error message:",y.message),console.error(" DEBUG: Error code:",y.code),alert(` Error deleting picks: ${y.message}

Check browser console (F12) for details.`)}},Ry=async()=>{if(!ne)return;const d=we[ne];try{console.log(" DEBUG: Starting delete ALL for player:",d),console.log(" DEBUG: Player code:",ne);const y=J(Z,"picks"),v=await Ri(y);if(console.log(" DEBUG: Got snapshot, exists?",v.exists()),v.exists()){const T=v.val(),I=[];console.log(" DEBUG: Total picks in database:",Object.keys(T).length);for(const[j,N]of Object.entries(T))N.playerCode===ne&&(console.log(" DEBUG: Found pick to delete:",j,N.week),I.push(j));if(console.log(" DEBUG: Total keys to delete:",I.length),I.length>0){console.log(" DEBUG: Attempting to delete keys:",I);const j=I.map(N=>Nh(J(Z,`picks/${N}`)));await Promise.all(j),console.log(" DEBUG: Delete ALL successful!"),alert(` ALL picks for ${d} have been deleted!

Deleted ${I.length} pick(s) across all weeks.`)}else console.log(" DEBUG: No picks found to delete"),alert(` ${d} has no picks in any week.`)}vr(null),yr(""),fi(!1)}catch(y){console.error(" DEBUG: Error deleting all picks:",y),console.error(" DEBUG: Error message:",y.message),console.error(" DEBUG: Error code:",y.code),alert(` Error deleting picks: ${y.message}

Check browser console (F12) for details.`)}},Ay=async d=>{try{console.log(" Clearing week data for:",d),C[d]&&(await Le(J(Z,`teamCodes/${d}`),null),console.log(" Cleared team codes")),m[d]&&(await Le(J(Z,`actualScores/${d}`),null),console.log(" Cleared actual scores")),k[d]&&(await Le(J(Z,`gameStatus/${d}`),null),console.log(" Cleared game status")),alert(` Week ${d==="wildcard"?"1":d==="divisional"?"2":d==="conference"?"3":"4"} data cleared!

Team names, scores, and statuses have been deleted.
Player picks are still intact.`),Bl(null)}catch(y){console.error(" Error clearing week data:",y),alert(` Error clearing week data: ${y.message}`)}},md=(d,y,v,T,I,j)=>{const N=Number(d)>Number(y),M=Number(y)>Number(d);if(d===y||!d||!y)return{background:"transparent",color:"#000"};if(v!==void 0&&T!==void 0&&v!==""&&T!==""){const B=Number(v)>Number(T),L=Number(T)>Number(v);if(!I||I===""){if(j&&N)return B?{background:"#fff9c4",color:"#000"}:{background:"#b3e5fc",color:"#000"};if(!j&&M)return L?{background:"#fff9c4",color:"#000"}:{background:"#b3e5fc",color:"#000"}}if(I==="live"){if(j&&N)return B?{background:"#c8e6c9",color:"#000"}:{background:"#ffcdd2",color:"#000"};if(!j&&M)return L?{background:"#c8e6c9",color:"#000"}:{background:"#ffcdd2",color:"#000"}}if(I==="final"){if(j&&N)return B?{background:"#4caf50",color:"#000"}:{background:"#f44336",color:"#000"};if(!j&&M)return L?{background:"#4caf50",color:"#000"}:{background:"#f44336",color:"#000"}}}return{background:"transparent",color:"#000"}},Dy=async(d,y,v)=>{try{const T=d/10,I={totalFees:Number(d),prizeValue:Number(T.toFixed(2)),numberOfPlayers:Number(y),entryFee:Number(v),lastUpdated:new Date().toISOString()};await Le(J(Z,"prizePool"),I),fd(I),alert(` Prize pool saved!

Total Pool: $${d}
Each Prize: $${T.toFixed(2)} (10%)`),Fs(!1)}catch(T){console.error("Error saving prize pool:",T),alert(` Error saving prize pool: ${T.message}`)}},Ws=(d,y)=>{const v=Math.floor(d*100/y)/100,T=Math.floor(1e4/y)/100,I=[];let j=0;for(let B=0;B<y-1;B++)I.push({percentage:T,amount:v}),j+=v;const N=Number((d-j).toFixed(2)),M=Number((100-T*(y-1)).toFixed(2));return I.push({percentage:M,amount:N}),I},Oy=async()=>{if(!kt||vt.length===0){alert(" Please select a prize and at least one winner.");return}try{const d=De.prizeValue||100;let y=[];if(dn){const T=zt.reduce((j,N)=>j+Number(N.percentage||0),0),I=zt.reduce((j,N)=>j+Number(N.amount||0),0);if(Math.abs(T-100)>.01){alert(` Percentages must equal 100%!
Current total: ${T.toFixed(2)}%`);return}if(Math.abs(I-d)>.01){alert(` Amounts must equal $${d.toFixed(2)}!
Current total: $${I.toFixed(2)}`);return}y=zt.map((j,N)=>({playerCode:vt[N].code,playerName:vt[N].name,percentage:Number(j.percentage),amount:Number(j.amount)}))}else{const T=Ws(d,vt.length);y=vt.map((I,j)=>({playerCode:I.code,playerName:I.name,percentage:T[j].percentage,amount:T[j].amount}))}const v={prizeNumber:kt,prizeName:vi(kt),prizeValue:d,winners:y,declaredBy:"POOL_MANAGER",declaredByCode:i,declaredByName:n,declaredAt:new Date().toISOString()};await Le(J(Z,`officialWinners/prize${kt}`),v),alert(` Winner(s) declared for ${vi(kt)}!

${y.map(T=>`${T.playerName}: ${T.percentage}% ($${T.amount.toFixed(2)})`).join(`
`)}`),Ll(""),Ml(1),zs([]),Fl(!1),ui([]),zl(!1)}catch(d){console.error("Error declaring winners:",d),alert(` Error declaring winners: ${d.message}`)}},vi=d=>({1:"Prize #1 - Week 1 Most Correct Winners",2:"Prize #2 - Week 1 Closest Total Points",3:"Prize #3 - Week 2 Most Correct Winners",4:"Prize #4 - Week 2 Closest Total Points",5:"Prize #5 - Week 3 Most Correct Winners",6:"Prize #6 - Week 3 Closest Total Points",7:"Prize #7 - Week 4 Most Correct Winners",8:"Prize #8 - Week 4 Closest Total Points",9:"Prize #9 - Overall 4-Week Grand Total Most Correct Winners",10:"Prize #10 - Overall 4-Week Grand Total Closest Points"})[d]||`Prize #${d}`,Ly=async d=>{if(window.confirm(`Are you sure you want to delete the winner declaration for ${vi(d)}?

This action cannot be undone!`))try{await Le(J(Z,`officialWinners/prize${d}`),null),alert(` Winner declaration deleted for ${vi(d)}`)}catch(y){console.error("Error deleting prize:",y),alert(` Error: ${y.message}`)}},gd=d=>{const y=pn[d];if(!y)return!1;const v=new Date,T=new Date(v.toLocaleString("en-US",{timeZone:"America/Los_Angeles"})),I=new Date(y+"T00:00:00");return T>=I},fn=d=>{var y;return _e()?!1:(y=R[d])!=null&&y.locked?!0:gd(d)};F.useEffect(()=>{const d=J(Z,"weekLockStatus");Yt(d,y=>{const v=y.val();if(v){const T={};Object.keys(pn).forEach(I=>{var j,N;T[I]={locked:((j=v[I])==null?void 0:j.locked)||!1,lockDate:((N=v[I])==null?void 0:N.lockDate)||null,autoLockDate:pn[I]}}),G(T)}})},[]);const My=d=>{const y=!R[d].locked,v=y?new Date().toISOString():null,T={...R,[d]:{...R[d],locked:y,lockDate:v}};G(T),Le(J(Z,`weekLockStatus/${d}`),{locked:y,lockDate:v,autoLockDate:pn[d]}),alert(y?` Week ${d} is now LOCKED

Players cannot edit picks for this week.`:` Week ${d} is now UNLOCKED

Players can edit picks for this week.`)};F.useEffect(()=>{const d=J(Z,"picks");Yt(d,y=>{const v=y.val();if(v){const T=Object.keys(v).map(I=>({...v[I],firebaseKey:I}));_(T)}else _([])})},[]),F.useEffect(()=>{const d=J(Z,"teamCodes");Yt(d,y=>{const v=y.val();v&&g(v)})},[]),F.useEffect(()=>{const d=J(Z,"actualScores");Yt(d,y=>{const v=y.val();v&&x(v)})},[]),F.useEffect(()=>{const d=J(Z,"gameStatus");Yt(d,y=>{const v=y.val();v&&A(v)})},[]),F.useEffect(()=>{const d=J(Z,"officialWinners");Yt(d,y=>{const v=y.val();v&&mr(v)})},[]),F.useEffect(()=>{const d=J(Z,"prizePool");Yt(d,y=>{const v=y.val();v&&fd(v)})},[]),F.useEffect(()=>{const d=J(Z,"gameLocks");Yt(d,y=>{const v=y.val();v&&ee(v)})},[]),F.useEffect(()=>{const d=J(Z,"manualWeekTotals");Yt(d,y=>{const v=y.val();v&&b(v)})},[]),F.useEffect(()=>{if(o&&n&&f.length>0){const d=f.find(y=>y.playerName===n&&y.week===a);d&&d.predictions?(console.log("Loading existing picks for",n,"week",a),h(d.predictions)):(console.log("No existing picks found - clearing form"),h({}))}},[a,f,o,n]),F.useEffect(()=>{const d=new dC(yd,5);return Mt(d),()=>{d&&d.stop()}},[]);const yd=async()=>{try{console.log("Fetching scores from ESPN...");const d=await lC();if(!d.success){console.error("ESPN fetch failed:",d.error);return}console.log("ESPN games fetched:",d.games.length);const y=pe[a].games,v={};if(d.games.forEach(T=>{var j;const I=uC(T,pe,a,C);if(I){const N=I.gameId;if((j=U[a])!=null&&j[N]){console.log(`Game ${N} is locked, skipping API update`);return}v[N]={team1:I.team1Score,team2:I.team2Score,source:"espn",lastUpdated:new Date().toISOString()},A(M=>({...M,[a]:{...M[a],[N]:I.isFinal?"final":I.isLive?"live":""}}))}}),Object.keys(v).length>0){x(I=>({...I,[a]:{...I[a],...v}}));const T=J(Z,`actualScores/${a}`);await Le(T,{...m[a],...v}),console.log(`Updated ${Object.keys(v).length} games from ESPN`)}pr(new Date)}catch(d){console.error("Error fetching ESPN scores:",d)}},Fy=d=>{var y;console.log(" Toggle clicked for game:",d),console.log(" Current week:",a),console.log(" Current locks:",U),console.log(" Current value for game",d,":",(y=U[a])==null?void 0:y[d]),ee(v=>{const T={...v};T[a]||(T[a]={});const I=T[a][d],j=!I;console.log(" Old value:",I),console.log(" New value:",j),T[a][d]=j;const N=J(Z,`gameLocks/${a}/${d}`);return Le(N,j),console.log(" Saved to Firebase:",j),console.log(" Returning new locks:",T),T})},vd=(d,y,v)=>{h(T=>({...T,[d]:{...T[d],[y]:v}}))},_d=(d,y,v)=>{var I;const T={...C,[a]:{...C[a]||{},[d]:{...((I=C[a])==null?void 0:I[d])||{},[y]:v.toUpperCase()}}};g(T),Le(J(Z,`teamCodes/${a}/${d}/${y}`),v.toUpperCase())},xd=(d,y,v)=>{var I;const T={...m,[a]:{...m[a]||{},[d]:{...((I=m[a])==null?void 0:I[d])||{},[y]:v}}};x(T),Le(J(Z,`actualScores/${a}/${d}/${y}`),v)},zy=(d,y)=>{const v={...k,[a]:{...k[a]||{},[d]:y}};A(v),Le(J(Z,`gameStatus/${a}/${d}`),y)},_r=(d,y)=>{const v={...E,[d]:y};b(v),Le(J(Z,`manualWeekTotals/${d}`),y)},Wy=d=>{Ft?(ue(d),W("unsavedChanges")):(u(d),Bs(d))},Bs=d=>{const y=f.find(v=>v.week===d&&v.playerCode===i);y&&y.predictions?(h(y.predictions),di(y.predictions),gt(!1)):(h({}),di({}),gt(!1))};F.useEffect(()=>{const d=JSON.stringify(p)!==JSON.stringify(Wl);gt(d)},[p,Wl]),F.useEffect(()=>{o&&i&&Bs(a)},[a,o,i,f]),F.useEffect(()=>{if(f.length>0&&i){const d={};["wildcard","divisional","conference","superbowl"].forEach(y=>{const v=f.find(T=>T.week===y&&T.playerCode===i);if(v&&v.predictions){const T=pe[y].games.length,I=Object.keys(v.predictions).filter(j=>{var N,M;return((N=v.predictions[j])==null?void 0:N.team1)&&((M=v.predictions[j])==null?void 0:M.team2)}).length;d[y]={complete:I===T,count:I,total:T}}}),Ey(d)}},[f,i]);const _i=()=>{if(_e())return!0;const d=new Date,y=new Date(d.toLocaleString("en-US",{timeZone:"America/Los_Angeles"})),v=new Date(Th.firstFriday+"T00:00:00"),T=new Date(Th.lastMonday+"T23:59:59");if(y<v)return!0;if(y>T)return!1;const I=y.getDay(),j=y.getHours(),N=y.getMinutes();return!(I===5&&j===23&&N>=59||I===6||I===0||I===1&&j===0&&N===0)},wd=()=>{const d=i.trim().toUpperCase();if(!d){alert("Please enter your 6-character player code");return}if(d.length!==6||!/^[A-Z0-9]{6}$/.test(d)){alert(`Invalid code format!

Player codes must be exactly 6 characters (letters and numbers).
Example: A7K9M2`);return}const y=we[d];if(!y){alert(`Invalid player code!

This code is not recognized.

Make sure you:
1. Paid your $20 entry fee
2. Received your code from the pool manager
3. Entered the code correctly

Contact: gammoneer2b@gmail.com`);return}if(f.find(T=>T.playerName===y&&T.week===a))if(mn.includes(d))alert(`Welcome, Pool Manager!

You have unrestricted access to:
 Enter picks anytime (no lockout)
 Enter team codes
 Enter actual game scores
 Set game status (LIVE/FINAL)
 Lock/unlock weeks
 View all player codes`);else{const T=fn(a);alert(T?`Welcome back, ${y}!

 WARNING: This week is LOCKED!

Your existing picks for ${pe[a].name} will be loaded, but you cannot edit them because the games have been played.

You can only view your submitted picks.`:`Welcome back, ${y}!

Your existing picks for ${pe[a].name} will be loaded automatically.

You can edit and resubmit anytime except during playoff weekends (Friday 11:59 PM - Monday 12:01 AM PST).`)}else mn.includes(d)&&alert(`Welcome, Pool Manager!

You have unrestricted access to:
 Enter picks anytime (no lockout)
 Enter team codes
 Enter actual game scores
 Set game status (LIVE/FINAL)
 Lock/unlock weeks
 View all player codes`);r(y),s(d),c(!0)},By=()=>{const d=f.filter(N=>N.week===a);if(d.length===0){alert("No picks to download for this week.");return}const y=pe[a];let v="";v+="TEAM CODES:,",y.games.forEach(N=>{var L,V,Y,ie;const M=((V=(L=C[a])==null?void 0:L[N.id])==null?void 0:V.team1)||"-",B=((ie=(Y=C[a])==null?void 0:Y[N.id])==null?void 0:ie.team2)||"-";v+=`${M},${B},`}),a==="superbowl"&&(v+=",,,,"),v+=`
`,v+="ACTUAL SCORES:,",y.games.forEach(N=>{var L,V,Y,ie;const M=((V=(L=m[a])==null?void 0:L[N.id])==null?void 0:V.team1)||"-",B=((ie=(Y=m[a])==null?void 0:Y[N.id])==null?void 0:ie.team2)||"-";v+=`${M},${B},`}),a==="superbowl"&&(v+=",,,,"),v+=`
`,v+="GAME TOTALS:,",y.games.forEach(N=>{var Y,ie,ke,be;const M=parseInt((ie=(Y=m[a])==null?void 0:Y[N.id])==null?void 0:ie.team1)||0,B=parseInt((be=(ke=m[a])==null?void 0:ke[N.id])==null?void 0:be.team2)||0,L=M+B,V=M>0||B>0?L:"-";v+=`${V},,`}),a==="superbowl"&&(v+=",,,,"),v+=`
`,v+="GAME STATUS:,",y.games.forEach(N=>{var L;const M=((L=k[a])==null?void 0:L[N.id])||"-";v+=`${M==="final"?"FINAL":M==="live"?"LIVE":"-"},,`}),a==="superbowl"&&(v+=",,,,"),v+=`
`,v+="OFFICIAL TOTALS:,",y.games.forEach(()=>{v+=",,"}),a==="superbowl"?(v+=`${E.superbowl_week4||"-"},`,v+=`${E.superbowl_week3||"-"},`,v+=`${E.superbowl_week2||"-"},`,v+=`${E.superbowl_week1||"-"},`,v+=`${E.superbowl_grand||"-"},`):v+=`${E[a]||"-"},`,v+=`
`,v+=`
`,v+=",",y.games.forEach(N=>{v+=`Game ${N.id},Game ${N.id},`}),v+=`
`,v+="Player Name,",y.games.forEach(N=>{v+=`${N.team1} Score,${N.team2} Score,`}),a==="superbowl"?v+="Week 4 Total,Week 3 Total,Week 2 Total,Week 1 Total,GRAND TOTAL,":v+="Total Points,",v+=`Submitted At
`,d.sort((N,M)=>(M.lastUpdated||M.timestamp)-(N.lastUpdated||N.timestamp)).forEach(N=>{if(v+=`"${N.playerName}",`,y.games.forEach(B=>{var Y,ie;const L=((Y=N.predictions[B.id])==null?void 0:Y.team1)||"-",V=((ie=N.predictions[B.id])==null?void 0:ie.team2)||"-";v+=`${L},${V},`}),a==="superbowl"){const B=(()=>{const ke=f.find(xe=>xe.playerName===N.playerName&&xe.week==="superbowl");if(!ke)return 0;let be=0;return pe.superbowl.games.forEach(xe=>{const Oe=ke.predictions[xe.id];Oe&&(be+=(Number(Oe.team1)||0)+(Number(Oe.team2)||0))}),be})(),L=(()=>{const ke=f.find(xe=>xe.playerName===N.playerName&&xe.week==="conference");if(!ke)return 0;let be=0;return pe.conference.games.forEach(xe=>{const Oe=ke.predictions[xe.id];Oe&&(be+=(Number(Oe.team1)||0)+(Number(Oe.team2)||0))}),be})(),V=(()=>{const ke=f.find(xe=>xe.playerName===N.playerName&&xe.week==="divisional");if(!ke)return 0;let be=0;return pe.divisional.games.forEach(xe=>{const Oe=ke.predictions[xe.id];Oe&&(be+=(Number(Oe.team1)||0)+(Number(Oe.team2)||0))}),be})(),Y=(()=>{const ke=f.find(xe=>xe.playerName===N.playerName&&xe.week==="wildcard");if(!ke)return 0;let be=0;return pe.wildcard.games.forEach(xe=>{const Oe=ke.predictions[xe.id];Oe&&(be+=(Number(Oe.team1)||0)+(Number(Oe.team2)||0))}),be})(),ie=B+L+V+Y;v+=`${B},${L},${V},${Y},${ie},`}else{const B=y.games.reduce((L,V)=>{var ke,be;const Y=parseInt((ke=N.predictions[V.id])==null?void 0:ke.team1)||0,ie=parseInt((be=N.predictions[V.id])==null?void 0:be.team2)||0;return L+Y+ie},0);v+=`${B},`}const M=new Date(N.lastUpdated||N.timestamp).toLocaleString("en-US",{month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0});v+=`"${M}"
`});const T=new Blob([v],{type:"text/csv;charset=utf-8;"}),I=document.createElement("a"),j=URL.createObjectURL(T);I.setAttribute("href",j),I.setAttribute("download",`nfl_playoff_picks_${a}_${Date.now()}.csv`),I.style.visibility="hidden",document.body.appendChild(I),I.click(),document.body.removeChild(I)},Sd=async d=>{if(d.preventDefault(),fn(a)){alert(` WEEK LOCKED

This week's games have been played.
Picks are permanently locked.`);return}if(!_i()){alert(` SUBMISSIONS CLOSED

During playoff weekends, picks are locked from:
 Friday 11:59 PM PST
 Through Monday 12:01 AM PST`);return}const y=pe[a],v=[];if(y.games.forEach(j=>{(!p[j.id]||!p[j.id].team1||!p[j.id].team2)&&v.push(j.id)}),v.length>0){Un(v),W("incomplete");return}const T=[];if(y.games.forEach(j=>{var B,L;const N=parseInt((B=p[j.id])==null?void 0:B.team1),M=parseInt((L=p[j.id])==null?void 0:L.team2);(isNaN(N)||isNaN(M)||N<0||M<0)&&T.push(j.id)}),T.length>0){ci(T),W("invalidScores");return}const I=[];if(y.games.forEach(j=>{var B,L;const N=parseInt((B=p[j.id])==null?void 0:B.team1),M=parseInt((L=p[j.id])==null?void 0:L.team2);N===M&&I.push(j.id)}),I.length>0){Un(I),W("tiedGames");return}if(!Ft){W("noChanges");return}try{const j=J(Z,"picks"),N=await Ri(j);let M=null,B=null;if(N.exists()){const V=N.val();for(const[Y,ie]of Object.entries(V))if(ie.playerCode===i&&ie.week===a){M=ie,B=Y;break}}const L={playerName:n,playerCode:i,week:a,predictions:p,timestamp:M?M.timestamp:Date.now(),lastUpdated:Date.now()};B?await Le(J(Z,`picks/${B}`),L):await ka(J(Z,"picks"),L),w(!0),di({...p}),gt(!1),W("success"),setTimeout(()=>{const V=document.querySelector(".all-picks");V&&V.scrollIntoView({behavior:"smooth"})},100)}catch(j){console.error("Error submitting picks:",j),alert("Error submitting picks. Please try again.")}},tt=pe[a],xr=F.useMemo(()=>{const d={};return f.filter(v=>v.week===a).forEach(v=>{d[v.playerName]||(d[v.playerName]={week4:0,week3:0,week2:0,week1:0,grand:0,current:0});let T=0;if(pe[a].games.forEach(j=>{const N=v.predictions[j.id];N&&N.team1&&N.team2&&(T+=(parseInt(N.team1)||0)+(parseInt(N.team2)||0))}),d[v.playerName].current=T,a==="superbowl"){const j=f.find(L=>L.playerName===v.playerName&&L.week==="superbowl");if(j&&j.predictions){let L=0;pe.superbowl.games.forEach(V=>{const Y=j.predictions[V.id];Y&&(L+=(Number(Y.team1)||0)+(Number(Y.team2)||0))}),d[v.playerName].week4=L}const N=f.find(L=>L.playerName===v.playerName&&L.week==="conference");if(N&&N.predictions){let L=0;pe.conference.games.forEach(V=>{const Y=N.predictions[V.id];Y&&(L+=(Number(Y.team1)||0)+(Number(Y.team2)||0))}),d[v.playerName].week3=L}const M=f.find(L=>L.playerName===v.playerName&&L.week==="divisional");if(M&&M.predictions){let L=0;pe.divisional.games.forEach(V=>{const Y=M.predictions[V.id];Y&&(L+=(Number(Y.team1)||0)+(Number(Y.team2)||0))}),d[v.playerName].week2=L}const B=f.find(L=>L.playerName===v.playerName&&L.week==="wildcard");if(B&&B.predictions){let L=0;pe.wildcard.games.forEach(V=>{const Y=B.predictions[V.id];Y&&(L+=(Number(Y.team1)||0)+(Number(Y.team2)||0))}),d[v.playerName].week1=L}d[v.playerName].grand=d[v.playerName].week1+d[v.playerName].week2+d[v.playerName].week3+d[v.playerName].week4}}),d},[f,a]);return l.jsxs("div",{className:"App",children:[l.jsxs("header",{children:[l.jsx("h1",{children:" Richard's NFL Playoff Pool 2025"}),l.jsx("p",{children:"Enter your score predictions for each NFL Playoff 2025 game"}),l.jsxs("p",{style:{fontSize:"0.85rem",marginTop:"10px",opacity:.8},children:["v2.2-PLAYOFF-SCHEDULE-",new Date().toISOString().slice(0,10).replace(/-/g,"")]}),l.jsxs("div",{style:{marginTop:"15px",display:"flex",flexDirection:"column",gap:"10px",alignItems:"center"},children:[l.jsxs("div",{style:{display:"flex",gap:"15px",flexWrap:"wrap",justifyContent:"center"},children:[l.jsx("a",{href:"/nfl-playoff-pool/Playoff_Pool_Quick_Rules.pdf",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",padding:"10px 20px",backgroundColor:"#0984e3",color:"white",textDecoration:"none",borderRadius:"5px",fontSize:"0.95rem",fontWeight:"bold",transition:"background-color 0.3s ease",cursor:"pointer"},onMouseOver:d=>d.target.style.backgroundColor="#74b9ff",onMouseOut:d=>d.target.style.backgroundColor="#0984e3",children:" View Quick Rules (2 Pages)"}),l.jsx("a",{href:"/nfl-playoff-pool/Richards_Playoff_Pool_LIX_Rulebook.pdf",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",padding:"10px 20px",backgroundColor:"#6c5ce7",color:"white",textDecoration:"none",borderRadius:"5px",fontSize:"0.95rem",fontWeight:"bold",transition:"background-color 0.3s ease",cursor:"pointer"},onMouseOver:d=>d.target.style.backgroundColor="#a29bfe",onMouseOut:d=>d.target.style.backgroundColor="#6c5ce7",children:" View Full Rulebook (13 Pages)"})]}),l.jsx("p",{style:{fontSize:"1.1em",marginTop:"10px",color:"#ffffff",fontWeight:"500"},children:"Entry Fee: $20 - Must be paid before end of regular season"})]})]}),l.jsxs("div",{className:"container",children:[_e()&&o&&l.jsxs("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"15px 20px",borderRadius:"8px",marginBottom:"20px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[l.jsxs("h3",{style:{margin:"0 0 15px 0",display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx("span",{children:""}),l.jsx("span",{children:"POOL MANAGER - WEEK LOCK CONTROLS"})]}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"10px"},children:Object.keys(pe).map(d=>{var I,j;const y=(I=R[d])==null?void 0:I.locked,v=gd(d),T=y||v;return l.jsxs("div",{style:{background:"rgba(255,255,255,0.15)",padding:"12px",borderRadius:"6px",display:"flex",flexDirection:"column",gap:"8px"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",fontWeight:"bold",fontSize:"0.9rem"},children:[l.jsxs("span",{children:[T?"":""," Week ",d==="wildcard"?"1":d==="divisional"?"2":d==="conference"?"3":"4"]}),l.jsx("span",{style:{fontSize:"0.75rem",opacity:.9},children:(j=R[d])==null?void 0:j.autoLockDate})]}),v&&!y&&l.jsx("div",{style:{fontSize:"0.7rem",padding:"4px 8px",background:"rgba(255,193,7,0.3)",borderRadius:"4px",border:"1px solid rgba(255,193,7,0.5)"},children:" AUTO-LOCKED"}),y&&l.jsx("div",{style:{fontSize:"0.7rem",padding:"4px 8px",background:"rgba(220,53,69,0.3)",borderRadius:"4px",border:"1px solid rgba(220,53,69,0.5)"},children:" MANUALLY LOCKED"}),l.jsx("button",{onClick:()=>My(d),style:{padding:"8px 12px",background:y?"#28a745":"#dc3545",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.85rem",fontWeight:"600",transition:"all 0.2s"},children:y?" Unlock Week":" Lock Week"}),l.jsx("button",{onClick:()=>Bl(d),style:{padding:"8px 12px",background:"#e67e22",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.85rem",fontWeight:"600",transition:"all 0.2s",marginTop:"8px"},children:" Clear Week Data"})]},d)})}),l.jsx("p",{style:{fontSize:"0.8rem",marginTop:"12px",marginBottom:"0",opacity:.9},children:" Manual locks override automatic locks. Players cannot edit picks for locked weeks."})]}),_e()&&o&&l.jsxs("div",{style:{background:"linear-gradient(135deg, #f39c12 0%, #e74c3c 100%)",color:"white",padding:"20px",borderRadius:"8px",marginBottom:"20px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[l.jsxs("h3",{style:{margin:"0 0 15px 0",display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx("span",{children:""}),l.jsx("span",{children:"POOL MANAGER OVERRIDE - ENTER/EDIT PICKS FOR ANY PLAYER"})]}),ky?l.jsxs("div",{children:[l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"0.95rem"},children:"Select Player:"}),l.jsxs("select",{value:ne,onChange:d=>{yr(d.target.value),pi(null),mi(null),gi(!1)},style:{width:"100%",padding:"12px",fontSize:"1rem",borderRadius:"6px",border:"2px solid white",background:"rgba(255,255,255,0.95)",color:"#333",fontWeight:"600"},children:[l.jsx("option",{value:"",children:"-- Select a Player --"}),Object.keys(we).sort((d,y)=>{const v=we[d].toUpperCase(),T=we[y].toUpperCase();return v.localeCompare(T)}).map(d=>l.jsxs("option",{value:d,children:[we[d]," (",d,")"]},d))]})]}),ne&&l.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:"15px",borderRadius:"6px",marginBottom:"15px"},children:[l.jsxs("div",{style:{marginBottom:"15px"},children:[l.jsx("strong",{children:"Selected:"})," ",we[ne]," (",ne,")",l.jsx("br",{}),l.jsx("strong",{children:"Week:"})," ",a==="wildcard"?"Week 1":a==="divisional"?"Week 2":a==="conference"?"Week 3":"Week 4",l.jsx("br",{}),l.jsx("strong",{children:"Status:"})," ",f.find(d=>d.playerCode===ne&&d.week===a)?" HAS PICKS":" NO PICKS"]}),l.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[l.jsx("button",{onClick:pd,style:{flex:"1",minWidth:"150px",padding:"12px",background:"#9b59b6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Generate RNG Picks"}),l.jsx("button",{onClick:Iy,style:{flex:"1",minWidth:"150px",padding:"12px",background:"#3498db",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Enter/Edit Manually"})]}),f.find(d=>d.playerCode===ne)&&l.jsxs("div",{style:{marginTop:"15px",padding:"15px",background:"rgba(220, 53, 69, 0.1)",borderRadius:"6px",border:"2px solid rgba(220, 53, 69, 0.3)"},children:[l.jsx("div",{style:{marginBottom:"10px",fontWeight:"600",color:"#dc3545"},children:" Danger Zone - Delete Operations"}),l.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[l.jsx("button",{onClick:()=>vr("week"),style:{flex:"1",minWidth:"150px",padding:"12px",background:"#e67e22",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Delete This Week Only"}),l.jsx("button",{onClick:()=>vr("all"),style:{flex:"1",minWidth:"150px",padding:"12px",background:"#c0392b",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Delete ALL Weeks"})]})]})]}),l.jsx("button",{onClick:()=>{fi(!1),yr(""),pi(null),mi(null),gi(!1)},style:{padding:"10px 20px",background:"#95a5a6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Exit Override Mode"})]}):l.jsxs("div",{children:[l.jsx("p",{style:{marginBottom:"15px",fontSize:"0.9rem"},children:" Enter picks on behalf of players who missed the deadline or need assistance. Works even when week is locked."}),l.jsx("button",{onClick:()=>fi(!0),style:{padding:"12px 24px",background:"white",color:"#e74c3c",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:" Enter Override Mode"})]})]}),Ny&&$n&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},children:l.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"30px",maxWidth:"600px",width:"100%",maxHeight:"90vh",overflow:"auto",boxShadow:"0 8px 32px rgba(0,0,0,0.3)"},children:[l.jsx("h3",{style:{marginTop:0,color:"#9b59b6"},children:" RNG PICKS GENERATED"}),l.jsxs("p",{style:{color:"#666",marginBottom:"20px"},children:["Player: ",l.jsx("strong",{children:we[ne]}),l.jsx("br",{}),"Week: ",l.jsx("strong",{children:a==="wildcard"?"Week 1":a==="divisional"?"Week 2":a==="conference"?"Week 3":"Week 4"})]}),l.jsx("div",{style:{marginBottom:"20px"},children:pe[a].games.map(d=>l.jsxs("div",{style:{padding:"12px",background:"#f8f9fa",borderRadius:"6px",marginBottom:"10px",border:"2px solid #e9ecef"},children:[l.jsxs("div",{style:{fontWeight:"600",marginBottom:"5px",color:"#333"},children:["Game ",d.id,": ",d.team1," vs ",d.team2]}),l.jsxs("div",{style:{fontSize:"1.2rem",fontWeight:"700",color:"#9b59b6"},children:[$n[d.id].team1," - ",$n[d.id].team2,$n[d.id].team1>$n[d.id].team2?` (${d.team1} wins)`:` (${d.team2} wins)`]})]},d.id))}),l.jsxs("div",{style:{background:"#d4edda",border:"1px solid #c3e6cb",color:"#155724",padding:"12px",borderRadius:"6px",marginBottom:"20px",fontSize:"0.9rem"},children:[" All scores between 10-50 (inclusive)",l.jsx("br",{})," No tied games",l.jsx("br",{}),' Will be marked as "POOL_MANAGER_RNG" in database']}),l.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[l.jsx("button",{onClick:by,style:{flex:"1",padding:"14px 24px",background:"#28a745",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Submit RNG Picks"}),l.jsx("button",{onClick:pd,style:{flex:"1",padding:"14px 24px",background:"#ffc107",color:"#333",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Regenerate"}),l.jsx("button",{onClick:()=>{gi(!1),mi(null)},style:{padding:"14px 24px",background:"#dc3545",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Cancel"})]})]})}),hd&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},children:l.jsx("div",{style:{background:"white",borderRadius:"12px",padding:"30px",maxWidth:"500px",width:"100%",boxShadow:"0 8px 32px rgba(0,0,0,0.3)"},children:hd==="week"?l.jsxs(l.Fragment,{children:[l.jsxs("h3",{style:{marginTop:0,color:"#e67e22",display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx("span",{children:""}),l.jsx("span",{children:"DELETE PICKS FOR THIS WEEK?"})]}),l.jsxs("div",{style:{marginBottom:"20px",color:"#666"},children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Player:"})," ",we[ne]]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Week:"})," ",a==="wildcard"?"Week 1 (Wildcard)":a==="divisional"?"Week 2 (Divisional)":a==="conference"?"Week 3 (Conference)":"Week 4 (Super Bowl)"]})]}),l.jsxs("div",{style:{background:"#fff3cd",border:"1px solid #ffc107",color:"#856404",padding:"15px",borderRadius:"6px",marginBottom:"20px",fontSize:"0.95rem"},children:[l.jsx("strong",{children:" Warning:"})," This will DELETE ",we[ne],"'s picks for this week only.",l.jsx("br",{}),l.jsx("strong",{children:"This action CANNOT be undone!"})]}),l.jsxs("div",{style:{display:"flex",gap:"10px"},children:[l.jsx("button",{onClick:()=>vr(null),style:{flex:"1",padding:"14px",background:"#95a5a6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Cancel"}),l.jsx("button",{onClick:jy,style:{flex:"1",padding:"14px",background:"#e67e22",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Yes, Delete This Week"})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("h3",{style:{marginTop:0,color:"#c0392b",display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx("span",{children:""}),l.jsx("span",{children:"DELETE ALL PICKS?"})]}),l.jsx("div",{style:{marginBottom:"20px",color:"#666"},children:l.jsxs("p",{children:[l.jsx("strong",{children:"Player:"})," ",we[ne]]})}),l.jsxs("div",{style:{background:"#f8d7da",border:"2px solid #dc3545",color:"#721c24",padding:"15px",borderRadius:"6px",marginBottom:"20px",fontSize:"0.95rem"},children:[l.jsx("strong",{children:" DANGER:"})," This will DELETE ALL of ",we[ne],"'s picks:",l.jsx("br",{}),l.jsx("br",{}),f.filter(d=>d.playerCode===ne).map(d=>l.jsxs("div",{style:{marginLeft:"20px"},children:[" ",d.week==="wildcard"?"Week 1":d.week==="divisional"?"Week 2":d.week==="conference"?"Week 3":"Week 4"," picks"]},d.week)),l.jsx("br",{}),l.jsx("strong",{children:"This action CANNOT be undone!"}),l.jsx("br",{}),l.jsx("strong",{children:"Are you absolutely sure?"})]}),l.jsxs("div",{style:{display:"flex",gap:"10px"},children:[l.jsx("button",{onClick:()=>vr(null),style:{flex:"1",padding:"14px",background:"#95a5a6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Cancel"}),l.jsx("button",{onClick:Ry,style:{flex:"1",padding:"14px",background:"#c0392b",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Yes, Delete Everything"})]})]})})}),yi&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},children:l.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"30px",maxWidth:"500px",width:"100%",boxShadow:"0 8px 32px rgba(0,0,0,0.3)"},children:[l.jsxs("h3",{style:{marginTop:0,color:"#e67e22",display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx("span",{children:""}),l.jsx("span",{children:"CLEAR WEEK DATA?"})]}),l.jsx("div",{style:{marginBottom:"20px",color:"#666"},children:l.jsxs("p",{children:[l.jsx("strong",{children:"Week:"})," ",yi==="wildcard"?"Week 1 (Wildcard)":yi==="divisional"?"Week 2 (Divisional)":yi==="conference"?"Week 3 (Conference)":"Week 4 (Super Bowl)"]})}),l.jsxs("div",{style:{background:"#fff3cd",border:"2px solid #ffc107",color:"#856404",padding:"15px",borderRadius:"6px",marginBottom:"20px",fontSize:"0.95rem"},children:[l.jsx("strong",{children:" This will DELETE:"}),l.jsxs("div",{style:{marginLeft:"20px",marginTop:"10px"},children:[" All team names for this week",l.jsx("br",{})," All actual scores for this week",l.jsx("br",{})," All game statuses (FINAL/LIVE) for this week"]}),l.jsx("br",{}),l.jsx("strong",{style:{color:"#d63031"},children:" This will KEEP:"}),l.jsx("div",{style:{marginLeft:"20px",marginTop:"5px"},children:" ALL player picks (NOT deleted!)"}),l.jsx("br",{}),l.jsx("strong",{children:"This action CANNOT be undone!"})]}),l.jsxs("div",{style:{display:"flex",gap:"10px"},children:[l.jsx("button",{onClick:()=>Bl(null),style:{flex:"1",padding:"14px",background:"#95a5a6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Cancel"}),l.jsx("button",{onClick:()=>Ay(yi),style:{flex:"1",padding:"14px",background:"#e67e22",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Yes, Clear Week Data"})]})]})}),_e()&&o&&l.jsx(sC,{currentWeek:a,games:tt.games,actualScores:m,teamCodes:C,onScoresFetched:yd,onGameLockToggle:Fy,gameLocks:U,espnAutoRefresh:Te}),_e()&&o&&l.jsxs("div",{style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"white",padding:"15px 20px",borderRadius:"8px",marginBottom:"20px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[l.jsxs("h3",{style:{margin:"0 0 15px 0",display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx("span",{children:""}),l.jsx("span",{children:"ALL PLAYER CODES"})]}),l.jsx("div",{style:{background:"rgba(255,255,255,0.95)",padding:"15px",borderRadius:"6px",maxHeight:"300px",overflowY:"auto"},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.9rem"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{background:"#f8f9fa",borderBottom:"2px solid #dee2e6"},children:[l.jsx("th",{style:{padding:"10px",textAlign:"left",color:"#495057",fontWeight:"600"},children:"Player Code"}),l.jsx("th",{style:{padding:"10px",textAlign:"left",color:"#495057",fontWeight:"600"},children:"Player Name"}),l.jsx("th",{style:{padding:"10px",textAlign:"center",color:"#495057",fontWeight:"600"},children:"Role"})]})}),l.jsx("tbody",{children:Object.entries(we).sort((d,y)=>{const v=mn.includes(d[0]),T=mn.includes(y[0]);return v&&!T?-1:!v&&T?1:d[1].localeCompare(y[1])}).map(([d,y],v)=>{const T=mn.includes(d);return l.jsxs("tr",{style:{background:v%2===0?"#ffffff":"#f8f9fa",borderBottom:"1px solid #dee2e6"},children:[l.jsx("td",{style:{padding:"10px",color:"#212529",fontFamily:"monospace",fontWeight:"bold",fontSize:"1rem"},children:d}),l.jsx("td",{style:{padding:"10px",color:"#212529"},children:y}),l.jsx("td",{style:{padding:"10px",textAlign:"center"},children:T?l.jsx("span",{style:{padding:"4px 8px",background:"#dc3545",color:"white",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"600"},children:" MANAGER"}):l.jsx("span",{style:{padding:"4px 8px",background:"#28a745",color:"white",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"600"},children:" PLAYER"})})]},d)})})]})}),l.jsxs("p",{style:{fontSize:"0.8rem",marginTop:"12px",marginBottom:"0",opacity:.9},children:[" Total Players: ",Object.keys(we).length," | Pool Managers: ",mn.length," | Regular Players: ",Object.keys(we).length-mn.length]})]}),o&&l.jsx(pC,{currentWeek:a,onWeekChange:Wy,weekPicks:Cy,weekLockStatus:R,hasUnsavedChanges:Ft,isPoolManager:_e()}),o&&l.jsxs("div",{className:"view-navigation",children:[l.jsx("button",{className:`nav-btn ${t==="picks"?"active":""}`,onClick:()=>e("picks"),children:" Make Picks"}),l.jsx("button",{className:`nav-btn ${t==="standings"?"active":""}`,onClick:()=>e("standings"),children:" Standings & Prizes"})]}),t==="standings"&&o?l.jsx(iC,{allPicks:f,actualScores:m,currentWeek:a,playerName:n,playerCode:i,isPoolManager:_e(),prizePool:De,officialWinners:yt,onLogout:()=>{c(!1),s(""),r(""),h({}),e("picks")}}):l.jsxs(l.Fragment,{children:[o?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"player-confirmed",children:[l.jsx("span",{className:"confirmation-badge",children:" VERIFIED"}),l.jsxs("h3",{children:["Welcome, ",l.jsx("span",{className:"player-name-highlight",children:n}),"!",_e()&&l.jsx("span",{style:{marginLeft:"10px",color:"#d63031"},children:" POOL MANAGER"})]}),l.jsxs("p",{style:{color:"#000"},children:["Making picks for: ",l.jsx("strong",{children:tt.name})]}),fn(a)&&!_e()&&l.jsx("div",{style:{marginTop:"10px",padding:"10px 15px",background:"#fff3cd",border:"2px solid #ffc107",borderRadius:"6px",color:"#856404",fontWeight:"600"},children:" This week is LOCKED - You can view your picks but cannot edit them"}),l.jsx("button",{className:"validate-btn",style:{marginTop:"15px",padding:"10px 20px",fontSize:"0.9rem"},onClick:()=>{c(!1),s(""),r(""),h({})},children:" Logout / Switch Entry"}),l.jsx("p",{style:{fontSize:"0.85rem",color:"#666",marginTop:"10px",fontStyle:"italic"},children:" Playing with multiple entries? Logout to switch between your codes."})]}),!_i()&&l.jsx("div",{className:"closed-warning",children:" PICKS ARE LOCKED (Playoff Weekend: Friday 11:59 PM - Monday 12:01 AM PST)"}),l.jsxs("div",{className:"prediction-form",children:[hi==="manual"?l.jsxs("h2",{style:{color:"#e74c3c"},children:[" OVERRIDE MODE: Entering Picks for ",we[ne]]}):l.jsx("h2",{children:"Enter Your Predictions"}),l.jsxs("div",{className:"progress-indicator",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[l.jsx("strong",{children:"Progress:"}),l.jsxs("span",{children:[Object.keys(p).filter(d=>p[d].team1&&p[d].team2).length," of ",tt.games.length," games completed"]})]}),l.jsx("div",{className:"progress-bar",children:l.jsxs("div",{className:"progress-fill",style:{width:`${Object.keys(p).filter(d=>p[d].team1&&p[d].team2).length/tt.games.length*100}%`},children:[Math.round(Object.keys(p).filter(d=>p[d].team1&&p[d].team2).length/tt.games.length*100),"%"]})})]}),l.jsxs("form",{onSubmit:hi==="manual"?Py:Sd,children:[tt.games.map(d=>{var y,v,T,I,j,N;return l.jsxs("div",{className:"game-prediction",children:[l.jsxs("h3",{children:["Game ",d.id,": ",d.team1," @ ",d.team2,((y=C[a])==null?void 0:y[d.id])&&l.jsxs("span",{style:{fontSize:"0.9rem",color:"#666",marginLeft:"10px"},children:["(",C[a][d.id].team1||"?"," @ ",C[a][d.id].team2||"?",")"]})]}),((v=m[a])==null?void 0:v[d.id])&&l.jsxs("div",{style:{padding:"10px 15px",background:"#ffffff",border:"3px solid #4caf50",borderRadius:"6px",marginBottom:"12px",fontSize:"1rem"},children:[l.jsx("strong",{style:{color:"#000",fontSize:"1.05rem"},children:"Actual Score:"})," ",l.jsxs("span",{style:{color:"#000",fontWeight:"700",fontSize:"1.1rem"},children:[m[a][d.id].team1||"-"," - ",m[a][d.id].team2||"-"]}),((T=k[a])==null?void 0:T[d.id])==="final"&&l.jsx("span",{style:{marginLeft:"10px",padding:"2px 8px",background:"#4caf50",color:"white",borderRadius:"4px",fontSize:"0.8rem",fontWeight:"bold"},children:" FINAL"}),((I=k[a])==null?void 0:I[d.id])==="live"&&l.jsx("span",{style:{marginLeft:"10px",padding:"2px 8px",background:"#ff9800",color:"white",borderRadius:"4px",fontSize:"0.8rem",fontWeight:"bold"},children:" LIVE"})]}),l.jsxs("div",{className:"score-inputs",children:[l.jsxs("div",{className:"team-score",children:[l.jsxs("label",{children:[l.jsx("span",{className:"team-designation",children:"AWAY TEAM"}),l.jsx("span",{className:"team-name-label",style:{color:"#ffffff",fontWeight:"700"},children:d.team1})]}),l.jsx("input",{type:"number",min:"0",max:"99",value:((j=p[d.id])==null?void 0:j.team1)||"",onChange:M=>vd(d.id,"team1",M.target.value),placeholder:"0",required:!0,disabled:fn(a)},`${d.id}-team1-${n}`)]}),l.jsx("div",{className:"vs",children:"VS"}),l.jsxs("div",{className:"team-score",children:[l.jsxs("label",{children:[l.jsx("span",{className:"team-designation",children:"HOME TEAM"}),l.jsx("span",{className:"team-name-label",style:{color:"#ffffff",fontWeight:"700"},children:d.team2})]}),l.jsx("input",{type:"number",min:"0",max:"99",value:((N=p[d.id])==null?void 0:N.team2)||"",onChange:M=>vd(d.id,"team2",M.target.value),placeholder:"0",required:!0,disabled:fn(a)},`${d.id}-team2-${n}`)]})]})]},d.id)}),l.jsx("button",{type:"submit",className:"submit-btn",disabled:hi==="manual"?!1:!_i()||fn(a),style:hi==="manual"?{background:"#e74c3c",fontSize:"1.1rem",fontWeight:"700"}:{},children:hi==="manual"?` Submit for ${we[ne]}`:fn(a)&&!_e()?" Week Locked - Cannot Edit Picks":_i()?" Submit / Update My Picks":" Submissions Locked (Playoff Weekend)"}),_i()&&!fn(a)&&l.jsx("p",{style:{textAlign:"center",marginTop:"15px",color:"#666",fontSize:"0.9rem"},children:"You can edit and resubmit your picks as many times as you want until Friday 11:59 PM PST (before game weekends)"})]})]})]}):l.jsx("div",{className:"prediction-form",children:l.jsxs("div",{className:"code-entry-section",children:[l.jsx("h3",{children:" Enter Your Player Code"}),l.jsx("p",{style:{marginBottom:"20px",color:"#666"},children:"You received a 6-character code when you paid your $20 entry fee."}),l.jsx("p",{style:{marginBottom:"20px",color:"#666",fontSize:"0.9rem",fontStyle:"italic"},children:" Have multiple entries? Enter one code at a time."}),l.jsxs("div",{className:"code-input-group",children:[l.jsx("label",{htmlFor:"playerCode",children:"Player Code (6 characters)"}),l.jsx("input",{type:"text",id:"playerCode",className:"code-input",value:i,onChange:d=>s(d.target.value.toUpperCase()),placeholder:"A7K9M2",maxLength:"6",autoComplete:"off",onKeyPress:d=>{d.key==="Enter"&&wd()}}),l.jsx("button",{className:"validate-btn",onClick:wd,children:"Validate Code & Continue"}),l.jsxs("div",{style:{marginTop:"20px",padding:"15px",background:"#fff3cd",border:"2px solid #ffc107",borderRadius:"8px",textAlign:"left"},children:[l.jsx("h4",{style:{margin:"0 0 10px 0",color:"#856404"},children:" Entry Fee Payment"}),l.jsxs("p",{style:{margin:"5px 0",fontSize:"0.9rem",color:"#856404"},children:[l.jsx("strong",{children:"Cost:"})," $20 per entry"]}),l.jsxs("p",{style:{margin:"5px 0",fontSize:"0.9rem",color:"#856404"},children:[l.jsx("strong",{children:"Send e-Transfer to:"})," gammoneer2b@gmail.com"]}),l.jsxs("p",{style:{margin:"5px 0",fontSize:"0.9rem",color:"#856404"},children:[l.jsx("strong",{children:"Password:"})," nflpool"]}),l.jsx("p",{style:{margin:"10px 0 5px 0",fontSize:"0.85rem",color:"#856404",fontStyle:"italic"},children:"You will receive your player code after payment is confirmed."})]}),l.jsx("p",{style:{marginTop:"15px",fontSize:"0.9rem",color:"#666",textAlign:"center"},children:"Questions? Contact: gammoneer2b@gmail.com"})]})]})}),l.jsxs("div",{className:"all-picks",children:[l.jsxs("h2",{children:["All Player Picks - ",tt.name,l.jsx("button",{onClick:By,style:{marginLeft:"15px",padding:"8px 16px",background:"#4caf50",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Download CSV"}),l.jsx("div",{style:{fontSize:"0.75rem",color:"#666",marginTop:"5px",fontStyle:"italic"},children:" Mobile: Open with Google Sheets (free app)"}),l.jsx("button",{onClick:()=>window.location.reload(),style:{marginLeft:"10px",padding:"8px 16px",background:"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Refresh Picks Table"})]}),f.filter(d=>d.week===a).length===0?l.jsx("p",{className:"no-picks",children:"No picks submitted yet for this week."}):l.jsx("div",{className:"picks-table-container",children:l.jsxs("table",{className:"picks-table",children:[l.jsxs("thead",{children:[l.jsxs("tr",{children:[l.jsx("th",{rowSpan:"2",children:"Player"}),tt.games.map(d=>{var y,v,T,I,j;return l.jsxs("th",{colSpan:"2",children:["Game ",d.id,l.jsx("br",{}),l.jsxs("small",{style:{color:"#ffffff",fontWeight:"700"},children:[d.team1," @ ",d.team2]}),_e()&&l.jsxs("div",{style:{marginTop:"5px",display:"flex",gap:"5px",justifyContent:"center",alignItems:"center"},children:[l.jsx("input",{type:"text",maxLength:"3",value:((v=(y=C[a])==null?void 0:y[d.id])==null?void 0:v.team1)||"",onChange:N=>_d(d.id,"team1",N.target.value),placeholder:"PIT",style:{width:"45px",padding:"4px",textAlign:"center",fontSize:"0.8rem",fontWeight:"bold",border:"2px solid #667eea",borderRadius:"4px"}}),l.jsx("span",{style:{fontSize:"0.8rem"},children:"@"}),l.jsx("input",{type:"text",maxLength:"3",value:((I=(T=C[a])==null?void 0:T[d.id])==null?void 0:I.team2)||"",onChange:N=>_d(d.id,"team2",N.target.value),placeholder:"BUF",style:{width:"45px",padding:"4px",textAlign:"center",fontSize:"0.8rem",fontWeight:"bold",border:"2px solid #667eea",borderRadius:"4px"}})]}),!_e()&&((j=C[a])==null?void 0:j[d.id])&&l.jsxs("div",{style:{fontSize:"0.8rem",color:"#ffffff",fontWeight:"700",marginTop:"3px"},children:[C[a][d.id].team1||"?"," @ ",C[a][d.id].team2||"?"]})]},d.id)}),a==="superbowl"?l.jsxs(l.Fragment,{children:[l.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#fff3cd",fontWeight:"bold",color:"#000"},children:[_e()?l.jsxs("div",{style:{marginBottom:"8px"},children:[l.jsx("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000"},children:"OFFICIAL"}),l.jsx("input",{type:"number",min:"0",value:E.superbowl_week4||"",onChange:d=>_r("superbowl_week4",d.target.value),placeholder:"-",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #f39c12",borderRadius:"4px",color:"#000"}})]}):l.jsxs("div",{style:{marginBottom:"8px"},children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:"Official"}),l.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:E.superbowl_week4||"-"})]}),"Week 4",l.jsx("br",{}),"Total"]}),l.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#d1ecf1",fontWeight:"bold",color:"#000"},children:[_e()?l.jsxs("div",{style:{marginBottom:"8px"},children:[l.jsx("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000"},children:"OFFICIAL"}),l.jsx("input",{type:"number",min:"0",value:E.superbowl_week3||"",onChange:d=>_r("superbowl_week3",d.target.value),placeholder:"-",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #f39c12",borderRadius:"4px",color:"#000"}})]}):l.jsxs("div",{style:{marginBottom:"8px"},children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:"Official"}),l.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:E.superbowl_week3||"-"})]}),"Week 3",l.jsx("br",{}),"Total"]}),l.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#d4edda",fontWeight:"bold",color:"#000"},children:[_e()?l.jsxs("div",{style:{marginBottom:"8px"},children:[l.jsx("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000"},children:"OFFICIAL"}),l.jsx("input",{type:"number",min:"0",value:E.superbowl_week2||"",onChange:d=>_r("superbowl_week2",d.target.value),placeholder:"-",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #f39c12",borderRadius:"4px",color:"#000"}})]}):l.jsxs("div",{style:{marginBottom:"8px"},children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:"Official"}),l.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:E.superbowl_week2||"-"})]}),"Week 2",l.jsx("br",{}),"Total"]}),l.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#f8d7da",fontWeight:"bold",color:"#000"},children:[_e()?l.jsxs("div",{style:{marginBottom:"8px"},children:[l.jsx("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000"},children:"OFFICIAL"}),l.jsx("input",{type:"number",min:"0",value:E.superbowl_week1||"",onChange:d=>_r("superbowl_week1",d.target.value),placeholder:"-",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #f39c12",borderRadius:"4px",color:"#000"}})]}):l.jsxs("div",{style:{marginBottom:"8px"},children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:"Official"}),l.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:E.superbowl_week1||"-"})]}),"Week 1",l.jsx("br",{}),"Total"]}),l.jsxs("th",{rowSpan:"2",className:"grand-total",children:[_e()?l.jsxs("div",{style:{marginBottom:"8px"},children:[l.jsx("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#fff"},children:"OFFICIAL"}),l.jsx("input",{type:"number",min:"0",value:E.superbowl_grand||"",onChange:d=>_r("superbowl_grand",d.target.value),placeholder:"-",style:{width:"70px",padding:"4px",textAlign:"center",fontSize:"1.1rem",fontWeight:"bold",border:"3px solid #f39c12",borderRadius:"4px",backgroundColor:"#fff",color:"#000"}})]}):l.jsxs("div",{style:{marginBottom:"8px"},children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"#fff",marginBottom:"2px"},children:"Official"}),l.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"#fff"},children:E.superbowl_grand||"-"})]}),"GRAND",l.jsx("br",{}),"TOTAL"]})]}):l.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#f8f9fa",fontWeight:"bold",color:"#000"},children:[_e()?l.jsxs("div",{style:{marginBottom:"8px"},children:[l.jsx("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000"},children:"OFFICIAL"}),l.jsx("input",{type:"number",min:"0",value:E[a]||"",onChange:d=>_r(a,d.target.value),placeholder:"-",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #f39c12",borderRadius:"4px",color:"#000"}})]}):l.jsxs("div",{style:{marginBottom:"8px"},children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:"Official"}),l.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:E[a]||"-"})]}),"Official",l.jsx("br",{}),"Total"]}),l.jsx("th",{rowSpan:"2",children:"Submitted"})]}),l.jsx("tr",{style:{background:"#ffffff",borderTop:"3px solid #4caf50",borderBottom:"3px solid #4caf50"},children:tt.games.map(d=>{var y,v,T,I,j,N,M,B,L,V,Y;return l.jsxs(Na.Fragment,{children:[l.jsx("th",{style:{padding:"8px 4px",background:"#ffffff",borderLeft:"1px solid #ddd"},children:_e()?l.jsxs("div",{children:[l.jsx("input",{type:"number",min:"0",max:"99",value:((v=(y=m[a])==null?void 0:y[d.id])==null?void 0:v.team1)||"",onChange:ie=>xd(d.id,"team1",ie.target.value),placeholder:"-",style:{width:"50px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #4caf50",borderRadius:"4px",color:"#000",background:"#f0fff0"}}),l.jsx("div",{style:{fontSize:"0.75rem",marginTop:"3px",color:"#000",fontWeight:"700"},children:"ACTUAL"})]}):l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#000"},children:((I=(T=m[a])==null?void 0:T[d.id])==null?void 0:I.team1)||"-"}),l.jsx("div",{style:{fontSize:"0.75rem",color:"#000",fontWeight:"700"},children:"ACTUAL"})]})}),l.jsx("th",{style:{padding:"8px 4px",background:"#ffffff",borderRight:"1px solid #ddd"},children:_e()?l.jsxs("div",{children:[l.jsx("input",{type:"number",min:"0",max:"99",value:((N=(j=m[a])==null?void 0:j[d.id])==null?void 0:N.team2)||"",onChange:ie=>xd(d.id,"team2",ie.target.value),placeholder:"-",style:{width:"50px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #4caf50",borderRadius:"4px",color:"#000",background:"#f0fff0"}}),l.jsx("div",{style:{fontSize:"0.75rem",marginTop:"3px",color:"#000",fontWeight:"700"},children:"ACTUAL"}),l.jsxs("select",{value:((M=k[a])==null?void 0:M[d.id])||"",onChange:ie=>zy(d.id,ie.target.value),style:{width:"60px",padding:"2px",fontSize:"0.7rem",marginTop:"4px",borderRadius:"3px",border:"1px solid #999"},children:[l.jsx("option",{value:"",children:"--"}),l.jsx("option",{value:"live",children:" LIVE"}),l.jsx("option",{value:"final",children:" FINAL"})]})]}):l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#000"},children:((L=(B=m[a])==null?void 0:B[d.id])==null?void 0:L.team2)||"-"}),l.jsx("div",{style:{fontSize:"0.75rem",color:"#000",fontWeight:"700"},children:"ACTUAL"}),((V=k[a])==null?void 0:V[d.id])==="final"&&l.jsx("div",{style:{display:"inline-block",padding:"2px 6px",background:"#4caf50",color:"white",borderRadius:"3px",fontSize:"0.65rem",fontWeight:"bold",marginTop:"4px"},children:" FINAL"}),((Y=k[a])==null?void 0:Y[d.id])==="live"&&l.jsx("div",{style:{display:"inline-block",padding:"2px 6px",background:"#ff9800",color:"white",borderRadius:"3px",fontSize:"0.65rem",fontWeight:"bold",marginTop:"4px"},children:" LIVE"})]})})]},`actual-${d.id}`)})})]}),l.jsx("tbody",{children:f.filter(d=>d.week===a).sort((d,y)=>(y.lastUpdated||y.timestamp)-(d.lastUpdated||d.timestamp)).map((d,y)=>{var v,T,I,j,N,M;return l.jsxs("tr",{children:[l.jsx("td",{className:"player-name",children:d.playerName}),tt.games.map(B=>{var be,xe,Oe,Cd;const L=d.predictions[B.id],V=(be=m[a])==null?void 0:be[B.id],Y=(xe=k[a])==null?void 0:xe[B.id],ie=md(L==null?void 0:L.team1,L==null?void 0:L.team2,V==null?void 0:V.team1,V==null?void 0:V.team2,Y,!0),ke=md(L==null?void 0:L.team1,L==null?void 0:L.team2,V==null?void 0:V.team1,V==null?void 0:V.team2,Y,!1);return l.jsxs(Na.Fragment,{children:[l.jsx("td",{className:"score",style:{background:ie.background,color:ie.color,fontWeight:ie.background!=="transparent"?"bold":"normal"},children:((Oe=d.predictions[B.id])==null?void 0:Oe.team1)||"-"}),l.jsx("td",{className:"score",style:{background:ke.background,color:ke.color,fontWeight:ke.background!=="transparent"?"bold":"normal"},children:((Cd=d.predictions[B.id])==null?void 0:Cd.team2)||"-"})]},`${y}-${B.id}`)}),a==="superbowl"?l.jsxs(l.Fragment,{children:[l.jsx("td",{style:{backgroundColor:"#fff3cd",fontWeight:"bold",fontSize:"16px"},children:l.jsx("span",{style:{color:"#000"},children:((v=xr[d.playerName])==null?void 0:v.week4)||0})}),l.jsx("td",{style:{backgroundColor:"#d1ecf1",fontWeight:"bold",fontSize:"16px"},children:l.jsx("span",{style:{color:"#000"},children:((T=xr[d.playerName])==null?void 0:T.week3)||0})}),l.jsx("td",{style:{backgroundColor:"#d4edda",fontWeight:"bold",fontSize:"16px"},children:l.jsx("span",{style:{color:"#000"},children:((I=xr[d.playerName])==null?void 0:I.week2)||0})}),l.jsx("td",{style:{backgroundColor:"#f8d7da",fontWeight:"bold",fontSize:"16px"},children:l.jsx("span",{style:{color:"#000"},children:((j=xr[d.playerName])==null?void 0:j.week1)||0})}),l.jsx("td",{className:"grand-total",children:((N=xr[d.playerName])==null?void 0:N.grand)||0})]}):l.jsx("td",{style:{backgroundColor:"#f8f9fa",fontWeight:"bold",fontSize:"16px"},children:l.jsx("span",{style:{color:"#000"},children:((M=xr[d.playerName])==null?void 0:M.current)||0})}),l.jsx("td",{className:"timestamp",children:new Date(d.lastUpdated||d.timestamp).toLocaleString("en-US",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})})]},y)})})]})}),o&&l.jsx("div",{style:{marginTop:"60px"},children:l.jsx(kC,{allPicks:f,actualScores:m,games:pe,officialWinners:yt,weekData:pe})}),o&&_e()&&l.jsxs("div",{style:{marginTop:"40px",marginBottom:"40px"},children:[l.jsxs("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"25px",borderRadius:"12px",marginBottom:"30px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[l.jsxs("h2",{style:{margin:"0 0 15px 0",display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx("span",{children:""}),l.jsx("span",{children:"PRIZE POOL MANAGEMENT"})]}),De.totalFees>0?l.jsxs("div",{children:[l.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:"20px",borderRadius:"8px",marginBottom:"15px"},children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"20px",marginBottom:"15px"},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.85rem",opacity:.9},children:"Total Pool Fees"}),l.jsxs("div",{style:{fontSize:"1.8rem",fontWeight:"bold"},children:["$",De.totalFees.toFixed(2)]})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.85rem",opacity:.9},children:"Number of Players"}),l.jsx("div",{style:{fontSize:"1.8rem",fontWeight:"bold"},children:De.numberOfPlayers})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.85rem",opacity:.9},children:"Each Prize (10%)"}),l.jsxs("div",{style:{fontSize:"1.8rem",fontWeight:"bold"},children:["$",De.prizeValue.toFixed(2)]})]})]}),l.jsxs("div",{style:{fontSize:"0.85rem",opacity:.8},children:["Entry Fee: $",De.entryFee," per player"]})]}),l.jsx("button",{onClick:()=>Fs(!0),style:{padding:"10px 20px",background:"rgba(255,255,255,0.3)",color:"white",border:"2px solid white",borderRadius:"6px",cursor:"pointer",fontWeight:"600"},children:" Edit Prize Pool Setup"})]}):l.jsxs("div",{children:[l.jsx("p",{style:{marginBottom:"15px"},children:" Set up your prize pool to enable winner declarations."}),l.jsx("button",{onClick:()=>Fs(!0),style:{padding:"12px 24px",background:"white",color:"#667eea",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"700",fontSize:"1rem"},children:" Set Up Prize Pool"})]})]}),De.totalFees>0&&l.jsxs("div",{style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"white",padding:"25px",borderRadius:"12px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[l.jsxs("h2",{style:{margin:"0 0 20px 0",display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx("span",{children:""}),l.jsx("span",{children:"DECLARE PRIZE WINNERS"})]}),l.jsx("button",{onClick:()=>zl(!0),style:{padding:"14px 28px",background:"white",color:"#f5576c",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"700",fontSize:"1.1rem",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:" Declare Winner(s) for a Prize"}),Object.keys(yt).length>0&&l.jsxs("div",{style:{marginTop:"25px"},children:[l.jsx("h3",{style:{marginBottom:"15px",fontSize:"1.1rem"},children:" Current Prize Winners:"}),l.jsx("div",{style:{background:"rgba(255,255,255,0.2)",padding:"15px",borderRadius:"8px",maxHeight:"400px",overflowY:"auto"},children:Object.entries(yt).sort((d,y)=>{const v=d[1].prizeNumber,T=y[1].prizeNumber;return v-T}).map(([d,y])=>l.jsxs("div",{style:{background:"rgba(255,255,255,0.9)",color:"#333",padding:"15px",borderRadius:"6px",marginBottom:"12px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"10px"},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontWeight:"bold",fontSize:"1rem",marginBottom:"5px"},children:y.prizeName}),l.jsxs("div",{style:{fontSize:"0.9rem",color:"#666"},children:["Prize Value: $",y.prizeValue.toFixed(2)]})]}),l.jsx("button",{onClick:()=>Ly(y.prizeNumber),style:{padding:"6px 12px",background:"#e74c3c",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.85rem",fontWeight:"600"},children:" Delete"})]}),l.jsx("div",{style:{paddingLeft:"15px"},children:y.winners.map((v,T)=>l.jsxs("div",{style:{padding:"8px 0",borderBottom:T<y.winners.length-1?"1px solid #eee":"none"},children:[l.jsxs("span",{style:{fontWeight:"600"},children:[" ",v.playerName]}),l.jsxs("span",{style:{marginLeft:"15px",color:"#666"},children:[v.percentage.toFixed(2),"% = $",v.amount.toFixed(2)]})]},T))})]},d))})]})]})]}),wy&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},children:l.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"30px",maxWidth:"600px",width:"100%",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 8px 32px rgba(0,0,0,0.3)"},children:[l.jsx("h2",{style:{marginTop:0,color:"#667eea"},children:" Prize Pool Setup"}),l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Total Pool Fees Collected:"}),l.jsx("input",{type:"number",id:"totalFees",defaultValue:De.totalFees||"",placeholder:"1000",style:{width:"100%",padding:"12px",fontSize:"1.1rem",border:"2px solid #667eea",borderRadius:"6px"}}),l.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginTop:"5px"},children:"Total money collected from all players"})]}),l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Number of Players:"}),l.jsx("input",{type:"number",id:"numberOfPlayers",defaultValue:De.numberOfPlayers||"",placeholder:"50",style:{width:"100%",padding:"12px",fontSize:"1.1rem",border:"2px solid #667eea",borderRadius:"6px"}}),l.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginTop:"5px"},children:"Total number of players in the pool"})]}),l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Entry Fee per Player:"}),l.jsx("input",{type:"number",id:"entryFee",defaultValue:De.entryFee||20,placeholder:"20",style:{width:"100%",padding:"12px",fontSize:"1.1rem",border:"2px solid #667eea",borderRadius:"6px"}}),l.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginTop:"5px"},children:"Amount each player paid to enter ($20, $50, etc.)"})]}),l.jsxs("div",{style:{background:"#f0f8ff",padding:"15px",borderRadius:"8px",marginBottom:"20px"},children:[l.jsx("div",{style:{fontWeight:"600",marginBottom:"10px"},children:" Calculation Preview:"}),l.jsxs("div",{style:{fontSize:"0.9rem",lineHeight:"1.6"},children:["Each Prize = Total Pool  10",l.jsx("br",{}),l.jsx("span",{id:"prizePreview",style:{fontWeight:"bold",color:"#667eea"},children:"Example: $1,000  10 = $100 per prize"})]})]}),l.jsxs("div",{style:{display:"flex",gap:"10px"},children:[l.jsx("button",{onClick:()=>Fs(!1),style:{flex:"1",padding:"14px",background:"#95a5a6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Cancel"}),l.jsx("button",{onClick:()=>{const d=document.getElementById("totalFees").value,y=document.getElementById("numberOfPlayers").value,v=document.getElementById("entryFee").value;if(!d||d<=0){alert(" Please enter a valid total pool amount.");return}Dy(d,y,v)},style:{flex:"1",padding:"14px",background:"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Save Prize Pool"})]})]})}),Sy&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},children:l.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"30px",maxWidth:"700px",width:"100%",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 8px 32px rgba(0,0,0,0.3)"},children:[l.jsx("h2",{style:{marginTop:0,color:"#f5576c"},children:" Declare Prize Winner(s)"}),l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Select Prize:"}),l.jsxs("select",{value:kt,onChange:d=>Ll(d.target.value),style:{width:"100%",padding:"12px",fontSize:"1rem",border:"2px solid #f5576c",borderRadius:"6px"},children:[l.jsx("option",{value:"",children:"-- Select Prize --"}),[1,2,3,4,5,6,7,8,9,10].map(d=>l.jsx("option",{value:d,children:vi(d)},d))]}),kt&&l.jsxs("div",{style:{marginTop:"8px",fontSize:"0.9rem",color:"#666"},children:["Prize Value: $",De.prizeValue.toFixed(2)," (10% of pool)"]})]}),kt&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Number of Winners (Tie?):"}),l.jsx("input",{type:"number",min:"1",max:"10",value:gr,onChange:d=>{const y=parseInt(d.target.value)||1;Ml(y),zs(Array(y).fill(null).map(()=>({name:"",code:""})));const v=Ws(De.prizeValue,y);ui(v)},style:{width:"100%",padding:"12px",fontSize:"1rem",border:"2px solid #f5576c",borderRadius:"6px"}}),l.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginTop:"5px"},children:"How many players are tied? (1 = single winner, 2+ = tie)"})]}),l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("label",{style:{display:"block",marginBottom:"12px",fontWeight:"600"},children:"Select Winner(s):"}),Array(gr).fill(0).map((d,y)=>{var T,I,j;const v=dn?null:Ws(De.prizeValue,gr)[y];return l.jsxs("div",{style:{background:"#f8f9fa",padding:"15px",borderRadius:"8px",marginBottom:"12px"},children:[l.jsxs("div",{style:{marginBottom:"10px",fontWeight:"600"},children:["Winner ",y+1,":"]}),l.jsxs("select",{value:((T=vt[y])==null?void 0:T.code)||"",onChange:N=>{const M=Object.entries(we).find(([L])=>L===N.target.value),B=[...vt];B[y]={code:N.target.value,name:M?M[1]:""},zs(B)},style:{width:"100%",padding:"10px",fontSize:"1rem",border:"1px solid #ddd",borderRadius:"6px",marginBottom:"8px"},children:[l.jsx("option",{value:"",children:"-- Select Player --"}),Object.entries(we).sort((N,M)=>N[1].localeCompare(M[1])).map(([N,M])=>l.jsx("option",{value:N,children:M},N))]}),!dn&&v&&l.jsxs("div",{style:{fontSize:"0.9rem",color:"#666"},children:["Share: ",v.percentage.toFixed(2),"% = $",v.amount.toFixed(2),y===gr-1&&gr>1&&l.jsx("span",{style:{marginLeft:"10px",fontSize:"0.85rem",color:"#f5576c"},children:"(includes extra penny)"})]}),dn&&l.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"8px"},children:[l.jsx("input",{type:"number",placeholder:"%",step:"0.01",value:((I=zt[y])==null?void 0:I.percentage)||"",onChange:N=>{const M=[...zt],B=parseFloat(N.target.value)||0;M[y]={...M[y],percentage:B,amount:De.prizeValue*B/100},ui(M)},style:{flex:"1",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"}}),l.jsx("input",{type:"number",placeholder:"$",step:"0.01",value:((j=zt[y])==null?void 0:j.amount)||"",onChange:N=>{const M=[...zt],B=parseFloat(N.target.value)||0;M[y]={...M[y],amount:B,percentage:B/De.prizeValue*100},ui(M)},style:{flex:"1",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"}})]})]},y)})]}),l.jsx("div",{style:{marginBottom:"20px"},children:l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:dn,onChange:d=>Fl(d.target.checked),style:{width:"18px",height:"18px"}}),l.jsx("span",{style:{fontWeight:"600"},children:"Use custom percentages/amounts (manual override)"})]})}),l.jsxs("div",{style:{background:"#fff3cd",border:"2px solid #ffc107",padding:"15px",borderRadius:"8px",marginBottom:"20px",color:"#000"},children:[l.jsx("div",{style:{fontWeight:"700",marginBottom:"10px",color:"#000",fontSize:"1.05rem"},children:" Summary:"}),vt.every(d=>d.name)?l.jsxs("div",{style:{color:"#000"},children:[vt.map((d,y)=>{const v=dn?zt[y]:Ws(De.prizeValue,gr)[y];return l.jsxs("div",{style:{marginBottom:"5px",color:"#000",fontWeight:"600"},children:[" ",d.name,": ",v==null?void 0:v.percentage.toFixed(2),"% = $",v==null?void 0:v.amount.toFixed(2)]},y)}),l.jsxs("div",{style:{marginTop:"10px",paddingTop:"10px",borderTop:"2px solid #856404",fontWeight:"700",color:"#000"},children:["Total: ",dn?zt.reduce((d,y)=>d+(y.percentage||0),0).toFixed(2):"100.00","% = $",dn?zt.reduce((d,y)=>d+(y.amount||0),0).toFixed(2):De.prizeValue.toFixed(2)]})]}):l.jsx("div",{style:{color:"#856404",fontWeight:"600"},children:"Select all winners to see summary"})]})]}),l.jsxs("div",{style:{display:"flex",gap:"10px"},children:[l.jsx("button",{onClick:()=>{zl(!1),Ll(""),Ml(1),zs([]),Fl(!1),ui([])},style:{flex:"1",padding:"14px",background:"#95a5a6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Cancel"}),l.jsx("button",{onClick:Oy,disabled:!kt||!vt.every(d=>d.name),style:{flex:"1",padding:"14px",background:kt&&vt.every(d=>d.name)?"#f5576c":"#ccc",color:"white",border:"none",borderRadius:"6px",cursor:kt&&vt.every(d=>d.name)?"pointer":"not-allowed",fontSize:"1rem",fontWeight:"700"},children:" Declare Winner(s)"})]})]})}),O==="unsavedChanges"&&l.jsx(mC,{currentWeek:pe[a].name,onDiscard:()=>{u(H),Bs(H),W(null)},onSaveAndSwitch:async()=>{await Sd(new Event("submit")),setTimeout(()=>{u(H),Bs(H),W(null),ue(null)},100)},onCancel:()=>{ue(null),W(null)}}),O==="discardChanges"&&l.jsx(gC,{onKeepEditing:()=>W(null),onDiscard:()=>{h({...Wl}),gt(!1),W(null)}}),O==="incomplete"&&l.jsx(yC,{missingGames:Ee,totalGames:tt.games.length,onClose:()=>W(null)}),O==="invalidScores"&&l.jsx(vC,{invalidScores:Gt,onClose:()=>W(null)}),O==="success"&&l.jsx(_C,{weekName:tt.name,deadline:tt.deadline,onClose:()=>W(null)}),O==="noChanges"&&l.jsx(xC,{onClose:()=>W(null)}),O==="tiedGames"&&l.jsx(wC,{tiedGames:Ee,gameData:tt.games,onClose:()=>W(null)})]})]})]}),l.jsxs("footer",{children:[l.jsx("p",{children:"Richard's NFL Playoff Pool 2025 | Good luck! "}),l.jsx("p",{style:{fontSize:"0.85rem",marginTop:"5px"},children:"Questions? Contact: gammoneer2b@gmail.com"})]})]})}Ta.createRoot(document.getElementById("root")).render(l.jsx(Na.StrictMode,{children:l.jsx(bC,{})}));
