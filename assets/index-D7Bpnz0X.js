(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function H0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fp={exports:{}},jl={},pp={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fi=Symbol.for("react.element"),V0=Symbol.for("react.portal"),Y0=Symbol.for("react.fragment"),K0=Symbol.for("react.strict_mode"),Q0=Symbol.for("react.profiler"),X0=Symbol.for("react.provider"),q0=Symbol.for("react.context"),J0=Symbol.for("react.forward_ref"),Z0=Symbol.for("react.suspense"),ex=Symbol.for("react.memo"),tx=Symbol.for("react.lazy"),dh=Symbol.iterator;function nx(t){return t===null||typeof t!="object"?null:(t=dh&&t[dh]||t["@@iterator"],typeof t=="function"?t:null)}var mp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gp=Object.assign,yp={};function ms(t,e,n){this.props=t,this.context=e,this.refs=yp,this.updater=n||mp}ms.prototype.isReactComponent={};ms.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ms.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function xp(){}xp.prototype=ms.prototype;function hd(t,e,n){this.props=t,this.context=e,this.refs=yp,this.updater=n||mp}var fd=hd.prototype=new xp;fd.constructor=hd;gp(fd,ms.prototype);fd.isPureReactComponent=!0;var uh=Array.isArray,vp=Object.prototype.hasOwnProperty,pd={current:null},_p={key:!0,ref:!0,__self:!0,__source:!0};function wp(t,e,n){var r,s={},i=null,l=null;if(e!=null)for(r in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(i=""+e.key),e)vp.call(e,r)&&!_p.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),d=0;d<a;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Fi,type:t,key:i,ref:l,props:s,_owner:pd.current}}function rx(t,e){return{$$typeof:Fi,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function md(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fi}function sx(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var hh=/\/+/g;function da(t,e){return typeof t=="object"&&t!==null&&t.key!=null?sx(""+t.key):e.toString(36)}function jo(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Fi:case V0:l=!0}}if(l)return l=t,s=s(l),t=r===""?"."+da(l,0):r,uh(s)?(n="",t!=null&&(n=t.replace(hh,"$&/")+"/"),jo(s,e,n,"",function(d){return d})):s!=null&&(md(s)&&(s=rx(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(hh,"$&/")+"/")+t)),e.push(s)),1;if(l=0,r=r===""?".":r+":",uh(t))for(var a=0;a<t.length;a++){i=t[a];var c=r+da(i,a);l+=jo(i,e,n,c,s)}else if(c=nx(t),typeof c=="function")for(t=c.call(t),a=0;!(i=t.next()).done;)i=i.value,c=r+da(i,a++),l+=jo(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function lo(t,e,n){if(t==null)return t;var r=[],s=0;return jo(t,r,"","",function(i){return e.call(n,i,s++)}),r}function ix(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ct={current:null},Po={transition:null},ox={ReactCurrentDispatcher:ct,ReactCurrentBatchConfig:Po,ReactCurrentOwner:pd};function kp(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:lo,forEach:function(t,e,n){lo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return lo(t,function(){e++}),e},toArray:function(t){return lo(t,function(e){return e})||[]},only:function(t){if(!md(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};le.Component=ms;le.Fragment=Y0;le.Profiler=Q0;le.PureComponent=hd;le.StrictMode=K0;le.Suspense=Z0;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ox;le.act=kp;le.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=gp({},t.props),s=t.key,i=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,l=pd.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)vp.call(e,c)&&!_p.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var d=0;d<c;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:Fi,type:t.type,key:s,ref:i,props:r,_owner:l}};le.createContext=function(t){return t={$$typeof:q0,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:X0,_context:t},t.Consumer=t};le.createElement=wp;le.createFactory=function(t){var e=wp.bind(null,t);return e.type=t,e};le.createRef=function(){return{current:null}};le.forwardRef=function(t){return{$$typeof:J0,render:t}};le.isValidElement=md;le.lazy=function(t){return{$$typeof:tx,_payload:{_status:-1,_result:t},_init:ix}};le.memo=function(t,e){return{$$typeof:ex,type:t,compare:e===void 0?null:e}};le.startTransition=function(t){var e=Po.transition;Po.transition={};try{t()}finally{Po.transition=e}};le.unstable_act=kp;le.useCallback=function(t,e){return ct.current.useCallback(t,e)};le.useContext=function(t){return ct.current.useContext(t)};le.useDebugValue=function(){};le.useDeferredValue=function(t){return ct.current.useDeferredValue(t)};le.useEffect=function(t,e){return ct.current.useEffect(t,e)};le.useId=function(){return ct.current.useId()};le.useImperativeHandle=function(t,e,n){return ct.current.useImperativeHandle(t,e,n)};le.useInsertionEffect=function(t,e){return ct.current.useInsertionEffect(t,e)};le.useLayoutEffect=function(t,e){return ct.current.useLayoutEffect(t,e)};le.useMemo=function(t,e){return ct.current.useMemo(t,e)};le.useReducer=function(t,e,n){return ct.current.useReducer(t,e,n)};le.useRef=function(t){return ct.current.useRef(t)};le.useState=function(t){return ct.current.useState(t)};le.useSyncExternalStore=function(t,e,n){return ct.current.useSyncExternalStore(t,e,n)};le.useTransition=function(){return ct.current.useTransition()};le.version="18.3.1";pp.exports=le;var M=pp.exports;const Ja=H0(M);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lx=M,ax=Symbol.for("react.element"),cx=Symbol.for("react.fragment"),dx=Object.prototype.hasOwnProperty,ux=lx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hx={key:!0,ref:!0,__self:!0,__source:!0};function Sp(t,e,n){var r,s={},i=null,l=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(l=e.ref);for(r in e)dx.call(e,r)&&!hx.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:ax,type:t,key:i,ref:l,props:s,_owner:ux.current}}jl.Fragment=cx;jl.jsx=Sp;jl.jsxs=Sp;fp.exports=jl;var o=fp.exports,Za={},Cp={exports:{}},bt={},bp={exports:{}},Np={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,q){var Z=$.length;$.push(q);e:for(;0<Z;){var fe=Z-1>>>1,je=$[fe];if(0<s(je,q))$[fe]=q,$[Z]=je,Z=fe;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var q=$[0],Z=$.pop();if(Z!==q){$[0]=Z;e:for(var fe=0,je=$.length,ut=je>>>1;fe<ut;){var Je=2*(fe+1)-1,Jn=$[Je],ht=Je+1,_t=$[ht];if(0>s(Jn,Z))ht<je&&0>s(_t,Jn)?($[fe]=_t,$[ht]=Z,fe=ht):($[fe]=Jn,$[Je]=Z,fe=Je);else if(ht<je&&0>s(_t,Z))$[fe]=_t,$[ht]=Z,fe=ht;else break e}}return q}function s($,q){var Z=$.sortIndex-q.sortIndex;return Z!==0?Z:$.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,a=l.now();t.unstable_now=function(){return l.now()-a}}var c=[],d=[],f=1,u=null,p=3,_=!1,k=!1,R=!1,E=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S($){for(var q=n(d);q!==null;){if(q.callback===null)r(d);else if(q.startTime<=$)r(d),q.sortIndex=q.expirationTime,e(c,q);else break;q=n(d)}}function v($){if(R=!1,S($),!k)if(n(c)!==null)k=!0,G(N);else{var q=n(d);q!==null&&ge(v,q.startTime-$)}}function N($,q){k=!1,R&&(R=!1,x(D),D=-1),_=!0;var Z=p;try{for(S(q),u=n(c);u!==null&&(!(u.expirationTime>q)||$&&!b());){var fe=u.callback;if(typeof fe=="function"){u.callback=null,p=u.priorityLevel;var je=fe(u.expirationTime<=q);q=t.unstable_now(),typeof je=="function"?u.callback=je:u===n(c)&&r(c),S(q)}else r(c);u=n(c)}if(u!==null)var ut=!0;else{var Je=n(d);Je!==null&&ge(v,Je.startTime-q),ut=!1}return ut}finally{u=null,p=Z,_=!1}}var C=!1,P=null,D=-1,A=5,L=-1;function b(){return!(t.unstable_now()-L<A)}function W(){if(P!==null){var $=t.unstable_now();L=$;var q=!0;try{q=P(!0,$)}finally{q?U():(C=!1,P=null)}}else C=!1}var U;if(typeof y=="function")U=function(){y(W)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,X=ne.port2;ne.port1.onmessage=W,U=function(){X.postMessage(null)}}else U=function(){E(W,0)};function G($){P=$,C||(C=!0,U())}function ge($,q){D=E(function(){$(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){k||_||(k=!0,G(N))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function($){switch(p){case 1:case 2:case 3:var q=3;break;default:q=p}var Z=p;p=q;try{return $()}finally{p=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,q){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Z=p;p=$;try{return q()}finally{p=Z}},t.unstable_scheduleCallback=function($,q,Z){var fe=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?fe+Z:fe):Z=fe,$){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=Z+je,$={id:f++,callback:q,priorityLevel:$,startTime:Z,expirationTime:je,sortIndex:-1},Z>fe?($.sortIndex=Z,e(d,$),n(c)===null&&$===n(d)&&(R?(x(D),D=-1):R=!0,ge(v,Z-fe))):($.sortIndex=je,e(c,$),k||_||(k=!0,G(N))),$},t.unstable_shouldYield=b,t.unstable_wrapCallback=function($){var q=p;return function(){var Z=p;p=q;try{return $.apply(this,arguments)}finally{p=Z}}}})(Np);bp.exports=Np;var fx=bp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var px=M,Ct=fx;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ep=new Set,ui={};function wr(t,e){ns(t,e),ns(t+"Capture",e)}function ns(t,e){for(ui[t]=e,t=0;t<e.length;t++)Ep.add(e[t])}var un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ec=Object.prototype.hasOwnProperty,mx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fh={},ph={};function gx(t){return ec.call(ph,t)?!0:ec.call(fh,t)?!1:mx.test(t)?ph[t]=!0:(fh[t]=!0,!1)}function yx(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function xx(t,e,n,r){if(e===null||typeof e>"u"||yx(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function dt(t,e,n,r,s,i,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=l}var Xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Xe[t]=new dt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Xe[e]=new dt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Xe[t]=new dt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Xe[t]=new dt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Xe[t]=new dt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Xe[t]=new dt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Xe[t]=new dt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Xe[t]=new dt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Xe[t]=new dt(t,5,!1,t.toLowerCase(),null,!1,!1)});var gd=/[\-:]([a-z])/g;function yd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(gd,yd);Xe[e]=new dt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(gd,yd);Xe[e]=new dt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(gd,yd);Xe[e]=new dt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Xe[t]=new dt(t,1,!1,t.toLowerCase(),null,!1,!1)});Xe.xlinkHref=new dt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Xe[t]=new dt(t,1,!1,t.toLowerCase(),null,!0,!0)});function xd(t,e,n,r){var s=Xe.hasOwnProperty(e)?Xe[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(xx(e,n,s,r)&&(n=null),r||s===null?gx(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var yn=px.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ao=Symbol.for("react.element"),Dr=Symbol.for("react.portal"),Wr=Symbol.for("react.fragment"),vd=Symbol.for("react.strict_mode"),tc=Symbol.for("react.profiler"),jp=Symbol.for("react.provider"),Pp=Symbol.for("react.context"),_d=Symbol.for("react.forward_ref"),nc=Symbol.for("react.suspense"),rc=Symbol.for("react.suspense_list"),wd=Symbol.for("react.memo"),Cn=Symbol.for("react.lazy"),Tp=Symbol.for("react.offscreen"),mh=Symbol.iterator;function Ds(t){return t===null||typeof t!="object"?null:(t=mh&&t[mh]||t["@@iterator"],typeof t=="function"?t:null)}var Re=Object.assign,ua;function Ys(t){if(ua===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ua=e&&e[1]||""}return`
`+ua+t}var ha=!1;function fa(t,e){if(!t||ha)return"";ha=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),l=s.length-1,a=i.length-1;1<=l&&0<=a&&s[l]!==i[a];)a--;for(;1<=l&&0<=a;l--,a--)if(s[l]!==i[a]){if(l!==1||a!==1)do if(l--,a--,0>a||s[l]!==i[a]){var c=`
`+s[l].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=l&&0<=a);break}}}finally{ha=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ys(t):""}function vx(t){switch(t.tag){case 5:return Ys(t.type);case 16:return Ys("Lazy");case 13:return Ys("Suspense");case 19:return Ys("SuspenseList");case 0:case 2:case 15:return t=fa(t.type,!1),t;case 11:return t=fa(t.type.render,!1),t;case 1:return t=fa(t.type,!0),t;default:return""}}function sc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Wr:return"Fragment";case Dr:return"Portal";case tc:return"Profiler";case vd:return"StrictMode";case nc:return"Suspense";case rc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Pp:return(t.displayName||"Context")+".Consumer";case jp:return(t._context.displayName||"Context")+".Provider";case _d:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case wd:return e=t.displayName||null,e!==null?e:sc(t.type)||"Memo";case Cn:e=t._payload,t=t._init;try{return sc(t(e))}catch{}}return null}function _x(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sc(e);case 8:return e===vd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Un(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ip(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function wx(t){var e=Ip(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(l){r=""+l,i.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function co(t){t._valueTracker||(t._valueTracker=wx(t))}function Rp(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Ip(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Bo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ic(t,e){var n=e.checked;return Re({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function gh(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Un(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ap(t,e){e=e.checked,e!=null&&xd(t,"checked",e,!1)}function oc(t,e){Ap(t,e);var n=Un(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?lc(t,e.type,n):e.hasOwnProperty("defaultValue")&&lc(t,e.type,Un(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function yh(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function lc(t,e,n){(e!=="number"||Bo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ks=Array.isArray;function Yr(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Un(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ac(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return Re({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function xh(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(Ks(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Un(n)}}function Dp(t,e){var n=Un(e.value),r=Un(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function vh(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Wp(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Wp(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var uo,Lp=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(uo=uo||document.createElement("div"),uo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=uo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function hi(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var qs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kx=["Webkit","ms","Moz","O"];Object.keys(qs).forEach(function(t){kx.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),qs[e]=qs[t]})});function Op(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||qs.hasOwnProperty(t)&&qs[t]?(""+e).trim():e+"px"}function Mp(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Op(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Sx=Re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dc(t,e){if(e){if(Sx[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function uc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hc=null;function kd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fc=null,Kr=null,Qr=null;function _h(t){if(t=Ui(t)){if(typeof fc!="function")throw Error(z(280));var e=t.stateNode;e&&(e=Al(e),fc(t.stateNode,t.type,e))}}function zp(t){Kr?Qr?Qr.push(t):Qr=[t]:Kr=t}function Fp(){if(Kr){var t=Kr,e=Qr;if(Qr=Kr=null,_h(t),e)for(t=0;t<e.length;t++)_h(e[t])}}function Bp(t,e){return t(e)}function $p(){}var pa=!1;function Up(t,e,n){if(pa)return t(e,n);pa=!0;try{return Bp(t,e,n)}finally{pa=!1,(Kr!==null||Qr!==null)&&($p(),Fp())}}function fi(t,e){var n=t.stateNode;if(n===null)return null;var r=Al(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var pc=!1;if(un)try{var Ws={};Object.defineProperty(Ws,"passive",{get:function(){pc=!0}}),window.addEventListener("test",Ws,Ws),window.removeEventListener("test",Ws,Ws)}catch{pc=!1}function Cx(t,e,n,r,s,i,l,a,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(f){this.onError(f)}}var Js=!1,$o=null,Uo=!1,mc=null,bx={onError:function(t){Js=!0,$o=t}};function Nx(t,e,n,r,s,i,l,a,c){Js=!1,$o=null,Cx.apply(bx,arguments)}function Ex(t,e,n,r,s,i,l,a,c){if(Nx.apply(this,arguments),Js){if(Js){var d=$o;Js=!1,$o=null}else throw Error(z(198));Uo||(Uo=!0,mc=d)}}function kr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Gp(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function wh(t){if(kr(t)!==t)throw Error(z(188))}function jx(t){var e=t.alternate;if(!e){if(e=kr(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return wh(s),t;if(i===r)return wh(s),e;i=i.sibling}throw Error(z(188))}if(n.return!==r.return)n=s,r=i;else{for(var l=!1,a=s.child;a;){if(a===n){l=!0,n=s,r=i;break}if(a===r){l=!0,r=s,n=i;break}a=a.sibling}if(!l){for(a=i.child;a;){if(a===n){l=!0,n=i,r=s;break}if(a===r){l=!0,r=i,n=s;break}a=a.sibling}if(!l)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function Hp(t){return t=jx(t),t!==null?Vp(t):null}function Vp(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Vp(t);if(e!==null)return e;t=t.sibling}return null}var Yp=Ct.unstable_scheduleCallback,kh=Ct.unstable_cancelCallback,Px=Ct.unstable_shouldYield,Tx=Ct.unstable_requestPaint,Le=Ct.unstable_now,Ix=Ct.unstable_getCurrentPriorityLevel,Sd=Ct.unstable_ImmediatePriority,Kp=Ct.unstable_UserBlockingPriority,Go=Ct.unstable_NormalPriority,Rx=Ct.unstable_LowPriority,Qp=Ct.unstable_IdlePriority,Pl=null,Zt=null;function Ax(t){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(Pl,t,void 0,(t.current.flags&128)===128)}catch{}}var Gt=Math.clz32?Math.clz32:Lx,Dx=Math.log,Wx=Math.LN2;function Lx(t){return t>>>=0,t===0?32:31-(Dx(t)/Wx|0)|0}var ho=64,fo=4194304;function Qs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ho(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,l=n&268435455;if(l!==0){var a=l&~s;a!==0?r=Qs(a):(i&=l,i!==0&&(r=Qs(i)))}else l=n&~s,l!==0?r=Qs(l):i!==0&&(r=Qs(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Gt(e),s=1<<n,r|=t[n],e&=~s;return r}function Ox(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mx(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var l=31-Gt(i),a=1<<l,c=s[l];c===-1?(!(a&n)||a&r)&&(s[l]=Ox(a,e)):c<=e&&(t.expiredLanes|=a),i&=~a}}function gc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Xp(){var t=ho;return ho<<=1,!(ho&4194240)&&(ho=64),t}function ma(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Bi(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Gt(e),t[e]=n}function zx(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Gt(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Cd(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Gt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var pe=0;function qp(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Jp,bd,Zp,em,tm,yc=!1,po=[],In=null,Rn=null,An=null,pi=new Map,mi=new Map,Nn=[],Fx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sh(t,e){switch(t){case"focusin":case"focusout":In=null;break;case"dragenter":case"dragleave":Rn=null;break;case"mouseover":case"mouseout":An=null;break;case"pointerover":case"pointerout":pi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":mi.delete(e.pointerId)}}function Ls(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Ui(e),e!==null&&bd(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Bx(t,e,n,r,s){switch(e){case"focusin":return In=Ls(In,t,e,n,r,s),!0;case"dragenter":return Rn=Ls(Rn,t,e,n,r,s),!0;case"mouseover":return An=Ls(An,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return pi.set(i,Ls(pi.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,mi.set(i,Ls(mi.get(i)||null,t,e,n,r,s)),!0}return!1}function nm(t){var e=ir(t.target);if(e!==null){var n=kr(e);if(n!==null){if(e=n.tag,e===13){if(e=Gp(n),e!==null){t.blockedOn=e,tm(t.priority,function(){Zp(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function To(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=xc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);hc=r,n.target.dispatchEvent(r),hc=null}else return e=Ui(n),e!==null&&bd(e),t.blockedOn=n,!1;e.shift()}return!0}function Ch(t,e,n){To(t)&&n.delete(e)}function $x(){yc=!1,In!==null&&To(In)&&(In=null),Rn!==null&&To(Rn)&&(Rn=null),An!==null&&To(An)&&(An=null),pi.forEach(Ch),mi.forEach(Ch)}function Os(t,e){t.blockedOn===e&&(t.blockedOn=null,yc||(yc=!0,Ct.unstable_scheduleCallback(Ct.unstable_NormalPriority,$x)))}function gi(t){function e(s){return Os(s,t)}if(0<po.length){Os(po[0],t);for(var n=1;n<po.length;n++){var r=po[n];r.blockedOn===t&&(r.blockedOn=null)}}for(In!==null&&Os(In,t),Rn!==null&&Os(Rn,t),An!==null&&Os(An,t),pi.forEach(e),mi.forEach(e),n=0;n<Nn.length;n++)r=Nn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Nn.length&&(n=Nn[0],n.blockedOn===null);)nm(n),n.blockedOn===null&&Nn.shift()}var Xr=yn.ReactCurrentBatchConfig,Vo=!0;function Ux(t,e,n,r){var s=pe,i=Xr.transition;Xr.transition=null;try{pe=1,Nd(t,e,n,r)}finally{pe=s,Xr.transition=i}}function Gx(t,e,n,r){var s=pe,i=Xr.transition;Xr.transition=null;try{pe=4,Nd(t,e,n,r)}finally{pe=s,Xr.transition=i}}function Nd(t,e,n,r){if(Vo){var s=xc(t,e,n,r);if(s===null)ba(t,e,r,Yo,n),Sh(t,r);else if(Bx(s,t,e,n,r))r.stopPropagation();else if(Sh(t,r),e&4&&-1<Fx.indexOf(t)){for(;s!==null;){var i=Ui(s);if(i!==null&&Jp(i),i=xc(t,e,n,r),i===null&&ba(t,e,r,Yo,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ba(t,e,r,null,n)}}var Yo=null;function xc(t,e,n,r){if(Yo=null,t=kd(r),t=ir(t),t!==null)if(e=kr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Gp(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Yo=t,null}function rm(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ix()){case Sd:return 1;case Kp:return 4;case Go:case Rx:return 16;case Qp:return 536870912;default:return 16}default:return 16}}var jn=null,Ed=null,Io=null;function sm(){if(Io)return Io;var t,e=Ed,n=e.length,r,s="value"in jn?jn.value:jn.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var l=n-t;for(r=1;r<=l&&e[n-r]===s[i-r];r++);return Io=s.slice(t,1<r?1-r:void 0)}function Ro(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function mo(){return!0}function bh(){return!1}function Nt(t){function e(n,r,s,i,l){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?mo:bh,this.isPropagationStopped=bh,this}return Re(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=mo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=mo)},persist:function(){},isPersistent:mo}),e}var gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jd=Nt(gs),$i=Re({},gs,{view:0,detail:0}),Hx=Nt($i),ga,ya,Ms,Tl=Re({},$i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ms&&(Ms&&t.type==="mousemove"?(ga=t.screenX-Ms.screenX,ya=t.screenY-Ms.screenY):ya=ga=0,Ms=t),ga)},movementY:function(t){return"movementY"in t?t.movementY:ya}}),Nh=Nt(Tl),Vx=Re({},Tl,{dataTransfer:0}),Yx=Nt(Vx),Kx=Re({},$i,{relatedTarget:0}),xa=Nt(Kx),Qx=Re({},gs,{animationName:0,elapsedTime:0,pseudoElement:0}),Xx=Nt(Qx),qx=Re({},gs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Jx=Nt(qx),Zx=Re({},gs,{data:0}),Eh=Nt(Zx),ev={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rv(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=nv[t])?!!e[t]:!1}function Pd(){return rv}var sv=Re({},$i,{key:function(t){if(t.key){var e=ev[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ro(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pd,charCode:function(t){return t.type==="keypress"?Ro(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ro(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),iv=Nt(sv),ov=Re({},Tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jh=Nt(ov),lv=Re({},$i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pd}),av=Nt(lv),cv=Re({},gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),dv=Nt(cv),uv=Re({},Tl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),hv=Nt(uv),fv=[9,13,27,32],Td=un&&"CompositionEvent"in window,Zs=null;un&&"documentMode"in document&&(Zs=document.documentMode);var pv=un&&"TextEvent"in window&&!Zs,im=un&&(!Td||Zs&&8<Zs&&11>=Zs),Ph=" ",Th=!1;function om(t,e){switch(t){case"keyup":return fv.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Lr=!1;function mv(t,e){switch(t){case"compositionend":return lm(e);case"keypress":return e.which!==32?null:(Th=!0,Ph);case"textInput":return t=e.data,t===Ph&&Th?null:t;default:return null}}function gv(t,e){if(Lr)return t==="compositionend"||!Td&&om(t,e)?(t=sm(),Io=Ed=jn=null,Lr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return im&&e.locale!=="ko"?null:e.data;default:return null}}var yv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ih(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!yv[t.type]:e==="textarea"}function am(t,e,n,r){zp(r),e=Ko(e,"onChange"),0<e.length&&(n=new jd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ei=null,yi=null;function xv(t){vm(t,0)}function Il(t){var e=zr(t);if(Rp(e))return t}function vv(t,e){if(t==="change")return e}var cm=!1;if(un){var va;if(un){var _a="oninput"in document;if(!_a){var Rh=document.createElement("div");Rh.setAttribute("oninput","return;"),_a=typeof Rh.oninput=="function"}va=_a}else va=!1;cm=va&&(!document.documentMode||9<document.documentMode)}function Ah(){ei&&(ei.detachEvent("onpropertychange",dm),yi=ei=null)}function dm(t){if(t.propertyName==="value"&&Il(yi)){var e=[];am(e,yi,t,kd(t)),Up(xv,e)}}function _v(t,e,n){t==="focusin"?(Ah(),ei=e,yi=n,ei.attachEvent("onpropertychange",dm)):t==="focusout"&&Ah()}function wv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Il(yi)}function kv(t,e){if(t==="click")return Il(e)}function Sv(t,e){if(t==="input"||t==="change")return Il(e)}function Cv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Yt=typeof Object.is=="function"?Object.is:Cv;function xi(t,e){if(Yt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!ec.call(e,s)||!Yt(t[s],e[s]))return!1}return!0}function Dh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wh(t,e){var n=Dh(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Dh(n)}}function um(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?um(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function hm(){for(var t=window,e=Bo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Bo(t.document)}return e}function Id(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function bv(t){var e=hm(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&um(n.ownerDocument.documentElement,n)){if(r!==null&&Id(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Wh(n,i);var l=Wh(n,r);s&&l&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Nv=un&&"documentMode"in document&&11>=document.documentMode,Or=null,vc=null,ti=null,_c=!1;function Lh(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_c||Or==null||Or!==Bo(r)||(r=Or,"selectionStart"in r&&Id(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ti&&xi(ti,r)||(ti=r,r=Ko(vc,"onSelect"),0<r.length&&(e=new jd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Or)))}function go(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Mr={animationend:go("Animation","AnimationEnd"),animationiteration:go("Animation","AnimationIteration"),animationstart:go("Animation","AnimationStart"),transitionend:go("Transition","TransitionEnd")},wa={},fm={};un&&(fm=document.createElement("div").style,"AnimationEvent"in window||(delete Mr.animationend.animation,delete Mr.animationiteration.animation,delete Mr.animationstart.animation),"TransitionEvent"in window||delete Mr.transitionend.transition);function Rl(t){if(wa[t])return wa[t];if(!Mr[t])return t;var e=Mr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in fm)return wa[t]=e[n];return t}var pm=Rl("animationend"),mm=Rl("animationiteration"),gm=Rl("animationstart"),ym=Rl("transitionend"),xm=new Map,Oh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qn(t,e){xm.set(t,e),wr(e,[t])}for(var ka=0;ka<Oh.length;ka++){var Sa=Oh[ka],Ev=Sa.toLowerCase(),jv=Sa[0].toUpperCase()+Sa.slice(1);Qn(Ev,"on"+jv)}Qn(pm,"onAnimationEnd");Qn(mm,"onAnimationIteration");Qn(gm,"onAnimationStart");Qn("dblclick","onDoubleClick");Qn("focusin","onFocus");Qn("focusout","onBlur");Qn(ym,"onTransitionEnd");ns("onMouseEnter",["mouseout","mouseover"]);ns("onMouseLeave",["mouseout","mouseover"]);ns("onPointerEnter",["pointerout","pointerover"]);ns("onPointerLeave",["pointerout","pointerover"]);wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wr("onBeforeInput",["compositionend","keypress","textInput","paste"]);wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xs));function Mh(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Ex(r,e,void 0,t),t.currentTarget=null}function vm(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var l=r.length-1;0<=l;l--){var a=r[l],c=a.instance,d=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;Mh(s,a,d),i=c}else for(l=0;l<r.length;l++){if(a=r[l],c=a.instance,d=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;Mh(s,a,d),i=c}}}if(Uo)throw t=mc,Uo=!1,mc=null,t}function Ce(t,e){var n=e[bc];n===void 0&&(n=e[bc]=new Set);var r=t+"__bubble";n.has(r)||(_m(e,t,2,!1),n.add(r))}function Ca(t,e,n){var r=0;e&&(r|=4),_m(n,t,r,e)}var yo="_reactListening"+Math.random().toString(36).slice(2);function vi(t){if(!t[yo]){t[yo]=!0,Ep.forEach(function(n){n!=="selectionchange"&&(Pv.has(n)||Ca(n,!1,t),Ca(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[yo]||(e[yo]=!0,Ca("selectionchange",!1,e))}}function _m(t,e,n,r){switch(rm(e)){case 1:var s=Ux;break;case 4:s=Gx;break;default:s=Nd}n=s.bind(null,e,n,t),s=void 0,!pc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function ba(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(l===4)for(l=r.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;l=l.return}for(;a!==null;){if(l=ir(a),l===null)return;if(c=l.tag,c===5||c===6){r=i=l;continue e}a=a.parentNode}}r=r.return}Up(function(){var d=i,f=kd(n),u=[];e:{var p=xm.get(t);if(p!==void 0){var _=jd,k=t;switch(t){case"keypress":if(Ro(n)===0)break e;case"keydown":case"keyup":_=iv;break;case"focusin":k="focus",_=xa;break;case"focusout":k="blur",_=xa;break;case"beforeblur":case"afterblur":_=xa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Nh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=Yx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=av;break;case pm:case mm:case gm:_=Xx;break;case ym:_=dv;break;case"scroll":_=Hx;break;case"wheel":_=hv;break;case"copy":case"cut":case"paste":_=Jx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=jh}var R=(e&4)!==0,E=!R&&t==="scroll",x=R?p!==null?p+"Capture":null:p;R=[];for(var y=d,S;y!==null;){S=y;var v=S.stateNode;if(S.tag===5&&v!==null&&(S=v,x!==null&&(v=fi(y,x),v!=null&&R.push(_i(y,v,S)))),E)break;y=y.return}0<R.length&&(p=new _(p,k,null,n,f),u.push({event:p,listeners:R}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",p&&n!==hc&&(k=n.relatedTarget||n.fromElement)&&(ir(k)||k[hn]))break e;if((_||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,_?(k=n.relatedTarget||n.toElement,_=d,k=k?ir(k):null,k!==null&&(E=kr(k),k!==E||k.tag!==5&&k.tag!==6)&&(k=null)):(_=null,k=d),_!==k)){if(R=Nh,v="onMouseLeave",x="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(R=jh,v="onPointerLeave",x="onPointerEnter",y="pointer"),E=_==null?p:zr(_),S=k==null?p:zr(k),p=new R(v,y+"leave",_,n,f),p.target=E,p.relatedTarget=S,v=null,ir(f)===d&&(R=new R(x,y+"enter",k,n,f),R.target=S,R.relatedTarget=E,v=R),E=v,_&&k)t:{for(R=_,x=k,y=0,S=R;S;S=Ir(S))y++;for(S=0,v=x;v;v=Ir(v))S++;for(;0<y-S;)R=Ir(R),y--;for(;0<S-y;)x=Ir(x),S--;for(;y--;){if(R===x||x!==null&&R===x.alternate)break t;R=Ir(R),x=Ir(x)}R=null}else R=null;_!==null&&zh(u,p,_,R,!1),k!==null&&E!==null&&zh(u,E,k,R,!0)}}e:{if(p=d?zr(d):window,_=p.nodeName&&p.nodeName.toLowerCase(),_==="select"||_==="input"&&p.type==="file")var N=vv;else if(Ih(p))if(cm)N=Sv;else{N=wv;var C=_v}else(_=p.nodeName)&&_.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=kv);if(N&&(N=N(t,d))){am(u,N,n,f);break e}C&&C(t,p,d),t==="focusout"&&(C=p._wrapperState)&&C.controlled&&p.type==="number"&&lc(p,"number",p.value)}switch(C=d?zr(d):window,t){case"focusin":(Ih(C)||C.contentEditable==="true")&&(Or=C,vc=d,ti=null);break;case"focusout":ti=vc=Or=null;break;case"mousedown":_c=!0;break;case"contextmenu":case"mouseup":case"dragend":_c=!1,Lh(u,n,f);break;case"selectionchange":if(Nv)break;case"keydown":case"keyup":Lh(u,n,f)}var P;if(Td)e:{switch(t){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Lr?om(t,n)&&(D="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(im&&n.locale!=="ko"&&(Lr||D!=="onCompositionStart"?D==="onCompositionEnd"&&Lr&&(P=sm()):(jn=f,Ed="value"in jn?jn.value:jn.textContent,Lr=!0)),C=Ko(d,D),0<C.length&&(D=new Eh(D,t,null,n,f),u.push({event:D,listeners:C}),P?D.data=P:(P=lm(n),P!==null&&(D.data=P)))),(P=pv?mv(t,n):gv(t,n))&&(d=Ko(d,"onBeforeInput"),0<d.length&&(f=new Eh("onBeforeInput","beforeinput",null,n,f),u.push({event:f,listeners:d}),f.data=P))}vm(u,e)})}function _i(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ko(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=fi(t,n),i!=null&&r.unshift(_i(t,i,s)),i=fi(t,e),i!=null&&r.push(_i(t,i,s))),t=t.return}return r}function Ir(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function zh(t,e,n,r,s){for(var i=e._reactName,l=[];n!==null&&n!==r;){var a=n,c=a.alternate,d=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&d!==null&&(a=d,s?(c=fi(n,i),c!=null&&l.unshift(_i(n,c,a))):s||(c=fi(n,i),c!=null&&l.push(_i(n,c,a)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var Tv=/\r\n?/g,Iv=/\u0000|\uFFFD/g;function Fh(t){return(typeof t=="string"?t:""+t).replace(Tv,`
`).replace(Iv,"")}function xo(t,e,n){if(e=Fh(e),Fh(t)!==e&&n)throw Error(z(425))}function Qo(){}var wc=null,kc=null;function Sc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Cc=typeof setTimeout=="function"?setTimeout:void 0,Rv=typeof clearTimeout=="function"?clearTimeout:void 0,Bh=typeof Promise=="function"?Promise:void 0,Av=typeof queueMicrotask=="function"?queueMicrotask:typeof Bh<"u"?function(t){return Bh.resolve(null).then(t).catch(Dv)}:Cc;function Dv(t){setTimeout(function(){throw t})}function Na(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),gi(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);gi(e)}function Dn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function $h(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ys=Math.random().toString(36).slice(2),Jt="__reactFiber$"+ys,wi="__reactProps$"+ys,hn="__reactContainer$"+ys,bc="__reactEvents$"+ys,Wv="__reactListeners$"+ys,Lv="__reactHandles$"+ys;function ir(t){var e=t[Jt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[hn]||n[Jt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=$h(t);t!==null;){if(n=t[Jt])return n;t=$h(t)}return e}t=n,n=t.parentNode}return null}function Ui(t){return t=t[Jt]||t[hn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function zr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function Al(t){return t[wi]||null}var Nc=[],Fr=-1;function Xn(t){return{current:t}}function Ne(t){0>Fr||(t.current=Nc[Fr],Nc[Fr]=null,Fr--)}function ke(t,e){Fr++,Nc[Fr]=t.current,t.current=e}var Gn={},rt=Xn(Gn),yt=Xn(!1),ur=Gn;function rs(t,e){var n=t.type.contextTypes;if(!n)return Gn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function xt(t){return t=t.childContextTypes,t!=null}function Xo(){Ne(yt),Ne(rt)}function Uh(t,e,n){if(rt.current!==Gn)throw Error(z(168));ke(rt,e),ke(yt,n)}function wm(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(z(108,_x(t)||"Unknown",s));return Re({},n,r)}function qo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Gn,ur=rt.current,ke(rt,t),ke(yt,yt.current),!0}function Gh(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=wm(t,e,ur),r.__reactInternalMemoizedMergedChildContext=t,Ne(yt),Ne(rt),ke(rt,t)):Ne(yt),ke(yt,n)}var sn=null,Dl=!1,Ea=!1;function km(t){sn===null?sn=[t]:sn.push(t)}function Ov(t){Dl=!0,km(t)}function qn(){if(!Ea&&sn!==null){Ea=!0;var t=0,e=pe;try{var n=sn;for(pe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}sn=null,Dl=!1}catch(s){throw sn!==null&&(sn=sn.slice(t+1)),Yp(Sd,qn),s}finally{pe=e,Ea=!1}}return null}var Br=[],$r=0,Jo=null,Zo=0,Pt=[],Tt=0,hr=null,on=1,ln="";function tr(t,e){Br[$r++]=Zo,Br[$r++]=Jo,Jo=t,Zo=e}function Sm(t,e,n){Pt[Tt++]=on,Pt[Tt++]=ln,Pt[Tt++]=hr,hr=t;var r=on;t=ln;var s=32-Gt(r)-1;r&=~(1<<s),n+=1;var i=32-Gt(e)+s;if(30<i){var l=s-s%5;i=(r&(1<<l)-1).toString(32),r>>=l,s-=l,on=1<<32-Gt(e)+s|n<<s|r,ln=i+t}else on=1<<i|n<<s|r,ln=t}function Rd(t){t.return!==null&&(tr(t,1),Sm(t,1,0))}function Ad(t){for(;t===Jo;)Jo=Br[--$r],Br[$r]=null,Zo=Br[--$r],Br[$r]=null;for(;t===hr;)hr=Pt[--Tt],Pt[Tt]=null,ln=Pt[--Tt],Pt[Tt]=null,on=Pt[--Tt],Pt[Tt]=null}var St=null,kt=null,Ee=!1,Bt=null;function Cm(t,e){var n=It(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Hh(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,St=t,kt=Dn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,St=t,kt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=hr!==null?{id:on,overflow:ln}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=It(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,St=t,kt=null,!0):!1;default:return!1}}function Ec(t){return(t.mode&1)!==0&&(t.flags&128)===0}function jc(t){if(Ee){var e=kt;if(e){var n=e;if(!Hh(t,e)){if(Ec(t))throw Error(z(418));e=Dn(n.nextSibling);var r=St;e&&Hh(t,e)?Cm(r,n):(t.flags=t.flags&-4097|2,Ee=!1,St=t)}}else{if(Ec(t))throw Error(z(418));t.flags=t.flags&-4097|2,Ee=!1,St=t}}}function Vh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;St=t}function vo(t){if(t!==St)return!1;if(!Ee)return Vh(t),Ee=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Sc(t.type,t.memoizedProps)),e&&(e=kt)){if(Ec(t))throw bm(),Error(z(418));for(;e;)Cm(t,e),e=Dn(e.nextSibling)}if(Vh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){kt=Dn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}kt=null}}else kt=St?Dn(t.stateNode.nextSibling):null;return!0}function bm(){for(var t=kt;t;)t=Dn(t.nextSibling)}function ss(){kt=St=null,Ee=!1}function Dd(t){Bt===null?Bt=[t]:Bt.push(t)}var Mv=yn.ReactCurrentBatchConfig;function zs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(l){var a=s.refs;l===null?delete a[i]:a[i]=l},e._stringRef=i,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function _o(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Yh(t){var e=t._init;return e(t._payload)}function Nm(t){function e(x,y){if(t){var S=x.deletions;S===null?(x.deletions=[y],x.flags|=16):S.push(y)}}function n(x,y){if(!t)return null;for(;y!==null;)e(x,y),y=y.sibling;return null}function r(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function s(x,y){return x=Mn(x,y),x.index=0,x.sibling=null,x}function i(x,y,S){return x.index=S,t?(S=x.alternate,S!==null?(S=S.index,S<y?(x.flags|=2,y):S):(x.flags|=2,y)):(x.flags|=1048576,y)}function l(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,y,S,v){return y===null||y.tag!==6?(y=Da(S,x.mode,v),y.return=x,y):(y=s(y,S),y.return=x,y)}function c(x,y,S,v){var N=S.type;return N===Wr?f(x,y,S.props.children,v,S.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Cn&&Yh(N)===y.type)?(v=s(y,S.props),v.ref=zs(x,y,S),v.return=x,v):(v=zo(S.type,S.key,S.props,null,x.mode,v),v.ref=zs(x,y,S),v.return=x,v)}function d(x,y,S,v){return y===null||y.tag!==4||y.stateNode.containerInfo!==S.containerInfo||y.stateNode.implementation!==S.implementation?(y=Wa(S,x.mode,v),y.return=x,y):(y=s(y,S.children||[]),y.return=x,y)}function f(x,y,S,v,N){return y===null||y.tag!==7?(y=dr(S,x.mode,v,N),y.return=x,y):(y=s(y,S),y.return=x,y)}function u(x,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Da(""+y,x.mode,S),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ao:return S=zo(y.type,y.key,y.props,null,x.mode,S),S.ref=zs(x,null,y),S.return=x,S;case Dr:return y=Wa(y,x.mode,S),y.return=x,y;case Cn:var v=y._init;return u(x,v(y._payload),S)}if(Ks(y)||Ds(y))return y=dr(y,x.mode,S,null),y.return=x,y;_o(x,y)}return null}function p(x,y,S,v){var N=y!==null?y.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return N!==null?null:a(x,y,""+S,v);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ao:return S.key===N?c(x,y,S,v):null;case Dr:return S.key===N?d(x,y,S,v):null;case Cn:return N=S._init,p(x,y,N(S._payload),v)}if(Ks(S)||Ds(S))return N!==null?null:f(x,y,S,v,null);_o(x,S)}return null}function _(x,y,S,v,N){if(typeof v=="string"&&v!==""||typeof v=="number")return x=x.get(S)||null,a(y,x,""+v,N);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ao:return x=x.get(v.key===null?S:v.key)||null,c(y,x,v,N);case Dr:return x=x.get(v.key===null?S:v.key)||null,d(y,x,v,N);case Cn:var C=v._init;return _(x,y,S,C(v._payload),N)}if(Ks(v)||Ds(v))return x=x.get(S)||null,f(y,x,v,N,null);_o(y,v)}return null}function k(x,y,S,v){for(var N=null,C=null,P=y,D=y=0,A=null;P!==null&&D<S.length;D++){P.index>D?(A=P,P=null):A=P.sibling;var L=p(x,P,S[D],v);if(L===null){P===null&&(P=A);break}t&&P&&L.alternate===null&&e(x,P),y=i(L,y,D),C===null?N=L:C.sibling=L,C=L,P=A}if(D===S.length)return n(x,P),Ee&&tr(x,D),N;if(P===null){for(;D<S.length;D++)P=u(x,S[D],v),P!==null&&(y=i(P,y,D),C===null?N=P:C.sibling=P,C=P);return Ee&&tr(x,D),N}for(P=r(x,P);D<S.length;D++)A=_(P,x,D,S[D],v),A!==null&&(t&&A.alternate!==null&&P.delete(A.key===null?D:A.key),y=i(A,y,D),C===null?N=A:C.sibling=A,C=A);return t&&P.forEach(function(b){return e(x,b)}),Ee&&tr(x,D),N}function R(x,y,S,v){var N=Ds(S);if(typeof N!="function")throw Error(z(150));if(S=N.call(S),S==null)throw Error(z(151));for(var C=N=null,P=y,D=y=0,A=null,L=S.next();P!==null&&!L.done;D++,L=S.next()){P.index>D?(A=P,P=null):A=P.sibling;var b=p(x,P,L.value,v);if(b===null){P===null&&(P=A);break}t&&P&&b.alternate===null&&e(x,P),y=i(b,y,D),C===null?N=b:C.sibling=b,C=b,P=A}if(L.done)return n(x,P),Ee&&tr(x,D),N;if(P===null){for(;!L.done;D++,L=S.next())L=u(x,L.value,v),L!==null&&(y=i(L,y,D),C===null?N=L:C.sibling=L,C=L);return Ee&&tr(x,D),N}for(P=r(x,P);!L.done;D++,L=S.next())L=_(P,x,D,L.value,v),L!==null&&(t&&L.alternate!==null&&P.delete(L.key===null?D:L.key),y=i(L,y,D),C===null?N=L:C.sibling=L,C=L);return t&&P.forEach(function(W){return e(x,W)}),Ee&&tr(x,D),N}function E(x,y,S,v){if(typeof S=="object"&&S!==null&&S.type===Wr&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case ao:e:{for(var N=S.key,C=y;C!==null;){if(C.key===N){if(N=S.type,N===Wr){if(C.tag===7){n(x,C.sibling),y=s(C,S.props.children),y.return=x,x=y;break e}}else if(C.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Cn&&Yh(N)===C.type){n(x,C.sibling),y=s(C,S.props),y.ref=zs(x,C,S),y.return=x,x=y;break e}n(x,C);break}else e(x,C);C=C.sibling}S.type===Wr?(y=dr(S.props.children,x.mode,v,S.key),y.return=x,x=y):(v=zo(S.type,S.key,S.props,null,x.mode,v),v.ref=zs(x,y,S),v.return=x,x=v)}return l(x);case Dr:e:{for(C=S.key;y!==null;){if(y.key===C)if(y.tag===4&&y.stateNode.containerInfo===S.containerInfo&&y.stateNode.implementation===S.implementation){n(x,y.sibling),y=s(y,S.children||[]),y.return=x,x=y;break e}else{n(x,y);break}else e(x,y);y=y.sibling}y=Wa(S,x.mode,v),y.return=x,x=y}return l(x);case Cn:return C=S._init,E(x,y,C(S._payload),v)}if(Ks(S))return k(x,y,S,v);if(Ds(S))return R(x,y,S,v);_o(x,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,y!==null&&y.tag===6?(n(x,y.sibling),y=s(y,S),y.return=x,x=y):(n(x,y),y=Da(S,x.mode,v),y.return=x,x=y),l(x)):n(x,y)}return E}var is=Nm(!0),Em=Nm(!1),el=Xn(null),tl=null,Ur=null,Wd=null;function Ld(){Wd=Ur=tl=null}function Od(t){var e=el.current;Ne(el),t._currentValue=e}function Pc(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function qr(t,e){tl=t,Wd=Ur=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(mt=!0),t.firstContext=null)}function Dt(t){var e=t._currentValue;if(Wd!==t)if(t={context:t,memoizedValue:e,next:null},Ur===null){if(tl===null)throw Error(z(308));Ur=t,tl.dependencies={lanes:0,firstContext:t}}else Ur=Ur.next=t;return e}var or=null;function Md(t){or===null?or=[t]:or.push(t)}function jm(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Md(e)):(n.next=s.next,s.next=n),e.interleaved=n,fn(t,r)}function fn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var bn=!1;function zd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function cn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Wn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,de&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,fn(t,n)}return s=r.interleaved,s===null?(e.next=e,Md(r)):(e.next=s.next,s.next=e),r.interleaved=e,fn(t,n)}function Ao(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Cd(t,n)}}function Kh(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function nl(t,e,n,r){var s=t.updateQueue;bn=!1;var i=s.firstBaseUpdate,l=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,d=c.next;c.next=null,l===null?i=d:l.next=d,l=c;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==l&&(a===null?f.firstBaseUpdate=d:a.next=d,f.lastBaseUpdate=c))}if(i!==null){var u=s.baseState;l=0,f=d=c=null,a=i;do{var p=a.lane,_=a.eventTime;if((r&p)===p){f!==null&&(f=f.next={eventTime:_,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var k=t,R=a;switch(p=e,_=n,R.tag){case 1:if(k=R.payload,typeof k=="function"){u=k.call(_,u,p);break e}u=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=R.payload,p=typeof k=="function"?k.call(_,u,p):k,p==null)break e;u=Re({},u,p);break e;case 2:bn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else _={eventTime:_,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(d=f=_,c=u):f=f.next=_,l|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(f===null&&(c=u),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=f,e=s.shared.interleaved,e!==null){s=e;do l|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);pr|=l,t.lanes=l,t.memoizedState=u}}function Qh(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(z(191,s));s.call(r)}}}var Gi={},en=Xn(Gi),ki=Xn(Gi),Si=Xn(Gi);function lr(t){if(t===Gi)throw Error(z(174));return t}function Fd(t,e){switch(ke(Si,e),ke(ki,t),ke(en,Gi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:cc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=cc(e,t)}Ne(en),ke(en,e)}function os(){Ne(en),Ne(ki),Ne(Si)}function Tm(t){lr(Si.current);var e=lr(en.current),n=cc(e,t.type);e!==n&&(ke(ki,t),ke(en,n))}function Bd(t){ki.current===t&&(Ne(en),Ne(ki))}var Te=Xn(0);function rl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ja=[];function $d(){for(var t=0;t<ja.length;t++)ja[t]._workInProgressVersionPrimary=null;ja.length=0}var Do=yn.ReactCurrentDispatcher,Pa=yn.ReactCurrentBatchConfig,fr=0,Ie=null,Me=null,Ge=null,sl=!1,ni=!1,Ci=0,zv=0;function et(){throw Error(z(321))}function Ud(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Yt(t[n],e[n]))return!1;return!0}function Gd(t,e,n,r,s,i){if(fr=i,Ie=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Do.current=t===null||t.memoizedState===null?Uv:Gv,t=n(r,s),ni){i=0;do{if(ni=!1,Ci=0,25<=i)throw Error(z(301));i+=1,Ge=Me=null,e.updateQueue=null,Do.current=Hv,t=n(r,s)}while(ni)}if(Do.current=il,e=Me!==null&&Me.next!==null,fr=0,Ge=Me=Ie=null,sl=!1,e)throw Error(z(300));return t}function Hd(){var t=Ci!==0;return Ci=0,t}function qt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?Ie.memoizedState=Ge=t:Ge=Ge.next=t,Ge}function Wt(){if(Me===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Me.next;var e=Ge===null?Ie.memoizedState:Ge.next;if(e!==null)Ge=e,Me=t;else{if(t===null)throw Error(z(310));Me=t,t={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},Ge===null?Ie.memoizedState=Ge=t:Ge=Ge.next=t}return Ge}function bi(t,e){return typeof e=="function"?e(t):e}function Ta(t){var e=Wt(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=Me,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var l=s.next;s.next=i.next,i.next=l}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=l=null,c=null,d=i;do{var f=d.lane;if((fr&f)===f)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var u={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(a=c=u,l=r):c=c.next=u,Ie.lanes|=f,pr|=f}d=d.next}while(d!==null&&d!==i);c===null?l=r:c.next=a,Yt(r,e.memoizedState)||(mt=!0),e.memoizedState=r,e.baseState=l,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ie.lanes|=i,pr|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ia(t){var e=Wt(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do i=t(i,l.action),l=l.next;while(l!==s);Yt(i,e.memoizedState)||(mt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Im(){}function Rm(t,e){var n=Ie,r=Wt(),s=e(),i=!Yt(r.memoizedState,s);if(i&&(r.memoizedState=s,mt=!0),r=r.queue,Vd(Wm.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Ge!==null&&Ge.memoizedState.tag&1){if(n.flags|=2048,Ni(9,Dm.bind(null,n,r,s,e),void 0,null),Ve===null)throw Error(z(349));fr&30||Am(n,e,s)}return s}function Am(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ie.updateQueue,e===null?(e={lastEffect:null,stores:null},Ie.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Dm(t,e,n,r){e.value=n,e.getSnapshot=r,Lm(e)&&Om(t)}function Wm(t,e,n){return n(function(){Lm(e)&&Om(t)})}function Lm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Yt(t,n)}catch{return!0}}function Om(t){var e=fn(t,1);e!==null&&Ht(e,t,1,-1)}function Xh(t){var e=qt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:t},e.queue=t,t=t.dispatch=$v.bind(null,Ie,t),[e.memoizedState,t]}function Ni(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ie.updateQueue,e===null?(e={lastEffect:null,stores:null},Ie.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Mm(){return Wt().memoizedState}function Wo(t,e,n,r){var s=qt();Ie.flags|=t,s.memoizedState=Ni(1|e,n,void 0,r===void 0?null:r)}function Wl(t,e,n,r){var s=Wt();r=r===void 0?null:r;var i=void 0;if(Me!==null){var l=Me.memoizedState;if(i=l.destroy,r!==null&&Ud(r,l.deps)){s.memoizedState=Ni(e,n,i,r);return}}Ie.flags|=t,s.memoizedState=Ni(1|e,n,i,r)}function qh(t,e){return Wo(8390656,8,t,e)}function Vd(t,e){return Wl(2048,8,t,e)}function zm(t,e){return Wl(4,2,t,e)}function Fm(t,e){return Wl(4,4,t,e)}function Bm(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $m(t,e,n){return n=n!=null?n.concat([t]):null,Wl(4,4,Bm.bind(null,e,t),n)}function Yd(){}function Um(t,e){var n=Wt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ud(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Gm(t,e){var n=Wt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ud(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Hm(t,e,n){return fr&21?(Yt(n,e)||(n=Xp(),Ie.lanes|=n,pr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,mt=!0),t.memoizedState=n)}function Fv(t,e){var n=pe;pe=n!==0&&4>n?n:4,t(!0);var r=Pa.transition;Pa.transition={};try{t(!1),e()}finally{pe=n,Pa.transition=r}}function Vm(){return Wt().memoizedState}function Bv(t,e,n){var r=On(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ym(t))Km(e,n);else if(n=jm(t,e,n,r),n!==null){var s=lt();Ht(n,t,r,s),Qm(n,e,r)}}function $v(t,e,n){var r=On(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ym(t))Km(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var l=e.lastRenderedState,a=i(l,n);if(s.hasEagerState=!0,s.eagerState=a,Yt(a,l)){var c=e.interleaved;c===null?(s.next=s,Md(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=jm(t,e,s,r),n!==null&&(s=lt(),Ht(n,t,r,s),Qm(n,e,r))}}function Ym(t){var e=t.alternate;return t===Ie||e!==null&&e===Ie}function Km(t,e){ni=sl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Qm(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Cd(t,n)}}var il={readContext:Dt,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useInsertionEffect:et,useLayoutEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useMutableSource:et,useSyncExternalStore:et,useId:et,unstable_isNewReconciler:!1},Uv={readContext:Dt,useCallback:function(t,e){return qt().memoizedState=[t,e===void 0?null:e],t},useContext:Dt,useEffect:qh,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Wo(4194308,4,Bm.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Wo(4194308,4,t,e)},useInsertionEffect:function(t,e){return Wo(4,2,t,e)},useMemo:function(t,e){var n=qt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=qt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Bv.bind(null,Ie,t),[r.memoizedState,t]},useRef:function(t){var e=qt();return t={current:t},e.memoizedState=t},useState:Xh,useDebugValue:Yd,useDeferredValue:function(t){return qt().memoizedState=t},useTransition:function(){var t=Xh(!1),e=t[0];return t=Fv.bind(null,t[1]),qt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ie,s=qt();if(Ee){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),Ve===null)throw Error(z(349));fr&30||Am(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,qh(Wm.bind(null,r,i,t),[t]),r.flags|=2048,Ni(9,Dm.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=qt(),e=Ve.identifierPrefix;if(Ee){var n=ln,r=on;n=(r&~(1<<32-Gt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ci++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=zv++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Gv={readContext:Dt,useCallback:Um,useContext:Dt,useEffect:Vd,useImperativeHandle:$m,useInsertionEffect:zm,useLayoutEffect:Fm,useMemo:Gm,useReducer:Ta,useRef:Mm,useState:function(){return Ta(bi)},useDebugValue:Yd,useDeferredValue:function(t){var e=Wt();return Hm(e,Me.memoizedState,t)},useTransition:function(){var t=Ta(bi)[0],e=Wt().memoizedState;return[t,e]},useMutableSource:Im,useSyncExternalStore:Rm,useId:Vm,unstable_isNewReconciler:!1},Hv={readContext:Dt,useCallback:Um,useContext:Dt,useEffect:Vd,useImperativeHandle:$m,useInsertionEffect:zm,useLayoutEffect:Fm,useMemo:Gm,useReducer:Ia,useRef:Mm,useState:function(){return Ia(bi)},useDebugValue:Yd,useDeferredValue:function(t){var e=Wt();return Me===null?e.memoizedState=t:Hm(e,Me.memoizedState,t)},useTransition:function(){var t=Ia(bi)[0],e=Wt().memoizedState;return[t,e]},useMutableSource:Im,useSyncExternalStore:Rm,useId:Vm,unstable_isNewReconciler:!1};function zt(t,e){if(t&&t.defaultProps){e=Re({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Tc(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Re({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ll={isMounted:function(t){return(t=t._reactInternals)?kr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=lt(),s=On(t),i=cn(r,s);i.payload=e,n!=null&&(i.callback=n),e=Wn(t,i,s),e!==null&&(Ht(e,t,s,r),Ao(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=lt(),s=On(t),i=cn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Wn(t,i,s),e!==null&&(Ht(e,t,s,r),Ao(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=lt(),r=On(t),s=cn(n,r);s.tag=2,e!=null&&(s.callback=e),e=Wn(t,s,r),e!==null&&(Ht(e,t,r,n),Ao(e,t,r))}};function Jh(t,e,n,r,s,i,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,l):e.prototype&&e.prototype.isPureReactComponent?!xi(n,r)||!xi(s,i):!0}function Xm(t,e,n){var r=!1,s=Gn,i=e.contextType;return typeof i=="object"&&i!==null?i=Dt(i):(s=xt(e)?ur:rt.current,r=e.contextTypes,i=(r=r!=null)?rs(t,s):Gn),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ll,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Zh(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ll.enqueueReplaceState(e,e.state,null)}function Ic(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},zd(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Dt(i):(i=xt(e)?ur:rt.current,s.context=rs(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Tc(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ll.enqueueReplaceState(s,s.state,null),nl(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ls(t,e){try{var n="",r=e;do n+=vx(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Ra(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Rc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Vv=typeof WeakMap=="function"?WeakMap:Map;function qm(t,e,n){n=cn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ll||(ll=!0,$c=r),Rc(t,e)},n}function Jm(t,e,n){n=cn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Rc(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Rc(t,e),typeof r!="function"&&(Ln===null?Ln=new Set([this]):Ln.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function ef(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Vv;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=o_.bind(null,t,e,n),e.then(t,t))}function tf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function nf(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=cn(-1,1),e.tag=2,Wn(n,e,1))),n.lanes|=1),t)}var Yv=yn.ReactCurrentOwner,mt=!1;function it(t,e,n,r){e.child=t===null?Em(e,null,n,r):is(e,t.child,n,r)}function rf(t,e,n,r,s){n=n.render;var i=e.ref;return qr(e,s),r=Gd(t,e,n,r,i,s),n=Hd(),t!==null&&!mt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,pn(t,e,s)):(Ee&&n&&Rd(e),e.flags|=1,it(t,e,r,s),e.child)}function sf(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!tu(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Zm(t,e,i,r,s)):(t=zo(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:xi,n(l,r)&&t.ref===e.ref)return pn(t,e,s)}return e.flags|=1,t=Mn(i,r),t.ref=e.ref,t.return=e,e.child=t}function Zm(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(xi(i,r)&&t.ref===e.ref)if(mt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(mt=!0);else return e.lanes=t.lanes,pn(t,e,s)}return Ac(t,e,n,r,s)}function eg(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(Hr,wt),wt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ke(Hr,wt),wt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ke(Hr,wt),wt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ke(Hr,wt),wt|=r;return it(t,e,s,n),e.child}function tg(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ac(t,e,n,r,s){var i=xt(n)?ur:rt.current;return i=rs(e,i),qr(e,s),n=Gd(t,e,n,r,i,s),r=Hd(),t!==null&&!mt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,pn(t,e,s)):(Ee&&r&&Rd(e),e.flags|=1,it(t,e,n,s),e.child)}function of(t,e,n,r,s){if(xt(n)){var i=!0;qo(e)}else i=!1;if(qr(e,s),e.stateNode===null)Lo(t,e),Xm(e,n,r),Ic(e,n,r,s),r=!0;else if(t===null){var l=e.stateNode,a=e.memoizedProps;l.props=a;var c=l.context,d=n.contextType;typeof d=="object"&&d!==null?d=Dt(d):(d=xt(n)?ur:rt.current,d=rs(e,d));var f=n.getDerivedStateFromProps,u=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function";u||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==r||c!==d)&&Zh(e,l,r,d),bn=!1;var p=e.memoizedState;l.state=p,nl(e,r,l,s),c=e.memoizedState,a!==r||p!==c||yt.current||bn?(typeof f=="function"&&(Tc(e,n,f,r),c=e.memoizedState),(a=bn||Jh(e,n,a,r,p,c,d))?(u||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),l.props=r,l.state=c,l.context=d,r=a):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{l=e.stateNode,Pm(t,e),a=e.memoizedProps,d=e.type===e.elementType?a:zt(e.type,a),l.props=d,u=e.pendingProps,p=l.context,c=n.contextType,typeof c=="object"&&c!==null?c=Dt(c):(c=xt(n)?ur:rt.current,c=rs(e,c));var _=n.getDerivedStateFromProps;(f=typeof _=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==u||p!==c)&&Zh(e,l,r,c),bn=!1,p=e.memoizedState,l.state=p,nl(e,r,l,s);var k=e.memoizedState;a!==u||p!==k||yt.current||bn?(typeof _=="function"&&(Tc(e,n,_,r),k=e.memoizedState),(d=bn||Jh(e,n,d,r,p,k,c)||!1)?(f||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,k,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,k,c)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=k),l.props=r,l.state=k,l.context=c,r=d):(typeof l.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Dc(t,e,n,r,i,s)}function Dc(t,e,n,r,s,i){tg(t,e);var l=(e.flags&128)!==0;if(!r&&!l)return s&&Gh(e,n,!1),pn(t,e,i);r=e.stateNode,Yv.current=e;var a=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&l?(e.child=is(e,t.child,null,i),e.child=is(e,null,a,i)):it(t,e,a,i),e.memoizedState=r.state,s&&Gh(e,n,!0),e.child}function ng(t){var e=t.stateNode;e.pendingContext?Uh(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Uh(t,e.context,!1),Fd(t,e.containerInfo)}function lf(t,e,n,r,s){return ss(),Dd(s),e.flags|=256,it(t,e,n,r),e.child}var Wc={dehydrated:null,treeContext:null,retryLane:0};function Lc(t){return{baseLanes:t,cachePool:null,transitions:null}}function rg(t,e,n){var r=e.pendingProps,s=Te.current,i=!1,l=(e.flags&128)!==0,a;if((a=l)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ke(Te,s&1),t===null)return jc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=r.children,t=r.fallback,i?(r=e.mode,i=e.child,l={mode:"hidden",children:l},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=zl(l,r,0,null),t=dr(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Lc(n),e.memoizedState=Wc,t):Kd(e,l));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Kv(t,e,l,r,a,s,n);if(i){i=r.fallback,l=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(l&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Mn(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Mn(a,i):(i=dr(i,l,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,l=t.child.memoizedState,l=l===null?Lc(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=t.childLanes&~n,e.memoizedState=Wc,r}return i=t.child,t=i.sibling,r=Mn(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Kd(t,e){return e=zl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function wo(t,e,n,r){return r!==null&&Dd(r),is(e,t.child,null,n),t=Kd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Kv(t,e,n,r,s,i,l){if(n)return e.flags&256?(e.flags&=-257,r=Ra(Error(z(422))),wo(t,e,l,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=zl({mode:"visible",children:r.children},s,0,null),i=dr(i,s,l,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&is(e,t.child,null,l),e.child.memoizedState=Lc(l),e.memoizedState=Wc,i);if(!(e.mode&1))return wo(t,e,l,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(z(419)),r=Ra(i,r,void 0),wo(t,e,l,r)}if(a=(l&t.childLanes)!==0,mt||a){if(r=Ve,r!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|l)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,fn(t,s),Ht(r,t,s,-1))}return eu(),r=Ra(Error(z(421))),wo(t,e,l,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=l_.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,kt=Dn(s.nextSibling),St=e,Ee=!0,Bt=null,t!==null&&(Pt[Tt++]=on,Pt[Tt++]=ln,Pt[Tt++]=hr,on=t.id,ln=t.overflow,hr=e),e=Kd(e,r.children),e.flags|=4096,e)}function af(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Pc(t.return,e,n)}function Aa(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function sg(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(it(t,e,r.children,n),r=Te.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&af(t,n,e);else if(t.tag===19)af(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ke(Te,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&rl(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Aa(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&rl(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Aa(e,!0,n,null,i);break;case"together":Aa(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Lo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function pn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),pr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=Mn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Mn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Qv(t,e,n){switch(e.tag){case 3:ng(e),ss();break;case 5:Tm(e);break;case 1:xt(e.type)&&qo(e);break;case 4:Fd(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ke(el,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ke(Te,Te.current&1),e.flags|=128,null):n&e.child.childLanes?rg(t,e,n):(ke(Te,Te.current&1),t=pn(t,e,n),t!==null?t.sibling:null);ke(Te,Te.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return sg(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ke(Te,Te.current),r)break;return null;case 22:case 23:return e.lanes=0,eg(t,e,n)}return pn(t,e,n)}var ig,Oc,og,lg;ig=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Oc=function(){};og=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,lr(en.current);var i=null;switch(n){case"input":s=ic(t,s),r=ic(t,r),i=[];break;case"select":s=Re({},s,{value:void 0}),r=Re({},r,{value:void 0}),i=[];break;case"textarea":s=ac(t,s),r=ac(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Qo)}dc(n,r);var l;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(l in a)a.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ui.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(a=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==a&&(c!=null||a!=null))if(d==="style")if(a){for(l in a)!a.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&a[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ui.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ce("scroll",t),i||a===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};lg=function(t,e,n,r){n!==r&&(e.flags|=4)};function Fs(t,e){if(!Ee)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function tt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Xv(t,e,n){var r=e.pendingProps;switch(Ad(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(e),null;case 1:return xt(e.type)&&Xo(),tt(e),null;case 3:return r=e.stateNode,os(),Ne(yt),Ne(rt),$d(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(vo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Bt!==null&&(Hc(Bt),Bt=null))),Oc(t,e),tt(e),null;case 5:Bd(e);var s=lr(Si.current);if(n=e.type,t!==null&&e.stateNode!=null)og(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return tt(e),null}if(t=lr(en.current),vo(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Jt]=e,r[wi]=i,t=(e.mode&1)!==0,n){case"dialog":Ce("cancel",r),Ce("close",r);break;case"iframe":case"object":case"embed":Ce("load",r);break;case"video":case"audio":for(s=0;s<Xs.length;s++)Ce(Xs[s],r);break;case"source":Ce("error",r);break;case"img":case"image":case"link":Ce("error",r),Ce("load",r);break;case"details":Ce("toggle",r);break;case"input":gh(r,i),Ce("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ce("invalid",r);break;case"textarea":xh(r,i),Ce("invalid",r)}dc(n,i),s=null;for(var l in i)if(i.hasOwnProperty(l)){var a=i[l];l==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&xo(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&xo(r.textContent,a,t),s=["children",""+a]):ui.hasOwnProperty(l)&&a!=null&&l==="onScroll"&&Ce("scroll",r)}switch(n){case"input":co(r),yh(r,i,!0);break;case"textarea":co(r),vh(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Qo)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Wp(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),n==="select"&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[Jt]=e,t[wi]=r,ig(t,e,!1,!1),e.stateNode=t;e:{switch(l=uc(n,r),n){case"dialog":Ce("cancel",t),Ce("close",t),s=r;break;case"iframe":case"object":case"embed":Ce("load",t),s=r;break;case"video":case"audio":for(s=0;s<Xs.length;s++)Ce(Xs[s],t);s=r;break;case"source":Ce("error",t),s=r;break;case"img":case"image":case"link":Ce("error",t),Ce("load",t),s=r;break;case"details":Ce("toggle",t),s=r;break;case"input":gh(t,r),s=ic(t,r),Ce("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Re({},r,{value:void 0}),Ce("invalid",t);break;case"textarea":xh(t,r),s=ac(t,r),Ce("invalid",t);break;default:s=r}dc(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?Mp(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Lp(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&hi(t,c):typeof c=="number"&&hi(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ui.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ce("scroll",t):c!=null&&xd(t,i,c,l))}switch(n){case"input":co(t),yh(t,r,!1);break;case"textarea":co(t),vh(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Un(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Yr(t,!!r.multiple,i,!1):r.defaultValue!=null&&Yr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Qo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return tt(e),null;case 6:if(t&&e.stateNode!=null)lg(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=lr(Si.current),lr(en.current),vo(e)){if(r=e.stateNode,n=e.memoizedProps,r[Jt]=e,(i=r.nodeValue!==n)&&(t=St,t!==null))switch(t.tag){case 3:xo(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&xo(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Jt]=e,e.stateNode=r}return tt(e),null;case 13:if(Ne(Te),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ee&&kt!==null&&e.mode&1&&!(e.flags&128))bm(),ss(),e.flags|=98560,i=!1;else if(i=vo(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[Jt]=e}else ss(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;tt(e),i=!1}else Bt!==null&&(Hc(Bt),Bt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Te.current&1?Be===0&&(Be=3):eu())),e.updateQueue!==null&&(e.flags|=4),tt(e),null);case 4:return os(),Oc(t,e),t===null&&vi(e.stateNode.containerInfo),tt(e),null;case 10:return Od(e.type._context),tt(e),null;case 17:return xt(e.type)&&Xo(),tt(e),null;case 19:if(Ne(Te),i=e.memoizedState,i===null)return tt(e),null;if(r=(e.flags&128)!==0,l=i.rendering,l===null)if(r)Fs(i,!1);else{if(Be!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=rl(t),l!==null){for(e.flags|=128,Fs(i,!1),r=l.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,t=l.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ke(Te,Te.current&1|2),e.child}t=t.sibling}i.tail!==null&&Le()>as&&(e.flags|=128,r=!0,Fs(i,!1),e.lanes=4194304)}else{if(!r)if(t=rl(l),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Fs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!Ee)return tt(e),null}else 2*Le()-i.renderingStartTime>as&&n!==1073741824&&(e.flags|=128,r=!0,Fs(i,!1),e.lanes=4194304);i.isBackwards?(l.sibling=e.child,e.child=l):(n=i.last,n!==null?n.sibling=l:e.child=l,i.last=l)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Le(),e.sibling=null,n=Te.current,ke(Te,r?n&1|2:n&1),e):(tt(e),null);case 22:case 23:return Zd(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?wt&1073741824&&(tt(e),e.subtreeFlags&6&&(e.flags|=8192)):tt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function qv(t,e){switch(Ad(e),e.tag){case 1:return xt(e.type)&&Xo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return os(),Ne(yt),Ne(rt),$d(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Bd(e),null;case 13:if(Ne(Te),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));ss()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ne(Te),null;case 4:return os(),null;case 10:return Od(e.type._context),null;case 22:case 23:return Zd(),null;case 24:return null;default:return null}}var ko=!1,nt=!1,Jv=typeof WeakSet=="function"?WeakSet:Set,H=null;function Gr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ae(t,e,r)}else n.current=null}function Mc(t,e,n){try{n()}catch(r){Ae(t,e,r)}}var cf=!1;function Zv(t,e){if(wc=Vo,t=hm(),Id(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,a=-1,c=-1,d=0,f=0,u=t,p=null;t:for(;;){for(var _;u!==n||s!==0&&u.nodeType!==3||(a=l+s),u!==i||r!==0&&u.nodeType!==3||(c=l+r),u.nodeType===3&&(l+=u.nodeValue.length),(_=u.firstChild)!==null;)p=u,u=_;for(;;){if(u===t)break t;if(p===n&&++d===s&&(a=l),p===i&&++f===r&&(c=l),(_=u.nextSibling)!==null)break;u=p,p=u.parentNode}u=_}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(kc={focusedElem:t,selectionRange:n},Vo=!1,H=e;H!==null;)if(e=H,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,H=t;else for(;H!==null;){e=H;try{var k=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var R=k.memoizedProps,E=k.memoizedState,x=e.stateNode,y=x.getSnapshotBeforeUpdate(e.elementType===e.type?R:zt(e.type,R),E);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(v){Ae(e,e.return,v)}if(t=e.sibling,t!==null){t.return=e.return,H=t;break}H=e.return}return k=cf,cf=!1,k}function ri(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Mc(e,n,i)}s=s.next}while(s!==r)}}function Ol(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function zc(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function ag(t){var e=t.alternate;e!==null&&(t.alternate=null,ag(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Jt],delete e[wi],delete e[bc],delete e[Wv],delete e[Lv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function cg(t){return t.tag===5||t.tag===3||t.tag===4}function df(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||cg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Qo));else if(r!==4&&(t=t.child,t!==null))for(Fc(t,e,n),t=t.sibling;t!==null;)Fc(t,e,n),t=t.sibling}function Bc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Bc(t,e,n),t=t.sibling;t!==null;)Bc(t,e,n),t=t.sibling}var Ye=null,Ft=!1;function wn(t,e,n){for(n=n.child;n!==null;)dg(t,e,n),n=n.sibling}function dg(t,e,n){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(Pl,n)}catch{}switch(n.tag){case 5:nt||Gr(n,e);case 6:var r=Ye,s=Ft;Ye=null,wn(t,e,n),Ye=r,Ft=s,Ye!==null&&(Ft?(t=Ye,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ye.removeChild(n.stateNode));break;case 18:Ye!==null&&(Ft?(t=Ye,n=n.stateNode,t.nodeType===8?Na(t.parentNode,n):t.nodeType===1&&Na(t,n),gi(t)):Na(Ye,n.stateNode));break;case 4:r=Ye,s=Ft,Ye=n.stateNode.containerInfo,Ft=!0,wn(t,e,n),Ye=r,Ft=s;break;case 0:case 11:case 14:case 15:if(!nt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&Mc(n,e,l),s=s.next}while(s!==r)}wn(t,e,n);break;case 1:if(!nt&&(Gr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ae(n,e,a)}wn(t,e,n);break;case 21:wn(t,e,n);break;case 22:n.mode&1?(nt=(r=nt)||n.memoizedState!==null,wn(t,e,n),nt=r):wn(t,e,n);break;default:wn(t,e,n)}}function uf(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Jv),e.forEach(function(r){var s=a_.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Mt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,l=e,a=l;e:for(;a!==null;){switch(a.tag){case 5:Ye=a.stateNode,Ft=!1;break e;case 3:Ye=a.stateNode.containerInfo,Ft=!0;break e;case 4:Ye=a.stateNode.containerInfo,Ft=!0;break e}a=a.return}if(Ye===null)throw Error(z(160));dg(i,l,s),Ye=null,Ft=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){Ae(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ug(e,t),e=e.sibling}function ug(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Mt(e,t),Xt(t),r&4){try{ri(3,t,t.return),Ol(3,t)}catch(R){Ae(t,t.return,R)}try{ri(5,t,t.return)}catch(R){Ae(t,t.return,R)}}break;case 1:Mt(e,t),Xt(t),r&512&&n!==null&&Gr(n,n.return);break;case 5:if(Mt(e,t),Xt(t),r&512&&n!==null&&Gr(n,n.return),t.flags&32){var s=t.stateNode;try{hi(s,"")}catch(R){Ae(t,t.return,R)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,l=n!==null?n.memoizedProps:i,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Ap(s,i),uc(a,l);var d=uc(a,i);for(l=0;l<c.length;l+=2){var f=c[l],u=c[l+1];f==="style"?Mp(s,u):f==="dangerouslySetInnerHTML"?Lp(s,u):f==="children"?hi(s,u):xd(s,f,u,d)}switch(a){case"input":oc(s,i);break;case"textarea":Dp(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var _=i.value;_!=null?Yr(s,!!i.multiple,_,!1):p!==!!i.multiple&&(i.defaultValue!=null?Yr(s,!!i.multiple,i.defaultValue,!0):Yr(s,!!i.multiple,i.multiple?[]:"",!1))}s[wi]=i}catch(R){Ae(t,t.return,R)}}break;case 6:if(Mt(e,t),Xt(t),r&4){if(t.stateNode===null)throw Error(z(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(R){Ae(t,t.return,R)}}break;case 3:if(Mt(e,t),Xt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{gi(e.containerInfo)}catch(R){Ae(t,t.return,R)}break;case 4:Mt(e,t),Xt(t);break;case 13:Mt(e,t),Xt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(qd=Le())),r&4&&uf(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(nt=(d=nt)||f,Mt(e,t),nt=d):Mt(e,t),Xt(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!f&&t.mode&1)for(H=t,f=t.child;f!==null;){for(u=H=f;H!==null;){switch(p=H,_=p.child,p.tag){case 0:case 11:case 14:case 15:ri(4,p,p.return);break;case 1:Gr(p,p.return);var k=p.stateNode;if(typeof k.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,k.props=e.memoizedProps,k.state=e.memoizedState,k.componentWillUnmount()}catch(R){Ae(r,n,R)}}break;case 5:Gr(p,p.return);break;case 22:if(p.memoizedState!==null){ff(u);continue}}_!==null?(_.return=p,H=_):ff(u)}f=f.sibling}e:for(f=null,u=t;;){if(u.tag===5){if(f===null){f=u;try{s=u.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=u.stateNode,c=u.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=Op("display",l))}catch(R){Ae(t,t.return,R)}}}else if(u.tag===6){if(f===null)try{u.stateNode.nodeValue=d?"":u.memoizedProps}catch(R){Ae(t,t.return,R)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===t)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;f===u&&(f=null),u=u.return}f===u&&(f=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:Mt(e,t),Xt(t),r&4&&uf(t);break;case 21:break;default:Mt(e,t),Xt(t)}}function Xt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(cg(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(hi(s,""),r.flags&=-33);var i=df(t);Bc(t,i,s);break;case 3:case 4:var l=r.stateNode.containerInfo,a=df(t);Fc(t,a,l);break;default:throw Error(z(161))}}catch(c){Ae(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function e_(t,e,n){H=t,hg(t)}function hg(t,e,n){for(var r=(t.mode&1)!==0;H!==null;){var s=H,i=s.child;if(s.tag===22&&r){var l=s.memoizedState!==null||ko;if(!l){var a=s.alternate,c=a!==null&&a.memoizedState!==null||nt;a=ko;var d=nt;if(ko=l,(nt=c)&&!d)for(H=s;H!==null;)l=H,c=l.child,l.tag===22&&l.memoizedState!==null?pf(s):c!==null?(c.return=l,H=c):pf(s);for(;i!==null;)H=i,hg(i),i=i.sibling;H=s,ko=a,nt=d}hf(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,H=i):hf(t)}}function hf(t){for(;H!==null;){var e=H;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:nt||Ol(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!nt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:zt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Qh(e,i,r);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Qh(e,l,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var u=f.dehydrated;u!==null&&gi(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}nt||e.flags&512&&zc(e)}catch(p){Ae(e,e.return,p)}}if(e===t){H=null;break}if(n=e.sibling,n!==null){n.return=e.return,H=n;break}H=e.return}}function ff(t){for(;H!==null;){var e=H;if(e===t){H=null;break}var n=e.sibling;if(n!==null){n.return=e.return,H=n;break}H=e.return}}function pf(t){for(;H!==null;){var e=H;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ol(4,e)}catch(c){Ae(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Ae(e,s,c)}}var i=e.return;try{zc(e)}catch(c){Ae(e,i,c)}break;case 5:var l=e.return;try{zc(e)}catch(c){Ae(e,l,c)}}}catch(c){Ae(e,e.return,c)}if(e===t){H=null;break}var a=e.sibling;if(a!==null){a.return=e.return,H=a;break}H=e.return}}var t_=Math.ceil,ol=yn.ReactCurrentDispatcher,Qd=yn.ReactCurrentOwner,At=yn.ReactCurrentBatchConfig,de=0,Ve=null,Oe=null,Qe=0,wt=0,Hr=Xn(0),Be=0,Ei=null,pr=0,Ml=0,Xd=0,si=null,pt=null,qd=0,as=1/0,rn=null,ll=!1,$c=null,Ln=null,So=!1,Pn=null,al=0,ii=0,Uc=null,Oo=-1,Mo=0;function lt(){return de&6?Le():Oo!==-1?Oo:Oo=Le()}function On(t){return t.mode&1?de&2&&Qe!==0?Qe&-Qe:Mv.transition!==null?(Mo===0&&(Mo=Xp()),Mo):(t=pe,t!==0||(t=window.event,t=t===void 0?16:rm(t.type)),t):1}function Ht(t,e,n,r){if(50<ii)throw ii=0,Uc=null,Error(z(185));Bi(t,n,r),(!(de&2)||t!==Ve)&&(t===Ve&&(!(de&2)&&(Ml|=n),Be===4&&En(t,Qe)),vt(t,r),n===1&&de===0&&!(e.mode&1)&&(as=Le()+500,Dl&&qn()))}function vt(t,e){var n=t.callbackNode;Mx(t,e);var r=Ho(t,t===Ve?Qe:0);if(r===0)n!==null&&kh(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&kh(n),e===1)t.tag===0?Ov(mf.bind(null,t)):km(mf.bind(null,t)),Av(function(){!(de&6)&&qn()}),n=null;else{switch(qp(r)){case 1:n=Sd;break;case 4:n=Kp;break;case 16:n=Go;break;case 536870912:n=Qp;break;default:n=Go}n=_g(n,fg.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function fg(t,e){if(Oo=-1,Mo=0,de&6)throw Error(z(327));var n=t.callbackNode;if(Jr()&&t.callbackNode!==n)return null;var r=Ho(t,t===Ve?Qe:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=cl(t,r);else{e=r;var s=de;de|=2;var i=mg();(Ve!==t||Qe!==e)&&(rn=null,as=Le()+500,cr(t,e));do try{s_();break}catch(a){pg(t,a)}while(!0);Ld(),ol.current=i,de=s,Oe!==null?e=0:(Ve=null,Qe=0,e=Be)}if(e!==0){if(e===2&&(s=gc(t),s!==0&&(r=s,e=Gc(t,s))),e===1)throw n=Ei,cr(t,0),En(t,r),vt(t,Le()),n;if(e===6)En(t,r);else{if(s=t.current.alternate,!(r&30)&&!n_(s)&&(e=cl(t,r),e===2&&(i=gc(t),i!==0&&(r=i,e=Gc(t,i))),e===1))throw n=Ei,cr(t,0),En(t,r),vt(t,Le()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:nr(t,pt,rn);break;case 3:if(En(t,r),(r&130023424)===r&&(e=qd+500-Le(),10<e)){if(Ho(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){lt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Cc(nr.bind(null,t,pt,rn),e);break}nr(t,pt,rn);break;case 4:if(En(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var l=31-Gt(r);i=1<<l,l=e[l],l>s&&(s=l),r&=~i}if(r=s,r=Le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*t_(r/1960))-r,10<r){t.timeoutHandle=Cc(nr.bind(null,t,pt,rn),r);break}nr(t,pt,rn);break;case 5:nr(t,pt,rn);break;default:throw Error(z(329))}}}return vt(t,Le()),t.callbackNode===n?fg.bind(null,t):null}function Gc(t,e){var n=si;return t.current.memoizedState.isDehydrated&&(cr(t,e).flags|=256),t=cl(t,e),t!==2&&(e=pt,pt=n,e!==null&&Hc(e)),t}function Hc(t){pt===null?pt=t:pt.push.apply(pt,t)}function n_(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Yt(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function En(t,e){for(e&=~Xd,e&=~Ml,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Gt(e),r=1<<n;t[n]=-1,e&=~r}}function mf(t){if(de&6)throw Error(z(327));Jr();var e=Ho(t,0);if(!(e&1))return vt(t,Le()),null;var n=cl(t,e);if(t.tag!==0&&n===2){var r=gc(t);r!==0&&(e=r,n=Gc(t,r))}if(n===1)throw n=Ei,cr(t,0),En(t,e),vt(t,Le()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,nr(t,pt,rn),vt(t,Le()),null}function Jd(t,e){var n=de;de|=1;try{return t(e)}finally{de=n,de===0&&(as=Le()+500,Dl&&qn())}}function mr(t){Pn!==null&&Pn.tag===0&&!(de&6)&&Jr();var e=de;de|=1;var n=At.transition,r=pe;try{if(At.transition=null,pe=1,t)return t()}finally{pe=r,At.transition=n,de=e,!(de&6)&&qn()}}function Zd(){wt=Hr.current,Ne(Hr)}function cr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Rv(n)),Oe!==null)for(n=Oe.return;n!==null;){var r=n;switch(Ad(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xo();break;case 3:os(),Ne(yt),Ne(rt),$d();break;case 5:Bd(r);break;case 4:os();break;case 13:Ne(Te);break;case 19:Ne(Te);break;case 10:Od(r.type._context);break;case 22:case 23:Zd()}n=n.return}if(Ve=t,Oe=t=Mn(t.current,null),Qe=wt=e,Be=0,Ei=null,Xd=Ml=pr=0,pt=si=null,or!==null){for(e=0;e<or.length;e++)if(n=or[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var l=i.next;i.next=s,r.next=l}n.pending=r}or=null}return t}function pg(t,e){do{var n=Oe;try{if(Ld(),Do.current=il,sl){for(var r=Ie.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}sl=!1}if(fr=0,Ge=Me=Ie=null,ni=!1,Ci=0,Qd.current=null,n===null||n.return===null){Be=1,Ei=e,Oe=null;break}e:{var i=t,l=n.return,a=n,c=e;if(e=Qe,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,f=a,u=f.tag;if(!(f.mode&1)&&(u===0||u===11||u===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var _=tf(l);if(_!==null){_.flags&=-257,nf(_,l,a,i,e),_.mode&1&&ef(i,d,e),e=_,c=d;var k=e.updateQueue;if(k===null){var R=new Set;R.add(c),e.updateQueue=R}else k.add(c);break e}else{if(!(e&1)){ef(i,d,e),eu();break e}c=Error(z(426))}}else if(Ee&&a.mode&1){var E=tf(l);if(E!==null){!(E.flags&65536)&&(E.flags|=256),nf(E,l,a,i,e),Dd(ls(c,a));break e}}i=c=ls(c,a),Be!==4&&(Be=2),si===null?si=[i]:si.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=qm(i,c,e);Kh(i,x);break e;case 1:a=c;var y=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ln===null||!Ln.has(S)))){i.flags|=65536,e&=-e,i.lanes|=e;var v=Jm(i,a,e);Kh(i,v);break e}}i=i.return}while(i!==null)}yg(n)}catch(N){e=N,Oe===n&&n!==null&&(Oe=n=n.return);continue}break}while(!0)}function mg(){var t=ol.current;return ol.current=il,t===null?il:t}function eu(){(Be===0||Be===3||Be===2)&&(Be=4),Ve===null||!(pr&268435455)&&!(Ml&268435455)||En(Ve,Qe)}function cl(t,e){var n=de;de|=2;var r=mg();(Ve!==t||Qe!==e)&&(rn=null,cr(t,e));do try{r_();break}catch(s){pg(t,s)}while(!0);if(Ld(),de=n,ol.current=r,Oe!==null)throw Error(z(261));return Ve=null,Qe=0,Be}function r_(){for(;Oe!==null;)gg(Oe)}function s_(){for(;Oe!==null&&!Px();)gg(Oe)}function gg(t){var e=vg(t.alternate,t,wt);t.memoizedProps=t.pendingProps,e===null?yg(t):Oe=e,Qd.current=null}function yg(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=qv(n,e),n!==null){n.flags&=32767,Oe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Be=6,Oe=null;return}}else if(n=Xv(n,e,wt),n!==null){Oe=n;return}if(e=e.sibling,e!==null){Oe=e;return}Oe=e=t}while(e!==null);Be===0&&(Be=5)}function nr(t,e,n){var r=pe,s=At.transition;try{At.transition=null,pe=1,i_(t,e,n,r)}finally{At.transition=s,pe=r}return null}function i_(t,e,n,r){do Jr();while(Pn!==null);if(de&6)throw Error(z(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(zx(t,i),t===Ve&&(Oe=Ve=null,Qe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||So||(So=!0,_g(Go,function(){return Jr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=At.transition,At.transition=null;var l=pe;pe=1;var a=de;de|=4,Qd.current=null,Zv(t,n),ug(n,t),bv(kc),Vo=!!wc,kc=wc=null,t.current=n,e_(n),Tx(),de=a,pe=l,At.transition=i}else t.current=n;if(So&&(So=!1,Pn=t,al=s),i=t.pendingLanes,i===0&&(Ln=null),Ax(n.stateNode),vt(t,Le()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ll)throw ll=!1,t=$c,$c=null,t;return al&1&&t.tag!==0&&Jr(),i=t.pendingLanes,i&1?t===Uc?ii++:(ii=0,Uc=t):ii=0,qn(),null}function Jr(){if(Pn!==null){var t=qp(al),e=At.transition,n=pe;try{if(At.transition=null,pe=16>t?16:t,Pn===null)var r=!1;else{if(t=Pn,Pn=null,al=0,de&6)throw Error(z(331));var s=de;for(de|=4,H=t.current;H!==null;){var i=H,l=i.child;if(H.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var d=a[c];for(H=d;H!==null;){var f=H;switch(f.tag){case 0:case 11:case 15:ri(8,f,i)}var u=f.child;if(u!==null)u.return=f,H=u;else for(;H!==null;){f=H;var p=f.sibling,_=f.return;if(ag(f),f===d){H=null;break}if(p!==null){p.return=_,H=p;break}H=_}}}var k=i.alternate;if(k!==null){var R=k.child;if(R!==null){k.child=null;do{var E=R.sibling;R.sibling=null,R=E}while(R!==null)}}H=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,H=l;else e:for(;H!==null;){if(i=H,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ri(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,H=x;break e}H=i.return}}var y=t.current;for(H=y;H!==null;){l=H;var S=l.child;if(l.subtreeFlags&2064&&S!==null)S.return=l,H=S;else e:for(l=y;H!==null;){if(a=H,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ol(9,a)}}catch(N){Ae(a,a.return,N)}if(a===l){H=null;break e}var v=a.sibling;if(v!==null){v.return=a.return,H=v;break e}H=a.return}}if(de=s,qn(),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(Pl,t)}catch{}r=!0}return r}finally{pe=n,At.transition=e}}return!1}function gf(t,e,n){e=ls(n,e),e=qm(t,e,1),t=Wn(t,e,1),e=lt(),t!==null&&(Bi(t,1,e),vt(t,e))}function Ae(t,e,n){if(t.tag===3)gf(t,t,n);else for(;e!==null;){if(e.tag===3){gf(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ln===null||!Ln.has(r))){t=ls(n,t),t=Jm(e,t,1),e=Wn(e,t,1),t=lt(),e!==null&&(Bi(e,1,t),vt(e,t));break}}e=e.return}}function o_(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=lt(),t.pingedLanes|=t.suspendedLanes&n,Ve===t&&(Qe&n)===n&&(Be===4||Be===3&&(Qe&130023424)===Qe&&500>Le()-qd?cr(t,0):Xd|=n),vt(t,e)}function xg(t,e){e===0&&(t.mode&1?(e=fo,fo<<=1,!(fo&130023424)&&(fo=4194304)):e=1);var n=lt();t=fn(t,e),t!==null&&(Bi(t,e,n),vt(t,n))}function l_(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),xg(t,n)}function a_(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),xg(t,n)}var vg;vg=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||yt.current)mt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return mt=!1,Qv(t,e,n);mt=!!(t.flags&131072)}else mt=!1,Ee&&e.flags&1048576&&Sm(e,Zo,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Lo(t,e),t=e.pendingProps;var s=rs(e,rt.current);qr(e,n),s=Gd(null,e,r,t,s,n);var i=Hd();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xt(r)?(i=!0,qo(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,zd(e),s.updater=Ll,e.stateNode=s,s._reactInternals=e,Ic(e,r,t,n),e=Dc(null,e,r,!0,i,n)):(e.tag=0,Ee&&i&&Rd(e),it(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Lo(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=d_(r),t=zt(r,t),s){case 0:e=Ac(null,e,r,t,n);break e;case 1:e=of(null,e,r,t,n);break e;case 11:e=rf(null,e,r,t,n);break e;case 14:e=sf(null,e,r,zt(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:zt(r,s),Ac(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:zt(r,s),of(t,e,r,s,n);case 3:e:{if(ng(e),t===null)throw Error(z(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Pm(t,e),nl(e,r,null,n);var l=e.memoizedState;if(r=l.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ls(Error(z(423)),e),e=lf(t,e,r,n,s);break e}else if(r!==s){s=ls(Error(z(424)),e),e=lf(t,e,r,n,s);break e}else for(kt=Dn(e.stateNode.containerInfo.firstChild),St=e,Ee=!0,Bt=null,n=Em(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ss(),r===s){e=pn(t,e,n);break e}it(t,e,r,n)}e=e.child}return e;case 5:return Tm(e),t===null&&jc(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,l=s.children,Sc(r,s)?l=null:i!==null&&Sc(r,i)&&(e.flags|=32),tg(t,e),it(t,e,l,n),e.child;case 6:return t===null&&jc(e),null;case 13:return rg(t,e,n);case 4:return Fd(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=is(e,null,r,n):it(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:zt(r,s),rf(t,e,r,s,n);case 7:return it(t,e,e.pendingProps,n),e.child;case 8:return it(t,e,e.pendingProps.children,n),e.child;case 12:return it(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,l=s.value,ke(el,r._currentValue),r._currentValue=l,i!==null)if(Yt(i.value,l)){if(i.children===s.children&&!yt.current){e=pn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){l=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=cn(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?c.next=c:(c.next=f.next,f.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Pc(i.return,n,e),a.lanes|=n;break}c=c.next}}else if(i.tag===10)l=i.type===e.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(z(341));l.lanes|=n,a=l.alternate,a!==null&&(a.lanes|=n),Pc(l,n,e),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===e){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}it(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,qr(e,n),s=Dt(s),r=r(s),e.flags|=1,it(t,e,r,n),e.child;case 14:return r=e.type,s=zt(r,e.pendingProps),s=zt(r.type,s),sf(t,e,r,s,n);case 15:return Zm(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:zt(r,s),Lo(t,e),e.tag=1,xt(r)?(t=!0,qo(e)):t=!1,qr(e,n),Xm(e,r,s),Ic(e,r,s,n),Dc(null,e,r,!0,t,n);case 19:return sg(t,e,n);case 22:return eg(t,e,n)}throw Error(z(156,e.tag))};function _g(t,e){return Yp(t,e)}function c_(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(t,e,n,r){return new c_(t,e,n,r)}function tu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function d_(t){if(typeof t=="function")return tu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===_d)return 11;if(t===wd)return 14}return 2}function Mn(t,e){var n=t.alternate;return n===null?(n=It(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function zo(t,e,n,r,s,i){var l=2;if(r=t,typeof t=="function")tu(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case Wr:return dr(n.children,s,i,e);case vd:l=8,s|=8;break;case tc:return t=It(12,n,e,s|2),t.elementType=tc,t.lanes=i,t;case nc:return t=It(13,n,e,s),t.elementType=nc,t.lanes=i,t;case rc:return t=It(19,n,e,s),t.elementType=rc,t.lanes=i,t;case Tp:return zl(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case jp:l=10;break e;case Pp:l=9;break e;case _d:l=11;break e;case wd:l=14;break e;case Cn:l=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=It(l,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function dr(t,e,n,r){return t=It(7,t,r,e),t.lanes=n,t}function zl(t,e,n,r){return t=It(22,t,r,e),t.elementType=Tp,t.lanes=n,t.stateNode={isHidden:!1},t}function Da(t,e,n){return t=It(6,t,null,e),t.lanes=n,t}function Wa(t,e,n){return e=It(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function u_(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ma(0),this.expirationTimes=ma(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ma(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function nu(t,e,n,r,s,i,l,a,c){return t=new u_(t,e,n,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=It(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zd(i),t}function h_(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Dr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function wg(t){if(!t)return Gn;t=t._reactInternals;e:{if(kr(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(xt(n))return wm(t,n,e)}return e}function kg(t,e,n,r,s,i,l,a,c){return t=nu(n,r,!0,t,s,i,l,a,c),t.context=wg(null),n=t.current,r=lt(),s=On(n),i=cn(r,s),i.callback=e??null,Wn(n,i,s),t.current.lanes=s,Bi(t,s,r),vt(t,r),t}function Fl(t,e,n,r){var s=e.current,i=lt(),l=On(s);return n=wg(n),e.context===null?e.context=n:e.pendingContext=n,e=cn(i,l),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Wn(s,e,l),t!==null&&(Ht(t,s,l,i),Ao(t,s,l)),l}function dl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function yf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ru(t,e){yf(t,e),(t=t.alternate)&&yf(t,e)}function f_(){return null}var Sg=typeof reportError=="function"?reportError:function(t){console.error(t)};function su(t){this._internalRoot=t}Bl.prototype.render=su.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));Fl(t,e,null,null)};Bl.prototype.unmount=su.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;mr(function(){Fl(null,t,null,null)}),e[hn]=null}};function Bl(t){this._internalRoot=t}Bl.prototype.unstable_scheduleHydration=function(t){if(t){var e=em();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Nn.length&&e!==0&&e<Nn[n].priority;n++);Nn.splice(n,0,t),n===0&&nm(t)}};function iu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function $l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function xf(){}function p_(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=dl(l);i.call(d)}}var l=kg(e,r,t,0,null,!1,!1,"",xf);return t._reactRootContainer=l,t[hn]=l.current,vi(t.nodeType===8?t.parentNode:t),mr(),l}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var d=dl(c);a.call(d)}}var c=nu(t,0,!1,null,null,!1,!1,"",xf);return t._reactRootContainer=c,t[hn]=c.current,vi(t.nodeType===8?t.parentNode:t),mr(function(){Fl(e,c,n,r)}),c}function Ul(t,e,n,r,s){var i=n._reactRootContainer;if(i){var l=i;if(typeof s=="function"){var a=s;s=function(){var c=dl(l);a.call(c)}}Fl(e,l,t,s)}else l=p_(n,e,t,s,r);return dl(l)}Jp=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Qs(e.pendingLanes);n!==0&&(Cd(e,n|1),vt(e,Le()),!(de&6)&&(as=Le()+500,qn()))}break;case 13:mr(function(){var r=fn(t,1);if(r!==null){var s=lt();Ht(r,t,1,s)}}),ru(t,1)}};bd=function(t){if(t.tag===13){var e=fn(t,134217728);if(e!==null){var n=lt();Ht(e,t,134217728,n)}ru(t,134217728)}};Zp=function(t){if(t.tag===13){var e=On(t),n=fn(t,e);if(n!==null){var r=lt();Ht(n,t,e,r)}ru(t,e)}};em=function(){return pe};tm=function(t,e){var n=pe;try{return pe=t,e()}finally{pe=n}};fc=function(t,e,n){switch(e){case"input":if(oc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Al(r);if(!s)throw Error(z(90));Rp(r),oc(r,s)}}}break;case"textarea":Dp(t,n);break;case"select":e=n.value,e!=null&&Yr(t,!!n.multiple,e,!1)}};Bp=Jd;$p=mr;var m_={usingClientEntryPoint:!1,Events:[Ui,zr,Al,zp,Fp,Jd]},Bs={findFiberByHostInstance:ir,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},g_={bundleType:Bs.bundleType,version:Bs.version,rendererPackageName:Bs.rendererPackageName,rendererConfig:Bs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Hp(t),t===null?null:t.stateNode},findFiberByHostInstance:Bs.findFiberByHostInstance||f_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Co=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Co.isDisabled&&Co.supportsFiber)try{Pl=Co.inject(g_),Zt=Co}catch{}}bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=m_;bt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!iu(e))throw Error(z(200));return h_(t,e,null,n)};bt.createRoot=function(t,e){if(!iu(t))throw Error(z(299));var n=!1,r="",s=Sg;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=nu(t,1,!1,null,null,n,!1,r,s),t[hn]=e.current,vi(t.nodeType===8?t.parentNode:t),new su(e)};bt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=Hp(e),t=t===null?null:t.stateNode,t};bt.flushSync=function(t){return mr(t)};bt.hydrate=function(t,e,n){if(!$l(e))throw Error(z(200));return Ul(null,t,e,!0,n)};bt.hydrateRoot=function(t,e,n){if(!iu(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",l=Sg;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=kg(e,null,t,1,n??null,s,!1,i,l),t[hn]=e.current,vi(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Bl(e)};bt.render=function(t,e,n){if(!$l(e))throw Error(z(200));return Ul(null,t,e,!1,n)};bt.unmountComponentAtNode=function(t){if(!$l(t))throw Error(z(40));return t._reactRootContainer?(mr(function(){Ul(null,null,t,!1,function(){t._reactRootContainer=null,t[hn]=null})}),!0):!1};bt.unstable_batchedUpdates=Jd;bt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!$l(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return Ul(t,e,n,!1,r)};bt.version="18.3.1-next-f1338f8080-20240426";function Cg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Cg)}catch(t){console.error(t)}}Cg(),Cp.exports=bt;var y_=Cp.exports,vf=y_;Za.createRoot=vf.createRoot,Za.hydrateRoot=vf.hydrateRoot;var _f={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F=function(t,e){if(!t)throw xs(e)},xs=function(t){return new Error("Firebase Database ("+bg.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},x_=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],l=t[n++],a=t[n++],c=((s&7)<<18|(i&63)<<12|(l&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|l&63)}}return e.join("")},ou={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],l=s+1<t.length,a=l?t[s+1]:0,c=s+2<t.length,d=c?t[s+2]:0,f=i>>2,u=(i&3)<<4|a>>4;let p=(a&15)<<2|d>>6,_=d&63;c||(_=64,l||(p=64)),r.push(n[f],n[u],n[p],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ng(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):x_(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const u=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||d==null||u==null)throw new v_;const p=i<<2|a>>4;if(r.push(p),d!==64){const _=a<<4&240|d>>2;if(r.push(_),u!==64){const k=d<<6&192|u;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class v_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Eg=function(t){const e=Ng(t);return ou.encodeByteArray(e,!0)},ul=function(t){return Eg(t).replace(/\./g,"")},Vc=function(t){try{return ou.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(t){return jg(void 0,t)}function jg(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!w_(n)||(t[n]=jg(t[n],e[n]));return t}function w_(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_=()=>k_().__FIREBASE_DEFAULTS__,C_=()=>{if(typeof process>"u"||typeof _f>"u")return;const t=_f.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},b_=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Vc(t[1]);return e&&JSON.parse(e)},Pg=()=>{try{return S_()||C_()||b_()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},N_=t=>{var e,n;return(n=(e=Pg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},E_=t=>{const e=N_(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Tg=()=>{var t;return(t=Pg())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ul(JSON.stringify(n)),ul(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ig(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(P_())}function T_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function I_(){return bg.NODE_ADMIN===!0}function R_(){try{return typeof indexedDB=="object"}catch{return!1}}function A_(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="FirebaseError";class Vi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=D_,Object.setPrototypeOf(this,Vi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rg.prototype.create)}}class Rg{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],l=i?W_(i,r):"Error",a=`${this.serviceName}: ${l} (${s}).`;return new Vi(s,a,r)}}function W_(t,e){return t.replace(L_,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const L_=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(t){return JSON.parse(t)}function Fe(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag=function(t){let e={},n={},r={},s="";try{const i=t.split(".");e=ji(Vc(i[0])||""),n=ji(Vc(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},O_=function(t){const e=Ag(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},M_=function(t){const e=Ag(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function cs(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function wf(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function hl(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function Yc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],l=e[s];if(kf(i)&&kf(l)){if(!Yc(i,l))return!1}else if(i!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function kf(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let u=0;u<16;u++)r[u]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let u=0;u<16;u++)r[u]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let u=16;u<80;u++){const p=r[u-3]^r[u-8]^r[u-14]^r[u-16];r[u]=(p<<1|p>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],l=this.chain_[2],a=this.chain_[3],c=this.chain_[4],d,f;for(let u=0;u<80;u++){u<40?u<20?(d=a^i&(l^a),f=1518500249):(d=i^l^a,f=1859775393):u<60?(d=i&l|a&(i|l),f=2400959708):(d=i^l^a,f=3395469782);const p=(s<<5|s>>>27)+d+c+f+r[u]&4294967295;c=a,a=l,l=(i<<30|i>>>2)&4294967295,i=s,s=p}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const i=this.buf_;let l=this.inbuf_;for(;s<n;){if(l===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(i[l]=e.charCodeAt(s),++l,++s,l===this.blockSize){this.compress_(i),l=0;break}}else for(;s<n;)if(i[l]=e[s],++l,++s,l===this.blockSize){this.compress_(i),l=0;break}}this.inbuf_=l,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function Gl(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,F(r<t.length,"Surrogate pair missing trail surrogate.");const l=t.charCodeAt(r)-56320;s=65536+(i<<10)+l}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Hl=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(t){return t&&t._delegate?t._delegate:t}class Pi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Hi;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(G_(e))try{this.getOrInitializeService({instanceIdentifier:rr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=rr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=rr){return this.instances.has(e)}getOptions(e=rr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,l]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&l.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const l=this.instances.get(s);return l&&e(l,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:U_(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=rr){return this.component?this.component.multipleInstances?e:rr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function U_(t){return t===rr?void 0:t}function G_(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(_e||(_e={}));const V_={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},Y_=_e.INFO,K_={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},Q_=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=K_[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dg{constructor(e){this.name=e,this._logLevel=Y_,this._logHandler=Q_,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?V_[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}}const X_=(t,e)=>e.some(n=>t instanceof n);let Sf,Cf;function q_(){return Sf||(Sf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function J_(){return Cf||(Cf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Wg=new WeakMap,Kc=new WeakMap,Lg=new WeakMap,La=new WeakMap,lu=new WeakMap;function Z_(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",l)},i=()=>{n(zn(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&Wg.set(n,t)}).catch(()=>{}),lu.set(e,t),e}function ew(t){if(Kc.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",l),t.removeEventListener("abort",l)},i=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",l),t.addEventListener("abort",l)});Kc.set(t,e)}let Qc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Kc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Lg.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function tw(t){Qc=t(Qc)}function nw(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Oa(this),e,...n);return Lg.set(r,e.sort?e.sort():[e]),zn(r)}:J_().includes(t)?function(...e){return t.apply(Oa(this),e),zn(Wg.get(this))}:function(...e){return zn(t.apply(Oa(this),e))}}function rw(t){return typeof t=="function"?nw(t):(t instanceof IDBTransaction&&ew(t),X_(t,q_())?new Proxy(t,Qc):t)}function zn(t){if(t instanceof IDBRequest)return Z_(t);if(La.has(t))return La.get(t);const e=rw(t);return e!==t&&(La.set(t,e),lu.set(e,t)),e}const Oa=t=>lu.get(t);function sw(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const l=indexedDB.open(t,e),a=zn(l);return r&&l.addEventListener("upgradeneeded",c=>{r(zn(l.result),c.oldVersion,c.newVersion,zn(l.transaction),c)}),n&&l.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const iw=["get","getKey","getAll","getAllKeys","count"],ow=["put","add","delete","clear"],Ma=new Map;function bf(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ma.get(e))return Ma.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=ow.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||iw.includes(n)))return;const i=async function(l,...a){const c=this.transaction(l,s?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(a.shift())),(await Promise.all([d[n](...a),s&&c.done]))[0]};return Ma.set(e,i),i}tw(t=>({...t,get:(e,n,r)=>bf(e,n)||t.get(e,n,r),has:(e,n)=>!!bf(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(aw(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function aw(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xc="@firebase/app",Nf="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn=new Dg("@firebase/app"),cw="@firebase/app-compat",dw="@firebase/analytics-compat",uw="@firebase/analytics",hw="@firebase/app-check-compat",fw="@firebase/app-check",pw="@firebase/auth",mw="@firebase/auth-compat",gw="@firebase/database",yw="@firebase/data-connect",xw="@firebase/database-compat",vw="@firebase/functions",_w="@firebase/functions-compat",ww="@firebase/installations",kw="@firebase/installations-compat",Sw="@firebase/messaging",Cw="@firebase/messaging-compat",bw="@firebase/performance",Nw="@firebase/performance-compat",Ew="@firebase/remote-config",jw="@firebase/remote-config-compat",Pw="@firebase/storage",Tw="@firebase/storage-compat",Iw="@firebase/firestore",Rw="@firebase/vertexai-preview",Aw="@firebase/firestore-compat",Dw="firebase",Ww="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc="[DEFAULT]",Lw={[Xc]:"fire-core",[cw]:"fire-core-compat",[uw]:"fire-analytics",[dw]:"fire-analytics-compat",[fw]:"fire-app-check",[hw]:"fire-app-check-compat",[pw]:"fire-auth",[mw]:"fire-auth-compat",[gw]:"fire-rtdb",[yw]:"fire-data-connect",[xw]:"fire-rtdb-compat",[vw]:"fire-fn",[_w]:"fire-fn-compat",[ww]:"fire-iid",[kw]:"fire-iid-compat",[Sw]:"fire-fcm",[Cw]:"fire-fcm-compat",[bw]:"fire-perf",[Nw]:"fire-perf-compat",[Ew]:"fire-rc",[jw]:"fire-rc-compat",[Pw]:"fire-gcs",[Tw]:"fire-gcs-compat",[Iw]:"fire-fst",[Aw]:"fire-fst-compat",[Rw]:"fire-vertex","fire-js":"fire-js",[Dw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl=new Map,Ow=new Map,Jc=new Map;function Ef(t,e){try{t.container.addComponent(e)}catch(n){mn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function pl(t){const e=t.name;if(Jc.has(e))return mn.debug(`There were multiple attempts to register component ${e}.`),!1;Jc.set(e,t);for(const n of fl.values())Ef(n,t);for(const n of Ow.values())Ef(n,t);return!0}function Mw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fn=new Rg("app","Firebase",zw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Pi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=Ww;function Og(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:qc,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Fn.create("bad-app-name",{appName:String(s)});if(n||(n=Tg()),!n)throw Fn.create("no-options");const i=fl.get(s);if(i){if(Yc(n,i.options)&&Yc(r,i.config))return i;throw Fn.create("duplicate-app",{appName:s})}const l=new H_(s);for(const c of Jc.values())l.addComponent(c);const a=new Fw(n,r,l);return fl.set(s,a),a}function $w(t=qc){const e=fl.get(t);if(!e&&t===qc&&Tg())return Og();if(!e)throw Fn.create("no-app",{appName:t});return e}function Zr(t,e,n){var r;let s=(r=Lw[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),l=e.match(/\s|\//);if(i||l){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&l&&a.push("and"),l&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mn.warn(a.join(" "));return}pl(new Pi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw="firebase-heartbeat-database",Gw=1,Ti="firebase-heartbeat-store";let za=null;function Mg(){return za||(za=sw(Uw,Gw,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ti)}catch(n){console.warn(n)}}}}).catch(t=>{throw Fn.create("idb-open",{originalErrorMessage:t.message})})),za}async function Hw(t){try{const n=(await Mg()).transaction(Ti),r=await n.objectStore(Ti).get(zg(t));return await n.done,r}catch(e){if(e instanceof Vi)mn.warn(e.message);else{const n=Fn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});mn.warn(n.message)}}}async function jf(t,e){try{const r=(await Mg()).transaction(Ti,"readwrite");await r.objectStore(Ti).put(e,zg(t)),await r.done}catch(n){if(n instanceof Vi)mn.warn(n.message);else{const r=Fn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});mn.warn(r.message)}}}function zg(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw=1024,Yw=30*24*60*60*1e3;class Kw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Xw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Pf();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(l=>l.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const a=new Date(l.date).valueOf();return Date.now()-a<=Yw}),this._storage.overwrite(this._heartbeatsCache))}catch(r){mn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Pf(),{heartbeatsToSend:r,unsentEntries:s}=Qw(this._heartbeatsCache.heartbeats),i=ul(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return mn.warn(n),""}}}function Pf(){return new Date().toISOString().substring(0,10)}function Qw(t,e=Vw){const n=[];let r=t.slice();for(const s of t){const i=n.find(l=>l.agent===s.agent);if(i){if(i.dates.push(s.date),Tf(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Tf(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Xw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return R_()?A_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Hw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return jf(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return jf(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Tf(t){return ul(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(t){pl(new Pi("platform-logger",e=>new lw(e),"PRIVATE")),pl(new Pi("heartbeat",e=>new Kw(e),"PRIVATE")),Zr(Xc,Nf,t),Zr(Xc,Nf,"esm2017"),Zr("fire-js","")}qw("");var Jw="firebase",Zw="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zr(Jw,Zw,"app");var If={};const Rf="@firebase/database",Af="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fg="";function ek(t){Fg=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Fe(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:ji(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return tn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bg=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new tk(e)}}catch{}return new nk},ar=Bg("localStorage"),rk=Bg("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es=new Dg("@firebase/database"),sk=function(){let t=1;return function(){return t++}}(),$g=function(t){const e=B_(t),n=new F_;n.update(e);const r=n.digest();return ou.encodeByteArray(r)},Yi=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Yi.apply(null,r):typeof r=="object"?e+=Fe(r):e+=r,e+=" "}return e};let oi=null,Df=!0;const ik=function(t,e){F(!0,"Can't turn on custom loggers persistently."),es.logLevel=_e.VERBOSE,oi=es.log.bind(es)},Ke=function(...t){if(Df===!0&&(Df=!1,oi===null&&rk.get("logging_enabled")===!0&&ik()),oi){const e=Yi.apply(null,t);oi(e)}},Ki=function(t){return function(...e){Ke(t,...e)}},Zc=function(...t){const e="FIREBASE INTERNAL ERROR: "+Yi(...t);es.error(e)},gn=function(...t){const e=`FIREBASE FATAL ERROR: ${Yi(...t)}`;throw es.error(e),new Error(e)},at=function(...t){const e="FIREBASE WARNING: "+Yi(...t);es.warn(e)},ok=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&at("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},au=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},lk=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ds="[MIN_NAME]",gr="[MAX_NAME]",Cr=function(t,e){if(t===e)return 0;if(t===ds||e===gr)return-1;if(e===ds||t===gr)return 1;{const n=Wf(t),r=Wf(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},ak=function(t,e){return t===e?0:t<e?-1:1},$s=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Fe(e))},cu=function(t){if(typeof t!="object"||t===null)return Fe(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Fe(e[r]),n+=":",n+=cu(t[e[r]]);return n+="}",n},Ug=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function qe(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Gg=function(t){F(!au(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,i,l,a,c;t===0?(i=0,l=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=a+r,l=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(i=0,l=Math.round(t/Math.pow(2,1-r-n))));const d=[];for(c=n;c;c-=1)d.push(l%2?1:0),l=Math.floor(l/2);for(c=e;c;c-=1)d.push(i%2?1:0),i=Math.floor(i/2);d.push(s?1:0),d.reverse();const f=d.join("");let u="";for(c=0;c<64;c+=8){let p=parseInt(f.substr(c,8),2).toString(16);p.length===1&&(p="0"+p),u=u+p}return u.toLowerCase()},ck=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},dk=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function uk(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const hk=new RegExp("^-?(0*)\\d{1,10}$"),fk=-2147483648,pk=2147483647,Wf=function(t){if(hk.test(t)){const e=Number(t);if(e>=fk&&e<=pk)return e}return null},vs=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw at("Exception was thrown by user callback.",n),e},Math.floor(0))}},mk=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},li=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){at(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ke("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',at(e)}}class Fo{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Fo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du="5",Hg="v",Vg="s",Yg="r",Kg="f",Qg=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Xg="ls",qg="p",ed="ac",Jg="websocket",Zg="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,n,r,s,i=!1,l="",a=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=l,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ar.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ar.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function xk(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function ty(t,e,n){F(typeof e=="string","typeof type must == string"),F(typeof n=="object","typeof params must == object");let r;if(e===Jg)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Zg)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);xk(t)&&(n.ns=t.namespace);const s=[];return qe(n,(i,l)=>{s.push(i+"="+l)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(){this.counters_={}}incrementCounter(e,n=1){tn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return __(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa={},Ba={};function uu(t){const e=t.toString();return Fa[e]||(Fa[e]=new vk),Fa[e]}function _k(t,e){const n=t.toString();return Ba[n]||(Ba[n]=e()),Ba[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&vs(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf="start",kk="close",Sk="pLPCommand",Ck="pRTLPCB",ny="id",ry="pw",sy="ser",bk="cb",Nk="seg",Ek="ts",jk="d",Pk="dframe",iy=1870,oy=30,Tk=iy-oy,Ik=25e3,Rk=3e4;class Vr{constructor(e,n,r,s,i,l,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=l,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ki(e),this.stats_=uu(n),this.urlFn=c=>(this.appCheckToken&&(c[ed]=this.appCheckToken),ty(n,Zg,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new wk(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Rk)),lk(()=>{if(this.isClosed_)return;this.scriptTagHolder=new hu((...i)=>{const[l,a,c,d,f]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,l===Lf)this.id=a,this.password=c;else if(l===kk)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+l)},(...i)=>{const[l,a]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(l,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[Lf]="t",r[sy]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[bk]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Hg]=du,this.transportSessionId&&(r[Vg]=this.transportSessionId),this.lastSessionId&&(r[Xg]=this.lastSessionId),this.applicationId&&(r[qg]=this.applicationId),this.appCheckToken&&(r[ed]=this.appCheckToken),typeof location<"u"&&location.hostname&&Qg.test(location.hostname)&&(r[Yg]=Kg);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Vr.forceAllow_=!0}static forceDisallow(){Vr.forceDisallow_=!0}static isAvailable(){return Vr.forceAllow_?!0:!Vr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!ck()&&!dk()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Fe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Eg(n),s=Ug(r,Tk);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Pk]="t",r[ny]=e,r[ry]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Fe(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class hu{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=sk(),window[Sk+this.uniqueCallbackIdentifier]=e,window[Ck+this.uniqueCallbackIdentifier]=n,this.myIFrame=hu.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(a){Ke("frame writing exception"),a.stack&&Ke(a.stack),Ke(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ke("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[ny]=this.myID,e[ry]=this.myPW,e[sy]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+oy+r.length<=iy;){const l=this.pendingSegs.shift();r=r+"&"+Nk+s+"="+l.seg+"&"+Ek+s+"="+l.ts+"&"+jk+s+"="+l.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(Ik)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ke("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak=16384,Dk=45e3;let ml=null;typeof MozWebSocket<"u"?ml=MozWebSocket:typeof WebSocket<"u"&&(ml=WebSocket);class $t{constructor(e,n,r,s,i,l,a){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ki(this.connId),this.stats_=uu(n),this.connURL=$t.connectionURL_(n,l,a,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,i){const l={};return l[Hg]=du,typeof location<"u"&&location.hostname&&Qg.test(location.hostname)&&(l[Yg]=Kg),n&&(l[Vg]=n),r&&(l[Xg]=r),s&&(l[ed]=s),i&&(l[qg]=i),ty(e,Jg,l)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ar.set("previous_websocket_failure",!0);try{let r;I_(),this.mySock=new ml(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){$t.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&ml!==null&&!$t.forceDisallow_}static previouslyFailed(){return ar.isInMemoryStorage||ar.get("previous_websocket_failure")===!0}markConnectionHealthy(){ar.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=ji(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(F(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Fe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Ug(n,Ak);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Dk))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}$t.responsesRequiredToBeHealthy=2;$t.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Vr,$t]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=$t&&$t.isAvailable();let r=n&&!$t.previouslyFailed();if(e.webSocketOnly&&(n||at("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[$t];else{const s=this.transports_=[];for(const i of Ii.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);Ii.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ii.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk=6e4,Lk=5e3,Ok=10*1024,Mk=100*1024,$a="t",Of="d",zk="s",Mf="r",Fk="e",zf="o",Ff="a",Bf="n",$f="p",Bk="h";class $k{constructor(e,n,r,s,i,l,a,c,d,f){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=l,this.onReady_=a,this.onDisconnect_=c,this.onKill_=d,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ki("c:"+this.id+":"),this.transportManager_=new Ii(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=li(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Mk?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Ok?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if($a in e){const n=e[$a];n===Ff?this.upgradeIfSecondaryHealthy_():n===Mf?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===zf&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=$s("t",e),r=$s("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:$f,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Ff,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Bf,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=$s("t",e),r=$s("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=$s($a,e);if(Of in e){const r=e[Of];if(n===Bk){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===Bf){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===zk?this.onConnectionShutdown_(r):n===Mf?this.onReset_(r):n===Fk?Zc("Server Error: "+r):n===zf?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Zc("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),du!==r&&at("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),li(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Wk))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):li(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Lk))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:$f,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ar.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e){this.allowedEvents_=e,this.listeners_={},F(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){F(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl extends ay{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Ig()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new gl}getInitialEvent(e){return F(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf=32,Gf=768;class me{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function he(){return new me("")}function se(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Hn(t){return t.pieces_.length-t.pieceNum_}function we(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new me(t.pieces_,e)}function fu(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Uk(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Ri(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function cy(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new me(e,0)}function De(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof me)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new me(n,0)}function oe(t){return t.pieceNum_>=t.pieces_.length}function ot(t,e){const n=se(t),r=se(e);if(n===null)return e;if(n===r)return ot(we(t),we(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Gk(t,e){const n=Ri(t,0),r=Ri(e,0);for(let s=0;s<n.length&&s<r.length;s++){const i=Cr(n[s],r[s]);if(i!==0)return i}return n.length===r.length?0:n.length<r.length?-1:1}function pu(t,e){if(Hn(t)!==Hn(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Rt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Hn(t)>Hn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Hk{constructor(e,n){this.errorPrefix_=n,this.parts_=Ri(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Hl(this.parts_[r]);dy(this)}}function Vk(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Hl(e),dy(t)}function Yk(t){const e=t.parts_.pop();t.byteLength_-=Hl(e),t.parts_.length>0&&(t.byteLength_-=1)}function dy(t){if(t.byteLength_>Gf)throw new Error(t.errorPrefix_+"has a key path longer than "+Gf+" bytes ("+t.byteLength_+").");if(t.parts_.length>Uf)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Uf+") or object contains a cycle "+sr(t))}function sr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends ay{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new mu}getInitialEvent(e){return F(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=1e3,Kk=60*5*1e3,Hf=30*1e3,Qk=1.3,Xk=3e4,qk="server_kill",Vf=3;class dn extends ly{constructor(e,n,r,s,i,l,a,c){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=l,this.appCheckTokenProvider_=a,this.authOverride_=c,this.id=dn.nextPersistentConnectionId_++,this.log_=Ki("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Us,this.maxReconnectDelay_=Kk,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");mu.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&gl.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,i={r:s,a:e,b:n};this.log_(Fe(i)),F(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new Hi,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:l=>{const a=l.d;l.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,r,s){this.initConnection_();const i=e._queryIdentifier,l=e._path.toString();this.log_("Listen called for "+l+" "+i),this.listens.has(l)||this.listens.set(l,new Map),F(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),F(!this.listens.get(l).has(i),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(l).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},l="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(l,i,a=>{const c=a.d,d=a.s;dn.warnOnListenWarnings_(c,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",a),d!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(d,c))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&tn(e,"w")){const r=cs(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();at(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||M_(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Hf)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=O_(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,l=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,l))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),F(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const i={p:e},l="n";s&&(i.q=r,i.t=s),this.sendRequest(l,i)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,l=>{s&&setTimeout(()=>{s(l.s,l.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,i){this.initConnection_();const l={p:n,d:r};i!==void 0&&(l.h=i),this.outstandingPuts_.push({action:e,request:l,onComplete:s}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Fe(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Zc("Unrecognized action received from server: "+Fe(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){F(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Us,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Us,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Xk&&(this.reconnectDelay_=Us),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Qk)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+dn.nextConnectionId_++,i=this.lastSessionId;let l=!1,a=null;const c=function(){a?a.close():(l=!0,r())},d=function(u){F(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(u)};this.realtime_={close:c,sendRequest:d};const f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[u,p]=await Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);l?Ke("getToken() completed but was canceled"):(Ke("getToken() completed. Creating connection."),this.authToken_=u&&u.accessToken,this.appCheckToken_=p&&p.token,a=new $k(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,_=>{at(_+" ("+this.repoInfo_.toString()+")"),this.interrupt(qk)},i))}catch(u){this.log_("Failed to get token: "+u),l||(this.repoInfo_.nodeAdmin&&at(u),c())}}}interrupt(e){Ke("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ke("Resuming connection for reason: "+e),delete this.interruptReasons_[e],wf(this.interruptReasons_)&&(this.reconnectDelay_=Us,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(i=>cu(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new me(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){Ke("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Vf&&(this.reconnectDelay_=Hf,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Ke("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Vf&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Fg.replace(/\./g,"-")]=1,Ig()?e["framework.cordova"]=1:T_()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=gl.getInstance().currentlyOnline();return wf(this.interruptReasons_)&&e}}dn.nextPersistentConnectionId_=0;dn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ie(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ie(ds,e),s=new ie(ds,n);return this.compare(r,s)!==0}minPost(){return ie.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bo;class uy extends Vl{static get __EMPTY_NODE(){return bo}static set __EMPTY_NODE(e){bo=e}compare(e,n){return Cr(e.name,n.name)}isDefinedOn(e){throw xs("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ie.MIN}maxPost(){return new ie(gr,bo)}makePost(e,n){return F(typeof e=="string","KeyIndex indexValue must always be a string."),new ie(e,bo)}toString(){return".key"}}const ts=new uy;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(e=e,l=n?r(e.key,n):1,s&&(l*=-1),l<0)this.isReverse_?e=e.left:e=e.right;else if(l===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class He{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??He.RED,this.left=s??gt.EMPTY_NODE,this.right=i??gt.EMPTY_NODE}copy(e,n,r,s,i){return new He(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return gt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return gt.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}He.RED=!0;He.BLACK=!1;class Jk{copy(e,n,r,s,i){return this}insert(e,n,r){return new He(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class gt{constructor(e,n=gt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new gt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,He.BLACK,null,null))}remove(e){return new gt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,He.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new No(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new No(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new No(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new No(this.root_,null,this.comparator_,!0,e)}}gt.EMPTY_NODE=new Jk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zk(t,e){return Cr(t.name,e.name)}function gu(t,e){return Cr(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let td;function e1(t){td=t}const hy=function(t){return typeof t=="number"?"number:"+Gg(t):"string:"+t},fy=function(t){if(t.isLeafNode()){const e=t.val();F(typeof e=="string"||typeof e=="number"||typeof e=="object"&&tn(e,".sv"),"Priority must be a string or number.")}else F(t===td||t.isEmpty(),"priority of unexpected type.");F(t===td||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yf;class Ue{constructor(e,n=Ue.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,F(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),fy(this.priorityNode_)}static set __childrenNodeConstructor(e){Yf=e}static get __childrenNodeConstructor(){return Yf}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ue(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ue.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return oe(e)?this:se(e)===".priority"?this.priorityNode_:Ue.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Ue.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=se(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(F(r!==".priority"||Hn(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Ue.__childrenNodeConstructor.EMPTY_NODE.updateChild(we(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+hy(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Gg(this.value_):e+=this.value_,this.lazyHash_=$g(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ue.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ue.__childrenNodeConstructor?-1:(F(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=Ue.VALUE_TYPE_ORDER.indexOf(n),i=Ue.VALUE_TYPE_ORDER.indexOf(r);return F(s>=0,"Unknown leaf type: "+n),F(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ue.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let py,my;function t1(t){py=t}function n1(t){my=t}class r1 extends Vl{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?Cr(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ie.MIN}maxPost(){return new ie(gr,new Ue("[PRIORITY-POST]",my))}makePost(e,n){const r=py(e);return new ie(n,new Ue("[PRIORITY-POST]",r))}toString(){return".priority"}}const We=new r1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1=Math.log(2);class i1{constructor(e){const n=i=>parseInt(Math.log(i)/s1,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const yl=function(t,e,n,r){t.sort(e);const s=function(c,d){const f=d-c;let u,p;if(f===0)return null;if(f===1)return u=t[c],p=n?n(u):u,new He(p,u.node,He.BLACK,null,null);{const _=parseInt(f/2,10)+c,k=s(c,_),R=s(_+1,d);return u=t[_],p=n?n(u):u,new He(p,u.node,He.BLACK,k,R)}},i=function(c){let d=null,f=null,u=t.length;const p=function(k,R){const E=u-k,x=u;u-=k;const y=s(E+1,x),S=t[E],v=n?n(S):S;_(new He(v,S.node,R,null,y))},_=function(k){d?(d.left=k,d=k):(f=k,d=k)};for(let k=0;k<c.count;++k){const R=c.nextBitIsOne(),E=Math.pow(2,c.count-(k+1));R?p(E,He.BLACK):(p(E,He.BLACK),p(E,He.RED))}return f},l=new i1(t.length),a=i(l);return new gt(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ua;const Rr={};class an{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return F(Rr&&We,"ChildrenNode.ts has not been loaded"),Ua=Ua||new an({".priority":Rr},{".priority":We}),Ua}get(e){const n=cs(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof gt?n:null}hasIndex(e){return tn(this.indexSet_,e.toString())}addIndex(e,n){F(e!==ts,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(ie.Wrap);let l=i.getNext();for(;l;)s=s||e.isDefinedOn(l.node),r.push(l),l=i.getNext();let a;s?a=yl(r,e.getCompare()):a=Rr;const c=e.toString(),d=Object.assign({},this.indexSet_);d[c]=e;const f=Object.assign({},this.indexes_);return f[c]=a,new an(f,d)}addToIndexes(e,n){const r=hl(this.indexes_,(s,i)=>{const l=cs(this.indexSet_,i);if(F(l,"Missing index implementation for "+i),s===Rr)if(l.isDefinedOn(e.node)){const a=[],c=n.getIterator(ie.Wrap);let d=c.getNext();for(;d;)d.name!==e.name&&a.push(d),d=c.getNext();return a.push(e),yl(a,l.getCompare())}else return Rr;else{const a=n.get(e.name);let c=s;return a&&(c=c.remove(new ie(e.name,a))),c.insert(e,e.node)}});return new an(r,this.indexSet_)}removeFromIndexes(e,n){const r=hl(this.indexes_,s=>{if(s===Rr)return s;{const i=n.get(e.name);return i?s.remove(new ie(e.name,i)):s}});return new an(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gs;class J{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&fy(this.priorityNode_),this.children_.isEmpty()&&F(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Gs||(Gs=new J(new gt(gu),null,an.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Gs}updatePriority(e){return this.children_.isEmpty()?this:new J(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Gs:n}}getChild(e){const n=se(e);return n===null?this:this.getImmediateChild(n).getChild(we(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(F(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new ie(e,n);let s,i;n.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));const l=s.isEmpty()?Gs:this.priorityNode_;return new J(s,l,i)}}updateChild(e,n){const r=se(e);if(r===null)return n;{F(se(e)!==".priority"||Hn(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(we(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(We,(l,a)=>{n[l]=a.val(e),r++,i&&J.INTEGER_REGEXP_.test(l)?s=Math.max(s,Number(l)):i=!1}),!e&&i&&s<2*r){const l=[];for(const a in n)l[a]=n[a];return l}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+hy(this.getPriority().val())+":"),this.forEachChild(We,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":$g(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new ie(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ie(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ie(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,ie.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,ie.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Qi?-1:0}withIndex(e){if(e===ts||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new J(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===ts||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(We),s=n.getIterator(We);let i=r.getNext(),l=s.getNext();for(;i&&l;){if(i.name!==l.name||!i.node.equals(l.node))return!1;i=r.getNext(),l=s.getNext()}return i===null&&l===null}else return!1;else return!1}}resolveIndex_(e){return e===ts?null:this.indexMap_.get(e.toString())}}J.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class o1 extends J{constructor(){super(new gt(gu),J.EMPTY_NODE,an.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return J.EMPTY_NODE}isEmpty(){return!1}}const Qi=new o1;Object.defineProperties(ie,{MIN:{value:new ie(ds,J.EMPTY_NODE)},MAX:{value:new ie(gr,Qi)}});uy.__EMPTY_NODE=J.EMPTY_NODE;Ue.__childrenNodeConstructor=J;e1(Qi);n1(Qi);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=!0;function ze(t,e=null){if(t===null)return J.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),F(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Ue(n,ze(e))}if(!(t instanceof Array)&&l1){const n=[];let r=!1;if(qe(t,(l,a)=>{if(l.substring(0,1)!=="."){const c=ze(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new ie(l,c)))}}),n.length===0)return J.EMPTY_NODE;const i=yl(n,Zk,l=>l.name,gu);if(r){const l=yl(n,We.getCompare());return new J(i,ze(e),new an({".priority":l},{".priority":We}))}else return new J(i,ze(e),an.Default)}else{let n=J.EMPTY_NODE;return qe(t,(r,s)=>{if(tn(t,r)&&r.substring(0,1)!=="."){const i=ze(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(ze(e))}}t1(ze);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1 extends Vl{constructor(e){super(),this.indexPath_=e,F(!oe(e)&&se(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?Cr(e.name,n.name):i}makePost(e,n){const r=ze(e),s=J.EMPTY_NODE.updateChild(this.indexPath_,r);return new ie(n,s)}maxPost(){const e=J.EMPTY_NODE.updateChild(this.indexPath_,Qi);return new ie(gr,e)}toString(){return Ri(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1 extends Vl{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Cr(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ie.MIN}maxPost(){return ie.MAX}makePost(e,n){const r=ze(e);return new ie(n,r)}toString(){return".value"}}const d1=new c1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(t){return{type:"value",snapshotNode:t}}function us(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Ai(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Di(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function u1(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e){this.index_=e}updateChild(e,n,r,s,i,l){F(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(s).equals(r.getChild(s))&&a.isEmpty()===r.isEmpty()||(l!=null&&(r.isEmpty()?e.hasChild(n)?l.trackChildChange(Ai(n,a)):F(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?l.trackChildChange(us(n,r)):l.trackChildChange(Di(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(We,(s,i)=>{n.hasChild(s)||r.trackChildChange(Ai(s,i))}),n.isLeafNode()||n.forEachChild(We,(s,i)=>{if(e.hasChild(s)){const l=e.getImmediateChild(s);l.equals(i)||r.trackChildChange(Di(s,i,l))}else r.trackChildChange(us(s,i))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?J.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e){this.indexedFilter_=new yu(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Wi.getStartPost_(e),this.endPost_=Wi.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,s,i,l){return this.matches(new ie(n,r))||(r=J.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,s,i,l)}updateFullNode(e,n,r){n.isLeafNode()&&(n=J.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(J.EMPTY_NODE);const i=this;return n.forEachChild(We,(l,a)=>{i.matches(new ie(l,a))||(s=s.updateImmediateChild(l,J.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Wi(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,s,i,l){return this.rangedFilter_.matches(new ie(n,r))||(r=J.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,s,i,l):this.fullLimitUpdateChild_(e,n,r,i,l)}updateFullNode(e,n,r){let s;if(n.isLeafNode()||n.isEmpty())s=J.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=J.EMPTY_NODE.withIndex(this.index_);let i;this.reverse_?i=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):i=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;i.hasNext()&&l<this.limit_;){const a=i.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))s=s.updateImmediateChild(a.name,a.node),l++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(J.EMPTY_NODE);let i;this.reverse_?i=s.getReverseIterator(this.index_):i=s.getIterator(this.index_);let l=0;for(;i.hasNext();){const a=i.getNext();l<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?l++:s=s.updateImmediateChild(a.name,J.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,s,i){let l;if(this.reverse_){const u=this.index_.getCompare();l=(p,_)=>u(_,p)}else l=this.index_.getCompare();const a=e;F(a.numChildren()===this.limit_,"");const c=new ie(n,r),d=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),f=this.rangedFilter_.matches(c);if(a.hasChild(n)){const u=a.getImmediateChild(n);let p=s.getChildAfterChild(this.index_,d,this.reverse_);for(;p!=null&&(p.name===n||a.hasChild(p.name));)p=s.getChildAfterChild(this.index_,p,this.reverse_);const _=p==null?1:l(p,c);if(f&&!r.isEmpty()&&_>=0)return i!=null&&i.trackChildChange(Di(n,r,u)),a.updateImmediateChild(n,r);{i!=null&&i.trackChildChange(Ai(n,u));const R=a.updateImmediateChild(n,J.EMPTY_NODE);return p!=null&&this.rangedFilter_.matches(p)?(i!=null&&i.trackChildChange(us(p.name,p.node)),R.updateImmediateChild(p.name,p.node)):R}}else return r.isEmpty()?e:f&&l(d,c)>=0?(i!=null&&(i.trackChildChange(Ai(d.name,d.node)),i.trackChildChange(us(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(d.name,J.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=We}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return F(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return F(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ds}hasEnd(){return this.endSet_}getIndexEndValue(){return F(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return F(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:gr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return F(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===We}copy(){const e=new xu;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function f1(t){return t.loadsAllData()?new yu(t.getIndex()):t.hasLimit()?new h1(t):new Wi(t)}function Kf(t){const e={};if(t.isDefault())return e;let n;if(t.index_===We?n="$priority":t.index_===d1?n="$value":t.index_===ts?n="$key":(F(t.index_ instanceof a1,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Fe(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Fe(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Fe(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Fe(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Fe(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Qf(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==We&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl extends ly{constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=Ki("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(F(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const l=xl.getListenId_(e,r),a={};this.listens_[l]=a;const c=Kf(e._queryParams);this.restRequest_(i+".json",c,(d,f)=>{let u=f;if(d===404&&(u=null,d=null),d===null&&this.onDataUpdate_(i,u,!1,r),cs(this.listens_,l)===a){let p;d?d===401?p="permission_denied":p="rest_error:"+d:p="ok",s(p,null)}})}unlisten(e,n){const r=xl.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Kf(e._queryParams),r=e._path.toString(),s=new Hi;return this.restRequest_(r+".json",n,(i,l)=>{let a=l;i===404&&(a=null,i=null),i===null?(this.onDataUpdate_(r,a,!1,null),s.resolve(a)):s.reject(new Error(a))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+z_(n);this.log_("Sending REST request for "+l);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+l+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=ji(a.responseText)}catch{at("Failed to parse JSON response for "+l+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&at("Got unsuccessful REST response for "+l+" Status: "+a.status),r(a.status);r=null}},a.open("GET",l,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(){this.rootNode_=J.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vl(){return{value:null,children:new Map}}function yy(t,e,n){if(oe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=se(e);t.children.has(r)||t.children.set(r,vl());const s=t.children.get(r);e=we(e),yy(s,e,n)}}function nd(t,e,n){t.value!==null?n(e,t.value):m1(t,(r,s)=>{const i=new me(e.toString()+"/"+r);nd(s,i,n)})}function m1(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&qe(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xf=10*1e3,y1=30*1e3,x1=5*60*1e3;class v1{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new g1(e);const r=Xf+(y1-Xf)*Math.random();li(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;qe(e,(s,i)=>{i>0&&tn(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),li(this.reportStats_.bind(this),Math.floor(Math.random()*2*x1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ut||(Ut={}));function vu(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function _u(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function wu(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Ut.ACK_USER_WRITE,this.source=vu()}operationForChild(e){if(oe(this.path)){if(this.affectedTree.value!=null)return F(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new me(e));return new _l(he(),n,this.revert)}}else return F(se(this.path)===e,"operationForChild called for unrelated child."),new _l(we(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e,n){this.source=e,this.path=n,this.type=Ut.LISTEN_COMPLETE}operationForChild(e){return oe(this.path)?new Li(this.source,he()):new Li(this.source,we(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Ut.OVERWRITE}operationForChild(e){return oe(this.path)?new yr(this.source,he(),this.snap.getImmediateChild(e)):new yr(this.source,we(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Ut.MERGE}operationForChild(e){if(oe(this.path)){const n=this.children.subtree(new me(e));return n.isEmpty()?null:n.value?new yr(this.source,he(),n.value):new hs(this.source,he(),n)}else return F(se(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new hs(this.source,we(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(oe(e))return this.isFullyInitialized()&&!this.filtered_;const n=se(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function w1(t,e,n,r){const s=[],i=[];return e.forEach(l=>{l.type==="child_changed"&&t.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&i.push(u1(l.childName,l.snapshotNode))}),Hs(t,s,"child_removed",e,r,n),Hs(t,s,"child_added",e,r,n),Hs(t,s,"child_moved",i,r,n),Hs(t,s,"child_changed",e,r,n),Hs(t,s,"value",e,r,n),s}function Hs(t,e,n,r,s,i){const l=r.filter(a=>a.type===n);l.sort((a,c)=>S1(t,a,c)),l.forEach(a=>{const c=k1(t,a,i);s.forEach(d=>{d.respondsTo(a.type)&&e.push(d.createEvent(c,t.query_))})})}function k1(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function S1(t,e,n){if(e.childName==null||n.childName==null)throw xs("Should only compare child_ events.");const r=new ie(e.childName,e.snapshotNode),s=new ie(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(t,e){return{eventCache:t,serverCache:e}}function ai(t,e,n,r){return Yl(new Vn(e,n,r),t.serverCache)}function xy(t,e,n,r){return Yl(t.eventCache,new Vn(e,n,r))}function wl(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function xr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ga;const C1=()=>(Ga||(Ga=new gt(ak)),Ga);class ve{constructor(e,n=C1()){this.value=e,this.children=n}static fromObject(e){let n=new ve(null);return qe(e,(r,s)=>{n=n.set(new me(r),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:he(),value:this.value};if(oe(e))return null;{const r=se(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(we(e),n);return i!=null?{path:De(new me(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(oe(e))return this;{const n=se(e),r=this.children.get(n);return r!==null?r.subtree(we(e)):new ve(null)}}set(e,n){if(oe(e))return new ve(n,this.children);{const r=se(e),i=(this.children.get(r)||new ve(null)).set(we(e),n),l=this.children.insert(r,i);return new ve(this.value,l)}}remove(e){if(oe(e))return this.children.isEmpty()?new ve(null):new ve(null,this.children);{const n=se(e),r=this.children.get(n);if(r){const s=r.remove(we(e));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new ve(null):new ve(this.value,i)}else return this}}get(e){if(oe(e))return this.value;{const n=se(e),r=this.children.get(n);return r?r.get(we(e)):null}}setTree(e,n){if(oe(e))return n;{const r=se(e),i=(this.children.get(r)||new ve(null)).setTree(we(e),n);let l;return i.isEmpty()?l=this.children.remove(r):l=this.children.insert(r,i),new ve(this.value,l)}}fold(e){return this.fold_(he(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(De(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,he(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(oe(e))return null;{const i=se(e),l=this.children.get(i);return l?l.findOnPath_(we(e),De(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,he(),n)}foreachOnPath_(e,n,r){if(oe(e))return this;{this.value&&r(n,this.value);const s=se(e),i=this.children.get(s);return i?i.foreachOnPath_(we(e),De(n,s),r):new ve(null)}}foreach(e){this.foreach_(he(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(De(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.writeTree_=e}static empty(){return new Vt(new ve(null))}}function ci(t,e,n){if(oe(e))return new Vt(new ve(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const l=ot(s,e);return i=i.updateChild(l,n),new Vt(t.writeTree_.set(s,i))}else{const s=new ve(n),i=t.writeTree_.setTree(e,s);return new Vt(i)}}}function rd(t,e,n){let r=t;return qe(n,(s,i)=>{r=ci(r,De(e,s),i)}),r}function qf(t,e){if(oe(e))return Vt.empty();{const n=t.writeTree_.setTree(e,new ve(null));return new Vt(n)}}function sd(t,e){return br(t,e)!=null}function br(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(ot(n.path,e)):null}function Jf(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(We,(r,s)=>{e.push(new ie(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new ie(r,s.value))}),e}function Bn(t,e){if(oe(e))return t;{const n=br(t,e);return n!=null?new Vt(new ve(n)):new Vt(t.writeTree_.subtree(e))}}function id(t){return t.writeTree_.isEmpty()}function fs(t,e){return vy(he(),t.writeTree_,e)}function vy(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?(F(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=vy(De(t,s),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(De(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(t,e){return Sy(e,t)}function b1(t,e,n,r,s){F(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=ci(t.visibleWrites,e,n)),t.lastWriteId=r}function N1(t,e,n,r){F(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=rd(t.visibleWrites,e,n),t.lastWriteId=r}function E1(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function j1(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);F(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,i=!1,l=t.allWrites.length-1;for(;s&&l>=0;){const a=t.allWrites[l];a.visible&&(l>=n&&P1(a,r.path)?s=!1:Rt(r.path,a.path)&&(i=!0)),l--}if(s){if(i)return T1(t),!0;if(r.snap)t.visibleWrites=qf(t.visibleWrites,r.path);else{const a=r.children;qe(a,c=>{t.visibleWrites=qf(t.visibleWrites,De(r.path,c))})}return!0}else return!1}function P1(t,e){if(t.snap)return Rt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Rt(De(t.path,n),e))return!0;return!1}function T1(t){t.visibleWrites=_y(t.allWrites,I1,he()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function I1(t){return t.visible}function _y(t,e,n){let r=Vt.empty();for(let s=0;s<t.length;++s){const i=t[s];if(e(i)){const l=i.path;let a;if(i.snap)Rt(n,l)?(a=ot(n,l),r=ci(r,a,i.snap)):Rt(l,n)&&(a=ot(l,n),r=ci(r,he(),i.snap.getChild(a)));else if(i.children){if(Rt(n,l))a=ot(n,l),r=rd(r,a,i.children);else if(Rt(l,n))if(a=ot(l,n),oe(a))r=rd(r,he(),i.children);else{const c=cs(i.children,se(a));if(c){const d=c.getChild(we(a));r=ci(r,he(),d)}}}else throw xs("WriteRecord should have .snap or .children")}}return r}function wy(t,e,n,r,s){if(!r&&!s){const i=br(t.visibleWrites,e);if(i!=null)return i;{const l=Bn(t.visibleWrites,e);if(id(l))return n;if(n==null&&!sd(l,he()))return null;{const a=n||J.EMPTY_NODE;return fs(l,a)}}}else{const i=Bn(t.visibleWrites,e);if(!s&&id(i))return n;if(!s&&n==null&&!sd(i,he()))return null;{const l=function(d){return(d.visible||s)&&(!r||!~r.indexOf(d.writeId))&&(Rt(d.path,e)||Rt(e,d.path))},a=_y(t.allWrites,l,e),c=n||J.EMPTY_NODE;return fs(a,c)}}}function R1(t,e,n){let r=J.EMPTY_NODE;const s=br(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(We,(i,l)=>{r=r.updateImmediateChild(i,l)}),r;if(n){const i=Bn(t.visibleWrites,e);return n.forEachChild(We,(l,a)=>{const c=fs(Bn(i,new me(l)),a);r=r.updateImmediateChild(l,c)}),Jf(i).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}else{const i=Bn(t.visibleWrites,e);return Jf(i).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}}function A1(t,e,n,r,s){F(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=De(e,n);if(sd(t.visibleWrites,i))return null;{const l=Bn(t.visibleWrites,i);return id(l)?s.getChild(n):fs(l,s.getChild(n))}}function D1(t,e,n,r){const s=De(e,n),i=br(t.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const l=Bn(t.visibleWrites,s);return fs(l,r.getNode().getImmediateChild(n))}else return null}function W1(t,e){return br(t.visibleWrites,e)}function L1(t,e,n,r,s,i,l){let a;const c=Bn(t.visibleWrites,e),d=br(c,he());if(d!=null)a=d;else if(n!=null)a=fs(c,n);else return[];if(a=a.withIndex(l),!a.isEmpty()&&!a.isLeafNode()){const f=[],u=l.getCompare(),p=i?a.getReverseIteratorFrom(r,l):a.getIteratorFrom(r,l);let _=p.getNext();for(;_&&f.length<s;)u(_,r)!==0&&f.push(_),_=p.getNext();return f}else return[]}function O1(){return{visibleWrites:Vt.empty(),allWrites:[],lastWriteId:-1}}function kl(t,e,n,r){return wy(t.writeTree,t.treePath,e,n,r)}function ku(t,e){return R1(t.writeTree,t.treePath,e)}function Zf(t,e,n,r){return A1(t.writeTree,t.treePath,e,n,r)}function Sl(t,e){return W1(t.writeTree,De(t.treePath,e))}function M1(t,e,n,r,s,i){return L1(t.writeTree,t.treePath,e,n,r,s,i)}function Su(t,e,n){return D1(t.writeTree,t.treePath,e,n)}function ky(t,e){return Sy(De(t.treePath,e),t.writeTree)}function Sy(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;F(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),F(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,Di(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,Ai(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,us(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,Di(r,e.snapshotNode,s.oldSnap));else throw xs("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const Cy=new F1;class Cu{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Vn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Su(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:xr(this.viewCache_),i=M1(this.writes_,s,n,1,r,e);return i.length===0?null:i[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(t){return{filter:t}}function $1(t,e){F(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),F(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function U1(t,e,n,r,s){const i=new z1;let l,a;if(n.type===Ut.OVERWRITE){const d=n;d.source.fromUser?l=od(t,e,d.path,d.snap,r,s,i):(F(d.source.fromServer,"Unknown source."),a=d.source.tagged||e.serverCache.isFiltered()&&!oe(d.path),l=Cl(t,e,d.path,d.snap,r,s,a,i))}else if(n.type===Ut.MERGE){const d=n;d.source.fromUser?l=H1(t,e,d.path,d.children,r,s,i):(F(d.source.fromServer,"Unknown source."),a=d.source.tagged||e.serverCache.isFiltered(),l=ld(t,e,d.path,d.children,r,s,a,i))}else if(n.type===Ut.ACK_USER_WRITE){const d=n;d.revert?l=K1(t,e,d.path,r,s,i):l=V1(t,e,d.path,d.affectedTree,r,s,i)}else if(n.type===Ut.LISTEN_COMPLETE)l=Y1(t,e,n.path,r,i);else throw xs("Unknown operation type: "+n.type);const c=i.getChanges();return G1(e,l,c),{viewCache:l,changes:c}}function G1(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=wl(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(gy(wl(e)))}}function by(t,e,n,r,s,i){const l=e.eventCache;if(Sl(r,n)!=null)return e;{let a,c;if(oe(n))if(F(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const d=xr(e),f=d instanceof J?d:J.EMPTY_NODE,u=ku(r,f);a=t.filter.updateFullNode(e.eventCache.getNode(),u,i)}else{const d=kl(r,xr(e));a=t.filter.updateFullNode(e.eventCache.getNode(),d,i)}else{const d=se(n);if(d===".priority"){F(Hn(n)===1,"Can't have a priority with additional path components");const f=l.getNode();c=e.serverCache.getNode();const u=Zf(r,n,f,c);u!=null?a=t.filter.updatePriority(f,u):a=l.getNode()}else{const f=we(n);let u;if(l.isCompleteForChild(d)){c=e.serverCache.getNode();const p=Zf(r,n,l.getNode(),c);p!=null?u=l.getNode().getImmediateChild(d).updateChild(f,p):u=l.getNode().getImmediateChild(d)}else u=Su(r,d,e.serverCache);u!=null?a=t.filter.updateChild(l.getNode(),d,u,f,s,i):a=l.getNode()}}return ai(e,a,l.isFullyInitialized()||oe(n),t.filter.filtersNodes())}}function Cl(t,e,n,r,s,i,l,a){const c=e.serverCache;let d;const f=l?t.filter:t.filter.getIndexedFilter();if(oe(n))d=f.updateFullNode(c.getNode(),r,null);else if(f.filtersNodes()&&!c.isFiltered()){const _=c.getNode().updateChild(n,r);d=f.updateFullNode(c.getNode(),_,null)}else{const _=se(n);if(!c.isCompleteForPath(n)&&Hn(n)>1)return e;const k=we(n),E=c.getNode().getImmediateChild(_).updateChild(k,r);_===".priority"?d=f.updatePriority(c.getNode(),E):d=f.updateChild(c.getNode(),_,E,k,Cy,null)}const u=xy(e,d,c.isFullyInitialized()||oe(n),f.filtersNodes()),p=new Cu(s,u,i);return by(t,u,n,s,p,a)}function od(t,e,n,r,s,i,l){const a=e.eventCache;let c,d;const f=new Cu(s,e,i);if(oe(n))d=t.filter.updateFullNode(e.eventCache.getNode(),r,l),c=ai(e,d,!0,t.filter.filtersNodes());else{const u=se(n);if(u===".priority")d=t.filter.updatePriority(e.eventCache.getNode(),r),c=ai(e,d,a.isFullyInitialized(),a.isFiltered());else{const p=we(n),_=a.getNode().getImmediateChild(u);let k;if(oe(p))k=r;else{const R=f.getCompleteChild(u);R!=null?fu(p)===".priority"&&R.getChild(cy(p)).isEmpty()?k=R:k=R.updateChild(p,r):k=J.EMPTY_NODE}if(_.equals(k))c=e;else{const R=t.filter.updateChild(a.getNode(),u,k,p,f,l);c=ai(e,R,a.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function ep(t,e){return t.eventCache.isCompleteForChild(e)}function H1(t,e,n,r,s,i,l){let a=e;return r.foreach((c,d)=>{const f=De(n,c);ep(e,se(f))&&(a=od(t,a,f,d,s,i,l))}),r.foreach((c,d)=>{const f=De(n,c);ep(e,se(f))||(a=od(t,a,f,d,s,i,l))}),a}function tp(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function ld(t,e,n,r,s,i,l,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,d;oe(n)?d=r:d=new ve(null).setTree(n,r);const f=e.serverCache.getNode();return d.children.inorderTraversal((u,p)=>{if(f.hasChild(u)){const _=e.serverCache.getNode().getImmediateChild(u),k=tp(t,_,p);c=Cl(t,c,new me(u),k,s,i,l,a)}}),d.children.inorderTraversal((u,p)=>{const _=!e.serverCache.isCompleteForChild(u)&&p.value===null;if(!f.hasChild(u)&&!_){const k=e.serverCache.getNode().getImmediateChild(u),R=tp(t,k,p);c=Cl(t,c,new me(u),R,s,i,l,a)}}),c}function V1(t,e,n,r,s,i,l){if(Sl(s,n)!=null)return e;const a=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(oe(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Cl(t,e,n,c.getNode().getChild(n),s,i,a,l);if(oe(n)){let d=new ve(null);return c.getNode().forEachChild(ts,(f,u)=>{d=d.set(new me(f),u)}),ld(t,e,n,d,s,i,a,l)}else return e}else{let d=new ve(null);return r.foreach((f,u)=>{const p=De(n,f);c.isCompleteForPath(p)&&(d=d.set(f,c.getNode().getChild(p)))}),ld(t,e,n,d,s,i,a,l)}}function Y1(t,e,n,r,s){const i=e.serverCache,l=xy(e,i.getNode(),i.isFullyInitialized()||oe(n),i.isFiltered());return by(t,l,n,r,Cy,s)}function K1(t,e,n,r,s,i){let l;if(Sl(r,n)!=null)return e;{const a=new Cu(r,e,s),c=e.eventCache.getNode();let d;if(oe(n)||se(n)===".priority"){let f;if(e.serverCache.isFullyInitialized())f=kl(r,xr(e));else{const u=e.serverCache.getNode();F(u instanceof J,"serverChildren would be complete if leaf node"),f=ku(r,u)}f=f,d=t.filter.updateFullNode(c,f,i)}else{const f=se(n);let u=Su(r,f,e.serverCache);u==null&&e.serverCache.isCompleteForChild(f)&&(u=c.getImmediateChild(f)),u!=null?d=t.filter.updateChild(c,f,u,we(n),a,i):e.eventCache.getNode().hasChild(f)?d=t.filter.updateChild(c,f,J.EMPTY_NODE,we(n),a,i):d=c,d.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=kl(r,xr(e)),l.isLeafNode()&&(d=t.filter.updateFullNode(d,l,i)))}return l=e.serverCache.isFullyInitialized()||Sl(r,he())!=null,ai(e,d,l,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,s=new yu(r.getIndex()),i=f1(r);this.processor_=B1(i);const l=n.serverCache,a=n.eventCache,c=s.updateFullNode(J.EMPTY_NODE,l.getNode(),null),d=i.updateFullNode(J.EMPTY_NODE,a.getNode(),null),f=new Vn(c,l.isFullyInitialized(),s.filtersNodes()),u=new Vn(d,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=Yl(u,f),this.eventGenerator_=new _1(this.query_)}get query(){return this.query_}}function X1(t){return t.viewCache_.serverCache.getNode()}function q1(t){return wl(t.viewCache_)}function J1(t,e){const n=xr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!oe(e)&&!n.getImmediateChild(se(e)).isEmpty())?n.getChild(e):null}function np(t){return t.eventRegistrations_.length===0}function Z1(t,e){t.eventRegistrations_.push(e)}function rp(t,e,n){const r=[];if(n){F(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(i=>{const l=i.createCancelEvent(n,s);l&&r.push(l)})}if(e){let s=[];for(let i=0;i<t.eventRegistrations_.length;++i){const l=t.eventRegistrations_[i];if(!l.matches(e))s.push(l);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(i+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function sp(t,e,n,r){e.type===Ut.MERGE&&e.source.queryId!==null&&(F(xr(t.viewCache_),"We should always have a full cache before handling merges"),F(wl(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,i=U1(t.processor_,s,e,n,r);return $1(t.processor_,i.viewCache),F(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,Ny(t,i.changes,i.viewCache.eventCache.getNode(),null)}function eS(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(We,(i,l)=>{r.push(us(i,l))}),n.isFullyInitialized()&&r.push(gy(n.getNode())),Ny(t,r,n.getNode(),e)}function Ny(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return w1(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bl;class Ey{constructor(){this.views=new Map}}function tS(t){F(!bl,"__referenceConstructor has already been defined"),bl=t}function nS(){return F(bl,"Reference.ts has not been loaded"),bl}function rS(t){return t.views.size===0}function bu(t,e,n,r){const s=e.source.queryId;if(s!==null){const i=t.views.get(s);return F(i!=null,"SyncTree gave us an op for an invalid query."),sp(i,e,n,r)}else{let i=[];for(const l of t.views.values())i=i.concat(sp(l,e,n,r));return i}}function jy(t,e,n,r,s){const i=e._queryIdentifier,l=t.views.get(i);if(!l){let a=kl(n,s?r:null),c=!1;a?c=!0:r instanceof J?(a=ku(n,r),c=!1):(a=J.EMPTY_NODE,c=!1);const d=Yl(new Vn(a,c,!1),new Vn(r,s,!1));return new Q1(e,d)}return l}function sS(t,e,n,r,s,i){const l=jy(t,e,r,s,i);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,l),Z1(l,n),eS(l,n)}function iS(t,e,n,r){const s=e._queryIdentifier,i=[];let l=[];const a=Yn(t);if(s==="default")for(const[c,d]of t.views.entries())l=l.concat(rp(d,n,r)),np(d)&&(t.views.delete(c),d.query._queryParams.loadsAllData()||i.push(d.query));else{const c=t.views.get(s);c&&(l=l.concat(rp(c,n,r)),np(c)&&(t.views.delete(s),c.query._queryParams.loadsAllData()||i.push(c.query)))}return a&&!Yn(t)&&i.push(new(nS())(e._repo,e._path)),{removed:i,events:l}}function Py(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function $n(t,e){let n=null;for(const r of t.views.values())n=n||J1(r,e);return n}function Ty(t,e){if(e._queryParams.loadsAllData())return Ql(t);{const r=e._queryIdentifier;return t.views.get(r)}}function Iy(t,e){return Ty(t,e)!=null}function Yn(t){return Ql(t)!=null}function Ql(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nl;function oS(t){F(!Nl,"__referenceConstructor has already been defined"),Nl=t}function lS(){return F(Nl,"Reference.ts has not been loaded"),Nl}let aS=1;class ip{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ve(null),this.pendingWriteTree_=O1(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Ry(t,e,n,r,s){return b1(t.pendingWriteTree_,e,n,r,s),s?_s(t,new yr(vu(),e,n)):[]}function cS(t,e,n,r){N1(t.pendingWriteTree_,e,n,r);const s=ve.fromObject(n);return _s(t,new hs(vu(),e,s))}function Tn(t,e,n=!1){const r=E1(t.pendingWriteTree_,e);if(j1(t.pendingWriteTree_,e)){let i=new ve(null);return r.snap!=null?i=i.set(he(),!0):qe(r.children,l=>{i=i.set(new me(l),!0)}),_s(t,new _l(r.path,i,n))}else return[]}function Xi(t,e,n){return _s(t,new yr(_u(),e,n))}function dS(t,e,n){const r=ve.fromObject(n);return _s(t,new hs(_u(),e,r))}function uS(t,e){return _s(t,new Li(_u(),e))}function hS(t,e,n){const r=Eu(t,n);if(r){const s=ju(r),i=s.path,l=s.queryId,a=ot(i,e),c=new Li(wu(l),a);return Pu(t,i,c)}else return[]}function El(t,e,n,r,s=!1){const i=e._path,l=t.syncPointTree_.get(i);let a=[];if(l&&(e._queryIdentifier==="default"||Iy(l,e))){const c=iS(l,e,n,r);rS(l)&&(t.syncPointTree_=t.syncPointTree_.remove(i));const d=c.removed;if(a=c.events,!s){const f=d.findIndex(p=>p._queryParams.loadsAllData())!==-1,u=t.syncPointTree_.findOnPath(i,(p,_)=>Yn(_));if(f&&!u){const p=t.syncPointTree_.subtree(i);if(!p.isEmpty()){const _=mS(p);for(let k=0;k<_.length;++k){const R=_[k],E=R.query,x=Ly(t,R);t.listenProvider_.startListening(di(E),Oi(t,E),x.hashFn,x.onComplete)}}}!u&&d.length>0&&!r&&(f?t.listenProvider_.stopListening(di(e),null):d.forEach(p=>{const _=t.queryToTagMap.get(Xl(p));t.listenProvider_.stopListening(di(p),_)}))}gS(t,d)}return a}function Ay(t,e,n,r){const s=Eu(t,r);if(s!=null){const i=ju(s),l=i.path,a=i.queryId,c=ot(l,e),d=new yr(wu(a),c,n);return Pu(t,l,d)}else return[]}function fS(t,e,n,r){const s=Eu(t,r);if(s){const i=ju(s),l=i.path,a=i.queryId,c=ot(l,e),d=ve.fromObject(n),f=new hs(wu(a),c,d);return Pu(t,l,f)}else return[]}function ad(t,e,n,r=!1){const s=e._path;let i=null,l=!1;t.syncPointTree_.foreachOnPath(s,(p,_)=>{const k=ot(p,s);i=i||$n(_,k),l=l||Yn(_)});let a=t.syncPointTree_.get(s);a?(l=l||Yn(a),i=i||$n(a,he())):(a=new Ey,t.syncPointTree_=t.syncPointTree_.set(s,a));let c;i!=null?c=!0:(c=!1,i=J.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((_,k)=>{const R=$n(k,he());R&&(i=i.updateImmediateChild(_,R))}));const d=Iy(a,e);if(!d&&!e._queryParams.loadsAllData()){const p=Xl(e);F(!t.queryToTagMap.has(p),"View does not exist, but we have a tag");const _=yS();t.queryToTagMap.set(p,_),t.tagToQueryMap.set(_,p)}const f=Kl(t.pendingWriteTree_,s);let u=sS(a,e,n,f,i,c);if(!d&&!l&&!r){const p=Ty(a,e);u=u.concat(xS(t,e,p))}return u}function Nu(t,e,n){const s=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(l,a)=>{const c=ot(l,e),d=$n(a,c);if(d)return d});return wy(s,e,i,n,!0)}function pS(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(d,f)=>{const u=ot(d,n);r=r||$n(f,u)});let s=t.syncPointTree_.get(n);s?r=r||$n(s,he()):(s=new Ey,t.syncPointTree_=t.syncPointTree_.set(n,s));const i=r!=null,l=i?new Vn(r,!0,!1):null,a=Kl(t.pendingWriteTree_,e._path),c=jy(s,e,a,i?l.getNode():J.EMPTY_NODE,i);return q1(c)}function _s(t,e){return Dy(e,t.syncPointTree_,null,Kl(t.pendingWriteTree_,he()))}function Dy(t,e,n,r){if(oe(t.path))return Wy(t,e,n,r);{const s=e.get(he());n==null&&s!=null&&(n=$n(s,he()));let i=[];const l=se(t.path),a=t.operationForChild(l),c=e.children.get(l);if(c&&a){const d=n?n.getImmediateChild(l):null,f=ky(r,l);i=i.concat(Dy(a,c,d,f))}return s&&(i=i.concat(bu(s,t,r,n))),i}}function Wy(t,e,n,r){const s=e.get(he());n==null&&s!=null&&(n=$n(s,he()));let i=[];return e.children.inorderTraversal((l,a)=>{const c=n?n.getImmediateChild(l):null,d=ky(r,l),f=t.operationForChild(l);f&&(i=i.concat(Wy(f,a,c,d)))}),s&&(i=i.concat(bu(s,t,r,n))),i}function Ly(t,e){const n=e.query,r=Oi(t,n);return{hashFn:()=>(X1(e)||J.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return r?hS(t,n._path,r):uS(t,n._path);{const i=uk(s,n);return El(t,n,null,i)}}}}function Oi(t,e){const n=Xl(e);return t.queryToTagMap.get(n)}function Xl(t){return t._path.toString()+"$"+t._queryIdentifier}function Eu(t,e){return t.tagToQueryMap.get(e)}function ju(t){const e=t.indexOf("$");return F(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new me(t.substr(0,e))}}function Pu(t,e,n){const r=t.syncPointTree_.get(e);F(r,"Missing sync point for query tag that we're tracking");const s=Kl(t.pendingWriteTree_,e);return bu(r,n,s,null)}function mS(t){return t.fold((e,n,r)=>{if(n&&Yn(n))return[Ql(n)];{let s=[];return n&&(s=Py(n)),qe(r,(i,l)=>{s=s.concat(l)}),s}})}function di(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(lS())(t._repo,t._path):t}function gS(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const s=Xl(r),i=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(i)}}}function yS(){return aS++}function xS(t,e,n){const r=e._path,s=Oi(t,e),i=Ly(t,n),l=t.listenProvider_.startListening(di(e),s,i.hashFn,i.onComplete),a=t.syncPointTree_.subtree(r);if(s)F(!Yn(a.value),"If we're adding a query, it shouldn't be shadowed");else{const c=a.fold((d,f,u)=>{if(!oe(d)&&f&&Yn(f))return[Ql(f).query];{let p=[];return f&&(p=p.concat(Py(f).map(_=>_.query))),qe(u,(_,k)=>{p=p.concat(k)}),p}});for(let d=0;d<c.length;++d){const f=c[d];t.listenProvider_.stopListening(di(f),Oi(t,f))}}return l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Tu(n)}node(){return this.node_}}class Iu{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=De(this.path_,e);return new Iu(this.syncTree_,n)}node(){return Nu(this.syncTree_,this.path_)}}const vS=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},op=function(t,e,n){if(!t||typeof t!="object")return t;if(F(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return _S(t[".sv"],e,n);if(typeof t[".sv"]=="object")return wS(t[".sv"],e);F(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},_S=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:F(!1,"Unexpected server value: "+t)}},wS=function(t,e,n){t.hasOwnProperty("increment")||F(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&F(!1,"Unexpected increment value: "+r);const s=e.node();if(F(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const l=s.getValue();return typeof l!="number"?r:l+r},Oy=function(t,e,n,r){return Ru(e,new Iu(n,t),r)},My=function(t,e,n){return Ru(t,new Tu(e),n)};function Ru(t,e,n){const r=t.getPriority().val(),s=op(r,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const l=t,a=op(l.getValue(),e,n);return a!==l.getValue()||s!==l.getPriority().val()?new Ue(a,ze(s)):t}else{const l=t;return i=l,s!==l.getPriority().val()&&(i=i.updatePriority(new Ue(s))),l.forEachChild(We,(a,c)=>{const d=Ru(c,e.getImmediateChild(a),n);d!==c&&(i=i.updateImmediateChild(a,d))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Du(t,e){let n=e instanceof me?e:new me(e),r=t,s=se(n);for(;s!==null;){const i=cs(r.node.children,s)||{children:{},childCount:0};r=new Au(s,r,i),n=we(n),s=se(n)}return r}function ws(t){return t.node.value}function zy(t,e){t.node.value=e,cd(t)}function Fy(t){return t.node.childCount>0}function kS(t){return ws(t)===void 0&&!Fy(t)}function ql(t,e){qe(t.node.children,(n,r)=>{e(new Au(n,t,r))})}function By(t,e,n,r){n&&e(t),ql(t,s=>{By(s,e,!0)})}function SS(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function qi(t){return new me(t.parent===null?t.name:qi(t.parent)+"/"+t.name)}function cd(t){t.parent!==null&&CS(t.parent,t.name,t)}function CS(t,e,n){const r=kS(n),s=tn(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,cd(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,cd(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS=/[\[\].#$\/\u0000-\u001F\u007F]/,NS=/[\[\].#$\u0000-\u001F\u007F]/,Ha=10*1024*1024,Wu=function(t){return typeof t=="string"&&t.length!==0&&!bS.test(t)},$y=function(t){return typeof t=="string"&&t.length!==0&&!NS.test(t)},ES=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),$y(t)},jS=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!au(t)||t&&typeof t=="object"&&tn(t,".sv")},Uy=function(t,e,n,r){r&&e===void 0||Jl(Gl(t,"value"),e,n)},Jl=function(t,e,n){const r=n instanceof me?new Hk(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+sr(r));if(typeof e=="function")throw new Error(t+"contains a function "+sr(r)+" with contents = "+e.toString());if(au(e))throw new Error(t+"contains "+e.toString()+" "+sr(r));if(typeof e=="string"&&e.length>Ha/3&&Hl(e)>Ha)throw new Error(t+"contains a string greater than "+Ha+" utf8 bytes "+sr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(qe(e,(l,a)=>{if(l===".value")s=!0;else if(l!==".priority"&&l!==".sv"&&(i=!0,!Wu(l)))throw new Error(t+" contains an invalid key ("+l+") "+sr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Vk(r,l),Jl(t,a,r),Yk(r)}),s&&i)throw new Error(t+' contains ".value" child '+sr(r)+" in addition to actual children.")}},PS=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const i=Ri(r);for(let l=0;l<i.length;l++)if(!(i[l]===".priority"&&l===i.length-1)){if(!Wu(i[l]))throw new Error(t+"contains an invalid key ("+i[l]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(Gk);let s=null;for(n=0;n<e.length;n++){if(r=e[n],s!==null&&Rt(s,r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}},TS=function(t,e,n,r){const s=Gl(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(s+" must be an object containing the children to replace.");const i=[];qe(e,(l,a)=>{const c=new me(l);if(Jl(s,a,De(n,c)),fu(c)===".priority"&&!jS(a))throw new Error(s+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");i.push(c)}),PS(s,i)},Gy=function(t,e,n,r){if(!$y(n))throw new Error(Gl(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},IS=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Gy(t,e,n)},Lu=function(t,e){if(se(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},RS=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Wu(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!ES(n))throw new Error(Gl(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Zl(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();n!==null&&!pu(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&t.eventLists_.push(n)}function Hy(t,e,n){Zl(t,n),Vy(t,r=>pu(r,e))}function Lt(t,e,n){Zl(t,n),Vy(t,r=>Rt(r,e)||Rt(e,r))}function Vy(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const i=s.path;e(i)?(DS(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function DS(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();oi&&Ke("event: "+n.toString()),vs(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS="repo_interrupt",LS=25;class OS{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new AS,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=vl(),this.transactionQueueTree_=new Au,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function MS(t,e,n){if(t.stats_=uu(t.repoInfo_),t.forceRestClient_||mk())t.server_=new xl(t.repoInfo_,(r,s,i,l)=>{lp(t,r,s,i,l)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>ap(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Fe(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new dn(t.repoInfo_,e,(r,s,i,l)=>{lp(t,r,s,i,l)},r=>{ap(t,r)},r=>{zS(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=_k(t.repoInfo_,()=>new v1(t.stats_,t.server_)),t.infoData_=new p1,t.infoSyncTree_=new ip({startListening:(r,s,i,l)=>{let a=[];const c=t.infoData_.getNode(r._path);return c.isEmpty()||(a=Xi(t.infoSyncTree_,r._path,c),setTimeout(()=>{l("ok")},0)),a},stopListening:()=>{}}),Ou(t,"connected",!1),t.serverSyncTree_=new ip({startListening:(r,s,i,l)=>(t.server_.listen(r,i,s,(a,c)=>{const d=l(a,c);Lt(t.eventQueue_,r._path,d)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function Yy(t){const n=t.infoData_.getNode(new me(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function ea(t){return vS({timestamp:Yy(t)})}function lp(t,e,n,r,s){t.dataUpdateCount++;const i=new me(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let l=[];if(s)if(r){const c=hl(n,d=>ze(d));l=fS(t.serverSyncTree_,i,c,s)}else{const c=ze(n);l=Ay(t.serverSyncTree_,i,c,s)}else if(r){const c=hl(n,d=>ze(d));l=dS(t.serverSyncTree_,i,c)}else{const c=ze(n);l=Xi(t.serverSyncTree_,i,c)}let a=i;l.length>0&&(a=ps(t,i)),Lt(t.eventQueue_,a,l)}function ap(t,e){Ou(t,"connected",e),e===!1&&US(t)}function zS(t,e){qe(e,(n,r)=>{Ou(t,n,r)})}function Ou(t,e,n){const r=new me("/.info/"+e),s=ze(n);t.infoData_.updateSnapshot(r,s);const i=Xi(t.infoSyncTree_,r,s);Lt(t.eventQueue_,r,i)}function Mu(t){return t.nextWriteId_++}function FS(t,e,n){const r=pS(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(s=>{const i=ze(s).withIndex(e._queryParams.getIndex());ad(t.serverSyncTree_,e,n,!0);let l;if(e._queryParams.loadsAllData())l=Xi(t.serverSyncTree_,e._path,i);else{const a=Oi(t.serverSyncTree_,e);l=Ay(t.serverSyncTree_,e._path,i,a)}return Lt(t.eventQueue_,e._path,l),El(t.serverSyncTree_,e,n,null,!0),i},s=>(Ji(t,"get for query "+Fe(e)+" failed: "+s),Promise.reject(new Error(s))))}function BS(t,e,n,r,s){Ji(t,"set",{path:e.toString(),value:n,priority:r});const i=ea(t),l=ze(n,r),a=Nu(t.serverSyncTree_,e),c=My(l,a,i),d=Mu(t),f=Ry(t.serverSyncTree_,e,c,d,!0);Zl(t.eventQueue_,f),t.server_.put(e.toString(),l.val(!0),(p,_)=>{const k=p==="ok";k||at("set at "+e+" failed: "+p);const R=Tn(t.serverSyncTree_,d,!k);Lt(t.eventQueue_,e,R),dd(t,s,p,_)});const u=Fu(t,e);ps(t,u),Lt(t.eventQueue_,u,[])}function $S(t,e,n,r){Ji(t,"update",{path:e.toString(),value:n});let s=!0;const i=ea(t),l={};if(qe(n,(a,c)=>{s=!1,l[a]=Oy(De(e,a),ze(c),t.serverSyncTree_,i)}),s)Ke("update() called with empty data.  Don't do anything."),dd(t,r,"ok",void 0);else{const a=Mu(t),c=cS(t.serverSyncTree_,e,l,a);Zl(t.eventQueue_,c),t.server_.merge(e.toString(),n,(d,f)=>{const u=d==="ok";u||at("update at "+e+" failed: "+d);const p=Tn(t.serverSyncTree_,a,!u),_=p.length>0?ps(t,e):e;Lt(t.eventQueue_,_,p),dd(t,r,d,f)}),qe(n,d=>{const f=Fu(t,De(e,d));ps(t,f)}),Lt(t.eventQueue_,e,[])}}function US(t){Ji(t,"onDisconnectEvents");const e=ea(t),n=vl();nd(t.onDisconnect_,he(),(s,i)=>{const l=Oy(s,i,t.serverSyncTree_,e);yy(n,s,l)});let r=[];nd(n,he(),(s,i)=>{r=r.concat(Xi(t.serverSyncTree_,s,i));const l=Fu(t,s);ps(t,l)}),t.onDisconnect_=vl(),Lt(t.eventQueue_,he(),r)}function GS(t,e,n){let r;se(e._path)===".info"?r=ad(t.infoSyncTree_,e,n):r=ad(t.serverSyncTree_,e,n),Hy(t.eventQueue_,e._path,r)}function cp(t,e,n){let r;se(e._path)===".info"?r=El(t.infoSyncTree_,e,n):r=El(t.serverSyncTree_,e,n),Hy(t.eventQueue_,e._path,r)}function HS(t){t.persistentConnection_&&t.persistentConnection_.interrupt(WS)}function Ji(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ke(n,...e)}function dd(t,e,n,r){e&&vs(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let i=s;r&&(i+=": "+r);const l=new Error(i);l.code=s,e(l)}})}function Ky(t,e,n){return Nu(t.serverSyncTree_,e,n)||J.EMPTY_NODE}function zu(t,e=t.transactionQueueTree_){if(e||ta(t,e),ws(e)){const n=Xy(t,e);F(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&VS(t,qi(e),n)}else Fy(e)&&ql(e,n=>{zu(t,n)})}function VS(t,e,n){const r=n.map(d=>d.currentWriteId),s=Ky(t,e,r);let i=s;const l=s.hash();for(let d=0;d<n.length;d++){const f=n[d];F(f.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;const u=ot(e,f.path);i=i.updateChild(u,f.currentOutputSnapshotRaw)}const a=i.val(!0),c=e;t.server_.put(c.toString(),a,d=>{Ji(t,"transaction put response",{path:c.toString(),status:d});let f=[];if(d==="ok"){const u=[];for(let p=0;p<n.length;p++)n[p].status=2,f=f.concat(Tn(t.serverSyncTree_,n[p].currentWriteId)),n[p].onComplete&&u.push(()=>n[p].onComplete(null,!0,n[p].currentOutputSnapshotResolved)),n[p].unwatcher();ta(t,Du(t.transactionQueueTree_,e)),zu(t,t.transactionQueueTree_),Lt(t.eventQueue_,e,f);for(let p=0;p<u.length;p++)vs(u[p])}else{if(d==="datastale")for(let u=0;u<n.length;u++)n[u].status===3?n[u].status=4:n[u].status=0;else{at("transaction at "+c.toString()+" failed: "+d);for(let u=0;u<n.length;u++)n[u].status=4,n[u].abortReason=d}ps(t,e)}},l)}function ps(t,e){const n=Qy(t,e),r=qi(n),s=Xy(t,n);return YS(t,s,r),r}function YS(t,e,n){if(e.length===0)return;const r=[];let s=[];const l=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const c=e[a],d=ot(n,c.path);let f=!1,u;if(F(d!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)f=!0,u=c.abortReason,s=s.concat(Tn(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=LS)f=!0,u="maxretry",s=s.concat(Tn(t.serverSyncTree_,c.currentWriteId,!0));else{const p=Ky(t,c.path,l);c.currentInputSnapshot=p;const _=e[a].update(p.val());if(_!==void 0){Jl("transaction failed: Data returned ",_,c.path);let k=ze(_);typeof _=="object"&&_!=null&&tn(_,".priority")||(k=k.updatePriority(p.getPriority()));const E=c.currentWriteId,x=ea(t),y=My(k,p,x);c.currentOutputSnapshotRaw=k,c.currentOutputSnapshotResolved=y,c.currentWriteId=Mu(t),l.splice(l.indexOf(E),1),s=s.concat(Ry(t.serverSyncTree_,c.path,y,c.currentWriteId,c.applyLocally)),s=s.concat(Tn(t.serverSyncTree_,E,!0))}else f=!0,u="nodata",s=s.concat(Tn(t.serverSyncTree_,c.currentWriteId,!0))}Lt(t.eventQueue_,n,s),s=[],f&&(e[a].status=2,function(p){setTimeout(p,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(u==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(u),!1,null))))}ta(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)vs(r[a]);zu(t,t.transactionQueueTree_)}function Qy(t,e){let n,r=t.transactionQueueTree_;for(n=se(e);n!==null&&ws(r)===void 0;)r=Du(r,n),e=we(e),n=se(e);return r}function Xy(t,e){const n=[];return qy(t,e,n),n.sort((r,s)=>r.order-s.order),n}function qy(t,e,n){const r=ws(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);ql(e,s=>{qy(t,s,n)})}function ta(t,e){const n=ws(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,zy(e,n.length>0?n:void 0)}ql(e,r=>{ta(t,r)})}function Fu(t,e){const n=qi(Qy(t,e)),r=Du(t.transactionQueueTree_,e);return SS(r,s=>{Va(t,s)}),Va(t,r),By(r,s=>{Va(t,s)}),n}function Va(t,e){const n=ws(e);if(n){const r=[];let s=[],i=-1;for(let l=0;l<n.length;l++)n[l].status===3||(n[l].status===1?(F(i===l-1,"All SENT items should be at beginning of queue."),i=l,n[l].status=3,n[l].abortReason="set"):(F(n[l].status===0,"Unexpected transaction status in abort"),n[l].unwatcher(),s=s.concat(Tn(t.serverSyncTree_,n[l].currentWriteId,!0)),n[l].onComplete&&r.push(n[l].onComplete.bind(null,new Error("set"),!1,null))));i===-1?zy(e,void 0):n.length=i+1,Lt(t.eventQueue_,qi(e),s);for(let l=0;l<r.length;l++)vs(r[l])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function QS(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):at(`Invalid query segment '${n}' in query '${t}'`)}return e}const dp=function(t,e){const n=XS(t),r=n.namespace;n.domain==="firebase.com"&&gn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&gn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||ok();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new ey(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new me(n.pathString)}},XS=function(t){let e="",n="",r="",s="",i="",l=!0,a="https",c=443;if(typeof t=="string"){let d=t.indexOf("//");d>=0&&(a=t.substring(0,d-1),t=t.substring(d+2));let f=t.indexOf("/");f===-1&&(f=t.length);let u=t.indexOf("?");u===-1&&(u=t.length),e=t.substring(0,Math.min(f,u)),f<u&&(s=KS(t.substring(f,u)));const p=QS(t.substring(Math.min(t.length,u)));d=e.indexOf(":"),d>=0?(l=a==="https"||a==="wss",c=parseInt(e.substring(d+1),10)):d=e.length;const _=e.slice(0,d);if(_.toLowerCase()==="localhost")n="localhost";else if(_.split(".").length<=2)n=_;else{const k=e.indexOf(".");r=e.substring(0,k).toLowerCase(),n=e.substring(k+1),i=r}"ns"in p&&(i=p.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:l,scheme:a,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",qS=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let s;const i=new Array(8);for(s=7;s>=0;s--)i[s]=up.charAt(n%64),n=Math.floor(n/64);F(n===0,"Cannot push at time == 0");let l=i.join("");if(r){for(s=11;s>=0&&e[s]===63;s--)e[s]=0;e[s]++}else for(s=0;s<12;s++)e[s]=Math.floor(Math.random()*64);for(s=0;s<12;s++)l+=up.charAt(e[s]);return F(l.length===20,"nextPushId: Length should be 20."),l}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,n,r,s){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Fe(this.snapshot.exportVal())}}class ZS{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return F(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return oe(this._path)?null:fu(this._path)}get ref(){return new xn(this._repo,this._path)}get _queryIdentifier(){const e=Qf(this._queryParams),n=cu(e);return n==="{}"?"default":n}get _queryObject(){return Qf(this._queryParams)}isEqual(e){if(e=Sr(e),!(e instanceof Bu))return!1;const n=this._repo===e._repo,r=pu(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+Uk(this._path)}}class xn extends Bu{constructor(e,n){super(e,n,new xu,!1)}get parent(){const e=cy(this._path);return e===null?null:new xn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Mi{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new me(e),r=zi(this.ref,e);return new Mi(this._node.getChild(n),r,We)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,s)=>e(new Mi(s,zi(this.ref,r),We)))}hasChild(e){const n=new me(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function K(t,e){return t=Sr(t),t._checkNotDeleted("ref"),e!==void 0?zi(t._root,e):t._root}function zi(t,e){return t=Sr(t),se(t._path)===null?IS("child","path",e):Gy("child","path",e),new xn(t._repo,De(t._path,e))}function Ar(t,e){t=Sr(t),Lu("push",t._path),Uy("push",e,t._path,!0);const n=Yy(t._repo),r=qS(n),s=zi(t,r),i=zi(t,r);let l;return e!=null?l=xe(i,e).then(()=>i):l=Promise.resolve(i),s.then=l.then.bind(l),s.catch=l.then.bind(l,void 0),s}function Ya(t){return Lu("remove",t._path),xe(t,null)}function xe(t,e){t=Sr(t),Lu("set",t._path),Uy("set",e,t._path,!1);const n=new Hi;return BS(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Eo(t,e){TS("update",e,t._path);const n=new Hi;return $S(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function jt(t){t=Sr(t);const e=new Jy(()=>{}),n=new na(e);return FS(t._repo,t,n).then(r=>new Mi(r,new xn(t._repo,t._path),t._queryParams.getIndex()))}class na{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new JS("value",this,new Mi(e.snapshotNode,new xn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new ZS(this,e,n):null}matches(e){return e instanceof na?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function eC(t,e,n,r,s){let i;if(typeof r=="object"&&(i=void 0,s=r),typeof r=="function"&&(i=r),s&&s.onlyOnce){const c=n,d=(f,u)=>{cp(t._repo,t,a),c(f,u)};d.userCallback=n.userCallback,d.context=n.context,n=d}const l=new Jy(n,i||void 0),a=new na(l);return GS(t._repo,t,a),()=>cp(t._repo,t,a)}function ft(t,e,n,r){return eC(t,"value",e,n,r)}tS(xn);oS(xn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC="FIREBASE_DATABASE_EMULATOR_HOST",ud={};let nC=!1;function rC(t,e,n,r){t.repoInfo_=new ey(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function sC(t,e,n,r,s){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||gn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ke("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let l=dp(i,s),a=l.repoInfo,c;typeof process<"u"&&If&&(c=If[tC]),c?(i=`http://${c}?ns=${a.namespace}`,l=dp(i,s),a=l.repoInfo):l.repoInfo.secure;const d=new yk(t.name,t.options,e);RS("Invalid Firebase Database URL",l),oe(l.path)||gn("Database URL must point to the root of a Firebase Database (not including a child path).");const f=oC(a,t,d,new gk(t.name,n));return new lC(f,t)}function iC(t,e){const n=ud[e];(!n||n[t.key]!==t)&&gn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),HS(t),delete n[t.key]}function oC(t,e,n,r){let s=ud[e.name];s||(s={},ud[e.name]=s);let i=s[t.toURLString()];return i&&gn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new OS(t,nC,n,r),s[t.toURLString()]=i,i}class lC{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(MS(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new xn(this._repo,he())),this._rootInternal}_delete(){return this._rootInternal!==null&&(iC(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&gn("Cannot call "+e+" on a deleted database.")}}function $u(t=$w(),e){const n=Mw(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=E_("database");r&&aC(n,...r)}return n}function aC(t,e,n,r={}){t=Sr(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&gn("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let i;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&gn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),i=new Fo(Fo.OWNER);else if(r.mockUserToken){const l=typeof r.mockUserToken=="string"?r.mockUserToken:j_(r.mockUserToken,t.app.options.projectId);i=new Fo(l)}rC(s,e,n,i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(t){ek(Bw),pl(new Pi("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return sC(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),Zr(Rf,Af,t),Zr(Rf,Af,"esm2017")}dn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};dn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};cC();function dC({allPicks:t,actualScores:e,currentWeek:n,playerName:r,playerCode:s,isPoolManager:i,prizePool:l,officialWinners:a,onLogout:c}){const[d,f]=M.useState({"Week 1":!0,"Week 2":!1,"Week 3":!1,"Week 4":!1,"Grand Prizes":!1}),u=v=>{f(N=>({...N,[v]:!N[v]}))},p=()=>{f({"Week 1":!0,"Week 2":!0,"Week 3":!0,"Week 4":!0,"Grand Prizes":!0})},_=()=>{f({"Week 1":!1,"Week 2":!1,"Week 3":!1,"Week 4":!1,"Grand Prizes":!1})},k=(v,N,C)=>{if(!v||!N||!N[C])return 0;let P=0;const D=N[C];return Object.keys(v).forEach(A=>{const L=v[A],b=D[A];if(!L||!b)return;const W=parseInt(L.team1),U=parseInt(L.team2),ne=parseInt(b.team1),X=parseInt(b.team2);if(isNaN(W)||isNaN(U)||isNaN(ne)||isNaN(X))return;const G=W>U?"team1":U>W?"team2":"tie",ge=ne>X?"team1":X>ne?"team2":"tie";G===ge&&ge!=="tie"&&P++}),P},R=(v,N,C)=>{if(!v||!N||!N[C])return null;let P=0,D=0;const A=N[C];return Object.keys(v).forEach(L=>{const b=v[L],W=A[L];if(!b||!W)return;const U=parseInt(b.team1),ne=parseInt(b.team2),X=parseInt(W.team1),G=parseInt(W.team2);isNaN(U)||isNaN(ne)||isNaN(X)||isNaN(G)||(P+=U+ne,D+=X+G)}),Math.abs(P-D)},E=(v,N,C)=>{let P=0,D=0;return C.forEach(A=>{const L=v[A];if(L){P+=k(L,N,A);const b=R(L,N,A);b!==null&&(D+=b)}}),{correctWinners:P,pointsDifference:D}},x={wildcard:"Week 1",divisional:"Week 2",conference:"Week 3",superbowl:"Week 4"},y=M.useMemo(()=>{const v={};return t.forEach(N=>{const C=N.playerName;v[C]||(v[C]={wildcard:null,divisional:null,conference:null,superbowl:null}),v[C][N.week]=N.predictions}),v},[t]),S=M.useMemo(()=>{const v=[],N=["wildcard","divisional","conference","superbowl"];N.slice(0,3).forEach((b,W)=>{const U=x[b],ne=Object.entries(y).map(([G,ge])=>({playerName:G,score:k(ge[b],e,b)})).filter(G=>G.score>0).sort((G,ge)=>ge.score-G.score);v.push({prizeNumber:W*2+1,name:`${U} - Most Correct Predictions`,week:b,type:"correctWinners",leaders:ne.slice(0,5)});const X=Object.entries(y).map(([G,ge])=>({playerName:G,score:R(ge[b],e,b)})).filter(G=>G.score!==null).sort((G,ge)=>G.score-ge.score);v.push({prizeNumber:W*2+2,name:`${U} - Closest Total Points`,week:b,type:"pointsDifference",leaders:X.slice(0,5)})});const C="superbowl",P=Object.entries(y).map(([b,W])=>({playerName:b,score:k(W[C],e,C)})).filter(b=>b.score>0).sort((b,W)=>W.score-b.score);v.push({prizeNumber:7,name:"Week 4 - Most Correct Predictions",week:C,type:"correctWinners",leaders:P.slice(0,5)});const D=Object.entries(y).map(([b,W])=>({playerName:b,score:R(W[C],e,C)})).filter(b=>b.score!==null).sort((b,W)=>b.score-W.score);v.push({prizeNumber:8,name:"Week 4 - Closest Total Points",week:C,type:"pointsDifference",leaders:D.slice(0,5)});const A=Object.entries(y).map(([b,W])=>{const U=E(W,e,N);return{playerName:b,score:U.correctWinners}}).filter(b=>b.score>0).sort((b,W)=>W.score-b.score);v.push({prizeNumber:9,name:"Cumulative (All 4 Weeks) - Most Correct Predictions",week:"all",type:"correctWinners",leaders:A.slice(0,5)});const L=Object.entries(y).map(([b,W])=>{const U=E(W,e,N);return{playerName:b,score:U.pointsDifference}}).filter(b=>b.score!==null&&b.score>=0).sort((b,W)=>b.score-W.score);return v.push({prizeNumber:10,name:"Cumulative (All 4 Weeks) - Closest Total Points",week:"all",type:"pointsDifference",leaders:L.slice(0,5)}),v},[y,e]);return o.jsx("div",{className:"standings-page",children:o.jsxs("div",{className:"container",children:[o.jsxs("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"20px",borderRadius:"8px",marginBottom:"20px",color:"white"},children:[o.jsx("div",{style:{fontSize:"0.9rem",marginBottom:"5px"},children:" VERIFIED"}),o.jsxs("div",{style:{fontSize:"1.2rem",fontWeight:"bold",marginBottom:"5px"},children:["Viewing as: ",r]}),i&&o.jsx("div",{style:{fontSize:"0.9rem",marginBottom:"10px",color:"#ffd700",fontWeight:"600"},children:" POOL MANAGER"}),o.jsx("button",{onClick:()=>{console.log(" STANDINGS: Logout button clicked"),console.log(" STANDINGS: onLogout function:",c),console.log(" STANDINGS: Calling onLogout..."),c(),console.log(" STANDINGS: onLogout called")},style:{background:"white",color:"#764ba2",border:"none",padding:"10px 20px",borderRadius:"6px",fontSize:"0.95rem",fontWeight:"600",cursor:"pointer",marginTop:"10px",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:" Logout / Switch Entry"}),o.jsx("p",{style:{fontSize:"0.85rem",marginTop:"10px",opacity:.9,fontStyle:"italic"},children:" Playing with multiple entries? Logout to switch between your codes."})]}),o.jsx("h1",{className:"standings-title",children:" Standings & Prize Leaders"}),l&&l.totalFees>0&&o.jsxs("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"25px",borderRadius:"12px",marginBottom:"30px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[o.jsx("h2",{style:{margin:"0 0 20px 0",fontSize:"1.5rem"},children:" Prize Pool Information"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginBottom:"15px"},children:[o.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:"15px",borderRadius:"8px"},children:[o.jsx("div",{style:{fontSize:"0.9rem",opacity:.9,marginBottom:"5px"},children:"Total Pool Fees"}),o.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:["$",l.totalFees.toFixed(2)]})]}),o.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:"15px",borderRadius:"8px"},children:[o.jsx("div",{style:{fontSize:"0.9rem",opacity:.9,marginBottom:"5px"},children:"Number of Players"}),o.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:l.numberOfPlayers})]}),o.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:"15px",borderRadius:"8px"},children:[o.jsx("div",{style:{fontSize:"0.9rem",opacity:.9,marginBottom:"5px"},children:"Entry Fee"}),o.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:["$",l.entryFee]})]}),o.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:"15px",borderRadius:"8px"},children:[o.jsx("div",{style:{fontSize:"0.9rem",opacity:.9,marginBottom:"5px"},children:"Each Prize (10%)"}),o.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:["$",l.prizeValue.toFixed(2)]})]})]}),o.jsx("div",{style:{fontSize:"0.9rem",opacity:.9},children:" 10 prizes total  Equal 10% distribution  Ties split equally"})]}),a&&Object.keys(a).length>0&&o.jsxs("div",{style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"white",padding:"25px",borderRadius:"12px",marginBottom:"30px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[o.jsx("h2",{style:{margin:"0 0 5px 0",fontSize:"1.5rem"},children:" OFFICIAL PRIZE AWARDS"}),o.jsx("div",{style:{fontSize:"0.9rem",opacity:.9,marginBottom:"20px",fontStyle:"italic"},children:"Declared by Pool Manager"}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"20px"},children:Object.entries(a).sort((v,N)=>v[1].prizeNumber-N[1].prizeNumber).map(([v,N])=>o.jsxs("div",{style:{background:"rgba(255,255,255,0.95)",color:"#333",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 8px rgba(0,0,0,0.15)"},children:[o.jsxs("div",{style:{fontWeight:"bold",fontSize:"1.1rem",marginBottom:"8px",color:"#f5576c"},children:["Prize #",N.prizeNumber]}),o.jsx("div",{style:{fontSize:"0.9rem",color:"#666",marginBottom:"12px"},children:N.prizeName.replace(`Prize #${N.prizeNumber} - `,"")}),o.jsxs("div",{style:{fontSize:"0.85rem",fontWeight:"600",color:"#999",marginBottom:"12px"},children:["Prize Value: $",N.prizeValue.toFixed(2)]}),o.jsx("div",{style:{borderTop:"2px solid #f093fb",paddingTop:"12px"},children:N.winners.map((C,P)=>o.jsxs("div",{style:{padding:"8px 0",borderBottom:P<N.winners.length-1?"1px solid #eee":"none"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"10px"},children:[o.jsxs("div",{style:{fontWeight:"700",fontSize:"1rem",color:"#333"},children:[" ",C.playerName]}),o.jsxs("div",{style:{fontSize:"0.95rem",fontWeight:"600",color:"#f5576c"},children:["$",C.amount.toFixed(2)]})]}),o.jsxs("div",{style:{fontSize:"0.8rem",color:"#888",marginTop:"2px"},children:[C.percentage.toFixed(2),"% of prize"]})]},P))})]},v))})]}),o.jsx("div",{style:{background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",color:"white",padding:"20px 25px",borderRadius:"12px",marginBottom:"25px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",border:"2px solid rgba(255,255,255,0.3)"},children:o.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"15px"},children:[o.jsx("div",{style:{fontSize:"2rem",lineHeight:"1"},children:""}),o.jsxs("div",{style:{flex:1},children:[o.jsx("h3",{style:{margin:"0 0 10px 0",fontSize:"1.2rem",fontWeight:"700"},children:"How Prize Leaders Work"}),o.jsxs("div",{style:{fontSize:"0.95rem",lineHeight:"1.6",opacity:.95},children:[o.jsxs("p",{style:{margin:"0 0 10px 0"},children:["This page shows ",o.jsx("strong",{children:"current leaders"})," for each prize category based on games scored so far."]}),o.jsxs("p",{style:{margin:"0 0 10px 0"},children:[o.jsx("strong",{children:" These are NOT final results!"})," Rankings will change as more games are scored throughout the playoffs."]}),o.jsxs("p",{style:{margin:"0"},children:[o.jsx("strong",{children:"Official prize awards"})," will be declared by the Pool Manager after all games are completed and verified."]})]})]})]})}),o.jsxs("div",{style:{display:"flex",gap:"15px",justifyContent:"center",margin:"20px 0"},children:[o.jsx("button",{onClick:p,style:{padding:"10px 20px",background:"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.95rem",fontWeight:"600",transition:"all 0.2s"},onMouseOver:v=>v.target.style.background="#5568d3",onMouseOut:v=>v.target.style.background="#667eea",children:" Expand All Weeks"}),o.jsx("button",{onClick:_,style:{padding:"10px 20px",background:"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.95rem",fontWeight:"600",transition:"all 0.2s"},onMouseOver:v=>v.target.style.background="#5568d3",onMouseOut:v=>v.target.style.background="#667eea",children:" Collapse All Weeks"})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsxs("h3",{onClick:()=>u("Week 1"),style:{cursor:"pointer",userSelect:"none",display:"flex",alignItems:"center",gap:"10px",padding:"15px 20px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:"8px",transition:"all 0.3s",marginBottom:d["Week 1"]?"20px":"0",borderBottomLeftRadius:d["Week 1"]?"0":"8px",borderBottomRightRadius:d["Week 1"]?"0":"8px"},onMouseEnter:v=>{v.currentTarget.style.transform="translateX(5px)",v.currentTarget.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)"},onMouseLeave:v=>{v.currentTarget.style.transform="translateX(0)",v.currentTarget.style.boxShadow="none"},children:[o.jsx("span",{style:{fontSize:"1.2rem",transition:"transform 0.3s"},children:d["Week 1"]?"":""}),"Week 1 Prizes (Wild Card Round)"]}),d["Week 1"]&&o.jsx("div",{className:"prizes-grid",children:S.filter(v=>v.prizeNumber>=1&&v.prizeNumber<=2).map(v=>{const N=v.type==="correctWinners"?"Players who correctly predicted the most game outcomes (which team won)":"Players whose predicted total scores were closest to the actual combined scores";return o.jsxs("div",{className:"prize-card",children:[o.jsxs("div",{className:"prize-header",children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"5px"},children:[o.jsxs("div",{className:"prize-number",children:["PRIZE #",v.prizeNumber]}),o.jsx("div",{title:N,style:{cursor:"help",fontSize:"1.1rem",opacity:.7,transition:"opacity 0.2s"},onMouseOver:C=>C.target.style.opacity="1",onMouseOut:C=>C.target.style.opacity="0.7",children:""})]}),o.jsx("div",{className:"prize-name",children:v.name}),o.jsx("div",{style:{fontSize:"0.85rem",color:"#666",fontWeight:"600",marginTop:"5px",fontStyle:"italic"},children:"Current Leaders"})]}),o.jsx("div",{className:"prize-leaders",children:v.leaders.length===0?o.jsx("div",{className:"no-data",children:"No data available yet"}):o.jsxs("table",{className:"leaders-table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Rank"}),o.jsx("th",{children:"Player"}),o.jsx("th",{children:v.type==="correctWinners"?"Correct":"Difference"})]})}),o.jsx("tbody",{children:v.leaders.map((C,P)=>{const D=P>0&&C.score===v.leaders[P-1].score,A=D?"=":P+1,L=P===0&&!D;return o.jsxs("tr",{className:L?"leader-first":"",children:[o.jsxs("td",{className:"rank",children:[A,L&&o.jsx("span",{style:{marginLeft:"5px",fontSize:"0.8em"},children:""})]}),o.jsxs("td",{className:"player-name",children:[C.playerName,L&&o.jsx("span",{style:{marginLeft:"8px",fontSize:"0.7rem",background:"#4facfe",color:"white",padding:"2px 6px",borderRadius:"4px",fontWeight:"600"},children:"LEADING"})]}),o.jsx("td",{className:"score",children:v.type==="correctWinners"?`${C.score} correct`:`${C.score} pts`})]},P)})})]})})]},v.prizeNumber)})})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsxs("h3",{onClick:()=>u("Week 2"),style:{cursor:"pointer",userSelect:"none",display:"flex",alignItems:"center",gap:"10px",padding:"15px 20px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:"8px",transition:"all 0.3s",marginBottom:d["Week 2"]?"20px":"0",borderBottomLeftRadius:d["Week 2"]?"0":"8px",borderBottomRightRadius:d["Week 2"]?"0":"8px"},onMouseEnter:v=>{v.currentTarget.style.transform="translateX(5px)",v.currentTarget.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)"},onMouseLeave:v=>{v.currentTarget.style.transform="translateX(0)",v.currentTarget.style.boxShadow="none"},children:[o.jsx("span",{style:{fontSize:"1.2rem",transition:"transform 0.3s"},children:d["Week 2"]?"":""}),"Week 2 Prizes (Divisional Round)"]}),d["Week 2"]&&o.jsx("div",{className:"prizes-grid",children:S.filter(v=>v.prizeNumber>=3&&v.prizeNumber<=4).map(v=>{const N=v.type==="correctWinners"?"Players who correctly predicted the most game outcomes (which team won)":"Players whose predicted total scores were closest to the actual combined scores";return o.jsxs("div",{className:"prize-card",children:[o.jsxs("div",{className:"prize-header",children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"5px"},children:[o.jsxs("div",{className:"prize-number",children:["PRIZE #",v.prizeNumber]}),o.jsx("div",{title:N,style:{cursor:"help",fontSize:"1.1rem",opacity:.7,transition:"opacity 0.2s"},onMouseOver:C=>C.target.style.opacity="1",onMouseOut:C=>C.target.style.opacity="0.7",children:""})]}),o.jsx("div",{className:"prize-name",children:v.name}),o.jsx("div",{style:{fontSize:"0.85rem",color:"#666",fontWeight:"600",marginTop:"5px",fontStyle:"italic"},children:"Current Leaders"})]}),o.jsx("div",{className:"prize-leaders",children:v.leaders.length===0?o.jsx("div",{className:"no-data",children:"No data available yet"}):o.jsxs("table",{className:"leaders-table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Rank"}),o.jsx("th",{children:"Player"}),o.jsx("th",{children:v.type==="correctWinners"?"Correct":"Difference"})]})}),o.jsx("tbody",{children:v.leaders.map((C,P)=>{const D=P>0&&C.score===v.leaders[P-1].score,A=D?"=":P+1,L=P===0&&!D;return o.jsxs("tr",{className:L?"leader-first":"",children:[o.jsxs("td",{className:"rank",children:[A,L&&o.jsx("span",{style:{marginLeft:"5px",fontSize:"0.8em"},children:""})]}),o.jsxs("td",{className:"player-name",children:[C.playerName,L&&o.jsx("span",{style:{marginLeft:"8px",fontSize:"0.7rem",background:"#4facfe",color:"white",padding:"2px 6px",borderRadius:"4px",fontWeight:"600"},children:"LEADING"})]}),o.jsx("td",{className:"score",children:v.type==="correctWinners"?`${C.score} correct`:`${C.score} pts`})]},P)})})]})})]},v.prizeNumber)})})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsxs("h3",{onClick:()=>u("Week 3"),style:{cursor:"pointer",userSelect:"none",display:"flex",alignItems:"center",gap:"10px",padding:"15px 20px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:"8px",transition:"all 0.3s",marginBottom:d["Week 3"]?"20px":"0",borderBottomLeftRadius:d["Week 3"]?"0":"8px",borderBottomRightRadius:d["Week 3"]?"0":"8px"},onMouseEnter:v=>{v.currentTarget.style.transform="translateX(5px)",v.currentTarget.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)"},onMouseLeave:v=>{v.currentTarget.style.transform="translateX(0)",v.currentTarget.style.boxShadow="none"},children:[o.jsx("span",{style:{fontSize:"1.2rem",transition:"transform 0.3s"},children:d["Week 3"]?"":""}),"Week 3 Prizes (Conference Championships)"]}),d["Week 3"]&&o.jsx("div",{className:"prizes-grid",children:S.filter(v=>v.prizeNumber>=5&&v.prizeNumber<=6).map(v=>{const N=v.type==="correctWinners"?"Players who correctly predicted the most game outcomes (which team won)":"Players whose predicted total scores were closest to the actual combined scores";return o.jsxs("div",{className:"prize-card",children:[o.jsxs("div",{className:"prize-header",children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"5px"},children:[o.jsxs("div",{className:"prize-number",children:["PRIZE #",v.prizeNumber]}),o.jsx("div",{title:N,style:{cursor:"help",fontSize:"1.1rem",opacity:.7,transition:"opacity 0.2s"},onMouseOver:C=>C.target.style.opacity="1",onMouseOut:C=>C.target.style.opacity="0.7",children:""})]}),o.jsx("div",{className:"prize-name",children:v.name}),o.jsx("div",{style:{fontSize:"0.85rem",color:"#666",fontWeight:"600",marginTop:"5px",fontStyle:"italic"},children:"Current Leaders"})]}),o.jsx("div",{className:"prize-leaders",children:v.leaders.length===0?o.jsx("div",{className:"no-data",children:"No data available yet"}):o.jsxs("table",{className:"leaders-table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Rank"}),o.jsx("th",{children:"Player"}),o.jsx("th",{children:v.type==="correctWinners"?"Correct":"Difference"})]})}),o.jsx("tbody",{children:v.leaders.map((C,P)=>{const D=P>0&&C.score===v.leaders[P-1].score,A=D?"=":P+1,L=P===0&&!D;return o.jsxs("tr",{className:L?"leader-first":"",children:[o.jsxs("td",{className:"rank",children:[A,L&&o.jsx("span",{style:{marginLeft:"5px",fontSize:"0.8em"},children:""})]}),o.jsxs("td",{className:"player-name",children:[C.playerName,L&&o.jsx("span",{style:{marginLeft:"8px",fontSize:"0.7rem",background:"#4facfe",color:"white",padding:"2px 6px",borderRadius:"4px",fontWeight:"600"},children:"LEADING"})]}),o.jsx("td",{className:"score",children:v.type==="correctWinners"?`${C.score} correct`:`${C.score} pts`})]},P)})})]})})]},v.prizeNumber)})})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsxs("h3",{onClick:()=>u("Week 4"),style:{cursor:"pointer",userSelect:"none",display:"flex",alignItems:"center",gap:"10px",padding:"15px 20px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:"8px",transition:"all 0.3s",marginBottom:d["Week 4"]?"20px":"0",borderBottomLeftRadius:d["Week 4"]?"0":"8px",borderBottomRightRadius:d["Week 4"]?"0":"8px"},onMouseEnter:v=>{v.currentTarget.style.transform="translateX(5px)",v.currentTarget.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)"},onMouseLeave:v=>{v.currentTarget.style.transform="translateX(0)",v.currentTarget.style.boxShadow="none"},children:[o.jsx("span",{style:{fontSize:"1.2rem",transition:"transform 0.3s"},children:d["Week 4"]?"":""}),"Week 4 Prizes (Super Bowl)"]}),d["Week 4"]&&o.jsx("div",{className:"prizes-grid",children:S.filter(v=>v.prizeNumber>=7&&v.prizeNumber<=8).map(v=>{const N=v.type==="correctWinners"?"Players who correctly predicted the most game outcomes (which team won)":"Players whose predicted total scores were closest to the actual combined scores";return o.jsxs("div",{className:"prize-card",children:[o.jsxs("div",{className:"prize-header",children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"5px"},children:[o.jsxs("div",{className:"prize-number",children:["PRIZE #",v.prizeNumber]}),o.jsx("div",{title:N,style:{cursor:"help",fontSize:"1.1rem",opacity:.7,transition:"opacity 0.2s"},onMouseOver:C=>C.target.style.opacity="1",onMouseOut:C=>C.target.style.opacity="0.7",children:""})]}),o.jsx("div",{className:"prize-name",children:v.name}),o.jsx("div",{style:{fontSize:"0.85rem",color:"#666",fontWeight:"600",marginTop:"5px",fontStyle:"italic"},children:"Current Leaders"})]}),o.jsx("div",{className:"prize-leaders",children:v.leaders.length===0?o.jsx("div",{className:"no-data",children:"No data available yet"}):o.jsxs("table",{className:"leaders-table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Rank"}),o.jsx("th",{children:"Player"}),o.jsx("th",{children:v.type==="correctWinners"?"Correct":"Difference"})]})}),o.jsx("tbody",{children:v.leaders.map((C,P)=>{const D=P>0&&C.score===v.leaders[P-1].score,A=D?"=":P+1,L=P===0&&!D;return o.jsxs("tr",{className:L?"leader-first":"",children:[o.jsxs("td",{className:"rank",children:[A,L&&o.jsx("span",{style:{marginLeft:"5px",fontSize:"0.8em"},children:""})]}),o.jsxs("td",{className:"player-name",children:[C.playerName,L&&o.jsx("span",{style:{marginLeft:"8px",fontSize:"0.7rem",background:"#4facfe",color:"white",padding:"2px 6px",borderRadius:"4px",fontWeight:"600"},children:"LEADING"})]}),o.jsx("td",{className:"score",children:v.type==="correctWinners"?`${C.score} correct`:`${C.score} pts`})]},P)})})]})})]},v.prizeNumber)})})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsxs("h3",{onClick:()=>u("Grand Prizes"),style:{cursor:"pointer",userSelect:"none",display:"flex",alignItems:"center",gap:"10px",padding:"15px 20px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:"8px",transition:"all 0.3s",marginBottom:d["Grand Prizes"]?"20px":"0",borderBottomLeftRadius:d["Grand Prizes"]?"0":"8px",borderBottomRightRadius:d["Grand Prizes"]?"0":"8px"},onMouseEnter:v=>{v.currentTarget.style.transform="translateX(5px)",v.currentTarget.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)"},onMouseLeave:v=>{v.currentTarget.style.transform="translateX(0)",v.currentTarget.style.boxShadow="none"},children:[o.jsx("span",{style:{fontSize:"1.2rem",transition:"transform 0.3s"},children:d["Grand Prizes"]?"":""}),"Grand Prizes (All Weeks Combined)"]}),d["Grand Prizes"]&&o.jsx("div",{className:"prizes-grid",children:S.filter(v=>v.prizeNumber>=9&&v.prizeNumber<=10).map(v=>{const N=v.type==="correctWinners"?"Players who correctly predicted the most game outcomes (which team won)":"Players whose predicted total scores were closest to the actual combined scores";return o.jsxs("div",{className:"prize-card",children:[o.jsxs("div",{className:"prize-header",children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"5px"},children:[o.jsxs("div",{className:"prize-number",children:["PRIZE #",v.prizeNumber]}),o.jsx("div",{title:N,style:{cursor:"help",fontSize:"1.1rem",opacity:.7,transition:"opacity 0.2s"},onMouseOver:C=>C.target.style.opacity="1",onMouseOut:C=>C.target.style.opacity="0.7",children:""})]}),o.jsx("div",{className:"prize-name",children:v.name}),o.jsx("div",{style:{fontSize:"0.85rem",color:"#666",fontWeight:"600",marginTop:"5px",fontStyle:"italic"},children:"Current Leaders"})]}),o.jsx("div",{className:"prize-leaders",children:v.leaders.length===0?o.jsx("div",{className:"no-data",children:"No data available yet"}):o.jsxs("table",{className:"leaders-table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Rank"}),o.jsx("th",{children:"Player"}),o.jsx("th",{children:v.type==="correctWinners"?"Correct":"Difference"})]})}),o.jsx("tbody",{children:v.leaders.map((C,P)=>{const D=P>0&&C.score===v.leaders[P-1].score,A=D?"=":P+1,L=P===0&&!D;return o.jsxs("tr",{className:L?"leader-first":"",children:[o.jsxs("td",{className:"rank",children:[A,L&&o.jsx("span",{style:{marginLeft:"5px",fontSize:"0.8em"},children:""})]}),o.jsxs("td",{className:"player-name",children:[C.playerName,L&&o.jsx("span",{style:{marginLeft:"8px",fontSize:"0.7rem",background:"#4facfe",color:"white",padding:"2px 6px",borderRadius:"4px",fontWeight:"600"},children:"LEADING"})]}),o.jsx("td",{className:"score",children:v.type==="correctWinners"?`${C.score} correct`:`${C.score} pts`})]},P)})})]})})]},v.prizeNumber)})})]}),o.jsx("div",{className:"standings-note",children:o.jsxs("p",{children:[o.jsx("strong",{children:"Note:"}),' Tied players are shown with "=" rank. Pool Manager will resolve ties and declare official prize awards after all games are completed.']})})]})})}function uC({currentWeek:t,games:e,actualScores:n,teamCodes:r,onScoresFetched:s,onGameLockToggle:i,gameLocks:l,espnAutoRefresh:a}){const[c,d]=M.useState(!1),[f,u]=M.useState(null),[p,_]=M.useState(null),[k,R]=M.useState(!1),[E,x]=M.useState(!1),y=async()=>{if(!(c||E)){d(!0),_({type:"loading",message:"Fetching scores from ESPN..."});try{await s(),u(new Date),_({type:"success",message:"Scores updated successfully!"}),setTimeout(()=>_(null),3e3)}catch(P){_({type:"error",message:`Error: ${P.message}`})}finally{d(!1)}}},S=()=>{k?(a.stop(),R(!1),_({type:"info",message:"Auto-refresh stopped"})):(a.start(),R(!0),_({type:"info",message:"Auto-refresh started (every 5 minutes)"})),setTimeout(()=>_(null),3e3)},v=()=>{E?(x(!1),_({type:"info",message:"API resumed - fetching enabled"})):(x(!0),k&&(a.stop(),R(!1)),_({type:"warning",message:"API paused - all fetching disabled"})),setTimeout(()=>_(null),3e3)},N=P=>{var D;return((D=l==null?void 0:l[t])==null?void 0:D[P])===!0},C=P=>{var D,A;return((A=(D=n==null?void 0:n[t])==null?void 0:D[P])==null?void 0:A.source)==="espn"};return o.jsxs("div",{className:"espn-controls",children:[o.jsxs("div",{className:"espn-header",children:[o.jsx("h3",{children:" ESPN API Controls"}),o.jsxs("div",{className:"espn-status-badges",children:[E&&o.jsx("span",{className:"status-badge paused",children:" API PAUSED"}),k&&!E&&o.jsx("span",{className:"status-badge active",children:" AUTO-REFRESH ON"}),f&&o.jsxs("span",{className:"status-badge info",children:["Last fetch: ",f.toLocaleTimeString()]})]})]}),o.jsxs("div",{className:"espn-global-controls",children:[o.jsx("button",{className:"espn-btn fetch-now",onClick:y,disabled:c||E,children:c?" Fetching...":" Fetch Scores Now"}),o.jsx("button",{className:`espn-btn auto-refresh ${k?"active":""}`,onClick:S,disabled:E,children:k?" Stop Auto-Refresh":" Start Auto-Refresh (5 min)"}),o.jsx("button",{className:`espn-btn pause-api ${E?"paused":""}`,onClick:v,children:E?" Resume API":" Pause API"})]}),p&&o.jsx("div",{className:`fetch-status ${p.type}`,children:p.message}),o.jsxs("div",{className:"game-overrides",children:[o.jsx("h4",{children:"Game Override Controls"}),o.jsxs("p",{className:"override-info",children:[" Lock = Manual entry only (ignore API)",o.jsx("br",{})," Unlock = Auto-update from ESPN API"]}),o.jsx("div",{className:"game-override-list",children:e.map(P=>{var U,ne,X,G,ge;const D=N(P.id),A=C(P.id),L=(U=n==null?void 0:n[t])==null?void 0:U[P.id],b=((X=(ne=r==null?void 0:r[t])==null?void 0:ne[P.id])==null?void 0:X.team1)||P.team1,W=((ge=(G=r==null?void 0:r[t])==null?void 0:G[P.id])==null?void 0:ge.team2)||P.team2;return o.jsxs("div",{className:"game-override-item",children:[o.jsxs("div",{className:"game-info",children:[o.jsxs("span",{className:"game-matchup",children:[b," vs ",W]}),L&&o.jsxs("span",{className:"game-scores",children:[n[t][P.id].team1," - ",n[t][P.id].team2]})]}),o.jsxs("div",{className:"game-status-badges",children:[A&&!D&&o.jsx("span",{className:"game-badge api",children:" From API"}),D&&o.jsx("span",{className:"game-badge manual",children:" Manual Entry"}),!L&&o.jsx("span",{className:"game-badge no-score",children:"No Score"})]}),o.jsx("button",{className:`lock-btn ${D?"locked":"unlocked"}`,onClick:()=>i(P.id),title:D?"Unlock to allow API updates":"Lock to prevent API updates",children:D?" Locked":" Unlocked"})]},P.id)})})]}),o.jsxs("div",{className:"espn-help",children:[o.jsx("h4",{children:" How It Works:"}),o.jsxs("ul",{children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Fetch Now:"})," Manually fetch latest scores from ESPN"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Auto-Refresh:"})," Automatically fetch every 5 minutes"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Pause API:"})," Stop all API fetching (use manual entry only)"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Lock Game:"})," Prevent API from overwriting your manual score for that game"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Unlock Game:"})," Allow API to update score automatically"]})]}),o.jsxs("p",{className:"help-note",children:[o.jsx("strong",{children:"Tip:"})," Lock a game if you need to manually correct a score that ESPN has wrong."]})]})]})}const hC="https://site.api.espn.com/apis/site/v2/sports/football/nfl";async function fC(){try{const t=await fetch(`${hC}/scoreboard`);if(!t.ok)throw new Error(`ESPN API error: ${t.status}`);const e=await t.json();return pC(e)}catch(t){return console.error("Error fetching ESPN scores:",t),{success:!1,error:t.message,games:[]}}}function pC(t){return!t.events||t.events.length===0?{success:!0,games:[],message:"No games currently available"}:{success:!0,games:t.events.map(n=>{const r=n.competitions[0],s=r.status,i=r.competitors,l=i.find(k=>k.homeAway==="away"),a=i.find(k=>k.homeAway==="home"),c=l.team.abbreviation,d=a.team.abbreviation,f=parseInt(l.score)||0,u=parseInt(a.score)||0,p=mC(s);return{espnGameId:n.id,awayTeam:{abbreviation:c,fullName:l.team.displayName,score:f},homeTeam:{abbreviation:d,fullName:a.team.displayName,score:u},status:p.status,statusText:p.text,period:p.period,clock:p.clock,isFinal:p.isFinal,isLive:p.isLive,isScheduled:p.isScheduled,startTime:n.date,lastUpdated:new Date().toISOString()}}),fetchedAt:new Date().toISOString()}}function mC(t){const e=t.type.name,n=t.period,r=t.displayClock,s=t.type.detail;let i="scheduled",l=s,a=!1,c=!1,d=!1;return e==="STATUS_SCHEDULED"?(i="scheduled",l="Scheduled",d=!0):e==="STATUS_IN_PROGRESS"?(i="live",a=!0,n===1?l=`1st Quarter - ${r}`:n===2?l=`2nd Quarter - ${r}`:n===3?l=`3rd Quarter - ${r}`:n===4?l=`4th Quarter - ${r}`:n>4&&(l=`OT ${n-4} - ${r}`)):e==="STATUS_HALFTIME"?(i="halftime",l="Halftime",a=!0):e==="STATUS_END_PERIOD"?(i="live",l=`End of ${n===1?"1st":n===2?"2nd":n===3?"3rd":"4th"} Quarter`,a=!0):(e==="STATUS_FINAL"||e==="STATUS_FINAL_OVERTIME")&&(i="final",c=!0,e==="STATUS_FINAL_OVERTIME"?l=n>4?`Final/OT${n-4}`:"Final/OT":l="Final"),{status:i,text:l,period:n,clock:r||"",isLive:a,isFinal:c,isScheduled:d}}function gC(t,e,n,r){if(!r||!r[n])return null;const s=e[n].games,i=r[n];for(const l of s){const a=i[l.id];if(!a)continue;const c=a.team1===t.awayTeam.abbreviation||a.team1===t.homeTeam.abbreviation,d=a.team2===t.awayTeam.abbreviation||a.team2===t.homeTeam.abbreviation;if(c&&d){const f=a.team1===t.awayTeam.abbreviation;return{gameId:l.id,team1Score:f?t.awayTeam.score:t.homeTeam.score,team2Score:f?t.homeTeam.score:t.awayTeam.score,status:t.status,statusText:t.statusText,period:t.period,clock:t.clock,isFinal:t.isFinal,isLive:t.isLive,espnGameId:t.espnGameId}}}return null}class yC{constructor(e,n=5){this.onFetch=e,this.intervalMinutes=n,this.intervalId=null,this.isRunning=!1}start(){if(this.isRunning){console.log("Auto-refresh already running");return}console.log(`Starting auto-refresh every ${this.intervalMinutes} minutes`),this.isRunning=!0,this.onFetch(),this.intervalId=setInterval(()=>{console.log("Auto-fetching ESPN scores..."),this.onFetch()},this.intervalMinutes*60*1e3)}stop(){if(!this.isRunning){console.log("Auto-refresh not running");return}console.log("Stopping auto-refresh"),clearInterval(this.intervalId),this.intervalId=null,this.isRunning=!1}isActive(){return this.isRunning}setInterval(e){this.intervalMinutes=e,this.isRunning&&(this.stop(),this.start())}}const xC={wildcard:{name:"Week 1 - Wildcard Round",shortName:"Wildcard",deadline:"Fri Jan 9, 11:59 PM PST",number:1},divisional:{name:"Week 2 - Divisional Round",shortName:"Divisional",deadline:"Fri Jan 16, 11:59 PM PST",number:2},conference:{name:"Week 3 - Conference Championships",shortName:"Conference",deadline:"Fri Jan 23, 11:59 PM PST",number:3},superbowl:{name:"Week 4 - Super Bowl LIX",shortName:"Super Bowl",deadline:"Fri Feb 6, 11:59 PM PST",number:4}};function vC(t,e,n,r){return n?{icon:"",text:"LOCKED",color:"gray",className:"locked"}:r?{icon:"",text:"EDITING NOW",color:"purple",className:"editing"}:e&&e.complete?{icon:"",text:"ALL PICKS SAVED",color:"green",className:"saved"}:{icon:"",text:"READY TO PICK",color:"blue",className:"ready"}}function _C({currentWeek:t,onWeekChange:e,weekPicks:n={},weekLockStatus:r={},hasUnsavedChanges:s=!1}){const i=l=>{l!==t&&e(l)};return o.jsxs("div",{className:"week-selector-container",children:[o.jsxs("div",{className:"week-selector-header",children:[o.jsx("h2",{children:" SELECT WEEK TO MAKE/EDIT YOUR PICKS"}),s&&o.jsx("div",{className:"unsaved-indicator",children:" You have unsaved changes"})]}),o.jsx("div",{className:"week-cards",children:Object.entries(xC).map(([l,a])=>{var p;const c=l===t,d=((p=r[l])==null?void 0:p.locked)||!1,f=n[l],u=vC(l,f,d,c);return o.jsxs("div",{className:`week-card ${u.className} ${c?"current":""}`,onClick:()=>i(l),role:"button",tabIndex:0,onKeyPress:_=>{(_.key==="Enter"||_.key===" ")&&i(l)},children:[o.jsxs("div",{className:"week-card-header",children:[o.jsxs("div",{className:"week-number",children:["WEEK ",a.number]}),c&&o.jsx("div",{className:"current-indicator",children:" YOU ARE HERE "})]}),o.jsxs("div",{className:"week-card-title",children:[l==="superbowl"?"":""," ",a.shortName]}),o.jsxs("div",{className:"week-card-deadline",children:[l==="superbowl"?"Game Day: ":"Deadline: ",a.deadline]}),o.jsxs("div",{className:`week-card-status status-${u.className}`,children:[o.jsx("span",{className:"status-icon",children:u.icon}),o.jsx("span",{className:"status-text",children:u.text})]}),d&&o.jsx("div",{className:"locked-overlay",children:o.jsx("div",{className:"locked-message",children:" Cannot Edit"})})]},l)})}),o.jsx("div",{className:"week-selector-footer",children:o.jsx("p",{className:"info-text",children:" You can make picks for all weeks in advance, even if teams aren't known yet."})})]})}function wC({currentWeek:t,onDiscard:e,onSaveAndSwitch:n,onCancel:r}){const s={wildcard:"Week 1",divisional:"Week 2",conference:"Week 3",superbowl:"Week 4"};return o.jsx("div",{className:"popup-overlay",children:o.jsxs("div",{className:"popup-container warning-popup",children:[o.jsxs("div",{className:"popup-header warning",children:[o.jsx("span",{className:"popup-icon",children:""}),o.jsx("h3",{children:"UNSAVED CHANGES"})]}),o.jsxs("div",{className:"popup-body",children:[o.jsxs("p",{children:["You have unsaved changes for ",s[t],"."]}),o.jsx("p",{children:"What would you like to do?"})]}),o.jsxs("div",{className:"popup-buttons",children:[o.jsx("button",{className:"popup-btn btn-secondary",onClick:e,children:"Discard Changes"}),o.jsx("button",{className:"popup-btn btn-primary",onClick:n,children:"Save & Switch"}),o.jsx("button",{className:"popup-btn btn-neutral",onClick:r,children:"Cancel"})]})]})})}function kC({onKeepEditing:t,onDiscard:e}){return o.jsx("div",{className:"popup-overlay",children:o.jsxs("div",{className:"popup-container warning-popup",children:[o.jsxs("div",{className:"popup-header warning",children:[o.jsx("span",{className:"popup-icon",children:""}),o.jsx("h3",{children:"DISCARD CHANGES?"})]}),o.jsxs("div",{className:"popup-body",children:[o.jsx("p",{children:"Your changes will not be saved."}),o.jsx("p",{children:"Your previously saved picks will remain unchanged in the system."})]}),o.jsxs("div",{className:"popup-buttons",children:[o.jsx("button",{className:"popup-btn btn-primary",onClick:t,children:"Keep Editing"}),o.jsx("button",{className:"popup-btn btn-danger",onClick:e,children:"Discard Changes"})]})]})})}function SC({missingGames:t,totalGames:e,onClose:n}){return o.jsx("div",{className:"popup-overlay",children:o.jsxs("div",{className:"popup-container error-popup",children:[o.jsxs("div",{className:"popup-header error",children:[o.jsx("span",{className:"popup-icon",children:""}),o.jsx("h3",{children:"CANNOT SAVE - INCOMPLETE ENTRY"})]}),o.jsxs("div",{className:"popup-body",children:[o.jsx("p",{children:"You must predict scores for ALL games."}),o.jsxs("p",{className:"count-text",children:["Completed: ",o.jsx("strong",{children:e-t.length})," of ",o.jsx("strong",{children:e})," games "]}),o.jsxs("div",{className:"missing-games-list",children:[o.jsx("p",{children:o.jsx("strong",{children:"Missing scores for:"})}),o.jsx("ul",{children:t.map((r,s)=>o.jsxs("li",{children:[" Game ",s+1,": ",r.team1," vs ",r.team2]},s))})]}),o.jsx("p",{className:"instruction-text",children:"Please fill in all games before saving."})]}),o.jsx("div",{className:"popup-buttons",children:o.jsx("button",{className:"popup-btn btn-primary",onClick:n,children:"OK - Go Back and Complete"})})]})})}function CC({invalidScores:t,onClose:e}){return o.jsx("div",{className:"popup-overlay",children:o.jsxs("div",{className:"popup-container error-popup",children:[o.jsxs("div",{className:"popup-header error",children:[o.jsx("span",{className:"popup-icon",children:""}),o.jsx("h3",{children:"INVALID SCORES"})]}),o.jsxs("div",{className:"popup-body",children:[o.jsx("p",{children:"All scores must be between 10 and 50."}),o.jsxs("div",{className:"invalid-scores-list",children:[o.jsx("p",{children:o.jsx("strong",{children:"Invalid scores:"})}),o.jsx("ul",{children:t.map((n,r)=>o.jsxs("li",{children:[" Game ",r+1," (",n.team,"): ",o.jsx("strong",{children:n.score})," (",n.score<10?"too low":"too high",")"]},r))})]}),o.jsx("p",{className:"instruction-text",children:"Please fix these scores."})]}),o.jsx("div",{className:"popup-buttons",children:o.jsx("button",{className:"popup-btn btn-primary",onClick:e,children:"OK - Go Back and Fix"})})]})})}function bC({weekName:t,deadline:e,onClose:n}){return o.jsx("div",{className:"popup-overlay",children:o.jsxs("div",{className:"popup-container success-popup",children:[o.jsxs("div",{className:"popup-header success",children:[o.jsx("span",{className:"popup-icon",children:""}),o.jsx("h3",{children:"PICKS SAVED SUCCESSFULLY!"})]}),o.jsxs("div",{className:"popup-body",children:[o.jsxs("p",{children:["Your ",t," picks have been saved."]}),o.jsx("p",{children:"You can edit them anytime before the deadline:"}),o.jsx("p",{className:"deadline-text",children:o.jsx("strong",{children:e})})]}),o.jsx("div",{className:"popup-buttons",children:o.jsx("button",{className:"popup-btn btn-success",onClick:n,children:"OK"})})]})})}function NC({onClose:t}){return o.jsx("div",{className:"popup-overlay",children:o.jsxs("div",{className:"popup-container info-popup",children:[o.jsxs("div",{className:"popup-header info",children:[o.jsx("span",{className:"popup-icon",children:""}),o.jsx("h3",{children:"NO CHANGES TO SAVE"})]}),o.jsxs("div",{className:"popup-body",children:[o.jsx("p",{children:"You haven't made any changes to your picks."}),o.jsx("p",{children:"Your picks are already saved."})]}),o.jsx("div",{className:"popup-buttons",children:o.jsx("button",{className:"popup-btn btn-primary",onClick:t,children:"OK"})})]})})}function EC({tiedGames:t,gameData:e,onClose:n}){return o.jsx("div",{className:"popup-overlay",children:o.jsxs("div",{className:"popup-container error-popup",children:[o.jsxs("div",{className:"popup-header error",children:[o.jsx("span",{className:"popup-icon",children:""}),o.jsx("h3",{children:"PLAYOFF GAMES CANNOT END IN A TIE!"})]}),o.jsxs("div",{className:"popup-body",children:[o.jsx("p",{style:{fontWeight:"bold",marginBottom:"15px"},children:"The following game(s) have tied scores:"}),o.jsx("ul",{style:{listStyle:"none",padding:0,marginBottom:"15px"},children:t.map(r=>{const s=e.find(i=>i.id===r);return o.jsxs("li",{style:{padding:"8px",background:"#ffebee",border:"1px solid #ef5350",borderRadius:"4px",marginBottom:"8px",color:"#c62828"},children:[" ",s.team1," vs. ",s.team2]},r)})}),o.jsx("p",{style:{fontStyle:"italic",color:"#666"},children:"NFL Playoff games go to overtime until there's a winner!"}),o.jsx("p",{style:{fontWeight:"bold"},children:"Please change the scores so one team wins."})]}),o.jsx("div",{className:"popup-buttons",children:o.jsx("button",{className:"popup-btn btn-primary",onClick:n,children:"Fix Scores"})})]})})}const Zy={1:{name:"Most Correct Predictions",week:"wildcard",weekName:"Week 1"},2:{name:"Closest Total Points",week:"wildcard",weekName:"Week 1"},3:{name:"Most Correct Predictions",week:"divisional",weekName:"Week 2"},4:{name:"Closest Total Points",week:"divisional",weekName:"Week 2"},5:{name:"Most Correct Predictions",week:"conference",weekName:"Week 3"},6:{name:"Closest Total Points",week:"conference",weekName:"Week 3"},7:{name:"Most Correct Predictions",week:"superbowl",weekName:"Week 4"},8:{name:"Closest Total Points",week:"superbowl",weekName:"Week 4"},9:{name:"Overall Most Correct Predictions",week:"all",weekName:"All Weeks"},10:{name:"Overall Closest Total Points",week:"all",weekName:"All Weeks"}};function jC(t,e,n){var r;if(t.week==="all"){let s=0,i=0;return Object.keys(n).forEach(l=>{const a=n[l].games;s+=a.length,a.forEach(c=>{var f;const d=(f=e[l])==null?void 0:f[c.id];if(d){const u=parseInt(d.team1),p=parseInt(d.team2);!isNaN(u)&&!isNaN(p)&&i++}})}),i===0?{status:"NOT_STARTED",gamesCompleted:0,totalGames:s,message:"First game Saturday, January 10, 2026! Standings will update as games finish."}:i<s?{status:"LIVE",gamesCompleted:i,totalGames:s,message:`LIVE NOW! ${i} of ${s} playoff games completed. Standings updating in real-time!`}:{status:"COMPLETE",gamesCompleted:i,totalGames:s,message:"Playoffs complete! Final standings shown above."}}else{const s=((r=n[t.week])==null?void 0:r.games)||[],i=s.length;let l=0;return s.forEach(a=>{var d;const c=(d=e[t.week])==null?void 0:d[a.id];if(c){const f=parseInt(c.team1),u=parseInt(c.team2);!isNaN(f)&&!isNaN(u)&&l++}}),l===0?{status:"NOT_STARTED",gamesCompleted:0,totalGames:i,message:"Games not started yet. Standings will update as games finish!"}:l<i?{status:"LIVE",gamesCompleted:l,totalGames:i,message:`LIVE NOW! ${l} of ${i} games completed. Standings changing in real-time!`}:{status:"COMPLETE",gamesCompleted:l,totalGames:i,message:"All games complete! Final standings shown above."}}}function PC(t,e,n,r){var d,f,u;const s=Zy[t],i=[1,3,5,7,9].includes(t);let l=[],a={},c=[];if(s.week==="all"){l=e,a=n,Object.keys(r).forEach(_=>{c=c.concat(r[_].games.map(k=>({...k,week:_})))});const p={};l.forEach(_=>{p[_.playerCode]||(p[_.playerCode]={playerCode:_.playerCode,playerName:_.playerName,weeklyPicks:[]}),p[_.playerCode].weeklyPicks.push(_)}),l=Object.values(p)}else l=e.filter(p=>p.week===s.week),a=n[s.week]||{},c=((d=r[s.week])==null?void 0:d.games)||[];if(l.length===0)return{leaders:[],allPlayers:[],hasTie:!1,tieCount:0};if(i){let p=0;c.forEach(E=>{var y;const x=s.week==="all"?(y=n[E.week])==null?void 0:y[E.id]:a[E.id];x&&(p+=(parseInt(x.team1)||0)+(parseInt(x.team2)||0))});const _=l.map(E=>{let x=0;return(E.weeklyPicks||[E]).forEach(S=>{c.forEach(v=>{var U,ne;const N=(U=S.predictions)==null?void 0:U[v.id],C=s.week==="all"?(ne=n[v.week])==null?void 0:ne[v.id]:a[v.id];if(!N||!C)return;const P=parseInt(C.team1),D=parseInt(C.team2),A=parseInt(N.team1),L=parseInt(N.team2);if(isNaN(P)||isNaN(D)||isNaN(A)||isNaN(L))return;const b=A>L?"team1":L>A?"team2":"tie",W=P>D?"team1":D>P?"team2":"tie";b!=="tie"&&W!=="tie"&&b===W&&x++})}),{playerCode:E.playerCode,playerName:E.playerName,score:x,actualTotal:p}});_.sort((E,x)=>x.score-E.score);const k=((f=_[0])==null?void 0:f.score)||0,R=_.filter(E=>E.score===k);return{leaders:R,allPlayers:_,hasTie:R.length>1,tieCount:R.length,actualTotal:p}}else{let p=0;c.forEach(E=>{var y;const x=s.week==="all"?(y=n[E.week])==null?void 0:y[E.id]:a[E.id];x&&(p+=(parseInt(x.team1)||0)+(parseInt(x.team2)||0))});const _=l.map(E=>{let x=0;(E.weeklyPicks||[E]).forEach(v=>{c.forEach(N=>{var P;const C=(P=v.predictions)==null?void 0:P[N.id];C&&(x+=(parseInt(C.team1)||0)+(parseInt(C.team2)||0))})});const S=Math.abs(x-p);return{playerCode:E.playerCode,playerName:E.playerName,score:x,actualTotal:p,difference:S}});_.sort((E,x)=>E.difference-x.difference);const k=((u=_[0])==null?void 0:u.difference)||0,R=_.filter(E=>E.difference===k);return{leaders:R,allPlayers:_,hasTie:R.length>1,tieCount:R.length,actualTotal:p}}}function Vs({prizeNumber:t,allPicks:e,actualScores:n,weekData:r,officialWinner:s=null}){const[i,l]=M.useState(null),[a,c]=M.useState(!0),d=Zy[t],f=[1,3,5,7,9].includes(t);if(M.useEffect(()=>{try{const E=PC(t,e,n,r);l(E),c(!1)}catch(E){console.error(`Error calculating leaders for Prize ${t}:`,E),c(!1)}},[t,e,n,r]),a)return o.jsxs("div",{className:"leader-card loading",children:[o.jsx("div",{className:"leader-card-header",children:o.jsxs("h3",{children:["Prize #",t," - ",d.name]})}),o.jsx("div",{className:"leader-card-body",children:o.jsx("p",{children:"Calculating leaders..."})})]});if(!i||i.allPlayers.length===0)return o.jsxs("div",{className:"leader-card no-data",children:[o.jsxs("div",{className:"leader-card-header",children:[o.jsxs("h3",{children:["Prize #",t," - ",d.name]}),o.jsx("span",{className:"prize-week",children:d.weekName})]}),o.jsx("div",{className:"leader-card-body",children:o.jsx("p",{children:"No picks available yet."})})]});const{leaders:u,allPlayers:p,hasTie:_,tieCount:k}=i,R=jC(d,n,r);return o.jsxs("div",{className:`leader-card ${_?"has-tie":""}`,children:[o.jsxs("div",{className:"leader-card-header",children:[o.jsxs("h3",{children:["Prize #",t," - ",d.name]}),o.jsx("span",{className:"prize-week",children:d.weekName})]}),o.jsxs("div",{className:"leader-card-body",children:[o.jsxs("div",{className:`game-status ${R.status.toLowerCase()}`,children:[o.jsxs("div",{className:"status-badge",children:[R.status==="NOT_STARTED"&&" NOT STARTED",R.status==="LIVE"&&" LIVE",R.status==="COMPLETE"&&" COMPLETE"]}),o.jsx("div",{className:"status-details",children:R.status!=="NOT_STARTED"&&o.jsxs("span",{className:"games-count",children:[R.gamesCompleted," of ",R.totalGames," games"]})}),o.jsx("p",{className:"status-message",children:R.message})]}),_&&o.jsxs("div",{className:"tie-warning",children:[" ",k,"-WAY TIE FOR 1ST PLACE!"]}),_&&o.jsxs("div",{className:"tied-leaders-section",children:[o.jsx("h4",{children:" TIED FOR 1ST PLACE:"}),o.jsx("div",{className:"leaders-list",children:u.map((E,x)=>o.jsxs("div",{className:`leader-item ${(s==null?void 0:s.playerCode)===E.playerCode?"official-winner":"tied-leader"}`,children:[o.jsxs("span",{className:"leader-rank",children:[x+1,"."]}),o.jsxs("span",{className:"leader-name",children:[E.playerName,(s==null?void 0:s.playerCode)===E.playerCode?o.jsx("span",{className:"official-badge",style:{marginLeft:"8px"},children:" OFFICIAL WINNER"}):o.jsx("span",{className:"leading-badge",style:{marginLeft:"8px"},children:" LEADING"})]}),o.jsx("span",{className:"leader-score",children:f?`${E.score} correct`:`${E.score} pts  Actual: ${E.actualTotal||0} pts  Off by: ${E.difference} pts`})]},x))})]}),_&&p.length>k&&o.jsxs("div",{className:"next-in-line-section",children:[o.jsx("h4",{children:" NEXT IN LINE:"}),o.jsx("div",{className:"leaders-list",children:p.slice(k,k+10).map((E,x)=>o.jsxs("div",{className:"leader-item",children:[o.jsxs("span",{className:"leader-rank",children:[k+x+1,"."]}),o.jsx("span",{className:"leader-name",children:E.playerName}),o.jsx("span",{className:"leader-score",children:f?`${E.score} correct`:`${E.score} pts  Actual: ${E.actualTotal||0} pts  Off by: ${E.difference} pts`})]},x))})]}),!_&&o.jsxs("div",{className:"all-players-section",children:[o.jsx("h4",{children:" ALL PLAYERS RANKED:"}),o.jsx("div",{className:"leaders-list",children:p.map((E,x)=>o.jsxs("div",{className:`leader-item ${x===0&&(s==null?void 0:s.playerCode)===E.playerCode?"official-winner":""}`,children:[o.jsxs("span",{className:"leader-rank",children:[x+1,"."]}),o.jsxs("span",{className:"leader-name",children:[E.playerName,x===0&&((s==null?void 0:s.playerCode)===E.playerCode?o.jsx("span",{className:"official-badge",style:{marginLeft:"8px"},children:" OFFICIAL WINNER"}):o.jsx("span",{className:"leading-badge",style:{marginLeft:"8px"},children:" LEADING"}))]}),o.jsx("span",{className:"leader-score",children:f?`${E.score} correct`:`${E.score} pts  Actual: ${E.actualTotal||0} pts  Off by: ${E.difference} pts`})]},x))})]}),!s&&o.jsx("div",{className:"no-official-winner",children:o.jsx("em",{children:"No official winner declared yet"})})]})]})}function TC({allPicks:t,actualScores:e,games:n,officialWinners:r,weekData:s}){const[i,l]=M.useState({"Week 1":!0,"Week 2":!1,"Week 3":!1,"Week 4":!1,"Grand Prizes":!1}),a=u=>{l(p=>({...p,[u]:!p[u]}))},c=()=>{l({"Week 1":!0,"Week 2":!0,"Week 3":!0,"Week 4":!0,"Grand Prizes":!0})},d=()=>{l({"Week 1":!1,"Week 2":!1,"Week 3":!1,"Week 4":!1,"Grand Prizes":!1})},f=u=>({cursor:"pointer",userSelect:"none",display:"flex",alignItems:"center",gap:"10px",padding:"15px 20px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:"8px",transition:"all 0.3s",marginBottom:u?"20px":"0",borderBottomLeftRadius:u?"0":"8px",borderBottomRightRadius:u?"0":"8px"});return o.jsxs("div",{className:"leaders-section",children:[o.jsx("h2",{children:" Prize Leaders"}),o.jsx("p",{className:"leaders-description",children:"Current standings for all 10 prizes. Winners will be officially announced by the Pool Manager."}),o.jsxs("div",{style:{display:"flex",gap:"15px",justifyContent:"center",margin:"20px 0"},children:[o.jsx("button",{onClick:c,style:{padding:"10px 20px",background:"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.95rem",fontWeight:"600",transition:"all 0.2s"},onMouseOver:u=>u.target.style.background="#5568d3",onMouseOut:u=>u.target.style.background="#667eea",children:" Expand All Weeks"}),o.jsx("button",{onClick:d,style:{padding:"10px 20px",background:"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.95rem",fontWeight:"600",transition:"all 0.2s"},onMouseOver:u=>u.target.style.background="#5568d3",onMouseOut:u=>u.target.style.background="#667eea",children:" Collapse All Weeks"})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsxs("h3",{onClick:()=>a("Week 1"),style:f(i["Week 1"]),onMouseEnter:u=>{u.currentTarget.style.transform="translateX(5px)",u.currentTarget.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)"},onMouseLeave:u=>{u.currentTarget.style.transform="translateX(0)",u.currentTarget.style.boxShadow="none"},children:[o.jsx("span",{style:{fontSize:"1.2rem"},children:i["Week 1"]?"":""}),"Week 1 Prizes (Wild Card Round)"]}),i["Week 1"]&&o.jsx("div",{className:"prize-grid",children:[1,2].map(u=>o.jsx(Vs,{prizeNumber:u,allPicks:t,actualScores:e,weekData:s,officialWinner:r==null?void 0:r[u]},u))})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsxs("h3",{onClick:()=>a("Week 2"),style:f(i["Week 2"]),onMouseEnter:u=>{u.currentTarget.style.transform="translateX(5px)",u.currentTarget.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)"},onMouseLeave:u=>{u.currentTarget.style.transform="translateX(0)",u.currentTarget.style.boxShadow="none"},children:[o.jsx("span",{style:{fontSize:"1.2rem"},children:i["Week 2"]?"":""}),"Week 2 Prizes (Divisional Round)"]}),i["Week 2"]&&o.jsx("div",{className:"prize-grid",children:[3,4].map(u=>o.jsx(Vs,{prizeNumber:u,allPicks:t,actualScores:e,weekData:s,officialWinner:r==null?void 0:r[u]},u))})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsxs("h3",{onClick:()=>a("Week 3"),style:f(i["Week 3"]),onMouseEnter:u=>{u.currentTarget.style.transform="translateX(5px)",u.currentTarget.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)"},onMouseLeave:u=>{u.currentTarget.style.transform="translateX(0)",u.currentTarget.style.boxShadow="none"},children:[o.jsx("span",{style:{fontSize:"1.2rem"},children:i["Week 3"]?"":""}),"Week 3 Prizes (Conference Championships)"]}),i["Week 3"]&&o.jsx("div",{className:"prize-grid",children:[5,6].map(u=>o.jsx(Vs,{prizeNumber:u,allPicks:t,actualScores:e,weekData:s,officialWinner:r==null?void 0:r[u]},u))})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsxs("h3",{onClick:()=>a("Week 4"),style:f(i["Week 4"]),onMouseEnter:u=>{u.currentTarget.style.transform="translateX(5px)",u.currentTarget.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)"},onMouseLeave:u=>{u.currentTarget.style.transform="translateX(0)",u.currentTarget.style.boxShadow="none"},children:[o.jsx("span",{style:{fontSize:"1.2rem"},children:i["Week 4"]?"":""}),"Week 4 Prizes (Super Bowl)"]}),i["Week 4"]&&o.jsx("div",{className:"prize-grid",children:[7,8].map(u=>o.jsx(Vs,{prizeNumber:u,allPicks:t,actualScores:e,weekData:s,officialWinner:r==null?void 0:r[u]},u))})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsxs("h3",{onClick:()=>a("Grand Prizes"),style:f(i["Grand Prizes"]),onMouseEnter:u=>{u.currentTarget.style.transform="translateX(5px)",u.currentTarget.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)"},onMouseLeave:u=>{u.currentTarget.style.transform="translateX(0)",u.currentTarget.style.boxShadow="none"},children:[o.jsx("span",{style:{fontSize:"1.2rem"},children:i["Grand Prizes"]?"":""}),"Grand Prizes (All Weeks Combined)"]}),i["Grand Prizes"]&&o.jsx("div",{className:"prize-grid",children:[9,10].map(u=>o.jsx(Vs,{prizeNumber:u,allPicks:t,actualScores:e,weekData:s,officialWinner:r==null?void 0:r[u]},u))})]})]})}const IC=({isPoolManager:t,playerCodes:e})=>{const[n,r]=M.useState([]),[s,i]=M.useState(!0),[l,a]=M.useState(null),[c,d]=M.useState("all"),[f,u]=M.useState(""),[p,_]=M.useState("newest");M.useEffect(()=>{if(!t){i(!1);return}try{const x=$u(),y=K(x,"loginLogs"),S=ft(y,v=>{const N=v.val();if(console.log(" Login logs data:",N),N){const C=Object.keys(N).map(P=>({id:P,...N[P]}));console.log(" Parsed logs array:",C),r(C)}else console.log(" No login logs data found"),r([]);i(!1),a(null)},v=>{console.error(" Error fetching login logs:",v),a("Failed to load login logs. Check console for details."),i(!1)});return()=>{S&&S()}}catch(x){console.error(" Error setting up Firebase listener:",x),a("Failed to initialize Firebase. Check console for details."),i(!1)}},[t]);const k=n.filter(x=>{var y,S;if(c==="success"&&!x.success||c==="failed"&&x.success)return!1;if(f){const v=f.toLowerCase(),N=(y=x.playerCode)==null?void 0:y.toLowerCase().includes(v),C=(S=x.playerName)==null?void 0:S.toLowerCase().includes(v);return N||C}return!0}).sort((x,y)=>p==="newest"?y.timestamp-x.timestamp:x.timestamp-y.timestamp),R=()=>{if(k.length===0){alert("No logs to export!");return}const x=["Timestamp","Date/Time","Player Code","Player Name","Status","Error Message","Browser","Device"],y=k.map(P=>[P.timestamp,new Date(P.timestamp).toLocaleString(),P.playerCode||"",P.playerName||"",P.success?"Success":"Failed",P.errorMessage||"",P.browser||"",P.device||""]),S=[x.join(","),...y.map(P=>P.map(D=>`"${D}"`).join(","))].join(`
`),v=new Blob([S],{type:"text/csv;charset=utf-8;"}),N=document.createElement("a"),C=URL.createObjectURL(v);N.setAttribute("href",C),N.setAttribute("download",`login-logs-${new Date().toISOString().split("T")[0]}.csv`),N.style.visibility="hidden",document.body.appendChild(N),N.click(),document.body.removeChild(N),window.URL.revokeObjectURL(C)},E={total:n.length,successful:n.filter(x=>x.success).length,failed:n.filter(x=>x.success===!1).length,uniquePlayers:new Set(n.filter(x=>x.success).map(x=>x.playerCode)).size};return t?s?o.jsx("div",{style:{padding:"60px",textAlign:"center"},children:o.jsxs("div",{style:{display:"inline-block",padding:"20px 40px",background:"#f0f4f8",borderRadius:"10px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[o.jsx("p",{style:{fontSize:"1.2rem",margin:"0 0 10px 0",color:"#000"},children:" Loading login logs..."}),o.jsx("p",{style:{fontSize:"0.9rem",color:"#666",margin:0},children:"Connecting to Firebase..."})]})}):l?o.jsx("div",{style:{padding:"60px",textAlign:"center"},children:o.jsxs("div",{style:{display:"inline-block",padding:"30px",background:"#fff3cd",border:"2px solid #ffc107",borderRadius:"10px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",maxWidth:"600px"},children:[o.jsx("h3",{style:{margin:"0 0 15px 0",color:"#856404"},children:" Error Loading Logs"}),o.jsx("p",{style:{color:"#856404",margin:"0 0 15px 0"},children:l}),o.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:"20px",padding:"12px 24px",background:"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"600"},children:" Reload Page"})]})}):o.jsxs("div",{style:{margin:"40px auto",maxWidth:"1400px",padding:"0 20px"},children:[o.jsxs("div",{style:{marginBottom:"30px"},children:[o.jsxs("h1",{style:{fontSize:"2rem",margin:"0 0 10px 0",color:"#000",display:"flex",alignItems:"center",gap:"10px"},children:[" Login Activity Log",o.jsx("span",{style:{fontSize:"0.7rem",padding:"4px 12px",background:"#667eea",color:"white",borderRadius:"20px",fontWeight:"500"},children:"Pool Manager Only"})]}),o.jsx("p",{style:{color:"#666",margin:0},children:"Monitor all login attempts to the NFL Playoff Pool"})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginBottom:"30px"},children:[o.jsxs("div",{style:{background:"linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%)",padding:"25px",borderRadius:"12px",boxShadow:"0 4px 15px rgba(0,0,0,0.1)",color:"#000"},children:[o.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"bold",marginBottom:"5px"},children:E.successful}),o.jsx("div",{style:{fontSize:"1rem",fontWeight:"500"},children:"Successful Logins"})]}),o.jsxs("div",{style:{background:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)",padding:"25px",borderRadius:"12px",boxShadow:"0 4px 15px rgba(0,0,0,0.1)",color:"#000"},children:[o.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"bold",marginBottom:"5px"},children:E.failed}),o.jsx("div",{style:{fontSize:"1rem",fontWeight:"500"},children:"Failed Attempts"})]}),o.jsxs("div",{style:{background:"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)",padding:"25px",borderRadius:"12px",boxShadow:"0 4px 15px rgba(0,0,0,0.1)",color:"#000"},children:[o.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"bold",marginBottom:"5px"},children:E.uniquePlayers}),o.jsx("div",{style:{fontSize:"1rem",fontWeight:"500"},children:"Unique Players"})]}),o.jsxs("div",{style:{background:"linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)",padding:"25px",borderRadius:"12px",boxShadow:"0 4px 15px rgba(0,0,0,0.1)",color:"#000"},children:[o.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"bold",marginBottom:"5px"},children:E.total}),o.jsx("div",{style:{fontSize:"1rem",fontWeight:"500"},children:"Total Attempts"})]})]}),o.jsxs("div",{style:{background:"white",padding:"20px",borderRadius:"10px",marginBottom:"20px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",display:"flex",flexWrap:"wrap",gap:"15px",alignItems:"center"},children:[o.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[o.jsxs("button",{onClick:()=>d("all"),style:{padding:"10px 20px",background:c==="all"?"#667eea":"#f0f0f0",color:c==="all"?"white":"#333",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"0.9rem"},children:["All (",E.total,")"]}),o.jsxs("button",{onClick:()=>d("success"),style:{padding:"10px 20px",background:c==="success"?"#4caf50":"#f0f0f0",color:c==="success"?"white":"#333",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"0.9rem"},children:[" Success (",E.successful,")"]}),o.jsxs("button",{onClick:()=>d("failed"),style:{padding:"10px 20px",background:c==="failed"?"#f44336":"#f0f0f0",color:c==="failed"?"white":"#333",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"0.9rem"},children:[" Failed (",E.failed,")"]})]}),o.jsx("input",{type:"text",placeholder:"Search by code or name...",value:f,onChange:x=>u(x.target.value),style:{padding:"10px 15px",border:"2px solid #e0e0e0",borderRadius:"6px",fontSize:"0.9rem",flex:"1",minWidth:"200px",color:"#000"}}),o.jsxs("select",{value:p,onChange:x=>_(x.target.value),style:{padding:"10px 15px",border:"2px solid #e0e0e0",borderRadius:"6px",fontSize:"0.9rem",cursor:"pointer",background:"white",color:"#000"},children:[o.jsx("option",{value:"newest",children:"Newest First"}),o.jsx("option",{value:"oldest",children:"Oldest First"})]}),o.jsx("button",{onClick:R,style:{padding:"10px 20px",background:"#4caf50",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"0.9rem",display:"flex",alignItems:"center",gap:"8px"},children:" Export CSV"})]}),k.length===0?o.jsx("div",{style:{background:"white",padding:"60px 40px",borderRadius:"10px",textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:f?o.jsx("p",{style:{fontSize:"1.2rem",margin:0,color:"#666"},children:" No logs match your search"}):o.jsxs(o.Fragment,{children:[o.jsx("p",{style:{fontSize:"1.5rem",margin:"0 0 20px 0",color:"#333"},children:" No login attempts logged yet"}),o.jsxs("div",{style:{background:"#f8f9fa",padding:"25px",borderRadius:"8px",maxWidth:"600px",margin:"0 auto",textAlign:"left"},children:[o.jsx("p",{style:{margin:"0 0 15px 0",fontSize:"1rem",color:"#666"},children:o.jsx("strong",{children:"To test login tracking:"})}),o.jsxs("ol",{style:{margin:0,paddingLeft:"20px",color:"#666",lineHeight:"2"},children:[o.jsx("li",{children:'Logout (click " Logout" button)'}),o.jsx("li",{children:'Try logging in with a WRONG code (e.g., "ABC123")'}),o.jsx("li",{children:"See the failed attempt appear here"}),o.jsx("li",{children:"Login with your correct code"}),o.jsx("li",{children:"See the successful login appear here"})]})]})]})}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{style:{padding:"15px 20px",background:"#f8f9fa",borderRadius:"8px",marginBottom:"15px",display:"flex",alignItems:"center",gap:"10px"},children:[o.jsx("span",{style:{fontSize:"1.2rem"},children:""}),o.jsxs("span",{style:{fontWeight:"600",color:"#000"},children:["Showing: ",k.length," of ",n.length," total attempts"]})]}),o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:k.map((x,y)=>o.jsxs("div",{style:{padding:"20px",background:x.success?"#e8f5e9":"#ffebee",border:`3px solid ${x.success?"#4caf50":"#f44336"}`,borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",transition:"transform 0.2s",cursor:"default"},onMouseEnter:S=>S.currentTarget.style.transform="scale(1.01)",onMouseLeave:S=>S.currentTarget.style.transform="scale(1)",children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px",flexWrap:"wrap",gap:"10px"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[o.jsxs("span",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#000"},children:["#",k.length-y]}),o.jsx("span",{style:{padding:"8px 16px",background:x.success?"#4caf50":"#f44336",color:"white",borderRadius:"20px",fontWeight:"bold",fontSize:"0.9rem"},children:x.success?" SUCCESS":" FAILED"})]}),o.jsx("div",{style:{fontSize:"0.95rem",color:"#666",fontWeight:"500"},children:new Date(x.timestamp).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px"},children:[o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"5px",fontWeight:"500"},children:"Player Code"}),o.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#000",fontFamily:"monospace"},children:x.playerCode||"N/A"})]}),o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"5px",fontWeight:"500"},children:"Player Name"}),o.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#000"},children:x.playerName||"N/A"})]}),o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"5px",fontWeight:"500"},children:"Browser"}),o.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#000"},children:x.browser||"N/A"})]}),o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"5px",fontWeight:"500"},children:"Device"}),o.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#000"},children:x.device||"N/A"})]})]}),!x.success&&x.errorMessage&&o.jsxs("div",{style:{marginTop:"15px",padding:"12px",background:"#fff",borderLeft:"4px solid #f44336",borderRadius:"4px"},children:[o.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"5px",fontWeight:"500"},children:"Error Message"}),o.jsx("div",{style:{fontSize:"1rem",color:"#d32f2f",fontWeight:"600",fontStyle:"italic"},children:x.errorMessage})]})]},x.id))})]}),o.jsx("div",{style:{marginTop:"30px",padding:"20px",background:"#f8f9fa",borderRadius:"8px",textAlign:"center"},children:o.jsx("p",{style:{margin:0,color:"#666",fontSize:"0.9rem",fontStyle:"italic"},children:" Logs update in real-time. Failed attempts help identify players who need assistance with their codes."})})]}):o.jsx("div",{style:{padding:"40px",textAlign:"center",color:"#999"},children:o.jsx("p",{children:" This feature is only available to Pool Managers"})})},RC=()=>{const t=navigator.userAgent;let e="Unknown";if(t.indexOf("Firefox")>-1){const n=t.match(/Firefox\/(\d+)/);e=n?`Firefox ${n[1]}`:"Firefox"}else if(t.indexOf("SamsungBrowser")>-1)e="Samsung Internet";else if(t.indexOf("Opera")>-1||t.indexOf("OPR")>-1)e="Opera";else if(t.indexOf("Trident")>-1)e="Internet Explorer";else if(t.indexOf("Edge")>-1)e="Edge";else if(t.indexOf("Chrome")>-1){const n=t.match(/Chrome\/(\d+)/);e=n?`Chrome ${n[1]}`:"Chrome"}else if(t.indexOf("Safari")>-1){const n=t.match(/Version\/(\d+)/);e=n?`Safari ${n[1]}`:"Safari"}return e},AC=()=>{const t=navigator.userAgent;return/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(t)?"Tablet":/Mobile|iP(hone|od)|Android|BlackBerry|IEMobile|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(t)?"Mobile":"Desktop"},e0=async({playerCode:t,playerName:e=null,success:n,errorMessage:r=null})=>{try{const s=$u(),i=K(s,"loginLogs"),l={timestamp:Date.now(),playerCode:t||"EMPTY",playerName:e||null,success:n,errorMessage:r||null,browser:RC(),device:AC(),userAgent:navigator.userAgent};await Ar(i,l),console.log(" Login attempt logged:",{code:t,success:n,browser:l.browser,device:l.device})}catch(s){console.error(" Failed to log login attempt:",s)}},DC=async(t,e)=>e0({playerCode:t,playerName:e,success:!0,errorMessage:null}),Ka=async(t,e)=>e0({playerCode:t,playerName:null,success:!1,errorMessage:e});function vr(t,e){if(!t||!t[e])return 0;let n=0;const r=t[e];return Object.keys(r).forEach(s=>{const i=r[s];i&&i.team1!==void 0&&i.team2!==void 0&&(n+=parseInt(i.team1)+parseInt(i.team2))}),n}function _r(t,e){if(!t||!t[e])return 0;let n=0;const r=t[e];return Object.keys(r).forEach(s=>{const i=r[s];i&&i.team1!==void 0&&i.team2!==void 0&&(n+=parseInt(i.team1)+parseInt(i.team2))}),n}function Uu(t,e){if(!t||!t[e])return{};const n={},r=t[e];return Object.keys(r).forEach(s=>{const i=r[s];if(i&&i.team1!==void 0&&i.team2!==void 0){const l=parseInt(i.team1),a=parseInt(i.team2);l>a?n[s]="team1":a>l&&(n[s]="team2")}}),n}function t0(t,e,n){if(!t||!t[n])return 0;let r=0;const s=t[n];return Object.keys(e).forEach(i=>{const l=e[i],a=s[i];if(a&&a.team1!==void 0&&a.team2!==void 0){const c=parseInt(a.team1),d=parseInt(a.team2);let f=null;c>d?f="team1":d>c&&(f="team2"),f===l&&r++}}),r}function Kn(t,e){return Math.abs(t-e)}function Qa(t,e,n){const r=Uu(e,n);if(Object.keys(r).length===0)return{status:"not_scored",winner:null,message:"Waiting for game results"};const s=_r(e,n),i=[];if(Object.keys(t).forEach(u=>{const p=t[u],_=p.name,k=p.picks;if(!k||!k[n])return;const R=t0(k,r,n),E=vr(k,n),x=Kn(E,s);i.push({name:_,code:u,correctWinners:R,predictedTotal:E,difference:x})}),i.length===0)return{status:"no_picks",winner:null,message:"No picks submitted for this week"};const l=Math.max(...i.map(u=>u.correctWinners)),a=i.filter(u=>u.correctWinners===l);if(a.length===1)return{status:"calculated",winner:a[0].name,winnerCode:a[0].code,correctWinners:l,tiebreakerUsed:!1,isTrueTie:!1,tiedPlayers:null,allPlayerResults:i.sort((u,p)=>p.correctWinners-u.correctWinners)};const c=Math.min(...a.map(u=>u.difference)),d=a.filter(u=>u.difference===c),f=d.length>1;return{status:"calculated",winner:f?d.map(u=>u.name):d[0].name,winnerCode:f?d.map(u=>u.code):d[0].code,correctWinners:l,actualTotal:s,predictedTotal:d[0].predictedTotal,difference:d[0].difference,tiebreakerUsed:!0,tiebreakerLevel:`${n} Total Points`,isTrueTie:f,tiedPlayers:a.map(u=>u.name),tiedPlayersDetails:a.map(u=>({name:u.name,correctWinners:u.correctWinners,predictedTotal:u.predictedTotal,difference:u.difference})),allPlayerResults:i.sort((u,p)=>p.correctWinners-u.correctWinners)}}function Xa(t,e,n){const r=_r(e,n);if(r===0)return{status:"not_scored",winner:null,message:"Waiting for game results"};const s=[];if(Object.keys(t).forEach(c=>{const d=t[c],f=d.name,u=d.picks;if(!u||!u[n])return;const p=vr(u,n),_=Kn(p,r);s.push({name:f,code:c,predictedTotal:p,difference:_})}),s.length===0)return{status:"no_picks",winner:null,message:"No picks submitted for this week"};const i=Math.min(...s.map(c=>c.difference)),l=s.filter(c=>c.difference===i);if(l.length===0)return{status:"no_picks",winner:null,message:"No valid picks submitted for this week"};const a=l.length>1;return{status:"calculated",winner:a?l.map(c=>c.name):l[0].name,winnerCode:a?l.map(c=>c.code):l[0].code,actualTotal:r,predictedTotal:l[0].predictedTotal,difference:i,tiebreakerUsed:!1,isTrueTie:a,tiedPlayers:a?l.map(c=>c.name):null,allPlayerResults:s.sort((c,d)=>c.difference-d.difference)}}function WC(t,e){const n="superbowl",r=Uu(e,n);if(Object.keys(r).length===0)return{status:"not_scored",winner:null,message:"Waiting for Super Bowl results"};const s=r[13];if(!s)return{status:"not_scored",winner:null,message:"Super Bowl winner not determined"};const i=[];if(Object.keys(t).forEach(f=>{const u=t[f],p=u.name,_=u.picks;if(!_||!_[n]||!_[n][13])return;const k=_[n][13],R=parseInt(k.team1),E=parseInt(k.team2);let x=null;R>E?x="team1":E>R&&(x="team2"),x===s&&i.push({name:p,code:f,picks:_})}),i.length===0)return{status:"no_winner",winner:null,message:"No players picked the correct Super Bowl winner"};if(i.length===1)return{status:"calculated",winner:i[0].name,winnerCode:i[0].code,pickedCorrectWinner:!0,eligiblePlayers:1,eliminatedPlayers:Object.keys(t).length-1,tiebreakerUsed:!1,isTrueTie:!1,steps:[{level:"Correct Super Bowl Winner",remaining:1,winner:i[0].name}]};const l=[{key:"superbowl",name:"Week 4"},{key:"conference",name:"Week 3"},{key:"divisional",name:"Week 2"},{key:"wildcard",name:"Week 1"}];let a=[...i];const c=[{level:"Correct Super Bowl Winner",remaining:i.length,tied:i.map(f=>f.name)}];for(const f of l){if(a.length===1)break;const u=_r(e,f.key),p=a.map(k=>{const R=vr(k.picks,f.key),E=Kn(R,u);return{...k,predictedTotal:R,difference:E,actualTotal:u}}),_=Math.min(...p.map(k=>k.difference));if(a=p.filter(k=>k.difference===_),c.push({level:`${f.name} Total Points`,actualTotal:u,remaining:a.length,tied:a.map(k=>k.name),minDifference:_,details:p.map(k=>({name:k.name,predictedTotal:k.predictedTotal,difference:k.difference}))}),a.length===1)break}const d=a.length>1;return{status:"calculated",winner:d?a.map(f=>f.name):a[0].name,winnerCode:d?a.map(f=>f.code):a[0].code,pickedCorrectWinner:!0,eligiblePlayers:i.length,eliminatedPlayers:Object.keys(t).length-i.length,tiebreakerUsed:c.length>1,isTrueTie:d,steps:c}}function LC(t,e){const n="superbowl",r=_r(e,n);if(r===0)return{status:"not_scored",winner:null,message:"Waiting for Super Bowl results"};const s=[];if(Object.keys(t).forEach(f=>{const u=t[f],p=u.name,_=u.picks;if(!_||!_[n])return;const k=vr(_,n),R=Kn(k,r);s.push({name:p,code:f,picks:_,predictedTotal:k,difference:R})}),s.length===0)return{status:"no_picks",winner:null,message:"No picks submitted for Super Bowl"};const i=Math.min(...s.map(f=>f.difference));let l=s.filter(f=>f.difference===i);if(l.length===1)return{status:"calculated",winner:l[0].name,winnerCode:l[0].code,actualTotal:r,predictedTotal:l[0].predictedTotal,difference:i,tiebreakerUsed:!1,isTrueTie:!1,steps:[{level:"Week 4 Total Points",actualTotal:r,remaining:1,winner:l[0].name,minDifference:i}]};const a=[{key:"conference",name:"Week 3"},{key:"divisional",name:"Week 2"},{key:"wildcard",name:"Week 1"}],c=[{level:"Week 4 Total Points",actualTotal:r,remaining:l.length,tied:l.map(f=>f.name),minDifference:i,details:l.map(f=>({name:f.name,predictedTotal:f.predictedTotal,difference:f.difference}))}];for(const f of a){if(l.length===1)break;const u=_r(e,f.key),p=l.map(k=>{const R=vr(k.picks,f.key),E=Kn(R,u);return{...k,weekPredictedTotal:R,weekDifference:E,weekActualTotal:u}}),_=Math.min(...p.map(k=>k.weekDifference));if(l=p.filter(k=>k.weekDifference===_),c.push({level:`${f.name} Total Points`,actualTotal:u,remaining:l.length,tied:l.map(k=>k.name),minDifference:_,details:p.map(k=>({name:k.name,predictedTotal:k.weekPredictedTotal,difference:k.weekDifference}))}),l.length===1)break}if(l.length===0)return{status:"no_picks",winner:null,message:"No valid picks for tiebreaker weeks"};const d=l.length>1;return{status:"calculated",winner:d?l.map(f=>f.name):l[0].name,winnerCode:d?l.map(f=>f.code):l[0].code,actualTotal:r,predictedTotal:l[0].predictedTotal,difference:l[0].difference,tiebreakerUsed:c.length>1,isTrueTie:d,steps:c,allPlayerResults:s.sort((f,u)=>f.difference-u.difference)}}function OC(t,e){const n=[{key:"wildcard",name:"Week 1"},{key:"divisional",name:"Week 2"},{key:"conference",name:"Week 3"},{key:"superbowl",name:"Week 4"}],r={};if(n.forEach(u=>{r[u.key]=Uu(e,u.key)}),!n.every(u=>Object.keys(r[u.key]).length>0))return{status:"not_scored",winner:null,message:"Waiting for all playoff rounds to complete"};const i=[];if(Object.keys(t).forEach(u=>{const p=t[u],_=p.name,k=p.picks;let R=0;const E={};n.forEach(x=>{const y=t0(k,r[x.key],x.key);E[x.key]=y,R+=y}),i.push({name:_,code:u,picks:k,totalCorrect:R,weeklyCorrect:E})}),i.length===0)return{status:"no_picks",winner:null,message:"No picks submitted"};const l=Math.max(...i.map(u=>u.totalCorrect));let a=i.filter(u=>u.totalCorrect===l);if(a.length===1)return{status:"calculated",winner:a[0].name,winnerCode:a[0].code,correctWinners:l,tiebreakerUsed:!1,isTrueTie:!1,steps:[{layer:0,type:"Overall Correct Winners",remaining:1,winner:a[0].name,correctWinners:l}]};const c=[{layer:0,type:"Overall Correct Winners",remaining:a.length,tied:a.map(u=>u.name),correctWinners:l}],d=[...n].reverse();for(const u of d){if(a.length===1)break;const p=Math.max(...a.map(k=>k.weeklyCorrect[u.key])),_=a.length;if(a=a.filter(k=>k.weeklyCorrect[u.key]===p),c.push({layer:1,type:"Correct Winners",level:`${u.name} Winners`,remaining:a.length,tied:a.map(k=>k.name),maxCorrect:p,eliminated:_-a.length}),a.length===1)break}if(a.length===1)return{status:"calculated",winner:a[0].name,winnerCode:a[0].code,correctWinners:l,tiebreakerUsed:!0,isTrueTie:!1,steps:c};for(const u of d){if(a.length===1)break;const p=_r(e,u.key),_=a.map(E=>{const x=vr(E.picks,u.key),y=Kn(x,p);return{...E,weekPredictedTotal:x,weekDifference:y}}),k=Math.min(..._.map(E=>E.weekDifference)),R=a.length;if(a=_.filter(E=>E.weekDifference===k),c.push({layer:2,type:"Closest to Totals",level:`${u.name} Total Points`,actualTotal:p,remaining:a.length,tied:a.map(E=>E.name),minDifference:k,eliminated:R-a.length,details:_.map(E=>({name:E.name,predictedTotal:E.weekPredictedTotal,difference:E.weekDifference}))}),a.length===1)break}if(a.length===0)return{status:"no_picks",winner:null,message:"No valid picks for tiebreaker weeks"};const f=a.length>1;return{status:"calculated",winner:f?a.map(u=>u.name):a[0].name,winnerCode:f?a.map(u=>u.code):a[0].code,correctWinners:l,tiebreakerUsed:!0,isTrueTie:f,steps:c,allPlayerResults:i.sort((u,p)=>p.totalCorrect-u.totalCorrect)}}function MC(t,e){const n=[{key:"wildcard",name:"Week 1"},{key:"divisional",name:"Week 2"},{key:"conference",name:"Week 3"},{key:"superbowl",name:"Week 4"}],r={};let s=0;if(n.forEach(u=>{const p=_r(e,u.key);r[u.key]=p,s+=p}),s===0)return{status:"not_scored",winner:null,message:"Waiting for all playoff rounds to complete"};const i=[];if(Object.keys(t).forEach(u=>{const p=t[u],_=p.name,k=p.picks;let R=0;const E={};n.forEach(y=>{const S=vr(k,y.key);E[y.key]=S,R+=S});const x=Kn(R,s);i.push({name:_,code:u,picks:k,overallPredictedTotal:R,overallDifference:x,weeklyPredictedTotals:E})}),i.length===0)return{status:"no_picks",winner:null,message:"No picks submitted"};const l=Math.min(...i.map(u=>u.overallDifference));let a=i.filter(u=>u.overallDifference===l);if(a.length===1)return{status:"calculated",winner:a[0].name,winnerCode:a[0].code,overallActualTotal:s,overallPredictedTotal:a[0].overallPredictedTotal,difference:l,tiebreakerUsed:!1,isTrueTie:!1,steps:[{level:"Overall Total Points",actualTotal:s,remaining:1,winner:a[0].name,minDifference:l}],allPlayerResults:i.sort((u,p)=>u.overallDifference-p.overallDifference)};const c=[{level:"Overall Total Points",actualTotal:s,remaining:a.length,tied:a.map(u=>u.name),minDifference:l,details:a.map(u=>({name:u.name,predictedTotal:u.overallPredictedTotal,difference:u.overallDifference}))}],d=[...n].reverse();for(const u of d){if(a.length===1)break;const p=r[u.key],_=a.map(E=>{const x=E.weeklyPredictedTotals[u.key],y=Kn(x,p);return{...E,weekPredictedTotal:x,weekDifference:y}}),k=Math.min(..._.map(E=>E.weekDifference)),R=a.length;if(a=_.filter(E=>E.weekDifference===k),c.push({level:`${u.name} Total Points`,actualTotal:p,remaining:a.length,tied:a.map(E=>E.name),minDifference:k,eliminated:R-a.length,details:_.map(E=>({name:E.name,predictedTotal:E.weekPredictedTotal,difference:E.weekDifference}))}),a.length===1)break}if(a.length===0)return{status:"no_picks",winner:null,message:"No valid picks for tiebreaker weeks"};const f=a.length>1;return{status:"calculated",winner:f?a.map(u=>u.name):a[0].name,winnerCode:f?a.map(u=>u.code):a[0].code,overallActualTotal:s,overallPredictedTotal:a[0].overallPredictedTotal,difference:a[0].overallDifference,tiebreakerUsed:c.length>1,isTrueTie:f,steps:c,allPlayerResults:i.sort((u,p)=>u.overallDifference-p.overallDifference)}}const zC=({calculatedWinners:t,publishedWinners:e,isPoolManager:n,onPublishPrize:r,onUnpublishPrize:s,allPicks:i=[],actualScores:l={}})=>{const[a,c]=M.useState({"Week 1":!0,"Week 2":!1,"Week 3":!1,"Week 4":!1,"Grand Prize":!1}),[d,f]=M.useState({}),u=b=>{c(W=>({...W,[b]:!W[b]}))},p=b=>{f(W=>({...W,[b]:!W[b]}))},_=()=>{c({"Week 1":!0,"Week 2":!0,"Week 3":!0,"Week 4":!0,"Grand Prize":!0})},k=()=>{c({"Week 1":!1,"Week 2":!1,"Week 3":!1,"Week 4":!1,"Grand Prize":!1})},R=[{week:"Week 1",title:"Most Correct Winners",amount:"$50",icon:"",calcKey:"week1.prize1",pubKey:"week1_prize1"},{week:"Week 1",title:"Closest Total Points",amount:"$50",icon:"",calcKey:"week1.prize2",pubKey:"week1_prize2"},{week:"Week 2",title:"Most Correct Winners",amount:"$50",icon:"",calcKey:"week2.prize1",pubKey:"week2_prize1"},{week:"Week 2",title:"Closest Total Points",amount:"$50",icon:"",calcKey:"week2.prize2",pubKey:"week2_prize2"},{week:"Week 3",title:"Most Correct Winners",amount:"$50",icon:"",calcKey:"week3.prize1",pubKey:"week3_prize1"},{week:"Week 3",title:"Closest Total Points",amount:"$50",icon:"",calcKey:"week3.prize2",pubKey:"week3_prize2"},{week:"Week 4",title:"Correct Winner",amount:"$50",icon:"",calcKey:"week4.prize1",pubKey:"week4_prize1"},{week:"Week 4",title:"Closest Total Points",amount:"$50",icon:"",calcKey:"week4.prize2",pubKey:"week4_prize2"},{week:"Grand Prize",title:"Most Correct Winners",amount:"$120",icon:"",calcKey:"grandPrize.prize1",pubKey:"grand_prize1"},{week:"Grand Prize",title:"Closest Total Points",amount:"$80",icon:"",calcKey:"grandPrize.prize2",pubKey:"grand_prize2"}],E=b=>{const W=b.split(".");let U=t;for(const ne of W)if(U=U==null?void 0:U[ne],!U)return null;return U},x=b=>(e==null?void 0:e[b])===!0,y=(b,W)=>{r&&r(b.pubKey,b,W)},S=(b,W)=>{const U=W.steps&&W.steps.length>0,ne=W.tiebreakerUsed&&W.tiedPlayersDetails&&W.tiedPlayersDetails.length>0;if(!U&&!ne)return o.jsxs("div",{className:"expanded-view",children:[o.jsx("div",{className:"breakdown-header",children:" FULL BREAKDOWN "}),o.jsx("p",{children:"Winner determined without tiebreakers."})]});if(U)return o.jsxs("div",{className:"expanded-view",children:[o.jsx("div",{className:"breakdown-header",children:" FULL TIEBREAKER BREAKDOWN "}),W.steps.map((X,G)=>o.jsxs("div",{className:"breakdown-step",children:[o.jsxs("div",{className:"step-header",children:[X.layer!==void 0&&o.jsxs("span",{className:"layer-badge",children:["Layer ",X.layer]}),"STEP ",G+1,": ",X.level]}),X.actualTotal!==void 0&&o.jsxs("div",{className:"step-detail",children:["Actual total: ",X.actualTotal," points"]}),X.remaining!==void 0&&o.jsxs("div",{className:"step-detail",children:[X.remaining," player",X.remaining!==1?"s":""," remain",X.remaining===1?"s":""]}),X.tied&&X.tied.length>1&&o.jsxs("div",{className:"step-detail tied-players",children:[" Tied: ",X.tied.join(", ")]}),X.winner&&o.jsxs("div",{className:"step-detail winner",children:[" Winner: ",o.jsx("strong",{children:X.winner})]}),X.eliminated>0&&o.jsxs("div",{className:"step-detail eliminated",children:[" ",X.eliminated," player",X.eliminated!==1?"s":""," eliminated"]}),X.details&&X.details.length>0&&o.jsx("div",{className:"player-details",children:X.details.map((ge,$)=>o.jsxs("div",{className:"player-row",children:[o.jsxs("span",{className:"player-name",children:[ge.name,":"]}),o.jsxs("span",{className:"player-prediction",children:[ge.predictedTotal," predicted"]}),o.jsxs("span",{className:"player-diff",children:["(off by ",ge.difference,")"]})]},$))})]},G))]});if(ne)return o.jsxs("div",{className:"expanded-view",children:[o.jsx("div",{className:"breakdown-header",children:" FULL TIEBREAKER BREAKDOWN "}),o.jsxs("div",{className:"breakdown-step",children:[o.jsxs("div",{className:"step-header",children:["INITIAL TIE: ",W.correctWinners," correct winner",W.correctWinners!==1?"s":""]}),o.jsxs("div",{className:"step-detail tied-players",children:[" Tied: ",W.tiedPlayers.join(", ")]})]}),o.jsxs("div",{className:"breakdown-step",children:[o.jsxs("div",{className:"step-header",children:["TIEBREAKER: ",W.tiebreakerLevel]}),o.jsxs("div",{className:"step-detail",children:["Actual total: ",W.actualTotal," points"]}),o.jsx("div",{className:"player-details",children:W.tiedPlayersDetails.map((X,G)=>o.jsxs("div",{className:"player-row",children:[o.jsxs("span",{className:"player-name",children:[X.name,":"]}),o.jsxs("span",{className:"player-prediction",children:[X.predictedTotal," predicted"]}),o.jsxs("span",{className:"player-diff",children:["(off by ",X.difference,")"]}),X.name===W.winner&&o.jsx("span",{className:"winner-badge",children:" WINNER"})]},G))})]})]})},v=b=>{var X;const W=E(b.calcKey),U=x(b.pubKey),ne=d[b.pubKey]||!1;return!W||W.status==="not_scored"||W.status==="no_picks"?o.jsxs("div",{className:"prize-card",children:[o.jsxs("div",{className:"prize-header",children:[o.jsx("span",{className:"prize-icon",children:b.icon}),o.jsx("span",{className:"prize-title",children:b.title}),o.jsx("span",{className:"prize-amount",children:b.amount})]}),o.jsx("div",{className:"prize-status waiting",children:" Waiting for game results"})]},b.pubKey):U?o.jsxs("div",{className:"prize-card published",children:[o.jsxs("div",{className:"prize-header",children:[o.jsx("span",{className:"prize-icon",children:b.icon}),o.jsx("span",{className:"prize-title",children:b.title}),o.jsx("span",{className:"prize-amount",children:b.amount})]}),o.jsxs("div",{className:"moderate-view",children:[o.jsxs("div",{className:"winner-announcement",children:[" Winner: ",o.jsx("strong",{children:Array.isArray(W.winner)?W.winner.join(", "):W.winner})]}),W.correctWinners!==void 0&&o.jsxs("div",{className:"winner-stat",children:[W.correctWinners," correct winner",W.correctWinners!==1?"s":""]}),W.difference!==void 0&&o.jsxs("div",{className:"winner-stat",children:["Off by ",W.difference," point",W.difference!==1?"s":"",W.predictedTotal!==void 0&&W.actualTotal!==void 0&&o.jsxs("span",{children:[" (Predicted: ",W.predictedTotal,", Actual: ",W.actualTotal,")"]})]}),W.tiebreakerUsed&&o.jsxs("div",{className:"tiebreaker-info",children:[W.tiedPlayers&&W.tiedPlayers.length>1&&o.jsxs("div",{className:"tied-count",children:[W.tiedPlayers.length," players tied with ",W.correctWinners||"same score"]}),W.tiebreakerLevel&&o.jsxs("div",{className:"tiebreaker-method",children:["Tiebreaker: ",W.tiebreakerLevel]}),W.tiedPlayers&&W.tiedPlayers.length>0&&o.jsxs("div",{className:"tied-players-list",children:["Tied players: ",W.tiedPlayers.join(", ")]})]}),W.isTrueTie&&o.jsx("div",{className:"true-tie-notice",children:" TRUE TIE - Prize will be split equally"}),!W.tiebreakerUsed&&!W.isTrueTie&&o.jsx("div",{className:"no-tiebreaker",children:"No tiebreaker needed"})]}),(((X=W.steps)==null?void 0:X.length)>0||W.tiebreakerUsed)&&o.jsx("button",{className:"toggle-breakdown-btn",onClick:()=>p(b.pubKey),children:ne?" Hide Full Breakdown":" Show Full Breakdown"}),ne&&S(b,W),n&&o.jsxs("button",{className:"unpublish-btn",onClick:()=>s(b.pubKey),children:[" Unpublish ",b.title]})]},b.pubKey):o.jsxs("div",{className:"prize-card unpublished",children:[o.jsxs("div",{className:"prize-header",children:[o.jsx("span",{className:"prize-icon",children:b.icon}),o.jsx("span",{className:"prize-title",children:b.title}),o.jsx("span",{className:"prize-amount",children:b.amount})]}),o.jsx("div",{className:"prize-status unpublished",children:n?o.jsxs(o.Fragment,{children:[" Not yet published",o.jsx("button",{className:"publish-btn",onClick:()=>y(b,W),children:" Review & Publish"})]}):o.jsxs("div",{children:[" Not yet published",o.jsx("div",{style:{fontSize:"0.85rem",marginTop:"5px",opacity:.8},children:"(Pool Manager is reviewing calculations)"})]})})]},b.pubKey)},N={wildcard:{name:"Wild Card Round",weekNum:1},divisional:{name:"Divisional Round",weekNum:2},conference:{name:"Conference Championships",weekNum:3},superbowl:{name:"Super Bowl LIX",weekNum:4}},C=b=>b.lastUpdated||b.timestamp||0,P=b=>{if(!b)return"No timestamp";const W=new Date(b),U=String(W.getMonth()+1).padStart(2,"0"),ne=String(W.getDate()).padStart(2,"0"),X=W.getHours(),G=String(W.getMinutes()).padStart(2,"0"),ge=String(W.getSeconds()).padStart(2,"0"),$=X>=12?"PM":"AM",q=X%12||12;return`${U}/${ne}, ${String(q).padStart(2,"0")}:${G}:${ge} ${$}`},D=M.useMemo(()=>{const b={weeks:{},seasonSummary:{weeksAnalyzed:0,totalPrizes:0,prizesWithTies:0,tiesWouldBreak:0}};return Object.entries(N).forEach(([W,U])=>{const ne=i.filter($=>$.week===W);if(!l[W]||ne.length===0)return;b.seasonSummary.weeksAnalyzed++;const G={weekName:U.name,prizes:[]};R.filter($=>$.week===`Week ${U.weekNum}`).forEach($=>{b.seasonSummary.totalPrizes++;const q=E($.calcKey);if(!q)return;const Z=Array.isArray(q.winner)?q.winner:[q.winner].filter(Boolean);if(Z.length>1){b.seasonSummary.prizesWithTies++;const fe=Z.map(ut=>{const Je=ne.find(Jn=>Jn.playerCode===ut);return{playerCode:ut,playerName:(Je==null?void 0:Je.playerName)||ut,timestamp:C(Je),pick:Je}}).filter(ut=>ut.pick);fe.sort((ut,Je)=>ut.timestamp-Je.timestamp);const je={prizeTitle:$.title,officialResult:`${Z.length}-way tie`,tiedPlayers:fe,hypotheticalWinner:fe[0],timestampWouldBreak:fe.length>1};je.timestampWouldBreak&&b.seasonSummary.tiesWouldBreak++,G.prizes.push(je)}}),G.prizes.length>0&&(b.weeks[W]=G)}),b},[t,i,l,R]),A=M.useMemo(()=>{const{weeksAnalyzed:b,prizesWithTies:W,totalPrizes:U}=D.seasonSummary;return b===0||U===0?null:{currentPlayers:50,tieRate:W/U,projections:{1e3:{expectedTiesPerPrize:"15-30 way ties",prizeWithout:"$100  20 = $5.00 each",prizeWith:"$100  1 = $100.00",improvement:"+$95.00 (1900% increase)"},1e4:{expectedTiesPerPrize:"50-200 way ties",prizeWithout:"$100  100 = $1.00 each",prizeWith:"$100  1 = $100.00",improvement:"+$99.00 (9900% increase)"}}}},[D]),L=[{key:"Week 1",title:"Week 1 - Wild Card Round (6 games)",prizes:R.filter(b=>b.week==="Week 1")},{key:"Week 2",title:"Week 2 - Divisional Round (4 games)",prizes:R.filter(b=>b.week==="Week 2")},{key:"Week 3",title:"Week 3 - Conference Championships (2 games)",prizes:R.filter(b=>b.week==="Week 3")},{key:"Week 4",title:"Week 4 - Super Bowl (1 game)",prizes:R.filter(b=>b.week==="Week 4")},{key:"Grand Prize",title:"Grand Prizes",prizes:R.filter(b=>b.week==="Grand Prize")}];return o.jsxs("div",{className:"how-winners-container",children:[o.jsx("h2",{children:" How Winners Are Determined"}),o.jsx("p",{className:"intro-text",children:"Winners are published after the Pool Manager reviews calculations. Check back after each week's games complete."}),o.jsxs("div",{className:"week-controls",children:[o.jsx("button",{className:"control-btn",onClick:_,children:" Expand All Weeks"}),o.jsx("button",{className:"control-btn",onClick:k,children:" Collapse All Weeks"})]}),o.jsx("div",{className:"divider"}),L.map((b,W)=>o.jsxs("div",{className:"week-section",children:[o.jsxs("h3",{className:`week-header collapsible ${a[b.key]?"expanded":"collapsed"}`,onClick:()=>u(b.key),children:[o.jsx("span",{className:"toggle-icon",children:a[b.key]?"":""}),b.title]}),a[b.key]&&o.jsx("div",{className:"prizes-container",children:b.prizes.map(U=>v(U))}),W<L.length-1&&o.jsx("div",{className:"divider"})]},b.key)),n&&D.seasonSummary.weeksAnalyzed>0&&o.jsxs("div",{className:"timestamp-analysis-section",children:[o.jsxs("div",{className:"testing-warning-banner",children:[o.jsx("h2",{children:" EXPERIMENTAL FEATURE - FOR TESTING ONLY"}),o.jsx("p",{children:"This analysis shows what WOULD happen if submission timestamp was used as a final tie-breaker."}),o.jsxs("p",{children:[o.jsx("strong",{children:"This is NOT used for actual prizes this season."})," Data is for planning next year only."]})]}),o.jsxs("div",{className:"timestamp-analysis-content",children:[o.jsxs("div",{className:"analysis-header",children:[o.jsx("h3",{children:" HYPOTHETICAL: TIMESTAMP TIE-BREAKER ANALYSIS"}),o.jsxs("p",{className:"last-updated",children:["Last updated: ",new Date().toLocaleString()]})]}),Object.entries(D.weeks).map(([b,W])=>o.jsxs("div",{className:"week-timestamp-analysis",children:[o.jsxs("h4",{className:"week-analysis-title",children:[" ",W.weekName.toUpperCase()," - TIMESTAMP IMPACT"]}),W.prizes.filter(U=>U.timestampWouldBreak).length===0?o.jsx("div",{className:"no-ties-message",children:" No ties this week - timestamp not needed"}):W.prizes.map((U,ne)=>U.timestampWouldBreak?o.jsxs("div",{className:"prize-timestamp-comparison",children:[o.jsx("h5",{children:U.prizeTitle}),o.jsxs("div",{className:"official-result-box",children:[o.jsx("div",{className:"box-label",children:" Official Result (Current Rules):"}),o.jsxs("div",{className:"box-content",children:[U.officialResult," - Prize split equally",o.jsx("div",{className:"tied-players-list",children:U.tiedPlayers.map(X=>X.playerName).join(", ")})]})]}),o.jsxs("div",{className:"hypothetical-result-box",children:[o.jsx("div",{className:"box-label",children:" Hypothetical (If Timestamp Was Used):"}),o.jsxs("div",{className:"box-content",children:[o.jsx("div",{className:"timestamp-ranking",children:U.tiedPlayers.map((X,G)=>o.jsxs("div",{className:`timestamp-entry ${G===0?"winner":""}`,children:[o.jsxs("span",{className:"rank",children:[G+1,G===0?"st":G===1?"nd":G===2?"rd":"th",":"]}),o.jsx("span",{className:"player-name",children:X.playerName}),o.jsx("span",{className:"timestamp",children:P(X.timestamp)}),G===0&&o.jsx("span",{className:"winner-badge",children:" WINNER"})]},G))}),o.jsxs("div",{className:"impact-note",children:[" Impact: ",U.tiedPlayers.length,"-way split  Solo winner"]})]})]})]},ne):null)]},b)),o.jsxs("div",{className:"season-summary-section",children:[o.jsx("h3",{className:"summary-title",children:" SEASON SUMMARY (Cumulative Statistics)"}),o.jsxs("div",{className:"summary-box current-season",children:[o.jsx("h4",{children:"CURRENT SEASON (50 players):"}),o.jsxs("div",{className:"stats-grid",children:[o.jsxs("div",{className:"stat-item",children:[o.jsx("span",{className:"stat-label",children:"Weeks Analyzed:"}),o.jsxs("span",{className:"stat-value",children:[D.seasonSummary.weeksAnalyzed," / 4"]})]}),o.jsxs("div",{className:"stat-item",children:[o.jsx("span",{className:"stat-label",children:"Prizes Awarded:"}),o.jsxs("span",{className:"stat-value",children:[D.seasonSummary.totalPrizes," / 10"]})]}),o.jsxs("div",{className:"stat-item",children:[o.jsx("span",{className:"stat-label",children:"Ties After Rules:"}),o.jsxs("span",{className:"stat-value",children:[D.seasonSummary.prizesWithTies," (",D.seasonSummary.totalPrizes>0?Math.round(D.seasonSummary.prizesWithTies/D.seasonSummary.totalPrizes*100):0,"%)"]})]}),o.jsxs("div",{className:"stat-item",children:[o.jsx("span",{className:"stat-label",children:"Timestamp Would Break:"}),o.jsxs("span",{className:"stat-value",children:[D.seasonSummary.tiesWouldBreak," (",D.seasonSummary.prizesWithTies>0?Math.round(D.seasonSummary.tiesWouldBreak/D.seasonSummary.prizesWithTies*100):0,"% of ties)"]})]})]})]}),A&&o.jsxs("div",{className:"scale-projections-section",children:[o.jsx("h3",{className:"projections-title",children:" PROJECTION: SCALING TO LARGER POOLS"}),o.jsxs("p",{className:"projections-subtitle",children:["Based on current tie rate (",Math.round(A.tieRate*100),"% after ",D.seasonSummary.weeksAnalyzed," week",D.seasonSummary.weeksAnalyzed!==1?"s":""," with ",A.currentPlayers," players):"]}),o.jsxs("div",{className:"projection-box projection-1000",children:[o.jsx("h4",{children:"WITH 1,000 PLAYERS:"}),o.jsxs("div",{className:"projection-stats",children:[o.jsxs("div",{className:"projection-item",children:[o.jsx("span",{className:"projection-label",children:"Expected Ties per Prize:"}),o.jsx("span",{className:"projection-value",children:A.projections[1e3].expectedTiesPerPrize})]}),o.jsxs("div",{className:"projection-item",children:[o.jsx("span",{className:"projection-label",children:"Timestamp Impact:"}),o.jsx("span",{className:"projection-value critical",children:"Critical"})]}),o.jsxs("div",{className:"projection-item",children:[o.jsx("span",{className:"projection-label",children:"Prize Split Improvement:"}),o.jsxs("div",{className:"prize-comparison",children:[o.jsxs("div",{children:["Without: ",A.projections[1e3].prizeWithout]}),o.jsxs("div",{children:["With: ",A.projections[1e3].prizeWith]}),o.jsx("div",{className:"improvement",children:A.projections[1e3].improvement})]})]})]})]}),o.jsxs("div",{className:"projection-box projection-10000",children:[o.jsx("h4",{children:"WITH 10,000 PLAYERS:"}),o.jsxs("div",{className:"projection-stats",children:[o.jsxs("div",{className:"projection-item",children:[o.jsx("span",{className:"projection-label",children:"Expected Ties per Prize:"}),o.jsx("span",{className:"projection-value",children:A.projections[1e4].expectedTiesPerPrize})]}),o.jsxs("div",{className:"projection-item",children:[o.jsx("span",{className:"projection-label",children:"Timestamp Impact:"}),o.jsx("span",{className:"projection-value essential",children:"ESSENTIAL"})]}),o.jsxs("div",{className:"projection-item",children:[o.jsx("span",{className:"projection-label",children:"Prize Split Improvement:"}),o.jsxs("div",{className:"prize-comparison",children:[o.jsxs("div",{children:["Without: ",A.projections[1e4].prizeWithout]}),o.jsxs("div",{children:["With: ",A.projections[1e4].prizeWith]}),o.jsx("div",{className:"improvement",children:A.projections[1e4].improvement})]})]}),o.jsxs("div",{className:"critical-note",children:[" Without timestamp: Prizes become nearly worthless",o.jsx("br",{}),"With timestamp: Meaningful prize amounts"]})]})]}),o.jsxs("div",{className:"conclusion-box",children:[o.jsx("strong",{children:" CONCLUSION:"})," Timestamp tie-breaker becomes ",o.jsx("strong",{children:"CRITICAL"})," for pools with 500+ players. ",o.jsx("strong",{children:"Essential"})," for 1,000+."]})]})]})]})]})]})},qa=[{id:1,name:"ARI",fullName:"Arizona Cardinals"},{id:2,name:"ATL",fullName:"Atlanta Falcons"},{id:3,name:"BAL",fullName:"Baltimore Ravens"},{id:4,name:"BUF",fullName:"Buffalo Bills"},{id:5,name:"CAR",fullName:"Carolina Panthers"},{id:6,name:"CHI",fullName:"Chicago Bears"},{id:7,name:"CIN",fullName:"Cincinnati Bengals"},{id:8,name:"CLE",fullName:"Cleveland Browns"},{id:9,name:"DAL",fullName:"Dallas Cowboys"},{id:10,name:"DEN",fullName:"Denver Broncos"},{id:11,name:"DET",fullName:"Detroit Lions"},{id:12,name:"GB",fullName:"Green Bay Packers"},{id:13,name:"HOU",fullName:"Houston Texans"},{id:14,name:"IND",fullName:"Indianapolis Colts"},{id:15,name:"JAC",fullName:"Jacksonville Jaguars"},{id:16,name:"KC",fullName:"Kansas City Chiefs"},{id:17,name:"LV",fullName:"Las Vegas Raiders"},{id:18,name:"LAC",fullName:"Los Angeles Chargers"},{id:19,name:"LAR",fullName:"Los Angeles Rams"},{id:20,name:"MIA",fullName:"Miami Dolphins"},{id:21,name:"MIN",fullName:"Minnesota Vikings"},{id:22,name:"NE",fullName:"New England Patriots"},{id:23,name:"NO",fullName:"New Orleans Saints"},{id:24,name:"NYG",fullName:"New York Giants"},{id:25,name:"NYJ",fullName:"New York Jets"},{id:26,name:"PHI",fullName:"Philadelphia Eagles"},{id:27,name:"PIT",fullName:"Pittsburgh Steelers"},{id:28,name:"SF",fullName:"San Francisco 49ers"},{id:29,name:"SEA",fullName:"Seattle Seahawks"},{id:30,name:"TB",fullName:"Tampa Bay Buccaneers"},{id:31,name:"TEN",fullName:"Tennessee Titans"},{id:32,name:"WAS",fullName:"Washington Commanders"}];function FC({playoffTeams:t,actualScores:e,onSavePlayoffTeams:n,isPoolManager:r}){const[s,i]=M.useState({afc:{seed1:null,seed2:null,seed3:null,seed4:null,seed5:null,seed6:null,seed7:null},nfc:{seed1:null,seed2:null,seed3:null,seed4:null,seed5:null,seed6:null,seed7:null}}),[l,a]=M.useState(null),[c,d]=M.useState(null),[f,u]=M.useState(null),[p,_]=M.useState({week2:!1,week3:!1,week4:!1});M.useEffect(()=>{t!=null&&t.week1&&i(t.week1)},[t]);const k=()=>{if(!(t!=null&&t.week1))return!1;const A=t.week1.afc||{},L=t.week1.nfc||{};for(let b=1;b<=7;b++)if(!A[`seed${b}`]||!L[`seed${b}`])return!1;return!0},R=(A,L,b)=>{const W=qa.find(U=>U.id===parseInt(b));i(U=>({...U,[A]:{...U[A],[L]:W}}))},E=()=>{for(let L=1;L<=7;L++)if(!s.afc[`seed${L}`]||!s.nfc[`seed${L}`]){alert("Please select all 14 teams before saving!");return}const A={week1:{...s,configured:!0}};n(A),alert(" Week 1 playoff teams saved successfully!")},x=()=>{if(!(e!=null&&e.wildcard)){alert(" Week 1 scores not yet entered. Cannot generate Week 2 matchups.");return}const A=y();if(!A){alert(" Not all Week 1 games have been scored. Cannot generate Week 2 matchups.");return}const L=S(A);a(L)},y=()=>{const A=e.wildcard;if(!A)return null;const L={afc:[],nfc:[]};if(A[1]){const b=parseInt(A[1].team2)>parseInt(A[1].team1)?s.afc.seed2:s.afc.seed7;b&&L.afc.push({...b,originalSeed:parseInt(A[1].team2)>parseInt(A[1].team1)?2:7})}if(A[2]){const b=parseInt(A[2].team2)>parseInt(A[2].team1)?s.afc.seed3:s.afc.seed6;b&&L.afc.push({...b,originalSeed:parseInt(A[2].team2)>parseInt(A[2].team1)?3:6})}if(A[3]){const b=parseInt(A[3].team2)>parseInt(A[3].team1)?s.afc.seed4:s.afc.seed5;b&&L.afc.push({...b,originalSeed:parseInt(A[3].team2)>parseInt(A[3].team1)?4:5})}if(A[4]){const b=parseInt(A[4].team2)>parseInt(A[4].team1)?s.nfc.seed2:s.nfc.seed7;b&&L.nfc.push({...b,originalSeed:parseInt(A[4].team2)>parseInt(A[4].team1)?2:7})}if(A[5]){const b=parseInt(A[5].team2)>parseInt(A[5].team1)?s.nfc.seed3:s.nfc.seed6;b&&L.nfc.push({...b,originalSeed:parseInt(A[5].team2)>parseInt(A[5].team1)?3:6})}if(A[6]){const b=parseInt(A[6].team2)>parseInt(A[6].team1)?s.nfc.seed4:s.nfc.seed5;b&&L.nfc.push({...b,originalSeed:parseInt(A[6].team2)>parseInt(A[6].team1)?4:5})}return L.afc.length!==3||L.nfc.length!==3?null:L},S=A=>{const L=[{...s.afc.seed1,originalSeed:1},...A.afc],b=[{...s.nfc.seed1,originalSeed:1},...A.nfc];return L.sort((U,ne)=>U.originalSeed-ne.originalSeed),b.sort((U,ne)=>U.originalSeed-ne.originalSeed),{afc:[{team1:L[0],team2:L[3]},{team1:L[1],team2:L[2]}],nfc:[{team1:b[0],team2:b[3]},{team1:b[1],team2:b[2]}]}},v=()=>{if(!l){alert("No proposed matchups to confirm!");return}const A={week2:{...l,autoPopulated:!0,manuallyOverridden:!1}};n(A),a(null),alert(" Week 2 matchups confirmed and saved!")},N=()=>{if(!(e!=null&&e.divisional)){alert(" Week 2 scores not yet entered.");return}const A=e.divisional,L=A[7]&&parseInt(A[7].team1)>parseInt(A[7].team2)?t.week2.afc[0].team1:t.week2.afc[0].team2,b=A[8]&&parseInt(A[8].team1)>parseInt(A[8].team2)?t.week2.afc[1].team1:t.week2.afc[1].team2,W=A[9]&&parseInt(A[9].team1)>parseInt(A[9].team2)?t.week2.nfc[0].team1:t.week2.nfc[0].team2,U=A[10]&&parseInt(A[10].team1)>parseInt(A[10].team2)?t.week2.nfc[1].team1:t.week2.nfc[1].team2;if(!L||!b||!W||!U){alert(" Not all Week 2 games scored yet.");return}d({afcChampionship:{team1:L,team2:b},nfcChampionship:{team1:W,team2:U}})},C=()=>{if(!c)return;const A={week3:{...c,autoPopulated:!0}};n(A),d(null),alert(" Week 3 matchups confirmed!")},P=()=>{if(!(e!=null&&e.conference)){alert(" Week 3 scores not yet entered.");return}const A=e.conference,L=A[11]&&parseInt(A[11].team1)>parseInt(A[11].team2)?t.week3.afcChampionship.team1:t.week3.afcChampionship.team2,b=A[12]&&parseInt(A[12].team1)>parseInt(A[12].team2)?t.week3.nfcChampionship.team1:t.week3.nfcChampionship.team2;if(!L||!b){alert(" Not all Conference games scored yet.");return}u({superBowl:{team1:L,team2:b}})},D=()=>{if(!f)return;const A={week4:{...f,autoPopulated:!0}};n(A),u(null),alert(" Super Bowl matchup confirmed!")};return r?o.jsxs("div",{className:"playoff-setup-container",children:[o.jsx("h2",{children:" Playoff Teams Setup"}),o.jsxs("div",{className:"setup-status",children:[o.jsx("h3",{children:" Current Status"}),o.jsxs("div",{className:"status-grid",children:[o.jsxs("div",{className:`status-item ${k()?"configured":"not-configured"}`,children:[o.jsx("strong",{children:"Week 1:"})," ",k()?" Configured":" Not Configured"]}),o.jsxs("div",{className:"status-item",children:[o.jsx("strong",{children:"Week 2:"})," ",t!=null&&t.week2?" Set":" Waiting"]}),o.jsxs("div",{className:"status-item",children:[o.jsx("strong",{children:"Week 3:"})," ",t!=null&&t.week3?" Set":" Waiting"]}),o.jsxs("div",{className:"status-item",children:[o.jsx("strong",{children:"Week 4:"})," ",t!=null&&t.week4?" Set":" Waiting"]})]})]}),o.jsxs("div",{className:"setup-section",children:[o.jsx("h3",{children:" WEEK 1 - Wild Card Round (Manual Setup)"}),o.jsx("p",{children:"Select the 14 playoff teams and assign their seeds."}),o.jsxs("div",{className:"conference-setup",children:[o.jsxs("div",{className:"conference-column",children:[o.jsx("h4",{children:"AFC Teams"}),[1,2,3,4,5,6,7].map(A=>{var L;return o.jsxs("div",{className:"seed-selector",children:[o.jsxs("label",{children:["AFC #",A," Seed:"]}),o.jsxs("select",{value:((L=s.afc[`seed${A}`])==null?void 0:L.id)||"",onChange:b=>R("afc",`seed${A}`,b.target.value),children:[o.jsx("option",{value:"",children:"Select Team"}),qa.map(b=>o.jsxs("option",{value:b.id,children:[b.name," - ",b.fullName]},b.id))]})]},`afc-${A}`)})]}),o.jsxs("div",{className:"conference-column",children:[o.jsx("h4",{children:"NFC Teams"}),[1,2,3,4,5,6,7].map(A=>{var L;return o.jsxs("div",{className:"seed-selector",children:[o.jsxs("label",{children:["NFC #",A," Seed:"]}),o.jsxs("select",{value:((L=s.nfc[`seed${A}`])==null?void 0:L.id)||"",onChange:b=>R("nfc",`seed${A}`,b.target.value),children:[o.jsx("option",{value:"",children:"Select Team"}),qa.map(b=>o.jsxs("option",{value:b.id,children:[b.name," - ",b.fullName]},b.id))]})]},`nfc-${A}`)})]})]}),o.jsx("button",{className:"save-btn",onClick:E,children:" Save Week 1 Playoff Teams"})]}),k()&&o.jsxs("div",{className:"setup-section",children:[o.jsx("h3",{children:" WEEK 2 - Divisional Round (Auto-Generate)"}),o.jsx("p",{children:"Generate matchups based on Week 1 results with NFL reseeding rules."}),!l&&!(t!=null&&t.week2)&&o.jsx("button",{className:"generate-btn",onClick:x,children:" Generate Week 2 Matchups"}),l&&o.jsxs("div",{className:"proposed-matchups",children:[o.jsx("h4",{children:"Proposed Week 2 Matchups:"}),o.jsxs("div",{className:"matchup-list",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"AFC Game 1:"})," ",l.afc[0].team1.name," vs ",l.afc[0].team2.name]}),o.jsxs("p",{children:[o.jsx("strong",{children:"AFC Game 2:"})," ",l.afc[1].team1.name," vs ",l.afc[1].team2.name]}),o.jsxs("p",{children:[o.jsx("strong",{children:"NFC Game 1:"})," ",l.nfc[0].team1.name," vs ",l.nfc[0].team2.name]}),o.jsxs("p",{children:[o.jsx("strong",{children:"NFC Game 2:"})," ",l.nfc[1].team1.name," vs ",l.nfc[1].team2.name]})]}),o.jsx("button",{className:"confirm-btn",onClick:v,children:" Confirm Week 2 Matchups"})]}),(t==null?void 0:t.week2)&&o.jsx("div",{className:"confirmed-status",children:" Week 2 matchups confirmed and saved!"})]}),(t==null?void 0:t.week2)&&o.jsxs("div",{className:"setup-section",children:[o.jsx("h3",{children:" WEEK 3 - Conference Championships (Auto-Generate)"}),!c&&!(t!=null&&t.week3)&&o.jsx("button",{className:"generate-btn",onClick:N,children:" Generate Week 3 Matchups"}),c&&o.jsxs("div",{className:"proposed-matchups",children:[o.jsx("h4",{children:"Proposed Week 3 Matchups:"}),o.jsxs("p",{children:[o.jsx("strong",{children:"AFC Championship:"})," ",c.afcChampionship.team1.name," vs ",c.afcChampionship.team2.name]}),o.jsxs("p",{children:[o.jsx("strong",{children:"NFC Championship:"})," ",c.nfcChampionship.team1.name," vs ",c.nfcChampionship.team2.name]}),o.jsx("button",{className:"confirm-btn",onClick:C,children:" Confirm Week 3 Matchups"})]}),(t==null?void 0:t.week3)&&o.jsx("div",{className:"confirmed-status",children:" Week 3 matchups confirmed!"})]}),(t==null?void 0:t.week3)&&o.jsxs("div",{className:"setup-section",children:[o.jsx("h3",{children:" WEEK 4 - Super Bowl LIX (Auto-Generate)"}),!f&&!(t!=null&&t.week4)&&o.jsx("button",{className:"generate-btn",onClick:P,children:" Generate Super Bowl Matchup"}),f&&o.jsxs("div",{className:"proposed-matchups",children:[o.jsx("h4",{children:"Proposed Super Bowl Matchup:"}),o.jsxs("p",{children:[o.jsx("strong",{children:"Super Bowl LIX:"})," ",f.superBowl.team1.name," vs ",f.superBowl.team2.name]}),o.jsx("button",{className:"confirm-btn",onClick:D,children:" Confirm Super Bowl Matchup"})]}),(t==null?void 0:t.week4)&&o.jsx("div",{className:"confirmed-status",children:" Super Bowl matchup confirmed!"})]})]}):o.jsxs("div",{className:"playoff-setup-container",children:[o.jsx("h2",{children:" Playoff Teams Setup"}),o.jsx("p",{children:"Only the Pool Manager can access this page."})]})}const BC=({players:t=[],onUpdatePayment:e,onTogglePlayerVisibility:n,onRemovePlayer:r})=>{const[s,i]=M.useState(""),[l,a]=M.useState(""),[c,d]=M.useState("all"),[f,u]=M.useState("name"),p=N=>{const C=N.trim().split(`
`).filter(D=>D.trim()),P=[];return C.forEach((D,A)=>{const L=D.split("-").map(ne=>ne.trim());if(L.length!==3){console.warn(`Line ${A+1} invalid format: ${D}`);return}const[b,W,U]=L;if(!/^\d{12}$/.test(W)){console.warn(`Line ${A+1} invalid timestamp: ${W}`);return}P.push({name:b,timestamp:W,method:U})}),P},_=()=>{const N=p(s);if(N.length===0){alert(` No valid entries found. Check format:
Name - YYYYMMDDHHMM - method`);return}let C=0,P=0;N.forEach(D=>{const A=t.find(L=>L.playerName.toLowerCase().includes(D.name.toLowerCase()));A?(e(A.playerCode,{status:"PAID",timestamp:D.timestamp,method:D.method.toUpperCase(),amount:20}),C++):(console.warn(`Player not found: ${D.name}`),P++)}),C>0?(alert(` ${C} payment(s) saved successfully!${P>0?`
 ${P} player(s) not found.`:""}`),i("")):alert(" No players found. Check player names.")},k=M.useMemo(()=>{let N=[...t];return l&&(N=N.filter(C=>C.playerName.toLowerCase().includes(l.toLowerCase())||C.playerCode.toLowerCase().includes(l.toLowerCase()))),c!=="all"&&(N=N.filter(C=>(C.paymentStatus||"UNPAID").toLowerCase()===c.toLowerCase())),N.sort((C,P)=>{if(f==="name")return C.playerName.localeCompare(P.playerName);if(f==="status"){const D=C.paymentStatus||"UNPAID",A=P.paymentStatus||"UNPAID";return D.localeCompare(A)}else if(f==="time"){const D=C.paymentTimestamp||"0";return(P.paymentTimestamp||"0").localeCompare(D)}return 0}),N},[t,l,c,f]),R=M.useMemo(()=>{const N=t.filter(b=>b.paymentStatus==="PAID").length,C=t.filter(b=>!b.paymentStatus||b.paymentStatus==="UNPAID").length,P=t.filter(b=>b.paymentStatus==="PENDING").length,D=t.filter(b=>b.paymentStatus==="PAID").reduce((b,W)=>b+(W.paymentAmount||20),0),A=t.filter(b=>b.paymentStatus==="PAID"&&b.visibleToPlayers!==!1).length,L=t.length-A;return{paid:N,unpaid:C,pending:P,totalCollected:D,total:t.length,eligible:A,ineligible:L}},[t]),E=(N,C)=>{const P=prompt(`Mark ${C} as PAID

Enter payment timestamp (YYYYMMDDHHMM):
Example: 202412202130`,"");if(!P)return;if(!/^\d{12}$/.test(P)){alert(" Invalid timestamp format. Must be 12 digits (YYYYMMDDHHMM)");return}const D=prompt("Payment method:","E-TRANSFER");D&&e(N,{status:"PAID",timestamp:P,method:D.toUpperCase(),amount:20})},x=(N,C)=>{confirm(` MARK ${C} AS UNPAID?

This will make them INELIGIBLE to win prizes!

Continue?`)&&e(N,{status:"UNPAID",timestamp:null,method:null,amount:null})},y=(N,C,P,D)=>{(P===!1?"SHOW":"HIDE")==="HIDE"&&D&&!confirm(` HIDE ${C}?

This player is PAID!

Hiding them will make them INELIGIBLE to win prizes.

Continue?`)||n(N)},S=(N,C)=>{confirm(` PERMANENTLY REMOVE ${C}?

This will delete the player from ALL views (Pool Manager + Players).

This CANNOT be undone!

Type the player name to confirm:`)&&(prompt(`Type "${C}" to confirm deletion:`)===C?(r(N),alert(` ${C} has been permanently removed.`)):alert(" Name did not match. Deletion cancelled."))},v=N=>{const C=N.paymentStatus==="PAID",P=N.visibleToPlayers!==!1;return C&&P?{eligible:!0,badge:"",text:"ELIGIBLE"}:!C&&P?{eligible:!1,badge:"",text:"NOT PAID"}:C&&!P?{eligible:!1,badge:"",text:"HIDDEN"}:{eligible:!1,badge:"",text:"UNPAID+HIDDEN"}};return o.jsxs("div",{className:"payment-management-container",children:[o.jsx("h2",{children:" Payment Management"}),o.jsx("p",{className:"subtitle",children:"Track player payments, manage visibility, and process batch entries"}),o.jsxs("div",{className:"eligibility-warning",children:[o.jsx("h3",{children:" Prize Eligibility Rule"}),o.jsxs("p",{children:[o.jsx("strong",{children:"Only players who are PAID + VISIBLE can win prizes!"}),o.jsx("br",{}),"Actions that make players ineligible:"]}),o.jsxs("ul",{children:[o.jsx("li",{children:" Mark as UNPAID  Player cannot win prizes"}),o.jsx("li",{children:" Hide Player  Player cannot win prizes"}),o.jsx("li",{children:" Mark as PAID + Show Player  Player can win prizes"})]})]}),o.jsxs("div",{className:"payment-stats",children:[o.jsxs("div",{className:"stat-box paid",children:[o.jsx("div",{className:"stat-value",children:R.paid}),o.jsx("div",{className:"stat-label",children:"Paid Players"})]}),o.jsxs("div",{className:"stat-box unpaid",children:[o.jsx("div",{className:"stat-value",children:R.unpaid}),o.jsx("div",{className:"stat-label",children:"Unpaid Players"})]}),o.jsxs("div",{className:"stat-box eligible",children:[o.jsx("div",{className:"stat-value",children:R.eligible}),o.jsx("div",{className:"stat-label",children:" Eligible to Win"})]}),o.jsxs("div",{className:"stat-box total",children:[o.jsxs("div",{className:"stat-value",children:["$",R.totalCollected]}),o.jsx("div",{className:"stat-label",children:"Total Collected"})]})]}),o.jsxs("div",{className:"batch-entry-section",children:[o.jsx("h3",{children:" Quick Batch Entry"}),o.jsxs("p",{className:"batch-instructions",children:["Enter payments (one per line)",o.jsx("br",{}),o.jsx("strong",{children:"Format:"})," Name - YYYYMMDDHHMM - method",o.jsx("br",{}),o.jsx("strong",{children:"Example:"})," Bob Casson - 202412200815 - etransfer"]}),o.jsx("textarea",{className:"batch-input",value:s,onChange:N=>i(N.target.value),placeholder:`Bob Casson - 202412200815 - etransfer
Bonnie Biletski - 202412201430 - cash
Richard Smith - 202412212130 - etransfer`,rows:8}),o.jsxs("div",{className:"batch-buttons",children:[o.jsx("button",{className:"save-batch-btn",onClick:_,children:" Save All Payments"}),o.jsx("button",{className:"clear-batch-btn",onClick:()=>i(""),children:" Clear"})]})]}),o.jsxs("div",{className:"payment-table-section",children:[o.jsx("h3",{children:" All Players - Payment Status"}),o.jsxs("div",{className:"table-controls",children:[o.jsx("input",{type:"text",className:"search-input",placeholder:" Search by name or code...",value:l,onChange:N=>a(N.target.value)}),o.jsxs("div",{className:"filter-buttons",children:[o.jsxs("button",{className:c==="all"?"active":"",onClick:()=>d("all"),children:["All (",t.length,")"]}),o.jsxs("button",{className:c==="paid"?"active":"",onClick:()=>d("paid"),children:["Paid (",R.paid,")"]}),o.jsxs("button",{className:c==="unpaid"?"active":"",onClick:()=>d("unpaid"),children:["Unpaid (",R.unpaid,")"]})]}),o.jsxs("select",{className:"sort-select",value:f,onChange:N=>u(N.target.value),children:[o.jsx("option",{value:"name",children:"Sort by Name"}),o.jsx("option",{value:"status",children:"Sort by Status"}),o.jsx("option",{value:"time",children:"Sort by Payment Time"})]})]}),o.jsx("div",{className:"payment-table-wrapper",children:o.jsxs("table",{className:"payment-table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Player Name"}),o.jsx("th",{children:"Code"}),o.jsx("th",{children:"Payment Status"}),o.jsx("th",{children:"Payment Time"}),o.jsx("th",{children:"Method"}),o.jsx("th",{children:"Visibility"}),o.jsx("th",{children:"Prize Eligibility"}),o.jsx("th",{children:"Actions"})]})}),o.jsx("tbody",{children:k.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:"8",className:"no-results",children:"No players found"})}):k.map(N=>{const C=N.paymentStatus||"UNPAID",P=N.visibleToPlayers!==!1,D=C==="PAID",A=v(N);return o.jsxs("tr",{className:`status-${C.toLowerCase()} ${A.eligible?"eligible-row":"ineligible-row"}`,children:[o.jsx("td",{className:"player-name-cell",children:N.playerName}),o.jsx("td",{className:"code-cell",children:N.playerCode}),o.jsxs("td",{className:"status-cell",children:[C==="PAID"&&o.jsx("span",{className:"status-badge paid",children:" PAID"}),C==="UNPAID"&&o.jsx("span",{className:"status-badge unpaid",children:" UNPAID"}),C==="PENDING"&&o.jsx("span",{className:"status-badge pending",children:" PENDING"})]}),o.jsx("td",{className:"time-cell",children:N.paymentTimestamp||""}),o.jsx("td",{className:"method-cell",children:N.paymentMethod||""}),o.jsx("td",{className:"visibility-cell",children:P?o.jsx("span",{className:"visibility-badge visible",children:" VISIBLE"}):o.jsx("span",{className:"visibility-badge hidden",children:" HIDDEN"})}),o.jsx("td",{className:"eligibility-cell",children:o.jsxs("span",{className:`eligibility-badge ${A.eligible?"eligible":"ineligible"}`,children:[A.badge," ",A.text]})}),o.jsx("td",{className:"actions-cell",children:o.jsxs("div",{className:"action-buttons",children:[C!=="PAID"?o.jsx("button",{className:"action-btn paid-btn",onClick:()=>E(N.playerCode,N.playerName),title:"Mark as Paid",children:" Mark Paid"}):o.jsx("button",{className:"action-btn unpaid-btn",onClick:()=>x(N.playerCode,N.playerName),title:"Mark as Unpaid (Makes Ineligible!)",children:" Mark Unpaid"}),o.jsx("button",{className:"action-btn visibility-btn",onClick:()=>y(N.playerCode,N.playerName,P,D),title:P?"Hide from Players (Makes Ineligible!)":"Show to Players",children:P?" Hide":" Show"}),o.jsx("button",{className:"action-btn remove-btn",onClick:()=>S(N.playerCode,N.playerName),title:"Remove Permanently",children:" Remove"})]})})]},N.playerCode)})})]})}),o.jsxs("div",{className:"table-footer",children:["Showing ",k.length," of ",t.length," players |  ",R.eligible," Eligible to Win Prizes |  ",R.ineligible," Ineligible"]})]})]})},$C={apiKey:"AIzaSyDr3PPXC90wvQW_LG8TkAyR9K-7e0loQ3A",authDomain:"nfl-playoff-pool-2025-scores.firebaseapp.com",databaseURL:"https://nfl-playoff-pool-2025-scores-default-rtdb.firebaseio.com",projectId:"nfl-playoff-pool-2025-scores",storageBucket:"nfl-playoff-pool-2025-scores.firebasestorage.app",messagingSenderId:"844539772456",appId:"1:844539772456:web:9bbfcf523195a5eedfff1d"},UC=Og($C),Q=$u(UC),hp={firstFriday:"2026-01-09",lastMonday:"2026-02-09"},kn={wildcard:"2026-01-10",divisional:"2026-01-17",conference:"2026-01-25",superbowl:"2026-02-08"},nn=["76BB89","Z9Y8X7"],Se={"76BB89":"POOL MANAGER - Richard",Z9Y8X7:"POOL MANAGER - Dennis",J239W4:"Bob Casson",B7Y4X3:"Bob Desrosiers",D4F7G5:"Bonnie Biletski","536EE2":"Brian Colburg",X8HH67:"Chris Neufeld","4HX33H":"Corey Denham",G7R3P5:"Curtis Braun",A4LJC9:"Curtis Palidwor",X3P8N1:"Dallas Pylypow",W32R1Z:"Daniel Bennett",HM8T67:"Darrell Klassen",TA89R2:"Dave Boyarski",K2P9W5:"Dave Desrosiers",A5K4T7:"Dennis Biletski","6WRUJR":"Emily Chadwick",AB6C89:"Gareth Reeve",D3F6G9:"Jarrod Reimer",T42B67:"Jo Behr",PUEFKF:"Joshua Biletski",ABC378:"Ken Mcleod",K9R3N6:"Kevin Pich",H7P3N5:"Larry Bretecher",B5R4T6:"Larry Strand",L2W9X2:"Michelle Desrosiers","5GGPL3":"Mike Brkich",PC12L3:"Natasha Biletski",T4M8Z8:"Neema Dadmand","9CD72G":"Neil Banman",T7Y4R8:"Neil Foster",KWBZ86:"Nick Melanidis","2WQA9X":"Nima Ahmadi",E4T6J7:"Orest Pich",N4M8Q2:"Randy Moffatt",B8L9M2:"Richard Biletski","62R92L":"Rob Crowe",H8M3N7:"Rob Kost",WW3F44:"Ryan Moffatt",E5G7G8:"Tony Creta"},be={wildcard:{name:"Wild Card Round (Jan 10-12, 2026)",deadline:"Friday, January 9, 2026 at 11:59 PM PST",games:[{id:1,team1:"AFC #7",team2:"AFC #2"},{id:2,team1:"AFC #6",team2:"AFC #3"},{id:3,team1:"AFC #5",team2:"AFC #4"},{id:4,team1:"NFC #7",team2:"NFC #2"},{id:5,team1:"NFC #6",team2:"NFC #3"},{id:6,team1:"NFC #5",team2:"NFC #4"}]},divisional:{name:"Divisional Round (Jan 17-18, 2026)",deadline:"Friday, January 16, 2026 at 11:59 PM PST",games:[{id:7,team1:"AFC Winner 1",team2:"AFC #1"},{id:8,team1:"AFC Winner 2",team2:"AFC Winner 3"},{id:9,team1:"NFC Winner 1",team2:"NFC #1"},{id:10,team1:"NFC Winner 2",team2:"NFC Winner 3"}]},conference:{name:"Conference Championships (Jan 25, 2026)",deadline:"Friday, January 23, 2026 at 11:59 PM PST",games:[{id:11,team1:"AFC Winner A",team2:"AFC Winner B"},{id:12,team1:"NFC Winner A",team2:"NFC Winner B"}]},superbowl:{name:"Super Bowl LIX (Feb 8, 2026)",deadline:"Friday, February 6, 2026 at 11:59 PM PST",games:[{id:13,team1:"AFC Champion",team2:"NFC Champion"}]}},Sn=(t,e,n,r)=>{var s;if(!((s=r==null?void 0:r.week1)!=null&&s.configured)){const i=be[t].games.find(l=>l.id===e);return i?i[n]:`Team ${n}`}if(t==="wildcard"){const i=be.wildcard.games.find(c=>c.id===e);if(!i)return"TBD";const l=i[n],a=l.match(/(AFC|NFC) #(\d)/);if(a){const c=a[1].toLowerCase(),d=parseInt(a[2]),f=r.week1[c][`seed${d}`];if(f)return`${f.name} (${l})`}return l}if(t==="divisional"){const i=be.divisional.games.find(a=>a.id===e);if(!i)return"TBD";const l=i[n];if(r!=null&&r.week2){let a=null;if(e===7?a=r.week2.afc[0][n]:e===8?a=r.week2.afc[1][n]:e===9?a=r.week2.nfc[0][n]:e===10&&(a=r.week2.nfc[1][n]),a)return`${a.name} (${l})`}return l}if(t==="conference"){const i=be.conference.games.find(a=>a.id===e);if(!i)return"TBD";const l=i[n];if(r!=null&&r.week3){let a=null;if(e===11?a=r.week3.afcChampionship[n]:e===12&&(a=r.week3.nfcChampionship[n]),a)return`${a.name} (${l})`}return l}if(t==="superbowl"){const i=be.superbowl.games.find(a=>a.id===e);if(!i)return"TBD";const l=i[n];if(r!=null&&r.week4){const a=r.week4.superBowl[n];if(a)return`${a.name} (${l})`}return l}return"TBD"};function GC(){var ch;const[t,e]=M.useState("picks"),[n,r]=M.useState(""),[s,i]=M.useState(""),[l,a]=M.useState(!1),[c,d]=M.useState("wildcard"),[f,u]=M.useState({}),[p,_]=M.useState([]),[k,R]=M.useState(!1),[E,x]=M.useState({}),[y,S]=M.useState({}),[v,N]=M.useState({}),[C,P]=M.useState({wildcard:"",divisional:"",conference:"",superbowl_week4:"",superbowl_week3:"",superbowl_week2:"",superbowl_week1:"",superbowl_grand:""}),[D,A]=M.useState({}),[L,b]=M.useState({}),[W,U]=M.useState({}),[ne,X]=M.useState(!1),[G,ge]=M.useState({superbowl_week4:!1,superbowl_week3:!1,superbowl_week2:!1,superbowl_week1:!1,superbowl_grand:!1}),[$,q]=M.useState({wildcard:{locked:!1,lockDate:null,autoLockDate:kn.wildcard},divisional:{locked:!1,lockDate:null,autoLockDate:kn.divisional},conference:{locked:!1,lockDate:null,autoLockDate:kn.conference},superbowl:{locked:!1,lockDate:null,autoLockDate:kn.superbowl}}),[Z,fe]=M.useState({}),[je,ut]=M.useState(null),[Je,Jn]=M.useState(null),[ht,_t]=M.useState(!1),[Zn,Ze]=M.useState(null),[Zi,ra]=M.useState(null),[ks,Gu]=M.useState(!1),[Hu,Vu]=M.useState([]),[n0,r0]=M.useState([]),[eo,s0]=M.useState({}),[$e,Yu]=M.useState({totalFees:0,prizeValue:0,numberOfPlayers:0,entryFee:20}),[i0,to]=M.useState(!1),[Ot,sa]=M.useState(""),[Nr,ia]=M.useState(1),[Et,no]=M.useState([]),[vn,oa]=M.useState(!1),[Kt,Ss]=M.useState([]),[o0,la]=M.useState(!1),[aa,Cs]=M.useState({}),[l0,a0]=M.useState({}),[c0,bs]=M.useState(!1),[ue,Er]=M.useState(""),[jr,Ns]=M.useState(null),[er,Es]=M.useState(null),[d0,js]=M.useState(!1),[Ku,Pr]=M.useState(null),[Ps,ca]=M.useState(null),[HC,VC]=M.useState(!0),[YC,KC]=M.useState(!1),[ro,Qu]=M.useState([]),ce=()=>nn.includes(s)&&l,u0=async(h,m)=>{try{const g=K(Q,"players"),w=await jt(g);if(!w.exists()){alert(" No players found in database.");return}const j=w.val();let I=null;for(const[O,B]of Object.entries(j))if(B.playerCode===h){I=O;break}if(!I){alert(` Player ${h} not found.`);return}const T=K(Q,`players/${I}`);await Eo(T,{paymentStatus:m.status,paymentTimestamp:m.timestamp,paymentMethod:m.method,paymentAmount:m.amount,updatedAt:Date.now()}),console.log(` Payment updated for ${h}`)}catch(g){console.error("Error updating payment:",g),alert(" Error updating payment. Please try again.")}},h0=async h=>{try{const m=K(Q,"players"),g=await jt(m);if(!g.exists()){alert(" No players found in database.");return}const w=g.val();let j=null,I=!0;for(const[B,V]of Object.entries(w))if(V.playerCode===h){j=B,I=V.visibleToPlayers!==!1;break}if(!j){alert(` Player ${h} not found.`);return}const T=!I,O=K(Q,`players/${j}`);await Eo(O,{visibleToPlayers:T,updatedAt:Date.now()}),console.log(` Visibility toggled for ${h}: ${T?"VISIBLE":"HIDDEN"}`),alert(` Player ${I?"hidden from":"shown to"} regular players!`)}catch(m){console.error("Error toggling visibility:",m),alert(" Error updating visibility. Please try again.")}},f0=async h=>{try{const m=K(Q,"players"),g=await jt(m);if(!g.exists()){alert(" No players found in database.");return}const w=g.val();let j=null,I="";for(const[O,B]of Object.entries(w))if(B.playerCode===h){j=O,I=B.playerName||h;break}if(!j){alert(` Player ${h} not found.`);return}const T=K(Q,`players/${j}`);await Ya(T),console.log(` Player ${h} removed permanently`),alert(` ${I} has been permanently removed from the system.`)}catch(m){console.error("Error removing player:",m),alert(" Error removing player. Please try again.")}},p0=async h=>{try{const m=K(Q,"players"),g=await jt(m);if(!g.exists()){alert(" No players found in database.");return}const w=g.val();let j=null,I=!1;for(const[B,V]of Object.entries(w))if(V.playerCode===h){j=B,I=V.showInPicksTable===!0;break}if(!j){alert(` Player ${h} not found.`);return}const T=!I,O=K(Q,`players/${j}`);await Eo(O,{showInPicksTable:T,updatedAt:Date.now()}),console.log(` Table display toggled for ${h}: ${T?"SHOW":"HIDE"}`)}catch(m){console.error("Error toggling table display:",m),alert(" Error updating table display. Please try again.")}},m0=()=>{let h=Math.floor(Math.random()*41)+10,m=Math.floor(Math.random()*41)+10;for(;h===m;)m=Math.floor(Math.random()*41)+10;return{team1:h,team2:m}},Xu=()=>{const h=be[c].games,m={};h.forEach(g=>{m[g.id]=m0()}),Es(m),js(!0)},g0=async()=>{if(!ue||!er)return;const h=Se[ue];if(h)try{const m=K(Q,"picks"),g=await jt(m);let w=null;if(g.exists()){const I=g.val();for(const[T,O]of Object.entries(I))if(O.playerCode===ue&&O.week===c){w=T;break}}const j={playerName:h,playerCode:ue,week:c,predictions:er,timestamp:w&&g.val()[w].timestamp||Date.now(),lastUpdated:Date.now(),enteredBy:"POOL_MANAGER_RNG",enteredByCode:s,enteredByName:n};w?await xe(K(Q,`picks/${w}`),j):await Ar(K(Q,"picks"),j),alert(` RNG picks successfully submitted for ${h}!`),js(!1),Es(null),bs(!1),Er("")}catch(m){console.error("Error submitting RNG picks:",m),alert(" Error submitting RNG picks. Please try again.")}},y0=()=>{if(!ue)return;const h=p.find(m=>m.playerCode===ue&&m.week===c);h&&h.predictions?(u(h.predictions),Cs({...h.predictions}),Ns("manual")):(u({}),Cs({}),Ns("manual"))},x0=async h=>{if(h.preventDefault(),!ue){alert("Please select a player first.");return}const m=Se[ue];be[c];try{const g=K(Q,"picks"),w=await jt(g);let j=null;if(w.exists()){const T=w.val();for(const[O,B]of Object.entries(T))if(B.playerCode===ue&&B.week===c){j=O;break}}const I={playerName:m,playerCode:ue,week:c,predictions:f,timestamp:j&&w.val()[j].timestamp||Date.now(),lastUpdated:Date.now(),enteredBy:"POOL_MANAGER_MANUAL",enteredByCode:s,enteredByName:n};j?await xe(K(Q,`picks/${j}`),I):await Ar(K(Q,"picks"),I),alert(` Picks successfully submitted for ${m}!`),u({}),bs(!1),Er(""),Ns(null)}catch(g){console.error("Error submitting picks for player:",g),alert(" Error submitting picks. Please try again.")}},v0=async()=>{if(!ue)return;const h=Se[ue];try{console.log(" DEBUG: Starting delete for player:",h),console.log(" DEBUG: Player code:",ue),console.log(" DEBUG: Current week:",c);const m=K(Q,"picks"),g=await jt(m);if(console.log(" DEBUG: Got snapshot, exists?",g.exists()),g.exists()){const w=g.val();console.log(" DEBUG: Total picks in database:",Object.keys(w).length);let j=null;for(const[I,T]of Object.entries(w))if(console.log(` DEBUG: Checking pick ${I}:`,T.playerCode,T.week),T.playerCode===ue&&T.week===c){j=I,console.log(" DEBUG: FOUND KEY TO DELETE:",j);break}j?(console.log(" DEBUG: Attempting to delete key:",j),await Ya(K(Q,`picks/${j}`)),console.log(" DEBUG: Delete successful!"),alert(` ${h}'s picks for ${c==="wildcard"?"Week 1":c==="divisional"?"Week 2":c==="conference"?"Week 3":"Week 4"} have been deleted!`)):(console.log(" DEBUG: No pick found to delete"),alert(` ${h} has no picks for this week.`))}Pr(null),Er("")}catch(m){console.error(" DEBUG: Error deleting picks:",m),console.error(" DEBUG: Error message:",m.message),console.error(" DEBUG: Error code:",m.code),alert(` Error deleting picks: ${m.message}

Check browser console (F12) for details.`)}},_0=async()=>{if(!ue)return;const h=Se[ue];try{console.log(" DEBUG: Starting delete ALL for player:",h),console.log(" DEBUG: Player code:",ue);const m=K(Q,"picks"),g=await jt(m);if(console.log(" DEBUG: Got snapshot, exists?",g.exists()),g.exists()){const w=g.val(),j=[];console.log(" DEBUG: Total picks in database:",Object.keys(w).length);for(const[I,T]of Object.entries(w))T.playerCode===ue&&(console.log(" DEBUG: Found pick to delete:",I,T.week),j.push(I));if(console.log(" DEBUG: Total keys to delete:",j.length),j.length>0){console.log(" DEBUG: Attempting to delete keys:",j);const I=j.map(T=>Ya(K(Q,`picks/${T}`)));await Promise.all(I),console.log(" DEBUG: Delete ALL successful!"),alert(` ALL picks for ${h} have been deleted!

Deleted ${j.length} pick(s) across all weeks.`)}else console.log(" DEBUG: No picks found to delete"),alert(` ${h} has no picks in any week.`)}Pr(null),Er(""),bs(!1)}catch(m){console.error(" DEBUG: Error deleting all picks:",m),console.error(" DEBUG: Error message:",m.message),console.error(" DEBUG: Error code:",m.code),alert(` Error deleting picks: ${m.message}

Check browser console (F12) for details.`)}},w0=async h=>{try{console.log(" Clearing week data for:",h),E[h]&&(await xe(K(Q,`teamCodes/${h}`),null),console.log(" Cleared team codes")),y[h]&&(await xe(K(Q,`actualScores/${h}`),null),console.log(" Cleared actual scores")),v[h]&&(await xe(K(Q,`gameStatus/${h}`),null),console.log(" Cleared game status")),alert(` Week ${h==="wildcard"?"1":h==="divisional"?"2":h==="conference"?"3":"4"} data cleared!

Team names, scores, and statuses have been deleted.
Player picks are still intact.`),ca(null)}catch(m){console.error(" Error clearing week data:",m),alert(` Error clearing week data: ${m.message}`)}},qu=(h,m,g,w,j,I)=>{const T=Number(h)>Number(m),O=Number(m)>Number(h);if(h===m||!h||!m)return{background:"transparent",color:"#000"};if(g!==void 0&&w!==void 0&&g!==""&&w!==""){const B=Number(g)>Number(w),V=Number(w)>Number(g);if(!j||j===""){if(I&&T)return B?{background:"#fff9c4",color:"#000"}:{background:"#b3e5fc",color:"#000"};if(!I&&O)return V?{background:"#fff9c4",color:"#000"}:{background:"#b3e5fc",color:"#000"}}if(j==="live"){if(I&&T)return B?{background:"#c8e6c9",color:"#000"}:{background:"#ffcdd2",color:"#000"};if(!I&&O)return V?{background:"#c8e6c9",color:"#000"}:{background:"#ffcdd2",color:"#000"}}if(j==="final"){if(I&&T)return B?{background:"#4caf50",color:"#000"}:{background:"#f44336",color:"#000"};if(!I&&O)return V?{background:"#4caf50",color:"#000"}:{background:"#f44336",color:"#000"}}}return{background:"transparent",color:"#000"}},k0=async(h,m,g)=>{try{const w=h/10,j={totalFees:Number(h),prizeValue:Number(w.toFixed(2)),numberOfPlayers:Number(m),entryFee:Number(g),lastUpdated:new Date().toISOString()};await xe(K(Q,"prizePool"),j),Yu(j),alert(` Prize pool saved!

Total Pool: $${h}
Each Prize: $${w.toFixed(2)} (10%)`),to(!1)}catch(w){console.error("Error saving prize pool:",w),alert(` Error saving prize pool: ${w.message}`)}},so=(h,m)=>{const g=Math.floor(h*100/m)/100,w=Math.floor(1e4/m)/100,j=[];let I=0;for(let B=0;B<m-1;B++)j.push({percentage:w,amount:g}),I+=g;const T=Number((h-I).toFixed(2)),O=Number((100-w*(m-1)).toFixed(2));return j.push({percentage:O,amount:T}),j},S0=async()=>{if(!Ot||Et.length===0){alert(" Please select a prize and at least one winner.");return}try{const h=$e.prizeValue||100;let m=[];if(vn){const w=Kt.reduce((I,T)=>I+Number(T.percentage||0),0),j=Kt.reduce((I,T)=>I+Number(T.amount||0),0);if(Math.abs(w-100)>.01){alert(` Percentages must equal 100%!
Current total: ${w.toFixed(2)}%`);return}if(Math.abs(j-h)>.01){alert(` Amounts must equal $${h.toFixed(2)}!
Current total: $${j.toFixed(2)}`);return}m=Kt.map((I,T)=>({playerCode:Et[T].code,playerName:Et[T].name,percentage:Number(I.percentage),amount:Number(I.amount)}))}else{const w=so(h,Et.length);m=Et.map((j,I)=>({playerCode:j.code,playerName:j.name,percentage:w[I].percentage,amount:w[I].amount}))}const g={prizeNumber:Ot,prizeName:Ts(Ot),prizeValue:h,winners:m,declaredBy:"POOL_MANAGER",declaredByCode:s,declaredByName:n,declaredAt:new Date().toISOString()};await xe(K(Q,`officialWinners/prize${Ot}`),g),alert(` Winner(s) declared for ${Ts(Ot)}!

${m.map(w=>`${w.playerName}: ${w.percentage}% ($${w.amount.toFixed(2)})`).join(`
`)}`),sa(""),ia(1),no([]),oa(!1),Ss([]),la(!1)}catch(h){console.error("Error declaring winners:",h),alert(` Error declaring winners: ${h.message}`)}},Ts=h=>({1:"Prize #1 - Week 1 Most Correct Predictions",2:"Prize #2 - Week 1 Closest Total Points",3:"Prize #3 - Week 2 Most Correct Predictions",4:"Prize #4 - Week 2 Closest Total Points",5:"Prize #5 - Week 3 Most Correct Predictions",6:"Prize #6 - Week 3 Closest Total Points",7:"Prize #7 - Week 4 Most Correct Predictions",8:"Prize #8 - Week 4 Closest Total Points",9:"Prize #9 - Overall 4-Week Grand Total Most Correct Predictions",10:"Prize #10 - Overall 4-Week Grand Total Closest Points"})[h]||`Prize #${h}`,C0=async h=>{if(window.confirm(`Are you sure you want to delete the winner declaration for ${Ts(h)}?

This action cannot be undone!`))try{await xe(K(Q,`officialWinners/prize${h}`),null),alert(` Winner declaration deleted for ${Ts(h)}`)}catch(m){console.error("Error deleting prize:",m),alert(` Error: ${m.message}`)}},Ju=h=>{const m=kn[h];if(!m)return!1;const g=new Date,w=new Date(g.toLocaleString("en-US",{timeZone:"America/Los_Angeles"})),j=new Date(m+"T00:00:00");return w>=j},Qt=h=>{var m;return ce()?!1:(m=$[h])!=null&&m.locked?!0:Ju(h)};M.useEffect(()=>{const h=K(Q,"weekLockStatus");ft(h,m=>{const g=m.val();if(g){const w={};Object.keys(kn).forEach(j=>{var I,T;w[j]={locked:((I=g[j])==null?void 0:I.locked)||!1,lockDate:((T=g[j])==null?void 0:T.lockDate)||null,autoLockDate:kn[j]}}),q(w)}})},[]);const b0=h=>{const m=!$[h].locked,g=m?new Date().toISOString():null,w={...$,[h]:{...$[h],locked:m,lockDate:g}};q(w),xe(K(Q,`weekLockStatus/${h}`),{locked:m,lockDate:g,autoLockDate:kn[h]}),alert(m?` Week ${h} is now LOCKED

Players cannot edit picks for this week.`:` Week ${h} is now UNLOCKED

Players can edit picks for this week.`)};M.useEffect(()=>{const h=K(Q,"picks");ft(h,m=>{const g=m.val();if(g){const w=Object.keys(g).map(j=>({...g[j],firebaseKey:j}));_(w)}else _([])})},[]),M.useEffect(()=>{const h=K(Q,"teamCodes");ft(h,m=>{const g=m.val();g&&x(g)})},[]),M.useEffect(()=>{const h=K(Q,"actualScores");ft(h,m=>{const g=m.val();g&&S(g)})},[]),M.useEffect(()=>{const h=K(Q,"gameStatus");ft(h,m=>{const g=m.val();g&&N(g)})},[]),M.useEffect(()=>{const h=K(Q,"officialWinners");ft(h,m=>{const g=m.val();g&&s0(g)})},[]),M.useEffect(()=>{const h=K(Q,"prizePool");ft(h,m=>{const g=m.val();g&&Yu(g)})},[]),M.useEffect(()=>{const h=K(Q,"calculatedWinners");ft(h,m=>{const g=m.val();g&&A(g)})},[]),M.useEffect(()=>{const h=K(Q,"publishedWinners");ft(h,m=>{const g=m.val();g&&b(g)})},[]),M.useEffect(()=>{const h=K(Q,"playoffTeams");ft(h,m=>{const g=m.val();g?(U(g),console.log(" Loaded playoff teams:",g)):U({})})},[]),M.useEffect(()=>{const h=K(Q,"gameLocks");ft(h,m=>{const g=m.val();g&&fe(g)})},[]),M.useEffect(()=>{const h=K(Q,"manualWeekTotals");ft(h,m=>{const g=m.val();g&&P(g)})},[]),M.useEffect(()=>{if(l&&n&&p.length>0){const h=p.find(m=>m.playerName===n&&m.week===c);h&&h.predictions?(console.log("Loading existing picks for",n,"week",c),u(h.predictions)):(console.log("No existing picks found - clearing form"),u({}))}},[c,p,l,n]),M.useEffect(()=>{const h=new yC(Zu,5);return ut(h),()=>{h&&h.stop()}},[]);const Zu=async()=>{try{console.log("Fetching scores from ESPN...");const h=await fC();if(!h.success){console.error("ESPN fetch failed:",h.error);return}console.log("ESPN games fetched:",h.games.length);const m=be[c].games,g={};if(h.games.forEach(w=>{var I;const j=gC(w,be,c,E);if(j){const T=j.gameId;if((I=Z[c])!=null&&I[T]){console.log(`Game ${T} is locked, skipping API update`);return}g[T]={team1:j.team1Score,team2:j.team2Score,source:"espn",lastUpdated:new Date().toISOString()},N(O=>({...O,[c]:{...O[c],[T]:j.isFinal?"final":j.isLive?"live":""}}))}}),Object.keys(g).length>0){S(j=>({...j,[c]:{...j[c],...g}}));const w=K(Q,`actualScores/${c}`);await xe(w,{...y[c],...g}),console.log(`Updated ${Object.keys(g).length} games from ESPN`)}Jn(new Date)}catch(h){console.error("Error fetching ESPN scores:",h)}},N0=h=>{var m;console.log(" Toggle clicked for game:",h),console.log(" Current week:",c),console.log(" Current locks:",Z),console.log(" Current value for game",h,":",(m=Z[c])==null?void 0:m[h]),fe(g=>{const w={...g};w[c]||(w[c]={});const j=w[c][h],I=!j;console.log(" Old value:",j),console.log(" New value:",I),w[c][h]=I;const T=K(Q,`gameLocks/${c}/${h}`);return xe(T,I),console.log(" Saved to Firebase:",I),console.log(" Returning new locks:",w),w})},eh=(h,m,g)=>{u(w=>({...w,[h]:{...w[h],[m]:g}})),console.log(" User typed score - setting hasUnsavedChanges to TRUE"),_t(!0)},E0=()=>{if(Object.keys(f).some(g=>{var w,j;return((w=f[g])==null?void 0:w.team1)||((j=f[g])==null?void 0:j.team2)})&&!window.confirm(` WARNING!

Clicking RNG will OVERWRITE all your current picks!

Are you sure you want to continue?`))return;const m={};Pe.games.forEach(g=>{let w=Math.floor(Math.random()*43)+3,j=Math.floor(Math.random()*43)+3;for(;w===j;)j=Math.floor(Math.random()*43)+3;m[g.id]={team1:w.toString(),team2:j.toString()}}),u(m),console.log(" RNG: Setting hasUnsavedChanges to TRUE"),_t(!0),console.log(" RNG: hasUnsavedChanges should now be true"),alert(` RNG picks generated for all ${Pe.games.length} games!

Score range: 3-45 points per team
No tied games guaranteed!

You can now edit any scores before submitting.`)},th=(h,m,g)=>{var j;const w={...E,[c]:{...E[c]||{},[h]:{...((j=E[c])==null?void 0:j[h])||{},[m]:g.toUpperCase()}}};x(w),xe(K(Q,`teamCodes/${c}/${h}/${m}`),g.toUpperCase())},nh=(h,m,g)=>{var j;const w={...y,[c]:{...y[c]||{},[h]:{...((j=y[c])==null?void 0:j[h])||{},[m]:g}}};S(w),xe(K(Q,`actualScores/${c}/${h}/${m}`),g)};M.useEffect(()=>{const h=K(Q,"players"),m=ft(h,g=>{if(g.exists()){const w=g.val(),j=Object.keys(w).map(I=>({id:I,...w[I]}));Qu(j),console.log(` Loaded ${j.length} players from Firebase`)}else console.log(" No players found in Firebase. Run migration script to create players table."),Qu([])});return()=>m()},[]);const j0=(h,m)=>{const g={...v,[c]:{...v[c]||{},[h]:m}};N(g),xe(K(Q,`gameStatus/${c}/${h}`),m)},Tr=(h,m)=>{const g={...C,[h]:m};P(g);const w=m!==""&&m!==null&&m!==void 0;ge(j=>({...j,[h]:w})),xe(K(Q,`manualWeekTotals/${h}`),m||null)},P0=(h,m,g)=>{console.log("Publishing prize:",h),b(w=>({...w,[h]:!0})),xe(K(Q,`publishedWinners/${h}`),!0),alert(` Published: ${m.title}

Winner: ${g.winner}

Players can now see this result!`)},T0=h=>{window.confirm(` UNPUBLISH PRIZE?

This will hide the winner from all players.

Continue?`)&&(console.log("Unpublishing prize:",h),b(g=>({...g,[h]:!1})),xe(K(Q,`publishedWinners/${h}`),!1),alert(" Prize unpublished successfully!"))},I0=async h=>{if(!ce()){alert(" Only Pool Manager can save playoff teams configuration.");return}try{const m=K(Q,"playoffTeams"),w={...W||{},...h};await xe(m,w),console.log(" Playoff teams saved:",w)}catch(m){console.error(" Error saving playoff teams:",m),alert("Error saving playoff teams. Check console for details.")}},Is=h=>{P(m=>({...m,[h]:""})),ge(m=>({...m,[h]:!1})),xe(K(Q,`manualWeekTotals/${h}`),null)},rh=(h,m)=>{const g=p.find(j=>j.playerCode===h&&j.week===m);if(!g||!g.predictions)return null;let w=0;return Object.keys(g.predictions).forEach(j=>{const I=g.predictions[j];I&&I.team1&&I.team2&&(w+=(parseInt(I.team1)||0)+(parseInt(I.team2)||0))}),w},R0=h=>{const m=[],g={wildcard:1,divisional:2,conference:3,superbowl:4};return["wildcard","divisional","conference","superbowl"].forEach(w=>{p.some(I=>I.playerCode===h&&I.week===w)&&m.push(g[w])}),m},A0=h=>h.length===0||h.length===4?!1:!h.every((g,w)=>g===w+1),D0=h=>"P"+h.join(""),W0=(h,m)=>{const g=p.find(w=>w.playerCode===h&&w.week===m);return(g==null?void 0:g.enteredBy)==="POOL_MANAGER_RNG"},sh=(h,m)=>{const g=p.find(I=>I.playerCode===h&&I.week===m);if(!g||!g.predictions)return 0;const w=y[m];if(!w)return 0;let j=0;return Object.keys(g.predictions).forEach(I=>{const T=g.predictions[I],O=w[I];if(T&&O&&T.team1&&T.team2&&O.team1&&O.team2){const B=parseInt(T.team1)+parseInt(T.team2),V=parseInt(O.team1)+parseInt(O.team2),Y=Math.abs(B-V);j+=Y}}),j},io=(h,m,g)=>{const w=rh(h,m),j=sh(h,m),I=W0(h,m),T=Object.keys(y[m]||{}).length>0;if(!w)return{display:"-",tooltip:"",fontSize:"16px"};const O=I?"*":"";return!T||j===0?{display:`${w}${O}`,tooltip:I?`Predicted: ${w} (RNG filled by Pool Manager)`:`Predicted: ${w}`,fontSize:"16px"}:{display:`${w}${O}/${j}`,tooltip:I?`Predicted: ${w} (RNG) | Difference: ${j}`:`Predicted: ${w} | Difference: ${j}`,fontSize:"16px"}},L0=h=>{const m=R0(h);if(m.length===0)return{display:"-",tooltip:"",fontSize:"16px"};const g=A0(m),w=g?D0(m)+"/":"";let j=0,I=0,T=0,O=!1,B=!0;const V={1:"wildcard",2:"divisional",3:"conference",4:"superbowl"};m.forEach(ee=>{const te=V[ee],re=rh(h,te),ae=sh(h,te),ye=Object.keys(y[te]||{}).length>0;re&&(j+=re,ye&&ae>0?(I+=re,T+=ae,O=!0):ye||(B=!1))});let Y="";return g&&(Y=`Weeks Entered: ${m.join(", ")} | `),O?B?(Y+=`Full Prediction: ${j} | Total Difference: ${T}`,{display:`${w}${j}/${T}`,tooltip:Y,fontSize:"16px"}):(Y+=`Full Prediction: ${j} | Played Weeks: ${I} | Difference So Far: ${T}`,{display:`${w}${j}/${I}/${T}`,tooltip:Y,fontSize:"14px"}):(Y+=`Full Prediction: ${j}`,{display:`${w}${j}`,tooltip:Y,fontSize:"16px"})},Rs=h=>{const m=y[h];if(!m)return 0;let g=0;return Object.values(m).forEach(w=>{w&&w.team1&&w.team2&&(g+=(parseInt(w.team1)||0)+(parseInt(w.team2)||0))}),g},_n=(h,m)=>{if(C[h])return C[h];const g=Rs(m);return g>0?g:""},ih=()=>{if(C.superbowl_grand)return C.superbowl_grand;const h=Rs("wildcard"),m=Rs("divisional"),g=Rs("conference"),w=Rs("superbowl"),j=h+m+g+w;return j>0?j:""},O0=["ARI","ATL","BAL","BUF","CAR","CHI","CIN","CLE","DAL","DEN","DET","GB","HOU","IND","JAC","KC","LV","LAC","LAR","MIA","MIN","NE","NO","NYG","NYJ","PHI","PIT","SF","SEA","TB","TEN","WAS"],M0=()=>{const h=Pe.games.some(Y=>{var ee,te,re,ae;return((te=(ee=E[c])==null?void 0:ee[Y.id])==null?void 0:te.team1)||((ae=(re=E[c])==null?void 0:re[Y.id])==null?void 0:ae.team2)}),m=Pe.games.some(Y=>{var ee,te,re,ae;return((te=(ee=y[c])==null?void 0:ee[Y.id])==null?void 0:te.team1)||((ae=(re=y[c])==null?void 0:re[Y.id])==null?void 0:ae.team2)}),g=Pe.games.some(Y=>{var ee;return(ee=v[c])==null?void 0:ee[Y.id]});if((h||m||g)&&!window.confirm(` POOL MANAGER RNG WARNING!

This will OVERWRITE:
 All team codes
 All actual scores
 All game statuses

Are you sure you want to continue?`))return;const w=[...O0].sort(()=>Math.random()-.5),j=Pe.games.length,I=j*2;if(I>w.length){alert(" Not enough unique teams for all games!");return}const T=w.slice(0,I),O={...E},B={...y},V={...v};O[c]||(O[c]={}),B[c]||(B[c]={}),V[c]||(V[c]={}),Pe.games.forEach((Y,ee)=>{const te=T[ee*2],re=T[ee*2+1];let ae=Math.floor(Math.random()*48)+3,ye=Math.floor(Math.random()*48)+3;for(;ae===ye;)ye=Math.floor(Math.random()*48)+3;O[c][Y.id]={team1:te,team2:re},B[c][Y.id]={team1:ae.toString(),team2:ye.toString()},V[c][Y.id]="final",xe(K(Q,`teamCodes/${c}/${Y.id}`),{team1:te,team2:re}),xe(K(Q,`actualScores/${c}/${Y.id}`),{team1:ae.toString(),team2:ye.toString()}),xe(K(Q,`gameStatus/${c}/${Y.id}`),"final")}),x(O),S(B),N(V),alert(` POOL MANAGER RNG Complete!

 ${j} games populated
 Random teams assigned (each used once)
 Scores: 3-50 points
 No tied games guaranteed
 All games marked FINAL

Ready for testing!`)},oh=()=>{if(console.log(""),console.log(" HANDLE LOGOUT CALLED"),console.log(" Current hasUnsavedChanges value:",ht),console.log(" Current predictions:",JSON.stringify(f)),console.log(" Current originalPicks:",JSON.stringify(aa)),console.log(" Are they equal?",JSON.stringify(f)===JSON.stringify(aa)),ht){if(console.log(" HAS UNSAVED CHANGES - SHOWING WARNING "),!window.confirm(` UNSAVED CHANGES!

You have unsaved picks that will be lost.

Click OK to DISCARD changes and logout
Click CANCEL to stay and save your picks`)){console.log(" User cancelled logout"),console.log("");return}console.log(" User confirmed logout - discarding changes")}else console.log(" NO UNSAVED CHANGES - LOGGING OUT DIRECTLY ");console.log(" Proceeding with logout..."),a(!1),i(""),r(""),u({}),e("picks"),_t(!1),console.log(" Logout complete"),console.log("")},z0=()=>{Gu(!0),setTimeout(()=>{Gu(!1)},800)},F0=()=>{if(ht&&!window.confirm(` DISCARD CHANGES?

This will reset your picks to the last saved version.

Are you sure you want to discard your changes?`))return;const h=p.find(m=>m.playerCode===s&&m.week===c);u(h?h.predictions:{}),_t(!1)},B0=h=>{ht?(ra(h),Ze("unsavedChanges")):(d(h),oo(h))},oo=h=>{console.log(" LOAD WEEK PICKS CALLED "),console.log(" Loading picks for week:",h);const m=p.find(g=>g.week===h&&g.playerCode===s);if(m&&m.predictions){console.log(" Found existing picks:",JSON.stringify(m.predictions)),console.log(" Creating deep copies for predictions and originalPicks");const g=JSON.parse(JSON.stringify(m.predictions)),w=JSON.parse(JSON.stringify(m.predictions));u(g),Cs(w),_t(!1),console.log(" Set hasUnsavedChanges to FALSE"),console.log(" LOAD WEEK PICKS COMPLETE ")}else console.log(" No existing picks found - clearing state"),u({}),Cs({}),_t(!1),console.log(" LOAD WEEK PICKS COMPLETE (EMPTY) ")};M.useEffect(()=>{l&&s&&oo(c)},[c,l,s]),M.useEffect(()=>{if(p.length>0&&s){const h={};["wildcard","divisional","conference","superbowl"].forEach(m=>{const g=p.find(w=>w.week===m&&w.playerCode===s);if(g&&g.predictions){const w=be[m].games.length,j=Object.keys(g.predictions).filter(I=>{var T,O;return((T=g.predictions[I])==null?void 0:T.team1)&&((O=g.predictions[I])==null?void 0:O.team2)}).length;h[m]={complete:j===w,count:j,total:w}}}),a0(h)}},[p,s]);const As=()=>{if(ce())return!0;const h=new Date,m=new Date(h.toLocaleString("en-US",{timeZone:"America/Los_Angeles"})),g=new Date(hp.firstFriday+"T00:00:00"),w=new Date(hp.lastMonday+"T23:59:59");if(m<g)return!0;if(m>w)return!1;const j=m.getDay(),I=m.getHours(),T=m.getMinutes();return!(j===5&&I===23&&T>=59||j===6||j===0||j===1&&I===0&&T===0)},lh=()=>{const h=s.trim().toUpperCase();if(!h){Ka(h,"Empty code"),alert("Please enter your 6-character player code");return}if(h.length!==6||!/^[A-Z0-9]{6}$/.test(h)){Ka(h,"Invalid format - must be 6 alphanumeric characters"),alert(`Invalid code format!

Player codes must be exactly 6 characters (letters and numbers).
Example: A7K9M2`);return}const m=Se[h];if(!m){Ka(h,"Code not recognized"),alert(`Invalid player code!

This code is not recognized.

Make sure you:
1. Paid your $20 entry fee
2. Received your code from the pool manager
3. Entered the code correctly

Contact: gammoneer2b@gmail.com`);return}if(p.find(w=>w.playerName===m&&w.week===c))if(nn.includes(h))alert(`Welcome, Pool Manager!

You have unrestricted access to:
 Enter picks anytime (no lockout)
 Enter team codes
 Enter actual game scores
 Set game status (LIVE/FINAL)
 Lock/unlock weeks
 View all player codes`);else{const w=Qt(c);alert(w?`Welcome back, ${m}!

 WARNING: This week is LOCKED!

Your existing picks for ${be[c].name} will be loaded, but you cannot edit them because the games have been played.

You can only view your submitted picks.`:`Welcome back, ${m}!

Your existing picks for ${be[c].name} will be loaded automatically.

You can edit and resubmit anytime except during playoff weekends (Friday 11:59 PM - Monday 12:01 AM PST).`)}else nn.includes(h)&&alert(`Welcome, Pool Manager!

You have unrestricted access to:
 Enter picks anytime (no lockout)
 Enter team codes
 Enter actual game scores
 Set game status (LIVE/FINAL)
 Lock/unlock weeks
 View all player codes`);DC(h,m),r(m),i(h),a(!0)},$0=()=>{const h=p.filter(T=>T.week===c);if(h.length===0){alert("No picks to download for this week.");return}const m=be[c];let g="";g+="TEAM CODES:,",m.games.forEach(T=>{var V,Y,ee,te;const O=((Y=(V=E[c])==null?void 0:V[T.id])==null?void 0:Y.team1)||"-",B=((te=(ee=E[c])==null?void 0:ee[T.id])==null?void 0:te.team2)||"-";g+=`${O},${B},`}),c==="superbowl"&&(g+=",,,,"),g+=`
`,g+="ACTUAL SCORES:,",m.games.forEach(T=>{var V,Y,ee,te;const O=((Y=(V=y[c])==null?void 0:V[T.id])==null?void 0:Y.team1)||"-",B=((te=(ee=y[c])==null?void 0:ee[T.id])==null?void 0:te.team2)||"-";g+=`${O},${B},`}),c==="superbowl"&&(g+=",,,,"),g+=`
`,g+="GAME TOTALS:,",m.games.forEach(T=>{var ee,te,re,ae;const O=parseInt((te=(ee=y[c])==null?void 0:ee[T.id])==null?void 0:te.team1)||0,B=parseInt((ae=(re=y[c])==null?void 0:re[T.id])==null?void 0:ae.team2)||0,V=O+B,Y=O>0||B>0?V:"-";g+=`${Y},,`}),c==="superbowl"&&(g+=",,,,"),g+=`
`,g+="GAME STATUS:,",m.games.forEach(T=>{var V;const O=((V=v[c])==null?void 0:V[T.id])||"-";g+=`${O==="final"?"FINAL":O==="live"?"LIVE":"-"},,`}),c==="superbowl"&&(g+=",,,,"),g+=`
`,g+="OFFICIAL TOTALS:,",m.games.forEach(()=>{g+=",,"}),c==="superbowl"?(g+=`${C.superbowl_week4||"-"},`,g+=`${C.superbowl_week3||"-"},`,g+=`${C.superbowl_week2||"-"},`,g+=`${C.superbowl_week1||"-"},`,g+=`${C.superbowl_grand||"-"},`):g+=`${C[c]||"-"},`,g+=`
`,g+=`
`,g+=",",m.games.forEach(T=>{g+=`Game ${T.id},Game ${T.id},`}),g+=`
`,g+="Player Name,",m.games.forEach(T=>{g+=`${T.team1} Score,${T.team2} Score,`}),c==="superbowl"?g+="Week 4 Total,Week 3 Total,Week 2 Total,Week 1 Total,GRAND TOTAL,":g+="Total Points,",g+=`Submitted At
`,h.sort((T,O)=>(O.lastUpdated||O.timestamp)-(T.lastUpdated||T.timestamp)).forEach(T=>{if(g+=`"${T.playerName}",`,m.games.forEach(B=>{var ee,te;const V=((ee=T.predictions[B.id])==null?void 0:ee.team1)||"-",Y=((te=T.predictions[B.id])==null?void 0:te.team2)||"-";g+=`${V},${Y},`}),c==="superbowl"){const B=(()=>{const re=p.find(ye=>ye.playerName===T.playerName&&ye.week==="superbowl");if(!re)return 0;let ae=0;return be.superbowl.games.forEach(ye=>{const st=re.predictions[ye.id];st&&(ae+=(Number(st.team1)||0)+(Number(st.team2)||0))}),ae})(),V=(()=>{const re=p.find(ye=>ye.playerName===T.playerName&&ye.week==="conference");if(!re)return 0;let ae=0;return be.conference.games.forEach(ye=>{const st=re.predictions[ye.id];st&&(ae+=(Number(st.team1)||0)+(Number(st.team2)||0))}),ae})(),Y=(()=>{const re=p.find(ye=>ye.playerName===T.playerName&&ye.week==="divisional");if(!re)return 0;let ae=0;return be.divisional.games.forEach(ye=>{const st=re.predictions[ye.id];st&&(ae+=(Number(st.team1)||0)+(Number(st.team2)||0))}),ae})(),ee=(()=>{const re=p.find(ye=>ye.playerName===T.playerName&&ye.week==="wildcard");if(!re)return 0;let ae=0;return be.wildcard.games.forEach(ye=>{const st=re.predictions[ye.id];st&&(ae+=(Number(st.team1)||0)+(Number(st.team2)||0))}),ae})(),te=B+V+Y+ee;g+=`${B},${V},${Y},${ee},${te},`}else{const B=m.games.reduce((V,Y)=>{var re,ae;const ee=parseInt((re=T.predictions[Y.id])==null?void 0:re.team1)||0,te=parseInt((ae=T.predictions[Y.id])==null?void 0:ae.team2)||0;return V+ee+te},0);g+=`${B},`}const O=new Date(T.lastUpdated||T.timestamp).toLocaleString("en-US",{month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0});g+=`"${O}"
`});const w=new Blob([g],{type:"text/csv;charset=utf-8;"}),j=document.createElement("a"),I=URL.createObjectURL(w);j.setAttribute("href",I),j.setAttribute("download",`nfl_playoff_picks_${c}_${Date.now()}.csv`),j.style.visibility="hidden",document.body.appendChild(j),j.click(),document.body.removeChild(j)},ah=async h=>{if(h.preventDefault(),Qt(c)){alert(` WEEK LOCKED

This week's games have been played.
Picks are permanently locked.`);return}if(!As()){alert(` SUBMISSIONS CLOSED

During playoff weekends, picks are locked from:
 Friday 11:59 PM PST
 Through Monday 12:01 AM PST`);return}const m=be[c],g=[];if(m.games.forEach(I=>{(!f[I.id]||!f[I.id].team1||!f[I.id].team2)&&g.push(I.id)}),g.length>0){Vu(g),Ze("incomplete");return}const w=[];if(m.games.forEach(I=>{var B,V;const T=parseInt((B=f[I.id])==null?void 0:B.team1),O=parseInt((V=f[I.id])==null?void 0:V.team2);(isNaN(T)||isNaN(O)||T<0||O<0)&&w.push(I.id)}),w.length>0){r0(w),Ze("invalidScores");return}const j=[];if(m.games.forEach(I=>{var B,V;const T=parseInt((B=f[I.id])==null?void 0:B.team1),O=parseInt((V=f[I.id])==null?void 0:V.team2);T===O&&j.push(I.id)}),j.length>0){Vu(j),Ze("tiedGames");return}if(!ht){Ze("noChanges");return}try{const I=K(Q,"picks"),T=await jt(I);let O=null,B=null;if(T.exists()){const ee=T.val();for(const[te,re]of Object.entries(ee))if(re.playerCode===s&&re.week===c){O=re,B=te;break}}const V={playerName:n,playerCode:s,week:c,predictions:f,timestamp:O?O.timestamp:Date.now(),lastUpdated:Date.now()};B?await xe(K(Q,`picks/${B}`),V):await Ar(K(Q,"picks"),V),console.log(" SUBMIT SUCCESS "),R(!0),console.log(" Creating deep copy of predictions for originalPicks");const Y=JSON.parse(JSON.stringify(f));Cs(Y),console.log(" Setting hasUnsavedChanges to FALSE"),_t(!1),Ze("success"),console.log(" SUBMIT COMPLETE - allPicks will update but NOT trigger reload! "),setTimeout(()=>{const ee=document.querySelector(".all-picks");ee&&ee.scrollIntoView({behavior:"smooth"})},100)}catch(I){console.error("Error submitting picks:",I),alert("Error submitting picks. Please try again.")}},Pe=be[c],U0=M.useMemo(()=>{const h={};return(c==="superbowl"?(()=>{const g=new Map;return p.forEach(w=>{var j;g.has(w.playerName)||g.set(w.playerName,{playerName:w.playerName,playerCode:w.playerCode,week:c,predictions:((j=p.find(I=>I.playerCode===w.playerCode&&I.week==="superbowl"))==null?void 0:j.predictions)||{}})}),Array.from(g.values())})():p.filter(g=>g.week===c)).forEach(g=>{h[g.playerName]||(h[g.playerName]={week4:0,week3:0,week2:0,week1:0,grand:0,current:0});let w=0;if(be[c].games.forEach(I=>{const T=g.predictions[I.id];T&&T.team1&&T.team2&&(w+=(parseInt(T.team1)||0)+(parseInt(T.team2)||0))}),h[g.playerName].current=w,c==="superbowl"){const I=(T,O)=>{const B=p.find(Y=>Y.playerCode===T&&Y.week===O);if(!B||!B.predictions)return 0;let V=0;return Object.values(B.predictions).forEach(Y=>{Y&&Y.team1&&Y.team2&&(V+=(parseInt(Y.team1)||0)+(parseInt(Y.team2)||0))}),V};h[g.playerName].week4=I(g.playerCode,"superbowl"),h[g.playerName].week3=I(g.playerCode,"conference"),h[g.playerName].week2=I(g.playerCode,"divisional"),h[g.playerName].week1=I(g.playerCode,"wildcard"),h[g.playerName].grand=h[g.playerName].week1+h[g.playerName].week2+h[g.playerName].week3+h[g.playerName].week4}}),h},[p,c,y]),G0=()=>{console.log(" Starting winner calculations...");const h={};p.forEach(w=>{if(w.firebaseKey&&w.playerCode&&w.predictions){h[w.playerCode]||(h[w.playerCode]={name:w.playerName,picks:{}});const j={};Array.isArray(w.predictions)?w.predictions.forEach((I,T)=>{T>0&&I&&(j[T.toString()]=I)}):Object.assign(j,w.predictions),h[w.playerCode].picks[w.week]=j}});const m={};Object.keys(y).forEach(w=>{if(y[w]){const j={};Object.keys(y[w]).forEach(I=>{j[I.toString()]=y[w][I]}),m[w]=j}}),console.log(" Converted picks:",Object.keys(h).length,"players"),console.log(" Converted scores:",Object.keys(m));const g={week1:{prize1:Qa(h,m,"wildcard"),prize2:Xa(h,m,"wildcard")},week2:{prize1:Qa(h,m,"divisional"),prize2:Xa(h,m,"divisional")},week3:{prize1:Qa(h,m,"conference"),prize2:Xa(h,m,"conference")},week4:{prize1:WC(h,m),prize2:LC(h,m)},grandPrize:{prize1:OC(h,m),prize2:MC(h,m)}};return console.log(" All calculations complete!"),console.log(" Results:",g),g};return M.useEffect(()=>{if(p.length>0&&y){const h=G0();A(h),xe(K(Q,"calculatedWinners"),h)}},[p,y]),o.jsxs("div",{className:"App",children:[o.jsxs("header",{children:[o.jsx("h1",{children:" Richard's NFL Playoff Pool 2025"}),o.jsx("p",{children:"Enter your score predictions for each NFL Playoff 2025 game"}),o.jsxs("p",{style:{fontSize:"0.85rem",marginTop:"10px",opacity:.8},children:["v2.2-PLAYOFF-SCHEDULE-",new Date().toISOString().slice(0,10).replace(/-/g,"")]}),o.jsxs("div",{style:{marginTop:"15px",display:"flex",flexDirection:"column",gap:"10px",alignItems:"center"},children:[o.jsxs("div",{style:{display:"flex",gap:"15px",flexWrap:"wrap",justifyContent:"center"},children:[o.jsx("a",{href:"/nfl-playoff-pool/Playoff_Pool_Quick_Rules.pdf",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",padding:"10px 20px",backgroundColor:"#0984e3",color:"white",textDecoration:"none",borderRadius:"5px",fontSize:"0.95rem",fontWeight:"bold",transition:"background-color 0.3s ease",cursor:"pointer"},onMouseOver:h=>h.target.style.backgroundColor="#74b9ff",onMouseOut:h=>h.target.style.backgroundColor="#0984e3",children:" View Quick Rules (2 Pages)"}),o.jsx("a",{href:"/nfl-playoff-pool/Richards_Playoff_Pool_LIX_Rulebook.pdf",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",padding:"10px 20px",backgroundColor:"#6c5ce7",color:"white",textDecoration:"none",borderRadius:"5px",fontSize:"0.95rem",fontWeight:"bold",transition:"background-color 0.3s ease",cursor:"pointer"},onMouseOver:h=>h.target.style.backgroundColor="#a29bfe",onMouseOut:h=>h.target.style.backgroundColor="#6c5ce7",children:" View Full Rulebook (22 Pages)"})]}),o.jsx("p",{style:{fontSize:"1.1em",marginTop:"10px",color:"#ffffff",fontWeight:"500"},children:"Entry Fee: $20 - Must be paid before end of regular season"})]})]}),o.jsxs("div",{className:"container",children:[ce()&&l&&o.jsxs("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"15px 20px",borderRadius:"8px",marginBottom:"20px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[o.jsxs("h3",{style:{margin:"0 0 15px 0",display:"flex",alignItems:"center",gap:"10px"},children:[o.jsx("span",{children:""}),o.jsx("span",{children:"POOL MANAGER - WEEK LOCK CONTROLS"})]}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"10px"},children:Object.keys(be).map(h=>{var j,I;const m=(j=$[h])==null?void 0:j.locked,g=Ju(h),w=m||g;return o.jsxs("div",{style:{background:"rgba(255,255,255,0.15)",padding:"12px",borderRadius:"6px",display:"flex",flexDirection:"column",gap:"8px"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",fontWeight:"bold",fontSize:"0.9rem"},children:[o.jsxs("span",{children:[w?"":""," Week ",h==="wildcard"?"1":h==="divisional"?"2":h==="conference"?"3":"4"]}),o.jsx("span",{style:{fontSize:"0.75rem",opacity:.9},children:(I=$[h])==null?void 0:I.autoLockDate})]}),g&&!m&&o.jsx("div",{style:{fontSize:"0.7rem",padding:"4px 8px",background:"rgba(255,193,7,0.3)",borderRadius:"4px",border:"1px solid rgba(255,193,7,0.5)"},children:" AUTO-LOCKED"}),m&&o.jsx("div",{style:{fontSize:"0.7rem",padding:"4px 8px",background:"rgba(220,53,69,0.3)",borderRadius:"4px",border:"1px solid rgba(220,53,69,0.5)"},children:" MANUALLY LOCKED"}),o.jsx("button",{onClick:()=>b0(h),style:{padding:"8px 12px",background:m?"#28a745":"#dc3545",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.85rem",fontWeight:"600",transition:"all 0.2s"},children:m?" Unlock Week":" Lock Week"}),o.jsx("button",{onClick:()=>ca(h),style:{padding:"8px 12px",background:"#e67e22",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.85rem",fontWeight:"600",transition:"all 0.2s",marginTop:"8px"},children:" Clear Week Data"})]},h)})}),o.jsx("p",{style:{fontSize:"0.8rem",marginTop:"12px",marginBottom:"0",opacity:.9},children:" Manual locks override automatic locks. Players cannot edit picks for locked weeks."})]}),ce()&&l&&o.jsxs("div",{style:{background:"linear-gradient(135deg, #f39c12 0%, #e74c3c 100%)",color:"white",padding:"20px",borderRadius:"8px",marginBottom:"20px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[o.jsxs("h3",{style:{margin:"0 0 15px 0",display:"flex",alignItems:"center",gap:"10px"},children:[o.jsx("span",{children:""}),o.jsx("span",{children:"POOL MANAGER OVERRIDE - ENTER/EDIT PICKS FOR ANY PLAYER"})]}),c0?o.jsxs("div",{children:[o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"0.95rem"},children:"Select Player:"}),o.jsxs("select",{value:ue,onChange:h=>{Er(h.target.value),Ns(null),Es(null),js(!1)},style:{width:"100%",padding:"12px",fontSize:"1rem",borderRadius:"6px",border:"2px solid white",background:"rgba(255,255,255,0.95)",color:"#333",fontWeight:"600"},children:[o.jsx("option",{value:"",children:"-- Select a Player --"}),Object.keys(Se).sort((h,m)=>{const g=Se[h].toUpperCase(),w=Se[m].toUpperCase();return g.localeCompare(w)}).map(h=>o.jsxs("option",{value:h,children:[Se[h]," (",h,")"]},h))]})]}),ue&&o.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:"15px",borderRadius:"6px",marginBottom:"15px"},children:[o.jsxs("div",{style:{marginBottom:"15px"},children:[o.jsx("strong",{children:"Selected:"})," ",Se[ue]," (",ue,")",o.jsx("br",{}),o.jsx("strong",{children:"Week:"})," ",c==="wildcard"?"Week 1":c==="divisional"?"Week 2":c==="conference"?"Week 3":"Week 4",o.jsx("br",{}),o.jsx("strong",{children:"Status:"})," ",p.find(h=>h.playerCode===ue&&h.week===c)?" HAS PICKS":" NO PICKS"]}),o.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[o.jsx("button",{onClick:Xu,style:{flex:"1",minWidth:"150px",padding:"12px",background:"#9b59b6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Generate RNG Picks"}),o.jsx("button",{onClick:y0,style:{flex:"1",minWidth:"150px",padding:"12px",background:"#3498db",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Enter/Edit Manually"})]}),p.find(h=>h.playerCode===ue)&&o.jsxs("div",{style:{marginTop:"15px",padding:"15px",background:"rgba(220, 53, 69, 0.1)",borderRadius:"6px",border:"2px solid rgba(220, 53, 69, 0.3)"},children:[o.jsx("div",{style:{marginBottom:"10px",fontWeight:"600",color:"#dc3545"},children:" Danger Zone - Delete Operations"}),o.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[o.jsx("button",{onClick:()=>Pr("week"),style:{flex:"1",minWidth:"150px",padding:"12px",background:"#e67e22",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Delete This Week Only"}),o.jsx("button",{onClick:()=>Pr("all"),style:{flex:"1",minWidth:"150px",padding:"12px",background:"#c0392b",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Delete ALL Weeks"})]})]})]}),o.jsx("button",{onClick:()=>{bs(!1),Er(""),Ns(null),Es(null),js(!1)},style:{padding:"10px 20px",background:"#95a5a6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Exit Override Mode"})]}):o.jsxs("div",{children:[o.jsx("p",{style:{marginBottom:"15px",fontSize:"0.9rem"},children:" Enter picks on behalf of players who missed the deadline or need assistance. Works even when week is locked."}),o.jsx("button",{onClick:()=>bs(!0),style:{padding:"12px 24px",background:"white",color:"#e74c3c",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:" Enter Override Mode"})]})]}),d0&&er&&o.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},children:o.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"30px",maxWidth:"600px",width:"100%",maxHeight:"90vh",overflow:"auto",boxShadow:"0 8px 32px rgba(0,0,0,0.3)"},children:[o.jsx("h3",{style:{marginTop:0,color:"#9b59b6"},children:" RNG PICKS GENERATED"}),o.jsxs("p",{style:{color:"#666",marginBottom:"20px"},children:["Player: ",o.jsx("strong",{children:Se[ue]}),o.jsx("br",{}),"Week: ",o.jsx("strong",{children:c==="wildcard"?"Week 1":c==="divisional"?"Week 2":c==="conference"?"Week 3":"Week 4"})]}),o.jsx("div",{style:{marginBottom:"20px"},children:be[c].games.map(h=>o.jsxs("div",{style:{padding:"12px",background:"#f8f9fa",borderRadius:"6px",marginBottom:"10px",border:"2px solid #e9ecef"},children:[o.jsxs("div",{style:{fontWeight:"600",marginBottom:"5px",color:"#333"},children:["Game ",h.id,": ",Sn(c,h.id,"team1",W)," vs ",Sn(c,h.id,"team2",W)]}),o.jsxs("div",{style:{fontSize:"1.2rem",fontWeight:"700",color:"#9b59b6"},children:[er[h.id].team1," - ",er[h.id].team2,er[h.id].team1>er[h.id].team2?` (${Sn(c,h.id,"team1",W)} wins)`:` (${Sn(c,h.id,"team2",W)} wins)`]})]},h.id))}),o.jsxs("div",{style:{background:"#d4edda",border:"1px solid #c3e6cb",color:"#155724",padding:"12px",borderRadius:"6px",marginBottom:"20px",fontSize:"0.9rem"},children:[" All scores between 10-50 (inclusive)",o.jsx("br",{})," No tied games",o.jsx("br",{}),' Will be marked as "POOL_MANAGER_RNG" in database']}),o.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[o.jsx("button",{onClick:g0,style:{flex:"1",padding:"14px 24px",background:"#28a745",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Submit RNG Picks"}),o.jsx("button",{onClick:Xu,style:{flex:"1",padding:"14px 24px",background:"#ffc107",color:"#333",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Regenerate"}),o.jsx("button",{onClick:()=>{js(!1),Es(null)},style:{padding:"14px 24px",background:"#dc3545",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Cancel"})]})]})}),Ku&&o.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},children:o.jsx("div",{style:{background:"white",borderRadius:"12px",padding:"30px",maxWidth:"500px",width:"100%",boxShadow:"0 8px 32px rgba(0,0,0,0.3)"},children:Ku==="week"?o.jsxs(o.Fragment,{children:[o.jsxs("h3",{style:{marginTop:0,color:"#e67e22",display:"flex",alignItems:"center",gap:"10px"},children:[o.jsx("span",{children:""}),o.jsx("span",{children:"DELETE PICKS FOR THIS WEEK?"})]}),o.jsxs("div",{style:{marginBottom:"20px",color:"#666"},children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Player:"})," ",Se[ue]]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Week:"})," ",c==="wildcard"?"Week 1 (Wildcard)":c==="divisional"?"Week 2 (Divisional)":c==="conference"?"Week 3 (Conference)":"Week 4 (Super Bowl)"]})]}),o.jsxs("div",{style:{background:"#fff3cd",border:"1px solid #ffc107",color:"#856404",padding:"15px",borderRadius:"6px",marginBottom:"20px",fontSize:"0.95rem"},children:[o.jsx("strong",{children:" Warning:"})," This will DELETE ",Se[ue],"'s picks for this week only.",o.jsx("br",{}),o.jsx("strong",{children:"This action CANNOT be undone!"})]}),o.jsxs("div",{style:{display:"flex",gap:"10px"},children:[o.jsx("button",{onClick:()=>Pr(null),style:{flex:"1",padding:"14px",background:"#95a5a6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Cancel"}),o.jsx("button",{onClick:v0,style:{flex:"1",padding:"14px",background:"#e67e22",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Yes, Delete This Week"})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("h3",{style:{marginTop:0,color:"#c0392b",display:"flex",alignItems:"center",gap:"10px"},children:[o.jsx("span",{children:""}),o.jsx("span",{children:"DELETE ALL PICKS?"})]}),o.jsx("div",{style:{marginBottom:"20px",color:"#666"},children:o.jsxs("p",{children:[o.jsx("strong",{children:"Player:"})," ",Se[ue]]})}),o.jsxs("div",{style:{background:"#f8d7da",border:"2px solid #dc3545",color:"#721c24",padding:"15px",borderRadius:"6px",marginBottom:"20px",fontSize:"0.95rem"},children:[o.jsx("strong",{children:" DANGER:"})," This will DELETE ALL of ",Se[ue],"'s picks:",o.jsx("br",{}),o.jsx("br",{}),p.filter(h=>h.playerCode===ue).map(h=>o.jsxs("div",{style:{marginLeft:"20px"},children:[" ",h.week==="wildcard"?"Week 1":h.week==="divisional"?"Week 2":h.week==="conference"?"Week 3":"Week 4"," picks"]},h.week)),o.jsx("br",{}),o.jsx("strong",{children:"This action CANNOT be undone!"}),o.jsx("br",{}),o.jsx("strong",{children:"Are you absolutely sure?"})]}),o.jsxs("div",{style:{display:"flex",gap:"10px"},children:[o.jsx("button",{onClick:()=>Pr(null),style:{flex:"1",padding:"14px",background:"#95a5a6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Cancel"}),o.jsx("button",{onClick:_0,style:{flex:"1",padding:"14px",background:"#c0392b",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Yes, Delete Everything"})]})]})})}),Ps&&o.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},children:o.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"30px",maxWidth:"500px",width:"100%",boxShadow:"0 8px 32px rgba(0,0,0,0.3)"},children:[o.jsxs("h3",{style:{marginTop:0,color:"#e67e22",display:"flex",alignItems:"center",gap:"10px"},children:[o.jsx("span",{children:""}),o.jsx("span",{children:"CLEAR WEEK DATA?"})]}),o.jsx("div",{style:{marginBottom:"20px",color:"#666"},children:o.jsxs("p",{children:[o.jsx("strong",{children:"Week:"})," ",Ps==="wildcard"?"Week 1 (Wildcard)":Ps==="divisional"?"Week 2 (Divisional)":Ps==="conference"?"Week 3 (Conference)":"Week 4 (Super Bowl)"]})}),o.jsxs("div",{style:{background:"#fff3cd",border:"2px solid #ffc107",color:"#856404",padding:"15px",borderRadius:"6px",marginBottom:"20px",fontSize:"0.95rem"},children:[o.jsx("strong",{children:" This will DELETE:"}),o.jsxs("div",{style:{marginLeft:"20px",marginTop:"10px"},children:[" All team names for this week",o.jsx("br",{})," All actual scores for this week",o.jsx("br",{})," All game statuses (FINAL/LIVE) for this week"]}),o.jsx("br",{}),o.jsx("strong",{style:{color:"#d63031"},children:" This will KEEP:"}),o.jsx("div",{style:{marginLeft:"20px",marginTop:"5px"},children:" ALL player picks (NOT deleted!)"}),o.jsx("br",{}),o.jsx("strong",{children:"This action CANNOT be undone!"})]}),o.jsxs("div",{style:{display:"flex",gap:"10px"},children:[o.jsx("button",{onClick:()=>ca(null),style:{flex:"1",padding:"14px",background:"#95a5a6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Cancel"}),o.jsx("button",{onClick:()=>w0(Ps),style:{flex:"1",padding:"14px",background:"#e67e22",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Yes, Clear Week Data"})]})]})}),ce()&&l&&o.jsx(uC,{currentWeek:c,games:Pe.games,actualScores:y,teamCodes:E,onScoresFetched:Zu,onGameLockToggle:N0,gameLocks:Z,espnAutoRefresh:je}),ce()&&l&&o.jsx("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"20px",borderRadius:"8px",marginBottom:"20px",boxShadow:"0 4px 15px rgba(102, 126, 234, 0.4)"},children:o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[o.jsxs("div",{children:[o.jsxs("h3",{style:{margin:"0 0 8px 0",display:"flex",alignItems:"center",gap:"10px"},children:[o.jsx("span",{children:""}),o.jsx("span",{children:"POOL MANAGER RNG - Quick Test Data"})]}),o.jsx("p",{style:{margin:0,fontSize:"0.9rem",opacity:.9},children:"Auto-populate teams, scores, and mark games as FINAL for testing"})]}),o.jsx("button",{onClick:M0,style:{padding:"12px 24px",background:"white",color:"#667eea",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"1rem",fontWeight:"700",boxShadow:"0 4px 12px rgba(0,0,0,0.2)",transition:"all 0.3s ease",whiteSpace:"nowrap"},onMouseOver:h=>{h.target.style.transform="translateY(-2px)",h.target.style.boxShadow="0 6px 16px rgba(0,0,0,0.3)"},onMouseOut:h=>{h.target.style.transform="translateY(0)",h.target.style.boxShadow="0 4px 12px rgba(0,0,0,0.2)"},children:" Generate Test Data"})]})}),ce()&&l&&o.jsxs("div",{style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"white",padding:"15px 20px",borderRadius:"8px",marginBottom:"20px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[o.jsxs("h3",{style:{margin:"0 0 15px 0",display:"flex",alignItems:"center",gap:"10px"},children:[o.jsx("span",{children:""}),o.jsx("span",{children:"ALL PLAYER CODES"})]}),o.jsx("div",{style:{background:"rgba(255,255,255,0.95)",padding:"15px",borderRadius:"6px",maxHeight:"300px",overflowY:"auto"},children:o.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.9rem"},children:[o.jsx("thead",{children:o.jsxs("tr",{style:{background:"#f8f9fa",borderBottom:"2px solid #dee2e6"},children:[o.jsx("th",{style:{padding:"10px",textAlign:"left",color:"#495057",fontWeight:"600"},children:"Player Code"}),o.jsx("th",{style:{padding:"10px",textAlign:"left",color:"#495057",fontWeight:"600"},children:"Player Name"}),o.jsx("th",{style:{padding:"10px",textAlign:"center",color:"#495057",fontWeight:"600"},children:"Role"})]})}),o.jsx("tbody",{children:Object.entries(Se).sort((h,m)=>{const g=nn.includes(h[0]),w=nn.includes(m[0]);return g&&!w?-1:!g&&w?1:h[1].localeCompare(m[1])}).map(([h,m],g)=>{const w=nn.includes(h);return o.jsxs("tr",{style:{background:g%2===0?"#ffffff":"#f8f9fa",borderBottom:"1px solid #dee2e6"},children:[o.jsx("td",{style:{padding:"10px",color:"#212529",fontFamily:"monospace",fontWeight:"bold",fontSize:"1rem"},children:h}),o.jsx("td",{style:{padding:"10px",color:"#212529"},children:m}),o.jsx("td",{style:{padding:"10px",textAlign:"center"},children:w?o.jsx("span",{style:{padding:"4px 8px",background:"#dc3545",color:"white",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"600"},children:" MANAGER"}):o.jsx("span",{style:{padding:"4px 8px",background:"#28a745",color:"white",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"600"},children:" PLAYER"})})]},h)})})]})}),o.jsxs("p",{style:{fontSize:"0.8rem",marginTop:"12px",marginBottom:"0",opacity:.9},children:[" Total Players: ",Object.keys(Se).length," | Pool Managers: ",nn.length," | Regular Players: ",Object.keys(Se).length-nn.length]})]}),l&&o.jsx(_C,{currentWeek:c,onWeekChange:B0,weekPicks:l0,weekLockStatus:$,hasUnsavedChanges:ht,isPoolManager:ce()}),l&&o.jsxs("div",{className:"view-navigation",children:[o.jsxs("button",{className:`nav-btn ${t==="picks"?"active":""}`,onClick:()=>e("picks"),children:[" #1 Make Picks & Logout",t==="picks"&&o.jsx("span",{style:{marginLeft:"8px",fontSize:"0.75rem",opacity:.9,fontStyle:"italic"},children:"(you are here)"})]}),o.jsxs("button",{className:`nav-btn ${t==="standings"?"active":""}`,onClick:()=>e("standings"),children:[" #2 Standings & Prizes",t==="standings"&&o.jsx("span",{style:{marginLeft:"8px",fontSize:"0.75rem",opacity:.9,fontStyle:"italic"},children:"(you are here)"})]}),o.jsxs("button",{className:`nav-btn ${t==="winners"?"active":""}`,onClick:()=>e("winners"),children:[" #3 How Winners Are Determined",t==="winners"&&o.jsx("span",{style:{marginLeft:"8px",fontSize:"0.75rem",opacity:.9,fontStyle:"italic"},children:"(you are here)"})]}),ce()&&o.jsxs("button",{className:`nav-btn ${t==="payments"?"active":""}`,onClick:()=>e("payments"),children:[" Payments",o.jsx("span",{style:{marginLeft:"8px",fontSize:"0.7rem",padding:"2px 6px",background:"#667eea",color:"white",borderRadius:"10px",fontWeight:"500"},children:"Pool Manager"}),t==="payments"&&o.jsx("span",{style:{marginLeft:"8px",fontSize:"0.75rem",opacity:.9,fontStyle:"italic"},children:"(you are here)"})]}),ce()&&o.jsxs("button",{className:`nav-btn ${t==="playoffSetup"?"active":""}`,onClick:()=>e("playoffSetup"),children:[" Setup Playoff Teams",o.jsx("span",{style:{marginLeft:"8px",fontSize:"0.7rem",padding:"2px 6px",background:"#667eea",color:"white",borderRadius:"10px",fontWeight:"500"},children:"Pool Manager"}),t==="playoffSetup"&&o.jsx("span",{style:{marginLeft:"8px",fontSize:"0.75rem",opacity:.9,fontStyle:"italic"},children:"(you are here)"})]}),ce()&&o.jsxs("button",{className:`nav-btn ${t==="loginLogs"?"active":""}`,onClick:()=>e("loginLogs"),children:[" Login Logs",o.jsx("span",{style:{marginLeft:"8px",fontSize:"0.7rem",padding:"2px 6px",background:"#667eea",color:"white",borderRadius:"10px",fontWeight:"500"},children:"Pool Manager"}),t==="loginLogs"&&o.jsx("span",{style:{marginLeft:"8px",fontSize:"0.75rem",opacity:.9,fontStyle:"italic"},children:"(you are here)"})]}),ce()&&o.jsxs("button",{className:"nav-btn",style:{background:"#10b981",color:"white"},onClick:async()=>{if(confirm(`Create players table in Firebase?

This will add all `+Object.keys(Se).length+" players to Firebase."))try{const h=K(Q,"players");if((await jt(h)).exists()){alert(" Players table already exists in Firebase!");return}let g=0;for(const[w,j]of Object.entries(Se))await Ar(K(Q,"players"),{playerCode:w,playerName:j,role:nn.includes(w)?"MANAGER":"PLAYER",paymentStatus:"UNPAID",paymentTimestamp:"",paymentMethod:"",paymentAmount:0,visibleToPlayers:!0,createdAt:Date.now(),updatedAt:Date.now()}),g++;alert(` SUCCESS!

Created `+g+` players in Firebase!

REFRESH THE PAGE NOW!`)}catch(h){alert(" Error: "+h.message),console.error("Migration error:",h)}},children:[" Create Players Table",o.jsx("span",{style:{marginLeft:"8px",fontSize:"0.7rem",padding:"2px 6px",background:"#059669",color:"white",borderRadius:"10px",fontWeight:"500"},children:"One-Time Setup"})]}),ce()&&o.jsxs("button",{className:"nav-btn",style:{background:"#3b82f6",color:"white"},onClick:async()=>{const h=prompt("Enter new player name:");if(!h||!h.trim()){alert(" Cancelled - no name entered");return}const m=prompt(`Enter 6-character access code
(or leave blank to auto-generate):`),g=m&&m.trim()?m.trim().toUpperCase():Math.random().toString(36).substring(2,8).toUpperCase();if(g.length!==6){alert(" Access code must be exactly 6 characters!");return}const w=K(Q,"players"),j=await jt(w);if(j.exists()){const I=j.val();if(Object.values(I).some(O=>O.playerCode===g)){alert(` Code "${g}" already exists! Please use a different code.`);return}}try{await Ar(w,{playerCode:g,playerName:h.trim(),role:"PLAYER",paymentStatus:"UNPAID",paymentTimestamp:"",paymentMethod:"",paymentAmount:0,visibleToPlayers:!0,createdAt:Date.now(),updatedAt:Date.now()}),alert(` PLAYER ADDED!

Name: ${h.trim()}
Access Code: ${g}

 Give this code to the player!`)}catch(I){alert(" Error: "+I.message)}},children:[" Add New Player",o.jsx("span",{style:{marginLeft:"8px",fontSize:"0.7rem",padding:"2px 6px",background:"#2563eb",color:"white",borderRadius:"10px",fontWeight:"500"},children:"Pool Manager"})]}),ce()&&o.jsxs("button",{className:"nav-btn",style:{background:"#f59e0b",color:"white"},onClick:async()=>{if(confirm("Add showInPicksTable field to all players?"))try{const h=K(Q,"players"),m=await jt(h);if(!m.exists()){alert(" No players found");return}const g=m.val();let w=0;for(const[j,I]of Object.entries(g))if(I.showInPicksTable===void 0){const T=K(Q,`players/${j}`);await Eo(T,{showInPicksTable:!1}),w++}alert(` Added showInPicksTable to ${w} players!

REFRESH PAGE NOW!`)}catch(h){alert(" Error: "+h.message)}},children:[" Add Table Field",o.jsx("span",{style:{marginLeft:"8px",fontSize:"0.7rem",padding:"2px 6px",background:"#d97706",color:"white",borderRadius:"10px",fontWeight:"500"},children:"One-Time"})]})]}),t==="standings"&&l?o.jsx(dC,{allPicks:p,actualScores:y,currentWeek:c,playerName:n,playerCode:s,isPoolManager:ce(),prizePool:$e,officialWinners:eo,onLogout:oh}):t==="winners"&&l?o.jsx(zC,{calculatedWinners:D,publishedWinners:L,isPoolManager:ce(),onPublishPrize:P0,onUnpublishPrize:T0,allPicks:p,actualScores:y}):t==="loginLogs"&&l?o.jsx(IC,{isPoolManager:ce(),playerCodes:Se}):t==="payments"&&l?o.jsx(BC,{players:ro,allPicks:p,onUpdatePayment:u0,onTogglePlayerVisibility:h0,onRemovePlayer:f0,onToggleTableDisplay:p0}):t==="playoffSetup"&&l?o.jsx(FC,{playoffTeams:W,actualScores:y,onSavePlayoffTeams:I0,isPoolManager:ce()}):o.jsxs(o.Fragment,{children:[l?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"player-confirmed",children:[o.jsx("span",{className:"confirmation-badge",children:" VERIFIED"}),o.jsxs("h3",{children:["Welcome, ",o.jsx("span",{className:"player-name-highlight",children:n}),"!",ce()&&o.jsx("span",{style:{marginLeft:"10px",color:"#d63031"},children:" POOL MANAGER"})]}),o.jsxs("div",{style:{display:"inline-block",padding:"8px 20px",marginBottom:"10px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:"25px",fontWeight:"bold",fontSize:"1.1rem",boxShadow:"0 4px 15px rgba(102, 126, 234, 0.4)",letterSpacing:"0.5px"},children:[c==="wildcard"&&" WEEK 1 OF 4",c==="divisional"&&" WEEK 2 OF 4",c==="conference"&&" WEEK 3 OF 4",c==="superbowl"&&" WEEK 4 OF 4"]}),o.jsxs("p",{style:{color:"#000",marginTop:"8px"},children:["Making picks for: ",o.jsx("strong",{children:Pe.name})]}),Qt(c)&&!ce()&&o.jsx("div",{style:{marginTop:"10px",padding:"10px 15px",background:"#fff3cd",border:"2px solid #ffc107",borderRadius:"6px",color:"#856404",fontWeight:"600"},children:" This week is LOCKED - You can view your picks but cannot edit them"}),o.jsx("button",{className:"validate-btn",style:{marginTop:"15px",padding:"10px 20px",fontSize:"0.9rem"},onClick:oh,children:" Logout / Switch Entry"}),o.jsx("p",{style:{fontSize:"0.85rem",color:"#666",marginTop:"10px",fontStyle:"italic"},children:" Playing with multiple entries? Logout to switch between your codes."})]}),!((ch=W==null?void 0:W.week1)!=null&&ch.configured)&&o.jsxs("div",{style:{margin:"20px 0",padding:"20px",background:"linear-gradient(135deg, #ffd89b 0%, #19547b 100%)",borderRadius:"12px",border:"3px solid #ff9800",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",textAlign:"center"},children:[o.jsx("div",{style:{fontSize:"2rem",marginBottom:"10px"},children:""}),o.jsx("h3",{style:{color:"white",margin:"0 0 10px 0",fontSize:"1.3rem",textShadow:"2px 2px 4px rgba(0,0,0,0.3)"},children:"Playoff Teams Will Be Announced Soon"}),o.jsxs("p",{style:{color:"white",fontSize:"1rem",margin:0,opacity:.95},children:["The 2025 NFL Playoff teams will be determined after the regular season ends in early January 2026.",o.jsx("br",{}),"Pool Manager will announce the 14 playoff teams here once finalized."]})]}),!As()&&o.jsx("div",{className:"closed-warning",children:" PICKS ARE LOCKED (Playoff Weekend: Friday 11:59 PM - Monday 12:01 AM PST)"}),o.jsxs("div",{className:"prediction-form",children:[jr==="manual"?o.jsxs("h2",{style:{color:"#e74c3c"},children:[" OVERRIDE MODE: Entering Picks for ",Se[ue]]}):o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"15px",gap:"15px"},children:[o.jsxs("h2",{style:{margin:0,flex:"1"},children:["Enter Your Predictions: ",o.jsxs("span",{style:{fontSize:"0.95rem",color:"#667eea",fontWeight:"600"},children:[c==="wildcard"&&"Wk 1",c==="divisional"&&"Wk 2",c==="conference"&&"Wk 3",c==="superbowl"&&"Wk 4"]})]}),!Qt(c)&&o.jsx("button",{type:"button",onClick:E0,style:{padding:"10px 20px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"0.95rem",fontWeight:"600",boxShadow:"0 4px 15px rgba(102, 126, 234, 0.4)",transition:"all 0.3s ease"},onMouseOver:h=>{h.target.style.transform="translateY(-2px)",h.target.style.boxShadow="0 6px 20px rgba(102, 126, 234, 0.6)"},onMouseOut:h=>{h.target.style.transform="translateY(0)",h.target.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)"},children:" Quick RNG Pick - Auto-fill all games"})]}),o.jsxs("div",{className:"progress-indicator",children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[o.jsx("strong",{children:"Progress:"}),o.jsxs("span",{children:[Object.keys(f).filter(h=>f[h]&&f[h].team1&&f[h].team2).length," of ",Pe.games.length," games completed"]})]}),o.jsx("div",{className:"progress-bar",children:o.jsxs("div",{className:"progress-fill",style:{width:`${Object.keys(f).filter(h=>f[h]&&f[h].team1&&f[h].team2).length/Pe.games.length*100}%`},children:[Math.round(Object.keys(f).filter(h=>f[h]&&f[h].team1&&f[h].team2).length/Pe.games.length*100),"%"]})})]}),o.jsxs("form",{onSubmit:jr==="manual"?x0:ah,children:[Pe.games.map(h=>{var m,g,w,j,I,T;return o.jsxs("div",{className:"game-prediction",children:[o.jsxs("h3",{children:["Game ",h.id,": ",Sn(c,h.id,"team1",W)," @ ",Sn(c,h.id,"team2",W),((m=E[c])==null?void 0:m[h.id])&&o.jsxs("span",{style:{fontSize:"0.9rem",color:"#666",marginLeft:"10px"},children:["(",E[c][h.id].team1||"?"," @ ",E[c][h.id].team2||"?",")"]})]}),((g=y[c])==null?void 0:g[h.id])&&o.jsxs("div",{style:{padding:"10px 15px",background:"#ffffff",border:"3px solid #4caf50",borderRadius:"6px",marginBottom:"12px",fontSize:"1rem"},children:[o.jsx("strong",{style:{color:"#000",fontSize:"1.05rem"},children:"Actual Score:"})," ",o.jsxs("span",{style:{color:"#000",fontWeight:"700",fontSize:"1.1rem"},children:[y[c][h.id].team1||"-"," - ",y[c][h.id].team2||"-"]}),((w=v[c])==null?void 0:w[h.id])==="final"&&o.jsx("span",{style:{marginLeft:"10px",padding:"2px 8px",background:"#4caf50",color:"white",borderRadius:"4px",fontSize:"0.8rem",fontWeight:"bold"},children:" FINAL"}),((j=v[c])==null?void 0:j[h.id])==="live"&&o.jsx("span",{style:{marginLeft:"10px",padding:"2px 8px",background:"#ff9800",color:"white",borderRadius:"4px",fontSize:"0.8rem",fontWeight:"bold"},children:" LIVE"})]}),o.jsxs("div",{className:"score-inputs",children:[o.jsxs("div",{className:"team-score",children:[o.jsxs("label",{children:[o.jsx("span",{className:"team-designation",children:"AWAY TEAM"}),o.jsx("span",{className:"team-name-label",style:{color:"#ffffff",fontWeight:"700"},children:h.team1})]}),o.jsx("input",{type:"number",min:"0",max:"99",value:((I=f[h.id])==null?void 0:I.team1)||"",onChange:O=>eh(h.id,"team1",O.target.value),placeholder:"0",required:!0,disabled:Qt(c)},`${h.id}-team1-${n}`)]}),o.jsx("div",{className:"vs",children:"VS"}),o.jsxs("div",{className:"team-score",children:[o.jsxs("label",{children:[o.jsx("span",{className:"team-designation",children:"HOME TEAM"}),o.jsx("span",{className:"team-name-label",style:{color:"#ffffff",fontWeight:"700"},children:h.team2})]}),o.jsx("input",{type:"number",min:"0",max:"99",value:((T=f[h.id])==null?void 0:T.team2)||"",onChange:O=>eh(h.id,"team2",O.target.value),placeholder:"0",required:!0,disabled:Qt(c)},`${h.id}-team2-${n}`)]})]})]},h.id)}),o.jsxs("div",{style:{display:"flex",gap:"15px",marginTop:"20px"},children:[o.jsx("button",{type:"submit",className:"submit-btn",disabled:jr==="manual"?!1:!As()||Qt(c),style:jr==="manual"?{background:"#e74c3c",fontSize:"1.1rem",fontWeight:"700",flex:"1"}:{flex:"1"},children:jr==="manual"?` Submit for ${Se[ue]}`:Qt(c)&&!ce()?" Week Locked - Cannot Edit Picks":As()?" Submit / Update My Picks":" Submissions Locked (Playoff Weekend)"}),!Qt(c)&&jr!=="manual"&&o.jsx("button",{type:"button",onClick:F0,style:{padding:"15px 30px",background:"#6c757d",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"1.1rem",fontWeight:"600",transition:"all 0.3s ease",flex:"0 0 auto",minWidth:"150px"},onMouseOver:h=>{h.target.style.background="#5a6268"},onMouseOut:h=>{h.target.style.background="#6c757d"},children:" Cancel"})]}),As()&&!Qt(c)&&o.jsx("p",{style:{textAlign:"center",marginTop:"15px",color:"#666",fontSize:"0.9rem"},children:"You can edit and resubmit your picks as many times as you want until Friday 11:59 PM PST (before game weekends)"})]})]})]}):o.jsx("div",{className:"prediction-form",children:o.jsxs("div",{className:"code-entry-section",children:[o.jsx("h3",{children:" Enter Your Player Code"}),o.jsx("p",{style:{marginBottom:"20px",color:"#666"},children:"You received a 6-character code when you paid your $20 entry fee."}),o.jsx("p",{style:{marginBottom:"20px",color:"#666",fontSize:"0.9rem",fontStyle:"italic"},children:" Have multiple entries? Enter one code at a time."}),o.jsxs("div",{className:"code-input-group",children:[o.jsx("label",{htmlFor:"playerCode",children:"Player Code (6 characters)"}),o.jsx("input",{type:"text",id:"playerCode",className:"code-input",value:s,onChange:h=>i(h.target.value.toUpperCase()),placeholder:"A7K9M2",maxLength:"6",autoComplete:"off",onKeyPress:h=>{h.key==="Enter"&&lh()}}),o.jsx("button",{className:"validate-btn",onClick:lh,children:"Validate Code & Continue"}),o.jsxs("div",{style:{marginTop:"20px",padding:"15px",background:"#fff3cd",border:"2px solid #ffc107",borderRadius:"8px",textAlign:"left"},children:[o.jsx("h4",{style:{margin:"0 0 10px 0",color:"#856404"},children:" Entry Fee Payment"}),o.jsxs("p",{style:{margin:"5px 0",fontSize:"0.9rem",color:"#856404"},children:[o.jsx("strong",{children:"Cost:"})," $20 per entry"]}),o.jsxs("p",{style:{margin:"5px 0",fontSize:"0.9rem",color:"#856404"},children:[o.jsx("strong",{children:"Send e-Transfer to:"})," gammoneer2b@gmail.com"]}),o.jsxs("p",{style:{margin:"5px 0",fontSize:"0.9rem",color:"#856404"},children:[o.jsx("strong",{children:"Password:"})," nflpool"]}),o.jsx("p",{style:{margin:"10px 0 5px 0",fontSize:"0.85rem",color:"#856404",fontStyle:"italic"},children:"You will receive your player code after payment is confirmed."})]}),o.jsx("p",{style:{marginTop:"15px",fontSize:"0.9rem",color:"#666",textAlign:"center"},children:"Questions? Contact: gammoneer2b@gmail.com"})]})]})}),o.jsxs("div",{className:"all-picks",children:[o.jsxs("h2",{children:["All Player Picks - ",Pe.name,o.jsx("button",{onClick:$0,style:{marginLeft:"15px",padding:"8px 16px",background:"#4caf50",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Download CSV"}),o.jsx("div",{style:{fontSize:"0.75rem",color:"#666",marginTop:"5px",fontStyle:"italic"},children:" Mobile: Open the DOWNLOADABLE CSV file with Google Sheets (free app) or MS Office EXCEL"}),o.jsx("button",{onClick:z0,disabled:ks,style:{marginLeft:"10px",padding:"8px 16px",background:ks?"#a0a0a0":"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:ks?"not-allowed":"pointer",fontSize:"0.9rem",fontWeight:"600",opacity:ks?.7:1},children:ks?" Refreshed!":" Refresh Picks Table"})]}),p.filter(h=>h.week===c).length===0?o.jsx("p",{className:"no-picks",children:"No picks submitted yet for this week."}):o.jsx("div",{className:"picks-table-container",children:o.jsxs("table",{className:"picks-table",children:[o.jsxs("thead",{children:[o.jsxs("tr",{children:[o.jsx("th",{rowSpan:"2",children:"Player"}),o.jsx("th",{rowSpan:"2",children:"Status"}),Pe.games.map(h=>{var m,g,w,j,I;return o.jsxs("th",{colSpan:"2",children:["Game ",h.id,o.jsx("br",{}),o.jsxs("small",{style:{color:"#ffffff",fontWeight:"700"},children:[Sn(c,h.id,"team1",W)," @ ",Sn(c,h.id,"team2",W)]}),ce()&&o.jsxs("div",{style:{marginTop:"5px",display:"flex",gap:"5px",justifyContent:"center",alignItems:"center"},children:[o.jsx("input",{type:"text",maxLength:"3",value:((g=(m=E[c])==null?void 0:m[h.id])==null?void 0:g.team1)||"",onChange:T=>th(h.id,"team1",T.target.value),placeholder:"PIT",style:{width:"45px",padding:"4px",textAlign:"center",fontSize:"0.8rem",fontWeight:"bold",border:"2px solid #667eea",borderRadius:"4px"}}),o.jsx("span",{style:{fontSize:"0.8rem"},children:"@"}),o.jsx("input",{type:"text",maxLength:"3",value:((j=(w=E[c])==null?void 0:w[h.id])==null?void 0:j.team2)||"",onChange:T=>th(h.id,"team2",T.target.value),placeholder:"BUF",style:{width:"45px",padding:"4px",textAlign:"center",fontSize:"0.8rem",fontWeight:"bold",border:"2px solid #667eea",borderRadius:"4px"}})]}),!ce()&&((I=E[c])==null?void 0:I[h.id])&&o.jsxs("div",{style:{fontSize:"0.8rem",color:"#ffffff",fontWeight:"700",marginTop:"3px"},children:[E[c][h.id].team1||"?"," @ ",E[c][h.id].team2||"?"]})]},h.id)}),o.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#e8f5e9",fontWeight:"bold",color:"#090909ff",minWidth:"60px",fontSize:"0.75rem",padding:"8px 4px"},children:[o.jsx("div",{style:{marginBottom:"2px"},children:"Correct"}),o.jsx("div",{children:"Picks"})]}),c==="superbowl"?o.jsxs(o.Fragment,{children:[o.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#fff3cd",fontWeight:"bold",color:"#000"},children:[ce()?o.jsxs("div",{style:{marginBottom:"8px"},children:[o.jsxs("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"},children:["OFFICIAL ",G.superbowl_week4?"":"",G.superbowl_week4&&o.jsx("button",{onClick:()=>Is("superbowl_week4"),title:"Return to auto-calculation",style:{padding:"2px 6px",fontSize:"0.65rem",background:"#e74c3c",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"},children:"Clear"})]}),o.jsx("input",{type:"number",min:"0",value:_n("superbowl_week4","superbowl"),onChange:h=>Tr("superbowl_week4",h.target.value),placeholder:"Auto",title:G.superbowl_week4?"Manually overridden - click Clear to return to auto":"Auto-calculated - click to override",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:G.superbowl_week4?"2px solid #e74c3c":"2px solid #27ae60",borderRadius:"4px",color:"#000",backgroundColor:G.superbowl_week4?"#ffe5e5":"#e8f8f5"}})]}):o.jsxs("div",{style:{marginBottom:"8px"},children:[o.jsxs("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:["Official ",G.superbowl_week4?"":""]}),o.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:_n("superbowl_week4","superbowl")||"-"})]}),"Week 4",o.jsx("br",{}),"Total"]}),o.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#d1ecf1",fontWeight:"bold",color:"#000"},children:[ce()?o.jsxs("div",{style:{marginBottom:"8px"},children:[o.jsxs("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"},children:["OFFICIAL ",G.superbowl_week3?"":"",G.superbowl_week3&&o.jsx("button",{onClick:()=>Is("superbowl_week3"),title:"Return to auto-calculation",style:{padding:"2px 6px",fontSize:"0.65rem",background:"#e74c3c",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"},children:"Clear"})]}),o.jsx("input",{type:"number",min:"0",value:_n("superbowl_week3","conference"),onChange:h=>Tr("superbowl_week3",h.target.value),placeholder:"Auto",title:G.superbowl_week3?"Manually overridden - click Clear to return to auto":"Auto-calculated - click to override",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:G.superbowl_week3?"2px solid #e74c3c":"2px solid #27ae60",borderRadius:"4px",color:"#000",backgroundColor:G.superbowl_week3?"#ffe5e5":"#e8f8f5"}})]}):o.jsxs("div",{style:{marginBottom:"8px"},children:[o.jsxs("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:["Official ",G.superbowl_week3?"":""]}),o.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:_n("superbowl_week3","conference")||"-"})]}),"Week 3",o.jsx("br",{}),"Total"]}),o.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#d4edda",fontWeight:"bold",color:"#000"},children:[ce()?o.jsxs("div",{style:{marginBottom:"8px"},children:[o.jsxs("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"},children:["OFFICIAL ",G.superbowl_week2?"":"",G.superbowl_week2&&o.jsx("button",{onClick:()=>Is("superbowl_week2"),title:"Return to auto-calculation",style:{padding:"2px 6px",fontSize:"0.65rem",background:"#e74c3c",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"},children:"Clear"})]}),o.jsx("input",{type:"number",min:"0",value:_n("superbowl_week2","divisional"),onChange:h=>Tr("superbowl_week2",h.target.value),placeholder:"Auto",title:G.superbowl_week2?"Manually overridden - click Clear to return to auto":"Auto-calculated - click to override",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:G.superbowl_week2?"2px solid #e74c3c":"2px solid #27ae60",borderRadius:"4px",color:"#000",backgroundColor:G.superbowl_week2?"#ffe5e5":"#e8f8f5"}})]}):o.jsxs("div",{style:{marginBottom:"8px"},children:[o.jsxs("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:["Official ",G.superbowl_week2?"":""]}),o.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:_n("superbowl_week2","divisional")||"-"})]}),"Week 2",o.jsx("br",{}),"Total"]}),o.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#f8d7da",fontWeight:"bold",color:"#000"},children:[ce()?o.jsxs("div",{style:{marginBottom:"8px"},children:[o.jsxs("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"},children:["OFFICIAL ",G.superbowl_week1?"":"",G.superbowl_week1&&o.jsx("button",{onClick:()=>Is("superbowl_week1"),title:"Return to auto-calculation",style:{padding:"2px 6px",fontSize:"0.65rem",background:"#e74c3c",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"},children:"Clear"})]}),o.jsx("input",{type:"number",min:"0",value:_n("superbowl_week1","wildcard"),onChange:h=>Tr("superbowl_week1",h.target.value),placeholder:"Auto",title:G.superbowl_week1?"Manually overridden - click Clear to return to auto":"Auto-calculated - click to override",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:G.superbowl_week1?"2px solid #e74c3c":"2px solid #27ae60",borderRadius:"4px",color:"#000",backgroundColor:G.superbowl_week1?"#ffe5e5":"#e8f8f5"}})]}):o.jsxs("div",{style:{marginBottom:"8px"},children:[o.jsxs("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:["Official ",G.superbowl_week1?"":""]}),o.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:_n("superbowl_week1","wildcard")||"-"})]}),"Week 1",o.jsx("br",{}),"Total"]}),o.jsxs("th",{rowSpan:"2",className:"grand-total",children:[ce()?o.jsxs("div",{style:{marginBottom:"8px"},children:[o.jsxs("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"},children:[G.superbowl_grand?"":""," over",G.superbowl_grand&&o.jsx("button",{onClick:()=>Is("superbowl_grand"),title:"Return to auto-calculation",style:{padding:"2px 6px",fontSize:"0.65rem",background:"#e74c3c",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"},children:"Clear"})]}),o.jsx("input",{type:"number",min:"0",value:ih(),onChange:h=>Tr("superbowl_grand",h.target.value),placeholder:"Auto",title:G.superbowl_grand?"Manually overridden - click Clear to return to auto":"Auto-calculated - click to override",style:{width:"70px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:G.superbowl_grand?"3px solid #e74c3c":"3px solid #27ae60",borderRadius:"4px",backgroundColor:G.superbowl_grand?"#ffe5e5":"#e8f8f5",color:"#000"}})]}):o.jsxs("div",{style:{marginBottom:"8px"},children:[o.jsxs("div",{style:{fontSize:"0.7rem",color:"#fff",marginBottom:"2px"},children:[G.superbowl_grand?" ":" ","Official"]}),o.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"#fff"},children:ih()||"-"})]}),"GRAND",o.jsx("br",{}),"TOTAL"]})]}):o.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#f8f9fa",fontWeight:"bold",color:"#000"},children:[!C[c]&&(()=>{const h=Pe.games.reduce((m,g)=>{var I,T,O,B;const w=parseInt((T=(I=y[c])==null?void 0:I[g.id])==null?void 0:T.team1)||0,j=parseInt((B=(O=y[c])==null?void 0:O[g.id])==null?void 0:B.team2)||0;return m+w+j},0);return o.jsxs("div",{style:{fontSize:"1.05rem",color:"#131515ff",marginBottom:"6px",fontWeight:"700"},children:["Actual Total: ",h>0?h:"-"]})})(),ce()?o.jsx("div",{style:{marginBottom:"8px"},children:o.jsx("input",{type:"number",min:"0",value:C[c]||"",onChange:h=>Tr(c,h.target.value),placeholder:"override",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"0.9rem",fontWeight:"bold",border:"2px solid #f39c12",borderRadius:"4px",color:"#000"}})}):null,C[c]&&o.jsxs("div",{style:{marginBottom:"8px"},children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:"Official"}),o.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:C[c]})]}),"Official",o.jsx("br",{}),"Total"]}),o.jsx("th",{rowSpan:"2",children:"Submitted"})]}),o.jsx("tr",{style:{background:"#ffffff",borderTop:"3px solid #4caf50",borderBottom:"3px solid #4caf50"},children:Pe.games.map(h=>{var m,g,w,j,I,T,O,B,V,Y,ee;return o.jsxs(Ja.Fragment,{children:[o.jsx("th",{style:{padding:"8px 4px",background:"#ffffff",borderLeft:"1px solid #ddd"},children:ce()?o.jsxs("div",{children:[o.jsx("input",{type:"number",min:"0",max:"99",value:((g=(m=y[c])==null?void 0:m[h.id])==null?void 0:g.team1)||"",onChange:te=>nh(h.id,"team1",te.target.value),placeholder:"-",style:{width:"50px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #4caf50",borderRadius:"4px",color:"#000",background:"#f0fff0"}}),o.jsx("div",{style:{fontSize:"0.75rem",marginTop:"3px",color:"#000",fontWeight:"700"},children:"ACTUAL"})]}):o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#000"},children:((j=(w=y[c])==null?void 0:w[h.id])==null?void 0:j.team1)||"-"}),o.jsx("div",{style:{fontSize:"0.75rem",color:"#000",fontWeight:"700"},children:"ACTUAL"})]})}),o.jsx("th",{style:{padding:"8px 4px",background:"#ffffff",borderRight:"1px solid #ddd"},children:ce()?o.jsxs("div",{children:[o.jsx("input",{type:"number",min:"0",max:"99",value:((T=(I=y[c])==null?void 0:I[h.id])==null?void 0:T.team2)||"",onChange:te=>nh(h.id,"team2",te.target.value),placeholder:"-",style:{width:"50px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #4caf50",borderRadius:"4px",color:"#000",background:"#f0fff0"}}),o.jsx("div",{style:{fontSize:"0.75rem",marginTop:"3px",color:"#000",fontWeight:"700"},children:"ACTUAL"}),o.jsxs("select",{value:((O=v[c])==null?void 0:O[h.id])||"",onChange:te=>j0(h.id,te.target.value),style:{width:"60px",padding:"2px",fontSize:"0.7rem",marginTop:"4px",borderRadius:"3px",border:"1px solid #999"},children:[o.jsx("option",{value:"",children:"--"}),o.jsx("option",{value:"live",children:" LIVE"}),o.jsx("option",{value:"final",children:" FINAL"})]})]}):o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#000"},children:((V=(B=y[c])==null?void 0:B[h.id])==null?void 0:V.team2)||"-"}),o.jsx("div",{style:{fontSize:"0.75rem",color:"#000",fontWeight:"700"},children:"ACTUAL"}),((Y=v[c])==null?void 0:Y[h.id])==="final"&&o.jsx("div",{style:{display:"inline-block",padding:"2px 6px",background:"#4caf50",color:"white",borderRadius:"3px",fontSize:"0.65rem",fontWeight:"bold",marginTop:"4px"},children:" FINAL"}),((ee=v[c])==null?void 0:ee[h.id])==="live"&&o.jsx("div",{style:{display:"inline-block",padding:"2px 6px",background:"#ff9800",color:"white",borderRadius:"3px",fontSize:"0.65rem",fontWeight:"bold",marginTop:"4px"},children:" LIVE"})]})})]},`actual-${h.id}`)})})]}),o.jsx("tbody",{children:(()=>{if(c==="superbowl"){const m=new Map;return p.forEach(g=>{if(!m.has(g.playerCode)){const w=p.find(j=>j.playerCode===g.playerCode&&j.week==="superbowl");m.set(g.playerCode,w||{playerName:g.playerName,playerCode:g.playerCode,week:"superbowl",predictions:{},timestamp:g.timestamp,lastUpdated:g.lastUpdated||g.timestamp})}}),ro.forEach(g=>{g.showInPicksTable===!0&&!m.has(g.playerCode)&&m.set(g.playerCode,{playerName:g.playerName,playerCode:g.playerCode,week:"superbowl",predictions:{},timestamp:Date.now(),lastUpdated:Date.now()})}),Array.from(m.values())}else{const m=p.filter(w=>w.week===c),g=new Set(m.map(w=>w.playerCode));return ro.forEach(w=>{w.showInPicksTable===!0&&!g.has(w.playerCode)&&m.push({playerName:w.playerName,playerCode:w.playerCode,week:c,predictions:{},timestamp:Date.now(),lastUpdated:Date.now()})}),m}})().sort((m,g)=>(g.lastUpdated||g.timestamp)-(m.lastUpdated||m.timestamp)).map((m,g)=>{var j;const w=I=>{var ae;const T=(ae=y[c])==null?void 0:ae[I],O=m.predictions[I];if(!T||!O)return!1;const B=parseInt(T.team1),V=parseInt(T.team2),Y=parseInt(O.team1),ee=parseInt(O.team2);if(isNaN(B)||isNaN(V))return!1;const te=B>V?"team1":V>B?"team2":"tie",re=Y>ee?"team1":ee>Y?"team2":"tie";return te===re&&te!=="tie"};return o.jsxs("tr",{children:[o.jsx("td",{className:"player-name",children:m.playerName}),o.jsx("td",{children:(()=>{const I=ro.find(T=>T.playerCode===m.playerCode);return I?I.paymentStatus==="PAID"?o.jsx("span",{className:"status-badge paid",children:" PAID"}):o.jsx("span",{className:"status-badge unpaid",children:" UNPAID"}):o.jsx("span",{className:"status-badge unpaid",children:" UNPAID"})})()}),Pe.games.map(I=>{var ee,te,re,ae;const T=m.predictions[I.id],O=(ee=y[c])==null?void 0:ee[I.id],B=(te=v[c])==null?void 0:te[I.id],V=qu(T==null?void 0:T.team1,T==null?void 0:T.team2,O==null?void 0:O.team1,O==null?void 0:O.team2,B,!0),Y=qu(T==null?void 0:T.team1,T==null?void 0:T.team2,O==null?void 0:O.team1,O==null?void 0:O.team2,B,!1);return o.jsxs(Ja.Fragment,{children:[o.jsx("td",{className:"score",style:{background:V.background,color:V.color,fontWeight:V.background!=="transparent"?"bold":"normal"},children:((re=m.predictions[I.id])==null?void 0:re.team1)||"-"}),o.jsx("td",{className:"score",style:{background:Y.background,color:Y.color,fontWeight:Y.background!=="transparent"?"bold":"normal"},children:((ae=m.predictions[I.id])==null?void 0:ae.team2)||"-"})]},`${g}-${I.id}`)}),(()=>{let I=0;return Pe.games.forEach(T=>{w(T.id)&&I++}),o.jsx("td",{style:{backgroundColor:"#f1f8f4",fontWeight:"bold",fontSize:"1rem",color:I>0?"#2e7d32":"#999",textAlign:"center",padding:"8px 4px"},children:I})})(),c==="superbowl"?o.jsx(o.Fragment,{children:(()=>{const I=io(m.playerCode,"superbowl"),T=io(m.playerCode,"conference"),O=io(m.playerCode,"divisional"),B=io(m.playerCode,"wildcard"),V=L0(m.playerCode);return o.jsxs(o.Fragment,{children:[o.jsx("td",{style:{backgroundColor:"#fff3cd",fontWeight:"bold",fontSize:I.fontSize},title:I.tooltip,children:o.jsx("span",{style:{color:"#000"},children:I.display})}),o.jsx("td",{style:{backgroundColor:"#d1ecf1",fontWeight:"bold",fontSize:T.fontSize},title:T.tooltip,children:o.jsx("span",{style:{color:"#000"},children:T.display})}),o.jsx("td",{style:{backgroundColor:"#d4edda",fontWeight:"bold",fontSize:O.fontSize},title:O.tooltip,children:o.jsx("span",{style:{color:"#000"},children:O.display})}),o.jsx("td",{style:{backgroundColor:"#f8d7da",fontWeight:"bold",fontSize:B.fontSize},title:B.tooltip,children:o.jsx("span",{style:{color:"#000"},children:B.display})}),o.jsx("td",{className:"grand-total",style:{fontSize:V.fontSize},title:V.tooltip,children:V.display})]})})()}):o.jsx("td",{style:{backgroundColor:"#f8f9fa",fontWeight:"bold",fontSize:"16px"},children:o.jsx("span",{style:{color:"#000"},children:((j=U0[m.playerName])==null?void 0:j.current)||0})}),o.jsx("td",{className:"timestamp",children:new Date(m.lastUpdated||m.timestamp).toLocaleString("en-US",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})})]},g)})})]})}),l&&o.jsxs(o.Fragment,{children:[c==="superbowl"&&o.jsxs("div",{style:{marginTop:"40px",marginBottom:"40px",padding:"30px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"12px",border:"3px solid #5a67d8",boxShadow:"0 8px 20px rgba(0,0,0,0.15)"},children:[o.jsx("h3",{style:{color:"#fff",marginBottom:"20px",fontSize:"1.4rem",display:"flex",alignItems:"center",gap:"10px"},children:" Format Guide - How to Read the Totals"}),o.jsxs("div",{style:{background:"rgba(255,255,255,0.95)",padding:"25px",borderRadius:"10px",color:"#333"},children:[o.jsxs("div",{style:{marginBottom:"25px"},children:[o.jsx("p",{style:{fontWeight:"bold",color:"#5a67d8",marginBottom:"12px",fontSize:"1.1rem"},children:"Grand Total Format:"}),o.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0,lineHeight:"2.2"},children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Complete Entry:"})," ",o.jsx("code",{style:{background:"#f0f4f8",padding:"4px 10px",borderRadius:"5px",fontWeight:"bold",color:"#2d3748"},children:"784"})," - All 4 weeks entered"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"During Season:"})," ",o.jsx("code",{style:{background:"#f0f4f8",padding:"4px 10px",borderRadius:"5px",fontWeight:"bold",color:"#2d3748"},children:"784/598/35"})," - Full Pred / Played Weeks / Difference"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"After Season:"})," ",o.jsx("code",{style:{background:"#f0f4f8",padding:"4px 10px",borderRadius:"5px",fontWeight:"bold",color:"#2d3748"},children:"784/55"})," - Full Pred / Total Difference"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Abnormal Pattern:"})," ",o.jsx("code",{style:{background:"#fff3cd",padding:"4px 10px",borderRadius:"5px",fontWeight:"bold",color:"#856404",border:"2px solid #ffc107"},children:"P13/415"})," - P = Partial (weeks 1 & 3 only - unusual!)"]})]})]}),o.jsxs("div",{style:{marginBottom:"25px"},children:[o.jsx("p",{style:{fontWeight:"bold",color:"#5a67d8",marginBottom:"12px",fontSize:"1.1rem"},children:"Special Indicators:"}),o.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0,lineHeight:"2.2"},children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Asterisk (*):"})," ",o.jsx("code",{style:{background:"#f0f4f8",padding:"4px 10px",borderRadius:"5px",fontWeight:"bold",color:"#2d3748"},children:"234*"})," - Pick filled by RNG/Pool Manager"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"P Notation:"})," Shows which weeks entered when pattern is unusual (e.g., P13 = weeks 1 & 3, skipped 2)"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Dash (-):"})," Week not entered yet"]})]})]}),o.jsxs("div",{style:{marginBottom:"15px"},children:[o.jsx("p",{style:{fontWeight:"bold",color:"#5a67d8",marginBottom:"12px",fontSize:"1.1rem"},children:"Examples:"}),o.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0,lineHeight:"2.2"},children:[o.jsxs("li",{children:["Richard: ",o.jsx("code",{style:{background:"#f0f4f8",padding:"4px 10px",borderRadius:"5px",fontWeight:"bold"},children:"784"})," - Entered all 4 weeks normally"]}),o.jsxs("li",{children:["Neema: ",o.jsx("code",{style:{background:"#f0f4f8",padding:"4px 10px",borderRadius:"5px",fontWeight:"bold"},children:"533/287/22"})," - 2 weeks played so far, 22 points off"]}),o.jsxs("li",{children:["Bob: ",o.jsx("code",{style:{background:"#fff3cd",padding:"4px 10px",borderRadius:"5px",fontWeight:"bold",border:"2px solid #ffc107"},children:"P13/415"})," - Entered weeks 1 & 3 only (skipped 2) - unusual!"]}),o.jsxs("li",{children:["After RNG fills Bob's week 2: ",o.jsx("code",{style:{background:"#f0f4f8",padding:"4px 10px",borderRadius:"5px",fontWeight:"bold"},children:"649"})," - P notation drops (normalized)"]})]})]}),o.jsx("div",{style:{paddingTop:"20px",borderTop:"2px solid #cbd5e0",marginTop:"15px"},children:o.jsxs("p",{style:{color:"#4a5568",fontStyle:"italic",fontSize:"1rem",margin:0},children:[" ",o.jsx("strong",{children:"Tip:"})," Hover over any number for detailed breakdown! The P notation only appears for unusual entry patterns and disappears once normalized."]})})]})]}),o.jsx("div",{style:{marginTop:"60px"},children:o.jsx(TC,{allPicks:p,actualScores:y,games:be,officialWinners:eo,weekData:be})})]}),l&&ce()&&o.jsxs("div",{style:{marginTop:"40px",marginBottom:"40px"},children:[o.jsxs("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"25px",borderRadius:"12px",marginBottom:"30px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[o.jsxs("h2",{style:{margin:"0 0 15px 0",display:"flex",alignItems:"center",gap:"10px"},children:[o.jsx("span",{children:""}),o.jsx("span",{children:"PRIZE POOL MANAGEMENT"})]}),$e.totalFees>0?o.jsxs("div",{children:[o.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:"20px",borderRadius:"8px",marginBottom:"15px"},children:[o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"20px",marginBottom:"15px"},children:[o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"0.85rem",opacity:.9},children:"Total Pool Fees"}),o.jsxs("div",{style:{fontSize:"1.8rem",fontWeight:"bold"},children:["$",$e.totalFees.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"0.85rem",opacity:.9},children:"Number of Players"}),o.jsx("div",{style:{fontSize:"1.8rem",fontWeight:"bold"},children:$e.numberOfPlayers})]}),o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"0.85rem",opacity:.9},children:"Each Prize (10%)"}),o.jsxs("div",{style:{fontSize:"1.8rem",fontWeight:"bold"},children:["$",$e.prizeValue.toFixed(2)]})]})]}),o.jsxs("div",{style:{fontSize:"0.85rem",opacity:.8},children:["Entry Fee: $",$e.entryFee," per player"]})]}),o.jsx("button",{onClick:()=>to(!0),style:{padding:"10px 20px",background:"rgba(255,255,255,0.3)",color:"white",border:"2px solid white",borderRadius:"6px",cursor:"pointer",fontWeight:"600"},children:" Edit Prize Pool Setup"})]}):o.jsxs("div",{children:[o.jsx("p",{style:{marginBottom:"15px"},children:" Set up your prize pool to enable winner declarations."}),o.jsx("button",{onClick:()=>to(!0),style:{padding:"12px 24px",background:"white",color:"#667eea",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"700",fontSize:"1rem"},children:" Set Up Prize Pool"})]})]}),$e.totalFees>0&&o.jsxs("div",{style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"white",padding:"25px",borderRadius:"12px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[o.jsxs("h2",{style:{margin:"0 0 20px 0",display:"flex",alignItems:"center",gap:"10px"},children:[o.jsx("span",{children:""}),o.jsx("span",{children:"DECLARE PRIZE WINNERS"})]}),o.jsx("button",{onClick:()=>la(!0),style:{padding:"14px 28px",background:"white",color:"#f5576c",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"700",fontSize:"1.1rem",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:" Declare Winner(s) for a Prize"}),Object.keys(eo).length>0&&o.jsxs("div",{style:{marginTop:"25px"},children:[o.jsx("h3",{style:{marginBottom:"15px",fontSize:"1.1rem"},children:" Current Prize Winners:"}),o.jsx("div",{style:{background:"rgba(255,255,255,0.2)",padding:"15px",borderRadius:"8px",maxHeight:"400px",overflowY:"auto"},children:Object.entries(eo).sort((h,m)=>{const g=h[1].prizeNumber,w=m[1].prizeNumber;return g-w}).map(([h,m])=>o.jsxs("div",{style:{background:"rgba(255,255,255,0.9)",color:"#333",padding:"15px",borderRadius:"6px",marginBottom:"12px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"10px"},children:[o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:"bold",fontSize:"1rem",marginBottom:"5px"},children:m.prizeName}),o.jsxs("div",{style:{fontSize:"0.9rem",color:"#666"},children:["Prize Value: $",m.prizeValue.toFixed(2)]})]}),o.jsx("button",{onClick:()=>C0(m.prizeNumber),style:{padding:"6px 12px",background:"#e74c3c",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.85rem",fontWeight:"600"},children:" Delete"})]}),o.jsx("div",{style:{paddingLeft:"15px"},children:m.winners.map((g,w)=>o.jsxs("div",{style:{padding:"8px 0",borderBottom:w<m.winners.length-1?"1px solid #eee":"none"},children:[o.jsxs("span",{style:{fontWeight:"600"},children:[" ",g.playerName]}),o.jsxs("span",{style:{marginLeft:"15px",color:"#666"},children:[g.percentage.toFixed(2),"% = $",g.amount.toFixed(2)]})]},w))})]},h))})]})]})]}),i0&&o.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},children:o.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"30px",maxWidth:"600px",width:"100%",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 8px 32px rgba(0,0,0,0.3)"},children:[o.jsx("h2",{style:{marginTop:0,color:"#667eea"},children:" Prize Pool Setup"}),o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Total Pool Fees Collected:"}),o.jsx("input",{type:"number",id:"totalFees",defaultValue:$e.totalFees||"",placeholder:"1000",style:{width:"100%",padding:"12px",fontSize:"1.1rem",border:"2px solid #667eea",borderRadius:"6px"}}),o.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginTop:"5px"},children:"Total money collected from all players"})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Number of Players:"}),o.jsx("input",{type:"number",id:"numberOfPlayers",defaultValue:$e.numberOfPlayers||"",placeholder:"50",style:{width:"100%",padding:"12px",fontSize:"1.1rem",border:"2px solid #667eea",borderRadius:"6px"}}),o.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginTop:"5px"},children:"Total number of players in the pool"})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Entry Fee per Player:"}),o.jsx("input",{type:"number",id:"entryFee",defaultValue:$e.entryFee||20,placeholder:"20",style:{width:"100%",padding:"12px",fontSize:"1.1rem",border:"2px solid #667eea",borderRadius:"6px"}}),o.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginTop:"5px"},children:"Amount each player paid to enter ($20, $50, etc.)"})]}),o.jsxs("div",{style:{background:"#f0f8ff",padding:"15px",borderRadius:"8px",marginBottom:"20px"},children:[o.jsx("div",{style:{fontWeight:"600",marginBottom:"10px"},children:" Calculation Preview:"}),o.jsxs("div",{style:{fontSize:"0.9rem",lineHeight:"1.6"},children:["Each Prize = Total Pool  10",o.jsx("br",{}),o.jsx("span",{id:"prizePreview",style:{fontWeight:"bold",color:"#667eea"},children:"Example: $1,000  10 = $100 per prize"})]})]}),o.jsxs("div",{style:{display:"flex",gap:"10px"},children:[o.jsx("button",{onClick:()=>to(!1),style:{flex:"1",padding:"14px",background:"#95a5a6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Cancel"}),o.jsx("button",{onClick:()=>{const h=document.getElementById("totalFees").value,m=document.getElementById("numberOfPlayers").value,g=document.getElementById("entryFee").value;if(!h||h<=0){alert(" Please enter a valid total pool amount.");return}k0(h,m,g)},style:{flex:"1",padding:"14px",background:"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Save Prize Pool"})]})]})}),o0&&o.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},children:o.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"30px",maxWidth:"700px",width:"100%",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 8px 32px rgba(0,0,0,0.3)"},children:[o.jsx("h2",{style:{marginTop:0,color:"#f5576c"},children:" Declare Prize Winner(s)"}),o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Select Prize:"}),o.jsxs("select",{value:Ot,onChange:h=>sa(h.target.value),style:{width:"100%",padding:"12px",fontSize:"1rem",border:"2px solid #f5576c",borderRadius:"6px"},children:[o.jsx("option",{value:"",children:"-- Select Prize --"}),[1,2,3,4,5,6,7,8,9,10].map(h=>o.jsx("option",{value:h,children:Ts(h)},h))]}),Ot&&o.jsxs("div",{style:{marginTop:"8px",fontSize:"0.9rem",color:"#666"},children:["Prize Value: $",$e.prizeValue.toFixed(2)," (10% of pool)"]})]}),Ot&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Number of Winners (Tie?):"}),o.jsx("input",{type:"number",min:"1",max:"10",value:Nr,onChange:h=>{const m=parseInt(h.target.value)||1;ia(m),no(Array(m).fill(null).map(()=>({name:"",code:""})));const g=so($e.prizeValue,m);Ss(g)},style:{width:"100%",padding:"12px",fontSize:"1rem",border:"2px solid #f5576c",borderRadius:"6px"}}),o.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginTop:"5px"},children:"How many players are tied? (1 = single winner, 2+ = tie)"})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsx("label",{style:{display:"block",marginBottom:"12px",fontWeight:"600"},children:"Select Winner(s):"}),Array(Nr).fill(0).map((h,m)=>{var w,j,I;const g=vn?null:so($e.prizeValue,Nr)[m];return o.jsxs("div",{style:{background:"#f8f9fa",padding:"15px",borderRadius:"8px",marginBottom:"12px"},children:[o.jsxs("div",{style:{marginBottom:"10px",fontWeight:"600"},children:["Winner ",m+1,":"]}),o.jsxs("select",{value:((w=Et[m])==null?void 0:w.code)||"",onChange:T=>{const O=Object.entries(Se).find(([V])=>V===T.target.value),B=[...Et];B[m]={code:T.target.value,name:O?O[1]:""},no(B)},style:{width:"100%",padding:"10px",fontSize:"1rem",border:"1px solid #ddd",borderRadius:"6px",marginBottom:"8px"},children:[o.jsx("option",{value:"",children:"-- Select Player --"}),Object.entries(Se).sort((T,O)=>T[1].localeCompare(O[1])).map(([T,O])=>o.jsx("option",{value:T,children:O},T))]}),!vn&&g&&o.jsxs("div",{style:{fontSize:"0.9rem",color:"#666"},children:["Share: ",g.percentage.toFixed(2),"% = $",g.amount.toFixed(2),m===Nr-1&&Nr>1&&o.jsx("span",{style:{marginLeft:"10px",fontSize:"0.85rem",color:"#f5576c"},children:"(includes extra penny)"})]}),vn&&o.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"8px"},children:[o.jsx("input",{type:"number",placeholder:"%",step:"0.01",value:((j=Kt[m])==null?void 0:j.percentage)||"",onChange:T=>{const O=[...Kt],B=parseFloat(T.target.value)||0;O[m]={...O[m],percentage:B,amount:$e.prizeValue*B/100},Ss(O)},style:{flex:"1",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"}}),o.jsx("input",{type:"number",placeholder:"$",step:"0.01",value:((I=Kt[m])==null?void 0:I.amount)||"",onChange:T=>{const O=[...Kt],B=parseFloat(T.target.value)||0;O[m]={...O[m],amount:B,percentage:B/$e.prizeValue*100},Ss(O)},style:{flex:"1",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"}})]})]},m)})]}),o.jsx("div",{style:{marginBottom:"20px"},children:o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:vn,onChange:h=>oa(h.target.checked),style:{width:"18px",height:"18px"}}),o.jsx("span",{style:{fontWeight:"600"},children:"Use custom percentages/amounts (manual override)"})]})}),o.jsxs("div",{style:{background:"#fff3cd",border:"2px solid #ffc107",padding:"15px",borderRadius:"8px",marginBottom:"20px",color:"#000"},children:[o.jsx("div",{style:{fontWeight:"700",marginBottom:"10px",color:"#000",fontSize:"1.05rem"},children:" Summary:"}),Et.every(h=>h.name)?o.jsxs("div",{style:{color:"#000"},children:[Et.map((h,m)=>{const g=vn?Kt[m]:so($e.prizeValue,Nr)[m];return o.jsxs("div",{style:{marginBottom:"5px",color:"#000",fontWeight:"600"},children:[" ",h.name,": ",g==null?void 0:g.percentage.toFixed(2),"% = $",g==null?void 0:g.amount.toFixed(2)]},m)}),o.jsxs("div",{style:{marginTop:"10px",paddingTop:"10px",borderTop:"2px solid #856404",fontWeight:"700",color:"#000"},children:["Total: ",vn?Kt.reduce((h,m)=>h+(m.percentage||0),0).toFixed(2):"100.00","% = $",vn?Kt.reduce((h,m)=>h+(m.amount||0),0).toFixed(2):$e.prizeValue.toFixed(2)]})]}):o.jsx("div",{style:{color:"#856404",fontWeight:"600"},children:"Select all winners to see summary"})]})]}),o.jsxs("div",{style:{display:"flex",gap:"10px"},children:[o.jsx("button",{onClick:()=>{la(!1),sa(""),ia(1),no([]),oa(!1),Ss([])},style:{flex:"1",padding:"14px",background:"#95a5a6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Cancel"}),o.jsx("button",{onClick:S0,disabled:!Ot||!Et.every(h=>h.name),style:{flex:"1",padding:"14px",background:Ot&&Et.every(h=>h.name)?"#f5576c":"#ccc",color:"white",border:"none",borderRadius:"6px",cursor:Ot&&Et.every(h=>h.name)?"pointer":"not-allowed",fontSize:"1rem",fontWeight:"700"},children:" Declare Winner(s)"})]})]})}),Zn==="unsavedChanges"&&o.jsx(wC,{currentWeek:be[c].name,onDiscard:()=>{d(Zi),oo(Zi),Ze(null)},onSaveAndSwitch:async()=>{await ah(new Event("submit")),setTimeout(()=>{d(Zi),oo(Zi),Ze(null),ra(null)},100)},onCancel:()=>{ra(null),Ze(null)}}),Zn==="discardChanges"&&o.jsx(kC,{onKeepEditing:()=>Ze(null),onDiscard:()=>{u({...aa}),_t(!1),Ze(null)}}),Zn==="incomplete"&&o.jsx(SC,{missingGames:Hu,totalGames:Pe.games.length,onClose:()=>Ze(null)}),Zn==="invalidScores"&&o.jsx(CC,{invalidScores:n0,onClose:()=>Ze(null)}),Zn==="success"&&o.jsx(bC,{weekName:Pe.name,deadline:Pe.deadline,onClose:()=>Ze(null)}),Zn==="noChanges"&&o.jsx(NC,{onClose:()=>Ze(null)}),Zn==="tiedGames"&&o.jsx(EC,{tiedGames:Hu,gameData:Pe.games,onClose:()=>Ze(null)})]})]})]}),o.jsxs("footer",{children:[o.jsx("p",{children:"Richard's NFL Playoff Pool 2025 | Good luck! "}),o.jsx("p",{style:{fontSize:"0.85rem",marginTop:"5px"},children:"Questions? Contact: gammoneer2b@gmail.com"})]})]})}Za.createRoot(document.getElementById("root")).render(o.jsx(Ja.StrictMode,{children:o.jsx(GC,{})}));
