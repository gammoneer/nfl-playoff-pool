(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function ey(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var nh={exports:{}},$o={},rh={exports:{}},K={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ai=Symbol.for("react.element"),ty=Symbol.for("react.portal"),ny=Symbol.for("react.fragment"),ry=Symbol.for("react.strict_mode"),sy=Symbol.for("react.profiler"),iy=Symbol.for("react.provider"),oy=Symbol.for("react.context"),ly=Symbol.for("react.forward_ref"),ay=Symbol.for("react.suspense"),uy=Symbol.for("react.memo"),cy=Symbol.for("react.lazy"),ed=Symbol.iterator;function dy(t){return t===null||typeof t!="object"?null:(t=ed&&t[ed]||t["@@iterator"],typeof t=="function"?t:null)}var sh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ih=Object.assign,oh={};function Qr(t,e,n){this.props=t,this.context=e,this.refs=oh,this.updater=n||sh}Qr.prototype.isReactComponent={};Qr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Qr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function lh(){}lh.prototype=Qr.prototype;function yu(t,e,n){this.props=t,this.context=e,this.refs=oh,this.updater=n||sh}var _u=yu.prototype=new lh;_u.constructor=yu;ih(_u,Qr.prototype);_u.isPureReactComponent=!0;var td=Array.isArray,ah=Object.prototype.hasOwnProperty,vu={current:null},uh={key:!0,ref:!0,__self:!0,__source:!0};function ch(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)ah.call(e,r)&&!uh.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),c=0;c<l;c++)a[c]=arguments[c+2];s.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:ai,type:t,key:i,ref:o,props:s,_owner:vu.current}}function fy(t,e){return{$$typeof:ai,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function wu(t){return typeof t=="object"&&t!==null&&t.$$typeof===ai}function hy(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var nd=/\/+/g;function wl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?hy(""+t.key):e.toString(36)}function Bi(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ai:case ty:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+wl(o,0):r,td(s)?(n="",t!=null&&(n=t.replace(nd,"$&/")+"/"),Bi(s,e,n,"",function(c){return c})):s!=null&&(wu(s)&&(s=fy(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(nd,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",td(t))for(var l=0;l<t.length;l++){i=t[l];var a=r+wl(i,l);o+=Bi(i,e,n,a,s)}else if(a=dy(t),typeof a=="function")for(t=a.call(t),l=0;!(i=t.next()).done;)i=i.value,a=r+wl(i,l++),o+=Bi(i,e,n,a,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Si(t,e,n){if(t==null)return t;var r=[],s=0;return Bi(t,r,"","",function(i){return e.call(n,i,s++)}),r}function py(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qe={current:null},$i={transition:null},my={ReactCurrentDispatcher:qe,ReactCurrentBatchConfig:$i,ReactCurrentOwner:vu};function dh(){throw Error("act(...) is not supported in production builds of React.")}K.Children={map:Si,forEach:function(t,e,n){Si(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Si(t,function(){e++}),e},toArray:function(t){return Si(t,function(e){return e})||[]},only:function(t){if(!wu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};K.Component=Qr;K.Fragment=ny;K.Profiler=sy;K.PureComponent=yu;K.StrictMode=ry;K.Suspense=ay;K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=my;K.act=dh;K.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ih({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=vu.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)ah.call(e,a)&&!uh.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:ai,type:t.type,key:s,ref:i,props:r,_owner:o}};K.createContext=function(t){return t={$$typeof:oy,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:iy,_context:t},t.Consumer=t};K.createElement=ch;K.createFactory=function(t){var e=ch.bind(null,t);return e.type=t,e};K.createRef=function(){return{current:null}};K.forwardRef=function(t){return{$$typeof:ly,render:t}};K.isValidElement=wu;K.lazy=function(t){return{$$typeof:cy,_payload:{_status:-1,_result:t},_init:py}};K.memo=function(t,e){return{$$typeof:uy,type:t,compare:e===void 0?null:e}};K.startTransition=function(t){var e=$i.transition;$i.transition={};try{t()}finally{$i.transition=e}};K.unstable_act=dh;K.useCallback=function(t,e){return qe.current.useCallback(t,e)};K.useContext=function(t){return qe.current.useContext(t)};K.useDebugValue=function(){};K.useDeferredValue=function(t){return qe.current.useDeferredValue(t)};K.useEffect=function(t,e){return qe.current.useEffect(t,e)};K.useId=function(){return qe.current.useId()};K.useImperativeHandle=function(t,e,n){return qe.current.useImperativeHandle(t,e,n)};K.useInsertionEffect=function(t,e){return qe.current.useInsertionEffect(t,e)};K.useLayoutEffect=function(t,e){return qe.current.useLayoutEffect(t,e)};K.useMemo=function(t,e){return qe.current.useMemo(t,e)};K.useReducer=function(t,e,n){return qe.current.useReducer(t,e,n)};K.useRef=function(t){return qe.current.useRef(t)};K.useState=function(t){return qe.current.useState(t)};K.useSyncExternalStore=function(t,e,n){return qe.current.useSyncExternalStore(t,e,n)};K.useTransition=function(){return qe.current.useTransition()};K.version="18.3.1";rh.exports=K;var W=rh.exports;const ra=ey(W);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy=W,yy=Symbol.for("react.element"),_y=Symbol.for("react.fragment"),vy=Object.prototype.hasOwnProperty,wy=gy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Cy={key:!0,ref:!0,__self:!0,__source:!0};function fh(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)vy.call(e,r)&&!Cy.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:yy,type:t,key:i,ref:o,props:s,_owner:wy.current}}$o.Fragment=_y;$o.jsx=fh;$o.jsxs=fh;nh.exports=$o;var u=nh.exports,sa={},hh={exports:{}},ut={},ph={exports:{}},mh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,M){var $=D.length;D.push(M);e:for(;0<$;){var le=$-1>>>1,ve=D[le];if(0<s(ve,M))D[le]=M,D[$]=ve,$=le;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var M=D[0],$=D.pop();if($!==M){D[0]=$;e:for(var le=0,ve=D.length,Mn=ve>>>1;le<Mn;){var Ut=2*(le+1)-1,ts=D[Ut],ft=Ut+1,rn=D[ft];if(0>s(ts,$))ft<ve&&0>s(rn,ts)?(D[le]=rn,D[ft]=$,le=ft):(D[le]=ts,D[Ut]=$,le=Ut);else if(ft<ve&&0>s(rn,$))D[le]=rn,D[ft]=$,le=ft;else break e}}return M}function s(D,M){var $=D.sortIndex-M.sortIndex;return $!==0?$:D.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],c=[],h=1,f=null,d=3,y=!1,v=!1,S=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(D){for(var M=n(c);M!==null;){if(M.callback===null)r(c);else if(M.startTime<=D)r(c),M.sortIndex=M.expirationTime,e(a,M);else break;M=n(c)}}function E(D){if(S=!1,_(D),!v)if(n(a)!==null)v=!0,Dt(N);else{var M=n(c);M!==null&&dt(E,M.startTime-D)}}function N(D,M){v=!1,S&&(S=!1,m(A),A=-1),y=!0;var $=d;try{for(_(M),f=n(a);f!==null&&(!(f.expirationTime>M)||D&&!Ue());){var le=f.callback;if(typeof le=="function"){f.callback=null,d=f.priorityLevel;var ve=le(f.expirationTime<=M);M=t.unstable_now(),typeof ve=="function"?f.callback=ve:f===n(a)&&r(a),_(M)}else r(a);f=n(a)}if(f!==null)var Mn=!0;else{var Ut=n(c);Ut!==null&&dt(E,Ut.startTime-M),Mn=!1}return Mn}finally{f=null,d=$,y=!1}}var k=!1,P=null,A=-1,J=5,B=-1;function Ue(){return!(t.unstable_now()-B<J)}function zt(){if(P!==null){var D=t.unstable_now();B=D;var M=!0;try{M=P(!0,D)}finally{M?At():(k=!1,P=null)}}else k=!1}var At;if(typeof p=="function")At=function(){p(zt)};else if(typeof MessageChannel<"u"){var lr=new MessageChannel,ar=lr.port2;lr.port1.onmessage=zt,At=function(){ar.postMessage(null)}}else At=function(){w(zt,0)};function Dt(D){P=D,k||(k=!0,At())}function dt(D,M){A=w(function(){D(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){v||y||(v=!0,Dt(N))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(D){switch(d){case 1:case 2:case 3:var M=3;break;default:M=d}var $=d;d=M;try{return D()}finally{d=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,M){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var $=d;d=D;try{return M()}finally{d=$}},t.unstable_scheduleCallback=function(D,M,$){var le=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?le+$:le):$=le,D){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=$+ve,D={id:h++,callback:M,priorityLevel:D,startTime:$,expirationTime:ve,sortIndex:-1},$>le?(D.sortIndex=$,e(c,D),n(a)===null&&D===n(c)&&(S?(m(A),A=-1):S=!0,dt(E,$-le))):(D.sortIndex=ve,e(a,D),v||y||(v=!0,Dt(N))),D},t.unstable_shouldYield=Ue,t.unstable_wrapCallback=function(D){var M=d;return function(){var $=d;d=M;try{return D.apply(this,arguments)}finally{d=$}}}})(mh);ph.exports=mh;var Sy=ph.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey=W,at=Sy;function T(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gh=new Set,js={};function nr(t,e){Lr(t,e),Lr(t+"Capture",e)}function Lr(t,e){for(js[t]=e,t=0;t<e.length;t++)gh.add(e[t])}var Kt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ia=Object.prototype.hasOwnProperty,xy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rd={},sd={};function ky(t){return ia.call(sd,t)?!0:ia.call(rd,t)?!1:xy.test(t)?sd[t]=!0:(rd[t]=!0,!1)}function Ny(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Ty(t,e,n,r){if(e===null||typeof e>"u"||Ny(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xe(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var We={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){We[t]=new Xe(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];We[e]=new Xe(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){We[t]=new Xe(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){We[t]=new Xe(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){We[t]=new Xe(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){We[t]=new Xe(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){We[t]=new Xe(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){We[t]=new Xe(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){We[t]=new Xe(t,5,!1,t.toLowerCase(),null,!1,!1)});var Cu=/[\-:]([a-z])/g;function Su(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Cu,Su);We[e]=new Xe(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Cu,Su);We[e]=new Xe(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Cu,Su);We[e]=new Xe(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){We[t]=new Xe(t,1,!1,t.toLowerCase(),null,!1,!1)});We.xlinkHref=new Xe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){We[t]=new Xe(t,1,!1,t.toLowerCase(),null,!0,!0)});function Eu(t,e,n,r){var s=We.hasOwnProperty(e)?We[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Ty(e,n,s,r)&&(n=null),r||s===null?ky(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var tn=Ey.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ei=Symbol.for("react.element"),hr=Symbol.for("react.portal"),pr=Symbol.for("react.fragment"),xu=Symbol.for("react.strict_mode"),oa=Symbol.for("react.profiler"),yh=Symbol.for("react.provider"),_h=Symbol.for("react.context"),ku=Symbol.for("react.forward_ref"),la=Symbol.for("react.suspense"),aa=Symbol.for("react.suspense_list"),Nu=Symbol.for("react.memo"),cn=Symbol.for("react.lazy"),vh=Symbol.for("react.offscreen"),id=Symbol.iterator;function rs(t){return t===null||typeof t!="object"?null:(t=id&&t[id]||t["@@iterator"],typeof t=="function"?t:null)}var he=Object.assign,Cl;function ms(t){if(Cl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Cl=e&&e[1]||""}return`
`+Cl+t}var Sl=!1;function El(t,e){if(!t||Sl)return"";Sl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{Sl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ms(t):""}function Iy(t){switch(t.tag){case 5:return ms(t.type);case 16:return ms("Lazy");case 13:return ms("Suspense");case 19:return ms("SuspenseList");case 0:case 2:case 15:return t=El(t.type,!1),t;case 11:return t=El(t.type.render,!1),t;case 1:return t=El(t.type,!0),t;default:return""}}function ua(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case pr:return"Fragment";case hr:return"Portal";case oa:return"Profiler";case xu:return"StrictMode";case la:return"Suspense";case aa:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case _h:return(t.displayName||"Context")+".Consumer";case yh:return(t._context.displayName||"Context")+".Provider";case ku:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Nu:return e=t.displayName||null,e!==null?e:ua(t.type)||"Memo";case cn:e=t._payload,t=t._init;try{return ua(t(e))}catch{}}return null}function Py(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ua(e);case 8:return e===xu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Pn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function wh(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ry(t){var e=wh(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xi(t){t._valueTracker||(t._valueTracker=Ry(t))}function Ch(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=wh(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function to(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ca(t,e){var n=e.checked;return he({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function od(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Pn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Sh(t,e){e=e.checked,e!=null&&Eu(t,"checked",e,!1)}function da(t,e){Sh(t,e);var n=Pn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?fa(t,e.type,n):e.hasOwnProperty("defaultValue")&&fa(t,e.type,Pn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ld(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function fa(t,e,n){(e!=="number"||to(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var gs=Array.isArray;function Nr(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Pn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ha(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(T(91));return he({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ad(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(T(92));if(gs(n)){if(1<n.length)throw Error(T(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Pn(n)}}function Eh(t,e){var n=Pn(e.value),r=Pn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ud(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function xh(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pa(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?xh(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ki,kh=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ki=ki||document.createElement("div"),ki.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ki.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Os(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var vs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ay=["Webkit","ms","Moz","O"];Object.keys(vs).forEach(function(t){Ay.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),vs[e]=vs[t]})});function Nh(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||vs.hasOwnProperty(t)&&vs[t]?(""+e).trim():e+"px"}function Th(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Nh(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Dy=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ma(t,e){if(e){if(Dy[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(T(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(T(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(T(61))}if(e.style!=null&&typeof e.style!="object")throw Error(T(62))}}function ga(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ya=null;function Tu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _a=null,Tr=null,Ir=null;function cd(t){if(t=di(t)){if(typeof _a!="function")throw Error(T(280));var e=t.stateNode;e&&(e=Qo(e),_a(t.stateNode,t.type,e))}}function Ih(t){Tr?Ir?Ir.push(t):Ir=[t]:Tr=t}function Ph(){if(Tr){var t=Tr,e=Ir;if(Ir=Tr=null,cd(t),e)for(t=0;t<e.length;t++)cd(e[t])}}function Rh(t,e){return t(e)}function Ah(){}var xl=!1;function Dh(t,e,n){if(xl)return t(e,n);xl=!0;try{return Rh(t,e,n)}finally{xl=!1,(Tr!==null||Ir!==null)&&(Ah(),Ph())}}function Ls(t,e){var n=t.stateNode;if(n===null)return null;var r=Qo(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(T(231,e,typeof n));return n}var va=!1;if(Kt)try{var ss={};Object.defineProperty(ss,"passive",{get:function(){va=!0}}),window.addEventListener("test",ss,ss),window.removeEventListener("test",ss,ss)}catch{va=!1}function jy(t,e,n,r,s,i,o,l,a){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var ws=!1,no=null,ro=!1,wa=null,Oy={onError:function(t){ws=!0,no=t}};function Ly(t,e,n,r,s,i,o,l,a){ws=!1,no=null,jy.apply(Oy,arguments)}function by(t,e,n,r,s,i,o,l,a){if(Ly.apply(this,arguments),ws){if(ws){var c=no;ws=!1,no=null}else throw Error(T(198));ro||(ro=!0,wa=c)}}function rr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function jh(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function dd(t){if(rr(t)!==t)throw Error(T(188))}function My(t){var e=t.alternate;if(!e){if(e=rr(t),e===null)throw Error(T(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return dd(s),t;if(i===r)return dd(s),e;i=i.sibling}throw Error(T(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(T(189))}}if(n.alternate!==r)throw Error(T(190))}if(n.tag!==3)throw Error(T(188));return n.stateNode.current===n?t:e}function Oh(t){return t=My(t),t!==null?Lh(t):null}function Lh(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Lh(t);if(e!==null)return e;t=t.sibling}return null}var bh=at.unstable_scheduleCallback,fd=at.unstable_cancelCallback,Fy=at.unstable_shouldYield,Wy=at.unstable_requestPaint,Ce=at.unstable_now,zy=at.unstable_getCurrentPriorityLevel,Iu=at.unstable_ImmediatePriority,Mh=at.unstable_UserBlockingPriority,so=at.unstable_NormalPriority,Uy=at.unstable_LowPriority,Fh=at.unstable_IdlePriority,Vo=null,Mt=null;function By(t){if(Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(Vo,t,void 0,(t.current.flags&128)===128)}catch{}}var Tt=Math.clz32?Math.clz32:Hy,$y=Math.log,Vy=Math.LN2;function Hy(t){return t>>>=0,t===0?32:31-($y(t)/Vy|0)|0}var Ni=64,Ti=4194304;function ys(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function io(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=ys(l):(i&=o,i!==0&&(r=ys(i)))}else o=n&~s,o!==0?r=ys(o):i!==0&&(r=ys(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Tt(e),s=1<<n,r|=t[n],e&=~s;return r}function Gy(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yy(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Tt(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=Gy(l,e)):a<=e&&(t.expiredLanes|=l),i&=~l}}function Ca(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Wh(){var t=Ni;return Ni<<=1,!(Ni&4194240)&&(Ni=64),t}function kl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ui(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Tt(e),t[e]=n}function Qy(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Tt(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Pu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Tt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var te=0;function zh(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Uh,Ru,Bh,$h,Vh,Sa=!1,Ii=[],yn=null,_n=null,vn=null,bs=new Map,Ms=new Map,fn=[],Ky="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hd(t,e){switch(t){case"focusin":case"focusout":yn=null;break;case"dragenter":case"dragleave":_n=null;break;case"mouseover":case"mouseout":vn=null;break;case"pointerover":case"pointerout":bs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ms.delete(e.pointerId)}}function is(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=di(e),e!==null&&Ru(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function qy(t,e,n,r,s){switch(e){case"focusin":return yn=is(yn,t,e,n,r,s),!0;case"dragenter":return _n=is(_n,t,e,n,r,s),!0;case"mouseover":return vn=is(vn,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return bs.set(i,is(bs.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ms.set(i,is(Ms.get(i)||null,t,e,n,r,s)),!0}return!1}function Hh(t){var e=Bn(t.target);if(e!==null){var n=rr(e);if(n!==null){if(e=n.tag,e===13){if(e=jh(n),e!==null){t.blockedOn=e,Vh(t.priority,function(){Bh(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vi(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ea(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ya=r,n.target.dispatchEvent(r),ya=null}else return e=di(n),e!==null&&Ru(e),t.blockedOn=n,!1;e.shift()}return!0}function pd(t,e,n){Vi(t)&&n.delete(e)}function Xy(){Sa=!1,yn!==null&&Vi(yn)&&(yn=null),_n!==null&&Vi(_n)&&(_n=null),vn!==null&&Vi(vn)&&(vn=null),bs.forEach(pd),Ms.forEach(pd)}function os(t,e){t.blockedOn===e&&(t.blockedOn=null,Sa||(Sa=!0,at.unstable_scheduleCallback(at.unstable_NormalPriority,Xy)))}function Fs(t){function e(s){return os(s,t)}if(0<Ii.length){os(Ii[0],t);for(var n=1;n<Ii.length;n++){var r=Ii[n];r.blockedOn===t&&(r.blockedOn=null)}}for(yn!==null&&os(yn,t),_n!==null&&os(_n,t),vn!==null&&os(vn,t),bs.forEach(e),Ms.forEach(e),n=0;n<fn.length;n++)r=fn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<fn.length&&(n=fn[0],n.blockedOn===null);)Hh(n),n.blockedOn===null&&fn.shift()}var Pr=tn.ReactCurrentBatchConfig,oo=!0;function Jy(t,e,n,r){var s=te,i=Pr.transition;Pr.transition=null;try{te=1,Au(t,e,n,r)}finally{te=s,Pr.transition=i}}function Zy(t,e,n,r){var s=te,i=Pr.transition;Pr.transition=null;try{te=4,Au(t,e,n,r)}finally{te=s,Pr.transition=i}}function Au(t,e,n,r){if(oo){var s=Ea(t,e,n,r);if(s===null)Ll(t,e,r,lo,n),hd(t,r);else if(qy(s,t,e,n,r))r.stopPropagation();else if(hd(t,r),e&4&&-1<Ky.indexOf(t)){for(;s!==null;){var i=di(s);if(i!==null&&Uh(i),i=Ea(t,e,n,r),i===null&&Ll(t,e,r,lo,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Ll(t,e,r,null,n)}}var lo=null;function Ea(t,e,n,r){if(lo=null,t=Tu(r),t=Bn(t),t!==null)if(e=rr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=jh(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return lo=t,null}function Gh(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zy()){case Iu:return 1;case Mh:return 4;case so:case Uy:return 16;case Fh:return 536870912;default:return 16}default:return 16}}var pn=null,Du=null,Hi=null;function Yh(){if(Hi)return Hi;var t,e=Du,n=e.length,r,s="value"in pn?pn.value:pn.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Hi=s.slice(t,1<r?1-r:void 0)}function Gi(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Pi(){return!0}function md(){return!1}function ct(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Pi:md,this.isPropagationStopped=md,this}return he(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Pi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Pi)},persist:function(){},isPersistent:Pi}),e}var Kr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ju=ct(Kr),ci=he({},Kr,{view:0,detail:0}),e_=ct(ci),Nl,Tl,ls,Ho=he({},ci,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ou,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ls&&(ls&&t.type==="mousemove"?(Nl=t.screenX-ls.screenX,Tl=t.screenY-ls.screenY):Tl=Nl=0,ls=t),Nl)},movementY:function(t){return"movementY"in t?t.movementY:Tl}}),gd=ct(Ho),t_=he({},Ho,{dataTransfer:0}),n_=ct(t_),r_=he({},ci,{relatedTarget:0}),Il=ct(r_),s_=he({},Kr,{animationName:0,elapsedTime:0,pseudoElement:0}),i_=ct(s_),o_=he({},Kr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),l_=ct(o_),a_=he({},Kr,{data:0}),yd=ct(a_),u_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},c_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},d_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function f_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=d_[t])?!!e[t]:!1}function Ou(){return f_}var h_=he({},ci,{key:function(t){if(t.key){var e=u_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Gi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?c_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ou,charCode:function(t){return t.type==="keypress"?Gi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),p_=ct(h_),m_=he({},Ho,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_d=ct(m_),g_=he({},ci,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ou}),y_=ct(g_),__=he({},Kr,{propertyName:0,elapsedTime:0,pseudoElement:0}),v_=ct(__),w_=he({},Ho,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),C_=ct(w_),S_=[9,13,27,32],Lu=Kt&&"CompositionEvent"in window,Cs=null;Kt&&"documentMode"in document&&(Cs=document.documentMode);var E_=Kt&&"TextEvent"in window&&!Cs,Qh=Kt&&(!Lu||Cs&&8<Cs&&11>=Cs),vd=" ",wd=!1;function Kh(t,e){switch(t){case"keyup":return S_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var mr=!1;function x_(t,e){switch(t){case"compositionend":return qh(e);case"keypress":return e.which!==32?null:(wd=!0,vd);case"textInput":return t=e.data,t===vd&&wd?null:t;default:return null}}function k_(t,e){if(mr)return t==="compositionend"||!Lu&&Kh(t,e)?(t=Yh(),Hi=Du=pn=null,mr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Qh&&e.locale!=="ko"?null:e.data;default:return null}}var N_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!N_[t.type]:e==="textarea"}function Xh(t,e,n,r){Ih(r),e=ao(e,"onChange"),0<e.length&&(n=new ju("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ss=null,Ws=null;function T_(t){ap(t,0)}function Go(t){var e=_r(t);if(Ch(e))return t}function I_(t,e){if(t==="change")return e}var Jh=!1;if(Kt){var Pl;if(Kt){var Rl="oninput"in document;if(!Rl){var Sd=document.createElement("div");Sd.setAttribute("oninput","return;"),Rl=typeof Sd.oninput=="function"}Pl=Rl}else Pl=!1;Jh=Pl&&(!document.documentMode||9<document.documentMode)}function Ed(){Ss&&(Ss.detachEvent("onpropertychange",Zh),Ws=Ss=null)}function Zh(t){if(t.propertyName==="value"&&Go(Ws)){var e=[];Xh(e,Ws,t,Tu(t)),Dh(T_,e)}}function P_(t,e,n){t==="focusin"?(Ed(),Ss=e,Ws=n,Ss.attachEvent("onpropertychange",Zh)):t==="focusout"&&Ed()}function R_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Go(Ws)}function A_(t,e){if(t==="click")return Go(e)}function D_(t,e){if(t==="input"||t==="change")return Go(e)}function j_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Rt=typeof Object.is=="function"?Object.is:j_;function zs(t,e){if(Rt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!ia.call(e,s)||!Rt(t[s],e[s]))return!1}return!0}function xd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kd(t,e){var n=xd(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xd(n)}}function ep(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ep(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function tp(){for(var t=window,e=to();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=to(t.document)}return e}function bu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function O_(t){var e=tp(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ep(n.ownerDocument.documentElement,n)){if(r!==null&&bu(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=kd(n,i);var o=kd(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var L_=Kt&&"documentMode"in document&&11>=document.documentMode,gr=null,xa=null,Es=null,ka=!1;function Nd(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ka||gr==null||gr!==to(r)||(r=gr,"selectionStart"in r&&bu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Es&&zs(Es,r)||(Es=r,r=ao(xa,"onSelect"),0<r.length&&(e=new ju("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=gr)))}function Ri(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var yr={animationend:Ri("Animation","AnimationEnd"),animationiteration:Ri("Animation","AnimationIteration"),animationstart:Ri("Animation","AnimationStart"),transitionend:Ri("Transition","TransitionEnd")},Al={},np={};Kt&&(np=document.createElement("div").style,"AnimationEvent"in window||(delete yr.animationend.animation,delete yr.animationiteration.animation,delete yr.animationstart.animation),"TransitionEvent"in window||delete yr.transitionend.transition);function Yo(t){if(Al[t])return Al[t];if(!yr[t])return t;var e=yr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in np)return Al[t]=e[n];return t}var rp=Yo("animationend"),sp=Yo("animationiteration"),ip=Yo("animationstart"),op=Yo("transitionend"),lp=new Map,Td="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function On(t,e){lp.set(t,e),nr(e,[t])}for(var Dl=0;Dl<Td.length;Dl++){var jl=Td[Dl],b_=jl.toLowerCase(),M_=jl[0].toUpperCase()+jl.slice(1);On(b_,"on"+M_)}On(rp,"onAnimationEnd");On(sp,"onAnimationIteration");On(ip,"onAnimationStart");On("dblclick","onDoubleClick");On("focusin","onFocus");On("focusout","onBlur");On(op,"onTransitionEnd");Lr("onMouseEnter",["mouseout","mouseover"]);Lr("onMouseLeave",["mouseout","mouseover"]);Lr("onPointerEnter",["pointerout","pointerover"]);Lr("onPointerLeave",["pointerout","pointerover"]);nr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));nr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));nr("onBeforeInput",["compositionend","keypress","textInput","paste"]);nr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));nr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));nr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _s="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F_=new Set("cancel close invalid load scroll toggle".split(" ").concat(_s));function Id(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,by(r,e,void 0,t),t.currentTarget=null}function ap(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;Id(s,l,c),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,c=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;Id(s,l,c),i=a}}}if(ro)throw t=wa,ro=!1,wa=null,t}function ae(t,e){var n=e[Ra];n===void 0&&(n=e[Ra]=new Set);var r=t+"__bubble";n.has(r)||(up(e,t,2,!1),n.add(r))}function Ol(t,e,n){var r=0;e&&(r|=4),up(n,t,r,e)}var Ai="_reactListening"+Math.random().toString(36).slice(2);function Us(t){if(!t[Ai]){t[Ai]=!0,gh.forEach(function(n){n!=="selectionchange"&&(F_.has(n)||Ol(n,!1,t),Ol(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ai]||(e[Ai]=!0,Ol("selectionchange",!1,e))}}function up(t,e,n,r){switch(Gh(e)){case 1:var s=Jy;break;case 4:s=Zy;break;default:s=Au}n=s.bind(null,e,n,t),s=void 0,!va||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Ll(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Bn(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}Dh(function(){var c=i,h=Tu(n),f=[];e:{var d=lp.get(t);if(d!==void 0){var y=ju,v=t;switch(t){case"keypress":if(Gi(n)===0)break e;case"keydown":case"keyup":y=p_;break;case"focusin":v="focus",y=Il;break;case"focusout":v="blur",y=Il;break;case"beforeblur":case"afterblur":y=Il;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=gd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=n_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=y_;break;case rp:case sp:case ip:y=i_;break;case op:y=v_;break;case"scroll":y=e_;break;case"wheel":y=C_;break;case"copy":case"cut":case"paste":y=l_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=_d}var S=(e&4)!==0,w=!S&&t==="scroll",m=S?d!==null?d+"Capture":null:d;S=[];for(var p=c,_;p!==null;){_=p;var E=_.stateNode;if(_.tag===5&&E!==null&&(_=E,m!==null&&(E=Ls(p,m),E!=null&&S.push(Bs(p,E,_)))),w)break;p=p.return}0<S.length&&(d=new y(d,v,null,n,h),f.push({event:d,listeners:S}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",d&&n!==ya&&(v=n.relatedTarget||n.fromElement)&&(Bn(v)||v[qt]))break e;if((y||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,y?(v=n.relatedTarget||n.toElement,y=c,v=v?Bn(v):null,v!==null&&(w=rr(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=c),y!==v)){if(S=gd,E="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(S=_d,E="onPointerLeave",m="onPointerEnter",p="pointer"),w=y==null?d:_r(y),_=v==null?d:_r(v),d=new S(E,p+"leave",y,n,h),d.target=w,d.relatedTarget=_,E=null,Bn(h)===c&&(S=new S(m,p+"enter",v,n,h),S.target=_,S.relatedTarget=w,E=S),w=E,y&&v)t:{for(S=y,m=v,p=0,_=S;_;_=dr(_))p++;for(_=0,E=m;E;E=dr(E))_++;for(;0<p-_;)S=dr(S),p--;for(;0<_-p;)m=dr(m),_--;for(;p--;){if(S===m||m!==null&&S===m.alternate)break t;S=dr(S),m=dr(m)}S=null}else S=null;y!==null&&Pd(f,d,y,S,!1),v!==null&&w!==null&&Pd(f,w,v,S,!0)}}e:{if(d=c?_r(c):window,y=d.nodeName&&d.nodeName.toLowerCase(),y==="select"||y==="input"&&d.type==="file")var N=I_;else if(Cd(d))if(Jh)N=D_;else{N=R_;var k=P_}else(y=d.nodeName)&&y.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(N=A_);if(N&&(N=N(t,c))){Xh(f,N,n,h);break e}k&&k(t,d,c),t==="focusout"&&(k=d._wrapperState)&&k.controlled&&d.type==="number"&&fa(d,"number",d.value)}switch(k=c?_r(c):window,t){case"focusin":(Cd(k)||k.contentEditable==="true")&&(gr=k,xa=c,Es=null);break;case"focusout":Es=xa=gr=null;break;case"mousedown":ka=!0;break;case"contextmenu":case"mouseup":case"dragend":ka=!1,Nd(f,n,h);break;case"selectionchange":if(L_)break;case"keydown":case"keyup":Nd(f,n,h)}var P;if(Lu)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else mr?Kh(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(Qh&&n.locale!=="ko"&&(mr||A!=="onCompositionStart"?A==="onCompositionEnd"&&mr&&(P=Yh()):(pn=h,Du="value"in pn?pn.value:pn.textContent,mr=!0)),k=ao(c,A),0<k.length&&(A=new yd(A,t,null,n,h),f.push({event:A,listeners:k}),P?A.data=P:(P=qh(n),P!==null&&(A.data=P)))),(P=E_?x_(t,n):k_(t,n))&&(c=ao(c,"onBeforeInput"),0<c.length&&(h=new yd("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=P))}ap(f,e)})}function Bs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ao(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ls(t,n),i!=null&&r.unshift(Bs(t,i,s)),i=Ls(t,e),i!=null&&r.push(Bs(t,i,s))),t=t.return}return r}function dr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Pd(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,c=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&c!==null&&(l=c,s?(a=Ls(n,i),a!=null&&o.unshift(Bs(n,a,l))):s||(a=Ls(n,i),a!=null&&o.push(Bs(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var W_=/\r\n?/g,z_=/\u0000|\uFFFD/g;function Rd(t){return(typeof t=="string"?t:""+t).replace(W_,`
`).replace(z_,"")}function Di(t,e,n){if(e=Rd(e),Rd(t)!==e&&n)throw Error(T(425))}function uo(){}var Na=null,Ta=null;function Ia(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Pa=typeof setTimeout=="function"?setTimeout:void 0,U_=typeof clearTimeout=="function"?clearTimeout:void 0,Ad=typeof Promise=="function"?Promise:void 0,B_=typeof queueMicrotask=="function"?queueMicrotask:typeof Ad<"u"?function(t){return Ad.resolve(null).then(t).catch($_)}:Pa;function $_(t){setTimeout(function(){throw t})}function bl(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Fs(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Fs(e)}function wn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Dd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var qr=Math.random().toString(36).slice(2),bt="__reactFiber$"+qr,$s="__reactProps$"+qr,qt="__reactContainer$"+qr,Ra="__reactEvents$"+qr,V_="__reactListeners$"+qr,H_="__reactHandles$"+qr;function Bn(t){var e=t[bt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[qt]||n[bt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Dd(t);t!==null;){if(n=t[bt])return n;t=Dd(t)}return e}t=n,n=t.parentNode}return null}function di(t){return t=t[bt]||t[qt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function _r(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(T(33))}function Qo(t){return t[$s]||null}var Aa=[],vr=-1;function Ln(t){return{current:t}}function ue(t){0>vr||(t.current=Aa[vr],Aa[vr]=null,vr--)}function oe(t,e){vr++,Aa[vr]=t.current,t.current=e}var Rn={},He=Ln(Rn),nt=Ln(!1),Qn=Rn;function br(t,e){var n=t.type.contextTypes;if(!n)return Rn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function rt(t){return t=t.childContextTypes,t!=null}function co(){ue(nt),ue(He)}function jd(t,e,n){if(He.current!==Rn)throw Error(T(168));oe(He,e),oe(nt,n)}function cp(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(T(108,Py(t)||"Unknown",s));return he({},n,r)}function fo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Rn,Qn=He.current,oe(He,t),oe(nt,nt.current),!0}function Od(t,e,n){var r=t.stateNode;if(!r)throw Error(T(169));n?(t=cp(t,e,Qn),r.__reactInternalMemoizedMergedChildContext=t,ue(nt),ue(He),oe(He,t)):ue(nt),oe(nt,n)}var $t=null,Ko=!1,Ml=!1;function dp(t){$t===null?$t=[t]:$t.push(t)}function G_(t){Ko=!0,dp(t)}function bn(){if(!Ml&&$t!==null){Ml=!0;var t=0,e=te;try{var n=$t;for(te=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}$t=null,Ko=!1}catch(s){throw $t!==null&&($t=$t.slice(t+1)),bh(Iu,bn),s}finally{te=e,Ml=!1}}return null}var wr=[],Cr=0,ho=null,po=0,ht=[],pt=0,Kn=null,Vt=1,Ht="";function Fn(t,e){wr[Cr++]=po,wr[Cr++]=ho,ho=t,po=e}function fp(t,e,n){ht[pt++]=Vt,ht[pt++]=Ht,ht[pt++]=Kn,Kn=t;var r=Vt;t=Ht;var s=32-Tt(r)-1;r&=~(1<<s),n+=1;var i=32-Tt(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Vt=1<<32-Tt(e)+s|n<<s|r,Ht=i+t}else Vt=1<<i|n<<s|r,Ht=t}function Mu(t){t.return!==null&&(Fn(t,1),fp(t,1,0))}function Fu(t){for(;t===ho;)ho=wr[--Cr],wr[Cr]=null,po=wr[--Cr],wr[Cr]=null;for(;t===Kn;)Kn=ht[--pt],ht[pt]=null,Ht=ht[--pt],ht[pt]=null,Vt=ht[--pt],ht[pt]=null}var lt=null,ot=null,ce=!1,xt=null;function hp(t,e){var n=mt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ld(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,lt=t,ot=wn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,lt=t,ot=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Kn!==null?{id:Vt,overflow:Ht}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=mt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,lt=t,ot=null,!0):!1;default:return!1}}function Da(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ja(t){if(ce){var e=ot;if(e){var n=e;if(!Ld(t,e)){if(Da(t))throw Error(T(418));e=wn(n.nextSibling);var r=lt;e&&Ld(t,e)?hp(r,n):(t.flags=t.flags&-4097|2,ce=!1,lt=t)}}else{if(Da(t))throw Error(T(418));t.flags=t.flags&-4097|2,ce=!1,lt=t}}}function bd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;lt=t}function ji(t){if(t!==lt)return!1;if(!ce)return bd(t),ce=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ia(t.type,t.memoizedProps)),e&&(e=ot)){if(Da(t))throw pp(),Error(T(418));for(;e;)hp(t,e),e=wn(e.nextSibling)}if(bd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(T(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ot=wn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ot=null}}else ot=lt?wn(t.stateNode.nextSibling):null;return!0}function pp(){for(var t=ot;t;)t=wn(t.nextSibling)}function Mr(){ot=lt=null,ce=!1}function Wu(t){xt===null?xt=[t]:xt.push(t)}var Y_=tn.ReactCurrentBatchConfig;function as(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(T(309));var r=n.stateNode}if(!r)throw Error(T(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(T(284));if(!n._owner)throw Error(T(290,t))}return t}function Oi(t,e){throw t=Object.prototype.toString.call(e),Error(T(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Md(t){var e=t._init;return e(t._payload)}function mp(t){function e(m,p){if(t){var _=m.deletions;_===null?(m.deletions=[p],m.flags|=16):_.push(p)}}function n(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function s(m,p){return m=xn(m,p),m.index=0,m.sibling=null,m}function i(m,p,_){return m.index=_,t?(_=m.alternate,_!==null?(_=_.index,_<p?(m.flags|=2,p):_):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,p,_,E){return p===null||p.tag!==6?(p=Vl(_,m.mode,E),p.return=m,p):(p=s(p,_),p.return=m,p)}function a(m,p,_,E){var N=_.type;return N===pr?h(m,p,_.props.children,E,_.key):p!==null&&(p.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===cn&&Md(N)===p.type)?(E=s(p,_.props),E.ref=as(m,p,_),E.return=m,E):(E=Zi(_.type,_.key,_.props,null,m.mode,E),E.ref=as(m,p,_),E.return=m,E)}function c(m,p,_,E){return p===null||p.tag!==4||p.stateNode.containerInfo!==_.containerInfo||p.stateNode.implementation!==_.implementation?(p=Hl(_,m.mode,E),p.return=m,p):(p=s(p,_.children||[]),p.return=m,p)}function h(m,p,_,E,N){return p===null||p.tag!==7?(p=Yn(_,m.mode,E,N),p.return=m,p):(p=s(p,_),p.return=m,p)}function f(m,p,_){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Vl(""+p,m.mode,_),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ei:return _=Zi(p.type,p.key,p.props,null,m.mode,_),_.ref=as(m,null,p),_.return=m,_;case hr:return p=Hl(p,m.mode,_),p.return=m,p;case cn:var E=p._init;return f(m,E(p._payload),_)}if(gs(p)||rs(p))return p=Yn(p,m.mode,_,null),p.return=m,p;Oi(m,p)}return null}function d(m,p,_,E){var N=p!==null?p.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return N!==null?null:l(m,p,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ei:return _.key===N?a(m,p,_,E):null;case hr:return _.key===N?c(m,p,_,E):null;case cn:return N=_._init,d(m,p,N(_._payload),E)}if(gs(_)||rs(_))return N!==null?null:h(m,p,_,E,null);Oi(m,_)}return null}function y(m,p,_,E,N){if(typeof E=="string"&&E!==""||typeof E=="number")return m=m.get(_)||null,l(p,m,""+E,N);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ei:return m=m.get(E.key===null?_:E.key)||null,a(p,m,E,N);case hr:return m=m.get(E.key===null?_:E.key)||null,c(p,m,E,N);case cn:var k=E._init;return y(m,p,_,k(E._payload),N)}if(gs(E)||rs(E))return m=m.get(_)||null,h(p,m,E,N,null);Oi(p,E)}return null}function v(m,p,_,E){for(var N=null,k=null,P=p,A=p=0,J=null;P!==null&&A<_.length;A++){P.index>A?(J=P,P=null):J=P.sibling;var B=d(m,P,_[A],E);if(B===null){P===null&&(P=J);break}t&&P&&B.alternate===null&&e(m,P),p=i(B,p,A),k===null?N=B:k.sibling=B,k=B,P=J}if(A===_.length)return n(m,P),ce&&Fn(m,A),N;if(P===null){for(;A<_.length;A++)P=f(m,_[A],E),P!==null&&(p=i(P,p,A),k===null?N=P:k.sibling=P,k=P);return ce&&Fn(m,A),N}for(P=r(m,P);A<_.length;A++)J=y(P,m,A,_[A],E),J!==null&&(t&&J.alternate!==null&&P.delete(J.key===null?A:J.key),p=i(J,p,A),k===null?N=J:k.sibling=J,k=J);return t&&P.forEach(function(Ue){return e(m,Ue)}),ce&&Fn(m,A),N}function S(m,p,_,E){var N=rs(_);if(typeof N!="function")throw Error(T(150));if(_=N.call(_),_==null)throw Error(T(151));for(var k=N=null,P=p,A=p=0,J=null,B=_.next();P!==null&&!B.done;A++,B=_.next()){P.index>A?(J=P,P=null):J=P.sibling;var Ue=d(m,P,B.value,E);if(Ue===null){P===null&&(P=J);break}t&&P&&Ue.alternate===null&&e(m,P),p=i(Ue,p,A),k===null?N=Ue:k.sibling=Ue,k=Ue,P=J}if(B.done)return n(m,P),ce&&Fn(m,A),N;if(P===null){for(;!B.done;A++,B=_.next())B=f(m,B.value,E),B!==null&&(p=i(B,p,A),k===null?N=B:k.sibling=B,k=B);return ce&&Fn(m,A),N}for(P=r(m,P);!B.done;A++,B=_.next())B=y(P,m,A,B.value,E),B!==null&&(t&&B.alternate!==null&&P.delete(B.key===null?A:B.key),p=i(B,p,A),k===null?N=B:k.sibling=B,k=B);return t&&P.forEach(function(zt){return e(m,zt)}),ce&&Fn(m,A),N}function w(m,p,_,E){if(typeof _=="object"&&_!==null&&_.type===pr&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Ei:e:{for(var N=_.key,k=p;k!==null;){if(k.key===N){if(N=_.type,N===pr){if(k.tag===7){n(m,k.sibling),p=s(k,_.props.children),p.return=m,m=p;break e}}else if(k.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===cn&&Md(N)===k.type){n(m,k.sibling),p=s(k,_.props),p.ref=as(m,k,_),p.return=m,m=p;break e}n(m,k);break}else e(m,k);k=k.sibling}_.type===pr?(p=Yn(_.props.children,m.mode,E,_.key),p.return=m,m=p):(E=Zi(_.type,_.key,_.props,null,m.mode,E),E.ref=as(m,p,_),E.return=m,m=E)}return o(m);case hr:e:{for(k=_.key;p!==null;){if(p.key===k)if(p.tag===4&&p.stateNode.containerInfo===_.containerInfo&&p.stateNode.implementation===_.implementation){n(m,p.sibling),p=s(p,_.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else e(m,p);p=p.sibling}p=Hl(_,m.mode,E),p.return=m,m=p}return o(m);case cn:return k=_._init,w(m,p,k(_._payload),E)}if(gs(_))return v(m,p,_,E);if(rs(_))return S(m,p,_,E);Oi(m,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,p!==null&&p.tag===6?(n(m,p.sibling),p=s(p,_),p.return=m,m=p):(n(m,p),p=Vl(_,m.mode,E),p.return=m,m=p),o(m)):n(m,p)}return w}var Fr=mp(!0),gp=mp(!1),mo=Ln(null),go=null,Sr=null,zu=null;function Uu(){zu=Sr=go=null}function Bu(t){var e=mo.current;ue(mo),t._currentValue=e}function Oa(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Rr(t,e){go=t,zu=Sr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(et=!0),t.firstContext=null)}function _t(t){var e=t._currentValue;if(zu!==t)if(t={context:t,memoizedValue:e,next:null},Sr===null){if(go===null)throw Error(T(308));Sr=t,go.dependencies={lanes:0,firstContext:t}}else Sr=Sr.next=t;return e}var $n=null;function $u(t){$n===null?$n=[t]:$n.push(t)}function yp(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,$u(e)):(n.next=s.next,s.next=n),e.interleaved=n,Xt(t,r)}function Xt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var dn=!1;function Vu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _p(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Yt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Cn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,X&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Xt(t,n)}return s=r.interleaved,s===null?(e.next=e,$u(r)):(e.next=s.next,s.next=e),r.interleaved=e,Xt(t,n)}function Yi(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Pu(t,n)}}function Fd(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function yo(t,e,n,r){var s=t.updateQueue;dn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,c=a.next;a.next=null,o===null?i=c:o.next=c,o=a;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=c:l.next=c,h.lastBaseUpdate=a))}if(i!==null){var f=s.baseState;o=0,h=c=a=null,l=i;do{var d=l.lane,y=l.eventTime;if((r&d)===d){h!==null&&(h=h.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,S=l;switch(d=e,y=n,S.tag){case 1:if(v=S.payload,typeof v=="function"){f=v.call(y,f,d);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=S.payload,d=typeof v=="function"?v.call(y,f,d):v,d==null)break e;f=he({},f,d);break e;case 2:dn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,d=s.effects,d===null?s.effects=[l]:d.push(l))}else y={eventTime:y,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(c=h=y,a=f):h=h.next=y,o|=d;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;d=l,l=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(!0);if(h===null&&(a=f),s.baseState=a,s.firstBaseUpdate=c,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Xn|=o,t.lanes=o,t.memoizedState=f}}function Wd(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(T(191,s));s.call(r)}}}var fi={},Ft=Ln(fi),Vs=Ln(fi),Hs=Ln(fi);function Vn(t){if(t===fi)throw Error(T(174));return t}function Hu(t,e){switch(oe(Hs,e),oe(Vs,t),oe(Ft,fi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:pa(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=pa(e,t)}ue(Ft),oe(Ft,e)}function Wr(){ue(Ft),ue(Vs),ue(Hs)}function vp(t){Vn(Hs.current);var e=Vn(Ft.current),n=pa(e,t.type);e!==n&&(oe(Vs,t),oe(Ft,n))}function Gu(t){Vs.current===t&&(ue(Ft),ue(Vs))}var de=Ln(0);function _o(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Fl=[];function Yu(){for(var t=0;t<Fl.length;t++)Fl[t]._workInProgressVersionPrimary=null;Fl.length=0}var Qi=tn.ReactCurrentDispatcher,Wl=tn.ReactCurrentBatchConfig,qn=0,fe=null,Te=null,je=null,vo=!1,xs=!1,Gs=0,Q_=0;function Be(){throw Error(T(321))}function Qu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Rt(t[n],e[n]))return!1;return!0}function Ku(t,e,n,r,s,i){if(qn=i,fe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Qi.current=t===null||t.memoizedState===null?J_:Z_,t=n(r,s),xs){i=0;do{if(xs=!1,Gs=0,25<=i)throw Error(T(301));i+=1,je=Te=null,e.updateQueue=null,Qi.current=ev,t=n(r,s)}while(xs)}if(Qi.current=wo,e=Te!==null&&Te.next!==null,qn=0,je=Te=fe=null,vo=!1,e)throw Error(T(300));return t}function qu(){var t=Gs!==0;return Gs=0,t}function Lt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?fe.memoizedState=je=t:je=je.next=t,je}function vt(){if(Te===null){var t=fe.alternate;t=t!==null?t.memoizedState:null}else t=Te.next;var e=je===null?fe.memoizedState:je.next;if(e!==null)je=e,Te=t;else{if(t===null)throw Error(T(310));Te=t,t={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},je===null?fe.memoizedState=je=t:je=je.next=t}return je}function Ys(t,e){return typeof e=="function"?e(t):e}function zl(t){var e=vt(),n=e.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=t;var r=Te,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,c=i;do{var h=c.lane;if((qn&h)===h)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(l=a=f,o=r):a=a.next=f,fe.lanes|=h,Xn|=h}c=c.next}while(c!==null&&c!==i);a===null?o=r:a.next=l,Rt(r,e.memoizedState)||(et=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,fe.lanes|=i,Xn|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ul(t){var e=vt(),n=e.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Rt(i,e.memoizedState)||(et=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function wp(){}function Cp(t,e){var n=fe,r=vt(),s=e(),i=!Rt(r.memoizedState,s);if(i&&(r.memoizedState=s,et=!0),r=r.queue,Xu(xp.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||je!==null&&je.memoizedState.tag&1){if(n.flags|=2048,Qs(9,Ep.bind(null,n,r,s,e),void 0,null),Le===null)throw Error(T(349));qn&30||Sp(n,e,s)}return s}function Sp(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=fe.updateQueue,e===null?(e={lastEffect:null,stores:null},fe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Ep(t,e,n,r){e.value=n,e.getSnapshot=r,kp(e)&&Np(t)}function xp(t,e,n){return n(function(){kp(e)&&Np(t)})}function kp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Rt(t,n)}catch{return!0}}function Np(t){var e=Xt(t,1);e!==null&&It(e,t,1,-1)}function zd(t){var e=Lt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:t},e.queue=t,t=t.dispatch=X_.bind(null,fe,t),[e.memoizedState,t]}function Qs(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=fe.updateQueue,e===null?(e={lastEffect:null,stores:null},fe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Tp(){return vt().memoizedState}function Ki(t,e,n,r){var s=Lt();fe.flags|=t,s.memoizedState=Qs(1|e,n,void 0,r===void 0?null:r)}function qo(t,e,n,r){var s=vt();r=r===void 0?null:r;var i=void 0;if(Te!==null){var o=Te.memoizedState;if(i=o.destroy,r!==null&&Qu(r,o.deps)){s.memoizedState=Qs(e,n,i,r);return}}fe.flags|=t,s.memoizedState=Qs(1|e,n,i,r)}function Ud(t,e){return Ki(8390656,8,t,e)}function Xu(t,e){return qo(2048,8,t,e)}function Ip(t,e){return qo(4,2,t,e)}function Pp(t,e){return qo(4,4,t,e)}function Rp(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ap(t,e,n){return n=n!=null?n.concat([t]):null,qo(4,4,Rp.bind(null,e,t),n)}function Ju(){}function Dp(t,e){var n=vt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Qu(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function jp(t,e){var n=vt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Qu(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Op(t,e,n){return qn&21?(Rt(n,e)||(n=Wh(),fe.lanes|=n,Xn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,et=!0),t.memoizedState=n)}function K_(t,e){var n=te;te=n!==0&&4>n?n:4,t(!0);var r=Wl.transition;Wl.transition={};try{t(!1),e()}finally{te=n,Wl.transition=r}}function Lp(){return vt().memoizedState}function q_(t,e,n){var r=En(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},bp(t))Mp(e,n);else if(n=yp(t,e,n,r),n!==null){var s=Qe();It(n,t,r,s),Fp(n,e,r)}}function X_(t,e,n){var r=En(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(bp(t))Mp(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Rt(l,o)){var a=e.interleaved;a===null?(s.next=s,$u(e)):(s.next=a.next,a.next=s),e.interleaved=s;return}}catch{}finally{}n=yp(t,e,s,r),n!==null&&(s=Qe(),It(n,t,r,s),Fp(n,e,r))}}function bp(t){var e=t.alternate;return t===fe||e!==null&&e===fe}function Mp(t,e){xs=vo=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Fp(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Pu(t,n)}}var wo={readContext:_t,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useInsertionEffect:Be,useLayoutEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useMutableSource:Be,useSyncExternalStore:Be,useId:Be,unstable_isNewReconciler:!1},J_={readContext:_t,useCallback:function(t,e){return Lt().memoizedState=[t,e===void 0?null:e],t},useContext:_t,useEffect:Ud,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ki(4194308,4,Rp.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ki(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ki(4,2,t,e)},useMemo:function(t,e){var n=Lt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Lt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=q_.bind(null,fe,t),[r.memoizedState,t]},useRef:function(t){var e=Lt();return t={current:t},e.memoizedState=t},useState:zd,useDebugValue:Ju,useDeferredValue:function(t){return Lt().memoizedState=t},useTransition:function(){var t=zd(!1),e=t[0];return t=K_.bind(null,t[1]),Lt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=fe,s=Lt();if(ce){if(n===void 0)throw Error(T(407));n=n()}else{if(n=e(),Le===null)throw Error(T(349));qn&30||Sp(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Ud(xp.bind(null,r,i,t),[t]),r.flags|=2048,Qs(9,Ep.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Lt(),e=Le.identifierPrefix;if(ce){var n=Ht,r=Vt;n=(r&~(1<<32-Tt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Gs++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Q_++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Z_={readContext:_t,useCallback:Dp,useContext:_t,useEffect:Xu,useImperativeHandle:Ap,useInsertionEffect:Ip,useLayoutEffect:Pp,useMemo:jp,useReducer:zl,useRef:Tp,useState:function(){return zl(Ys)},useDebugValue:Ju,useDeferredValue:function(t){var e=vt();return Op(e,Te.memoizedState,t)},useTransition:function(){var t=zl(Ys)[0],e=vt().memoizedState;return[t,e]},useMutableSource:wp,useSyncExternalStore:Cp,useId:Lp,unstable_isNewReconciler:!1},ev={readContext:_t,useCallback:Dp,useContext:_t,useEffect:Xu,useImperativeHandle:Ap,useInsertionEffect:Ip,useLayoutEffect:Pp,useMemo:jp,useReducer:Ul,useRef:Tp,useState:function(){return Ul(Ys)},useDebugValue:Ju,useDeferredValue:function(t){var e=vt();return Te===null?e.memoizedState=t:Op(e,Te.memoizedState,t)},useTransition:function(){var t=Ul(Ys)[0],e=vt().memoizedState;return[t,e]},useMutableSource:wp,useSyncExternalStore:Cp,useId:Lp,unstable_isNewReconciler:!1};function St(t,e){if(t&&t.defaultProps){e=he({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function La(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:he({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Xo={isMounted:function(t){return(t=t._reactInternals)?rr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Qe(),s=En(t),i=Yt(r,s);i.payload=e,n!=null&&(i.callback=n),e=Cn(t,i,s),e!==null&&(It(e,t,s,r),Yi(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Qe(),s=En(t),i=Yt(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Cn(t,i,s),e!==null&&(It(e,t,s,r),Yi(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Qe(),r=En(t),s=Yt(n,r);s.tag=2,e!=null&&(s.callback=e),e=Cn(t,s,r),e!==null&&(It(e,t,r,n),Yi(e,t,r))}};function Bd(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!zs(n,r)||!zs(s,i):!0}function Wp(t,e,n){var r=!1,s=Rn,i=e.contextType;return typeof i=="object"&&i!==null?i=_t(i):(s=rt(e)?Qn:He.current,r=e.contextTypes,i=(r=r!=null)?br(t,s):Rn),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Xo,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function $d(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Xo.enqueueReplaceState(e,e.state,null)}function ba(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Vu(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=_t(i):(i=rt(e)?Qn:He.current,s.context=br(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(La(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Xo.enqueueReplaceState(s,s.state,null),yo(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function zr(t,e){try{var n="",r=e;do n+=Iy(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Bl(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ma(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var tv=typeof WeakMap=="function"?WeakMap:Map;function zp(t,e,n){n=Yt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){So||(So=!0,Ya=r),Ma(t,e)},n}function Up(t,e,n){n=Yt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Ma(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ma(t,e),typeof r!="function"&&(Sn===null?Sn=new Set([this]):Sn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Vd(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new tv;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=mv.bind(null,t,e,n),e.then(t,t))}function Hd(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Gd(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Yt(-1,1),e.tag=2,Cn(n,e,1))),n.lanes|=1),t)}var nv=tn.ReactCurrentOwner,et=!1;function Ge(t,e,n,r){e.child=t===null?gp(e,null,n,r):Fr(e,t.child,n,r)}function Yd(t,e,n,r,s){n=n.render;var i=e.ref;return Rr(e,s),r=Ku(t,e,n,r,i,s),n=qu(),t!==null&&!et?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Jt(t,e,s)):(ce&&n&&Mu(e),e.flags|=1,Ge(t,e,r,s),e.child)}function Qd(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!oc(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Bp(t,e,i,r,s)):(t=Zi(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:zs,n(o,r)&&t.ref===e.ref)return Jt(t,e,s)}return e.flags|=1,t=xn(i,r),t.ref=e.ref,t.return=e,e.child=t}function Bp(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(zs(i,r)&&t.ref===e.ref)if(et=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(et=!0);else return e.lanes=t.lanes,Jt(t,e,s)}return Fa(t,e,n,r,s)}function $p(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},oe(xr,it),it|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,oe(xr,it),it|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,oe(xr,it),it|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,oe(xr,it),it|=r;return Ge(t,e,s,n),e.child}function Vp(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Fa(t,e,n,r,s){var i=rt(n)?Qn:He.current;return i=br(e,i),Rr(e,s),n=Ku(t,e,n,r,i,s),r=qu(),t!==null&&!et?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Jt(t,e,s)):(ce&&r&&Mu(e),e.flags|=1,Ge(t,e,n,s),e.child)}function Kd(t,e,n,r,s){if(rt(n)){var i=!0;fo(e)}else i=!1;if(Rr(e,s),e.stateNode===null)qi(t,e),Wp(e,n,r),ba(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=_t(c):(c=rt(n)?Qn:He.current,c=br(e,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==c)&&$d(e,o,r,c),dn=!1;var d=e.memoizedState;o.state=d,yo(e,r,o,s),a=e.memoizedState,l!==r||d!==a||nt.current||dn?(typeof h=="function"&&(La(e,n,h,r),a=e.memoizedState),(l=dn||Bd(e,n,l,r,d,a,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,_p(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:St(e.type,l),o.props=c,f=e.pendingProps,d=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=_t(a):(a=rt(n)?Qn:He.current,a=br(e,a));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||d!==a)&&$d(e,o,r,a),dn=!1,d=e.memoizedState,o.state=d,yo(e,r,o,s);var v=e.memoizedState;l!==f||d!==v||nt.current||dn?(typeof y=="function"&&(La(e,n,y,r),v=e.memoizedState),(c=dn||Bd(e,n,c,r,d,v,a)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=a,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Wa(t,e,n,r,i,s)}function Wa(t,e,n,r,s,i){Vp(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Od(e,n,!1),Jt(t,e,i);r=e.stateNode,nv.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Fr(e,t.child,null,i),e.child=Fr(e,null,l,i)):Ge(t,e,l,i),e.memoizedState=r.state,s&&Od(e,n,!0),e.child}function Hp(t){var e=t.stateNode;e.pendingContext?jd(t,e.pendingContext,e.pendingContext!==e.context):e.context&&jd(t,e.context,!1),Hu(t,e.containerInfo)}function qd(t,e,n,r,s){return Mr(),Wu(s),e.flags|=256,Ge(t,e,n,r),e.child}var za={dehydrated:null,treeContext:null,retryLane:0};function Ua(t){return{baseLanes:t,cachePool:null,transitions:null}}function Gp(t,e,n){var r=e.pendingProps,s=de.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),oe(de,s&1),t===null)return ja(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=el(o,r,0,null),t=Yn(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Ua(n),e.memoizedState=za,t):Zu(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return rv(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=xn(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=xn(l,i):(i=Yn(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Ua(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=za,r}return i=t.child,t=i.sibling,r=xn(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Zu(t,e){return e=el({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Li(t,e,n,r){return r!==null&&Wu(r),Fr(e,t.child,null,n),t=Zu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function rv(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Bl(Error(T(422))),Li(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=el({mode:"visible",children:r.children},s,0,null),i=Yn(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Fr(e,t.child,null,o),e.child.memoizedState=Ua(o),e.memoizedState=za,i);if(!(e.mode&1))return Li(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(T(419)),r=Bl(i,r,void 0),Li(t,e,o,r)}if(l=(o&t.childLanes)!==0,et||l){if(r=Le,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Xt(t,s),It(r,t,s,-1))}return ic(),r=Bl(Error(T(421))),Li(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=gv.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,ot=wn(s.nextSibling),lt=e,ce=!0,xt=null,t!==null&&(ht[pt++]=Vt,ht[pt++]=Ht,ht[pt++]=Kn,Vt=t.id,Ht=t.overflow,Kn=e),e=Zu(e,r.children),e.flags|=4096,e)}function Xd(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Oa(t.return,e,n)}function $l(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Yp(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ge(t,e,r.children,n),r=de.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Xd(t,n,e);else if(t.tag===19)Xd(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(oe(de,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&_o(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),$l(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&_o(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}$l(e,!0,n,null,i);break;case"together":$l(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function qi(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Jt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Xn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(T(153));if(e.child!==null){for(t=e.child,n=xn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=xn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function sv(t,e,n){switch(e.tag){case 3:Hp(e),Mr();break;case 5:vp(e);break;case 1:rt(e.type)&&fo(e);break;case 4:Hu(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;oe(mo,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(oe(de,de.current&1),e.flags|=128,null):n&e.child.childLanes?Gp(t,e,n):(oe(de,de.current&1),t=Jt(t,e,n),t!==null?t.sibling:null);oe(de,de.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Yp(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),oe(de,de.current),r)break;return null;case 22:case 23:return e.lanes=0,$p(t,e,n)}return Jt(t,e,n)}var Qp,Ba,Kp,qp;Qp=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ba=function(){};Kp=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Vn(Ft.current);var i=null;switch(n){case"input":s=ca(t,s),r=ca(t,r),i=[];break;case"select":s=he({},s,{value:void 0}),r=he({},r,{value:void 0}),i=[];break;case"textarea":s=ha(t,s),r=ha(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=uo)}ma(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(js.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var a=r[c];if(l=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&a!==l&&(a!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(js.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&ae("scroll",t),i||l===a||(i=[])):(i=i||[]).push(c,a))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};qp=function(t,e,n,r){n!==r&&(e.flags|=4)};function us(t,e){if(!ce)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function $e(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function iv(t,e,n){var r=e.pendingProps;switch(Fu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(e),null;case 1:return rt(e.type)&&co(),$e(e),null;case 3:return r=e.stateNode,Wr(),ue(nt),ue(He),Yu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ji(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,xt!==null&&(qa(xt),xt=null))),Ba(t,e),$e(e),null;case 5:Gu(e);var s=Vn(Hs.current);if(n=e.type,t!==null&&e.stateNode!=null)Kp(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(T(166));return $e(e),null}if(t=Vn(Ft.current),ji(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[bt]=e,r[$s]=i,t=(e.mode&1)!==0,n){case"dialog":ae("cancel",r),ae("close",r);break;case"iframe":case"object":case"embed":ae("load",r);break;case"video":case"audio":for(s=0;s<_s.length;s++)ae(_s[s],r);break;case"source":ae("error",r);break;case"img":case"image":case"link":ae("error",r),ae("load",r);break;case"details":ae("toggle",r);break;case"input":od(r,i),ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ae("invalid",r);break;case"textarea":ad(r,i),ae("invalid",r)}ma(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Di(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Di(r.textContent,l,t),s=["children",""+l]):js.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ae("scroll",r)}switch(n){case"input":xi(r),ld(r,i,!0);break;case"textarea":xi(r),ud(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=uo)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=xh(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[bt]=e,t[$s]=r,Qp(t,e,!1,!1),e.stateNode=t;e:{switch(o=ga(n,r),n){case"dialog":ae("cancel",t),ae("close",t),s=r;break;case"iframe":case"object":case"embed":ae("load",t),s=r;break;case"video":case"audio":for(s=0;s<_s.length;s++)ae(_s[s],t);s=r;break;case"source":ae("error",t),s=r;break;case"img":case"image":case"link":ae("error",t),ae("load",t),s=r;break;case"details":ae("toggle",t),s=r;break;case"input":od(t,r),s=ca(t,r),ae("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=he({},r,{value:void 0}),ae("invalid",t);break;case"textarea":ad(t,r),s=ha(t,r),ae("invalid",t);break;default:s=r}ma(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?Th(t,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&kh(t,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Os(t,a):typeof a=="number"&&Os(t,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(js.hasOwnProperty(i)?a!=null&&i==="onScroll"&&ae("scroll",t):a!=null&&Eu(t,i,a,o))}switch(n){case"input":xi(t),ld(t,r,!1);break;case"textarea":xi(t),ud(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Pn(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Nr(t,!!r.multiple,i,!1):r.defaultValue!=null&&Nr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=uo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $e(e),null;case 6:if(t&&e.stateNode!=null)qp(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(T(166));if(n=Vn(Hs.current),Vn(Ft.current),ji(e)){if(r=e.stateNode,n=e.memoizedProps,r[bt]=e,(i=r.nodeValue!==n)&&(t=lt,t!==null))switch(t.tag){case 3:Di(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Di(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[bt]=e,e.stateNode=r}return $e(e),null;case 13:if(ue(de),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ce&&ot!==null&&e.mode&1&&!(e.flags&128))pp(),Mr(),e.flags|=98560,i=!1;else if(i=ji(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(T(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(T(317));i[bt]=e}else Mr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$e(e),i=!1}else xt!==null&&(qa(xt),xt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||de.current&1?Re===0&&(Re=3):ic())),e.updateQueue!==null&&(e.flags|=4),$e(e),null);case 4:return Wr(),Ba(t,e),t===null&&Us(e.stateNode.containerInfo),$e(e),null;case 10:return Bu(e.type._context),$e(e),null;case 17:return rt(e.type)&&co(),$e(e),null;case 19:if(ue(de),i=e.memoizedState,i===null)return $e(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)us(i,!1);else{if(Re!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=_o(t),o!==null){for(e.flags|=128,us(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return oe(de,de.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ce()>Ur&&(e.flags|=128,r=!0,us(i,!1),e.lanes=4194304)}else{if(!r)if(t=_o(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),us(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ce)return $e(e),null}else 2*Ce()-i.renderingStartTime>Ur&&n!==1073741824&&(e.flags|=128,r=!0,us(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ce(),e.sibling=null,n=de.current,oe(de,r?n&1|2:n&1),e):($e(e),null);case 22:case 23:return sc(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?it&1073741824&&($e(e),e.subtreeFlags&6&&(e.flags|=8192)):$e(e),null;case 24:return null;case 25:return null}throw Error(T(156,e.tag))}function ov(t,e){switch(Fu(e),e.tag){case 1:return rt(e.type)&&co(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Wr(),ue(nt),ue(He),Yu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Gu(e),null;case 13:if(ue(de),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(T(340));Mr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ue(de),null;case 4:return Wr(),null;case 10:return Bu(e.type._context),null;case 22:case 23:return sc(),null;case 24:return null;default:return null}}var bi=!1,Ve=!1,lv=typeof WeakSet=="function"?WeakSet:Set,O=null;function Er(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ge(t,e,r)}else n.current=null}function $a(t,e,n){try{n()}catch(r){ge(t,e,r)}}var Jd=!1;function av(t,e){if(Na=oo,t=tp(),bu(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,c=0,h=0,f=t,d=null;t:for(;;){for(var y;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==i||r!==0&&f.nodeType!==3||(a=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)d=f,f=y;for(;;){if(f===t)break t;if(d===n&&++c===s&&(l=o),d===i&&++h===r&&(a=o),(y=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=y}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ta={focusedElem:t,selectionRange:n},oo=!1,O=e;O!==null;)if(e=O,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,O=t;else for(;O!==null;){e=O;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var S=v.memoizedProps,w=v.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?S:St(e.type,S),w);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(E){ge(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,O=t;break}O=e.return}return v=Jd,Jd=!1,v}function ks(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&$a(e,n,i)}s=s.next}while(s!==r)}}function Jo(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Va(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Xp(t){var e=t.alternate;e!==null&&(t.alternate=null,Xp(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[bt],delete e[$s],delete e[Ra],delete e[V_],delete e[H_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Jp(t){return t.tag===5||t.tag===3||t.tag===4}function Zd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Jp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ha(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=uo));else if(r!==4&&(t=t.child,t!==null))for(Ha(t,e,n),t=t.sibling;t!==null;)Ha(t,e,n),t=t.sibling}function Ga(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ga(t,e,n),t=t.sibling;t!==null;)Ga(t,e,n),t=t.sibling}var be=null,Et=!1;function on(t,e,n){for(n=n.child;n!==null;)Zp(t,e,n),n=n.sibling}function Zp(t,e,n){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(Vo,n)}catch{}switch(n.tag){case 5:Ve||Er(n,e);case 6:var r=be,s=Et;be=null,on(t,e,n),be=r,Et=s,be!==null&&(Et?(t=be,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):be.removeChild(n.stateNode));break;case 18:be!==null&&(Et?(t=be,n=n.stateNode,t.nodeType===8?bl(t.parentNode,n):t.nodeType===1&&bl(t,n),Fs(t)):bl(be,n.stateNode));break;case 4:r=be,s=Et,be=n.stateNode.containerInfo,Et=!0,on(t,e,n),be=r,Et=s;break;case 0:case 11:case 14:case 15:if(!Ve&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&$a(n,e,o),s=s.next}while(s!==r)}on(t,e,n);break;case 1:if(!Ve&&(Er(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ge(n,e,l)}on(t,e,n);break;case 21:on(t,e,n);break;case 22:n.mode&1?(Ve=(r=Ve)||n.memoizedState!==null,on(t,e,n),Ve=r):on(t,e,n);break;default:on(t,e,n)}}function ef(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new lv),e.forEach(function(r){var s=yv.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ct(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:be=l.stateNode,Et=!1;break e;case 3:be=l.stateNode.containerInfo,Et=!0;break e;case 4:be=l.stateNode.containerInfo,Et=!0;break e}l=l.return}if(be===null)throw Error(T(160));Zp(i,o,s),be=null,Et=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(c){ge(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)em(e,t),e=e.sibling}function em(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ct(e,t),jt(t),r&4){try{ks(3,t,t.return),Jo(3,t)}catch(S){ge(t,t.return,S)}try{ks(5,t,t.return)}catch(S){ge(t,t.return,S)}}break;case 1:Ct(e,t),jt(t),r&512&&n!==null&&Er(n,n.return);break;case 5:if(Ct(e,t),jt(t),r&512&&n!==null&&Er(n,n.return),t.flags&32){var s=t.stateNode;try{Os(s,"")}catch(S){ge(t,t.return,S)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Sh(s,i),ga(l,o);var c=ga(l,i);for(o=0;o<a.length;o+=2){var h=a[o],f=a[o+1];h==="style"?Th(s,f):h==="dangerouslySetInnerHTML"?kh(s,f):h==="children"?Os(s,f):Eu(s,h,f,c)}switch(l){case"input":da(s,i);break;case"textarea":Eh(s,i);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Nr(s,!!i.multiple,y,!1):d!==!!i.multiple&&(i.defaultValue!=null?Nr(s,!!i.multiple,i.defaultValue,!0):Nr(s,!!i.multiple,i.multiple?[]:"",!1))}s[$s]=i}catch(S){ge(t,t.return,S)}}break;case 6:if(Ct(e,t),jt(t),r&4){if(t.stateNode===null)throw Error(T(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(S){ge(t,t.return,S)}}break;case 3:if(Ct(e,t),jt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Fs(e.containerInfo)}catch(S){ge(t,t.return,S)}break;case 4:Ct(e,t),jt(t);break;case 13:Ct(e,t),jt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(nc=Ce())),r&4&&ef(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Ve=(c=Ve)||h,Ct(e,t),Ve=c):Ct(e,t),jt(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(O=t,h=t.child;h!==null;){for(f=O=h;O!==null;){switch(d=O,y=d.child,d.tag){case 0:case 11:case 14:case 15:ks(4,d,d.return);break;case 1:Er(d,d.return);var v=d.stateNode;if(typeof v.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(S){ge(r,n,S)}}break;case 5:Er(d,d.return);break;case 22:if(d.memoizedState!==null){nf(f);continue}}y!==null?(y.return=d,O=y):nf(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,a=f.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Nh("display",o))}catch(S){ge(t,t.return,S)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(S){ge(t,t.return,S)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ct(e,t),jt(t),r&4&&ef(t);break;case 21:break;default:Ct(e,t),jt(t)}}function jt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Jp(n)){var r=n;break e}n=n.return}throw Error(T(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Os(s,""),r.flags&=-33);var i=Zd(t);Ga(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Zd(t);Ha(t,l,o);break;default:throw Error(T(161))}}catch(a){ge(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function uv(t,e,n){O=t,tm(t)}function tm(t,e,n){for(var r=(t.mode&1)!==0;O!==null;){var s=O,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||bi;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||Ve;l=bi;var c=Ve;if(bi=o,(Ve=a)&&!c)for(O=s;O!==null;)o=O,a=o.child,o.tag===22&&o.memoizedState!==null?rf(s):a!==null?(a.return=o,O=a):rf(s);for(;i!==null;)O=i,tm(i),i=i.sibling;O=s,bi=l,Ve=c}tf(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,O=i):tf(t)}}function tf(t){for(;O!==null;){var e=O;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ve||Jo(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ve)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:St(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Wd(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Wd(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Fs(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}Ve||e.flags&512&&Va(e)}catch(d){ge(e,e.return,d)}}if(e===t){O=null;break}if(n=e.sibling,n!==null){n.return=e.return,O=n;break}O=e.return}}function nf(t){for(;O!==null;){var e=O;if(e===t){O=null;break}var n=e.sibling;if(n!==null){n.return=e.return,O=n;break}O=e.return}}function rf(t){for(;O!==null;){var e=O;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Jo(4,e)}catch(a){ge(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(a){ge(e,s,a)}}var i=e.return;try{Va(e)}catch(a){ge(e,i,a)}break;case 5:var o=e.return;try{Va(e)}catch(a){ge(e,o,a)}}}catch(a){ge(e,e.return,a)}if(e===t){O=null;break}var l=e.sibling;if(l!==null){l.return=e.return,O=l;break}O=e.return}}var cv=Math.ceil,Co=tn.ReactCurrentDispatcher,ec=tn.ReactCurrentOwner,yt=tn.ReactCurrentBatchConfig,X=0,Le=null,Ne=null,Fe=0,it=0,xr=Ln(0),Re=0,Ks=null,Xn=0,Zo=0,tc=0,Ns=null,Ze=null,nc=0,Ur=1/0,Bt=null,So=!1,Ya=null,Sn=null,Mi=!1,mn=null,Eo=0,Ts=0,Qa=null,Xi=-1,Ji=0;function Qe(){return X&6?Ce():Xi!==-1?Xi:Xi=Ce()}function En(t){return t.mode&1?X&2&&Fe!==0?Fe&-Fe:Y_.transition!==null?(Ji===0&&(Ji=Wh()),Ji):(t=te,t!==0||(t=window.event,t=t===void 0?16:Gh(t.type)),t):1}function It(t,e,n,r){if(50<Ts)throw Ts=0,Qa=null,Error(T(185));ui(t,n,r),(!(X&2)||t!==Le)&&(t===Le&&(!(X&2)&&(Zo|=n),Re===4&&hn(t,Fe)),st(t,r),n===1&&X===0&&!(e.mode&1)&&(Ur=Ce()+500,Ko&&bn()))}function st(t,e){var n=t.callbackNode;Yy(t,e);var r=io(t,t===Le?Fe:0);if(r===0)n!==null&&fd(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&fd(n),e===1)t.tag===0?G_(sf.bind(null,t)):dp(sf.bind(null,t)),B_(function(){!(X&6)&&bn()}),n=null;else{switch(zh(r)){case 1:n=Iu;break;case 4:n=Mh;break;case 16:n=so;break;case 536870912:n=Fh;break;default:n=so}n=um(n,nm.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function nm(t,e){if(Xi=-1,Ji=0,X&6)throw Error(T(327));var n=t.callbackNode;if(Ar()&&t.callbackNode!==n)return null;var r=io(t,t===Le?Fe:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=xo(t,r);else{e=r;var s=X;X|=2;var i=sm();(Le!==t||Fe!==e)&&(Bt=null,Ur=Ce()+500,Gn(t,e));do try{hv();break}catch(l){rm(t,l)}while(!0);Uu(),Co.current=i,X=s,Ne!==null?e=0:(Le=null,Fe=0,e=Re)}if(e!==0){if(e===2&&(s=Ca(t),s!==0&&(r=s,e=Ka(t,s))),e===1)throw n=Ks,Gn(t,0),hn(t,r),st(t,Ce()),n;if(e===6)hn(t,r);else{if(s=t.current.alternate,!(r&30)&&!dv(s)&&(e=xo(t,r),e===2&&(i=Ca(t),i!==0&&(r=i,e=Ka(t,i))),e===1))throw n=Ks,Gn(t,0),hn(t,r),st(t,Ce()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(T(345));case 2:Wn(t,Ze,Bt);break;case 3:if(hn(t,r),(r&130023424)===r&&(e=nc+500-Ce(),10<e)){if(io(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Qe(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Pa(Wn.bind(null,t,Ze,Bt),e);break}Wn(t,Ze,Bt);break;case 4:if(hn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Tt(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Ce()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*cv(r/1960))-r,10<r){t.timeoutHandle=Pa(Wn.bind(null,t,Ze,Bt),r);break}Wn(t,Ze,Bt);break;case 5:Wn(t,Ze,Bt);break;default:throw Error(T(329))}}}return st(t,Ce()),t.callbackNode===n?nm.bind(null,t):null}function Ka(t,e){var n=Ns;return t.current.memoizedState.isDehydrated&&(Gn(t,e).flags|=256),t=xo(t,e),t!==2&&(e=Ze,Ze=n,e!==null&&qa(e)),t}function qa(t){Ze===null?Ze=t:Ze.push.apply(Ze,t)}function dv(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Rt(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function hn(t,e){for(e&=~tc,e&=~Zo,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Tt(e),r=1<<n;t[n]=-1,e&=~r}}function sf(t){if(X&6)throw Error(T(327));Ar();var e=io(t,0);if(!(e&1))return st(t,Ce()),null;var n=xo(t,e);if(t.tag!==0&&n===2){var r=Ca(t);r!==0&&(e=r,n=Ka(t,r))}if(n===1)throw n=Ks,Gn(t,0),hn(t,e),st(t,Ce()),n;if(n===6)throw Error(T(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Wn(t,Ze,Bt),st(t,Ce()),null}function rc(t,e){var n=X;X|=1;try{return t(e)}finally{X=n,X===0&&(Ur=Ce()+500,Ko&&bn())}}function Jn(t){mn!==null&&mn.tag===0&&!(X&6)&&Ar();var e=X;X|=1;var n=yt.transition,r=te;try{if(yt.transition=null,te=1,t)return t()}finally{te=r,yt.transition=n,X=e,!(X&6)&&bn()}}function sc(){it=xr.current,ue(xr)}function Gn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,U_(n)),Ne!==null)for(n=Ne.return;n!==null;){var r=n;switch(Fu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&co();break;case 3:Wr(),ue(nt),ue(He),Yu();break;case 5:Gu(r);break;case 4:Wr();break;case 13:ue(de);break;case 19:ue(de);break;case 10:Bu(r.type._context);break;case 22:case 23:sc()}n=n.return}if(Le=t,Ne=t=xn(t.current,null),Fe=it=e,Re=0,Ks=null,tc=Zo=Xn=0,Ze=Ns=null,$n!==null){for(e=0;e<$n.length;e++)if(n=$n[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}$n=null}return t}function rm(t,e){do{var n=Ne;try{if(Uu(),Qi.current=wo,vo){for(var r=fe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}vo=!1}if(qn=0,je=Te=fe=null,xs=!1,Gs=0,ec.current=null,n===null||n.return===null){Re=1,Ks=e,Ne=null;break}e:{var i=t,o=n.return,l=n,a=e;if(e=Fe,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=Hd(o);if(y!==null){y.flags&=-257,Gd(y,o,l,i,e),y.mode&1&&Vd(i,c,e),e=y,a=c;var v=e.updateQueue;if(v===null){var S=new Set;S.add(a),e.updateQueue=S}else v.add(a);break e}else{if(!(e&1)){Vd(i,c,e),ic();break e}a=Error(T(426))}}else if(ce&&l.mode&1){var w=Hd(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Gd(w,o,l,i,e),Wu(zr(a,l));break e}}i=a=zr(a,l),Re!==4&&(Re=2),Ns===null?Ns=[i]:Ns.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=zp(i,a,e);Fd(i,m);break e;case 1:l=a;var p=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Sn===null||!Sn.has(_)))){i.flags|=65536,e&=-e,i.lanes|=e;var E=Up(i,l,e);Fd(i,E);break e}}i=i.return}while(i!==null)}om(n)}catch(N){e=N,Ne===n&&n!==null&&(Ne=n=n.return);continue}break}while(!0)}function sm(){var t=Co.current;return Co.current=wo,t===null?wo:t}function ic(){(Re===0||Re===3||Re===2)&&(Re=4),Le===null||!(Xn&268435455)&&!(Zo&268435455)||hn(Le,Fe)}function xo(t,e){var n=X;X|=2;var r=sm();(Le!==t||Fe!==e)&&(Bt=null,Gn(t,e));do try{fv();break}catch(s){rm(t,s)}while(!0);if(Uu(),X=n,Co.current=r,Ne!==null)throw Error(T(261));return Le=null,Fe=0,Re}function fv(){for(;Ne!==null;)im(Ne)}function hv(){for(;Ne!==null&&!Fy();)im(Ne)}function im(t){var e=am(t.alternate,t,it);t.memoizedProps=t.pendingProps,e===null?om(t):Ne=e,ec.current=null}function om(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=ov(n,e),n!==null){n.flags&=32767,Ne=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Re=6,Ne=null;return}}else if(n=iv(n,e,it),n!==null){Ne=n;return}if(e=e.sibling,e!==null){Ne=e;return}Ne=e=t}while(e!==null);Re===0&&(Re=5)}function Wn(t,e,n){var r=te,s=yt.transition;try{yt.transition=null,te=1,pv(t,e,n,r)}finally{yt.transition=s,te=r}return null}function pv(t,e,n,r){do Ar();while(mn!==null);if(X&6)throw Error(T(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(T(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Qy(t,i),t===Le&&(Ne=Le=null,Fe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Mi||(Mi=!0,um(so,function(){return Ar(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=yt.transition,yt.transition=null;var o=te;te=1;var l=X;X|=4,ec.current=null,av(t,n),em(n,t),O_(Ta),oo=!!Na,Ta=Na=null,t.current=n,uv(n),Wy(),X=l,te=o,yt.transition=i}else t.current=n;if(Mi&&(Mi=!1,mn=t,Eo=s),i=t.pendingLanes,i===0&&(Sn=null),By(n.stateNode),st(t,Ce()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(So)throw So=!1,t=Ya,Ya=null,t;return Eo&1&&t.tag!==0&&Ar(),i=t.pendingLanes,i&1?t===Qa?Ts++:(Ts=0,Qa=t):Ts=0,bn(),null}function Ar(){if(mn!==null){var t=zh(Eo),e=yt.transition,n=te;try{if(yt.transition=null,te=16>t?16:t,mn===null)var r=!1;else{if(t=mn,mn=null,Eo=0,X&6)throw Error(T(331));var s=X;for(X|=4,O=t.current;O!==null;){var i=O,o=i.child;if(O.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var c=l[a];for(O=c;O!==null;){var h=O;switch(h.tag){case 0:case 11:case 15:ks(8,h,i)}var f=h.child;if(f!==null)f.return=h,O=f;else for(;O!==null;){h=O;var d=h.sibling,y=h.return;if(Xp(h),h===c){O=null;break}if(d!==null){d.return=y,O=d;break}O=y}}}var v=i.alternate;if(v!==null){var S=v.child;if(S!==null){v.child=null;do{var w=S.sibling;S.sibling=null,S=w}while(S!==null)}}O=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,O=o;else e:for(;O!==null;){if(i=O,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ks(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,O=m;break e}O=i.return}}var p=t.current;for(O=p;O!==null;){o=O;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,O=_;else e:for(o=p;O!==null;){if(l=O,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Jo(9,l)}}catch(N){ge(l,l.return,N)}if(l===o){O=null;break e}var E=l.sibling;if(E!==null){E.return=l.return,O=E;break e}O=l.return}}if(X=s,bn(),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(Vo,t)}catch{}r=!0}return r}finally{te=n,yt.transition=e}}return!1}function of(t,e,n){e=zr(n,e),e=zp(t,e,1),t=Cn(t,e,1),e=Qe(),t!==null&&(ui(t,1,e),st(t,e))}function ge(t,e,n){if(t.tag===3)of(t,t,n);else for(;e!==null;){if(e.tag===3){of(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Sn===null||!Sn.has(r))){t=zr(n,t),t=Up(e,t,1),e=Cn(e,t,1),t=Qe(),e!==null&&(ui(e,1,t),st(e,t));break}}e=e.return}}function mv(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Qe(),t.pingedLanes|=t.suspendedLanes&n,Le===t&&(Fe&n)===n&&(Re===4||Re===3&&(Fe&130023424)===Fe&&500>Ce()-nc?Gn(t,0):tc|=n),st(t,e)}function lm(t,e){e===0&&(t.mode&1?(e=Ti,Ti<<=1,!(Ti&130023424)&&(Ti=4194304)):e=1);var n=Qe();t=Xt(t,e),t!==null&&(ui(t,e,n),st(t,n))}function gv(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),lm(t,n)}function yv(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(T(314))}r!==null&&r.delete(e),lm(t,n)}var am;am=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||nt.current)et=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return et=!1,sv(t,e,n);et=!!(t.flags&131072)}else et=!1,ce&&e.flags&1048576&&fp(e,po,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;qi(t,e),t=e.pendingProps;var s=br(e,He.current);Rr(e,n),s=Ku(null,e,r,t,s,n);var i=qu();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,rt(r)?(i=!0,fo(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Vu(e),s.updater=Xo,e.stateNode=s,s._reactInternals=e,ba(e,r,t,n),e=Wa(null,e,r,!0,i,n)):(e.tag=0,ce&&i&&Mu(e),Ge(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(qi(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=vv(r),t=St(r,t),s){case 0:e=Fa(null,e,r,t,n);break e;case 1:e=Kd(null,e,r,t,n);break e;case 11:e=Yd(null,e,r,t,n);break e;case 14:e=Qd(null,e,r,St(r.type,t),n);break e}throw Error(T(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:St(r,s),Fa(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:St(r,s),Kd(t,e,r,s,n);case 3:e:{if(Hp(e),t===null)throw Error(T(387));r=e.pendingProps,i=e.memoizedState,s=i.element,_p(t,e),yo(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=zr(Error(T(423)),e),e=qd(t,e,r,n,s);break e}else if(r!==s){s=zr(Error(T(424)),e),e=qd(t,e,r,n,s);break e}else for(ot=wn(e.stateNode.containerInfo.firstChild),lt=e,ce=!0,xt=null,n=gp(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Mr(),r===s){e=Jt(t,e,n);break e}Ge(t,e,r,n)}e=e.child}return e;case 5:return vp(e),t===null&&ja(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Ia(r,s)?o=null:i!==null&&Ia(r,i)&&(e.flags|=32),Vp(t,e),Ge(t,e,o,n),e.child;case 6:return t===null&&ja(e),null;case 13:return Gp(t,e,n);case 4:return Hu(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Fr(e,null,r,n):Ge(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:St(r,s),Yd(t,e,r,s,n);case 7:return Ge(t,e,e.pendingProps,n),e.child;case 8:return Ge(t,e,e.pendingProps.children,n),e.child;case 12:return Ge(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,oe(mo,r._currentValue),r._currentValue=o,i!==null)if(Rt(i.value,o)){if(i.children===s.children&&!nt.current){e=Jt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=Yt(-1,n&-n),a.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?a.next=a:(a.next=h.next,h.next=a),c.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Oa(i.return,n,e),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(T(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Oa(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ge(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Rr(e,n),s=_t(s),r=r(s),e.flags|=1,Ge(t,e,r,n),e.child;case 14:return r=e.type,s=St(r,e.pendingProps),s=St(r.type,s),Qd(t,e,r,s,n);case 15:return Bp(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:St(r,s),qi(t,e),e.tag=1,rt(r)?(t=!0,fo(e)):t=!1,Rr(e,n),Wp(e,r,s),ba(e,r,s,n),Wa(null,e,r,!0,t,n);case 19:return Yp(t,e,n);case 22:return $p(t,e,n)}throw Error(T(156,e.tag))};function um(t,e){return bh(t,e)}function _v(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mt(t,e,n,r){return new _v(t,e,n,r)}function oc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vv(t){if(typeof t=="function")return oc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ku)return 11;if(t===Nu)return 14}return 2}function xn(t,e){var n=t.alternate;return n===null?(n=mt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Zi(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")oc(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case pr:return Yn(n.children,s,i,e);case xu:o=8,s|=8;break;case oa:return t=mt(12,n,e,s|2),t.elementType=oa,t.lanes=i,t;case la:return t=mt(13,n,e,s),t.elementType=la,t.lanes=i,t;case aa:return t=mt(19,n,e,s),t.elementType=aa,t.lanes=i,t;case vh:return el(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case yh:o=10;break e;case _h:o=9;break e;case ku:o=11;break e;case Nu:o=14;break e;case cn:o=16,r=null;break e}throw Error(T(130,t==null?t:typeof t,""))}return e=mt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Yn(t,e,n,r){return t=mt(7,t,r,e),t.lanes=n,t}function el(t,e,n,r){return t=mt(22,t,r,e),t.elementType=vh,t.lanes=n,t.stateNode={isHidden:!1},t}function Vl(t,e,n){return t=mt(6,t,null,e),t.lanes=n,t}function Hl(t,e,n){return e=mt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function wv(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kl(0),this.expirationTimes=kl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kl(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function lc(t,e,n,r,s,i,o,l,a){return t=new wv(t,e,n,l,a),e===1?(e=1,i===!0&&(e|=8)):e=0,i=mt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vu(i),t}function Cv(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function cm(t){if(!t)return Rn;t=t._reactInternals;e:{if(rr(t)!==t||t.tag!==1)throw Error(T(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(rt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(T(171))}if(t.tag===1){var n=t.type;if(rt(n))return cp(t,n,e)}return e}function dm(t,e,n,r,s,i,o,l,a){return t=lc(n,r,!0,t,s,i,o,l,a),t.context=cm(null),n=t.current,r=Qe(),s=En(n),i=Yt(r,s),i.callback=e??null,Cn(n,i,s),t.current.lanes=s,ui(t,s,r),st(t,r),t}function tl(t,e,n,r){var s=e.current,i=Qe(),o=En(s);return n=cm(n),e.context===null?e.context=n:e.pendingContext=n,e=Yt(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Cn(s,e,o),t!==null&&(It(t,s,o,i),Yi(t,s,o)),o}function ko(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function lf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ac(t,e){lf(t,e),(t=t.alternate)&&lf(t,e)}function Sv(){return null}var fm=typeof reportError=="function"?reportError:function(t){console.error(t)};function uc(t){this._internalRoot=t}nl.prototype.render=uc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(T(409));tl(t,e,null,null)};nl.prototype.unmount=uc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Jn(function(){tl(null,t,null,null)}),e[qt]=null}};function nl(t){this._internalRoot=t}nl.prototype.unstable_scheduleHydration=function(t){if(t){var e=$h();t={blockedOn:null,target:t,priority:e};for(var n=0;n<fn.length&&e!==0&&e<fn[n].priority;n++);fn.splice(n,0,t),n===0&&Hh(t)}};function cc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function rl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function af(){}function Ev(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=ko(o);i.call(c)}}var o=dm(e,r,t,0,null,!1,!1,"",af);return t._reactRootContainer=o,t[qt]=o.current,Us(t.nodeType===8?t.parentNode:t),Jn(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var c=ko(a);l.call(c)}}var a=lc(t,0,!1,null,null,!1,!1,"",af);return t._reactRootContainer=a,t[qt]=a.current,Us(t.nodeType===8?t.parentNode:t),Jn(function(){tl(e,a,n,r)}),a}function sl(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=ko(o);l.call(a)}}tl(e,o,t,s)}else o=Ev(n,e,t,s,r);return ko(o)}Uh=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ys(e.pendingLanes);n!==0&&(Pu(e,n|1),st(e,Ce()),!(X&6)&&(Ur=Ce()+500,bn()))}break;case 13:Jn(function(){var r=Xt(t,1);if(r!==null){var s=Qe();It(r,t,1,s)}}),ac(t,1)}};Ru=function(t){if(t.tag===13){var e=Xt(t,134217728);if(e!==null){var n=Qe();It(e,t,134217728,n)}ac(t,134217728)}};Bh=function(t){if(t.tag===13){var e=En(t),n=Xt(t,e);if(n!==null){var r=Qe();It(n,t,e,r)}ac(t,e)}};$h=function(){return te};Vh=function(t,e){var n=te;try{return te=t,e()}finally{te=n}};_a=function(t,e,n){switch(e){case"input":if(da(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Qo(r);if(!s)throw Error(T(90));Ch(r),da(r,s)}}}break;case"textarea":Eh(t,n);break;case"select":e=n.value,e!=null&&Nr(t,!!n.multiple,e,!1)}};Rh=rc;Ah=Jn;var xv={usingClientEntryPoint:!1,Events:[di,_r,Qo,Ih,Ph,rc]},cs={findFiberByHostInstance:Bn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kv={bundleType:cs.bundleType,version:cs.version,rendererPackageName:cs.rendererPackageName,rendererConfig:cs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Oh(t),t===null?null:t.stateNode},findFiberByHostInstance:cs.findFiberByHostInstance||Sv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fi.isDisabled&&Fi.supportsFiber)try{Vo=Fi.inject(kv),Mt=Fi}catch{}}ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xv;ut.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cc(e))throw Error(T(200));return Cv(t,e,null,n)};ut.createRoot=function(t,e){if(!cc(t))throw Error(T(299));var n=!1,r="",s=fm;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=lc(t,1,!1,null,null,n,!1,r,s),t[qt]=e.current,Us(t.nodeType===8?t.parentNode:t),new uc(e)};ut.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(T(188)):(t=Object.keys(t).join(","),Error(T(268,t)));return t=Oh(e),t=t===null?null:t.stateNode,t};ut.flushSync=function(t){return Jn(t)};ut.hydrate=function(t,e,n){if(!rl(e))throw Error(T(200));return sl(null,t,e,!0,n)};ut.hydrateRoot=function(t,e,n){if(!cc(t))throw Error(T(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=fm;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=dm(e,null,t,1,n??null,s,!1,i,o),t[qt]=e.current,Us(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new nl(e)};ut.render=function(t,e,n){if(!rl(e))throw Error(T(200));return sl(null,t,e,!1,n)};ut.unmountComponentAtNode=function(t){if(!rl(t))throw Error(T(40));return t._reactRootContainer?(Jn(function(){sl(null,null,t,!1,function(){t._reactRootContainer=null,t[qt]=null})}),!0):!1};ut.unstable_batchedUpdates=rc;ut.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!rl(n))throw Error(T(200));if(t==null||t._reactInternals===void 0)throw Error(T(38));return sl(t,e,n,!1,r)};ut.version="18.3.1-next-f1338f8080-20240426";function hm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hm)}catch(t){console.error(t)}}hm(),hh.exports=ut;var Nv=hh.exports,uf=Nv;sa.createRoot=uf.createRoot,sa.hydrateRoot=uf.hydrateRoot;var cf={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I=function(t,e){if(!t)throw Xr(e)},Xr=function(t){return new Error("Firebase Database ("+pm.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Tv=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],a=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(a&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},dc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,a=s+2<t.length,c=a?t[s+2]:0,h=i>>2,f=(i&3)<<4|l>>4;let d=(l&15)<<2|c>>6,y=c&63;a||(y=64,o||(d=64)),r.push(n[h],n[f],n[d],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(mm(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Tv(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||c==null||f==null)throw new Iv;const d=i<<2|l>>4;if(r.push(d),c!==64){const y=l<<4&240|c>>2;if(r.push(y),f!==64){const v=c<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Iv extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gm=function(t){const e=mm(t);return dc.encodeByteArray(e,!0)},No=function(t){return gm(t).replace(/\./g,"")},Xa=function(t){try{return dc.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(t){return ym(void 0,t)}function ym(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Rv(n)||(t[n]=ym(t[n],e[n]));return t}function Rv(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Av(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv=()=>Av().__FIREBASE_DEFAULTS__,jv=()=>{if(typeof process>"u"||typeof cf>"u")return;const t=cf.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Ov=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Xa(t[1]);return e&&JSON.parse(e)},_m=()=>{try{return Dv()||jv()||Ov()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Lv=t=>{var e,n;return(n=(e=_m())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},bv=t=>{const e=Lv(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},vm=()=>{var t;return(t=_m())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[No(JSON.stringify(n)),No(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wm(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fv())}function Wv(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zv(){return pm.NODE_ADMIN===!0}function Uv(){try{return typeof indexedDB=="object"}catch{return!1}}function Bv(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="FirebaseError";class pi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=$v,Object.setPrototypeOf(this,pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cm.prototype.create)}}class Cm{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?Vv(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new pi(s,l,r)}}function Vv(t,e){return t.replace(Hv,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Hv=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qs(t){return JSON.parse(t)}function Pe(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm=function(t){let e={},n={},r={},s="";try{const i=t.split(".");e=qs(Xa(i[0])||""),n=qs(Xa(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},Gv=function(t){const e=Sm(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Yv=function(t){const e=Sm(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Br(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function df(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function To(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function Ja(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(ff(i)&&ff(o)){if(!Ja(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function ff(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)r[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)r[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const d=r[f-3]^r[f-8]^r[f-14]^r[f-16];r[f]=(d<<1|d>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],o=this.chain_[2],l=this.chain_[3],a=this.chain_[4],c,h;for(let f=0;f<80;f++){f<40?f<20?(c=l^i&(o^l),h=1518500249):(c=i^o^l,h=1859775393):f<60?(c=i&o|l&(i|o),h=2400959708):(c=i^o^l,h=3395469782);const d=(s<<5|s>>>27)+c+a+h+r[f]&4294967295;a=l,l=o,o=(i<<30|i>>>2)&4294967295,i=s,s=d}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const i=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(i[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}else for(;s<n;)if(i[o]=e[s],++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function il(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,I(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;s=65536+(i<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},ol=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(t){return t&&t._delegate?t._delegate:t}class Xs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new hi;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Zv(e))try{this.getOrInitializeService({instanceIdentifier:zn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=zn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zn){return this.instances.has(e)}getOptions(e=zn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Jv(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=zn){return this.component?this.component.multipleInstances?e:zn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Jv(t){return t===zn?void 0:t}function Zv(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Xv(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(se||(se={}));const t0={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},n0=se.INFO,r0={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},s0=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=r0[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Em{constructor(e){this.name=e,this._logLevel=n0,this._logHandler=s0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?t0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...e),this._logHandler(this,se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...e),this._logHandler(this,se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,se.INFO,...e),this._logHandler(this,se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,se.WARN,...e),this._logHandler(this,se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...e),this._logHandler(this,se.ERROR,...e)}}const i0=(t,e)=>e.some(n=>t instanceof n);let hf,pf;function o0(){return hf||(hf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function l0(){return pf||(pf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xm=new WeakMap,Za=new WeakMap,km=new WeakMap,Gl=new WeakMap,fc=new WeakMap;function a0(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(kn(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&xm.set(n,t)}).catch(()=>{}),fc.set(e,t),e}function u0(t){if(Za.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Za.set(t,e)}let eu={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Za.get(t);if(e==="objectStoreNames")return t.objectStoreNames||km.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return kn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function c0(t){eu=t(eu)}function d0(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Yl(this),e,...n);return km.set(r,e.sort?e.sort():[e]),kn(r)}:l0().includes(t)?function(...e){return t.apply(Yl(this),e),kn(xm.get(this))}:function(...e){return kn(t.apply(Yl(this),e))}}function f0(t){return typeof t=="function"?d0(t):(t instanceof IDBTransaction&&u0(t),i0(t,o0())?new Proxy(t,eu):t)}function kn(t){if(t instanceof IDBRequest)return a0(t);if(Gl.has(t))return Gl.get(t);const e=f0(t);return e!==t&&(Gl.set(t,e),fc.set(e,t)),e}const Yl=t=>fc.get(t);function h0(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=kn(o);return r&&o.addEventListener("upgradeneeded",a=>{r(kn(o.result),a.oldVersion,a.newVersion,kn(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{i&&a.addEventListener("close",()=>i()),s&&a.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const p0=["get","getKey","getAll","getAllKeys","count"],m0=["put","add","delete","clear"],Ql=new Map;function mf(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ql.get(e))return Ql.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=m0.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||p0.includes(n)))return;const i=async function(o,...l){const a=this.transaction(o,s?"readwrite":"readonly");let c=a.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),s&&a.done]))[0]};return Ql.set(e,i),i}c0(t=>({...t,get:(e,n,r)=>mf(e,n)||t.get(e,n,r),has:(e,n)=>!!mf(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(y0(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function y0(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const tu="@firebase/app",gf="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt=new Em("@firebase/app"),_0="@firebase/app-compat",v0="@firebase/analytics-compat",w0="@firebase/analytics",C0="@firebase/app-check-compat",S0="@firebase/app-check",E0="@firebase/auth",x0="@firebase/auth-compat",k0="@firebase/database",N0="@firebase/data-connect",T0="@firebase/database-compat",I0="@firebase/functions",P0="@firebase/functions-compat",R0="@firebase/installations",A0="@firebase/installations-compat",D0="@firebase/messaging",j0="@firebase/messaging-compat",O0="@firebase/performance",L0="@firebase/performance-compat",b0="@firebase/remote-config",M0="@firebase/remote-config-compat",F0="@firebase/storage",W0="@firebase/storage-compat",z0="@firebase/firestore",U0="@firebase/vertexai-preview",B0="@firebase/firestore-compat",$0="firebase",V0="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu="[DEFAULT]",H0={[tu]:"fire-core",[_0]:"fire-core-compat",[w0]:"fire-analytics",[v0]:"fire-analytics-compat",[S0]:"fire-app-check",[C0]:"fire-app-check-compat",[E0]:"fire-auth",[x0]:"fire-auth-compat",[k0]:"fire-rtdb",[N0]:"fire-data-connect",[T0]:"fire-rtdb-compat",[I0]:"fire-fn",[P0]:"fire-fn-compat",[R0]:"fire-iid",[A0]:"fire-iid-compat",[D0]:"fire-fcm",[j0]:"fire-fcm-compat",[O0]:"fire-perf",[L0]:"fire-perf-compat",[b0]:"fire-rc",[M0]:"fire-rc-compat",[F0]:"fire-gcs",[W0]:"fire-gcs-compat",[z0]:"fire-fst",[B0]:"fire-fst-compat",[U0]:"fire-vertex","fire-js":"fire-js",[$0]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io=new Map,G0=new Map,ru=new Map;function yf(t,e){try{t.container.addComponent(e)}catch(n){Zt.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Po(t){const e=t.name;if(ru.has(e))return Zt.debug(`There were multiple attempts to register component ${e}.`),!1;ru.set(e,t);for(const n of Io.values())yf(n,t);for(const n of G0.values())yf(n,t);return!0}function Y0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Nn=new Cm("app","Firebase",Q0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Nn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0=V0;function Nm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:nu,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Nn.create("bad-app-name",{appName:String(s)});if(n||(n=vm()),!n)throw Nn.create("no-options");const i=Io.get(s);if(i){if(Ja(n,i.options)&&Ja(r,i.config))return i;throw Nn.create("duplicate-app",{appName:s})}const o=new e0(s);for(const a of ru.values())o.addComponent(a);const l=new K0(n,r,o);return Io.set(s,l),l}function X0(t=nu){const e=Io.get(t);if(!e&&t===nu&&vm())return Nm();if(!e)throw Nn.create("no-app",{appName:t});return e}function Dr(t,e,n){var r;let s=(r=H0[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zt.warn(l.join(" "));return}Po(new Xs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0="firebase-heartbeat-database",Z0=1,Js="firebase-heartbeat-store";let Kl=null;function Tm(){return Kl||(Kl=h0(J0,Z0,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Js)}catch(n){console.warn(n)}}}}).catch(t=>{throw Nn.create("idb-open",{originalErrorMessage:t.message})})),Kl}async function ew(t){try{const n=(await Tm()).transaction(Js),r=await n.objectStore(Js).get(Im(t));return await n.done,r}catch(e){if(e instanceof pi)Zt.warn(e.message);else{const n=Nn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zt.warn(n.message)}}}async function _f(t,e){try{const r=(await Tm()).transaction(Js,"readwrite");await r.objectStore(Js).put(e,Im(t)),await r.done}catch(n){if(n instanceof pi)Zt.warn(n.message);else{const r=Nn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Zt.warn(r.message)}}}function Im(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw=1024,nw=30*24*60*60*1e3;class rw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new iw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=vf();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=nw}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Zt.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=vf(),{heartbeatsToSend:r,unsentEntries:s}=sw(this._heartbeatsCache.heartbeats),i=No(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Zt.warn(n),""}}}function vf(){return new Date().toISOString().substring(0,10)}function sw(t,e=tw){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),wf(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),wf(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class iw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Uv()?Bv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ew(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return _f(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return _f(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function wf(t){return No(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(t){Po(new Xs("platform-logger",e=>new g0(e),"PRIVATE")),Po(new Xs("heartbeat",e=>new rw(e),"PRIVATE")),Dr(tu,gf,t),Dr(tu,gf,"esm2017"),Dr("fire-js","")}ow("");var lw="firebase",aw="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dr(lw,aw,"app");var Cf={};const Sf="@firebase/database",Ef="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pm="";function uw(t){Pm=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Pe(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:qs(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Wt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new cw(e)}}catch{}return new dw},Hn=Rm("localStorage"),fw=Rm("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr=new Em("@firebase/database"),hw=function(){let t=1;return function(){return t++}}(),Am=function(t){const e=qv(t),n=new Kv;n.update(e);const r=n.digest();return dc.encodeByteArray(r)},mi=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=mi.apply(null,r):typeof r=="object"?e+=Pe(r):e+=r,e+=" "}return e};let Is=null,xf=!0;const pw=function(t,e){I(!0,"Can't turn on custom loggers persistently."),jr.logLevel=se.VERBOSE,Is=jr.log.bind(jr)},Me=function(...t){if(xf===!0&&(xf=!1,Is===null&&fw.get("logging_enabled")===!0&&pw()),Is){const e=mi.apply(null,t);Is(e)}},gi=function(t){return function(...e){Me(t,...e)}},su=function(...t){const e="FIREBASE INTERNAL ERROR: "+mi(...t);jr.error(e)},en=function(...t){const e=`FIREBASE FATAL ERROR: ${mi(...t)}`;throw jr.error(e),new Error(e)},Ke=function(...t){const e="FIREBASE WARNING: "+mi(...t);jr.warn(e)},mw=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ke("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},hc=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},gw=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},$r="[MIN_NAME]",Zn="[MAX_NAME]",ir=function(t,e){if(t===e)return 0;if(t===$r||e===Zn)return-1;if(e===$r||t===Zn)return 1;{const n=kf(t),r=kf(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},yw=function(t,e){return t===e?0:t<e?-1:1},ds=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Pe(e))},pc=function(t){if(typeof t!="object"||t===null)return Pe(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Pe(e[r]),n+=":",n+=pc(t[e[r]]);return n+="}",n},Dm=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function ze(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const jm=function(t){I(!hc(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,i,o,l,a;t===0?(i=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=l+r,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(a=n;a;a-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(a=e;a;a-=1)c.push(i%2?1:0),i=Math.floor(i/2);c.push(s?1:0),c.reverse();const h=c.join("");let f="";for(a=0;a<64;a+=8){let d=parseInt(h.substr(a,8),2).toString(16);d.length===1&&(d="0"+d),f=f+d}return f.toLowerCase()},_w=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},vw=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function ww(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const Cw=new RegExp("^-?(0*)\\d{1,10}$"),Sw=-2147483648,Ew=2147483647,kf=function(t){if(Cw.test(t)){const e=Number(t);if(e>=Sw&&e<=Ew)return e}return null},Jr=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Ke("Exception was thrown by user callback.",n),e},Math.floor(0))}},xw=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ps=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ke(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Me("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ke(e)}}class eo{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}eo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc="5",Om="v",Lm="s",bm="r",Mm="f",Fm=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Wm="ls",zm="p",iu="ac",Um="websocket",Bm="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,n,r,s,i=!1,o="",l=!1,a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Hn.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Hn.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Tw(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Vm(t,e,n){I(typeof e=="string","typeof type must == string"),I(typeof n=="object","typeof params must == object");let r;if(e===Um)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Bm)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Tw(t)&&(n.ns=t.namespace);const s=[];return ze(n,(i,o)=>{s.push(i+"="+o)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(){this.counters_={}}incrementCounter(e,n=1){Wt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Pv(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql={},Xl={};function gc(t){const e=t.toString();return ql[e]||(ql[e]=new Iw),ql[e]}function Pw(t,e){const n=t.toString();return Xl[n]||(Xl[n]=e()),Xl[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&Jr(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf="start",Aw="close",Dw="pLPCommand",jw="pRTLPCB",Hm="id",Gm="pw",Ym="ser",Ow="cb",Lw="seg",bw="ts",Mw="d",Fw="dframe",Qm=1870,Km=30,Ww=Qm-Km,zw=25e3,Uw=3e4;class kr{constructor(e,n,r,s,i,o,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=gi(e),this.stats_=gc(n),this.urlFn=a=>(this.appCheckToken&&(a[iu]=this.appCheckToken),Vm(n,Bm,a))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Rw(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Uw)),gw(()=>{if(this.isClosed_)return;this.scriptTagHolder=new yc((...i)=>{const[o,l,a,c,h]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Nf)this.id=l,this.password=a;else if(o===Aw)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,l]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[Nf]="t",r[Ym]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Ow]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Om]=mc,this.transportSessionId&&(r[Lm]=this.transportSessionId),this.lastSessionId&&(r[Wm]=this.lastSessionId),this.applicationId&&(r[zm]=this.applicationId),this.appCheckToken&&(r[iu]=this.appCheckToken),typeof location<"u"&&location.hostname&&Fm.test(location.hostname)&&(r[bm]=Mm);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){kr.forceAllow_=!0}static forceDisallow(){kr.forceDisallow_=!0}static isAvailable(){return kr.forceAllow_?!0:!kr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!_w()&&!vw()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Pe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=gm(n),s=Dm(r,Ww);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Fw]="t",r[Hm]=e,r[Gm]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Pe(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class yc{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=hw(),window[Dw+this.uniqueCallbackIdentifier]=e,window[jw+this.uniqueCallbackIdentifier]=n,this.myIFrame=yc.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){Me("frame writing exception"),l.stack&&Me(l.stack),Me(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Me("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Hm]=this.myID,e[Gm]=this.myPW,e[Ym]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Km+r.length<=Qm;){const o=this.pendingSegs.shift();r=r+"&"+Lw+s+"="+o.seg+"&"+bw+s+"="+o.ts+"&"+Mw+s+"="+o.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(zw)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Me("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=16384,$w=45e3;let Ro=null;typeof MozWebSocket<"u"?Ro=MozWebSocket:typeof WebSocket<"u"&&(Ro=WebSocket);class kt{constructor(e,n,r,s,i,o,l){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=gi(this.connId),this.stats_=gc(n),this.connURL=kt.connectionURL_(n,o,l,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,i){const o={};return o[Om]=mc,typeof location<"u"&&location.hostname&&Fm.test(location.hostname)&&(o[bm]=Mm),n&&(o[Lm]=n),r&&(o[Wm]=r),s&&(o[iu]=s),i&&(o[zm]=i),Vm(e,Um,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Hn.set("previous_websocket_failure",!0);try{let r;zv(),this.mySock=new Ro(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){kt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Ro!==null&&!kt.forceDisallow_}static previouslyFailed(){return Hn.isInMemoryStorage||Hn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Hn.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=qs(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(I(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Pe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Dm(n,Bw);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor($w))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}kt.responsesRequiredToBeHealthy=2;kt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[kr,kt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=kt&&kt.isAvailable();let r=n&&!kt.previouslyFailed();if(e.webSocketOnly&&(n||Ke("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[kt];else{const s=this.transports_=[];for(const i of Zs.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);Zs.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Zs.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw=6e4,Hw=5e3,Gw=10*1024,Yw=100*1024,Jl="t",Tf="d",Qw="s",If="r",Kw="e",Pf="o",Rf="a",Af="n",Df="p",qw="h";class Xw{constructor(e,n,r,s,i,o,l,a,c,h){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=a,this.onKill_=c,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=gi("c:"+this.id+":"),this.transportManager_=new Zs(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=Ps(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Yw?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Gw?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Jl in e){const n=e[Jl];n===Rf?this.upgradeIfSecondaryHealthy_():n===If?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Pf&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=ds("t",e),r=ds("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Df,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Rf,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Af,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=ds("t",e),r=ds("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=ds(Jl,e);if(Tf in e){const r=e[Tf];if(n===qw){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===Af){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Qw?this.onConnectionShutdown_(r):n===If?this.onReset_(r):n===Kw?su("Server Error: "+r):n===Pf?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):su("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),mc!==r&&Ke("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ps(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Vw))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ps(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Hw))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Df,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Hn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e){this.allowedEvents_=e,this.listeners_={},I(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){I(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao extends Xm{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!wm()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ao}getInitialEvent(e){return I(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf=32,Of=768;class ne{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ee(){return new ne("")}function G(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function An(t){return t.pieces_.length-t.pieceNum_}function ie(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ne(t.pieces_,e)}function _c(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Jw(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function ei(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Jm(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ne(e,0)}function ye(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ne)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new ne(n,0)}function Q(t){return t.pieceNum_>=t.pieces_.length}function Ye(t,e){const n=G(t),r=G(e);if(n===null)return e;if(n===r)return Ye(ie(t),ie(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Zw(t,e){const n=ei(t,0),r=ei(e,0);for(let s=0;s<n.length&&s<r.length;s++){const i=ir(n[s],r[s]);if(i!==0)return i}return n.length===r.length?0:n.length<r.length?-1:1}function vc(t,e){if(An(t)!==An(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function gt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(An(t)>An(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class eC{constructor(e,n){this.errorPrefix_=n,this.parts_=ei(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=ol(this.parts_[r]);Zm(this)}}function tC(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=ol(e),Zm(t)}function nC(t){const e=t.parts_.pop();t.byteLength_-=ol(e),t.parts_.length>0&&(t.byteLength_-=1)}function Zm(t){if(t.byteLength_>Of)throw new Error(t.errorPrefix_+"has a key path longer than "+Of+" bytes ("+t.byteLength_+").");if(t.parts_.length>jf)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+jf+") or object contains a cycle "+Un(t))}function Un(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc extends Xm{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new wc}getInitialEvent(e){return I(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=1e3,rC=60*5*1e3,Lf=30*1e3,sC=1.3,iC=3e4,oC="server_kill",bf=3;class Qt extends qm{constructor(e,n,r,s,i,o,l,a){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=Qt.nextPersistentConnectionId_++,this.log_=gi("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=fs,this.maxReconnectDelay_=rC,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");wc.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Ao.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,i={r:s,a:e,b:n};this.log_(Pe(i)),I(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new hi,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,r,s){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),I(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),I(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(o).set(i,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,l=>{const a=l.d,c=l.s;Qt.warnOnListenWarnings_(a,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",l),c!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(c,a))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Wt(e,"w")){const r=Br(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();Ke(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Yv(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Lf)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=Gv(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,o=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),I(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";s&&(i.q=r,i.t=s),this.sendRequest(o,i)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,i){this.initConnection_();const o={p:n,d:r};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Pe(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):su("Unrecognized action received from server: "+Pe(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){I(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=fs,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=fs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>iC&&(this.reconnectDelay_=fs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*sC)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+Qt.nextConnectionId_++,i=this.lastSessionId;let o=!1,l=null;const a=function(){l?l.close():(o=!0,r())},c=function(f){I(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)};this.realtime_={close:a,sendRequest:c};const h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,d]=await Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);o?Me("getToken() completed but was canceled"):(Me("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=d&&d.token,l=new Xw(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,y=>{Ke(y+" ("+this.repoInfo_.toString()+")"),this.interrupt(oC)},i))}catch(f){this.log_("Failed to get token: "+f),o||(this.repoInfo_.nodeAdmin&&Ke(f),a())}}}interrupt(e){Me("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Me("Resuming connection for reason: "+e),delete this.interruptReasons_[e],df(this.interruptReasons_)&&(this.reconnectDelay_=fs,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(i=>pc(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new ne(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){Me("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=bf&&(this.reconnectDelay_=Lf,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Me("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=bf&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Pm.replace(/\./g,"-")]=1,wm()?e["framework.cordova"]=1:Wv()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ao.getInstance().currentlyOnline();return df(this.interruptReasons_)&&e}}Qt.nextPersistentConnectionId_=0;Qt.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Y(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Y($r,e),s=new Y($r,n);return this.compare(r,s)!==0}minPost(){return Y.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wi;class eg extends ll{static get __EMPTY_NODE(){return Wi}static set __EMPTY_NODE(e){Wi=e}compare(e,n){return ir(e.name,n.name)}isDefinedOn(e){throw Xr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Y.MIN}maxPost(){return new Y(Zn,Wi)}makePost(e,n){return I(typeof e=="string","KeyIndex indexValue must always be a string."),new Y(e,Wi)}toString(){return".key"}}const Or=new eg;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Oe{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Oe.RED,this.left=s??tt.EMPTY_NODE,this.right=i??tt.EMPTY_NODE}copy(e,n,r,s,i){return new Oe(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return tt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return tt.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Oe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Oe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Oe.RED=!0;Oe.BLACK=!1;class lC{copy(e,n,r,s,i){return this}insert(e,n,r){return new Oe(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class tt{constructor(e,n=tt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new tt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Oe.BLACK,null,null))}remove(e){return new tt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Oe.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new zi(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new zi(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new zi(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new zi(this.root_,null,this.comparator_,!0,e)}}tt.EMPTY_NODE=new lC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(t,e){return ir(t.name,e.name)}function Cc(t,e){return ir(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ou;function uC(t){ou=t}const tg=function(t){return typeof t=="number"?"number:"+jm(t):"string:"+t},ng=function(t){if(t.isLeafNode()){const e=t.val();I(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Wt(e,".sv"),"Priority must be a string or number.")}else I(t===ou||t.isEmpty(),"priority of unexpected type.");I(t===ou||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mf;class De{constructor(e,n=De.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,I(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),ng(this.priorityNode_)}static set __childrenNodeConstructor(e){Mf=e}static get __childrenNodeConstructor(){return Mf}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new De(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:De.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Q(e)?this:G(e)===".priority"?this.priorityNode_:De.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:De.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=G(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(I(r!==".priority"||An(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,De.__childrenNodeConstructor.EMPTY_NODE.updateChild(ie(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+tg(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=jm(this.value_):e+=this.value_,this.lazyHash_=Am(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===De.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof De.__childrenNodeConstructor?-1:(I(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=De.VALUE_TYPE_ORDER.indexOf(n),i=De.VALUE_TYPE_ORDER.indexOf(r);return I(s>=0,"Unknown leaf type: "+n),I(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}De.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rg,sg;function cC(t){rg=t}function dC(t){sg=t}class fC extends ll{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?ir(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Y.MIN}maxPost(){return new Y(Zn,new De("[PRIORITY-POST]",sg))}makePost(e,n){const r=rg(e);return new Y(n,new De("[PRIORITY-POST]",r))}toString(){return".priority"}}const _e=new fC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=Math.log(2);class pC{constructor(e){const n=i=>parseInt(Math.log(i)/hC,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Do=function(t,e,n,r){t.sort(e);const s=function(a,c){const h=c-a;let f,d;if(h===0)return null;if(h===1)return f=t[a],d=n?n(f):f,new Oe(d,f.node,Oe.BLACK,null,null);{const y=parseInt(h/2,10)+a,v=s(a,y),S=s(y+1,c);return f=t[y],d=n?n(f):f,new Oe(d,f.node,Oe.BLACK,v,S)}},i=function(a){let c=null,h=null,f=t.length;const d=function(v,S){const w=f-v,m=f;f-=v;const p=s(w+1,m),_=t[w],E=n?n(_):_;y(new Oe(E,_.node,S,null,p))},y=function(v){c?(c.left=v,c=v):(h=v,c=v)};for(let v=0;v<a.count;++v){const S=a.nextBitIsOne(),w=Math.pow(2,a.count-(v+1));S?d(w,Oe.BLACK):(d(w,Oe.BLACK),d(w,Oe.RED))}return h},o=new pC(t.length),l=i(o);return new tt(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zl;const fr={};class Gt{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return I(fr&&_e,"ChildrenNode.ts has not been loaded"),Zl=Zl||new Gt({".priority":fr},{".priority":_e}),Zl}get(e){const n=Br(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof tt?n:null}hasIndex(e){return Wt(this.indexSet_,e.toString())}addIndex(e,n){I(e!==Or,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(Y.Wrap);let o=i.getNext();for(;o;)s=s||e.isDefinedOn(o.node),r.push(o),o=i.getNext();let l;s?l=Do(r,e.getCompare()):l=fr;const a=e.toString(),c=Object.assign({},this.indexSet_);c[a]=e;const h=Object.assign({},this.indexes_);return h[a]=l,new Gt(h,c)}addToIndexes(e,n){const r=To(this.indexes_,(s,i)=>{const o=Br(this.indexSet_,i);if(I(o,"Missing index implementation for "+i),s===fr)if(o.isDefinedOn(e.node)){const l=[],a=n.getIterator(Y.Wrap);let c=a.getNext();for(;c;)c.name!==e.name&&l.push(c),c=a.getNext();return l.push(e),Do(l,o.getCompare())}else return fr;else{const l=n.get(e.name);let a=s;return l&&(a=a.remove(new Y(e.name,l))),a.insert(e,e.node)}});return new Gt(r,this.indexSet_)}removeFromIndexes(e,n){const r=To(this.indexes_,s=>{if(s===fr)return s;{const i=n.get(e.name);return i?s.remove(new Y(e.name,i)):s}});return new Gt(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hs;class z{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&ng(this.priorityNode_),this.children_.isEmpty()&&I(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return hs||(hs=new z(new tt(Cc),null,Gt.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||hs}updatePriority(e){return this.children_.isEmpty()?this:new z(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?hs:n}}getChild(e){const n=G(e);return n===null?this:this.getImmediateChild(n).getChild(ie(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(I(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Y(e,n);let s,i;n.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));const o=s.isEmpty()?hs:this.priorityNode_;return new z(s,o,i)}}updateChild(e,n){const r=G(e);if(r===null)return n;{I(G(e)!==".priority"||An(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(ie(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(_e,(o,l)=>{n[o]=l.val(e),r++,i&&z.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):i=!1}),!e&&i&&s<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+tg(this.getPriority().val())+":"),this.forEachChild(_e,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":Am(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new Y(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Y(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Y(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,Y.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,Y.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===yi?-1:0}withIndex(e){if(e===Or||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new z(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Or||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(_e),s=n.getIterator(_e);let i=r.getNext(),o=s.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=r.getNext(),o=s.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Or?null:this.indexMap_.get(e.toString())}}z.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class mC extends z{constructor(){super(new tt(Cc),z.EMPTY_NODE,Gt.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return z.EMPTY_NODE}isEmpty(){return!1}}const yi=new mC;Object.defineProperties(Y,{MIN:{value:new Y($r,z.EMPTY_NODE)},MAX:{value:new Y(Zn,yi)}});eg.__EMPTY_NODE=z.EMPTY_NODE;De.__childrenNodeConstructor=z;uC(yi);dC(yi);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=!0;function Ie(t,e=null){if(t===null)return z.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),I(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new De(n,Ie(e))}if(!(t instanceof Array)&&gC){const n=[];let r=!1;if(ze(t,(o,l)=>{if(o.substring(0,1)!=="."){const a=Ie(l);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new Y(o,a)))}}),n.length===0)return z.EMPTY_NODE;const i=Do(n,aC,o=>o.name,Cc);if(r){const o=Do(n,_e.getCompare());return new z(i,Ie(e),new Gt({".priority":o},{".priority":_e}))}else return new z(i,Ie(e),Gt.Default)}else{let n=z.EMPTY_NODE;return ze(t,(r,s)=>{if(Wt(t,r)&&r.substring(0,1)!=="."){const i=Ie(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(Ie(e))}}cC(Ie);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC extends ll{constructor(e){super(),this.indexPath_=e,I(!Q(e)&&G(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?ir(e.name,n.name):i}makePost(e,n){const r=Ie(e),s=z.EMPTY_NODE.updateChild(this.indexPath_,r);return new Y(n,s)}maxPost(){const e=z.EMPTY_NODE.updateChild(this.indexPath_,yi);return new Y(Zn,e)}toString(){return ei(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C extends ll{compare(e,n){const r=e.node.compareTo(n.node);return r===0?ir(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Y.MIN}maxPost(){return Y.MAX}makePost(e,n){const r=Ie(e);return new Y(n,r)}toString(){return".value"}}const vC=new _C;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(t){return{type:"value",snapshotNode:t}}function Vr(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ti(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ni(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function wC(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e){this.index_=e}updateChild(e,n,r,s,i,o){I(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(s).equals(r.getChild(s))&&l.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(ti(n,l)):I(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(Vr(n,r)):o.trackChildChange(ni(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(_e,(s,i)=>{n.hasChild(s)||r.trackChildChange(ti(s,i))}),n.isLeafNode()||n.forEachChild(_e,(s,i)=>{if(e.hasChild(s)){const o=e.getImmediateChild(s);o.equals(i)||r.trackChildChange(ni(s,i,o))}else r.trackChildChange(Vr(s,i))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?z.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this.indexedFilter_=new Sc(e.getIndex()),this.index_=e.getIndex(),this.startPost_=ri.getStartPost_(e),this.endPost_=ri.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,s,i,o){return this.matches(new Y(n,r))||(r=z.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,s,i,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=z.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(z.EMPTY_NODE);const i=this;return n.forEachChild(_e,(o,l)=>{i.matches(new Y(o,l))||(s=s.updateImmediateChild(o,z.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new ri(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,s,i,o){return this.rangedFilter_.matches(new Y(n,r))||(r=z.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,s,i,o):this.fullLimitUpdateChild_(e,n,r,i,o)}updateFullNode(e,n,r){let s;if(n.isLeafNode()||n.isEmpty())s=z.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=z.EMPTY_NODE.withIndex(this.index_);let i;this.reverse_?i=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):i=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;i.hasNext()&&o<this.limit_;){const l=i.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))s=s.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(z.EMPTY_NODE);let i;this.reverse_?i=s.getReverseIterator(this.index_):i=s.getIterator(this.index_);let o=0;for(;i.hasNext();){const l=i.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:s=s.updateImmediateChild(l.name,z.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,s,i){let o;if(this.reverse_){const f=this.index_.getCompare();o=(d,y)=>f(y,d)}else o=this.index_.getCompare();const l=e;I(l.numChildren()===this.limit_,"");const a=new Y(n,r),c=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),h=this.rangedFilter_.matches(a);if(l.hasChild(n)){const f=l.getImmediateChild(n);let d=s.getChildAfterChild(this.index_,c,this.reverse_);for(;d!=null&&(d.name===n||l.hasChild(d.name));)d=s.getChildAfterChild(this.index_,d,this.reverse_);const y=d==null?1:o(d,a);if(h&&!r.isEmpty()&&y>=0)return i!=null&&i.trackChildChange(ni(n,r,f)),l.updateImmediateChild(n,r);{i!=null&&i.trackChildChange(ti(n,f));const S=l.updateImmediateChild(n,z.EMPTY_NODE);return d!=null&&this.rangedFilter_.matches(d)?(i!=null&&i.trackChildChange(Vr(d.name,d.node)),S.updateImmediateChild(d.name,d.node)):S}}else return r.isEmpty()?e:h&&o(c,a)>=0?(i!=null&&(i.trackChildChange(ti(c.name,c.node)),i.trackChildChange(Vr(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(c.name,z.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=_e}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return I(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return I(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:$r}hasEnd(){return this.endSet_}getIndexEndValue(){return I(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return I(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Zn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return I(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===_e}copy(){const e=new Ec;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function SC(t){return t.loadsAllData()?new Sc(t.getIndex()):t.hasLimit()?new CC(t):new ri(t)}function Ff(t){const e={};if(t.isDefault())return e;let n;if(t.index_===_e?n="$priority":t.index_===vC?n="$value":t.index_===Or?n="$key":(I(t.index_ instanceof yC,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Pe(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Pe(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Pe(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Pe(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Pe(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Wf(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==_e&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo extends qm{constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=gi("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(I(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=jo.getListenId_(e,r),l={};this.listens_[o]=l;const a=Ff(e._queryParams);this.restRequest_(i+".json",a,(c,h)=>{let f=h;if(c===404&&(f=null,c=null),c===null&&this.onDataUpdate_(i,f,!1,r),Br(this.listens_,o)===l){let d;c?c===401?d="permission_denied":d="rest_error:"+c:d="ok",s(d,null)}})}unlisten(e,n){const r=jo.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Ff(e._queryParams),r=e._path.toString(),s=new hi;return this.restRequest_(r+".json",n,(i,o)=>{let l=o;i===404&&(l=null,i=null),i===null?(this.onDataUpdate_(r,l,!1,null),s.resolve(l)):s.reject(new Error(l))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Qv(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=qs(l.responseText)}catch{Ke("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,a)}else l.status!==401&&l.status!==404&&Ke("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(){this.rootNode_=z.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oo(){return{value:null,children:new Map}}function og(t,e,n){if(Q(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=G(e);t.children.has(r)||t.children.set(r,Oo());const s=t.children.get(r);e=ie(e),og(s,e,n)}}function lu(t,e,n){t.value!==null?n(e,t.value):xC(t,(r,s)=>{const i=new ne(e.toString()+"/"+r);lu(s,i,n)})}function xC(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&ze(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf=10*1e3,NC=30*1e3,TC=5*60*1e3;class IC{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new kC(e);const r=zf+(NC-zf)*Math.random();Ps(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;ze(e,(s,i)=>{i>0&&Wt(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),Ps(this.reportStats_.bind(this),Math.floor(Math.random()*2*TC))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Nt||(Nt={}));function xc(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function kc(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Nc(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Nt.ACK_USER_WRITE,this.source=xc()}operationForChild(e){if(Q(this.path)){if(this.affectedTree.value!=null)return I(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ne(e));return new Lo(ee(),n,this.revert)}}else return I(G(this.path)===e,"operationForChild called for unrelated child."),new Lo(ie(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e,n){this.source=e,this.path=n,this.type=Nt.LISTEN_COMPLETE}operationForChild(e){return Q(this.path)?new si(this.source,ee()):new si(this.source,ie(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Nt.OVERWRITE}operationForChild(e){return Q(this.path)?new er(this.source,ee(),this.snap.getImmediateChild(e)):new er(this.source,ie(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Nt.MERGE}operationForChild(e){if(Q(this.path)){const n=this.children.subtree(new ne(e));return n.isEmpty()?null:n.value?new er(this.source,ee(),n.value):new Hr(this.source,ee(),n)}else return I(G(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Hr(this.source,ie(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Q(e))return this.isFullyInitialized()&&!this.filtered_;const n=G(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function RC(t,e,n,r){const s=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(wC(o.childName,o.snapshotNode))}),ps(t,s,"child_removed",e,r,n),ps(t,s,"child_added",e,r,n),ps(t,s,"child_moved",i,r,n),ps(t,s,"child_changed",e,r,n),ps(t,s,"value",e,r,n),s}function ps(t,e,n,r,s,i){const o=r.filter(l=>l.type===n);o.sort((l,a)=>DC(t,l,a)),o.forEach(l=>{const a=AC(t,l,i);s.forEach(c=>{c.respondsTo(l.type)&&e.push(c.createEvent(a,t.query_))})})}function AC(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function DC(t,e,n){if(e.childName==null||n.childName==null)throw Xr("Should only compare child_ events.");const r=new Y(e.childName,e.snapshotNode),s=new Y(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function al(t,e){return{eventCache:t,serverCache:e}}function Rs(t,e,n,r){return al(new Dn(e,n,r),t.serverCache)}function lg(t,e,n,r){return al(t.eventCache,new Dn(e,n,r))}function bo(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function tr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ea;const jC=()=>(ea||(ea=new tt(yw)),ea);class re{constructor(e,n=jC()){this.value=e,this.children=n}static fromObject(e){let n=new re(null);return ze(e,(r,s)=>{n=n.set(new ne(r),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ee(),value:this.value};if(Q(e))return null;{const r=G(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(ie(e),n);return i!=null?{path:ye(new ne(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Q(e))return this;{const n=G(e),r=this.children.get(n);return r!==null?r.subtree(ie(e)):new re(null)}}set(e,n){if(Q(e))return new re(n,this.children);{const r=G(e),i=(this.children.get(r)||new re(null)).set(ie(e),n),o=this.children.insert(r,i);return new re(this.value,o)}}remove(e){if(Q(e))return this.children.isEmpty()?new re(null):new re(null,this.children);{const n=G(e),r=this.children.get(n);if(r){const s=r.remove(ie(e));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new re(null):new re(this.value,i)}else return this}}get(e){if(Q(e))return this.value;{const n=G(e),r=this.children.get(n);return r?r.get(ie(e)):null}}setTree(e,n){if(Q(e))return n;{const r=G(e),i=(this.children.get(r)||new re(null)).setTree(ie(e),n);let o;return i.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,i),new re(this.value,o)}}fold(e){return this.fold_(ee(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(ye(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ee(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(Q(e))return null;{const i=G(e),o=this.children.get(i);return o?o.findOnPath_(ie(e),ye(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ee(),n)}foreachOnPath_(e,n,r){if(Q(e))return this;{this.value&&r(n,this.value);const s=G(e),i=this.children.get(s);return i?i.foreachOnPath_(ie(e),ye(n,s),r):new re(null)}}foreach(e){this.foreach_(ee(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(ye(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.writeTree_=e}static empty(){return new Pt(new re(null))}}function As(t,e,n){if(Q(e))return new Pt(new re(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const o=Ye(s,e);return i=i.updateChild(o,n),new Pt(t.writeTree_.set(s,i))}else{const s=new re(n),i=t.writeTree_.setTree(e,s);return new Pt(i)}}}function au(t,e,n){let r=t;return ze(n,(s,i)=>{r=As(r,ye(e,s),i)}),r}function Uf(t,e){if(Q(e))return Pt.empty();{const n=t.writeTree_.setTree(e,new re(null));return new Pt(n)}}function uu(t,e){return or(t,e)!=null}function or(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ye(n.path,e)):null}function Bf(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(_e,(r,s)=>{e.push(new Y(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new Y(r,s.value))}),e}function Tn(t,e){if(Q(e))return t;{const n=or(t,e);return n!=null?new Pt(new re(n)):new Pt(t.writeTree_.subtree(e))}}function cu(t){return t.writeTree_.isEmpty()}function Gr(t,e){return ag(ee(),t.writeTree_,e)}function ag(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?(I(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=ag(ye(t,s),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(ye(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(t,e){return fg(e,t)}function OC(t,e,n,r,s){I(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=As(t.visibleWrites,e,n)),t.lastWriteId=r}function LC(t,e,n,r){I(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=au(t.visibleWrites,e,n),t.lastWriteId=r}function bC(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function MC(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);I(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,i=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&FC(l,r.path)?s=!1:gt(r.path,l.path)&&(i=!0)),o--}if(s){if(i)return WC(t),!0;if(r.snap)t.visibleWrites=Uf(t.visibleWrites,r.path);else{const l=r.children;ze(l,a=>{t.visibleWrites=Uf(t.visibleWrites,ye(r.path,a))})}return!0}else return!1}function FC(t,e){if(t.snap)return gt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&gt(ye(t.path,n),e))return!0;return!1}function WC(t){t.visibleWrites=ug(t.allWrites,zC,ee()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function zC(t){return t.visible}function ug(t,e,n){let r=Pt.empty();for(let s=0;s<t.length;++s){const i=t[s];if(e(i)){const o=i.path;let l;if(i.snap)gt(n,o)?(l=Ye(n,o),r=As(r,l,i.snap)):gt(o,n)&&(l=Ye(o,n),r=As(r,ee(),i.snap.getChild(l)));else if(i.children){if(gt(n,o))l=Ye(n,o),r=au(r,l,i.children);else if(gt(o,n))if(l=Ye(o,n),Q(l))r=au(r,ee(),i.children);else{const a=Br(i.children,G(l));if(a){const c=a.getChild(ie(l));r=As(r,ee(),c)}}}else throw Xr("WriteRecord should have .snap or .children")}}return r}function cg(t,e,n,r,s){if(!r&&!s){const i=or(t.visibleWrites,e);if(i!=null)return i;{const o=Tn(t.visibleWrites,e);if(cu(o))return n;if(n==null&&!uu(o,ee()))return null;{const l=n||z.EMPTY_NODE;return Gr(o,l)}}}else{const i=Tn(t.visibleWrites,e);if(!s&&cu(i))return n;if(!s&&n==null&&!uu(i,ee()))return null;{const o=function(c){return(c.visible||s)&&(!r||!~r.indexOf(c.writeId))&&(gt(c.path,e)||gt(e,c.path))},l=ug(t.allWrites,o,e),a=n||z.EMPTY_NODE;return Gr(l,a)}}}function UC(t,e,n){let r=z.EMPTY_NODE;const s=or(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(_e,(i,o)=>{r=r.updateImmediateChild(i,o)}),r;if(n){const i=Tn(t.visibleWrites,e);return n.forEachChild(_e,(o,l)=>{const a=Gr(Tn(i,new ne(o)),l);r=r.updateImmediateChild(o,a)}),Bf(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const i=Tn(t.visibleWrites,e);return Bf(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function BC(t,e,n,r,s){I(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=ye(e,n);if(uu(t.visibleWrites,i))return null;{const o=Tn(t.visibleWrites,i);return cu(o)?s.getChild(n):Gr(o,s.getChild(n))}}function $C(t,e,n,r){const s=ye(e,n),i=or(t.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const o=Tn(t.visibleWrites,s);return Gr(o,r.getNode().getImmediateChild(n))}else return null}function VC(t,e){return or(t.visibleWrites,e)}function HC(t,e,n,r,s,i,o){let l;const a=Tn(t.visibleWrites,e),c=or(a,ee());if(c!=null)l=c;else if(n!=null)l=Gr(a,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const h=[],f=o.getCompare(),d=i?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let y=d.getNext();for(;y&&h.length<s;)f(y,r)!==0&&h.push(y),y=d.getNext();return h}else return[]}function GC(){return{visibleWrites:Pt.empty(),allWrites:[],lastWriteId:-1}}function Mo(t,e,n,r){return cg(t.writeTree,t.treePath,e,n,r)}function Tc(t,e){return UC(t.writeTree,t.treePath,e)}function $f(t,e,n,r){return BC(t.writeTree,t.treePath,e,n,r)}function Fo(t,e){return VC(t.writeTree,ye(t.treePath,e))}function YC(t,e,n,r,s,i){return HC(t.writeTree,t.treePath,e,n,r,s,i)}function Ic(t,e,n){return $C(t.writeTree,t.treePath,e,n)}function dg(t,e){return fg(ye(t.treePath,e),t.writeTree)}function fg(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;I(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),I(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,ni(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,ti(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,Vr(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,ni(r,e.snapshotNode,s.oldSnap));else throw Xr("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const hg=new KC;class Pc{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Dn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ic(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:tr(this.viewCache_),i=YC(this.writes_,s,n,1,r,e);return i.length===0?null:i[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(t){return{filter:t}}function XC(t,e){I(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),I(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function JC(t,e,n,r,s){const i=new QC;let o,l;if(n.type===Nt.OVERWRITE){const c=n;c.source.fromUser?o=du(t,e,c.path,c.snap,r,s,i):(I(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered()&&!Q(c.path),o=Wo(t,e,c.path,c.snap,r,s,l,i))}else if(n.type===Nt.MERGE){const c=n;c.source.fromUser?o=eS(t,e,c.path,c.children,r,s,i):(I(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered(),o=fu(t,e,c.path,c.children,r,s,l,i))}else if(n.type===Nt.ACK_USER_WRITE){const c=n;c.revert?o=rS(t,e,c.path,r,s,i):o=tS(t,e,c.path,c.affectedTree,r,s,i)}else if(n.type===Nt.LISTEN_COMPLETE)o=nS(t,e,n.path,r,i);else throw Xr("Unknown operation type: "+n.type);const a=i.getChanges();return ZC(e,o,a),{viewCache:o,changes:a}}function ZC(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=bo(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(ig(bo(e)))}}function pg(t,e,n,r,s,i){const o=e.eventCache;if(Fo(r,n)!=null)return e;{let l,a;if(Q(n))if(I(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=tr(e),h=c instanceof z?c:z.EMPTY_NODE,f=Tc(r,h);l=t.filter.updateFullNode(e.eventCache.getNode(),f,i)}else{const c=Mo(r,tr(e));l=t.filter.updateFullNode(e.eventCache.getNode(),c,i)}else{const c=G(n);if(c===".priority"){I(An(n)===1,"Can't have a priority with additional path components");const h=o.getNode();a=e.serverCache.getNode();const f=$f(r,n,h,a);f!=null?l=t.filter.updatePriority(h,f):l=o.getNode()}else{const h=ie(n);let f;if(o.isCompleteForChild(c)){a=e.serverCache.getNode();const d=$f(r,n,o.getNode(),a);d!=null?f=o.getNode().getImmediateChild(c).updateChild(h,d):f=o.getNode().getImmediateChild(c)}else f=Ic(r,c,e.serverCache);f!=null?l=t.filter.updateChild(o.getNode(),c,f,h,s,i):l=o.getNode()}}return Rs(e,l,o.isFullyInitialized()||Q(n),t.filter.filtersNodes())}}function Wo(t,e,n,r,s,i,o,l){const a=e.serverCache;let c;const h=o?t.filter:t.filter.getIndexedFilter();if(Q(n))c=h.updateFullNode(a.getNode(),r,null);else if(h.filtersNodes()&&!a.isFiltered()){const y=a.getNode().updateChild(n,r);c=h.updateFullNode(a.getNode(),y,null)}else{const y=G(n);if(!a.isCompleteForPath(n)&&An(n)>1)return e;const v=ie(n),w=a.getNode().getImmediateChild(y).updateChild(v,r);y===".priority"?c=h.updatePriority(a.getNode(),w):c=h.updateChild(a.getNode(),y,w,v,hg,null)}const f=lg(e,c,a.isFullyInitialized()||Q(n),h.filtersNodes()),d=new Pc(s,f,i);return pg(t,f,n,s,d,l)}function du(t,e,n,r,s,i,o){const l=e.eventCache;let a,c;const h=new Pc(s,e,i);if(Q(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),a=Rs(e,c,!0,t.filter.filtersNodes());else{const f=G(n);if(f===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),a=Rs(e,c,l.isFullyInitialized(),l.isFiltered());else{const d=ie(n),y=l.getNode().getImmediateChild(f);let v;if(Q(d))v=r;else{const S=h.getCompleteChild(f);S!=null?_c(d)===".priority"&&S.getChild(Jm(d)).isEmpty()?v=S:v=S.updateChild(d,r):v=z.EMPTY_NODE}if(y.equals(v))a=e;else{const S=t.filter.updateChild(l.getNode(),f,v,d,h,o);a=Rs(e,S,l.isFullyInitialized(),t.filter.filtersNodes())}}}return a}function Vf(t,e){return t.eventCache.isCompleteForChild(e)}function eS(t,e,n,r,s,i,o){let l=e;return r.foreach((a,c)=>{const h=ye(n,a);Vf(e,G(h))&&(l=du(t,l,h,c,s,i,o))}),r.foreach((a,c)=>{const h=ye(n,a);Vf(e,G(h))||(l=du(t,l,h,c,s,i,o))}),l}function Hf(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function fu(t,e,n,r,s,i,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let a=e,c;Q(n)?c=r:c=new re(null).setTree(n,r);const h=e.serverCache.getNode();return c.children.inorderTraversal((f,d)=>{if(h.hasChild(f)){const y=e.serverCache.getNode().getImmediateChild(f),v=Hf(t,y,d);a=Wo(t,a,new ne(f),v,s,i,o,l)}}),c.children.inorderTraversal((f,d)=>{const y=!e.serverCache.isCompleteForChild(f)&&d.value===null;if(!h.hasChild(f)&&!y){const v=e.serverCache.getNode().getImmediateChild(f),S=Hf(t,v,d);a=Wo(t,a,new ne(f),S,s,i,o,l)}}),a}function tS(t,e,n,r,s,i,o){if(Fo(s,n)!=null)return e;const l=e.serverCache.isFiltered(),a=e.serverCache;if(r.value!=null){if(Q(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return Wo(t,e,n,a.getNode().getChild(n),s,i,l,o);if(Q(n)){let c=new re(null);return a.getNode().forEachChild(Or,(h,f)=>{c=c.set(new ne(h),f)}),fu(t,e,n,c,s,i,l,o)}else return e}else{let c=new re(null);return r.foreach((h,f)=>{const d=ye(n,h);a.isCompleteForPath(d)&&(c=c.set(h,a.getNode().getChild(d)))}),fu(t,e,n,c,s,i,l,o)}}function nS(t,e,n,r,s){const i=e.serverCache,o=lg(e,i.getNode(),i.isFullyInitialized()||Q(n),i.isFiltered());return pg(t,o,n,r,hg,s)}function rS(t,e,n,r,s,i){let o;if(Fo(r,n)!=null)return e;{const l=new Pc(r,e,s),a=e.eventCache.getNode();let c;if(Q(n)||G(n)===".priority"){let h;if(e.serverCache.isFullyInitialized())h=Mo(r,tr(e));else{const f=e.serverCache.getNode();I(f instanceof z,"serverChildren would be complete if leaf node"),h=Tc(r,f)}h=h,c=t.filter.updateFullNode(a,h,i)}else{const h=G(n);let f=Ic(r,h,e.serverCache);f==null&&e.serverCache.isCompleteForChild(h)&&(f=a.getImmediateChild(h)),f!=null?c=t.filter.updateChild(a,h,f,ie(n),l,i):e.eventCache.getNode().hasChild(h)?c=t.filter.updateChild(a,h,z.EMPTY_NODE,ie(n),l,i):c=a,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Mo(r,tr(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,i)))}return o=e.serverCache.isFullyInitialized()||Fo(r,ee())!=null,Rs(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,s=new Sc(r.getIndex()),i=SC(r);this.processor_=qC(i);const o=n.serverCache,l=n.eventCache,a=s.updateFullNode(z.EMPTY_NODE,o.getNode(),null),c=i.updateFullNode(z.EMPTY_NODE,l.getNode(),null),h=new Dn(a,o.isFullyInitialized(),s.filtersNodes()),f=new Dn(c,l.isFullyInitialized(),i.filtersNodes());this.viewCache_=al(f,h),this.eventGenerator_=new PC(this.query_)}get query(){return this.query_}}function iS(t){return t.viewCache_.serverCache.getNode()}function oS(t){return bo(t.viewCache_)}function lS(t,e){const n=tr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Q(e)&&!n.getImmediateChild(G(e)).isEmpty())?n.getChild(e):null}function Gf(t){return t.eventRegistrations_.length===0}function aS(t,e){t.eventRegistrations_.push(e)}function Yf(t,e,n){const r=[];if(n){I(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(i=>{const o=i.createCancelEvent(n,s);o&&r.push(o)})}if(e){let s=[];for(let i=0;i<t.eventRegistrations_.length;++i){const o=t.eventRegistrations_[i];if(!o.matches(e))s.push(o);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(i+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function Qf(t,e,n,r){e.type===Nt.MERGE&&e.source.queryId!==null&&(I(tr(t.viewCache_),"We should always have a full cache before handling merges"),I(bo(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,i=JC(t.processor_,s,e,n,r);return XC(t.processor_,i.viewCache),I(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,mg(t,i.changes,i.viewCache.eventCache.getNode(),null)}function uS(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(_e,(i,o)=>{r.push(Vr(i,o))}),n.isFullyInitialized()&&r.push(ig(n.getNode())),mg(t,r,n.getNode(),e)}function mg(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return RC(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zo;class gg{constructor(){this.views=new Map}}function cS(t){I(!zo,"__referenceConstructor has already been defined"),zo=t}function dS(){return I(zo,"Reference.ts has not been loaded"),zo}function fS(t){return t.views.size===0}function Rc(t,e,n,r){const s=e.source.queryId;if(s!==null){const i=t.views.get(s);return I(i!=null,"SyncTree gave us an op for an invalid query."),Qf(i,e,n,r)}else{let i=[];for(const o of t.views.values())i=i.concat(Qf(o,e,n,r));return i}}function yg(t,e,n,r,s){const i=e._queryIdentifier,o=t.views.get(i);if(!o){let l=Mo(n,s?r:null),a=!1;l?a=!0:r instanceof z?(l=Tc(n,r),a=!1):(l=z.EMPTY_NODE,a=!1);const c=al(new Dn(l,a,!1),new Dn(r,s,!1));return new sS(e,c)}return o}function hS(t,e,n,r,s,i){const o=yg(t,e,r,s,i);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),aS(o,n),uS(o,n)}function pS(t,e,n,r){const s=e._queryIdentifier,i=[];let o=[];const l=jn(t);if(s==="default")for(const[a,c]of t.views.entries())o=o.concat(Yf(c,n,r)),Gf(c)&&(t.views.delete(a),c.query._queryParams.loadsAllData()||i.push(c.query));else{const a=t.views.get(s);a&&(o=o.concat(Yf(a,n,r)),Gf(a)&&(t.views.delete(s),a.query._queryParams.loadsAllData()||i.push(a.query)))}return l&&!jn(t)&&i.push(new(dS())(e._repo,e._path)),{removed:i,events:o}}function _g(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function In(t,e){let n=null;for(const r of t.views.values())n=n||lS(r,e);return n}function vg(t,e){if(e._queryParams.loadsAllData())return cl(t);{const r=e._queryIdentifier;return t.views.get(r)}}function wg(t,e){return vg(t,e)!=null}function jn(t){return cl(t)!=null}function cl(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uo;function mS(t){I(!Uo,"__referenceConstructor has already been defined"),Uo=t}function gS(){return I(Uo,"Reference.ts has not been loaded"),Uo}let yS=1;class Kf{constructor(e){this.listenProvider_=e,this.syncPointTree_=new re(null),this.pendingWriteTree_=GC(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Cg(t,e,n,r,s){return OC(t.pendingWriteTree_,e,n,r,s),s?Zr(t,new er(xc(),e,n)):[]}function _S(t,e,n,r){LC(t.pendingWriteTree_,e,n,r);const s=re.fromObject(n);return Zr(t,new Hr(xc(),e,s))}function gn(t,e,n=!1){const r=bC(t.pendingWriteTree_,e);if(MC(t.pendingWriteTree_,e)){let i=new re(null);return r.snap!=null?i=i.set(ee(),!0):ze(r.children,o=>{i=i.set(new ne(o),!0)}),Zr(t,new Lo(r.path,i,n))}else return[]}function _i(t,e,n){return Zr(t,new er(kc(),e,n))}function vS(t,e,n){const r=re.fromObject(n);return Zr(t,new Hr(kc(),e,r))}function wS(t,e){return Zr(t,new si(kc(),e))}function CS(t,e,n){const r=Dc(t,n);if(r){const s=jc(r),i=s.path,o=s.queryId,l=Ye(i,e),a=new si(Nc(o),l);return Oc(t,i,a)}else return[]}function Bo(t,e,n,r,s=!1){const i=e._path,o=t.syncPointTree_.get(i);let l=[];if(o&&(e._queryIdentifier==="default"||wg(o,e))){const a=pS(o,e,n,r);fS(o)&&(t.syncPointTree_=t.syncPointTree_.remove(i));const c=a.removed;if(l=a.events,!s){const h=c.findIndex(d=>d._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(i,(d,y)=>jn(y));if(h&&!f){const d=t.syncPointTree_.subtree(i);if(!d.isEmpty()){const y=xS(d);for(let v=0;v<y.length;++v){const S=y[v],w=S.query,m=kg(t,S);t.listenProvider_.startListening(Ds(w),ii(t,w),m.hashFn,m.onComplete)}}}!f&&c.length>0&&!r&&(h?t.listenProvider_.stopListening(Ds(e),null):c.forEach(d=>{const y=t.queryToTagMap.get(dl(d));t.listenProvider_.stopListening(Ds(d),y)}))}kS(t,c)}return l}function Sg(t,e,n,r){const s=Dc(t,r);if(s!=null){const i=jc(s),o=i.path,l=i.queryId,a=Ye(o,e),c=new er(Nc(l),a,n);return Oc(t,o,c)}else return[]}function SS(t,e,n,r){const s=Dc(t,r);if(s){const i=jc(s),o=i.path,l=i.queryId,a=Ye(o,e),c=re.fromObject(n),h=new Hr(Nc(l),a,c);return Oc(t,o,h)}else return[]}function hu(t,e,n,r=!1){const s=e._path;let i=null,o=!1;t.syncPointTree_.foreachOnPath(s,(d,y)=>{const v=Ye(d,s);i=i||In(y,v),o=o||jn(y)});let l=t.syncPointTree_.get(s);l?(o=o||jn(l),i=i||In(l,ee())):(l=new gg,t.syncPointTree_=t.syncPointTree_.set(s,l));let a;i!=null?a=!0:(a=!1,i=z.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((y,v)=>{const S=In(v,ee());S&&(i=i.updateImmediateChild(y,S))}));const c=wg(l,e);if(!c&&!e._queryParams.loadsAllData()){const d=dl(e);I(!t.queryToTagMap.has(d),"View does not exist, but we have a tag");const y=NS();t.queryToTagMap.set(d,y),t.tagToQueryMap.set(y,d)}const h=ul(t.pendingWriteTree_,s);let f=hS(l,e,n,h,i,a);if(!c&&!o&&!r){const d=vg(l,e);f=f.concat(TS(t,e,d))}return f}function Ac(t,e,n){const s=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,l)=>{const a=Ye(o,e),c=In(l,a);if(c)return c});return cg(s,e,i,n,!0)}function ES(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,h)=>{const f=Ye(c,n);r=r||In(h,f)});let s=t.syncPointTree_.get(n);s?r=r||In(s,ee()):(s=new gg,t.syncPointTree_=t.syncPointTree_.set(n,s));const i=r!=null,o=i?new Dn(r,!0,!1):null,l=ul(t.pendingWriteTree_,e._path),a=yg(s,e,l,i?o.getNode():z.EMPTY_NODE,i);return oS(a)}function Zr(t,e){return Eg(e,t.syncPointTree_,null,ul(t.pendingWriteTree_,ee()))}function Eg(t,e,n,r){if(Q(t.path))return xg(t,e,n,r);{const s=e.get(ee());n==null&&s!=null&&(n=In(s,ee()));let i=[];const o=G(t.path),l=t.operationForChild(o),a=e.children.get(o);if(a&&l){const c=n?n.getImmediateChild(o):null,h=dg(r,o);i=i.concat(Eg(l,a,c,h))}return s&&(i=i.concat(Rc(s,t,r,n))),i}}function xg(t,e,n,r){const s=e.get(ee());n==null&&s!=null&&(n=In(s,ee()));let i=[];return e.children.inorderTraversal((o,l)=>{const a=n?n.getImmediateChild(o):null,c=dg(r,o),h=t.operationForChild(o);h&&(i=i.concat(xg(h,l,a,c)))}),s&&(i=i.concat(Rc(s,t,r,n))),i}function kg(t,e){const n=e.query,r=ii(t,n);return{hashFn:()=>(iS(e)||z.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return r?CS(t,n._path,r):wS(t,n._path);{const i=ww(s,n);return Bo(t,n,null,i)}}}}function ii(t,e){const n=dl(e);return t.queryToTagMap.get(n)}function dl(t){return t._path.toString()+"$"+t._queryIdentifier}function Dc(t,e){return t.tagToQueryMap.get(e)}function jc(t){const e=t.indexOf("$");return I(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ne(t.substr(0,e))}}function Oc(t,e,n){const r=t.syncPointTree_.get(e);I(r,"Missing sync point for query tag that we're tracking");const s=ul(t.pendingWriteTree_,e);return Rc(r,n,s,null)}function xS(t){return t.fold((e,n,r)=>{if(n&&jn(n))return[cl(n)];{let s=[];return n&&(s=_g(n)),ze(r,(i,o)=>{s=s.concat(o)}),s}})}function Ds(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(gS())(t._repo,t._path):t}function kS(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const s=dl(r),i=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(i)}}}function NS(){return yS++}function TS(t,e,n){const r=e._path,s=ii(t,e),i=kg(t,n),o=t.listenProvider_.startListening(Ds(e),s,i.hashFn,i.onComplete),l=t.syncPointTree_.subtree(r);if(s)I(!jn(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((c,h,f)=>{if(!Q(c)&&h&&jn(h))return[cl(h).query];{let d=[];return h&&(d=d.concat(_g(h).map(y=>y.query))),ze(f,(y,v)=>{d=d.concat(v)}),d}});for(let c=0;c<a.length;++c){const h=a[c];t.listenProvider_.stopListening(Ds(h),ii(t,h))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Lc(n)}node(){return this.node_}}class bc{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=ye(this.path_,e);return new bc(this.syncTree_,n)}node(){return Ac(this.syncTree_,this.path_)}}const IS=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},qf=function(t,e,n){if(!t||typeof t!="object")return t;if(I(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return PS(t[".sv"],e,n);if(typeof t[".sv"]=="object")return RS(t[".sv"],e);I(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},PS=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:I(!1,"Unexpected server value: "+t)}},RS=function(t,e,n){t.hasOwnProperty("increment")||I(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&I(!1,"Unexpected increment value: "+r);const s=e.node();if(I(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return typeof o!="number"?r:o+r},Ng=function(t,e,n,r){return Mc(e,new bc(n,t),r)},Tg=function(t,e,n){return Mc(t,new Lc(e),n)};function Mc(t,e,n){const r=t.getPriority().val(),s=qf(r,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,l=qf(o.getValue(),e,n);return l!==o.getValue()||s!==o.getPriority().val()?new De(l,Ie(s)):t}else{const o=t;return i=o,s!==o.getPriority().val()&&(i=i.updatePriority(new De(s))),o.forEachChild(_e,(l,a)=>{const c=Mc(a,e.getImmediateChild(l),n);c!==a&&(i=i.updateImmediateChild(l,c))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Wc(t,e){let n=e instanceof ne?e:new ne(e),r=t,s=G(n);for(;s!==null;){const i=Br(r.node.children,s)||{children:{},childCount:0};r=new Fc(s,r,i),n=ie(n),s=G(n)}return r}function es(t){return t.node.value}function Ig(t,e){t.node.value=e,pu(t)}function Pg(t){return t.node.childCount>0}function AS(t){return es(t)===void 0&&!Pg(t)}function fl(t,e){ze(t.node.children,(n,r)=>{e(new Fc(n,t,r))})}function Rg(t,e,n,r){n&&e(t),fl(t,s=>{Rg(s,e,!0)})}function DS(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function vi(t){return new ne(t.parent===null?t.name:vi(t.parent)+"/"+t.name)}function pu(t){t.parent!==null&&jS(t.parent,t.name,t)}function jS(t,e,n){const r=AS(n),s=Wt(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,pu(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,pu(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS=/[\[\].#$\/\u0000-\u001F\u007F]/,LS=/[\[\].#$\u0000-\u001F\u007F]/,ta=10*1024*1024,zc=function(t){return typeof t=="string"&&t.length!==0&&!OS.test(t)},Ag=function(t){return typeof t=="string"&&t.length!==0&&!LS.test(t)},bS=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Ag(t)},MS=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!hc(t)||t&&typeof t=="object"&&Wt(t,".sv")},Dg=function(t,e,n,r){r&&e===void 0||hl(il(t,"value"),e,n)},hl=function(t,e,n){const r=n instanceof ne?new eC(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Un(r));if(typeof e=="function")throw new Error(t+"contains a function "+Un(r)+" with contents = "+e.toString());if(hc(e))throw new Error(t+"contains "+e.toString()+" "+Un(r));if(typeof e=="string"&&e.length>ta/3&&ol(e)>ta)throw new Error(t+"contains a string greater than "+ta+" utf8 bytes "+Un(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(ze(e,(o,l)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!zc(o)))throw new Error(t+" contains an invalid key ("+o+") "+Un(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);tC(r,o),hl(t,l,r),nC(r)}),s&&i)throw new Error(t+' contains ".value" child '+Un(r)+" in addition to actual children.")}},FS=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const i=ei(r);for(let o=0;o<i.length;o++)if(!(i[o]===".priority"&&o===i.length-1)){if(!zc(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(Zw);let s=null;for(n=0;n<e.length;n++){if(r=e[n],s!==null&&gt(s,r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}},WS=function(t,e,n,r){const s=il(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(s+" must be an object containing the children to replace.");const i=[];ze(e,(o,l)=>{const a=new ne(o);if(hl(s,l,ye(n,a)),_c(a)===".priority"&&!MS(l))throw new Error(s+"contains an invalid value for '"+a.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");i.push(a)}),FS(s,i)},jg=function(t,e,n,r){if(!Ag(n))throw new Error(il(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},zS=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),jg(t,e,n)},Og=function(t,e){if(G(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},US=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!zc(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!bS(n))throw new Error(il(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function pl(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();n!==null&&!vc(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&t.eventLists_.push(n)}function Lg(t,e,n){pl(t,n),bg(t,r=>vc(r,e))}function wt(t,e,n){pl(t,n),bg(t,r=>gt(r,e)||gt(e,r))}function bg(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const i=s.path;e(i)?($S(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function $S(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Is&&Me("event: "+n.toString()),Jr(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="repo_interrupt",HS=25;class GS{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new BS,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Oo(),this.transactionQueueTree_=new Fc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function YS(t,e,n){if(t.stats_=gc(t.repoInfo_),t.forceRestClient_||xw())t.server_=new jo(t.repoInfo_,(r,s,i,o)=>{Xf(t,r,s,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Jf(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Pe(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Qt(t.repoInfo_,e,(r,s,i,o)=>{Xf(t,r,s,i,o)},r=>{Jf(t,r)},r=>{QS(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Pw(t.repoInfo_,()=>new IC(t.stats_,t.server_)),t.infoData_=new EC,t.infoSyncTree_=new Kf({startListening:(r,s,i,o)=>{let l=[];const a=t.infoData_.getNode(r._path);return a.isEmpty()||(l=_i(t.infoSyncTree_,r._path,a),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),Uc(t,"connected",!1),t.serverSyncTree_=new Kf({startListening:(r,s,i,o)=>(t.server_.listen(r,i,s,(l,a)=>{const c=o(l,a);wt(t.eventQueue_,r._path,c)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function Mg(t){const n=t.infoData_.getNode(new ne(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function ml(t){return IS({timestamp:Mg(t)})}function Xf(t,e,n,r,s){t.dataUpdateCount++;const i=new ne(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(r){const a=To(n,c=>Ie(c));o=SS(t.serverSyncTree_,i,a,s)}else{const a=Ie(n);o=Sg(t.serverSyncTree_,i,a,s)}else if(r){const a=To(n,c=>Ie(c));o=vS(t.serverSyncTree_,i,a)}else{const a=Ie(n);o=_i(t.serverSyncTree_,i,a)}let l=i;o.length>0&&(l=Yr(t,i)),wt(t.eventQueue_,l,o)}function Jf(t,e){Uc(t,"connected",e),e===!1&&JS(t)}function QS(t,e){ze(e,(n,r)=>{Uc(t,n,r)})}function Uc(t,e,n){const r=new ne("/.info/"+e),s=Ie(n);t.infoData_.updateSnapshot(r,s);const i=_i(t.infoSyncTree_,r,s);wt(t.eventQueue_,r,i)}function Bc(t){return t.nextWriteId_++}function KS(t,e,n){const r=ES(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(s=>{const i=Ie(s).withIndex(e._queryParams.getIndex());hu(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=_i(t.serverSyncTree_,e._path,i);else{const l=ii(t.serverSyncTree_,e);o=Sg(t.serverSyncTree_,e._path,i,l)}return wt(t.eventQueue_,e._path,o),Bo(t.serverSyncTree_,e,n,null,!0),i},s=>(wi(t,"get for query "+Pe(e)+" failed: "+s),Promise.reject(new Error(s))))}function qS(t,e,n,r,s){wi(t,"set",{path:e.toString(),value:n,priority:r});const i=ml(t),o=Ie(n,r),l=Ac(t.serverSyncTree_,e),a=Tg(o,l,i),c=Bc(t),h=Cg(t.serverSyncTree_,e,a,c,!0);pl(t.eventQueue_,h),t.server_.put(e.toString(),o.val(!0),(d,y)=>{const v=d==="ok";v||Ke("set at "+e+" failed: "+d);const S=gn(t.serverSyncTree_,c,!v);wt(t.eventQueue_,e,S),mu(t,s,d,y)});const f=Vc(t,e);Yr(t,f),wt(t.eventQueue_,f,[])}function XS(t,e,n,r){wi(t,"update",{path:e.toString(),value:n});let s=!0;const i=ml(t),o={};if(ze(n,(l,a)=>{s=!1,o[l]=Ng(ye(e,l),Ie(a),t.serverSyncTree_,i)}),s)Me("update() called with empty data.  Don't do anything."),mu(t,r,"ok",void 0);else{const l=Bc(t),a=_S(t.serverSyncTree_,e,o,l);pl(t.eventQueue_,a),t.server_.merge(e.toString(),n,(c,h)=>{const f=c==="ok";f||Ke("update at "+e+" failed: "+c);const d=gn(t.serverSyncTree_,l,!f),y=d.length>0?Yr(t,e):e;wt(t.eventQueue_,y,d),mu(t,r,c,h)}),ze(n,c=>{const h=Vc(t,ye(e,c));Yr(t,h)}),wt(t.eventQueue_,e,[])}}function JS(t){wi(t,"onDisconnectEvents");const e=ml(t),n=Oo();lu(t.onDisconnect_,ee(),(s,i)=>{const o=Ng(s,i,t.serverSyncTree_,e);og(n,s,o)});let r=[];lu(n,ee(),(s,i)=>{r=r.concat(_i(t.serverSyncTree_,s,i));const o=Vc(t,s);Yr(t,o)}),t.onDisconnect_=Oo(),wt(t.eventQueue_,ee(),r)}function ZS(t,e,n){let r;G(e._path)===".info"?r=hu(t.infoSyncTree_,e,n):r=hu(t.serverSyncTree_,e,n),Lg(t.eventQueue_,e._path,r)}function eE(t,e,n){let r;G(e._path)===".info"?r=Bo(t.infoSyncTree_,e,n):r=Bo(t.serverSyncTree_,e,n),Lg(t.eventQueue_,e._path,r)}function tE(t){t.persistentConnection_&&t.persistentConnection_.interrupt(VS)}function wi(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Me(n,...e)}function mu(t,e,n,r){e&&Jr(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let i=s;r&&(i+=": "+r);const o=new Error(i);o.code=s,e(o)}})}function Fg(t,e,n){return Ac(t.serverSyncTree_,e,n)||z.EMPTY_NODE}function $c(t,e=t.transactionQueueTree_){if(e||gl(t,e),es(e)){const n=zg(t,e);I(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&nE(t,vi(e),n)}else Pg(e)&&fl(e,n=>{$c(t,n)})}function nE(t,e,n){const r=n.map(c=>c.currentWriteId),s=Fg(t,e,r);let i=s;const o=s.hash();for(let c=0;c<n.length;c++){const h=n[c];I(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const f=Ye(e,h.path);i=i.updateChild(f,h.currentOutputSnapshotRaw)}const l=i.val(!0),a=e;t.server_.put(a.toString(),l,c=>{wi(t,"transaction put response",{path:a.toString(),status:c});let h=[];if(c==="ok"){const f=[];for(let d=0;d<n.length;d++)n[d].status=2,h=h.concat(gn(t.serverSyncTree_,n[d].currentWriteId)),n[d].onComplete&&f.push(()=>n[d].onComplete(null,!0,n[d].currentOutputSnapshotResolved)),n[d].unwatcher();gl(t,Wc(t.transactionQueueTree_,e)),$c(t,t.transactionQueueTree_),wt(t.eventQueue_,e,h);for(let d=0;d<f.length;d++)Jr(f[d])}else{if(c==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{Ke("transaction at "+a.toString()+" failed: "+c);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=c}Yr(t,e)}},o)}function Yr(t,e){const n=Wg(t,e),r=vi(n),s=zg(t,n);return rE(t,s,r),r}function rE(t,e,n){if(e.length===0)return;const r=[];let s=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const a=e[l],c=Ye(n,a.path);let h=!1,f;if(I(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)h=!0,f=a.abortReason,s=s.concat(gn(t.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=HS)h=!0,f="maxretry",s=s.concat(gn(t.serverSyncTree_,a.currentWriteId,!0));else{const d=Fg(t,a.path,o);a.currentInputSnapshot=d;const y=e[l].update(d.val());if(y!==void 0){hl("transaction failed: Data returned ",y,a.path);let v=Ie(y);typeof y=="object"&&y!=null&&Wt(y,".priority")||(v=v.updatePriority(d.getPriority()));const w=a.currentWriteId,m=ml(t),p=Tg(v,d,m);a.currentOutputSnapshotRaw=v,a.currentOutputSnapshotResolved=p,a.currentWriteId=Bc(t),o.splice(o.indexOf(w),1),s=s.concat(Cg(t.serverSyncTree_,a.path,p,a.currentWriteId,a.applyLocally)),s=s.concat(gn(t.serverSyncTree_,w,!0))}else h=!0,f="nodata",s=s.concat(gn(t.serverSyncTree_,a.currentWriteId,!0))}wt(t.eventQueue_,n,s),s=[],h&&(e[l].status=2,function(d){setTimeout(d,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(f==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(f),!1,null))))}gl(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)Jr(r[l]);$c(t,t.transactionQueueTree_)}function Wg(t,e){let n,r=t.transactionQueueTree_;for(n=G(e);n!==null&&es(r)===void 0;)r=Wc(r,n),e=ie(e),n=G(e);return r}function zg(t,e){const n=[];return Ug(t,e,n),n.sort((r,s)=>r.order-s.order),n}function Ug(t,e,n){const r=es(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);fl(e,s=>{Ug(t,s,n)})}function gl(t,e){const n=es(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,Ig(e,n.length>0?n:void 0)}fl(e,r=>{gl(t,r)})}function Vc(t,e){const n=vi(Wg(t,e)),r=Wc(t.transactionQueueTree_,e);return DS(r,s=>{na(t,s)}),na(t,r),Rg(r,s=>{na(t,s)}),n}function na(t,e){const n=es(e);if(n){const r=[];let s=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(I(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):(I(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(gn(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?Ig(e,void 0):n.length=i+1,wt(t.eventQueue_,vi(e),s);for(let o=0;o<r.length;o++)Jr(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function iE(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ke(`Invalid query segment '${n}' in query '${t}'`)}return e}const Zf=function(t,e){const n=oE(t),r=n.namespace;n.domain==="firebase.com"&&en(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&en("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||mw();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new $m(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new ne(n.pathString)}},oE=function(t){let e="",n="",r="",s="",i="",o=!0,l="https",a=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(l=t.substring(0,c-1),t=t.substring(c+2));let h=t.indexOf("/");h===-1&&(h=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(h,f)),h<f&&(s=sE(t.substring(h,f)));const d=iE(t.substring(Math.min(t.length,f)));c=e.indexOf(":"),c>=0?(o=l==="https"||l==="wss",a=parseInt(e.substring(c+1),10)):c=e.length;const y=e.slice(0,c);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{const v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),i=r}"ns"in d&&(i=d.ns)}return{host:e,port:a,domain:n,subdomain:r,secure:o,scheme:l,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",lE=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let s;const i=new Array(8);for(s=7;s>=0;s--)i[s]=eh.charAt(n%64),n=Math.floor(n/64);I(n===0,"Cannot push at time == 0");let o=i.join("");if(r){for(s=11;s>=0&&e[s]===63;s--)e[s]=0;e[s]++}else for(s=0;s<12;s++)e[s]=Math.floor(Math.random()*64);for(s=0;s<12;s++)o+=eh.charAt(e[s]);return I(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e,n,r,s){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Pe(this.snapshot.exportVal())}}class uE{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return I(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return Q(this._path)?null:_c(this._path)}get ref(){return new nn(this._repo,this._path)}get _queryIdentifier(){const e=Wf(this._queryParams),n=pc(e);return n==="{}"?"default":n}get _queryObject(){return Wf(this._queryParams)}isEqual(e){if(e=sr(e),!(e instanceof Hc))return!1;const n=this._repo===e._repo,r=vc(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+Jw(this._path)}}class nn extends Hc{constructor(e,n){super(e,n,new Ec,!1)}get parent(){const e=Jm(this._path);return e===null?null:new nn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class oi{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new ne(e),r=li(this.ref,e);return new oi(this._node.getChild(n),r,_e)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,s)=>e(new oi(s,li(this.ref,r),_e)))}hasChild(e){const n=new ne(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function xe(t,e){return t=sr(t),t._checkNotDeleted("ref"),e!==void 0?li(t._root,e):t._root}function li(t,e){return t=sr(t),G(t._path)===null?zS("child","path",e):jg("child","path",e),new nn(t._repo,ye(t._path,e))}function cE(t,e){t=sr(t),Og("push",t._path),Dg("push",e,t._path,!0);const n=Mg(t._repo),r=lE(n),s=li(t,r),i=li(t,r);let o;return e!=null?o=Ot(i,e).then(()=>i):o=Promise.resolve(i),s.then=o.then.bind(o),s.catch=o.then.bind(o,void 0),s}function Ot(t,e){t=sr(t),Og("set",t._path),Dg("set",e,t._path,!1);const n=new hi;return qS(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function dE(t,e){WS("update",e,t._path);const n=new hi;return XS(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function fE(t){t=sr(t);const e=new Bg(()=>{}),n=new yl(e);return KS(t._repo,t,n).then(r=>new oi(r,new nn(t._repo,t._path),t._queryParams.getIndex()))}class yl{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new aE("value",this,new oi(e.snapshotNode,new nn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new uE(this,e,n):null}matches(e){return e instanceof yl?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function hE(t,e,n,r,s){const i=new Bg(n,void 0),o=new yl(i);return ZS(t._repo,t,o),()=>eE(t._repo,t,o)}function ln(t,e,n,r){return hE(t,"value",e)}cS(nn);mS(nn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="FIREBASE_DATABASE_EMULATOR_HOST",gu={};let mE=!1;function gE(t,e,n,r){t.repoInfo_=new $m(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function yE(t,e,n,r,s){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||en("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Me("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Zf(i,s),l=o.repoInfo,a;typeof process<"u"&&Cf&&(a=Cf[pE]),a?(i=`http://${a}?ns=${l.namespace}`,o=Zf(i,s),l=o.repoInfo):o.repoInfo.secure;const c=new Nw(t.name,t.options,e);US("Invalid Firebase Database URL",o),Q(o.path)||en("Database URL must point to the root of a Firebase Database (not including a child path).");const h=vE(l,t,c,new kw(t.name,n));return new wE(h,t)}function _E(t,e){const n=gu[e];(!n||n[t.key]!==t)&&en(`Database ${e}(${t.repoInfo_}) has already been deleted.`),tE(t),delete n[t.key]}function vE(t,e,n,r){let s=gu[e.name];s||(s={},gu[e.name]=s);let i=s[t.toURLString()];return i&&en("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new GS(t,mE,n,r),s[t.toURLString()]=i,i}class wE{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(YS(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new nn(this._repo,ee())),this._rootInternal}_delete(){return this._rootInternal!==null&&(_E(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&en("Cannot call "+e+" on a deleted database.")}}function CE(t=X0(),e){const n=Y0(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=bv("database");r&&SE(n,...r)}return n}function SE(t,e,n,r={}){t=sr(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&en("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let i;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&en('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),i=new eo(eo.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:Mv(r.mockUserToken,t.app.options.projectId);i=new eo(o)}gE(s,e,n,i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(t){uw(q0),Po(new Xs("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return yE(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),Dr(Sf,Ef,t),Dr(Sf,Ef,"esm2017")}Qt.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Qt.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};EE();function xE({allPicks:t,actualScores:e,currentWeek:n}){const r=(c,h,f)=>{if(!c||!h||!h[f])return 0;let d=0;const y=h[f];return Object.keys(c).forEach(v=>{const S=c[v],w=y[v];if(!S||!w)return;const m=parseInt(S.team1),p=parseInt(S.team2),_=parseInt(w.team1),E=parseInt(w.team2);if(isNaN(m)||isNaN(p)||isNaN(_)||isNaN(E))return;const N=m>p?"team1":p>m?"team2":"tie",k=_>E?"team1":E>_?"team2":"tie";N===k&&k!=="tie"&&d++}),d},s=(c,h,f)=>{if(!c||!h||!h[f])return null;let d=0,y=0;const v=h[f];return Object.keys(c).forEach(S=>{const w=c[S],m=v[S];if(!w||!m)return;const p=parseInt(w.team1),_=parseInt(w.team2),E=parseInt(m.team1),N=parseInt(m.team2);isNaN(p)||isNaN(_)||isNaN(E)||isNaN(N)||(d+=p+_,y+=E+N)}),Math.abs(d-y)},i=(c,h,f)=>{let d=0,y=0;return f.forEach(v=>{const S=c[v];if(S){d+=r(S,h,v);const w=s(S,h,v);w!==null&&(y+=w)}}),{correctWinners:d,pointsDifference:y}},o={wildcard:"Week 1",divisional:"Week 2",conference:"Week 3",superbowl:"Week 4"},l=W.useMemo(()=>{const c={};return t.forEach(h=>{const f=h.playerName;c[f]||(c[f]={wildcard:null,divisional:null,conference:null,superbowl:null}),c[f][h.week]=h.predictions}),c},[t]),a=W.useMemo(()=>{const c=[],h=["wildcard","divisional","conference","superbowl"];h.slice(0,3).forEach((w,m)=>{const p=o[w],_=Object.entries(l).map(([N,k])=>({playerName:N,score:r(k[w],e,w)})).filter(N=>N.score>0).sort((N,k)=>k.score-N.score);c.push({prizeNumber:m*2+1,name:`${p} - Most Correct Winners`,week:w,type:"correctWinners",leaders:_.slice(0,5)});const E=Object.entries(l).map(([N,k])=>({playerName:N,score:s(k[w],e,w)})).filter(N=>N.score!==null).sort((N,k)=>N.score-k.score);c.push({prizeNumber:m*2+2,name:`${p} - Closest Total Points`,week:w,type:"pointsDifference",leaders:E.slice(0,5)})});const f="superbowl",d=Object.entries(l).map(([w,m])=>({playerName:w,score:r(m[f],e,f)})).filter(w=>w.score>0).sort((w,m)=>m.score-w.score);c.push({prizeNumber:7,name:"Week 4 - Most Correct Winners",week:f,type:"correctWinners",leaders:d.slice(0,5)});const y=Object.entries(l).map(([w,m])=>({playerName:w,score:s(m[f],e,f)})).filter(w=>w.score!==null).sort((w,m)=>w.score-m.score);c.push({prizeNumber:8,name:"Week 4 - Closest Total Points",week:f,type:"pointsDifference",leaders:y.slice(0,5)});const v=Object.entries(l).map(([w,m])=>{const p=i(m,e,h);return{playerName:w,score:p.correctWinners}}).filter(w=>w.score>0).sort((w,m)=>m.score-w.score);c.push({prizeNumber:9,name:"Cumulative (All 4 Weeks) - Most Correct Winners",week:"all",type:"correctWinners",leaders:v.slice(0,5)});const S=Object.entries(l).map(([w,m])=>{const p=i(m,e,h);return{playerName:w,score:p.pointsDifference}}).filter(w=>w.score!==null&&w.score>=0).sort((w,m)=>w.score-m.score);return c.push({prizeNumber:10,name:"Cumulative (All 4 Weeks) - Closest Total Points",week:"all",type:"pointsDifference",leaders:S.slice(0,5)}),c},[l,e]);return u.jsx("div",{className:"standings-page",children:u.jsxs("div",{className:"container",children:[u.jsx("h1",{className:"standings-title",children:" Standings & Prize Leaders"}),u.jsx("div",{className:"prizes-grid",children:a.map(c=>u.jsxs("div",{className:"prize-card",children:[u.jsxs("div",{className:"prize-header",children:[u.jsxs("div",{className:"prize-number",children:["Prize #",c.prizeNumber]}),u.jsx("div",{className:"prize-name",children:c.name})]}),u.jsx("div",{className:"prize-leaders",children:c.leaders.length===0?u.jsx("div",{className:"no-data",children:"No data available yet"}):u.jsxs("table",{className:"leaders-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Rank"}),u.jsx("th",{children:"Player"}),u.jsx("th",{children:c.type==="correctWinners"?"Correct":"Difference"})]})}),u.jsx("tbody",{children:c.leaders.map((h,f)=>{const d=f>0&&h.score===c.leaders[f-1].score,y=d?"=":f+1;return u.jsxs("tr",{className:f===0&&!d?"leader-first":"",children:[u.jsx("td",{className:"rank",children:y}),u.jsx("td",{className:"player-name",children:h.playerName}),u.jsx("td",{className:"score",children:c.type==="correctWinners"?`${h.score} correct`:`${h.score} pts`})]},f)})})]})})]},c.prizeNumber))}),u.jsx("div",{className:"standings-note",children:u.jsxs("p",{children:[u.jsx("strong",{children:"Note:"}),' Tied players are shown with "=" rank. Pool Manager will resolve ties manually using Excel if needed for prize distribution.']})})]})})}function kE({currentWeek:t,games:e,actualScores:n,teamCodes:r,onScoresFetched:s,onGameLockToggle:i,gameLocks:o,espnAutoRefresh:l}){const[a,c]=W.useState(!1),[h,f]=W.useState(null),[d,y]=W.useState(null),[v,S]=W.useState(!1),[w,m]=W.useState(!1),p=async()=>{if(!(a||w)){c(!0),y({type:"loading",message:"Fetching scores from ESPN..."});try{await s(),f(new Date),y({type:"success",message:"Scores updated successfully!"}),setTimeout(()=>y(null),3e3)}catch(P){y({type:"error",message:`Error: ${P.message}`})}finally{c(!1)}}},_=()=>{v?(l.stop(),S(!1),y({type:"info",message:"Auto-refresh stopped"})):(l.start(),S(!0),y({type:"info",message:"Auto-refresh started (every 5 minutes)"})),setTimeout(()=>y(null),3e3)},E=()=>{w?(m(!1),y({type:"info",message:"API resumed - fetching enabled"})):(m(!0),v&&(l.stop(),S(!1)),y({type:"warning",message:"API paused - all fetching disabled"})),setTimeout(()=>y(null),3e3)},N=P=>{var A;return((A=o==null?void 0:o[t])==null?void 0:A[P])===!0},k=P=>{var A,J;return((J=(A=n==null?void 0:n[t])==null?void 0:A[P])==null?void 0:J.source)==="espn"};return u.jsxs("div",{className:"espn-controls",children:[u.jsxs("div",{className:"espn-header",children:[u.jsx("h3",{children:" ESPN API Controls"}),u.jsxs("div",{className:"espn-status-badges",children:[w&&u.jsx("span",{className:"status-badge paused",children:" API PAUSED"}),v&&!w&&u.jsx("span",{className:"status-badge active",children:" AUTO-REFRESH ON"}),h&&u.jsxs("span",{className:"status-badge info",children:["Last fetch: ",h.toLocaleTimeString()]})]})]}),u.jsxs("div",{className:"espn-global-controls",children:[u.jsx("button",{className:"espn-btn fetch-now",onClick:p,disabled:a||w,children:a?" Fetching...":" Fetch Scores Now"}),u.jsx("button",{className:`espn-btn auto-refresh ${v?"active":""}`,onClick:_,disabled:w,children:v?" Stop Auto-Refresh":" Start Auto-Refresh (5 min)"}),u.jsx("button",{className:`espn-btn pause-api ${w?"paused":""}`,onClick:E,children:w?" Resume API":" Pause API"})]}),d&&u.jsx("div",{className:`fetch-status ${d.type}`,children:d.message}),u.jsxs("div",{className:"game-overrides",children:[u.jsx("h4",{children:"Game Override Controls"}),u.jsxs("p",{className:"override-info",children:[" Lock = Manual entry only (ignore API)",u.jsx("br",{})," Unlock = Auto-update from ESPN API"]}),u.jsx("div",{className:"game-override-list",children:e.map(P=>{var At,lr,ar,Dt,dt;const A=N(P.id),J=k(P.id),B=(At=n==null?void 0:n[t])==null?void 0:At[P.id],Ue=((ar=(lr=r==null?void 0:r[t])==null?void 0:lr[P.id])==null?void 0:ar.team1)||P.team1,zt=((dt=(Dt=r==null?void 0:r[t])==null?void 0:Dt[P.id])==null?void 0:dt.team2)||P.team2;return u.jsxs("div",{className:"game-override-item",children:[u.jsxs("div",{className:"game-info",children:[u.jsxs("span",{className:"game-matchup",children:[Ue," vs ",zt]}),B&&u.jsxs("span",{className:"game-scores",children:[n[t][P.id].team1," - ",n[t][P.id].team2]})]}),u.jsxs("div",{className:"game-status-badges",children:[J&&!A&&u.jsx("span",{className:"game-badge api",children:" From API"}),A&&u.jsx("span",{className:"game-badge manual",children:" Manual Entry"}),!B&&u.jsx("span",{className:"game-badge no-score",children:"No Score"})]}),u.jsx("button",{className:`lock-btn ${A?"locked":"unlocked"}`,onClick:()=>i(P.id),title:A?"Unlock to allow API updates":"Lock to prevent API updates",children:A?" Locked":" Unlocked"})]},P.id)})})]}),u.jsxs("div",{className:"espn-help",children:[u.jsx("h4",{children:" How It Works:"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Fetch Now:"})," Manually fetch latest scores from ESPN"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Auto-Refresh:"})," Automatically fetch every 5 minutes"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Pause API:"})," Stop all API fetching (use manual entry only)"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Lock Game:"})," Prevent API from overwriting your manual score for that game"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Unlock Game:"})," Allow API to update score automatically"]})]}),u.jsxs("p",{className:"help-note",children:[u.jsx("strong",{children:"Tip:"})," Lock a game if you need to manually correct a score that ESPN has wrong."]})]})]})}const NE="https://site.api.espn.com/apis/site/v2/sports/football/nfl";async function TE(){try{const t=await fetch(`${NE}/scoreboard`);if(!t.ok)throw new Error(`ESPN API error: ${t.status}`);const e=await t.json();return IE(e)}catch(t){return console.error("Error fetching ESPN scores:",t),{success:!1,error:t.message,games:[]}}}function IE(t){return!t.events||t.events.length===0?{success:!0,games:[],message:"No games currently available"}:{success:!0,games:t.events.map(n=>{const r=n.competitions[0],s=r.status,i=r.competitors,o=i.find(v=>v.homeAway==="away"),l=i.find(v=>v.homeAway==="home"),a=o.team.abbreviation,c=l.team.abbreviation,h=parseInt(o.score)||0,f=parseInt(l.score)||0,d=PE(s);return{espnGameId:n.id,awayTeam:{abbreviation:a,fullName:o.team.displayName,score:h},homeTeam:{abbreviation:c,fullName:l.team.displayName,score:f},status:d.status,statusText:d.text,period:d.period,clock:d.clock,isFinal:d.isFinal,isLive:d.isLive,isScheduled:d.isScheduled,startTime:n.date,lastUpdated:new Date().toISOString()}}),fetchedAt:new Date().toISOString()}}function PE(t){const e=t.type.name,n=t.period,r=t.displayClock,s=t.type.detail;let i="scheduled",o=s,l=!1,a=!1,c=!1;return e==="STATUS_SCHEDULED"?(i="scheduled",o="Scheduled",c=!0):e==="STATUS_IN_PROGRESS"?(i="live",l=!0,n===1?o=`1st Quarter - ${r}`:n===2?o=`2nd Quarter - ${r}`:n===3?o=`3rd Quarter - ${r}`:n===4?o=`4th Quarter - ${r}`:n>4&&(o=`OT ${n-4} - ${r}`)):e==="STATUS_HALFTIME"?(i="halftime",o="Halftime",l=!0):e==="STATUS_END_PERIOD"?(i="live",o=`End of ${n===1?"1st":n===2?"2nd":n===3?"3rd":"4th"} Quarter`,l=!0):(e==="STATUS_FINAL"||e==="STATUS_FINAL_OVERTIME")&&(i="final",a=!0,e==="STATUS_FINAL_OVERTIME"?o=n>4?`Final/OT${n-4}`:"Final/OT":o="Final"),{status:i,text:o,period:n,clock:r||"",isLive:l,isFinal:a,isScheduled:c}}function RE(t,e,n,r){if(!r||!r[n])return null;const s=e[n].games,i=r[n];for(const o of s){const l=i[o.id];if(!l)continue;const a=l.team1===t.awayTeam.abbreviation||l.team1===t.homeTeam.abbreviation,c=l.team2===t.awayTeam.abbreviation||l.team2===t.homeTeam.abbreviation;if(a&&c){const h=l.team1===t.awayTeam.abbreviation;return{gameId:o.id,team1Score:h?t.awayTeam.score:t.homeTeam.score,team2Score:h?t.homeTeam.score:t.awayTeam.score,status:t.status,statusText:t.statusText,period:t.period,clock:t.clock,isFinal:t.isFinal,isLive:t.isLive,espnGameId:t.espnGameId}}}return null}class AE{constructor(e,n=5){this.onFetch=e,this.intervalMinutes=n,this.intervalId=null,this.isRunning=!1}start(){if(this.isRunning){console.log("Auto-refresh already running");return}console.log(`Starting auto-refresh every ${this.intervalMinutes} minutes`),this.isRunning=!0,this.onFetch(),this.intervalId=setInterval(()=>{console.log("Auto-fetching ESPN scores..."),this.onFetch()},this.intervalMinutes*60*1e3)}stop(){if(!this.isRunning){console.log("Auto-refresh not running");return}console.log("Stopping auto-refresh"),clearInterval(this.intervalId),this.intervalId=null,this.isRunning=!1}isActive(){return this.isRunning}setInterval(e){this.intervalMinutes=e,this.isRunning&&(this.stop(),this.start())}}const DE={wildcard:{name:"Week 1 - Wildcard Round",shortName:"Wildcard",deadline:"Fri Jan 9, 11:59 PM PST",number:1},divisional:{name:"Week 2 - Divisional Round",shortName:"Divisional",deadline:"Fri Jan 16, 11:59 PM PST",number:2},conference:{name:"Week 3 - Conference Championships",shortName:"Conference",deadline:"Fri Jan 23, 11:59 PM PST",number:3},superbowl:{name:"Week 4 - Super Bowl LIX",shortName:"Super Bowl",deadline:"Fri Feb 6, 11:59 PM PST",number:4}};function jE(t,e,n,r){return n?{icon:"",text:"LOCKED",color:"gray",className:"locked"}:r?{icon:"",text:"EDITING NOW",color:"purple",className:"editing"}:e&&e.complete?{icon:"",text:"ALL PICKS SAVED",color:"green",className:"saved"}:{icon:"",text:"READY TO PICK",color:"blue",className:"ready"}}function OE({currentWeek:t,onWeekChange:e,weekPicks:n={},weekLockStatus:r={},hasUnsavedChanges:s=!1}){const i=o=>{o!==t&&e(o)};return u.jsxs("div",{className:"week-selector-container",children:[u.jsxs("div",{className:"week-selector-header",children:[u.jsx("h2",{children:" SELECT WEEK TO MAKE/EDIT YOUR PICKS"}),s&&u.jsx("div",{className:"unsaved-indicator",children:" You have unsaved changes"})]}),u.jsx("div",{className:"week-cards",children:Object.entries(DE).map(([o,l])=>{var d;const a=o===t,c=((d=r[o])==null?void 0:d.locked)||!1,h=n[o],f=jE(o,h,c,a);return u.jsxs("div",{className:`week-card ${f.className} ${a?"current":""}`,onClick:()=>i(o),role:"button",tabIndex:0,onKeyPress:y=>{(y.key==="Enter"||y.key===" ")&&i(o)},children:[u.jsxs("div",{className:"week-card-header",children:[u.jsxs("div",{className:"week-number",children:["WEEK ",l.number]}),a&&u.jsx("div",{className:"current-indicator",children:" YOU ARE HERE "})]}),u.jsxs("div",{className:"week-card-title",children:[o==="superbowl"?"":""," ",l.shortName]}),u.jsxs("div",{className:"week-card-deadline",children:[o==="superbowl"?"Game Day: ":"Deadline: ",l.deadline]}),u.jsxs("div",{className:`week-card-status status-${f.className}`,children:[u.jsx("span",{className:"status-icon",children:f.icon}),u.jsx("span",{className:"status-text",children:f.text})]}),c&&u.jsx("div",{className:"locked-overlay",children:u.jsx("div",{className:"locked-message",children:" Cannot Edit"})})]},o)})}),u.jsx("div",{className:"week-selector-footer",children:u.jsx("p",{className:"info-text",children:" You can make picks for all weeks in advance, even if teams aren't known yet."})})]})}function LE({currentWeek:t,onDiscard:e,onSaveAndSwitch:n,onCancel:r}){const s={wildcard:"Week 1",divisional:"Week 2",conference:"Week 3",superbowl:"Week 4"};return u.jsx("div",{className:"popup-overlay",children:u.jsxs("div",{className:"popup-container warning-popup",children:[u.jsxs("div",{className:"popup-header warning",children:[u.jsx("span",{className:"popup-icon",children:""}),u.jsx("h3",{children:"UNSAVED CHANGES"})]}),u.jsxs("div",{className:"popup-body",children:[u.jsxs("p",{children:["You have unsaved changes for ",s[t],"."]}),u.jsx("p",{children:"What would you like to do?"})]}),u.jsxs("div",{className:"popup-buttons",children:[u.jsx("button",{className:"popup-btn btn-secondary",onClick:e,children:"Discard Changes"}),u.jsx("button",{className:"popup-btn btn-primary",onClick:n,children:"Save & Switch"}),u.jsx("button",{className:"popup-btn btn-neutral",onClick:r,children:"Cancel"})]})]})})}function bE({onKeepEditing:t,onDiscard:e}){return u.jsx("div",{className:"popup-overlay",children:u.jsxs("div",{className:"popup-container warning-popup",children:[u.jsxs("div",{className:"popup-header warning",children:[u.jsx("span",{className:"popup-icon",children:""}),u.jsx("h3",{children:"DISCARD CHANGES?"})]}),u.jsxs("div",{className:"popup-body",children:[u.jsx("p",{children:"Your changes will not be saved."}),u.jsx("p",{children:"Your previously saved picks will remain unchanged in the system."})]}),u.jsxs("div",{className:"popup-buttons",children:[u.jsx("button",{className:"popup-btn btn-primary",onClick:t,children:"Keep Editing"}),u.jsx("button",{className:"popup-btn btn-danger",onClick:e,children:"Discard Changes"})]})]})})}function ME({missingGames:t,totalGames:e,onClose:n}){return u.jsx("div",{className:"popup-overlay",children:u.jsxs("div",{className:"popup-container error-popup",children:[u.jsxs("div",{className:"popup-header error",children:[u.jsx("span",{className:"popup-icon",children:""}),u.jsx("h3",{children:"CANNOT SAVE - INCOMPLETE ENTRY"})]}),u.jsxs("div",{className:"popup-body",children:[u.jsx("p",{children:"You must predict scores for ALL games."}),u.jsxs("p",{className:"count-text",children:["Completed: ",u.jsx("strong",{children:e-t.length})," of ",u.jsx("strong",{children:e})," games "]}),u.jsxs("div",{className:"missing-games-list",children:[u.jsx("p",{children:u.jsx("strong",{children:"Missing scores for:"})}),u.jsx("ul",{children:t.map((r,s)=>u.jsxs("li",{children:[" Game ",s+1,": ",r.team1," vs ",r.team2]},s))})]}),u.jsx("p",{className:"instruction-text",children:"Please fill in all games before saving."})]}),u.jsx("div",{className:"popup-buttons",children:u.jsx("button",{className:"popup-btn btn-primary",onClick:n,children:"OK - Go Back and Complete"})})]})})}function FE({invalidScores:t,onClose:e}){return u.jsx("div",{className:"popup-overlay",children:u.jsxs("div",{className:"popup-container error-popup",children:[u.jsxs("div",{className:"popup-header error",children:[u.jsx("span",{className:"popup-icon",children:""}),u.jsx("h3",{children:"INVALID SCORES"})]}),u.jsxs("div",{className:"popup-body",children:[u.jsx("p",{children:"All scores must be between 10 and 50."}),u.jsxs("div",{className:"invalid-scores-list",children:[u.jsx("p",{children:u.jsx("strong",{children:"Invalid scores:"})}),u.jsx("ul",{children:t.map((n,r)=>u.jsxs("li",{children:[" Game ",r+1," (",n.team,"): ",u.jsx("strong",{children:n.score})," (",n.score<10?"too low":"too high",")"]},r))})]}),u.jsx("p",{className:"instruction-text",children:"Please fix these scores."})]}),u.jsx("div",{className:"popup-buttons",children:u.jsx("button",{className:"popup-btn btn-primary",onClick:e,children:"OK - Go Back and Fix"})})]})})}function WE({weekName:t,deadline:e,onClose:n}){return u.jsx("div",{className:"popup-overlay",children:u.jsxs("div",{className:"popup-container success-popup",children:[u.jsxs("div",{className:"popup-header success",children:[u.jsx("span",{className:"popup-icon",children:""}),u.jsx("h3",{children:"PICKS SAVED SUCCESSFULLY!"})]}),u.jsxs("div",{className:"popup-body",children:[u.jsxs("p",{children:["Your ",t," picks have been saved."]}),u.jsx("p",{children:"You can edit them anytime before the deadline:"}),u.jsx("p",{className:"deadline-text",children:u.jsx("strong",{children:e})})]}),u.jsx("div",{className:"popup-buttons",children:u.jsx("button",{className:"popup-btn btn-success",onClick:n,children:"OK"})})]})})}function zE({onClose:t}){return u.jsx("div",{className:"popup-overlay",children:u.jsxs("div",{className:"popup-container info-popup",children:[u.jsxs("div",{className:"popup-header info",children:[u.jsx("span",{className:"popup-icon",children:""}),u.jsx("h3",{children:"NO CHANGES TO SAVE"})]}),u.jsxs("div",{className:"popup-body",children:[u.jsx("p",{children:"You haven't made any changes to your picks."}),u.jsx("p",{children:"Your picks are already saved."})]}),u.jsx("div",{className:"popup-buttons",children:u.jsx("button",{className:"popup-btn btn-primary",onClick:t,children:"OK"})})]})})}function UE({tiedGames:t,gameData:e,onClose:n}){return u.jsx("div",{className:"popup-overlay",children:u.jsxs("div",{className:"popup-container error-popup",children:[u.jsxs("div",{className:"popup-header error",children:[u.jsx("span",{className:"popup-icon",children:""}),u.jsx("h3",{children:"PLAYOFF GAMES CANNOT END IN A TIE!"})]}),u.jsxs("div",{className:"popup-body",children:[u.jsx("p",{style:{fontWeight:"bold",marginBottom:"15px"},children:"The following game(s) have tied scores:"}),u.jsx("ul",{style:{listStyle:"none",padding:0,marginBottom:"15px"},children:t.map(r=>{const s=e.find(i=>i.id===r);return u.jsxs("li",{style:{padding:"8px",background:"#ffebee",border:"1px solid #ef5350",borderRadius:"4px",marginBottom:"8px",color:"#c62828"},children:[" ",s.team1," vs. ",s.team2]},r)})}),u.jsx("p",{style:{fontStyle:"italic",color:"#666"},children:"NFL Playoff games go to overtime until there's a winner!"}),u.jsx("p",{style:{fontWeight:"bold"},children:"Please change the scores so one team wins."})]}),u.jsx("div",{className:"popup-buttons",children:u.jsx("button",{className:"popup-btn btn-primary",onClick:n,children:"Fix Scores"})})]})})}const $g={1:{name:"Most Correct Winners",week:"wildcard",weekName:"Week 1"},2:{name:"Closest Total Points",week:"wildcard",weekName:"Week 1"},3:{name:"Most Correct Winners",week:"divisional",weekName:"Week 2"},4:{name:"Closest Total Points",week:"divisional",weekName:"Week 2"},5:{name:"Most Correct Winners",week:"conference",weekName:"Week 3"},6:{name:"Closest Total Points",week:"conference",weekName:"Week 3"},7:{name:"Most Correct Winners",week:"superbowl",weekName:"Week 4"},8:{name:"Closest Total Points",week:"superbowl",weekName:"Week 4"},9:{name:"Overall Most Correct Winners",week:"all",weekName:"All Weeks"},10:{name:"Overall Closest Total Points",week:"all",weekName:"All Weeks"}};function BE(t,e,n){var r;if(t.week==="all"){let s=0,i=0;return Object.keys(n).forEach(o=>{const l=n[o].games;s+=l.length,l.forEach(a=>{var h;const c=(h=e[o])==null?void 0:h[a.id];c&&(c.team1!==void 0||c.team2!==void 0)&&i++})}),i===0?{status:"NOT_STARTED",gamesCompleted:0,totalGames:s,message:"First game Saturday, January 11, 2026! Standings will update as games finish."}:i<s?{status:"LIVE",gamesCompleted:i,totalGames:s,message:`LIVE NOW! ${i} of ${s} playoff games completed. Standings updating in real-time!`}:{status:"COMPLETE",gamesCompleted:i,totalGames:s,message:"Playoffs complete! Final standings shown above."}}else{const s=((r=n[t.week])==null?void 0:r.games)||[],i=s.length;let o=0;return s.forEach(l=>{var c;const a=(c=e[t.week])==null?void 0:c[l.id];a&&(a.team1!==void 0||a.team2!==void 0)&&o++}),o===0?{status:"NOT_STARTED",gamesCompleted:0,totalGames:i,message:"Games not started yet. Standings will update as games finish!"}:o<i?{status:"LIVE",gamesCompleted:o,totalGames:i,message:`LIVE NOW! ${o} of ${i} games completed. Standings changing in real-time!`}:{status:"COMPLETE",gamesCompleted:o,totalGames:i,message:"All games complete! Final standings shown above."}}}function $E(t,e,n,r){var c,h,f;const s=$g[t],i=[1,3,5,7,9].includes(t);let o=[],l={},a=[];if(s.week==="all"){o=e,l=n,Object.keys(r).forEach(y=>{a=a.concat(r[y].games.map(v=>({...v,week:y})))});const d={};o.forEach(y=>{d[y.playerCode]||(d[y.playerCode]={playerCode:y.playerCode,playerName:y.playerName,weeklyPicks:[]}),d[y.playerCode].weeklyPicks.push(y)}),o=Object.values(d)}else o=e.filter(d=>d.week===s.week),l=n[s.week]||{},a=((c=r[s.week])==null?void 0:c.games)||[];if(o.length===0)return{leaders:[],allPlayers:[],hasTie:!1,tieCount:0};if(i){const d=o.map(S=>{let w=0;return(S.weeklyPicks||[S]).forEach(p=>{a.forEach(_=>{var A,J;const E=(A=p.predictions)==null?void 0:A[_.id],N=s.week==="all"?(J=n[_.week])==null?void 0:J[_.id]:l[_.id];if(!E||!N)return;const k=parseInt(E.team1)>parseInt(E.team2)?"team1":"team2",P=parseInt(N.team1)>parseInt(N.team2)?"team1":"team2";k===P&&w++})}),{playerCode:S.playerCode,playerName:S.playerName,score:w}});d.sort((S,w)=>w.score-S.score);const y=((h=d[0])==null?void 0:h.score)||0,v=d.filter(S=>S.score===y);return{leaders:v,allPlayers:d,hasTie:v.length>1,tieCount:v.length}}else{let d=0;a.forEach(w=>{var p;const m=s.week==="all"?(p=n[w.week])==null?void 0:p[w.id]:l[w.id];m&&(d+=(parseInt(m.team1)||0)+(parseInt(m.team2)||0))});const y=o.map(w=>{let m=0;(w.weeklyPicks||[w]).forEach(E=>{a.forEach(N=>{var P;const k=(P=E.predictions)==null?void 0:P[N.id];k&&(m+=(parseInt(k.team1)||0)+(parseInt(k.team2)||0))})});const _=Math.abs(m-d);return{playerCode:w.playerCode,playerName:w.playerName,score:m,actualTotal:d,difference:_}});y.sort((w,m)=>w.difference-m.difference);const v=((f=y[0])==null?void 0:f.difference)||0,S=y.filter(w=>w.difference===v);return{leaders:S,allPlayers:y,hasTie:S.length>1,tieCount:S.length,actualTotal:d}}}function VE({prizeNumber:t,allPicks:e,actualScores:n,weekData:r,officialWinner:s=null}){const[i,o]=W.useState(null),[l,a]=W.useState(!0),c=$g[t],h=[1,3,5,7,9].includes(t);if(W.useEffect(()=>{try{const w=$E(t,e,n,r);o(w),a(!1)}catch(w){console.error(`Error calculating leaders for Prize ${t}:`,w),a(!1)}},[t,e,n,r]),l)return u.jsxs("div",{className:"leader-card loading",children:[u.jsx("div",{className:"leader-card-header",children:u.jsxs("h3",{children:["Prize #",t," - ",c.name]})}),u.jsx("div",{className:"leader-card-body",children:u.jsx("p",{children:"Calculating leaders..."})})]});if(!i||i.allPlayers.length===0)return u.jsxs("div",{className:"leader-card no-data",children:[u.jsxs("div",{className:"leader-card-header",children:[u.jsxs("h3",{children:["Prize #",t," - ",c.name]}),u.jsx("span",{className:"prize-week",children:c.weekName})]}),u.jsx("div",{className:"leader-card-body",children:u.jsx("p",{children:"No picks available yet."})})]});const{leaders:f,allPlayers:d,hasTie:y,tieCount:v}=i,S=BE(c,n,r);return u.jsxs("div",{className:`leader-card ${y?"has-tie":""}`,children:[u.jsxs("div",{className:"leader-card-header",children:[u.jsxs("h3",{children:["Prize #",t," - ",c.name]}),u.jsx("span",{className:"prize-week",children:c.weekName})]}),u.jsxs("div",{className:"leader-card-body",children:[u.jsxs("div",{className:`game-status ${S.status.toLowerCase()}`,children:[u.jsxs("div",{className:"status-badge",children:[S.status==="NOT_STARTED"&&" NOT STARTED",S.status==="LIVE"&&" LIVE",S.status==="COMPLETE"&&" COMPLETE"]}),u.jsx("div",{className:"status-details",children:S.status!=="NOT_STARTED"&&u.jsxs("span",{className:"games-count",children:[S.gamesCompleted," of ",S.totalGames," games"]})}),u.jsx("p",{className:"status-message",children:S.message})]}),y&&u.jsxs("div",{className:"tie-warning",children:[" ",v,"-WAY TIE FOR 1ST PLACE!"]}),y&&u.jsxs("div",{className:"tied-leaders-section",children:[u.jsx("h4",{children:" TIED FOR 1ST PLACE:"}),u.jsx("div",{className:"leaders-list",children:f.map((w,m)=>u.jsxs("div",{className:`leader-item ${(s==null?void 0:s.playerCode)===w.playerCode?"official-winner":"tied-leader"}`,children:[u.jsxs("span",{className:"leader-rank",children:[m+1,"."]}),u.jsx("span",{className:"leader-name",children:w.playerName}),u.jsx("span",{className:"leader-score",children:h?`${w.score} correct`:`${w.score} pts (off by ${w.difference})`}),(s==null?void 0:s.playerCode)===w.playerCode?u.jsx("span",{className:"official-badge",children:" OFFICIAL WINNER"}):u.jsx("span",{className:"leading-badge",children:" LEADING"})]},m))})]}),y&&d.length>v&&u.jsxs("div",{className:"next-in-line-section",children:[u.jsx("h4",{children:" NEXT IN LINE:"}),u.jsx("div",{className:"leaders-list",children:d.slice(v,v+10).map((w,m)=>u.jsxs("div",{className:"leader-item",children:[u.jsxs("span",{className:"leader-rank",children:[v+m+1,"."]}),u.jsx("span",{className:"leader-name",children:w.playerName}),u.jsx("span",{className:"leader-score",children:h?`${w.score} correct`:`${w.score} pts (off by ${w.difference})`})]},m))})]}),!y&&u.jsxs("div",{className:"all-players-section",children:[u.jsx("h4",{children:" ALL PLAYERS RANKED:"}),u.jsx("div",{className:"leaders-list",children:d.map((w,m)=>u.jsxs("div",{className:`leader-item ${m===0&&(s==null?void 0:s.playerCode)===w.playerCode?"official-winner":""}`,children:[u.jsxs("span",{className:"leader-rank",children:[m+1,"."]}),u.jsx("span",{className:"leader-name",children:w.playerName}),u.jsx("span",{className:"leader-score",children:h?`${w.score} correct`:`${w.score} pts (off by ${w.difference})`}),m===0&&((s==null?void 0:s.playerCode)===w.playerCode?u.jsx("span",{className:"official-badge",children:" OFFICIAL WINNER"}):u.jsx("span",{className:"leading-badge",children:" LEADING"}))]},m))})]}),!s&&u.jsx("div",{className:"no-official-winner",children:u.jsx("em",{children:"No official winner declared yet"})})]})]})}function HE({allPicks:t,actualScores:e,games:n,officialWinners:r,weekData:s}){return u.jsxs("div",{className:"leaders-section",children:[u.jsx("h2",{children:" Prize Leaders"}),u.jsx("p",{className:"leaders-description",children:"Current standings for all 10 prizes. Winners will be officially announced by the Pool Manager."}),u.jsx("div",{className:"prize-grid",children:[1,2,3,4,5,6,7,8,9,10].map(i=>u.jsx(VE,{prizeNumber:i,allPicks:t,actualScores:e,weekData:s,officialWinner:r==null?void 0:r[i]},i))})]})}const Vg={1:{name:"Most Correct Winners",week:"wildcard",weekName:"Week 1"},2:{name:"Closest Total Points",week:"wildcard",weekName:"Week 1"},3:{name:"Most Correct Winners",week:"divisional",weekName:"Week 2"},4:{name:"Closest Total Points",week:"divisional",weekName:"Week 2"},5:{name:"Most Correct Winners",week:"conference",weekName:"Week 3"},6:{name:"Closest Total Points",week:"conference",weekName:"Week 3"},7:{name:"Most Correct Winners",week:"superbowl",weekName:"Week 4"},8:{name:"Closest Total Points",week:"superbowl",weekName:"Week 4"},9:{name:"Overall Most Correct Winners",week:"all",weekName:"All Weeks"},10:{name:"Overall Closest Total Points",week:"all",weekName:"All Weeks"}};function GE(t,e,n,r){var c;const s=Vg[t],i=[1,3,5,7,9].includes(t);let o=[],l={},a=[];if(s.week==="all"?(o=e,l=n,Object.keys(r).forEach(h=>{a=a.concat(r[h].games.map(f=>({...f,week:h})))})):(o=e.filter(h=>h.week===s.week),l=n[s.week]||{},a=((c=r[s.week])==null?void 0:c.games)||[]),o.length===0)return[];if(i)return o.map(f=>{let d=0;return a.forEach(y=>{var p,_;const v=(p=f.predictions)==null?void 0:p[y.id],S=s.week==="all"?(_=n[y.week])==null?void 0:_[y.id]:l[y.id];if(!v||!S)return;const w=parseInt(v.team1)>parseInt(v.team2)?"team1":"team2",m=parseInt(S.team1)>parseInt(S.team2)?"team1":"team2";w===m&&d++}),{playerCode:f.playerCode,playerName:f.playerName,score:d}}).sort((f,d)=>d.score-f.score);{let h=0;return a.forEach(d=>{var v;const y=s.week==="all"?(v=n[d.week])==null?void 0:v[d.id]:l[d.id];y&&(h+=(parseInt(y.team1)||0)+(parseInt(y.team2)||0))}),o.map(d=>{let y=0;a.forEach(S=>{var m;const w=(m=d.predictions)==null?void 0:m[S.id];w&&(y+=(parseInt(w.team1)||0)+(parseInt(w.team2)||0))});const v=Math.abs(y-h);return{playerCode:d.playerCode,playerName:d.playerName,score:y,difference:v}}).sort((d,y)=>d.difference-y.difference)}}function YE({prizeNumber:t,allPicks:e,actualScores:n,weekData:r,officialWinner:s,onDeclareWinner:i}){const[o,l]=W.useState(s?`${s.playerCode}|${s.playerName}`:""),a=Vg[t],c=GE(t,e,n,r),h=[1,3,5,7,9].includes(t),f=()=>{if(!o){i(t,null);return}if(o==="TIE"){i(t,{playerCode:"TIE",playerName:"TIE - Multiple Winners",score:"TIE"});return}const[d,y]=o.split("|"),v=c.find(S=>S.playerCode===d);i(t,{playerCode:d,playerName:y,score:(v==null?void 0:v.score)||0})};return u.jsxs("div",{className:"prize-declaration-card",children:[u.jsxs("div",{className:"prize-header",children:[u.jsxs("h3",{children:["Prize #",t]}),u.jsx("span",{className:"prize-type",children:a.name}),u.jsx("span",{className:"prize-week",children:a.weekName})]}),u.jsxs("div",{className:"prize-body",children:[c.length===0?u.jsx("div",{className:"no-picks-warning",children:" No picks submitted yet for this week"}):u.jsxs("div",{className:"current-leaders",children:[u.jsx("h4",{children:" ALL PLAYERS RANKED:"}),u.jsx("ol",{className:"all-players-list",children:c.map((d,y)=>u.jsxs("li",{children:[d.playerName," - "," ",h?`${d.score} correct`:`${d.score} pts (off by ${d.difference})`]},y))})]}),u.jsxs("div",{className:"winner-selection",children:[u.jsxs("label",{children:[u.jsx("strong",{children:"Declare Official Winner:"}),u.jsxs("select",{value:o,onChange:d=>l(d.target.value),className:"winner-dropdown",children:[u.jsx("option",{value:"",children:"-- No Winner Declared --"}),u.jsx("option",{value:"TIE",children:" DECLARE TIE"}),c.map((d,y)=>u.jsxs("option",{value:`${d.playerCode}|${d.playerName}`,children:[d.playerName," (",h?`${d.score} correct`:`off by ${d.difference}`,")"]},y))]})]}),u.jsx("button",{className:"btn-declare",onClick:f,children:o?" Declare Winner":" Remove Winner"})]}),s&&u.jsxs("div",{className:"current-winner",children:[" Official Winner: ",u.jsx("strong",{children:s.playerName})]})]})]})}function QE({allPicks:t,actualScores:e,games:n,officialWinners:r,onDeclareWinner:s,isPoolManager:i}){return i?u.jsxs("div",{className:"winner-declaration-section",children:[u.jsx("h2",{children:" Pool Manager: Declare Official Winners"}),u.jsxs("p",{className:"declaration-description",children:["Select the official winner for each prize. You can choose from calculated leaders or declare a tie.",u.jsx("strong",{children:" Dropdowns are available even if no picks have been submitted yet."})]}),u.jsx("div",{className:"prize-grid",children:[1,2,3,4,5,6,7,8,9,10].map(o=>u.jsx(YE,{prizeNumber:o,allPicks:t,actualScores:e,weekData:n,officialWinner:r==null?void 0:r[o],onDeclareWinner:s},o))})]}):null}const KE={apiKey:"AIzaSyDr3PPXC90wvQW_LG8TkAyR9K-7e0loQ3A",authDomain:"nfl-playoff-pool-2025-scores.firebaseapp.com",databaseURL:"https://nfl-playoff-pool-2025-scores-default-rtdb.firebaseio.com",projectId:"nfl-playoff-pool-2025-scores",storageBucket:"nfl-playoff-pool-2025-scores.firebasestorage.app",messagingSenderId:"844539772456",appId:"1:844539772456:web:9bbfcf523195a5eedfff1d"},qE=Nm(KE),ke=CE(qE),th={firstFriday:"2026-01-09",lastMonday:"2026-02-09"},an={wildcard:"2026-01-10",divisional:"2026-01-17",conference:"2026-01-25",superbowl:"2026-02-08"},un=["76BB89","Z9Y8X7"],Ui={"76BB89":"POOL MANAGER - Richard",Z9Y8X7:"POOL MANAGER - Dennis",J239W4:"Bob Casson",B7Y4X3:"Bob Desrosiers",D4F7G5:"Bonnie Biletski","536EE2":"Brian Colburg",X8HH67:"Chris Neufeld",G7R3P5:"Curtis Braun",A4LJC9:"Curtis Palidwor",X3P8N1:"Dallas Pylypow",HM8T67:"Darrell Klassen",TA89R2:"Dave Boyarski",K2P9W5:"Dave Desrosiers",A5K4T7:"Dennis Biletski","6WRUJR":"Emily Chadwick",AB6C89:"Gareth Reeve",D3F6G9:"Jarrod Reimer",T42B67:"Jo Behr",PUEFKF:"Joshua Biletski",ABC378:"Ken Mcleod",K9R3N6:"Kevin Pich",H7P3N5:"Larry Bretecher",B5R4T6:"Larry Strand",L2W9X2:"Michelle Desrosiers","5GGPL3":"Mike Brkich",T4M8Z8:"Neema Dadmand","9CD72G":"Neil Banman",T7Y4R8:"Neil Foster",KWBZ86:"Nick Melanidis","2WQA9X":"Nima Ahmadi",E4T6J7:"Orest Pich",N4M8Q2:"Randy Moffatt",B8L9M2:"Richard Biletski","62R92L":"Rob Crowe",H8M3N7:"Rob Kost",WW3F44:"Ryan Moffatt",E5G7G8:"Tony Creta"},me={wildcard:{name:"Wild Card Round (Jan 10-12, 2026)",deadline:"Friday, January 9, 2026 at 11:59 PM PST",games:[{id:1,team1:"AFC #7",team2:"AFC #2"},{id:2,team1:"AFC #6",team2:"AFC #3"},{id:3,team1:"AFC #5",team2:"AFC #4"},{id:4,team1:"NFC #7",team2:"NFC #2"},{id:5,team1:"NFC #6",team2:"NFC #3"},{id:6,team1:"NFC #5",team2:"NFC #4"}]},divisional:{name:"Divisional Round (Jan 17-18, 2026)",deadline:"Friday, January 16, 2026 at 11:59 PM PST",games:[{id:7,team1:"AFC Winner 1",team2:"AFC #1"},{id:8,team1:"AFC Winner 2",team2:"AFC Winner 3"},{id:9,team1:"NFC Winner 1",team2:"NFC #1"},{id:10,team1:"NFC Winner 2",team2:"NFC Winner 3"}]},conference:{name:"Conference Championships (Jan 25, 2026)",deadline:"Friday, January 23, 2026 at 11:59 PM PST",games:[{id:11,team1:"AFC Winner A",team2:"AFC Winner B"},{id:12,team1:"NFC Winner A",team2:"NFC Winner B"}]},superbowl:{name:"Super Bowl LIX (Feb 8, 2026)",deadline:"Friday, February 6, 2026 at 11:59 PM PST",games:[{id:13,team1:"AFC Champion",team2:"NFC Champion"}]}};function XE(){const[t,e]=W.useState("picks"),[n,r]=W.useState(""),[s,i]=W.useState(""),[o,l]=W.useState(!1),[a,c]=W.useState("wildcard"),[h,f]=W.useState({}),[d,y]=W.useState([]),[v,S]=W.useState(!1),[w,m]=W.useState({}),[p,_]=W.useState({}),[E,N]=W.useState({}),[k,P]=W.useState({wildcard:"",divisional:"",conference:"",superbowl_week4:"",superbowl_week3:"",superbowl_week2:"",superbowl_week1:"",superbowl_grand:""}),[A,J]=W.useState({wildcard:{locked:!1,lockDate:null,autoLockDate:an.wildcard},divisional:{locked:!1,lockDate:null,autoLockDate:an.divisional},conference:{locked:!1,lockDate:null,autoLockDate:an.conference},superbowl:{locked:!1,lockDate:null,autoLockDate:an.superbowl}}),[B,Ue]=W.useState({}),[zt,At]=W.useState(null),[lr,ar]=W.useState(null),[Dt,dt]=W.useState(!1),[D,M]=W.useState(null),[$,le]=W.useState(null),[ve,Mn]=W.useState([]),[Ut,ts]=W.useState([]),[ft,rn]=W.useState({}),[_l,vl]=W.useState({}),[Hg,Gg]=W.useState({}),Se=()=>un.includes(s)&&o,Gc=g=>{const x=an[g];if(!x)return!1;const C=new Date,j=new Date(C.toLocaleString("en-US",{timeZone:"America/Los_Angeles"})),L=new Date(x+"T00:00:00");return j>=L},sn=g=>{var x;return Se()?!1:(x=A[g])!=null&&x.locked?!0:Gc(g)};W.useEffect(()=>{const g=xe(ke,"weekLockStatus");ln(g,x=>{const C=x.val();if(C){const j={};Object.keys(an).forEach(L=>{var F,R;j[L]={locked:((F=C[L])==null?void 0:F.locked)||!1,lockDate:((R=C[L])==null?void 0:R.lockDate)||null,autoLockDate:an[L]}}),J(j)}})},[]);const Yg=g=>{const x=!A[g].locked,C=x?new Date().toISOString():null,j={...A,[g]:{...A[g],locked:x,lockDate:C}};J(j),Ot(xe(ke,`weekLockStatus/${g}`),{locked:x,lockDate:C,autoLockDate:an[g]}),alert(x?` Week ${g} is now LOCKED

Players cannot edit picks for this week.`:` Week ${g} is now UNLOCKED

Players can edit picks for this week.`)};W.useEffect(()=>{const g=xe(ke,"picks");ln(g,x=>{const C=x.val();if(C){const j=Object.keys(C).map(L=>({...C[L],firebaseKey:L}));y(j)}else y([])})},[]),W.useEffect(()=>{const g=xe(ke,"teamCodes");ln(g,x=>{const C=x.val();C&&m(C)})},[]),W.useEffect(()=>{const g=xe(ke,"actualScores");ln(g,x=>{const C=x.val();C&&_(C)})},[]),W.useEffect(()=>{const g=xe(ke,"gameStatus");ln(g,x=>{const C=x.val();C&&N(C)})},[]),W.useEffect(()=>{const g=xe(ke,"winners");ln(g,x=>{const C=x.val();C&&rn(C)})},[]),W.useEffect(()=>{const g=xe(ke,"gameLocks");ln(g,x=>{const C=x.val();C&&Ue(C)})},[]),W.useEffect(()=>{const g=xe(ke,"manualWeekTotals");ln(g,x=>{const C=x.val();C&&P(C)})},[]),W.useEffect(()=>{if(o&&n&&d.length>0){const g=d.find(x=>x.playerName===n&&x.week===a);g&&g.predictions?(console.log("Loading existing picks for",n,"week",a),f(g.predictions)):(console.log("No existing picks found - clearing form"),f({}))}},[a,d,o,n]),W.useEffect(()=>{const g=new AE(Yc,5);return At(g),()=>{g&&g.stop()}},[]);const Yc=async()=>{try{console.log("Fetching scores from ESPN...");const g=await TE();if(!g.success){console.error("ESPN fetch failed:",g.error);return}console.log("ESPN games fetched:",g.games.length);const x=me[a].games,C={};if(g.games.forEach(j=>{var F;const L=RE(j,me,a,w);if(L){const R=L.gameId;if((F=B[a])!=null&&F[R]){console.log(`Game ${R} is locked, skipping API update`);return}C[R]={team1:L.team1Score,team2:L.team2Score,source:"espn",lastUpdated:new Date().toISOString()},N(V=>({...V,[a]:{...V[a],[R]:L.isFinal?"final":L.isLive?"live":""}}))}}),Object.keys(C).length>0){_(L=>({...L,[a]:{...L[a],...C}}));const j=xe(ke,`actualScores/${a}`);await Ot(j,{...p[a],...C}),console.log(`Updated ${Object.keys(C).length} games from ESPN`)}ar(new Date)}catch(g){console.error("Error fetching ESPN scores:",g)}},Qg=g=>{var x;console.log(" Toggle clicked for game:",g),console.log(" Current week:",a),console.log(" Current locks:",B),console.log(" Current value for game",g,":",(x=B[a])==null?void 0:x[g]),Ue(C=>{const j={...C};j[a]||(j[a]={});const L=j[a][g],F=!L;console.log(" Old value:",L),console.log(" New value:",F),j[a][g]=F;const R=xe(ke,`gameLocks/${a}/${g}`);return Ot(R,F),console.log(" Saved to Firebase:",F),console.log(" Returning new locks:",j),j})},Qc=(g,x,C)=>{f(j=>({...j,[g]:{...j[g],[x]:C}}))},Kc=(g,x,C)=>{var L;const j={...w,[a]:{...w[a]||{},[g]:{...((L=w[a])==null?void 0:L[g])||{},[x]:C.toUpperCase()}}};m(j),Ot(xe(ke,`teamCodes/${a}/${g}/${x}`),C.toUpperCase())},qc=(g,x,C)=>{var L;const j={...p,[a]:{...p[a]||{},[g]:{...((L=p[a])==null?void 0:L[g])||{},[x]:C}}};_(j),Ot(xe(ke,`actualScores/${a}/${g}/${x}`),C)},Kg=(g,x)=>{const C={...E,[a]:{...E[a]||{},[g]:x}};N(C),Ot(xe(ke,`gameStatus/${a}/${g}`),x)},ur=(g,x)=>{const C={...k,[g]:x};P(C),Ot(xe(ke,`manualWeekTotals/${g}`),x)},qg=async(g,x)=>{if(x){const C={...ft,[g]:x};rn(C);try{await dE(xe(ke,`winners/${g}`),{playerCode:x.playerCode,playerName:x.playerName,score:x.score,declaredAt:new Date().toISOString(),declaredBy:s}),alert(` Winner declared for Prize #${g}: ${x.playerName}`)}catch(j){console.error("Failed to save winner:",j),alert(" Failed to save winner. Please try again.")}}else{const C={...ft};delete C[g],rn(C);try{await Ot(xe(ke,`winners/${g}`),null),alert(` Winner removed for Prize #${g}`)}catch(j){console.error("Failed to remove winner:",j)}}},Xg=g=>{Dt?(le(g),M("unsavedChanges")):(c(g),Ci(g))},Ci=g=>{const x=d.find(C=>C.week===g&&C.playerCode===s);x&&x.predictions?(f(x.predictions),vl(x.predictions),dt(!1)):(f({}),vl({}),dt(!1))};W.useEffect(()=>{const g=JSON.stringify(h)!==JSON.stringify(_l);dt(g)},[h,_l]),W.useEffect(()=>{o&&s&&Ci(a)},[a,o,s,d]),W.useEffect(()=>{if(d.length>0&&s){const g={};["wildcard","divisional","conference","superbowl"].forEach(x=>{const C=d.find(j=>j.week===x&&j.playerCode===s);if(C&&C.predictions){const j=me[x].games.length,L=Object.keys(C.predictions).filter(F=>{var R,V;return((R=C.predictions[F])==null?void 0:R.team1)&&((V=C.predictions[F])==null?void 0:V.team2)}).length;g[x]={complete:L===j,count:L,total:j}}}),Gg(g)}},[d,s]);const ns=()=>{if(Se())return!0;const g=new Date,x=new Date(g.toLocaleString("en-US",{timeZone:"America/Los_Angeles"})),C=new Date(th.firstFriday+"T00:00:00"),j=new Date(th.lastMonday+"T23:59:59");if(x<C)return!0;if(x>j)return!1;const L=x.getDay(),F=x.getHours(),R=x.getMinutes();return!(L===5&&F===23&&R>=59||L===6||L===0||L===1&&F===0&&R===0)},Xc=()=>{const g=s.trim().toUpperCase();if(!g){alert("Please enter your 6-character player code");return}if(g.length!==6||!/^[A-Z0-9]{6}$/.test(g)){alert(`Invalid code format!

Player codes must be exactly 6 characters (letters and numbers).
Example: A7K9M2`);return}const x=Ui[g];if(!x){alert(`Invalid player code!

This code is not recognized.

Make sure you:
1. Paid your $20 entry fee
2. Received your code from the pool manager
3. Entered the code correctly

Contact: gammoneer2b@gmail.com`);return}if(d.find(j=>j.playerName===x&&j.week===a))if(un.includes(g))alert(`Welcome, Pool Manager!

You have unrestricted access to:
 Enter picks anytime (no lockout)
 Enter team codes
 Enter actual game scores
 Set game status (LIVE/FINAL)
 Lock/unlock weeks
 View all player codes`);else{const j=sn(a);alert(j?`Welcome back, ${x}!

 WARNING: This week is LOCKED!

Your existing picks for ${me[a].name} will be loaded, but you cannot edit them because the games have been played.

You can only view your submitted picks.`:`Welcome back, ${x}!

Your existing picks for ${me[a].name} will be loaded automatically.

You can edit and resubmit anytime except during playoff weekends (Friday 11:59 PM - Monday 12:01 AM PST).`)}else un.includes(g)&&alert(`Welcome, Pool Manager!

You have unrestricted access to:
 Enter picks anytime (no lockout)
 Enter team codes
 Enter actual game scores
 Set game status (LIVE/FINAL)
 Lock/unlock weeks
 View all player codes`);r(x),i(g),l(!0)},Jg=()=>{const g=d.filter(R=>R.week===a);if(g.length===0){alert("No picks to download for this week.");return}const x=me[a];let C="";C+="TEAM CODES:,",x.games.forEach(R=>{var b,H,U,Z;const V=((H=(b=w[a])==null?void 0:b[R.id])==null?void 0:H.team1)||"-",q=((Z=(U=w[a])==null?void 0:U[R.id])==null?void 0:Z.team2)||"-";C+=`${V},${q},`}),a==="superbowl"&&(C+=",,,,"),C+=`
`,C+="ACTUAL SCORES:,",x.games.forEach(R=>{var b,H,U,Z;const V=((H=(b=p[a])==null?void 0:b[R.id])==null?void 0:H.team1)||"-",q=((Z=(U=p[a])==null?void 0:U[R.id])==null?void 0:Z.team2)||"-";C+=`${V},${q},`}),a==="superbowl"&&(C+=",,,,"),C+=`
`,C+="GAME TOTALS:,",x.games.forEach(R=>{var U,Z,we,Ee;const V=parseInt((Z=(U=p[a])==null?void 0:U[R.id])==null?void 0:Z.team1)||0,q=parseInt((Ee=(we=p[a])==null?void 0:we[R.id])==null?void 0:Ee.team2)||0,b=V+q,H=V>0||q>0?b:"-";C+=`${H},,`}),a==="superbowl"&&(C+=",,,,"),C+=`
`,C+="GAME STATUS:,",x.games.forEach(R=>{var b;const V=((b=E[a])==null?void 0:b[R.id])||"-";C+=`${V==="final"?"FINAL":V==="live"?"LIVE":"-"},,`}),a==="superbowl"&&(C+=",,,,"),C+=`
`,C+="OFFICIAL TOTALS:,",x.games.forEach(()=>{C+=",,"}),a==="superbowl"?(C+=`${k.superbowl_week4||"-"},`,C+=`${k.superbowl_week3||"-"},`,C+=`${k.superbowl_week2||"-"},`,C+=`${k.superbowl_week1||"-"},`,C+=`${k.superbowl_grand||"-"},`):C+=`${k[a]||"-"},`,C+=`
`,C+=`
`,C+=",",x.games.forEach(R=>{C+=`Game ${R.id},Game ${R.id},`}),C+=`
`,C+="Player Name,",x.games.forEach(R=>{C+=`${R.team1} Score,${R.team2} Score,`}),a==="superbowl"?C+="Week 4 Total,Week 3 Total,Week 2 Total,Week 1 Total,GRAND TOTAL,":C+="Total Points,",C+=`Submitted At
`,g.sort((R,V)=>(V.lastUpdated||V.timestamp)-(R.lastUpdated||R.timestamp)).forEach(R=>{if(C+=`"${R.playerName}",`,x.games.forEach(q=>{var U,Z;const b=((U=R.predictions[q.id])==null?void 0:U.team1)||"-",H=((Z=R.predictions[q.id])==null?void 0:Z.team2)||"-";C+=`${b},${H},`}),a==="superbowl"){const q=(()=>{const we=d.find(pe=>pe.playerName===R.playerName&&pe.week==="superbowl");if(!we)return 0;let Ee=0;return me.superbowl.games.forEach(pe=>{const Ae=we.predictions[pe.id];Ae&&(Ee+=(Number(Ae.team1)||0)+(Number(Ae.team2)||0))}),Ee})(),b=(()=>{const we=d.find(pe=>pe.playerName===R.playerName&&pe.week==="conference");if(!we)return 0;let Ee=0;return me.conference.games.forEach(pe=>{const Ae=we.predictions[pe.id];Ae&&(Ee+=(Number(Ae.team1)||0)+(Number(Ae.team2)||0))}),Ee})(),H=(()=>{const we=d.find(pe=>pe.playerName===R.playerName&&pe.week==="divisional");if(!we)return 0;let Ee=0;return me.divisional.games.forEach(pe=>{const Ae=we.predictions[pe.id];Ae&&(Ee+=(Number(Ae.team1)||0)+(Number(Ae.team2)||0))}),Ee})(),U=(()=>{const we=d.find(pe=>pe.playerName===R.playerName&&pe.week==="wildcard");if(!we)return 0;let Ee=0;return me.wildcard.games.forEach(pe=>{const Ae=we.predictions[pe.id];Ae&&(Ee+=(Number(Ae.team1)||0)+(Number(Ae.team2)||0))}),Ee})(),Z=q+b+H+U;C+=`${q},${b},${H},${U},${Z},`}else{const q=x.games.reduce((b,H)=>{var we,Ee;const U=parseInt((we=R.predictions[H.id])==null?void 0:we.team1)||0,Z=parseInt((Ee=R.predictions[H.id])==null?void 0:Ee.team2)||0;return b+U+Z},0);C+=`${q},`}const V=new Date(R.lastUpdated||R.timestamp).toLocaleString("en-US",{month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0});C+=`"${V}"
`});const j=new Blob([C],{type:"text/csv;charset=utf-8;"}),L=document.createElement("a"),F=URL.createObjectURL(j);L.setAttribute("href",F),L.setAttribute("download",`nfl_playoff_picks_${a}_${Date.now()}.csv`),L.style.visibility="hidden",document.body.appendChild(L),L.click(),document.body.removeChild(L)},Jc=async g=>{if(g.preventDefault(),sn(a)){alert(` WEEK LOCKED

This week's games have been played.
Picks are permanently locked.`);return}if(!ns()){alert(` SUBMISSIONS CLOSED

During playoff weekends, picks are locked from:
 Friday 11:59 PM PST
 Through Monday 12:01 AM PST`);return}const x=me[a],C=[];if(x.games.forEach(F=>{(!h[F.id]||!h[F.id].team1||!h[F.id].team2)&&C.push(F.id)}),C.length>0){Mn(C),M("incomplete");return}const j=[];if(x.games.forEach(F=>{var q,b;const R=parseInt((q=h[F.id])==null?void 0:q.team1),V=parseInt((b=h[F.id])==null?void 0:b.team2);(isNaN(R)||isNaN(V)||R<0||V<0)&&j.push(F.id)}),j.length>0){ts(j),M("invalidScores");return}const L=[];if(x.games.forEach(F=>{var q,b;const R=parseInt((q=h[F.id])==null?void 0:q.team1),V=parseInt((b=h[F.id])==null?void 0:b.team2);R===V&&L.push(F.id)}),L.length>0){Mn(L),M("tiedGames");return}if(!Dt){M("noChanges");return}try{const F=xe(ke,"picks"),R=await fE(F);let V=null,q=null;if(R.exists()){const H=R.val();for(const[U,Z]of Object.entries(H))if(Z.playerCode===s&&Z.week===a){V=Z,q=U;break}}const b={playerName:n,playerCode:s,week:a,predictions:h,timestamp:V?V.timestamp:Date.now(),lastUpdated:Date.now()};q?await Ot(xe(ke,`picks/${q}`),b):await cE(xe(ke,"picks"),b),S(!0),vl({...h}),dt(!1),M("success"),setTimeout(()=>{const H=document.querySelector(".all-picks");H&&H.scrollIntoView({behavior:"smooth"})},100)}catch(F){console.error("Error submitting picks:",F),alert("Error submitting picks. Please try again.")}},Je=me[a],cr=W.useMemo(()=>{const g={};return d.filter(C=>C.week===a).forEach(C=>{g[C.playerName]||(g[C.playerName]={week4:0,week3:0,week2:0,week1:0,grand:0,current:0});let j=0;if(me[a].games.forEach(F=>{const R=C.predictions[F.id];R&&R.team1&&R.team2&&(j+=(parseInt(R.team1)||0)+(parseInt(R.team2)||0))}),g[C.playerName].current=j,a==="superbowl"){const F=d.find(b=>b.playerName===C.playerName&&b.week==="superbowl");if(F&&F.predictions){let b=0;me.superbowl.games.forEach(H=>{const U=F.predictions[H.id];U&&(b+=(Number(U.team1)||0)+(Number(U.team2)||0))}),g[C.playerName].week4=b}const R=d.find(b=>b.playerName===C.playerName&&b.week==="conference");if(R&&R.predictions){let b=0;me.conference.games.forEach(H=>{const U=R.predictions[H.id];U&&(b+=(Number(U.team1)||0)+(Number(U.team2)||0))}),g[C.playerName].week3=b}const V=d.find(b=>b.playerName===C.playerName&&b.week==="divisional");if(V&&V.predictions){let b=0;me.divisional.games.forEach(H=>{const U=V.predictions[H.id];U&&(b+=(Number(U.team1)||0)+(Number(U.team2)||0))}),g[C.playerName].week2=b}const q=d.find(b=>b.playerName===C.playerName&&b.week==="wildcard");if(q&&q.predictions){let b=0;me.wildcard.games.forEach(H=>{const U=q.predictions[H.id];U&&(b+=(Number(U.team1)||0)+(Number(U.team2)||0))}),g[C.playerName].week1=b}g[C.playerName].grand=g[C.playerName].week1+g[C.playerName].week2+g[C.playerName].week3+g[C.playerName].week4}}),g},[d,a]);return u.jsxs("div",{className:"App",children:[u.jsxs("header",{children:[u.jsx("h1",{children:" Richard's NFL Playoff Pool 2025"}),u.jsx("p",{children:"Enter your score predictions for each NFL Playoff 2025 game"}),u.jsxs("p",{style:{fontSize:"0.85rem",marginTop:"10px",opacity:.8},children:["v2.2-PLAYOFF-SCHEDULE-",new Date().toISOString().slice(0,10).replace(/-/g,"")]}),u.jsxs("div",{style:{marginTop:"15px",display:"flex",flexDirection:"column",gap:"10px",alignItems:"center"},children:[u.jsxs("div",{style:{display:"flex",gap:"15px",flexWrap:"wrap",justifyContent:"center"},children:[u.jsx("a",{href:"/nfl-playoff-pool/Playoff_Pool_Quick_Rules.pdf",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",padding:"10px 20px",backgroundColor:"#0984e3",color:"white",textDecoration:"none",borderRadius:"5px",fontSize:"0.95rem",fontWeight:"bold",transition:"background-color 0.3s ease",cursor:"pointer"},onMouseOver:g=>g.target.style.backgroundColor="#74b9ff",onMouseOut:g=>g.target.style.backgroundColor="#0984e3",children:" View Quick Rules (2 Pages)"}),u.jsx("a",{href:"/nfl-playoff-pool/Richards_Playoff_Pool_LIX_Rulebook.pdf",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",padding:"10px 20px",backgroundColor:"#6c5ce7",color:"white",textDecoration:"none",borderRadius:"5px",fontSize:"0.95rem",fontWeight:"bold",transition:"background-color 0.3s ease",cursor:"pointer"},onMouseOver:g=>g.target.style.backgroundColor="#a29bfe",onMouseOut:g=>g.target.style.backgroundColor="#6c5ce7",children:" View Full Rulebook (13 Pages)"})]}),u.jsx("p",{style:{fontSize:"1.1em",marginTop:"10px",color:"#ffffff",fontWeight:"500"},children:"Entry Fee: $20 - Must be paid before end of regular season"})]})]}),u.jsxs("div",{className:"container",children:[Se()&&o&&u.jsxs("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"15px 20px",borderRadius:"8px",marginBottom:"20px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[u.jsxs("h3",{style:{margin:"0 0 15px 0",display:"flex",alignItems:"center",gap:"10px"},children:[u.jsx("span",{children:""}),u.jsx("span",{children:"POOL MANAGER - WEEK LOCK CONTROLS"})]}),u.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"10px"},children:Object.keys(me).map(g=>{var L,F;const x=(L=A[g])==null?void 0:L.locked,C=Gc(g),j=x||C;return u.jsxs("div",{style:{background:"rgba(255,255,255,0.15)",padding:"12px",borderRadius:"6px",display:"flex",flexDirection:"column",gap:"8px"},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",fontWeight:"bold",fontSize:"0.9rem"},children:[u.jsxs("span",{children:[j?"":""," Week ",g==="wildcard"?"1":g==="divisional"?"2":g==="conference"?"3":"4"]}),u.jsx("span",{style:{fontSize:"0.75rem",opacity:.9},children:(F=A[g])==null?void 0:F.autoLockDate})]}),C&&!x&&u.jsx("div",{style:{fontSize:"0.7rem",padding:"4px 8px",background:"rgba(255,193,7,0.3)",borderRadius:"4px",border:"1px solid rgba(255,193,7,0.5)"},children:" AUTO-LOCKED"}),x&&u.jsx("div",{style:{fontSize:"0.7rem",padding:"4px 8px",background:"rgba(220,53,69,0.3)",borderRadius:"4px",border:"1px solid rgba(220,53,69,0.5)"},children:" MANUALLY LOCKED"}),u.jsx("button",{onClick:()=>Yg(g),style:{padding:"8px 12px",background:x?"#28a745":"#dc3545",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.85rem",fontWeight:"600",transition:"all 0.2s"},children:x?" Unlock Week":" Lock Week"})]},g)})}),u.jsx("p",{style:{fontSize:"0.8rem",marginTop:"12px",marginBottom:"0",opacity:.9},children:" Manual locks override automatic locks. Players cannot edit picks for locked weeks."})]}),Se()&&o&&u.jsx(kE,{currentWeek:a,games:Je.games,actualScores:p,teamCodes:w,onScoresFetched:Yc,onGameLockToggle:Qg,gameLocks:B,espnAutoRefresh:zt}),Se()&&o&&u.jsxs("div",{style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"white",padding:"15px 20px",borderRadius:"8px",marginBottom:"20px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[u.jsxs("h3",{style:{margin:"0 0 15px 0",display:"flex",alignItems:"center",gap:"10px"},children:[u.jsx("span",{children:""}),u.jsx("span",{children:"ALL PLAYER CODES"})]}),u.jsx("div",{style:{background:"rgba(255,255,255,0.95)",padding:"15px",borderRadius:"6px",maxHeight:"300px",overflowY:"auto"},children:u.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.9rem"},children:[u.jsx("thead",{children:u.jsxs("tr",{style:{background:"#f8f9fa",borderBottom:"2px solid #dee2e6"},children:[u.jsx("th",{style:{padding:"10px",textAlign:"left",color:"#495057",fontWeight:"600"},children:"Player Code"}),u.jsx("th",{style:{padding:"10px",textAlign:"left",color:"#495057",fontWeight:"600"},children:"Player Name"}),u.jsx("th",{style:{padding:"10px",textAlign:"center",color:"#495057",fontWeight:"600"},children:"Role"})]})}),u.jsx("tbody",{children:Object.entries(Ui).sort((g,x)=>{const C=un.includes(g[0]),j=un.includes(x[0]);return C&&!j?-1:!C&&j?1:g[1].localeCompare(x[1])}).map(([g,x],C)=>{const j=un.includes(g);return u.jsxs("tr",{style:{background:C%2===0?"#ffffff":"#f8f9fa",borderBottom:"1px solid #dee2e6"},children:[u.jsx("td",{style:{padding:"10px",color:"#212529",fontFamily:"monospace",fontWeight:"bold",fontSize:"1rem"},children:g}),u.jsx("td",{style:{padding:"10px",color:"#212529"},children:x}),u.jsx("td",{style:{padding:"10px",textAlign:"center"},children:j?u.jsx("span",{style:{padding:"4px 8px",background:"#dc3545",color:"white",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"600"},children:" MANAGER"}):u.jsx("span",{style:{padding:"4px 8px",background:"#28a745",color:"white",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"600"},children:" PLAYER"})})]},g)})})]})}),u.jsxs("p",{style:{fontSize:"0.8rem",marginTop:"12px",marginBottom:"0",opacity:.9},children:[" Total Players: ",Object.keys(Ui).length," | Pool Managers: ",un.length," | Regular Players: ",Object.keys(Ui).length-un.length]})]}),o&&u.jsx(OE,{currentWeek:a,onWeekChange:Xg,weekPicks:Hg,weekLockStatus:A,hasUnsavedChanges:Dt,isPoolManager:Se()}),o&&u.jsxs("div",{className:"view-navigation",children:[u.jsx("button",{className:`nav-btn ${t==="picks"?"active":""}`,onClick:()=>e("picks"),children:" Make Picks"}),u.jsx("button",{className:`nav-btn ${t==="standings"?"active":""}`,onClick:()=>e("standings"),children:" Standings & Prizes"})]}),t==="standings"&&o?u.jsx(xE,{allPicks:d,actualScores:p,currentWeek:a}):u.jsxs(u.Fragment,{children:[o?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"player-confirmed",children:[u.jsx("span",{className:"confirmation-badge",children:" VERIFIED"}),u.jsxs("h3",{children:["Welcome, ",u.jsx("span",{className:"player-name-highlight",children:n}),"!",Se()&&u.jsx("span",{style:{marginLeft:"10px",color:"#d63031"},children:" POOL MANAGER"})]}),u.jsxs("p",{style:{color:"#000"},children:["Making picks for: ",u.jsx("strong",{children:Je.name})]}),sn(a)&&!Se()&&u.jsx("div",{style:{marginTop:"10px",padding:"10px 15px",background:"#fff3cd",border:"2px solid #ffc107",borderRadius:"6px",color:"#856404",fontWeight:"600"},children:" This week is LOCKED - You can view your picks but cannot edit them"}),u.jsx("button",{className:"validate-btn",style:{marginTop:"15px",padding:"10px 20px",fontSize:"0.9rem"},onClick:()=>{l(!1),i(""),r(""),f({})},children:" Logout / Switch Entry"}),u.jsx("p",{style:{fontSize:"0.85rem",color:"#666",marginTop:"10px",fontStyle:"italic"},children:" Playing with multiple entries? Logout to switch between your codes."})]}),!ns()&&u.jsx("div",{className:"closed-warning",children:" PICKS ARE LOCKED (Playoff Weekend: Friday 11:59 PM - Monday 12:01 AM PST)"}),u.jsxs("div",{className:"prediction-form",children:[u.jsx("h2",{children:"Enter Your Predictions"}),u.jsxs("div",{className:"progress-indicator",children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[u.jsx("strong",{children:"Progress:"}),u.jsxs("span",{children:[Object.keys(h).filter(g=>h[g].team1&&h[g].team2).length," of ",Je.games.length," games completed"]})]}),u.jsx("div",{className:"progress-bar",children:u.jsxs("div",{className:"progress-fill",style:{width:`${Object.keys(h).filter(g=>h[g].team1&&h[g].team2).length/Je.games.length*100}%`},children:[Math.round(Object.keys(h).filter(g=>h[g].team1&&h[g].team2).length/Je.games.length*100),"%"]})})]}),u.jsxs("form",{onSubmit:Jc,children:[Je.games.map(g=>{var x,C,j,L,F,R;return u.jsxs("div",{className:"game-prediction",children:[u.jsxs("h3",{children:["Game ",g.id,": ",g.team1," @ ",g.team2,((x=w[a])==null?void 0:x[g.id])&&u.jsxs("span",{style:{fontSize:"0.9rem",color:"#666",marginLeft:"10px"},children:["(",w[a][g.id].team1||"?"," @ ",w[a][g.id].team2||"?",")"]})]}),((C=p[a])==null?void 0:C[g.id])&&u.jsxs("div",{style:{padding:"8px 12px",background:"#e8f5e9",borderRadius:"4px",marginBottom:"10px",fontSize:"0.9rem"},children:[u.jsx("strong",{children:"Actual Score:"})," ",p[a][g.id].team1||"-"," - ",p[a][g.id].team2||"-",((j=E[a])==null?void 0:j[g.id])==="final"&&u.jsx("span",{style:{marginLeft:"10px",padding:"2px 8px",background:"#4caf50",color:"white",borderRadius:"4px",fontSize:"0.8rem",fontWeight:"bold"},children:" FINAL"}),((L=E[a])==null?void 0:L[g.id])==="live"&&u.jsx("span",{style:{marginLeft:"10px",padding:"2px 8px",background:"#ff9800",color:"white",borderRadius:"4px",fontSize:"0.8rem",fontWeight:"bold"},children:" LIVE"})]}),u.jsxs("div",{className:"score-inputs",children:[u.jsxs("div",{className:"team-score",children:[u.jsxs("label",{children:[u.jsx("span",{className:"team-designation",children:"AWAY TEAM"}),u.jsx("span",{className:"team-name-label",children:g.team1})]}),u.jsx("input",{type:"number",min:"0",max:"99",value:((F=h[g.id])==null?void 0:F.team1)||"",onChange:V=>Qc(g.id,"team1",V.target.value),placeholder:"0",required:!0,disabled:sn(a)},`${g.id}-team1-${n}`)]}),u.jsx("div",{className:"vs",children:"VS"}),u.jsxs("div",{className:"team-score",children:[u.jsxs("label",{children:[u.jsx("span",{className:"team-designation",children:"HOME TEAM"}),u.jsx("span",{className:"team-name-label",children:g.team2})]}),u.jsx("input",{type:"number",min:"0",max:"99",value:((R=h[g.id])==null?void 0:R.team2)||"",onChange:V=>Qc(g.id,"team2",V.target.value),placeholder:"0",required:!0,disabled:sn(a)},`${g.id}-team2-${n}`)]})]})]},g.id)}),u.jsx("button",{type:"submit",className:"submit-btn",disabled:!ns()||sn(a),children:sn(a)&&!Se()?" Week Locked - Cannot Edit Picks":ns()?" Submit / Update My Picks":" Submissions Locked (Playoff Weekend)"}),ns()&&!sn(a)&&u.jsx("p",{style:{textAlign:"center",marginTop:"15px",color:"#666",fontSize:"0.9rem"},children:"You can edit and resubmit your picks as many times as you want until Friday 11:59 PM PST (before game weekends)"})]})]})]}):u.jsx("div",{className:"prediction-form",children:u.jsxs("div",{className:"code-entry-section",children:[u.jsx("h3",{children:" Enter Your Player Code"}),u.jsx("p",{style:{marginBottom:"20px",color:"#666"},children:"You received a 6-character code when you paid your $20 entry fee."}),u.jsx("p",{style:{marginBottom:"20px",color:"#666",fontSize:"0.9rem",fontStyle:"italic"},children:" Have multiple entries? Enter one code at a time."}),u.jsxs("div",{className:"code-input-group",children:[u.jsx("label",{htmlFor:"playerCode",children:"Player Code (6 characters)"}),u.jsx("input",{type:"text",id:"playerCode",className:"code-input",value:s,onChange:g=>i(g.target.value.toUpperCase()),placeholder:"A7K9M2",maxLength:"6",autoComplete:"off",onKeyPress:g=>{g.key==="Enter"&&Xc()}}),u.jsx("button",{className:"validate-btn",onClick:Xc,children:"Validate Code & Continue"}),u.jsxs("div",{style:{marginTop:"20px",padding:"15px",background:"#fff3cd",border:"2px solid #ffc107",borderRadius:"8px",textAlign:"left"},children:[u.jsx("h4",{style:{margin:"0 0 10px 0",color:"#856404"},children:" Entry Fee Payment"}),u.jsxs("p",{style:{margin:"5px 0",fontSize:"0.9rem",color:"#856404"},children:[u.jsx("strong",{children:"Cost:"})," $20 per entry"]}),u.jsxs("p",{style:{margin:"5px 0",fontSize:"0.9rem",color:"#856404"},children:[u.jsx("strong",{children:"Send e-Transfer to:"})," gammoneer2b@gmail.com"]}),u.jsxs("p",{style:{margin:"5px 0",fontSize:"0.9rem",color:"#856404"},children:[u.jsx("strong",{children:"Password:"})," nflpool"]}),u.jsx("p",{style:{margin:"10px 0 5px 0",fontSize:"0.85rem",color:"#856404",fontStyle:"italic"},children:"You will receive your player code after payment is confirmed."})]}),u.jsx("p",{style:{marginTop:"15px",fontSize:"0.9rem",color:"#666",textAlign:"center"},children:"Questions? Contact: gammoneer2b@gmail.com"})]})]})}),u.jsxs("div",{className:"all-picks",children:[u.jsxs("h2",{children:["All Player Picks - ",Je.name,u.jsx("button",{onClick:Jg,style:{marginLeft:"15px",padding:"8px 16px",background:"#4caf50",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Download to Excel"}),u.jsx("button",{onClick:()=>window.location.reload(),style:{marginLeft:"10px",padding:"8px 16px",background:"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Refresh Picks Table"})]}),d.filter(g=>g.week===a).length===0?u.jsx("p",{className:"no-picks",children:"No picks submitted yet for this week."}):u.jsx("div",{className:"picks-table-container",children:u.jsxs("table",{className:"picks-table",children:[u.jsxs("thead",{children:[u.jsxs("tr",{children:[u.jsx("th",{rowSpan:"2",children:"Player"}),Je.games.map(g=>{var x,C,j,L,F;return u.jsxs("th",{colSpan:"2",children:["Game ",g.id,u.jsx("br",{}),u.jsxs("small",{children:[g.team1," @ ",g.team2]}),Se()&&u.jsxs("div",{style:{marginTop:"5px",display:"flex",gap:"5px",justifyContent:"center",alignItems:"center"},children:[u.jsx("input",{type:"text",maxLength:"3",value:((C=(x=w[a])==null?void 0:x[g.id])==null?void 0:C.team1)||"",onChange:R=>Kc(g.id,"team1",R.target.value),placeholder:"PIT",style:{width:"45px",padding:"4px",textAlign:"center",fontSize:"0.8rem",fontWeight:"bold",border:"2px solid #667eea",borderRadius:"4px"}}),u.jsx("span",{style:{fontSize:"0.8rem"},children:"@"}),u.jsx("input",{type:"text",maxLength:"3",value:((L=(j=w[a])==null?void 0:j[g.id])==null?void 0:L.team2)||"",onChange:R=>Kc(g.id,"team2",R.target.value),placeholder:"BUF",style:{width:"45px",padding:"4px",textAlign:"center",fontSize:"0.8rem",fontWeight:"bold",border:"2px solid #667eea",borderRadius:"4px"}})]}),!Se()&&((F=w[a])==null?void 0:F[g.id])&&u.jsxs("div",{style:{fontSize:"0.8rem",color:"#666",marginTop:"3px"},children:[w[a][g.id].team1||"?"," @ ",w[a][g.id].team2||"?"]})]},g.id)}),a==="superbowl"?u.jsxs(u.Fragment,{children:[u.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#fff3cd",fontWeight:"bold",color:"#000"},children:[Se()?u.jsxs("div",{style:{marginBottom:"8px"},children:[u.jsx("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000"},children:"OFFICIAL"}),u.jsx("input",{type:"number",min:"0",value:k.superbowl_week4||"",onChange:g=>ur("superbowl_week4",g.target.value),placeholder:"-",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #f39c12",borderRadius:"4px",color:"#000"}})]}):u.jsxs("div",{style:{marginBottom:"8px"},children:[u.jsx("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:"Official"}),u.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:k.superbowl_week4||"-"})]}),"Week 4",u.jsx("br",{}),"Total"]}),u.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#d1ecf1",fontWeight:"bold",color:"#000"},children:[Se()?u.jsxs("div",{style:{marginBottom:"8px"},children:[u.jsx("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000"},children:"OFFICIAL"}),u.jsx("input",{type:"number",min:"0",value:k.superbowl_week3||"",onChange:g=>ur("superbowl_week3",g.target.value),placeholder:"-",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #f39c12",borderRadius:"4px",color:"#000"}})]}):u.jsxs("div",{style:{marginBottom:"8px"},children:[u.jsx("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:"Official"}),u.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:k.superbowl_week3||"-"})]}),"Week 3",u.jsx("br",{}),"Total"]}),u.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#d4edda",fontWeight:"bold",color:"#000"},children:[Se()?u.jsxs("div",{style:{marginBottom:"8px"},children:[u.jsx("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000"},children:"OFFICIAL"}),u.jsx("input",{type:"number",min:"0",value:k.superbowl_week2||"",onChange:g=>ur("superbowl_week2",g.target.value),placeholder:"-",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #f39c12",borderRadius:"4px",color:"#000"}})]}):u.jsxs("div",{style:{marginBottom:"8px"},children:[u.jsx("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:"Official"}),u.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:k.superbowl_week2||"-"})]}),"Week 2",u.jsx("br",{}),"Total"]}),u.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#f8d7da",fontWeight:"bold",color:"#000"},children:[Se()?u.jsxs("div",{style:{marginBottom:"8px"},children:[u.jsx("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000"},children:"OFFICIAL"}),u.jsx("input",{type:"number",min:"0",value:k.superbowl_week1||"",onChange:g=>ur("superbowl_week1",g.target.value),placeholder:"-",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #f39c12",borderRadius:"4px",color:"#000"}})]}):u.jsxs("div",{style:{marginBottom:"8px"},children:[u.jsx("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:"Official"}),u.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:k.superbowl_week1||"-"})]}),"Week 1",u.jsx("br",{}),"Total"]}),u.jsxs("th",{rowSpan:"2",className:"grand-total",children:[Se()?u.jsxs("div",{style:{marginBottom:"8px"},children:[u.jsx("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#fff"},children:"OFFICIAL"}),u.jsx("input",{type:"number",min:"0",value:k.superbowl_grand||"",onChange:g=>ur("superbowl_grand",g.target.value),placeholder:"-",style:{width:"70px",padding:"4px",textAlign:"center",fontSize:"1.1rem",fontWeight:"bold",border:"3px solid #f39c12",borderRadius:"4px",backgroundColor:"#fff",color:"#000"}})]}):u.jsxs("div",{style:{marginBottom:"8px"},children:[u.jsx("div",{style:{fontSize:"0.7rem",color:"#fff",marginBottom:"2px"},children:"Official"}),u.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"#fff"},children:k.superbowl_grand||"-"})]}),"GRAND",u.jsx("br",{}),"TOTAL"]})]}):u.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#f8f9fa",fontWeight:"bold",color:"#000"},children:[Se()?u.jsxs("div",{style:{marginBottom:"8px"},children:[u.jsx("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000"},children:"OFFICIAL"}),u.jsx("input",{type:"number",min:"0",value:k[a]||"",onChange:g=>ur(a,g.target.value),placeholder:"-",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #f39c12",borderRadius:"4px",color:"#000"}})]}):u.jsxs("div",{style:{marginBottom:"8px"},children:[u.jsx("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:"Official"}),u.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:k[a]||"-"})]}),"Official",u.jsx("br",{}),"Total"]}),u.jsx("th",{rowSpan:"2",children:"Submitted"})]}),u.jsx("tr",{style:{background:"#e3f2fd"},children:Je.games.map(g=>{var x,C,j,L,F,R,V,q,b,H,U;return u.jsxs(ra.Fragment,{children:[u.jsx("th",{style:{padding:"8px 4px",background:"#e3f2fd"},children:Se()?u.jsxs("div",{children:[u.jsx("input",{type:"number",min:"0",max:"99",value:((C=(x=p[a])==null?void 0:x[g.id])==null?void 0:C.team1)||"",onChange:Z=>qc(g.id,"team1",Z.target.value),placeholder:"-",style:{width:"50px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #4caf50",borderRadius:"4px",color:"#000"}}),u.jsx("div",{style:{fontSize:"0.7rem",marginTop:"2px",color:"#000"},children:"ACTUAL"})]}):u.jsxs("div",{children:[u.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#000"},children:((L=(j=p[a])==null?void 0:j[g.id])==null?void 0:L.team1)||"-"}),u.jsx("div",{style:{fontSize:"0.7rem",color:"#000"},children:"ACTUAL"})]})}),u.jsx("th",{style:{padding:"8px 4px",background:"#e3f2fd"},children:Se()?u.jsxs("div",{children:[u.jsx("input",{type:"number",min:"0",max:"99",value:((R=(F=p[a])==null?void 0:F[g.id])==null?void 0:R.team2)||"",onChange:Z=>qc(g.id,"team2",Z.target.value),placeholder:"-",style:{width:"50px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #4caf50",borderRadius:"4px",color:"#000"}}),u.jsx("div",{style:{fontSize:"0.7rem",marginTop:"2px",color:"#000"},children:"ACTUAL"}),u.jsxs("select",{value:((V=E[a])==null?void 0:V[g.id])||"",onChange:Z=>Kg(g.id,Z.target.value),style:{width:"60px",padding:"2px",fontSize:"0.7rem",marginTop:"4px",borderRadius:"3px",border:"1px solid #999"},children:[u.jsx("option",{value:"",children:"--"}),u.jsx("option",{value:"live",children:" LIVE"}),u.jsx("option",{value:"final",children:" FINAL"})]})]}):u.jsxs("div",{children:[u.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#000"},children:((b=(q=p[a])==null?void 0:q[g.id])==null?void 0:b.team2)||"-"}),u.jsx("div",{style:{fontSize:"0.7rem",color:"#000"},children:"ACTUAL"}),((H=E[a])==null?void 0:H[g.id])==="final"&&u.jsx("div",{style:{display:"inline-block",padding:"2px 6px",background:"#4caf50",color:"white",borderRadius:"3px",fontSize:"0.65rem",fontWeight:"bold",marginTop:"4px"},children:" FINAL"}),((U=E[a])==null?void 0:U[g.id])==="live"&&u.jsx("div",{style:{display:"inline-block",padding:"2px 6px",background:"#ff9800",color:"white",borderRadius:"3px",fontSize:"0.65rem",fontWeight:"bold",marginTop:"4px"},children:" LIVE"})]})})]},`actual-${g.id}`)})})]}),u.jsx("tbody",{children:d.filter(g=>g.week===a).sort((g,x)=>(x.lastUpdated||x.timestamp)-(g.lastUpdated||g.timestamp)).map((g,x)=>{var j,L,F,R,V,q;const C=b=>{var Zc;const H=(Zc=p[a])==null?void 0:Zc[b],U=g.predictions[b];if(!H||!U)return!1;const Z=parseInt(H.team1),we=parseInt(H.team2),Ee=parseInt(U.team1),pe=parseInt(U.team2);if(isNaN(Z)||isNaN(we))return!1;const Ae=Z>we?"team1":we>Z?"team2":"tie",Zg=Ee>pe?"team1":pe>Ee?"team2":"tie";return Ae===Zg&&Ae!=="tie"};return u.jsxs("tr",{children:[u.jsx("td",{className:"player-name",children:g.playerName}),Je.games.map(b=>{var U,Z;const H=C(b.id);return u.jsxs(ra.Fragment,{children:[u.jsx("td",{className:`score ${H?"score-winner":""}`,children:((U=g.predictions[b.id])==null?void 0:U.team1)||"-"}),u.jsx("td",{className:`score ${H?"score-winner":""}`,children:((Z=g.predictions[b.id])==null?void 0:Z.team2)||"-"})]},`${x}-${b.id}`)}),a==="superbowl"?u.jsxs(u.Fragment,{children:[u.jsx("td",{style:{backgroundColor:"#fff3cd",fontWeight:"bold",fontSize:"16px"},children:u.jsx("span",{style:{color:"#000"},children:((j=cr[g.playerName])==null?void 0:j.week4)||0})}),u.jsx("td",{style:{backgroundColor:"#d1ecf1",fontWeight:"bold",fontSize:"16px"},children:u.jsx("span",{style:{color:"#000"},children:((L=cr[g.playerName])==null?void 0:L.week3)||0})}),u.jsx("td",{style:{backgroundColor:"#d4edda",fontWeight:"bold",fontSize:"16px"},children:u.jsx("span",{style:{color:"#000"},children:((F=cr[g.playerName])==null?void 0:F.week2)||0})}),u.jsx("td",{style:{backgroundColor:"#f8d7da",fontWeight:"bold",fontSize:"16px"},children:u.jsx("span",{style:{color:"#000"},children:((R=cr[g.playerName])==null?void 0:R.week1)||0})}),u.jsx("td",{className:"grand-total",children:((V=cr[g.playerName])==null?void 0:V.grand)||0})]}):u.jsx("td",{style:{backgroundColor:"#f8f9fa",fontWeight:"bold",fontSize:"16px"},children:u.jsx("span",{style:{color:"#000"},children:((q=cr[g.playerName])==null?void 0:q.current)||0})}),u.jsx("td",{className:"timestamp",children:new Date(g.lastUpdated||g.timestamp).toLocaleString("en-US",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})})]},x)})})]})}),o&&u.jsx("div",{style:{marginTop:"60px"},children:u.jsx(HE,{allPicks:d,actualScores:p,games:me,officialWinners:ft,weekData:me})}),o&&Se()&&u.jsx("div",{style:{marginTop:"40px"},children:u.jsx(QE,{allPicks:d,actualScores:p,games:me,officialWinners:ft,onDeclareWinner:qg,isPoolManager:!0})}),D==="unsavedChanges"&&u.jsx(LE,{currentWeek:me[a].name,onDiscard:()=>{c($),Ci($),M(null)},onSaveAndSwitch:async()=>{await Jc(new Event("submit")),setTimeout(()=>{c($),Ci($),M(null),le(null)},100)},onCancel:()=>{le(null),M(null)}}),D==="discardChanges"&&u.jsx(bE,{onKeepEditing:()=>M(null),onDiscard:()=>{f({..._l}),dt(!1),M(null)}}),D==="incomplete"&&u.jsx(ME,{missingGames:ve,totalGames:Je.games.length,onClose:()=>M(null)}),D==="invalidScores"&&u.jsx(FE,{invalidScores:Ut,onClose:()=>M(null)}),D==="success"&&u.jsx(WE,{weekName:Je.name,deadline:Je.deadline,onClose:()=>M(null)}),D==="noChanges"&&u.jsx(zE,{onClose:()=>M(null)}),D==="tiedGames"&&u.jsx(UE,{tiedGames:ve,gameData:Je.games,onClose:()=>M(null)})]})]})]}),u.jsxs("footer",{children:[u.jsx("p",{children:"Richard's NFL Playoff Pool 2025 | Good luck! "}),u.jsx("p",{style:{fontSize:"0.85rem",marginTop:"5px"},children:"Questions? Contact: gammoneer2b@gmail.com"})]})]})}sa.createRoot(document.getElementById("root")).render(u.jsx(ra.StrictMode,{children:u.jsx(XE,{})}));
