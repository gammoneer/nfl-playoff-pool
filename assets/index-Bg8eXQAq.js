(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Vy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ih={exports:{}},ul={},Ph={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ts=Symbol.for("react.element"),Hy=Symbol.for("react.portal"),Gy=Symbol.for("react.fragment"),Yy=Symbol.for("react.strict_mode"),Qy=Symbol.for("react.profiler"),Ky=Symbol.for("react.provider"),qy=Symbol.for("react.context"),Xy=Symbol.for("react.forward_ref"),Jy=Symbol.for("react.suspense"),Zy=Symbol.for("react.memo"),ev=Symbol.for("react.lazy"),kd=Symbol.iterator;function tv(t){return t===null||typeof t!="object"?null:(t=kd&&t[kd]||t["@@iterator"],typeof t=="function"?t:null)}var jh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rh=Object.assign,Ah={};function ni(t,e,n){this.props=t,this.context=e,this.refs=Ah,this.updater=n||jh}ni.prototype.isReactComponent={};ni.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ni.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Dh(){}Dh.prototype=ni.prototype;function Wc(t,e,n){this.props=t,this.context=e,this.refs=Ah,this.updater=n||jh}var Bc=Wc.prototype=new Dh;Bc.constructor=Wc;Rh(Bc,ni.prototype);Bc.isPureReactComponent=!0;var Nd=Array.isArray,Oh=Object.prototype.hasOwnProperty,Uc={current:null},Lh={key:!0,ref:!0,__self:!0,__source:!0};function Mh(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Oh.call(e,r)&&!Lh.hasOwnProperty(r)&&(i[r]=e[r]);var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){for(var a=Array(c),u=0;u<c;u++)a[u]=arguments[u+2];i.children=a}if(t&&t.defaultProps)for(r in c=t.defaultProps,c)i[r]===void 0&&(i[r]=c[r]);return{$$typeof:Ts,type:t,key:s,ref:o,props:i,_owner:Uc.current}}function nv(t,e){return{$$typeof:Ts,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function $c(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ts}function rv(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Td=/\/+/g;function Vl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?rv(""+t.key):e.toString(36)}function co(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ts:case Hy:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Vl(o,0):r,Nd(i)?(n="",t!=null&&(n=t.replace(Td,"$&/")+"/"),co(i,e,n,"",function(u){return u})):i!=null&&($c(i)&&(i=nv(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Td,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Nd(t))for(var c=0;c<t.length;c++){s=t[c];var a=r+Vl(s,c);o+=co(s,e,n,a,i)}else if(a=tv(t),typeof a=="function")for(t=a.call(t),c=0;!(s=t.next()).done;)s=s.value,a=r+Vl(s,c++),o+=co(s,e,n,a,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Vs(t,e,n){if(t==null)return t;var r=[],i=0;return co(t,r,"","",function(s){return e.call(n,s,i++)}),r}function iv(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var et={current:null},uo={transition:null},sv={ReactCurrentDispatcher:et,ReactCurrentBatchConfig:uo,ReactCurrentOwner:Uc};function Fh(){throw Error("act(...) is not supported in production builds of React.")}X.Children={map:Vs,forEach:function(t,e,n){Vs(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Vs(t,function(){e++}),e},toArray:function(t){return Vs(t,function(e){return e})||[]},only:function(t){if(!$c(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};X.Component=ni;X.Fragment=Gy;X.Profiler=Qy;X.PureComponent=Wc;X.StrictMode=Yy;X.Suspense=Jy;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sv;X.act=Fh;X.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Rh({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Uc.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(a in e)Oh.call(e,a)&&!Lh.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&c!==void 0?c[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){c=Array(a);for(var u=0;u<a;u++)c[u]=arguments[u+2];r.children=c}return{$$typeof:Ts,type:t.type,key:i,ref:s,props:r,_owner:o}};X.createContext=function(t){return t={$$typeof:qy,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Ky,_context:t},t.Consumer=t};X.createElement=Mh;X.createFactory=function(t){var e=Mh.bind(null,t);return e.type=t,e};X.createRef=function(){return{current:null}};X.forwardRef=function(t){return{$$typeof:Xy,render:t}};X.isValidElement=$c;X.lazy=function(t){return{$$typeof:ev,_payload:{_status:-1,_result:t},_init:iv}};X.memo=function(t,e){return{$$typeof:Zy,type:t,compare:e===void 0?null:e}};X.startTransition=function(t){var e=uo.transition;uo.transition={};try{t()}finally{uo.transition=e}};X.unstable_act=Fh;X.useCallback=function(t,e){return et.current.useCallback(t,e)};X.useContext=function(t){return et.current.useContext(t)};X.useDebugValue=function(){};X.useDeferredValue=function(t){return et.current.useDeferredValue(t)};X.useEffect=function(t,e){return et.current.useEffect(t,e)};X.useId=function(){return et.current.useId()};X.useImperativeHandle=function(t,e,n){return et.current.useImperativeHandle(t,e,n)};X.useInsertionEffect=function(t,e){return et.current.useInsertionEffect(t,e)};X.useLayoutEffect=function(t,e){return et.current.useLayoutEffect(t,e)};X.useMemo=function(t,e){return et.current.useMemo(t,e)};X.useReducer=function(t,e,n){return et.current.useReducer(t,e,n)};X.useRef=function(t){return et.current.useRef(t)};X.useState=function(t){return et.current.useState(t)};X.useSyncExternalStore=function(t,e,n){return et.current.useSyncExternalStore(t,e,n)};X.useTransition=function(){return et.current.useTransition()};X.version="18.3.1";Ph.exports=X;var F=Ph.exports;const ba=Vy(F);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov=F,lv=Symbol.for("react.element"),av=Symbol.for("react.fragment"),cv=Object.prototype.hasOwnProperty,uv=ov.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dv={key:!0,ref:!0,__self:!0,__source:!0};function zh(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)cv.call(e,r)&&!dv.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:lv,type:t,key:s,ref:o,props:i,_owner:uv.current}}ul.Fragment=av;ul.jsx=zh;ul.jsxs=zh;Ih.exports=ul;var l=Ih.exports,Ia={},Wh={exports:{}},pt={},Bh={exports:{}},Uh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,B){var G=L.length;L.push(B);e:for(;0<G;){var ue=G-1>>>1,Ne=L[ue];if(0<i(Ne,B))L[ue]=B,L[G]=Ne,G=ue;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var B=L[0],G=L.pop();if(G!==B){L[0]=G;e:for(var ue=0,Ne=L.length,Un=Ne>>>1;ue<Un;){var Gt=2*(ue+1)-1,ci=L[Gt],yt=Gt+1,mr=L[yt];if(0>i(ci,G))yt<Ne&&0>i(mr,ci)?(L[ue]=mr,L[yt]=G,ue=yt):(L[ue]=ci,L[Gt]=G,ue=Gt);else if(yt<Ne&&0>i(mr,G))L[ue]=mr,L[yt]=G,ue=yt;else break e}}return B}function i(L,B){var G=L.sortIndex-B.sortIndex;return G!==0?G:L.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var a=[],u=[],p=1,h=null,f=3,_=!1,C=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(L){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=L)r(u),B.sortIndex=B.expirationTime,e(a,B);else break;B=n(u)}}function k(L){if(w=!1,x(L),!C)if(n(a)!==null)C=!0,Ft(R);else{var B=n(u);B!==null&&gt(k,B.startTime-L)}}function R(L,B){C=!1,w&&(w=!1,g(A),A=-1),_=!0;var G=f;try{for(x(B),h=n(a);h!==null&&(!(h.expirationTime>B)||L&&!ee());){var ue=h.callback;if(typeof ue=="function"){h.callback=null,f=h.priorityLevel;var Ne=ue(h.expirationTime<=B);B=t.unstable_now(),typeof Ne=="function"?h.callback=Ne:h===n(a)&&r(a),x(B)}else r(a);h=n(a)}if(h!==null)var Un=!0;else{var Gt=n(u);Gt!==null&&gt(k,Gt.startTime-B),Un=!1}return Un}finally{h=null,f=G,_=!1}}var E=!1,I=null,A=-1,Y=5,U=-1;function ee(){return!(t.unstable_now()-U<Y)}function Ie(){if(I!==null){var L=t.unstable_now();U=L;var B=!0;try{B=I(!0,L)}finally{B?Mt():(E=!1,I=null)}}else E=!1}var Mt;if(typeof m=="function")Mt=function(){m(Ie)};else if(typeof MessageChannel<"u"){var hr=new MessageChannel,pr=hr.port2;hr.port1.onmessage=Ie,Mt=function(){pr.postMessage(null)}}else Mt=function(){S(Ie,0)};function Ft(L){I=L,E||(E=!0,Mt())}function gt(L,B){A=S(function(){L(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){C||_||(C=!0,Ft(R))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(L){switch(f){case 1:case 2:case 3:var B=3;break;default:B=f}var G=f;f=B;try{return L()}finally{f=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,B){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var G=f;f=L;try{return B()}finally{f=G}},t.unstable_scheduleCallback=function(L,B,G){var ue=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ue+G:ue):G=ue,L){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=G+Ne,L={id:p++,callback:B,priorityLevel:L,startTime:G,expirationTime:Ne,sortIndex:-1},G>ue?(L.sortIndex=G,e(u,L),n(a)===null&&L===n(u)&&(w?(g(A),A=-1):w=!0,gt(k,G-ue))):(L.sortIndex=Ne,e(a,L),C||_||(C=!0,Ft(R))),L},t.unstable_shouldYield=ee,t.unstable_wrapCallback=function(L){var B=f;return function(){var G=f;f=B;try{return L.apply(this,arguments)}finally{f=G}}}})(Uh);Bh.exports=Uh;var fv=Bh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv=F,ht=fv;function j(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $h=new Set,Ji={};function cr(t,e){Hr(t,e),Hr(t+"Capture",e)}function Hr(t,e){for(Ji[t]=e,t=0;t<e.length;t++)$h.add(e[t])}var nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pa=Object.prototype.hasOwnProperty,pv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bd={},Id={};function mv(t){return Pa.call(Id,t)?!0:Pa.call(bd,t)?!1:pv.test(t)?Id[t]=!0:(bd[t]=!0,!1)}function gv(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function yv(t,e,n,r){if(e===null||typeof e>"u"||gv(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function tt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var He={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){He[t]=new tt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];He[e]=new tt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){He[t]=new tt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){He[t]=new tt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){He[t]=new tt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){He[t]=new tt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){He[t]=new tt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){He[t]=new tt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){He[t]=new tt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Vc=/[\-:]([a-z])/g;function Hc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Vc,Hc);He[e]=new tt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Vc,Hc);He[e]=new tt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Vc,Hc);He[e]=new tt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){He[t]=new tt(t,1,!1,t.toLowerCase(),null,!1,!1)});He.xlinkHref=new tt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){He[t]=new tt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Gc(t,e,n,r){var i=He.hasOwnProperty(e)?He[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(yv(e,n,i,r)&&(n=null),r||i===null?mv(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var cn=hv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hs=Symbol.for("react.element"),Cr=Symbol.for("react.portal"),Er=Symbol.for("react.fragment"),Yc=Symbol.for("react.strict_mode"),ja=Symbol.for("react.profiler"),Vh=Symbol.for("react.provider"),Hh=Symbol.for("react.context"),Qc=Symbol.for("react.forward_ref"),Ra=Symbol.for("react.suspense"),Aa=Symbol.for("react.suspense_list"),Kc=Symbol.for("react.memo"),gn=Symbol.for("react.lazy"),Gh=Symbol.for("react.offscreen"),Pd=Symbol.iterator;function wi(t){return t===null||typeof t!="object"?null:(t=Pd&&t[Pd]||t["@@iterator"],typeof t=="function"?t:null)}var we=Object.assign,Hl;function Di(t){if(Hl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Hl=e&&e[1]||""}return`
`+Hl+t}var Gl=!1;function Yl(t,e){if(!t||Gl)return"";Gl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,c=s.length-1;1<=o&&0<=c&&i[o]!==s[c];)c--;for(;1<=o&&0<=c;o--,c--)if(i[o]!==s[c]){if(o!==1||c!==1)do if(o--,c--,0>c||i[o]!==s[c]){var a=`
`+i[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=c);break}}}finally{Gl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Di(t):""}function vv(t){switch(t.tag){case 5:return Di(t.type);case 16:return Di("Lazy");case 13:return Di("Suspense");case 19:return Di("SuspenseList");case 0:case 2:case 15:return t=Yl(t.type,!1),t;case 11:return t=Yl(t.type.render,!1),t;case 1:return t=Yl(t.type,!0),t;default:return""}}function Da(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Er:return"Fragment";case Cr:return"Portal";case ja:return"Profiler";case Yc:return"StrictMode";case Ra:return"Suspense";case Aa:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Hh:return(t.displayName||"Context")+".Consumer";case Vh:return(t._context.displayName||"Context")+".Provider";case Qc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Kc:return e=t.displayName||null,e!==null?e:Da(t.type)||"Memo";case gn:e=t._payload,t=t._init;try{return Da(t(e))}catch{}}return null}function _v(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Da(e);case 8:return e===Yc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Dn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yh(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function xv(t){var e=Yh(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Gs(t){t._valueTracker||(t._valueTracker=xv(t))}function Qh(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Yh(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Co(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Oa(t,e){var n=e.checked;return we({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function jd(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Dn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Kh(t,e){e=e.checked,e!=null&&Gc(t,"checked",e,!1)}function La(t,e){Kh(t,e);var n=Dn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ma(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ma(t,e.type,Dn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Rd(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ma(t,e,n){(e!=="number"||Co(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Oi=Array.isArray;function Lr(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Dn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Fa(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return we({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ad(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(j(92));if(Oi(n)){if(1<n.length)throw Error(j(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Dn(n)}}function qh(t,e){var n=Dn(e.value),r=Dn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Dd(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Xh(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function za(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Xh(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ys,Jh=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ys=Ys||document.createElement("div"),Ys.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ys.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Zi(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Fi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wv=["Webkit","ms","Moz","O"];Object.keys(Fi).forEach(function(t){wv.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Fi[e]=Fi[t]})});function Zh(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Fi.hasOwnProperty(t)&&Fi[t]?(""+e).trim():e+"px"}function ep(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Zh(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Sv=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wa(t,e){if(e){if(Sv[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function Ba(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ua=null;function qc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $a=null,Mr=null,Fr=null;function Od(t){if(t=Ps(t)){if(typeof $a!="function")throw Error(j(280));var e=t.stateNode;e&&(e=ml(e),$a(t.stateNode,t.type,e))}}function tp(t){Mr?Fr?Fr.push(t):Fr=[t]:Mr=t}function np(){if(Mr){var t=Mr,e=Fr;if(Fr=Mr=null,Od(t),e)for(t=0;t<e.length;t++)Od(e[t])}}function rp(t,e){return t(e)}function ip(){}var Ql=!1;function sp(t,e,n){if(Ql)return t(e,n);Ql=!0;try{return rp(t,e,n)}finally{Ql=!1,(Mr!==null||Fr!==null)&&(ip(),np())}}function es(t,e){var n=t.stateNode;if(n===null)return null;var r=ml(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(j(231,e,typeof n));return n}var Va=!1;if(nn)try{var Si={};Object.defineProperty(Si,"passive",{get:function(){Va=!0}}),window.addEventListener("test",Si,Si),window.removeEventListener("test",Si,Si)}catch{Va=!1}function Cv(t,e,n,r,i,s,o,c,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(p){this.onError(p)}}var zi=!1,Eo=null,ko=!1,Ha=null,Ev={onError:function(t){zi=!0,Eo=t}};function kv(t,e,n,r,i,s,o,c,a){zi=!1,Eo=null,Cv.apply(Ev,arguments)}function Nv(t,e,n,r,i,s,o,c,a){if(kv.apply(this,arguments),zi){if(zi){var u=Eo;zi=!1,Eo=null}else throw Error(j(198));ko||(ko=!0,Ha=u)}}function ur(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function op(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ld(t){if(ur(t)!==t)throw Error(j(188))}function Tv(t){var e=t.alternate;if(!e){if(e=ur(t),e===null)throw Error(j(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ld(i),t;if(s===r)return Ld(i),e;s=s.sibling}throw Error(j(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,c=i.child;c;){if(c===n){o=!0,n=i,r=s;break}if(c===r){o=!0,r=i,n=s;break}c=c.sibling}if(!o){for(c=s.child;c;){if(c===n){o=!0,n=s,r=i;break}if(c===r){o=!0,r=s,n=i;break}c=c.sibling}if(!o)throw Error(j(189))}}if(n.alternate!==r)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?t:e}function lp(t){return t=Tv(t),t!==null?ap(t):null}function ap(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ap(t);if(e!==null)return e;t=t.sibling}return null}var cp=ht.unstable_scheduleCallback,Md=ht.unstable_cancelCallback,bv=ht.unstable_shouldYield,Iv=ht.unstable_requestPaint,be=ht.unstable_now,Pv=ht.unstable_getCurrentPriorityLevel,Xc=ht.unstable_ImmediatePriority,up=ht.unstable_UserBlockingPriority,No=ht.unstable_NormalPriority,jv=ht.unstable_LowPriority,dp=ht.unstable_IdlePriority,dl=null,$t=null;function Rv(t){if($t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(dl,t,void 0,(t.current.flags&128)===128)}catch{}}var At=Math.clz32?Math.clz32:Ov,Av=Math.log,Dv=Math.LN2;function Ov(t){return t>>>=0,t===0?32:31-(Av(t)/Dv|0)|0}var Qs=64,Ks=4194304;function Li(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function To(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var c=o&~i;c!==0?r=Li(c):(s&=o,s!==0&&(r=Li(s)))}else o=n&~i,o!==0?r=Li(o):s!==0&&(r=Li(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-At(e),i=1<<n,r|=t[n],e&=~i;return r}function Lv(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mv(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-At(s),c=1<<o,a=i[o];a===-1?(!(c&n)||c&r)&&(i[o]=Lv(c,e)):a<=e&&(t.expiredLanes|=c),s&=~c}}function Ga(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function fp(){var t=Qs;return Qs<<=1,!(Qs&4194240)&&(Qs=64),t}function Kl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function bs(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-At(e),t[e]=n}function Fv(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-At(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Jc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-At(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var se=0;function hp(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var pp,Zc,mp,gp,yp,Ya=!1,qs=[],Sn=null,Cn=null,En=null,ts=new Map,ns=new Map,vn=[],zv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fd(t,e){switch(t){case"focusin":case"focusout":Sn=null;break;case"dragenter":case"dragleave":Cn=null;break;case"mouseover":case"mouseout":En=null;break;case"pointerover":case"pointerout":ts.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ns.delete(e.pointerId)}}function Ci(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ps(e),e!==null&&Zc(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Wv(t,e,n,r,i){switch(e){case"focusin":return Sn=Ci(Sn,t,e,n,r,i),!0;case"dragenter":return Cn=Ci(Cn,t,e,n,r,i),!0;case"mouseover":return En=Ci(En,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ts.set(s,Ci(ts.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ns.set(s,Ci(ns.get(s)||null,t,e,n,r,i)),!0}return!1}function vp(t){var e=Qn(t.target);if(e!==null){var n=ur(e);if(n!==null){if(e=n.tag,e===13){if(e=op(n),e!==null){t.blockedOn=e,yp(t.priority,function(){mp(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function fo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Qa(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ua=r,n.target.dispatchEvent(r),Ua=null}else return e=Ps(n),e!==null&&Zc(e),t.blockedOn=n,!1;e.shift()}return!0}function zd(t,e,n){fo(t)&&n.delete(e)}function Bv(){Ya=!1,Sn!==null&&fo(Sn)&&(Sn=null),Cn!==null&&fo(Cn)&&(Cn=null),En!==null&&fo(En)&&(En=null),ts.forEach(zd),ns.forEach(zd)}function Ei(t,e){t.blockedOn===e&&(t.blockedOn=null,Ya||(Ya=!0,ht.unstable_scheduleCallback(ht.unstable_NormalPriority,Bv)))}function rs(t){function e(i){return Ei(i,t)}if(0<qs.length){Ei(qs[0],t);for(var n=1;n<qs.length;n++){var r=qs[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Sn!==null&&Ei(Sn,t),Cn!==null&&Ei(Cn,t),En!==null&&Ei(En,t),ts.forEach(e),ns.forEach(e),n=0;n<vn.length;n++)r=vn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<vn.length&&(n=vn[0],n.blockedOn===null);)vp(n),n.blockedOn===null&&vn.shift()}var zr=cn.ReactCurrentBatchConfig,bo=!0;function Uv(t,e,n,r){var i=se,s=zr.transition;zr.transition=null;try{se=1,eu(t,e,n,r)}finally{se=i,zr.transition=s}}function $v(t,e,n,r){var i=se,s=zr.transition;zr.transition=null;try{se=4,eu(t,e,n,r)}finally{se=i,zr.transition=s}}function eu(t,e,n,r){if(bo){var i=Qa(t,e,n,r);if(i===null)sa(t,e,r,Io,n),Fd(t,r);else if(Wv(i,t,e,n,r))r.stopPropagation();else if(Fd(t,r),e&4&&-1<zv.indexOf(t)){for(;i!==null;){var s=Ps(i);if(s!==null&&pp(s),s=Qa(t,e,n,r),s===null&&sa(t,e,r,Io,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else sa(t,e,r,null,n)}}var Io=null;function Qa(t,e,n,r){if(Io=null,t=qc(r),t=Qn(t),t!==null)if(e=ur(t),e===null)t=null;else if(n=e.tag,n===13){if(t=op(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Io=t,null}function _p(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pv()){case Xc:return 1;case up:return 4;case No:case jv:return 16;case dp:return 536870912;default:return 16}default:return 16}}var xn=null,tu=null,ho=null;function xp(){if(ho)return ho;var t,e=tu,n=e.length,r,i="value"in xn?xn.value:xn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return ho=i.slice(t,1<r?1-r:void 0)}function po(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Xs(){return!0}function Wd(){return!1}function mt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(s):s[c]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Xs:Wd,this.isPropagationStopped=Wd,this}return we(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xs)},persist:function(){},isPersistent:Xs}),e}var ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nu=mt(ri),Is=we({},ri,{view:0,detail:0}),Vv=mt(Is),ql,Xl,ki,fl=we({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ru,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ki&&(ki&&t.type==="mousemove"?(ql=t.screenX-ki.screenX,Xl=t.screenY-ki.screenY):Xl=ql=0,ki=t),ql)},movementY:function(t){return"movementY"in t?t.movementY:Xl}}),Bd=mt(fl),Hv=we({},fl,{dataTransfer:0}),Gv=mt(Hv),Yv=we({},Is,{relatedTarget:0}),Jl=mt(Yv),Qv=we({},ri,{animationName:0,elapsedTime:0,pseudoElement:0}),Kv=mt(Qv),qv=we({},ri,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Xv=mt(qv),Jv=we({},ri,{data:0}),Ud=mt(Jv),Zv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},e0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},t0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function n0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=t0[t])?!!e[t]:!1}function ru(){return n0}var r0=we({},Is,{key:function(t){if(t.key){var e=Zv[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=po(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?e0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ru,charCode:function(t){return t.type==="keypress"?po(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?po(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),i0=mt(r0),s0=we({},fl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$d=mt(s0),o0=we({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ru}),l0=mt(o0),a0=we({},ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),c0=mt(a0),u0=we({},fl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),d0=mt(u0),f0=[9,13,27,32],iu=nn&&"CompositionEvent"in window,Wi=null;nn&&"documentMode"in document&&(Wi=document.documentMode);var h0=nn&&"TextEvent"in window&&!Wi,wp=nn&&(!iu||Wi&&8<Wi&&11>=Wi),Vd=" ",Hd=!1;function Sp(t,e){switch(t){case"keyup":return f0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var kr=!1;function p0(t,e){switch(t){case"compositionend":return Cp(e);case"keypress":return e.which!==32?null:(Hd=!0,Vd);case"textInput":return t=e.data,t===Vd&&Hd?null:t;default:return null}}function m0(t,e){if(kr)return t==="compositionend"||!iu&&Sp(t,e)?(t=xp(),ho=tu=xn=null,kr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return wp&&e.locale!=="ko"?null:e.data;default:return null}}var g0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!g0[t.type]:e==="textarea"}function Ep(t,e,n,r){tp(r),e=Po(e,"onChange"),0<e.length&&(n=new nu("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Bi=null,is=null;function y0(t){Op(t,0)}function hl(t){var e=br(t);if(Qh(e))return t}function v0(t,e){if(t==="change")return e}var kp=!1;if(nn){var Zl;if(nn){var ea="oninput"in document;if(!ea){var Yd=document.createElement("div");Yd.setAttribute("oninput","return;"),ea=typeof Yd.oninput=="function"}Zl=ea}else Zl=!1;kp=Zl&&(!document.documentMode||9<document.documentMode)}function Qd(){Bi&&(Bi.detachEvent("onpropertychange",Np),is=Bi=null)}function Np(t){if(t.propertyName==="value"&&hl(is)){var e=[];Ep(e,is,t,qc(t)),sp(y0,e)}}function _0(t,e,n){t==="focusin"?(Qd(),Bi=e,is=n,Bi.attachEvent("onpropertychange",Np)):t==="focusout"&&Qd()}function x0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hl(is)}function w0(t,e){if(t==="click")return hl(e)}function S0(t,e){if(t==="input"||t==="change")return hl(e)}function C0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Lt=typeof Object.is=="function"?Object.is:C0;function ss(t,e){if(Lt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Pa.call(e,i)||!Lt(t[i],e[i]))return!1}return!0}function Kd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qd(t,e){var n=Kd(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Kd(n)}}function Tp(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Tp(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function bp(){for(var t=window,e=Co();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Co(t.document)}return e}function su(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function E0(t){var e=bp(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Tp(n.ownerDocument.documentElement,n)){if(r!==null&&su(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=qd(n,s);var o=qd(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var k0=nn&&"documentMode"in document&&11>=document.documentMode,Nr=null,Ka=null,Ui=null,qa=!1;function Xd(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;qa||Nr==null||Nr!==Co(r)||(r=Nr,"selectionStart"in r&&su(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ui&&ss(Ui,r)||(Ui=r,r=Po(Ka,"onSelect"),0<r.length&&(e=new nu("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Nr)))}function Js(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Tr={animationend:Js("Animation","AnimationEnd"),animationiteration:Js("Animation","AnimationIteration"),animationstart:Js("Animation","AnimationStart"),transitionend:Js("Transition","TransitionEnd")},ta={},Ip={};nn&&(Ip=document.createElement("div").style,"AnimationEvent"in window||(delete Tr.animationend.animation,delete Tr.animationiteration.animation,delete Tr.animationstart.animation),"TransitionEvent"in window||delete Tr.transitionend.transition);function pl(t){if(ta[t])return ta[t];if(!Tr[t])return t;var e=Tr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Ip)return ta[t]=e[n];return t}var Pp=pl("animationend"),jp=pl("animationiteration"),Rp=pl("animationstart"),Ap=pl("transitionend"),Dp=new Map,Jd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zn(t,e){Dp.set(t,e),cr(e,[t])}for(var na=0;na<Jd.length;na++){var ra=Jd[na],N0=ra.toLowerCase(),T0=ra[0].toUpperCase()+ra.slice(1);zn(N0,"on"+T0)}zn(Pp,"onAnimationEnd");zn(jp,"onAnimationIteration");zn(Rp,"onAnimationStart");zn("dblclick","onDoubleClick");zn("focusin","onFocus");zn("focusout","onBlur");zn(Ap,"onTransitionEnd");Hr("onMouseEnter",["mouseout","mouseover"]);Hr("onMouseLeave",["mouseout","mouseover"]);Hr("onPointerEnter",["pointerout","pointerover"]);Hr("onPointerLeave",["pointerout","pointerover"]);cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cr("onBeforeInput",["compositionend","keypress","textInput","paste"]);cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mi));function Zd(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Nv(r,e,void 0,t),t.currentTarget=null}function Op(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var c=r[o],a=c.instance,u=c.currentTarget;if(c=c.listener,a!==s&&i.isPropagationStopped())break e;Zd(i,c,u),s=a}else for(o=0;o<r.length;o++){if(c=r[o],a=c.instance,u=c.currentTarget,c=c.listener,a!==s&&i.isPropagationStopped())break e;Zd(i,c,u),s=a}}}if(ko)throw t=Ha,ko=!1,Ha=null,t}function he(t,e){var n=e[tc];n===void 0&&(n=e[tc]=new Set);var r=t+"__bubble";n.has(r)||(Lp(e,t,2,!1),n.add(r))}function ia(t,e,n){var r=0;e&&(r|=4),Lp(n,t,r,e)}var Zs="_reactListening"+Math.random().toString(36).slice(2);function os(t){if(!t[Zs]){t[Zs]=!0,$h.forEach(function(n){n!=="selectionchange"&&(b0.has(n)||ia(n,!1,t),ia(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Zs]||(e[Zs]=!0,ia("selectionchange",!1,e))}}function Lp(t,e,n,r){switch(_p(e)){case 1:var i=Uv;break;case 4:i=$v;break;default:i=eu}n=i.bind(null,e,n,t),i=void 0,!Va||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function sa(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var c=r.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;c!==null;){if(o=Qn(c),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}c=c.parentNode}}r=r.return}sp(function(){var u=s,p=qc(n),h=[];e:{var f=Dp.get(t);if(f!==void 0){var _=nu,C=t;switch(t){case"keypress":if(po(n)===0)break e;case"keydown":case"keyup":_=i0;break;case"focusin":C="focus",_=Jl;break;case"focusout":C="blur",_=Jl;break;case"beforeblur":case"afterblur":_=Jl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=Gv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=l0;break;case Pp:case jp:case Rp:_=Kv;break;case Ap:_=c0;break;case"scroll":_=Vv;break;case"wheel":_=d0;break;case"copy":case"cut":case"paste":_=Xv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=$d}var w=(e&4)!==0,S=!w&&t==="scroll",g=w?f!==null?f+"Capture":null:f;w=[];for(var m=u,x;m!==null;){x=m;var k=x.stateNode;if(x.tag===5&&k!==null&&(x=k,g!==null&&(k=es(m,g),k!=null&&w.push(ls(m,k,x)))),S)break;m=m.return}0<w.length&&(f=new _(f,C,null,n,p),h.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",f&&n!==Ua&&(C=n.relatedTarget||n.fromElement)&&(Qn(C)||C[rn]))break e;if((_||f)&&(f=p.window===p?p:(f=p.ownerDocument)?f.defaultView||f.parentWindow:window,_?(C=n.relatedTarget||n.toElement,_=u,C=C?Qn(C):null,C!==null&&(S=ur(C),C!==S||C.tag!==5&&C.tag!==6)&&(C=null)):(_=null,C=u),_!==C)){if(w=Bd,k="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(w=$d,k="onPointerLeave",g="onPointerEnter",m="pointer"),S=_==null?f:br(_),x=C==null?f:br(C),f=new w(k,m+"leave",_,n,p),f.target=S,f.relatedTarget=x,k=null,Qn(p)===u&&(w=new w(g,m+"enter",C,n,p),w.target=x,w.relatedTarget=S,k=w),S=k,_&&C)t:{for(w=_,g=C,m=0,x=w;x;x=wr(x))m++;for(x=0,k=g;k;k=wr(k))x++;for(;0<m-x;)w=wr(w),m--;for(;0<x-m;)g=wr(g),x--;for(;m--;){if(w===g||g!==null&&w===g.alternate)break t;w=wr(w),g=wr(g)}w=null}else w=null;_!==null&&ef(h,f,_,w,!1),C!==null&&S!==null&&ef(h,S,C,w,!0)}}e:{if(f=u?br(u):window,_=f.nodeName&&f.nodeName.toLowerCase(),_==="select"||_==="input"&&f.type==="file")var R=v0;else if(Gd(f))if(kp)R=S0;else{R=x0;var E=_0}else(_=f.nodeName)&&_.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(R=w0);if(R&&(R=R(t,u))){Ep(h,R,n,p);break e}E&&E(t,f,u),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&Ma(f,"number",f.value)}switch(E=u?br(u):window,t){case"focusin":(Gd(E)||E.contentEditable==="true")&&(Nr=E,Ka=u,Ui=null);break;case"focusout":Ui=Ka=Nr=null;break;case"mousedown":qa=!0;break;case"contextmenu":case"mouseup":case"dragend":qa=!1,Xd(h,n,p);break;case"selectionchange":if(k0)break;case"keydown":case"keyup":Xd(h,n,p)}var I;if(iu)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else kr?Sp(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(wp&&n.locale!=="ko"&&(kr||A!=="onCompositionStart"?A==="onCompositionEnd"&&kr&&(I=xp()):(xn=p,tu="value"in xn?xn.value:xn.textContent,kr=!0)),E=Po(u,A),0<E.length&&(A=new Ud(A,t,null,n,p),h.push({event:A,listeners:E}),I?A.data=I:(I=Cp(n),I!==null&&(A.data=I)))),(I=h0?p0(t,n):m0(t,n))&&(u=Po(u,"onBeforeInput"),0<u.length&&(p=new Ud("onBeforeInput","beforeinput",null,n,p),h.push({event:p,listeners:u}),p.data=I))}Op(h,e)})}function ls(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Po(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=es(t,n),s!=null&&r.unshift(ls(t,s,i)),s=es(t,e),s!=null&&r.push(ls(t,s,i))),t=t.return}return r}function wr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ef(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var c=n,a=c.alternate,u=c.stateNode;if(a!==null&&a===r)break;c.tag===5&&u!==null&&(c=u,i?(a=es(n,s),a!=null&&o.unshift(ls(n,a,c))):i||(a=es(n,s),a!=null&&o.push(ls(n,a,c)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var I0=/\r\n?/g,P0=/\u0000|\uFFFD/g;function tf(t){return(typeof t=="string"?t:""+t).replace(I0,`
`).replace(P0,"")}function eo(t,e,n){if(e=tf(e),tf(t)!==e&&n)throw Error(j(425))}function jo(){}var Xa=null,Ja=null;function Za(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ec=typeof setTimeout=="function"?setTimeout:void 0,j0=typeof clearTimeout=="function"?clearTimeout:void 0,nf=typeof Promise=="function"?Promise:void 0,R0=typeof queueMicrotask=="function"?queueMicrotask:typeof nf<"u"?function(t){return nf.resolve(null).then(t).catch(A0)}:ec;function A0(t){setTimeout(function(){throw t})}function oa(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),rs(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);rs(e)}function kn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function rf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ii=Math.random().toString(36).slice(2),Ut="__reactFiber$"+ii,as="__reactProps$"+ii,rn="__reactContainer$"+ii,tc="__reactEvents$"+ii,D0="__reactListeners$"+ii,O0="__reactHandles$"+ii;function Qn(t){var e=t[Ut];if(e)return e;for(var n=t.parentNode;n;){if(e=n[rn]||n[Ut]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=rf(t);t!==null;){if(n=t[Ut])return n;t=rf(t)}return e}t=n,n=t.parentNode}return null}function Ps(t){return t=t[Ut]||t[rn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function br(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(j(33))}function ml(t){return t[as]||null}var nc=[],Ir=-1;function Wn(t){return{current:t}}function me(t){0>Ir||(t.current=nc[Ir],nc[Ir]=null,Ir--)}function ce(t,e){Ir++,nc[Ir]=t.current,t.current=e}var On={},qe=Wn(On),st=Wn(!1),tr=On;function Gr(t,e){var n=t.type.contextTypes;if(!n)return On;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ot(t){return t=t.childContextTypes,t!=null}function Ro(){me(st),me(qe)}function sf(t,e,n){if(qe.current!==On)throw Error(j(168));ce(qe,e),ce(st,n)}function Mp(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(j(108,_v(t)||"Unknown",i));return we({},n,r)}function Ao(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||On,tr=qe.current,ce(qe,t),ce(st,st.current),!0}function of(t,e,n){var r=t.stateNode;if(!r)throw Error(j(169));n?(t=Mp(t,e,tr),r.__reactInternalMemoizedMergedChildContext=t,me(st),me(qe),ce(qe,t)):me(st),ce(st,n)}var qt=null,gl=!1,la=!1;function Fp(t){qt===null?qt=[t]:qt.push(t)}function L0(t){gl=!0,Fp(t)}function Bn(){if(!la&&qt!==null){la=!0;var t=0,e=se;try{var n=qt;for(se=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}qt=null,gl=!1}catch(i){throw qt!==null&&(qt=qt.slice(t+1)),cp(Xc,Bn),i}finally{se=e,la=!1}}return null}var Pr=[],jr=0,Do=null,Oo=0,_t=[],xt=0,nr=null,Xt=1,Jt="";function Vn(t,e){Pr[jr++]=Oo,Pr[jr++]=Do,Do=t,Oo=e}function zp(t,e,n){_t[xt++]=Xt,_t[xt++]=Jt,_t[xt++]=nr,nr=t;var r=Xt;t=Jt;var i=32-At(r)-1;r&=~(1<<i),n+=1;var s=32-At(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xt=1<<32-At(e)+i|n<<i|r,Jt=s+t}else Xt=1<<s|n<<i|r,Jt=t}function ou(t){t.return!==null&&(Vn(t,1),zp(t,1,0))}function lu(t){for(;t===Do;)Do=Pr[--jr],Pr[jr]=null,Oo=Pr[--jr],Pr[jr]=null;for(;t===nr;)nr=_t[--xt],_t[xt]=null,Jt=_t[--xt],_t[xt]=null,Xt=_t[--xt],_t[xt]=null}var ft=null,dt=null,ve=!1,It=null;function Wp(t,e){var n=wt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function lf(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ft=t,dt=kn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ft=t,dt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=nr!==null?{id:Xt,overflow:Jt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=wt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ft=t,dt=null,!0):!1;default:return!1}}function rc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ic(t){if(ve){var e=dt;if(e){var n=e;if(!lf(t,e)){if(rc(t))throw Error(j(418));e=kn(n.nextSibling);var r=ft;e&&lf(t,e)?Wp(r,n):(t.flags=t.flags&-4097|2,ve=!1,ft=t)}}else{if(rc(t))throw Error(j(418));t.flags=t.flags&-4097|2,ve=!1,ft=t}}}function af(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ft=t}function to(t){if(t!==ft)return!1;if(!ve)return af(t),ve=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Za(t.type,t.memoizedProps)),e&&(e=dt)){if(rc(t))throw Bp(),Error(j(418));for(;e;)Wp(t,e),e=kn(e.nextSibling)}if(af(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){dt=kn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}dt=null}}else dt=ft?kn(t.stateNode.nextSibling):null;return!0}function Bp(){for(var t=dt;t;)t=kn(t.nextSibling)}function Yr(){dt=ft=null,ve=!1}function au(t){It===null?It=[t]:It.push(t)}var M0=cn.ReactCurrentBatchConfig;function Ni(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(j(309));var r=n.stateNode}if(!r)throw Error(j(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var c=i.refs;o===null?delete c[s]:c[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(j(284));if(!n._owner)throw Error(j(290,t))}return t}function no(t,e){throw t=Object.prototype.toString.call(e),Error(j(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function cf(t){var e=t._init;return e(t._payload)}function Up(t){function e(g,m){if(t){var x=g.deletions;x===null?(g.deletions=[m],g.flags|=16):x.push(m)}}function n(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function i(g,m){return g=In(g,m),g.index=0,g.sibling=null,g}function s(g,m,x){return g.index=x,t?(x=g.alternate,x!==null?(x=x.index,x<m?(g.flags|=2,m):x):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function c(g,m,x,k){return m===null||m.tag!==6?(m=pa(x,g.mode,k),m.return=g,m):(m=i(m,x),m.return=g,m)}function a(g,m,x,k){var R=x.type;return R===Er?p(g,m,x.props.children,k,x.key):m!==null&&(m.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===gn&&cf(R)===m.type)?(k=i(m,x.props),k.ref=Ni(g,m,x),k.return=g,k):(k=wo(x.type,x.key,x.props,null,g.mode,k),k.ref=Ni(g,m,x),k.return=g,k)}function u(g,m,x,k){return m===null||m.tag!==4||m.stateNode.containerInfo!==x.containerInfo||m.stateNode.implementation!==x.implementation?(m=ma(x,g.mode,k),m.return=g,m):(m=i(m,x.children||[]),m.return=g,m)}function p(g,m,x,k,R){return m===null||m.tag!==7?(m=er(x,g.mode,k,R),m.return=g,m):(m=i(m,x),m.return=g,m)}function h(g,m,x){if(typeof m=="string"&&m!==""||typeof m=="number")return m=pa(""+m,g.mode,x),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Hs:return x=wo(m.type,m.key,m.props,null,g.mode,x),x.ref=Ni(g,null,m),x.return=g,x;case Cr:return m=ma(m,g.mode,x),m.return=g,m;case gn:var k=m._init;return h(g,k(m._payload),x)}if(Oi(m)||wi(m))return m=er(m,g.mode,x,null),m.return=g,m;no(g,m)}return null}function f(g,m,x,k){var R=m!==null?m.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return R!==null?null:c(g,m,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Hs:return x.key===R?a(g,m,x,k):null;case Cr:return x.key===R?u(g,m,x,k):null;case gn:return R=x._init,f(g,m,R(x._payload),k)}if(Oi(x)||wi(x))return R!==null?null:p(g,m,x,k,null);no(g,x)}return null}function _(g,m,x,k,R){if(typeof k=="string"&&k!==""||typeof k=="number")return g=g.get(x)||null,c(m,g,""+k,R);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Hs:return g=g.get(k.key===null?x:k.key)||null,a(m,g,k,R);case Cr:return g=g.get(k.key===null?x:k.key)||null,u(m,g,k,R);case gn:var E=k._init;return _(g,m,x,E(k._payload),R)}if(Oi(k)||wi(k))return g=g.get(x)||null,p(m,g,k,R,null);no(m,k)}return null}function C(g,m,x,k){for(var R=null,E=null,I=m,A=m=0,Y=null;I!==null&&A<x.length;A++){I.index>A?(Y=I,I=null):Y=I.sibling;var U=f(g,I,x[A],k);if(U===null){I===null&&(I=Y);break}t&&I&&U.alternate===null&&e(g,I),m=s(U,m,A),E===null?R=U:E.sibling=U,E=U,I=Y}if(A===x.length)return n(g,I),ve&&Vn(g,A),R;if(I===null){for(;A<x.length;A++)I=h(g,x[A],k),I!==null&&(m=s(I,m,A),E===null?R=I:E.sibling=I,E=I);return ve&&Vn(g,A),R}for(I=r(g,I);A<x.length;A++)Y=_(I,g,A,x[A],k),Y!==null&&(t&&Y.alternate!==null&&I.delete(Y.key===null?A:Y.key),m=s(Y,m,A),E===null?R=Y:E.sibling=Y,E=Y);return t&&I.forEach(function(ee){return e(g,ee)}),ve&&Vn(g,A),R}function w(g,m,x,k){var R=wi(x);if(typeof R!="function")throw Error(j(150));if(x=R.call(x),x==null)throw Error(j(151));for(var E=R=null,I=m,A=m=0,Y=null,U=x.next();I!==null&&!U.done;A++,U=x.next()){I.index>A?(Y=I,I=null):Y=I.sibling;var ee=f(g,I,U.value,k);if(ee===null){I===null&&(I=Y);break}t&&I&&ee.alternate===null&&e(g,I),m=s(ee,m,A),E===null?R=ee:E.sibling=ee,E=ee,I=Y}if(U.done)return n(g,I),ve&&Vn(g,A),R;if(I===null){for(;!U.done;A++,U=x.next())U=h(g,U.value,k),U!==null&&(m=s(U,m,A),E===null?R=U:E.sibling=U,E=U);return ve&&Vn(g,A),R}for(I=r(g,I);!U.done;A++,U=x.next())U=_(I,g,A,U.value,k),U!==null&&(t&&U.alternate!==null&&I.delete(U.key===null?A:U.key),m=s(U,m,A),E===null?R=U:E.sibling=U,E=U);return t&&I.forEach(function(Ie){return e(g,Ie)}),ve&&Vn(g,A),R}function S(g,m,x,k){if(typeof x=="object"&&x!==null&&x.type===Er&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Hs:e:{for(var R=x.key,E=m;E!==null;){if(E.key===R){if(R=x.type,R===Er){if(E.tag===7){n(g,E.sibling),m=i(E,x.props.children),m.return=g,g=m;break e}}else if(E.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===gn&&cf(R)===E.type){n(g,E.sibling),m=i(E,x.props),m.ref=Ni(g,E,x),m.return=g,g=m;break e}n(g,E);break}else e(g,E);E=E.sibling}x.type===Er?(m=er(x.props.children,g.mode,k,x.key),m.return=g,g=m):(k=wo(x.type,x.key,x.props,null,g.mode,k),k.ref=Ni(g,m,x),k.return=g,g=k)}return o(g);case Cr:e:{for(E=x.key;m!==null;){if(m.key===E)if(m.tag===4&&m.stateNode.containerInfo===x.containerInfo&&m.stateNode.implementation===x.implementation){n(g,m.sibling),m=i(m,x.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else e(g,m);m=m.sibling}m=ma(x,g.mode,k),m.return=g,g=m}return o(g);case gn:return E=x._init,S(g,m,E(x._payload),k)}if(Oi(x))return C(g,m,x,k);if(wi(x))return w(g,m,x,k);no(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,m!==null&&m.tag===6?(n(g,m.sibling),m=i(m,x),m.return=g,g=m):(n(g,m),m=pa(x,g.mode,k),m.return=g,g=m),o(g)):n(g,m)}return S}var Qr=Up(!0),$p=Up(!1),Lo=Wn(null),Mo=null,Rr=null,cu=null;function uu(){cu=Rr=Mo=null}function du(t){var e=Lo.current;me(Lo),t._currentValue=e}function sc(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Wr(t,e){Mo=t,cu=Rr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(rt=!0),t.firstContext=null)}function Ct(t){var e=t._currentValue;if(cu!==t)if(t={context:t,memoizedValue:e,next:null},Rr===null){if(Mo===null)throw Error(j(308));Rr=t,Mo.dependencies={lanes:0,firstContext:t}}else Rr=Rr.next=t;return e}var Kn=null;function fu(t){Kn===null?Kn=[t]:Kn.push(t)}function Vp(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,fu(e)):(n.next=i.next,i.next=n),e.interleaved=n,sn(t,r)}function sn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var yn=!1;function hu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function en(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Nn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,te&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,sn(t,n)}return i=r.interleaved,i===null?(e.next=e,fu(r)):(e.next=i.next,i.next=e),r.interleaved=e,sn(t,n)}function mo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Jc(t,n)}}function uf(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Fo(t,e,n,r){var i=t.updateQueue;yn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var a=c,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var p=t.alternate;p!==null&&(p=p.updateQueue,c=p.lastBaseUpdate,c!==o&&(c===null?p.firstBaseUpdate=u:c.next=u,p.lastBaseUpdate=a))}if(s!==null){var h=i.baseState;o=0,p=u=a=null,c=s;do{var f=c.lane,_=c.eventTime;if((r&f)===f){p!==null&&(p=p.next={eventTime:_,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var C=t,w=c;switch(f=e,_=n,w.tag){case 1:if(C=w.payload,typeof C=="function"){h=C.call(_,h,f);break e}h=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=w.payload,f=typeof C=="function"?C.call(_,h,f):C,f==null)break e;h=we({},h,f);break e;case 2:yn=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[c]:f.push(c))}else _={eventTime:_,lane:f,tag:c.tag,payload:c.payload,callback:c.callback,next:null},p===null?(u=p=_,a=h):p=p.next=_,o|=f;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;f=c,c=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(p===null&&(a=h),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ir|=o,t.lanes=o,t.memoizedState=h}}function df(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(j(191,i));i.call(r)}}}var js={},Vt=Wn(js),cs=Wn(js),us=Wn(js);function qn(t){if(t===js)throw Error(j(174));return t}function pu(t,e){switch(ce(us,e),ce(cs,t),ce(Vt,js),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:za(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=za(e,t)}me(Vt),ce(Vt,e)}function Kr(){me(Vt),me(cs),me(us)}function Gp(t){qn(us.current);var e=qn(Vt.current),n=za(e,t.type);e!==n&&(ce(cs,t),ce(Vt,n))}function mu(t){cs.current===t&&(me(Vt),me(cs))}var _e=Wn(0);function zo(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var aa=[];function gu(){for(var t=0;t<aa.length;t++)aa[t]._workInProgressVersionPrimary=null;aa.length=0}var go=cn.ReactCurrentDispatcher,ca=cn.ReactCurrentBatchConfig,rr=0,xe=null,Re=null,ze=null,Wo=!1,$i=!1,ds=0,F0=0;function Ge(){throw Error(j(321))}function yu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Lt(t[n],e[n]))return!1;return!0}function vu(t,e,n,r,i,s){if(rr=s,xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,go.current=t===null||t.memoizedState===null?U0:$0,t=n(r,i),$i){s=0;do{if($i=!1,ds=0,25<=s)throw Error(j(301));s+=1,ze=Re=null,e.updateQueue=null,go.current=V0,t=n(r,i)}while($i)}if(go.current=Bo,e=Re!==null&&Re.next!==null,rr=0,ze=Re=xe=null,Wo=!1,e)throw Error(j(300));return t}function _u(){var t=ds!==0;return ds=0,t}function Bt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?xe.memoizedState=ze=t:ze=ze.next=t,ze}function Et(){if(Re===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=Re.next;var e=ze===null?xe.memoizedState:ze.next;if(e!==null)ze=e,Re=t;else{if(t===null)throw Error(j(310));Re=t,t={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},ze===null?xe.memoizedState=ze=t:ze=ze.next=t}return ze}function fs(t,e){return typeof e=="function"?e(t):e}function ua(t){var e=Et(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=Re,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var c=o=null,a=null,u=s;do{var p=u.lane;if((rr&p)===p)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:p,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(c=a=h,o=r):a=a.next=h,xe.lanes|=p,ir|=p}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=c,Lt(r,e.memoizedState)||(rt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,xe.lanes|=s,ir|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function da(t){var e=Et(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Lt(s,e.memoizedState)||(rt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Yp(){}function Qp(t,e){var n=xe,r=Et(),i=e(),s=!Lt(r.memoizedState,i);if(s&&(r.memoizedState=i,rt=!0),r=r.queue,xu(Xp.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ze!==null&&ze.memoizedState.tag&1){if(n.flags|=2048,hs(9,qp.bind(null,n,r,i,e),void 0,null),Ue===null)throw Error(j(349));rr&30||Kp(n,e,i)}return i}function Kp(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=xe.updateQueue,e===null?(e={lastEffect:null,stores:null},xe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function qp(t,e,n,r){e.value=n,e.getSnapshot=r,Jp(e)&&Zp(t)}function Xp(t,e,n){return n(function(){Jp(e)&&Zp(t)})}function Jp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Lt(t,n)}catch{return!0}}function Zp(t){var e=sn(t,1);e!==null&&Dt(e,t,1,-1)}function ff(t){var e=Bt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:t},e.queue=t,t=t.dispatch=B0.bind(null,xe,t),[e.memoizedState,t]}function hs(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=xe.updateQueue,e===null?(e={lastEffect:null,stores:null},xe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function em(){return Et().memoizedState}function yo(t,e,n,r){var i=Bt();xe.flags|=t,i.memoizedState=hs(1|e,n,void 0,r===void 0?null:r)}function yl(t,e,n,r){var i=Et();r=r===void 0?null:r;var s=void 0;if(Re!==null){var o=Re.memoizedState;if(s=o.destroy,r!==null&&yu(r,o.deps)){i.memoizedState=hs(e,n,s,r);return}}xe.flags|=t,i.memoizedState=hs(1|e,n,s,r)}function hf(t,e){return yo(8390656,8,t,e)}function xu(t,e){return yl(2048,8,t,e)}function tm(t,e){return yl(4,2,t,e)}function nm(t,e){return yl(4,4,t,e)}function rm(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function im(t,e,n){return n=n!=null?n.concat([t]):null,yl(4,4,rm.bind(null,e,t),n)}function wu(){}function sm(t,e){var n=Et();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&yu(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function om(t,e){var n=Et();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&yu(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function lm(t,e,n){return rr&21?(Lt(n,e)||(n=fp(),xe.lanes|=n,ir|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,rt=!0),t.memoizedState=n)}function z0(t,e){var n=se;se=n!==0&&4>n?n:4,t(!0);var r=ca.transition;ca.transition={};try{t(!1),e()}finally{se=n,ca.transition=r}}function am(){return Et().memoizedState}function W0(t,e,n){var r=bn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},cm(t))um(e,n);else if(n=Vp(t,e,n,r),n!==null){var i=Ze();Dt(n,t,r,i),dm(n,e,r)}}function B0(t,e,n){var r=bn(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cm(t))um(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,c=s(o,n);if(i.hasEagerState=!0,i.eagerState=c,Lt(c,o)){var a=e.interleaved;a===null?(i.next=i,fu(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=Vp(t,e,i,r),n!==null&&(i=Ze(),Dt(n,t,r,i),dm(n,e,r))}}function cm(t){var e=t.alternate;return t===xe||e!==null&&e===xe}function um(t,e){$i=Wo=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function dm(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Jc(t,n)}}var Bo={readContext:Ct,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useInsertionEffect:Ge,useLayoutEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useMutableSource:Ge,useSyncExternalStore:Ge,useId:Ge,unstable_isNewReconciler:!1},U0={readContext:Ct,useCallback:function(t,e){return Bt().memoizedState=[t,e===void 0?null:e],t},useContext:Ct,useEffect:hf,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,yo(4194308,4,rm.bind(null,e,t),n)},useLayoutEffect:function(t,e){return yo(4194308,4,t,e)},useInsertionEffect:function(t,e){return yo(4,2,t,e)},useMemo:function(t,e){var n=Bt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Bt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=W0.bind(null,xe,t),[r.memoizedState,t]},useRef:function(t){var e=Bt();return t={current:t},e.memoizedState=t},useState:ff,useDebugValue:wu,useDeferredValue:function(t){return Bt().memoizedState=t},useTransition:function(){var t=ff(!1),e=t[0];return t=z0.bind(null,t[1]),Bt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=xe,i=Bt();if(ve){if(n===void 0)throw Error(j(407));n=n()}else{if(n=e(),Ue===null)throw Error(j(349));rr&30||Kp(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,hf(Xp.bind(null,r,s,t),[t]),r.flags|=2048,hs(9,qp.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Bt(),e=Ue.identifierPrefix;if(ve){var n=Jt,r=Xt;n=(r&~(1<<32-At(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ds++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=F0++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},$0={readContext:Ct,useCallback:sm,useContext:Ct,useEffect:xu,useImperativeHandle:im,useInsertionEffect:tm,useLayoutEffect:nm,useMemo:om,useReducer:ua,useRef:em,useState:function(){return ua(fs)},useDebugValue:wu,useDeferredValue:function(t){var e=Et();return lm(e,Re.memoizedState,t)},useTransition:function(){var t=ua(fs)[0],e=Et().memoizedState;return[t,e]},useMutableSource:Yp,useSyncExternalStore:Qp,useId:am,unstable_isNewReconciler:!1},V0={readContext:Ct,useCallback:sm,useContext:Ct,useEffect:xu,useImperativeHandle:im,useInsertionEffect:tm,useLayoutEffect:nm,useMemo:om,useReducer:da,useRef:em,useState:function(){return da(fs)},useDebugValue:wu,useDeferredValue:function(t){var e=Et();return Re===null?e.memoizedState=t:lm(e,Re.memoizedState,t)},useTransition:function(){var t=da(fs)[0],e=Et().memoizedState;return[t,e]},useMutableSource:Yp,useSyncExternalStore:Qp,useId:am,unstable_isNewReconciler:!1};function Tt(t,e){if(t&&t.defaultProps){e=we({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function oc(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:we({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var vl={isMounted:function(t){return(t=t._reactInternals)?ur(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ze(),i=bn(t),s=en(r,i);s.payload=e,n!=null&&(s.callback=n),e=Nn(t,s,i),e!==null&&(Dt(e,t,i,r),mo(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ze(),i=bn(t),s=en(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Nn(t,s,i),e!==null&&(Dt(e,t,i,r),mo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ze(),r=bn(t),i=en(n,r);i.tag=2,e!=null&&(i.callback=e),e=Nn(t,i,r),e!==null&&(Dt(e,t,r,n),mo(e,t,r))}};function pf(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ss(n,r)||!ss(i,s):!0}function fm(t,e,n){var r=!1,i=On,s=e.contextType;return typeof s=="object"&&s!==null?s=Ct(s):(i=ot(e)?tr:qe.current,r=e.contextTypes,s=(r=r!=null)?Gr(t,i):On),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=vl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function mf(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&vl.enqueueReplaceState(e,e.state,null)}function lc(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},hu(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ct(s):(s=ot(e)?tr:qe.current,i.context=Gr(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(oc(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&vl.enqueueReplaceState(i,i.state,null),Fo(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function qr(t,e){try{var n="",r=e;do n+=vv(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function fa(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ac(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var H0=typeof WeakMap=="function"?WeakMap:Map;function hm(t,e,n){n=en(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){$o||($o=!0,vc=r),ac(t,e)},n}function pm(t,e,n){n=en(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ac(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ac(t,e),typeof r!="function"&&(Tn===null?Tn=new Set([this]):Tn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function gf(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new H0;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=s_.bind(null,t,e,n),e.then(t,t))}function yf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function vf(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=en(-1,1),e.tag=2,Nn(n,e,1))),n.lanes|=1),t)}var G0=cn.ReactCurrentOwner,rt=!1;function Xe(t,e,n,r){e.child=t===null?$p(e,null,n,r):Qr(e,t.child,n,r)}function _f(t,e,n,r,i){n=n.render;var s=e.ref;return Wr(e,i),r=vu(t,e,n,r,s,i),n=_u(),t!==null&&!rt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,on(t,e,i)):(ve&&n&&ou(e),e.flags|=1,Xe(t,e,r,i),e.child)}function xf(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Iu(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,mm(t,e,s,r,i)):(t=wo(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ss,n(o,r)&&t.ref===e.ref)return on(t,e,i)}return e.flags|=1,t=In(s,r),t.ref=e.ref,t.return=e,e.child=t}function mm(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ss(s,r)&&t.ref===e.ref)if(rt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(rt=!0);else return e.lanes=t.lanes,on(t,e,i)}return cc(t,e,n,r,i)}function gm(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(Dr,ut),ut|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ce(Dr,ut),ut|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ce(Dr,ut),ut|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ce(Dr,ut),ut|=r;return Xe(t,e,i,n),e.child}function ym(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function cc(t,e,n,r,i){var s=ot(n)?tr:qe.current;return s=Gr(e,s),Wr(e,i),n=vu(t,e,n,r,s,i),r=_u(),t!==null&&!rt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,on(t,e,i)):(ve&&r&&ou(e),e.flags|=1,Xe(t,e,n,i),e.child)}function wf(t,e,n,r,i){if(ot(n)){var s=!0;Ao(e)}else s=!1;if(Wr(e,i),e.stateNode===null)vo(t,e),fm(e,n,r),lc(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,c=e.memoizedProps;o.props=c;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ct(u):(u=ot(n)?tr:qe.current,u=Gr(e,u));var p=n.getDerivedStateFromProps,h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==r||a!==u)&&mf(e,o,r,u),yn=!1;var f=e.memoizedState;o.state=f,Fo(e,r,o,i),a=e.memoizedState,c!==r||f!==a||st.current||yn?(typeof p=="function"&&(oc(e,n,p,r),a=e.memoizedState),(c=yn||pf(e,n,c,r,f,a,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=u,r=c):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Hp(t,e),c=e.memoizedProps,u=e.type===e.elementType?c:Tt(e.type,c),o.props=u,h=e.pendingProps,f=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Ct(a):(a=ot(n)?tr:qe.current,a=Gr(e,a));var _=n.getDerivedStateFromProps;(p=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==h||f!==a)&&mf(e,o,r,a),yn=!1,f=e.memoizedState,o.state=f,Fo(e,r,o,i);var C=e.memoizedState;c!==h||f!==C||st.current||yn?(typeof _=="function"&&(oc(e,n,_,r),C=e.memoizedState),(u=yn||pf(e,n,u,r,f,C,a)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,C,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,C,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=C),o.props=r,o.state=C,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||c===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return uc(t,e,n,r,s,i)}function uc(t,e,n,r,i,s){ym(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&of(e,n,!1),on(t,e,s);r=e.stateNode,G0.current=e;var c=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Qr(e,t.child,null,s),e.child=Qr(e,null,c,s)):Xe(t,e,c,s),e.memoizedState=r.state,i&&of(e,n,!0),e.child}function vm(t){var e=t.stateNode;e.pendingContext?sf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&sf(t,e.context,!1),pu(t,e.containerInfo)}function Sf(t,e,n,r,i){return Yr(),au(i),e.flags|=256,Xe(t,e,n,r),e.child}var dc={dehydrated:null,treeContext:null,retryLane:0};function fc(t){return{baseLanes:t,cachePool:null,transitions:null}}function _m(t,e,n){var r=e.pendingProps,i=_e.current,s=!1,o=(e.flags&128)!==0,c;if((c=o)||(c=t!==null&&t.memoizedState===null?!1:(i&2)!==0),c?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ce(_e,i&1),t===null)return ic(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=wl(o,r,0,null),t=er(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=fc(n),e.memoizedState=dc,t):Su(e,o));if(i=t.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return Y0(t,e,o,r,c,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,c=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=In(i,a),r.subtreeFlags=i.subtreeFlags&14680064),c!==null?s=In(c,s):(s=er(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?fc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=dc,r}return s=t.child,t=s.sibling,r=In(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Su(t,e){return e=wl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ro(t,e,n,r){return r!==null&&au(r),Qr(e,t.child,null,n),t=Su(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Y0(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=fa(Error(j(422))),ro(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=wl({mode:"visible",children:r.children},i,0,null),s=er(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Qr(e,t.child,null,o),e.child.memoizedState=fc(o),e.memoizedState=dc,s);if(!(e.mode&1))return ro(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var c=r.dgst;return r=c,s=Error(j(419)),r=fa(s,r,void 0),ro(t,e,o,r)}if(c=(o&t.childLanes)!==0,rt||c){if(r=Ue,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,sn(t,i),Dt(r,t,i,-1))}return bu(),r=fa(Error(j(421))),ro(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=o_.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,dt=kn(i.nextSibling),ft=e,ve=!0,It=null,t!==null&&(_t[xt++]=Xt,_t[xt++]=Jt,_t[xt++]=nr,Xt=t.id,Jt=t.overflow,nr=e),e=Su(e,r.children),e.flags|=4096,e)}function Cf(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),sc(t.return,e,n)}function ha(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function xm(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Xe(t,e,r.children,n),r=_e.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Cf(t,n,e);else if(t.tag===19)Cf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ce(_e,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&zo(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ha(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&zo(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ha(e,!0,n,null,s);break;case"together":ha(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function vo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function on(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ir|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(j(153));if(e.child!==null){for(t=e.child,n=In(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=In(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Q0(t,e,n){switch(e.tag){case 3:vm(e),Yr();break;case 5:Gp(e);break;case 1:ot(e.type)&&Ao(e);break;case 4:pu(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ce(Lo,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ce(_e,_e.current&1),e.flags|=128,null):n&e.child.childLanes?_m(t,e,n):(ce(_e,_e.current&1),t=on(t,e,n),t!==null?t.sibling:null);ce(_e,_e.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return xm(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ce(_e,_e.current),r)break;return null;case 22:case 23:return e.lanes=0,gm(t,e,n)}return on(t,e,n)}var wm,hc,Sm,Cm;wm=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};hc=function(){};Sm=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,qn(Vt.current);var s=null;switch(n){case"input":i=Oa(t,i),r=Oa(t,r),s=[];break;case"select":i=we({},i,{value:void 0}),r=we({},r,{value:void 0}),s=[];break;case"textarea":i=Fa(t,i),r=Fa(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=jo)}Wa(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var c=i[u];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ji.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(c=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==c&&(a!=null||c!=null))if(u==="style")if(c){for(o in c)!c.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&c[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,c=c?c.__html:void 0,a!=null&&c!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ji.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&he("scroll",t),s||c===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Cm=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ti(t,e){if(!ve)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ye(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function K0(t,e,n){var r=e.pendingProps;switch(lu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(e),null;case 1:return ot(e.type)&&Ro(),Ye(e),null;case 3:return r=e.stateNode,Kr(),me(st),me(qe),gu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(to(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,It!==null&&(wc(It),It=null))),hc(t,e),Ye(e),null;case 5:mu(e);var i=qn(us.current);if(n=e.type,t!==null&&e.stateNode!=null)Sm(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(j(166));return Ye(e),null}if(t=qn(Vt.current),to(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ut]=e,r[as]=s,t=(e.mode&1)!==0,n){case"dialog":he("cancel",r),he("close",r);break;case"iframe":case"object":case"embed":he("load",r);break;case"video":case"audio":for(i=0;i<Mi.length;i++)he(Mi[i],r);break;case"source":he("error",r);break;case"img":case"image":case"link":he("error",r),he("load",r);break;case"details":he("toggle",r);break;case"input":jd(r,s),he("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},he("invalid",r);break;case"textarea":Ad(r,s),he("invalid",r)}Wa(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var c=s[o];o==="children"?typeof c=="string"?r.textContent!==c&&(s.suppressHydrationWarning!==!0&&eo(r.textContent,c,t),i=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(s.suppressHydrationWarning!==!0&&eo(r.textContent,c,t),i=["children",""+c]):Ji.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&he("scroll",r)}switch(n){case"input":Gs(r),Rd(r,s,!0);break;case"textarea":Gs(r),Dd(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=jo)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Xh(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ut]=e,t[as]=r,wm(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ba(n,r),n){case"dialog":he("cancel",t),he("close",t),i=r;break;case"iframe":case"object":case"embed":he("load",t),i=r;break;case"video":case"audio":for(i=0;i<Mi.length;i++)he(Mi[i],t);i=r;break;case"source":he("error",t),i=r;break;case"img":case"image":case"link":he("error",t),he("load",t),i=r;break;case"details":he("toggle",t),i=r;break;case"input":jd(t,r),i=Oa(t,r),he("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=we({},r,{value:void 0}),he("invalid",t);break;case"textarea":Ad(t,r),i=Fa(t,r),he("invalid",t);break;default:i=r}Wa(n,i),c=i;for(s in c)if(c.hasOwnProperty(s)){var a=c[s];s==="style"?ep(t,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Jh(t,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Zi(t,a):typeof a=="number"&&Zi(t,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ji.hasOwnProperty(s)?a!=null&&s==="onScroll"&&he("scroll",t):a!=null&&Gc(t,s,a,o))}switch(n){case"input":Gs(t),Rd(t,r,!1);break;case"textarea":Gs(t),Dd(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Dn(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Lr(t,!!r.multiple,s,!1):r.defaultValue!=null&&Lr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=jo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ye(e),null;case 6:if(t&&e.stateNode!=null)Cm(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(j(166));if(n=qn(us.current),qn(Vt.current),to(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ut]=e,(s=r.nodeValue!==n)&&(t=ft,t!==null))switch(t.tag){case 3:eo(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&eo(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ut]=e,e.stateNode=r}return Ye(e),null;case 13:if(me(_e),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ve&&dt!==null&&e.mode&1&&!(e.flags&128))Bp(),Yr(),e.flags|=98560,s=!1;else if(s=to(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(j(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(j(317));s[Ut]=e}else Yr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ye(e),s=!1}else It!==null&&(wc(It),It=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||_e.current&1?Oe===0&&(Oe=3):bu())),e.updateQueue!==null&&(e.flags|=4),Ye(e),null);case 4:return Kr(),hc(t,e),t===null&&os(e.stateNode.containerInfo),Ye(e),null;case 10:return du(e.type._context),Ye(e),null;case 17:return ot(e.type)&&Ro(),Ye(e),null;case 19:if(me(_e),s=e.memoizedState,s===null)return Ye(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ti(s,!1);else{if(Oe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=zo(t),o!==null){for(e.flags|=128,Ti(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ce(_e,_e.current&1|2),e.child}t=t.sibling}s.tail!==null&&be()>Xr&&(e.flags|=128,r=!0,Ti(s,!1),e.lanes=4194304)}else{if(!r)if(t=zo(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ti(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ve)return Ye(e),null}else 2*be()-s.renderingStartTime>Xr&&n!==1073741824&&(e.flags|=128,r=!0,Ti(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=be(),e.sibling=null,n=_e.current,ce(_e,r?n&1|2:n&1),e):(Ye(e),null);case 22:case 23:return Tu(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ut&1073741824&&(Ye(e),e.subtreeFlags&6&&(e.flags|=8192)):Ye(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function q0(t,e){switch(lu(e),e.tag){case 1:return ot(e.type)&&Ro(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Kr(),me(st),me(qe),gu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return mu(e),null;case 13:if(me(_e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(j(340));Yr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return me(_e),null;case 4:return Kr(),null;case 10:return du(e.type._context),null;case 22:case 23:return Tu(),null;case 24:return null;default:return null}}var io=!1,Qe=!1,X0=typeof WeakSet=="function"?WeakSet:Set,z=null;function Ar(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ee(t,e,r)}else n.current=null}function pc(t,e,n){try{n()}catch(r){Ee(t,e,r)}}var Ef=!1;function J0(t,e){if(Xa=bo,t=bp(),su(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,c=-1,a=-1,u=0,p=0,h=t,f=null;t:for(;;){for(var _;h!==n||i!==0&&h.nodeType!==3||(c=o+i),h!==s||r!==0&&h.nodeType!==3||(a=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(_=h.firstChild)!==null;)f=h,h=_;for(;;){if(h===t)break t;if(f===n&&++u===i&&(c=o),f===s&&++p===r&&(a=o),(_=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=_}n=c===-1||a===-1?null:{start:c,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ja={focusedElem:t,selectionRange:n},bo=!1,z=e;z!==null;)if(e=z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,z=t;else for(;z!==null;){e=z;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var w=C.memoizedProps,S=C.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(e.elementType===e.type?w:Tt(e.type,w),S);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(k){Ee(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,z=t;break}z=e.return}return C=Ef,Ef=!1,C}function Vi(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&pc(e,n,s)}i=i.next}while(i!==r)}}function _l(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function mc(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Em(t){var e=t.alternate;e!==null&&(t.alternate=null,Em(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ut],delete e[as],delete e[tc],delete e[D0],delete e[O0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function km(t){return t.tag===5||t.tag===3||t.tag===4}function kf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||km(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function gc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=jo));else if(r!==4&&(t=t.child,t!==null))for(gc(t,e,n),t=t.sibling;t!==null;)gc(t,e,n),t=t.sibling}function yc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(yc(t,e,n),t=t.sibling;t!==null;)yc(t,e,n),t=t.sibling}var $e=null,bt=!1;function hn(t,e,n){for(n=n.child;n!==null;)Nm(t,e,n),n=n.sibling}function Nm(t,e,n){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(dl,n)}catch{}switch(n.tag){case 5:Qe||Ar(n,e);case 6:var r=$e,i=bt;$e=null,hn(t,e,n),$e=r,bt=i,$e!==null&&(bt?(t=$e,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):$e.removeChild(n.stateNode));break;case 18:$e!==null&&(bt?(t=$e,n=n.stateNode,t.nodeType===8?oa(t.parentNode,n):t.nodeType===1&&oa(t,n),rs(t)):oa($e,n.stateNode));break;case 4:r=$e,i=bt,$e=n.stateNode.containerInfo,bt=!0,hn(t,e,n),$e=r,bt=i;break;case 0:case 11:case 14:case 15:if(!Qe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&pc(n,e,o),i=i.next}while(i!==r)}hn(t,e,n);break;case 1:if(!Qe&&(Ar(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){Ee(n,e,c)}hn(t,e,n);break;case 21:hn(t,e,n);break;case 22:n.mode&1?(Qe=(r=Qe)||n.memoizedState!==null,hn(t,e,n),Qe=r):hn(t,e,n);break;default:hn(t,e,n)}}function Nf(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new X0),e.forEach(function(r){var i=l_.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Nt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,c=o;e:for(;c!==null;){switch(c.tag){case 5:$e=c.stateNode,bt=!1;break e;case 3:$e=c.stateNode.containerInfo,bt=!0;break e;case 4:$e=c.stateNode.containerInfo,bt=!0;break e}c=c.return}if($e===null)throw Error(j(160));Nm(s,o,i),$e=null,bt=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){Ee(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Tm(e,t),e=e.sibling}function Tm(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Nt(e,t),Wt(t),r&4){try{Vi(3,t,t.return),_l(3,t)}catch(w){Ee(t,t.return,w)}try{Vi(5,t,t.return)}catch(w){Ee(t,t.return,w)}}break;case 1:Nt(e,t),Wt(t),r&512&&n!==null&&Ar(n,n.return);break;case 5:if(Nt(e,t),Wt(t),r&512&&n!==null&&Ar(n,n.return),t.flags&32){var i=t.stateNode;try{Zi(i,"")}catch(w){Ee(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,c=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{c==="input"&&s.type==="radio"&&s.name!=null&&Kh(i,s),Ba(c,o);var u=Ba(c,s);for(o=0;o<a.length;o+=2){var p=a[o],h=a[o+1];p==="style"?ep(i,h):p==="dangerouslySetInnerHTML"?Jh(i,h):p==="children"?Zi(i,h):Gc(i,p,h,u)}switch(c){case"input":La(i,s);break;case"textarea":qh(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var _=s.value;_!=null?Lr(i,!!s.multiple,_,!1):f!==!!s.multiple&&(s.defaultValue!=null?Lr(i,!!s.multiple,s.defaultValue,!0):Lr(i,!!s.multiple,s.multiple?[]:"",!1))}i[as]=s}catch(w){Ee(t,t.return,w)}}break;case 6:if(Nt(e,t),Wt(t),r&4){if(t.stateNode===null)throw Error(j(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){Ee(t,t.return,w)}}break;case 3:if(Nt(e,t),Wt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{rs(e.containerInfo)}catch(w){Ee(t,t.return,w)}break;case 4:Nt(e,t),Wt(t);break;case 13:Nt(e,t),Wt(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(ku=be())),r&4&&Nf(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(Qe=(u=Qe)||p,Nt(e,t),Qe=u):Nt(e,t),Wt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!p&&t.mode&1)for(z=t,p=t.child;p!==null;){for(h=z=p;z!==null;){switch(f=z,_=f.child,f.tag){case 0:case 11:case 14:case 15:Vi(4,f,f.return);break;case 1:Ar(f,f.return);var C=f.stateNode;if(typeof C.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(w){Ee(r,n,w)}}break;case 5:Ar(f,f.return);break;case 22:if(f.memoizedState!==null){bf(h);continue}}_!==null?(_.return=f,z=_):bf(h)}p=p.sibling}e:for(p=null,h=t;;){if(h.tag===5){if(p===null){p=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(c=h.stateNode,a=h.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,c.style.display=Zh("display",o))}catch(w){Ee(t,t.return,w)}}}else if(h.tag===6){if(p===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){Ee(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;p===h&&(p=null),h=h.return}p===h&&(p=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Nt(e,t),Wt(t),r&4&&Nf(t);break;case 21:break;default:Nt(e,t),Wt(t)}}function Wt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(km(n)){var r=n;break e}n=n.return}throw Error(j(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Zi(i,""),r.flags&=-33);var s=kf(t);yc(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,c=kf(t);gc(t,c,o);break;default:throw Error(j(161))}}catch(a){Ee(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Z0(t,e,n){z=t,bm(t)}function bm(t,e,n){for(var r=(t.mode&1)!==0;z!==null;){var i=z,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||io;if(!o){var c=i.alternate,a=c!==null&&c.memoizedState!==null||Qe;c=io;var u=Qe;if(io=o,(Qe=a)&&!u)for(z=i;z!==null;)o=z,a=o.child,o.tag===22&&o.memoizedState!==null?If(i):a!==null?(a.return=o,z=a):If(i);for(;s!==null;)z=s,bm(s),s=s.sibling;z=i,io=c,Qe=u}Tf(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,z=s):Tf(t)}}function Tf(t){for(;z!==null;){var e=z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Qe||_l(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Qe)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Tt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&df(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}df(e,o,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var p=u.memoizedState;if(p!==null){var h=p.dehydrated;h!==null&&rs(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}Qe||e.flags&512&&mc(e)}catch(f){Ee(e,e.return,f)}}if(e===t){z=null;break}if(n=e.sibling,n!==null){n.return=e.return,z=n;break}z=e.return}}function bf(t){for(;z!==null;){var e=z;if(e===t){z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,z=n;break}z=e.return}}function If(t){for(;z!==null;){var e=z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{_l(4,e)}catch(a){Ee(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){Ee(e,i,a)}}var s=e.return;try{mc(e)}catch(a){Ee(e,s,a)}break;case 5:var o=e.return;try{mc(e)}catch(a){Ee(e,o,a)}}}catch(a){Ee(e,e.return,a)}if(e===t){z=null;break}var c=e.sibling;if(c!==null){c.return=e.return,z=c;break}z=e.return}}var e_=Math.ceil,Uo=cn.ReactCurrentDispatcher,Cu=cn.ReactCurrentOwner,St=cn.ReactCurrentBatchConfig,te=0,Ue=null,Pe=null,Ve=0,ut=0,Dr=Wn(0),Oe=0,ps=null,ir=0,xl=0,Eu=0,Hi=null,nt=null,ku=0,Xr=1/0,Kt=null,$o=!1,vc=null,Tn=null,so=!1,wn=null,Vo=0,Gi=0,_c=null,_o=-1,xo=0;function Ze(){return te&6?be():_o!==-1?_o:_o=be()}function bn(t){return t.mode&1?te&2&&Ve!==0?Ve&-Ve:M0.transition!==null?(xo===0&&(xo=fp()),xo):(t=se,t!==0||(t=window.event,t=t===void 0?16:_p(t.type)),t):1}function Dt(t,e,n,r){if(50<Gi)throw Gi=0,_c=null,Error(j(185));bs(t,n,r),(!(te&2)||t!==Ue)&&(t===Ue&&(!(te&2)&&(xl|=n),Oe===4&&_n(t,Ve)),lt(t,r),n===1&&te===0&&!(e.mode&1)&&(Xr=be()+500,gl&&Bn()))}function lt(t,e){var n=t.callbackNode;Mv(t,e);var r=To(t,t===Ue?Ve:0);if(r===0)n!==null&&Md(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Md(n),e===1)t.tag===0?L0(Pf.bind(null,t)):Fp(Pf.bind(null,t)),R0(function(){!(te&6)&&Bn()}),n=null;else{switch(hp(r)){case 1:n=Xc;break;case 4:n=up;break;case 16:n=No;break;case 536870912:n=dp;break;default:n=No}n=Lm(n,Im.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Im(t,e){if(_o=-1,xo=0,te&6)throw Error(j(327));var n=t.callbackNode;if(Br()&&t.callbackNode!==n)return null;var r=To(t,t===Ue?Ve:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ho(t,r);else{e=r;var i=te;te|=2;var s=jm();(Ue!==t||Ve!==e)&&(Kt=null,Xr=be()+500,Zn(t,e));do try{r_();break}catch(c){Pm(t,c)}while(!0);uu(),Uo.current=s,te=i,Pe!==null?e=0:(Ue=null,Ve=0,e=Oe)}if(e!==0){if(e===2&&(i=Ga(t),i!==0&&(r=i,e=xc(t,i))),e===1)throw n=ps,Zn(t,0),_n(t,r),lt(t,be()),n;if(e===6)_n(t,r);else{if(i=t.current.alternate,!(r&30)&&!t_(i)&&(e=Ho(t,r),e===2&&(s=Ga(t),s!==0&&(r=s,e=xc(t,s))),e===1))throw n=ps,Zn(t,0),_n(t,r),lt(t,be()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(j(345));case 2:Hn(t,nt,Kt);break;case 3:if(_n(t,r),(r&130023424)===r&&(e=ku+500-be(),10<e)){if(To(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ze(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ec(Hn.bind(null,t,nt,Kt),e);break}Hn(t,nt,Kt);break;case 4:if(_n(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-At(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=be()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*e_(r/1960))-r,10<r){t.timeoutHandle=ec(Hn.bind(null,t,nt,Kt),r);break}Hn(t,nt,Kt);break;case 5:Hn(t,nt,Kt);break;default:throw Error(j(329))}}}return lt(t,be()),t.callbackNode===n?Im.bind(null,t):null}function xc(t,e){var n=Hi;return t.current.memoizedState.isDehydrated&&(Zn(t,e).flags|=256),t=Ho(t,e),t!==2&&(e=nt,nt=n,e!==null&&wc(e)),t}function wc(t){nt===null?nt=t:nt.push.apply(nt,t)}function t_(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Lt(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _n(t,e){for(e&=~Eu,e&=~xl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-At(e),r=1<<n;t[n]=-1,e&=~r}}function Pf(t){if(te&6)throw Error(j(327));Br();var e=To(t,0);if(!(e&1))return lt(t,be()),null;var n=Ho(t,e);if(t.tag!==0&&n===2){var r=Ga(t);r!==0&&(e=r,n=xc(t,r))}if(n===1)throw n=ps,Zn(t,0),_n(t,e),lt(t,be()),n;if(n===6)throw Error(j(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Hn(t,nt,Kt),lt(t,be()),null}function Nu(t,e){var n=te;te|=1;try{return t(e)}finally{te=n,te===0&&(Xr=be()+500,gl&&Bn())}}function sr(t){wn!==null&&wn.tag===0&&!(te&6)&&Br();var e=te;te|=1;var n=St.transition,r=se;try{if(St.transition=null,se=1,t)return t()}finally{se=r,St.transition=n,te=e,!(te&6)&&Bn()}}function Tu(){ut=Dr.current,me(Dr)}function Zn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,j0(n)),Pe!==null)for(n=Pe.return;n!==null;){var r=n;switch(lu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ro();break;case 3:Kr(),me(st),me(qe),gu();break;case 5:mu(r);break;case 4:Kr();break;case 13:me(_e);break;case 19:me(_e);break;case 10:du(r.type._context);break;case 22:case 23:Tu()}n=n.return}if(Ue=t,Pe=t=In(t.current,null),Ve=ut=e,Oe=0,ps=null,Eu=xl=ir=0,nt=Hi=null,Kn!==null){for(e=0;e<Kn.length;e++)if(n=Kn[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Kn=null}return t}function Pm(t,e){do{var n=Pe;try{if(uu(),go.current=Bo,Wo){for(var r=xe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Wo=!1}if(rr=0,ze=Re=xe=null,$i=!1,ds=0,Cu.current=null,n===null||n.return===null){Oe=1,ps=e,Pe=null;break}e:{var s=t,o=n.return,c=n,a=e;if(e=Ve,c.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,p=c,h=p.tag;if(!(p.mode&1)&&(h===0||h===11||h===15)){var f=p.alternate;f?(p.updateQueue=f.updateQueue,p.memoizedState=f.memoizedState,p.lanes=f.lanes):(p.updateQueue=null,p.memoizedState=null)}var _=yf(o);if(_!==null){_.flags&=-257,vf(_,o,c,s,e),_.mode&1&&gf(s,u,e),e=_,a=u;var C=e.updateQueue;if(C===null){var w=new Set;w.add(a),e.updateQueue=w}else C.add(a);break e}else{if(!(e&1)){gf(s,u,e),bu();break e}a=Error(j(426))}}else if(ve&&c.mode&1){var S=yf(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),vf(S,o,c,s,e),au(qr(a,c));break e}}s=a=qr(a,c),Oe!==4&&(Oe=2),Hi===null?Hi=[s]:Hi.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=hm(s,a,e);uf(s,g);break e;case 1:c=a;var m=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Tn===null||!Tn.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=pm(s,c,e);uf(s,k);break e}}s=s.return}while(s!==null)}Am(n)}catch(R){e=R,Pe===n&&n!==null&&(Pe=n=n.return);continue}break}while(!0)}function jm(){var t=Uo.current;return Uo.current=Bo,t===null?Bo:t}function bu(){(Oe===0||Oe===3||Oe===2)&&(Oe=4),Ue===null||!(ir&268435455)&&!(xl&268435455)||_n(Ue,Ve)}function Ho(t,e){var n=te;te|=2;var r=jm();(Ue!==t||Ve!==e)&&(Kt=null,Zn(t,e));do try{n_();break}catch(i){Pm(t,i)}while(!0);if(uu(),te=n,Uo.current=r,Pe!==null)throw Error(j(261));return Ue=null,Ve=0,Oe}function n_(){for(;Pe!==null;)Rm(Pe)}function r_(){for(;Pe!==null&&!bv();)Rm(Pe)}function Rm(t){var e=Om(t.alternate,t,ut);t.memoizedProps=t.pendingProps,e===null?Am(t):Pe=e,Cu.current=null}function Am(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=q0(n,e),n!==null){n.flags&=32767,Pe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Oe=6,Pe=null;return}}else if(n=K0(n,e,ut),n!==null){Pe=n;return}if(e=e.sibling,e!==null){Pe=e;return}Pe=e=t}while(e!==null);Oe===0&&(Oe=5)}function Hn(t,e,n){var r=se,i=St.transition;try{St.transition=null,se=1,i_(t,e,n,r)}finally{St.transition=i,se=r}return null}function i_(t,e,n,r){do Br();while(wn!==null);if(te&6)throw Error(j(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(j(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Fv(t,s),t===Ue&&(Pe=Ue=null,Ve=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||so||(so=!0,Lm(No,function(){return Br(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=St.transition,St.transition=null;var o=se;se=1;var c=te;te|=4,Cu.current=null,J0(t,n),Tm(n,t),E0(Ja),bo=!!Xa,Ja=Xa=null,t.current=n,Z0(n),Iv(),te=c,se=o,St.transition=s}else t.current=n;if(so&&(so=!1,wn=t,Vo=i),s=t.pendingLanes,s===0&&(Tn=null),Rv(n.stateNode),lt(t,be()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if($o)throw $o=!1,t=vc,vc=null,t;return Vo&1&&t.tag!==0&&Br(),s=t.pendingLanes,s&1?t===_c?Gi++:(Gi=0,_c=t):Gi=0,Bn(),null}function Br(){if(wn!==null){var t=hp(Vo),e=St.transition,n=se;try{if(St.transition=null,se=16>t?16:t,wn===null)var r=!1;else{if(t=wn,wn=null,Vo=0,te&6)throw Error(j(331));var i=te;for(te|=4,z=t.current;z!==null;){var s=z,o=s.child;if(z.flags&16){var c=s.deletions;if(c!==null){for(var a=0;a<c.length;a++){var u=c[a];for(z=u;z!==null;){var p=z;switch(p.tag){case 0:case 11:case 15:Vi(8,p,s)}var h=p.child;if(h!==null)h.return=p,z=h;else for(;z!==null;){p=z;var f=p.sibling,_=p.return;if(Em(p),p===u){z=null;break}if(f!==null){f.return=_,z=f;break}z=_}}}var C=s.alternate;if(C!==null){var w=C.child;if(w!==null){C.child=null;do{var S=w.sibling;w.sibling=null,w=S}while(w!==null)}}z=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,z=o;else e:for(;z!==null;){if(s=z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Vi(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,z=g;break e}z=s.return}}var m=t.current;for(z=m;z!==null;){o=z;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,z=x;else e:for(o=m;z!==null;){if(c=z,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:_l(9,c)}}catch(R){Ee(c,c.return,R)}if(c===o){z=null;break e}var k=c.sibling;if(k!==null){k.return=c.return,z=k;break e}z=c.return}}if(te=i,Bn(),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(dl,t)}catch{}r=!0}return r}finally{se=n,St.transition=e}}return!1}function jf(t,e,n){e=qr(n,e),e=hm(t,e,1),t=Nn(t,e,1),e=Ze(),t!==null&&(bs(t,1,e),lt(t,e))}function Ee(t,e,n){if(t.tag===3)jf(t,t,n);else for(;e!==null;){if(e.tag===3){jf(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Tn===null||!Tn.has(r))){t=qr(n,t),t=pm(e,t,1),e=Nn(e,t,1),t=Ze(),e!==null&&(bs(e,1,t),lt(e,t));break}}e=e.return}}function s_(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ze(),t.pingedLanes|=t.suspendedLanes&n,Ue===t&&(Ve&n)===n&&(Oe===4||Oe===3&&(Ve&130023424)===Ve&&500>be()-ku?Zn(t,0):Eu|=n),lt(t,e)}function Dm(t,e){e===0&&(t.mode&1?(e=Ks,Ks<<=1,!(Ks&130023424)&&(Ks=4194304)):e=1);var n=Ze();t=sn(t,e),t!==null&&(bs(t,e,n),lt(t,n))}function o_(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Dm(t,n)}function l_(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(j(314))}r!==null&&r.delete(e),Dm(t,n)}var Om;Om=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||st.current)rt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return rt=!1,Q0(t,e,n);rt=!!(t.flags&131072)}else rt=!1,ve&&e.flags&1048576&&zp(e,Oo,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;vo(t,e),t=e.pendingProps;var i=Gr(e,qe.current);Wr(e,n),i=vu(null,e,r,t,i,n);var s=_u();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ot(r)?(s=!0,Ao(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,hu(e),i.updater=vl,e.stateNode=i,i._reactInternals=e,lc(e,r,t,n),e=uc(null,e,r,!0,s,n)):(e.tag=0,ve&&s&&ou(e),Xe(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(vo(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=c_(r),t=Tt(r,t),i){case 0:e=cc(null,e,r,t,n);break e;case 1:e=wf(null,e,r,t,n);break e;case 11:e=_f(null,e,r,t,n);break e;case 14:e=xf(null,e,r,Tt(r.type,t),n);break e}throw Error(j(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tt(r,i),cc(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tt(r,i),wf(t,e,r,i,n);case 3:e:{if(vm(e),t===null)throw Error(j(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Hp(t,e),Fo(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=qr(Error(j(423)),e),e=Sf(t,e,r,n,i);break e}else if(r!==i){i=qr(Error(j(424)),e),e=Sf(t,e,r,n,i);break e}else for(dt=kn(e.stateNode.containerInfo.firstChild),ft=e,ve=!0,It=null,n=$p(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Yr(),r===i){e=on(t,e,n);break e}Xe(t,e,r,n)}e=e.child}return e;case 5:return Gp(e),t===null&&ic(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Za(r,i)?o=null:s!==null&&Za(r,s)&&(e.flags|=32),ym(t,e),Xe(t,e,o,n),e.child;case 6:return t===null&&ic(e),null;case 13:return _m(t,e,n);case 4:return pu(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Qr(e,null,r,n):Xe(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tt(r,i),_f(t,e,r,i,n);case 7:return Xe(t,e,e.pendingProps,n),e.child;case 8:return Xe(t,e,e.pendingProps.children,n),e.child;case 12:return Xe(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ce(Lo,r._currentValue),r._currentValue=o,s!==null)if(Lt(s.value,o)){if(s.children===i.children&&!st.current){e=on(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var c=s.dependencies;if(c!==null){o=s.child;for(var a=c.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=en(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var p=u.pending;p===null?a.next=a:(a.next=p.next,p.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),sc(s.return,n,e),c.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(j(341));o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),sc(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Xe(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Wr(e,n),i=Ct(i),r=r(i),e.flags|=1,Xe(t,e,r,n),e.child;case 14:return r=e.type,i=Tt(r,e.pendingProps),i=Tt(r.type,i),xf(t,e,r,i,n);case 15:return mm(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tt(r,i),vo(t,e),e.tag=1,ot(r)?(t=!0,Ao(e)):t=!1,Wr(e,n),fm(e,r,i),lc(e,r,i,n),uc(null,e,r,!0,t,n);case 19:return xm(t,e,n);case 22:return gm(t,e,n)}throw Error(j(156,e.tag))};function Lm(t,e){return cp(t,e)}function a_(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wt(t,e,n,r){return new a_(t,e,n,r)}function Iu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function c_(t){if(typeof t=="function")return Iu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Qc)return 11;if(t===Kc)return 14}return 2}function In(t,e){var n=t.alternate;return n===null?(n=wt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function wo(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Iu(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Er:return er(n.children,i,s,e);case Yc:o=8,i|=8;break;case ja:return t=wt(12,n,e,i|2),t.elementType=ja,t.lanes=s,t;case Ra:return t=wt(13,n,e,i),t.elementType=Ra,t.lanes=s,t;case Aa:return t=wt(19,n,e,i),t.elementType=Aa,t.lanes=s,t;case Gh:return wl(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Vh:o=10;break e;case Hh:o=9;break e;case Qc:o=11;break e;case Kc:o=14;break e;case gn:o=16,r=null;break e}throw Error(j(130,t==null?t:typeof t,""))}return e=wt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function er(t,e,n,r){return t=wt(7,t,r,e),t.lanes=n,t}function wl(t,e,n,r){return t=wt(22,t,r,e),t.elementType=Gh,t.lanes=n,t.stateNode={isHidden:!1},t}function pa(t,e,n){return t=wt(6,t,null,e),t.lanes=n,t}function ma(t,e,n){return e=wt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function u_(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kl(0),this.expirationTimes=Kl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Pu(t,e,n,r,i,s,o,c,a){return t=new u_(t,e,n,c,a),e===1?(e=1,s===!0&&(e|=8)):e=0,s=wt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},hu(s),t}function d_(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Cr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Mm(t){if(!t)return On;t=t._reactInternals;e:{if(ur(t)!==t||t.tag!==1)throw Error(j(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ot(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(t.tag===1){var n=t.type;if(ot(n))return Mp(t,n,e)}return e}function Fm(t,e,n,r,i,s,o,c,a){return t=Pu(n,r,!0,t,i,s,o,c,a),t.context=Mm(null),n=t.current,r=Ze(),i=bn(n),s=en(r,i),s.callback=e??null,Nn(n,s,i),t.current.lanes=i,bs(t,i,r),lt(t,r),t}function Sl(t,e,n,r){var i=e.current,s=Ze(),o=bn(i);return n=Mm(n),e.context===null?e.context=n:e.pendingContext=n,e=en(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Nn(i,e,o),t!==null&&(Dt(t,i,o,s),mo(t,i,o)),o}function Go(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Rf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ju(t,e){Rf(t,e),(t=t.alternate)&&Rf(t,e)}function f_(){return null}var zm=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ru(t){this._internalRoot=t}Cl.prototype.render=Ru.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(j(409));Sl(t,e,null,null)};Cl.prototype.unmount=Ru.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;sr(function(){Sl(null,t,null,null)}),e[rn]=null}};function Cl(t){this._internalRoot=t}Cl.prototype.unstable_scheduleHydration=function(t){if(t){var e=gp();t={blockedOn:null,target:t,priority:e};for(var n=0;n<vn.length&&e!==0&&e<vn[n].priority;n++);vn.splice(n,0,t),n===0&&vp(t)}};function Au(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function El(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Af(){}function h_(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Go(o);s.call(u)}}var o=Fm(e,r,t,0,null,!1,!1,"",Af);return t._reactRootContainer=o,t[rn]=o.current,os(t.nodeType===8?t.parentNode:t),sr(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var c=r;r=function(){var u=Go(a);c.call(u)}}var a=Pu(t,0,!1,null,null,!1,!1,"",Af);return t._reactRootContainer=a,t[rn]=a.current,os(t.nodeType===8?t.parentNode:t),sr(function(){Sl(e,a,n,r)}),a}function kl(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var c=i;i=function(){var a=Go(o);c.call(a)}}Sl(e,o,t,i)}else o=h_(n,e,t,i,r);return Go(o)}pp=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Li(e.pendingLanes);n!==0&&(Jc(e,n|1),lt(e,be()),!(te&6)&&(Xr=be()+500,Bn()))}break;case 13:sr(function(){var r=sn(t,1);if(r!==null){var i=Ze();Dt(r,t,1,i)}}),ju(t,1)}};Zc=function(t){if(t.tag===13){var e=sn(t,134217728);if(e!==null){var n=Ze();Dt(e,t,134217728,n)}ju(t,134217728)}};mp=function(t){if(t.tag===13){var e=bn(t),n=sn(t,e);if(n!==null){var r=Ze();Dt(n,t,e,r)}ju(t,e)}};gp=function(){return se};yp=function(t,e){var n=se;try{return se=t,e()}finally{se=n}};$a=function(t,e,n){switch(e){case"input":if(La(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ml(r);if(!i)throw Error(j(90));Qh(r),La(r,i)}}}break;case"textarea":qh(t,n);break;case"select":e=n.value,e!=null&&Lr(t,!!n.multiple,e,!1)}};rp=Nu;ip=sr;var p_={usingClientEntryPoint:!1,Events:[Ps,br,ml,tp,np,Nu]},bi={findFiberByHostInstance:Qn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},m_={bundleType:bi.bundleType,version:bi.version,rendererPackageName:bi.rendererPackageName,rendererConfig:bi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=lp(t),t===null?null:t.stateNode},findFiberByHostInstance:bi.findFiberByHostInstance||f_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oo.isDisabled&&oo.supportsFiber)try{dl=oo.inject(m_),$t=oo}catch{}}pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=p_;pt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Au(e))throw Error(j(200));return d_(t,e,null,n)};pt.createRoot=function(t,e){if(!Au(t))throw Error(j(299));var n=!1,r="",i=zm;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Pu(t,1,!1,null,null,n,!1,r,i),t[rn]=e.current,os(t.nodeType===8?t.parentNode:t),new Ru(e)};pt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(j(188)):(t=Object.keys(t).join(","),Error(j(268,t)));return t=lp(e),t=t===null?null:t.stateNode,t};pt.flushSync=function(t){return sr(t)};pt.hydrate=function(t,e,n){if(!El(e))throw Error(j(200));return kl(null,t,e,!0,n)};pt.hydrateRoot=function(t,e,n){if(!Au(t))throw Error(j(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=zm;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Fm(e,null,t,1,n??null,i,!1,s,o),t[rn]=e.current,os(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Cl(e)};pt.render=function(t,e,n){if(!El(e))throw Error(j(200));return kl(null,t,e,!1,n)};pt.unmountComponentAtNode=function(t){if(!El(t))throw Error(j(40));return t._reactRootContainer?(sr(function(){kl(null,null,t,!1,function(){t._reactRootContainer=null,t[rn]=null})}),!0):!1};pt.unstable_batchedUpdates=Nu;pt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!El(n))throw Error(j(200));if(t==null||t._reactInternals===void 0)throw Error(j(38));return kl(t,e,n,!1,r)};pt.version="18.3.1-next-f1338f8080-20240426";function Wm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wm)}catch(t){console.error(t)}}Wm(),Wh.exports=pt;var g_=Wh.exports,Df=g_;Ia.createRoot=Df.createRoot,Ia.hydrateRoot=Df.hydrateRoot;var Of={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D=function(t,e){if(!t)throw si(e)},si=function(t){return new Error("Firebase Database ("+Bm.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},y_=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],c=t[n++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(a&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Du={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,c=o?t[i+1]:0,a=i+2<t.length,u=a?t[i+2]:0,p=s>>2,h=(s&3)<<4|c>>4;let f=(c&15)<<2|u>>6,_=u&63;a||(_=64,o||(f=64)),r.push(n[p],n[h],n[f],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Um(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):y_(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||u==null||h==null)throw new v_;const f=s<<2|c>>4;if(r.push(f),u!==64){const _=c<<4&240|u>>2;if(r.push(_),h!==64){const C=u<<6&192|h;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class v_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $m=function(t){const e=Um(t);return Du.encodeByteArray(e,!0)},Yo=function(t){return $m(t).replace(/\./g,"")},Sc=function(t){try{return Du.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(t){return Vm(void 0,t)}function Vm(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!x_(n)||(t[n]=Vm(t[n],e[n]));return t}function x_(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_=()=>w_().__FIREBASE_DEFAULTS__,C_=()=>{if(typeof process>"u"||typeof Of>"u")return;const t=Of.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},E_=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Sc(t[1]);return e&&JSON.parse(e)},Hm=()=>{try{return S_()||C_()||E_()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},k_=t=>{var e,n;return(n=(e=Hm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},N_=t=>{const e=k_(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Gm=()=>{var t;return(t=Hm())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Yo(JSON.stringify(n)),Yo(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ym(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(b_())}function I_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function P_(){return Bm.NODE_ADMIN===!0}function j_(){try{return typeof indexedDB=="object"}catch{return!1}}function R_(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="FirebaseError";class Rs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=A_,Object.setPrototypeOf(this,Rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qm.prototype.create)}}class Qm{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?D_(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new Rs(i,c,r)}}function D_(t,e){return t.replace(O_,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const O_=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ms(t){return JSON.parse(t)}function Ae(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=ms(Sc(s[0])||""),n=ms(Sc(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},L_=function(t){const e=Km(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},M_=function(t){const e=Km(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Jr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Lf(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Qo(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Cc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Mf(s)&&Mf(o)){if(!Cc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Mf(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const f=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],c=this.chain_[3],a=this.chain_[4],u,p;for(let h=0;h<80;h++){h<40?h<20?(u=c^s&(o^c),p=1518500249):(u=s^o^c,p=1859775393):h<60?(u=s&o|c&(s|o),p=2400959708):(u=s^o^c,p=3395469782);const f=(i<<5|i>>>27)+u+a+p+r[h]&4294967295;a=c,c=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function Ou(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,D(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Tl=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(t){return t&&t._delegate?t._delegate:t}class gs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Nl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($_(e))try{this.getOrInitializeService({instanceIdentifier:Gn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Gn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gn){return this.instances.has(e)}getOptions(e=Gn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:U_(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Gn){return this.component?this.component.multipleInstances?e:Gn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function U_(t){return t===Gn?void 0:t}function $_(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new B_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(le||(le={}));const H_={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},G_=le.INFO,Y_={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},Q_=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Y_[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qm{constructor(e){this.name=e,this._logLevel=G_,this._logHandler=Q_,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?H_[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}}const K_=(t,e)=>e.some(n=>t instanceof n);let Ff,zf;function q_(){return Ff||(Ff=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function X_(){return zf||(zf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Xm=new WeakMap,Ec=new WeakMap,Jm=new WeakMap,ga=new WeakMap,Lu=new WeakMap;function J_(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Pn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Xm.set(n,t)}).catch(()=>{}),Lu.set(e,t),e}function Z_(t){if(Ec.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ec.set(t,e)}let kc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ec.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Jm.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ex(t){kc=t(kc)}function tx(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ya(this),e,...n);return Jm.set(r,e.sort?e.sort():[e]),Pn(r)}:X_().includes(t)?function(...e){return t.apply(ya(this),e),Pn(Xm.get(this))}:function(...e){return Pn(t.apply(ya(this),e))}}function nx(t){return typeof t=="function"?tx(t):(t instanceof IDBTransaction&&Z_(t),K_(t,q_())?new Proxy(t,kc):t)}function Pn(t){if(t instanceof IDBRequest)return J_(t);if(ga.has(t))return ga.get(t);const e=nx(t);return e!==t&&(ga.set(t,e),Lu.set(e,t)),e}const ya=t=>Lu.get(t);function rx(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),c=Pn(o);return r&&o.addEventListener("upgradeneeded",a=>{r(Pn(o.result),a.oldVersion,a.newVersion,Pn(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),c.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),c}const ix=["get","getKey","getAll","getAllKeys","count"],sx=["put","add","delete","clear"],va=new Map;function Wf(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(va.get(e))return va.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=sx.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ix.includes(n)))return;const s=async function(o,...c){const a=this.transaction(o,i?"readwrite":"readonly");let u=a.store;return r&&(u=u.index(c.shift())),(await Promise.all([u[n](...c),i&&a.done]))[0]};return va.set(e,s),s}ex(t=>({...t,get:(e,n,r)=>Wf(e,n)||t.get(e,n,r),has:(e,n)=>!!Wf(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(lx(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function lx(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Nc="@firebase/app",Bf="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln=new qm("@firebase/app"),ax="@firebase/app-compat",cx="@firebase/analytics-compat",ux="@firebase/analytics",dx="@firebase/app-check-compat",fx="@firebase/app-check",hx="@firebase/auth",px="@firebase/auth-compat",mx="@firebase/database",gx="@firebase/data-connect",yx="@firebase/database-compat",vx="@firebase/functions",_x="@firebase/functions-compat",xx="@firebase/installations",wx="@firebase/installations-compat",Sx="@firebase/messaging",Cx="@firebase/messaging-compat",Ex="@firebase/performance",kx="@firebase/performance-compat",Nx="@firebase/remote-config",Tx="@firebase/remote-config-compat",bx="@firebase/storage",Ix="@firebase/storage-compat",Px="@firebase/firestore",jx="@firebase/vertexai-preview",Rx="@firebase/firestore-compat",Ax="firebase",Dx="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc="[DEFAULT]",Ox={[Nc]:"fire-core",[ax]:"fire-core-compat",[ux]:"fire-analytics",[cx]:"fire-analytics-compat",[fx]:"fire-app-check",[dx]:"fire-app-check-compat",[hx]:"fire-auth",[px]:"fire-auth-compat",[mx]:"fire-rtdb",[gx]:"fire-data-connect",[yx]:"fire-rtdb-compat",[vx]:"fire-fn",[_x]:"fire-fn-compat",[xx]:"fire-iid",[wx]:"fire-iid-compat",[Sx]:"fire-fcm",[Cx]:"fire-fcm-compat",[Ex]:"fire-perf",[kx]:"fire-perf-compat",[Nx]:"fire-rc",[Tx]:"fire-rc-compat",[bx]:"fire-gcs",[Ix]:"fire-gcs-compat",[Px]:"fire-fst",[Rx]:"fire-fst-compat",[jx]:"fire-vertex","fire-js":"fire-js",[Ax]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=new Map,Lx=new Map,bc=new Map;function Uf(t,e){try{t.container.addComponent(e)}catch(n){ln.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qo(t){const e=t.name;if(bc.has(e))return ln.debug(`There were multiple attempts to register component ${e}.`),!1;bc.set(e,t);for(const n of Ko.values())Uf(n,t);for(const n of Lx.values())Uf(n,t);return!0}function Mx(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jn=new Qm("app","Firebase",Fx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx=Dx;function Zm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Tc,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw jn.create("bad-app-name",{appName:String(i)});if(n||(n=Gm()),!n)throw jn.create("no-options");const s=Ko.get(i);if(s){if(Cc(n,s.options)&&Cc(r,s.config))return s;throw jn.create("duplicate-app",{appName:i})}const o=new V_(i);for(const a of bc.values())o.addComponent(a);const c=new zx(n,r,o);return Ko.set(i,c),c}function Bx(t=Tc){const e=Ko.get(t);if(!e&&t===Tc&&Gm())return Zm();if(!e)throw jn.create("no-app",{appName:t});return e}function Ur(t,e,n){var r;let i=(r=Ox[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ln.warn(c.join(" "));return}qo(new gs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux="firebase-heartbeat-database",$x=1,ys="firebase-heartbeat-store";let _a=null;function eg(){return _a||(_a=rx(Ux,$x,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ys)}catch(n){console.warn(n)}}}}).catch(t=>{throw jn.create("idb-open",{originalErrorMessage:t.message})})),_a}async function Vx(t){try{const n=(await eg()).transaction(ys),r=await n.objectStore(ys).get(tg(t));return await n.done,r}catch(e){if(e instanceof Rs)ln.warn(e.message);else{const n=jn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ln.warn(n.message)}}}async function $f(t,e){try{const r=(await eg()).transaction(ys,"readwrite");await r.objectStore(ys).put(e,tg(t)),await r.done}catch(n){if(n instanceof Rs)ln.warn(n.message);else{const r=jn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ln.warn(r.message)}}}function tg(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx=1024,Gx=30*24*60*60*1e3;class Yx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Kx(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Vf();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const c=new Date(o.date).valueOf();return Date.now()-c<=Gx}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ln.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Vf(),{heartbeatsToSend:r,unsentEntries:i}=Qx(this._heartbeatsCache.heartbeats),s=Yo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ln.warn(n),""}}}function Vf(){return new Date().toISOString().substring(0,10)}function Qx(t,e=Hx){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Hf(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Hf(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Kx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return j_()?R_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Vx(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return $f(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return $f(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Hf(t){return Yo(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(t){qo(new gs("platform-logger",e=>new ox(e),"PRIVATE")),qo(new gs("heartbeat",e=>new Yx(e),"PRIVATE")),Ur(Nc,Bf,t),Ur(Nc,Bf,"esm2017"),Ur("fire-js","")}qx("");var Xx="firebase",Jx="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ur(Xx,Jx,"app");var Gf={};const Yf="@firebase/database",Qf="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ng="";function Zx(t){ng=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ae(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:ms(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return un(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new ew(e)}}catch{}return new tw},Xn=rg("localStorage"),nw=rg("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r=new qm("@firebase/database"),rw=function(){let t=1;return function(){return t++}}(),ig=function(t){const e=W_(t),n=new z_;n.update(e);const r=n.digest();return Du.encodeByteArray(r)},As=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=As.apply(null,r):typeof r=="object"?e+=Ae(r):e+=r,e+=" "}return e};let Yi=null,Kf=!0;const iw=function(t,e){D(!0,"Can't turn on custom loggers persistently."),$r.logLevel=le.VERBOSE,Yi=$r.log.bind($r)},Ke=function(...t){if(Kf===!0&&(Kf=!1,Yi===null&&nw.get("logging_enabled")===!0&&iw()),Yi){const e=As.apply(null,t);Yi(e)}},Ds=function(t){return function(...e){Ke(t,...e)}},Ic=function(...t){const e="FIREBASE INTERNAL ERROR: "+As(...t);$r.error(e)},an=function(...t){const e=`FIREBASE FATAL ERROR: ${As(...t)}`;throw $r.error(e),new Error(e)},at=function(...t){const e="FIREBASE WARNING: "+As(...t);$r.warn(e)},sw=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&at("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},sg=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},ow=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Zr="[MIN_NAME]",or="[MAX_NAME]",oi=function(t,e){if(t===e)return 0;if(t===Zr||e===or)return-1;if(e===Zr||t===or)return 1;{const n=qf(t),r=qf(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},lw=function(t,e){return t===e?0:t<e?-1:1},Ii=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ae(e))},Mu=function(t){if(typeof t!="object"||t===null)return Ae(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Ae(e[r]),n+=":",n+=Mu(t[e[r]]);return n+="}",n},og=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function ct(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const lg=function(t){D(!sg(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,c,a;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=c+r,o=Math.round(t*Math.pow(2,n-c)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(a=n;a;a-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(a=e;a;a-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const p=u.join("");let h="";for(a=0;a<64;a+=8){let f=parseInt(p.substr(a,8),2).toString(16);f.length===1&&(f="0"+f),h=h+f}return h.toLowerCase()},aw=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},cw=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function uw(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const dw=new RegExp("^-?(0*)\\d{1,10}$"),fw=-2147483648,hw=2147483647,qf=function(t){if(dw.test(t)){const e=Number(t);if(e>=fw&&e<=hw)return e}return null},li=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw at("Exception was thrown by user callback.",n),e},Math.floor(0))}},pw=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Qi=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){at(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ke("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',at(e)}}class So{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}So.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fu="5",ag="v",cg="s",ug="r",dg="f",fg=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,hg="ls",pg="p",Pc="ac",mg="websocket",gg="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,n,r,i,s=!1,o="",c=!1,a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Xn.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Xn.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function yw(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function vg(t,e,n){D(typeof e=="string","typeof type must == string"),D(typeof n=="object","typeof params must == object");let r;if(e===mg)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===gg)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);yw(t)&&(n.ns=t.namespace);const i=[];return ct(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(){this.counters_={}}incrementCounter(e,n=1){un(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return __(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa={},wa={};function zu(t){const e=t.toString();return xa[e]||(xa[e]=new vw),xa[e]}function _w(t,e){const n=t.toString();return wa[n]||(wa[n]=e()),wa[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&li(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xf="start",ww="close",Sw="pLPCommand",Cw="pRTLPCB",_g="id",xg="pw",wg="ser",Ew="cb",kw="seg",Nw="ts",Tw="d",bw="dframe",Sg=1870,Cg=30,Iw=Sg-Cg,Pw=25e3,jw=3e4;class Or{constructor(e,n,r,i,s,o,c){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ds(e),this.stats_=zu(n),this.urlFn=a=>(this.appCheckToken&&(a[Pc]=this.appCheckToken),vg(n,gg,a))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new xw(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(jw)),ow(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Wu((...s)=>{const[o,c,a,u,p]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Xf)this.id=c,this.password=a;else if(o===ww)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,c]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,c)},()=>{this.onClosed_()},this.urlFn);const r={};r[Xf]="t",r[wg]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Ew]=this.scriptTagHolder.uniqueCallbackIdentifier),r[ag]=Fu,this.transportSessionId&&(r[cg]=this.transportSessionId),this.lastSessionId&&(r[hg]=this.lastSessionId),this.applicationId&&(r[pg]=this.applicationId),this.appCheckToken&&(r[Pc]=this.appCheckToken),typeof location<"u"&&location.hostname&&fg.test(location.hostname)&&(r[ug]=dg);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Or.forceAllow_=!0}static forceDisallow(){Or.forceDisallow_=!0}static isAvailable(){return Or.forceAllow_?!0:!Or.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!aw()&&!cw()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ae(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=$m(n),i=og(r,Iw);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[bw]="t",r[_g]=e,r[xg]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ae(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Wu{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=rw(),window[Sw+this.uniqueCallbackIdentifier]=e,window[Cw+this.uniqueCallbackIdentifier]=n,this.myIFrame=Wu.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(c){Ke("frame writing exception"),c.stack&&Ke(c.stack),Ke(c)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ke("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[_g]=this.myID,e[xg]=this.myPW,e[wg]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Cg+r.length<=Sg;){const o=this.pendingSegs.shift();r=r+"&"+kw+i+"="+o.seg+"&"+Nw+i+"="+o.ts+"&"+Tw+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Pw)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ke("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw=16384,Aw=45e3;let Xo=null;typeof MozWebSocket<"u"?Xo=MozWebSocket:typeof WebSocket<"u"&&(Xo=WebSocket);class Pt{constructor(e,n,r,i,s,o,c){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ds(this.connId),this.stats_=zu(n),this.connURL=Pt.connectionURL_(n,o,c,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[ag]=Fu,typeof location<"u"&&location.hostname&&fg.test(location.hostname)&&(o[ug]=dg),n&&(o[cg]=n),r&&(o[hg]=r),i&&(o[Pc]=i),s&&(o[pg]=s),vg(e,mg,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Xn.set("previous_websocket_failure",!0);try{let r;P_(),this.mySock=new Xo(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Pt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Xo!==null&&!Pt.forceDisallow_}static previouslyFailed(){return Xn.isInMemoryStorage||Xn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Xn.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=ms(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(D(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Ae(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=og(n,Rw);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Aw))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Pt.responsesRequiredToBeHealthy=2;Pt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Or,Pt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Pt&&Pt.isAvailable();let r=n&&!Pt.previouslyFailed();if(e.webSocketOnly&&(n||at("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Pt];else{const i=this.transports_=[];for(const s of vs.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);vs.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}vs.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=6e4,Ow=5e3,Lw=10*1024,Mw=100*1024,Sa="t",Jf="d",Fw="s",Zf="r",zw="e",eh="o",th="a",nh="n",rh="p",Ww="h";class Bw{constructor(e,n,r,i,s,o,c,a,u,p){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=c,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ds("c:"+this.id+":"),this.transportManager_=new vs(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Qi(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Mw?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Lw?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Sa in e){const n=e[Sa];n===th?this.upgradeIfSecondaryHealthy_():n===Zf?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===eh&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Ii("t",e),r=Ii("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:rh,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:th,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:nh,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Ii("t",e),r=Ii("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Ii(Sa,e);if(Jf in e){const r=e[Jf];if(n===Ww){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===nh){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Fw?this.onConnectionShutdown_(r):n===Zf?this.onReset_(r):n===zw?Ic("Server Error: "+r):n===eh?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ic("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Fu!==r&&at("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Qi(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Dw))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Qi(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Ow))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:rh,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Xn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e){this.allowedEvents_=e,this.listeners_={},D(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){D(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo extends kg{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Ym()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Jo}getInitialEvent(e){return D(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=32,sh=768;class oe{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ie(){return new oe("")}function Q(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ln(t){return t.pieces_.length-t.pieceNum_}function ae(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new oe(t.pieces_,e)}function Ng(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Uw(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Tg(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function bg(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new oe(e,0)}function De(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof oe)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new oe(n,0)}function q(t){return t.pieceNum_>=t.pieces_.length}function Je(t,e){const n=Q(t),r=Q(e);if(n===null)return e;if(n===r)return Je(ae(t),ae(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Bu(t,e){if(Ln(t)!==Ln(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function jt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Ln(t)>Ln(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class $w{constructor(e,n){this.errorPrefix_=n,this.parts_=Tg(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Tl(this.parts_[r]);Ig(this)}}function Vw(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Tl(e),Ig(t)}function Hw(t){const e=t.parts_.pop();t.byteLength_-=Tl(e),t.parts_.length>0&&(t.byteLength_-=1)}function Ig(t){if(t.byteLength_>sh)throw new Error(t.errorPrefix_+"has a key path longer than "+sh+" bytes ("+t.byteLength_+").");if(t.parts_.length>ih)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ih+") or object contains a cycle "+Yn(t))}function Yn(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu extends kg{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Uu}getInitialEvent(e){return D(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi=1e3,Gw=60*5*1e3,oh=30*1e3,Yw=1.3,Qw=3e4,Kw="server_kill",lh=3;class tn extends Eg{constructor(e,n,r,i,s,o,c,a){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=c,this.authOverride_=a,this.id=tn.nextPersistentConnectionId_++,this.log_=Ds("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Pi,this.maxReconnectDelay_=Gw,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Uu.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Jo.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Ae(s)),D(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Nl,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const c=o.d;o.s==="ok"?n.resolve(c):n.reject(c)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),D(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),D(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const c={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,c=>{const a=c.d,u=c.s;tn.warnOnListenWarnings_(a,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",c),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,a))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&un(e,"w")){const r=Jr(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();at(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||M_(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=oh)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=L_(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),D(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ae(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Ic("Unrecognized action received from server: "+Ae(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){D(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Pi,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Pi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Qw&&(this.reconnectDelay_=Pi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Yw)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+tn.nextConnectionId_++,s=this.lastSessionId;let o=!1,c=null;const a=function(){c?c.close():(o=!0,r())},u=function(h){D(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(h)};this.realtime_={close:a,sendRequest:u};const p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,f]=await Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)]);o?Ke("getToken() completed but was canceled"):(Ke("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,c=new Bw(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,_=>{at(_+" ("+this.repoInfo_.toString()+")"),this.interrupt(Kw)},s))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&at(h),a())}}}interrupt(e){Ke("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ke("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Lf(this.interruptReasons_)&&(this.reconnectDelay_=Pi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>Mu(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new oe(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Ke("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=lh&&(this.reconnectDelay_=oh,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Ke("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=lh&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+ng.replace(/\./g,"-")]=1,Ym()?e["framework.cordova"]=1:I_()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Jo.getInstance().currentlyOnline();return Lf(this.interruptReasons_)&&e}}tn.nextPersistentConnectionId_=0;tn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new K(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new K(Zr,e),i=new K(Zr,n);return this.compare(r,i)!==0}minPost(){return K.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lo;class Pg extends bl{static get __EMPTY_NODE(){return lo}static set __EMPTY_NODE(e){lo=e}compare(e,n){return oi(e.name,n.name)}isDefinedOn(e){throw si("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return K.MIN}maxPost(){return new K(or,lo)}makePost(e,n){return D(typeof e=="string","KeyIndex indexValue must always be a string."),new K(e,lo)}toString(){return".key"}}const Vr=new Pg;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class We{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??We.RED,this.left=i??it.EMPTY_NODE,this.right=s??it.EMPTY_NODE}copy(e,n,r,i,s){return new We(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return it.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return it.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}We.RED=!0;We.BLACK=!1;class qw{copy(e,n,r,i,s){return this}insert(e,n,r){return new We(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class it{constructor(e,n=it.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new it(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,We.BLACK,null,null))}remove(e){return new it(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,We.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ao(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new ao(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new ao(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new ao(this.root_,null,this.comparator_,!0,e)}}it.EMPTY_NODE=new qw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(t,e){return oi(t.name,e.name)}function $u(t,e){return oi(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jc;function Jw(t){jc=t}const jg=function(t){return typeof t=="number"?"number:"+lg(t):"string:"+t},Rg=function(t){if(t.isLeafNode()){const e=t.val();D(typeof e=="string"||typeof e=="number"||typeof e=="object"&&un(e,".sv"),"Priority must be a string or number.")}else D(t===jc||t.isEmpty(),"priority of unexpected type.");D(t===jc||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ah;class Fe{constructor(e,n=Fe.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,D(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Rg(this.priorityNode_)}static set __childrenNodeConstructor(e){ah=e}static get __childrenNodeConstructor(){return ah}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Fe(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Fe.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return q(e)?this:Q(e)===".priority"?this.priorityNode_:Fe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Fe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Q(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(D(r!==".priority"||Ln(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Fe.__childrenNodeConstructor.EMPTY_NODE.updateChild(ae(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+jg(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=lg(this.value_):e+=this.value_,this.lazyHash_=ig(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Fe.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Fe.__childrenNodeConstructor?-1:(D(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Fe.VALUE_TYPE_ORDER.indexOf(n),s=Fe.VALUE_TYPE_ORDER.indexOf(r);return D(i>=0,"Unknown leaf type: "+n),D(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Fe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ag,Dg;function Zw(t){Ag=t}function eS(t){Dg=t}class tS extends bl{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?oi(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return K.MIN}maxPost(){return new K(or,new Fe("[PRIORITY-POST]",Dg))}makePost(e,n){const r=Ag(e);return new K(n,new Fe("[PRIORITY-POST]",r))}toString(){return".priority"}}const ke=new tS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS=Math.log(2);class rS{constructor(e){const n=s=>parseInt(Math.log(s)/nS,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Zo=function(t,e,n,r){t.sort(e);const i=function(a,u){const p=u-a;let h,f;if(p===0)return null;if(p===1)return h=t[a],f=n?n(h):h,new We(f,h.node,We.BLACK,null,null);{const _=parseInt(p/2,10)+a,C=i(a,_),w=i(_+1,u);return h=t[_],f=n?n(h):h,new We(f,h.node,We.BLACK,C,w)}},s=function(a){let u=null,p=null,h=t.length;const f=function(C,w){const S=h-C,g=h;h-=C;const m=i(S+1,g),x=t[S],k=n?n(x):x;_(new We(k,x.node,w,null,m))},_=function(C){u?(u.left=C,u=C):(p=C,u=C)};for(let C=0;C<a.count;++C){const w=a.nextBitIsOne(),S=Math.pow(2,a.count-(C+1));w?f(S,We.BLACK):(f(S,We.BLACK),f(S,We.RED))}return p},o=new rS(t.length),c=s(o);return new it(r||e,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ca;const Sr={};class Zt{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return D(Sr&&ke,"ChildrenNode.ts has not been loaded"),Ca=Ca||new Zt({".priority":Sr},{".priority":ke}),Ca}get(e){const n=Jr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof it?n:null}hasIndex(e){return un(this.indexSet_,e.toString())}addIndex(e,n){D(e!==Vr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(K.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let c;i?c=Zo(r,e.getCompare()):c=Sr;const a=e.toString(),u=Object.assign({},this.indexSet_);u[a]=e;const p=Object.assign({},this.indexes_);return p[a]=c,new Zt(p,u)}addToIndexes(e,n){const r=Qo(this.indexes_,(i,s)=>{const o=Jr(this.indexSet_,s);if(D(o,"Missing index implementation for "+s),i===Sr)if(o.isDefinedOn(e.node)){const c=[],a=n.getIterator(K.Wrap);let u=a.getNext();for(;u;)u.name!==e.name&&c.push(u),u=a.getNext();return c.push(e),Zo(c,o.getCompare())}else return Sr;else{const c=n.get(e.name);let a=i;return c&&(a=a.remove(new K(e.name,c))),a.insert(e,e.node)}});return new Zt(r,this.indexSet_)}removeFromIndexes(e,n){const r=Qo(this.indexes_,i=>{if(i===Sr)return i;{const s=n.get(e.name);return s?i.remove(new K(e.name,s)):i}});return new Zt(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ji;class H{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Rg(this.priorityNode_),this.children_.isEmpty()&&D(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ji||(ji=new H(new it($u),null,Zt.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ji}updatePriority(e){return this.children_.isEmpty()?this:new H(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?ji:n}}getChild(e){const n=Q(e);return n===null?this:this.getImmediateChild(n).getChild(ae(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(D(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new K(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?ji:this.priorityNode_;return new H(i,o,s)}}updateChild(e,n){const r=Q(e);if(r===null)return n;{D(Q(e)!==".priority"||Ln(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(ae(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(ke,(o,c)=>{n[o]=c.val(e),r++,s&&H.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const c in n)o[c]=n[c];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+jg(this.getPriority().val())+":"),this.forEachChild(ke,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":ig(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new K(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new K(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new K(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,K.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,K.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Os?-1:0}withIndex(e){if(e===Vr||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new H(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Vr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(ke),i=n.getIterator(ke);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Vr?null:this.indexMap_.get(e.toString())}}H.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class iS extends H{constructor(){super(new it($u),H.EMPTY_NODE,Zt.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return H.EMPTY_NODE}isEmpty(){return!1}}const Os=new iS;Object.defineProperties(K,{MIN:{value:new K(Zr,H.EMPTY_NODE)},MAX:{value:new K(or,Os)}});Pg.__EMPTY_NODE=H.EMPTY_NODE;Fe.__childrenNodeConstructor=H;Jw(Os);eS(Os);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS=!0;function Be(t,e=null){if(t===null)return H.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),D(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Fe(n,Be(e))}if(!(t instanceof Array)&&sS){const n=[];let r=!1;if(ct(t,(o,c)=>{if(o.substring(0,1)!=="."){const a=Be(c);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new K(o,a)))}}),n.length===0)return H.EMPTY_NODE;const s=Zo(n,Xw,o=>o.name,$u);if(r){const o=Zo(n,ke.getCompare());return new H(s,Be(e),new Zt({".priority":o},{".priority":ke}))}else return new H(s,Be(e),Zt.Default)}else{let n=H.EMPTY_NODE;return ct(t,(r,i)=>{if(un(t,r)&&r.substring(0,1)!=="."){const s=Be(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Be(e))}}Zw(Be);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS extends bl{constructor(e){super(),this.indexPath_=e,D(!q(e)&&Q(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?oi(e.name,n.name):s}makePost(e,n){const r=Be(e),i=H.EMPTY_NODE.updateChild(this.indexPath_,r);return new K(n,i)}maxPost(){const e=H.EMPTY_NODE.updateChild(this.indexPath_,Os);return new K(or,e)}toString(){return Tg(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS extends bl{compare(e,n){const r=e.node.compareTo(n.node);return r===0?oi(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return K.MIN}maxPost(){return K.MAX}makePost(e,n){const r=Be(e);return new K(n,r)}toString(){return".value"}}const aS=new lS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(t){return{type:"value",snapshotNode:t}}function ei(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function _s(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function xs(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function cS(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){D(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const c=e.getImmediateChild(n);return c.getChild(i).equals(r.getChild(i))&&c.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(_s(n,c)):D(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?o.trackChildChange(ei(n,r)):o.trackChildChange(xs(n,r,c))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(ke,(i,s)=>{n.hasChild(i)||r.trackChildChange(_s(i,s))}),n.isLeafNode()||n.forEachChild(ke,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(xs(i,s,o))}else r.trackChildChange(ei(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?H.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e){this.indexedFilter_=new Vu(e.getIndex()),this.index_=e.getIndex(),this.startPost_=ws.getStartPost_(e),this.endPost_=ws.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new K(n,r))||(r=H.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=H.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(H.EMPTY_NODE);const s=this;return n.forEachChild(ke,(o,c)=>{s.matches(new K(o,c))||(i=i.updateImmediateChild(o,H.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new ws(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new K(n,r))||(r=H.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=H.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=H.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const c=s.getNext();if(this.withinDirectionalStart(c))if(this.withinDirectionalEnd(c))i=i.updateImmediateChild(c.name,c.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(H.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const c=s.getNext();o<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?o++:i=i.updateImmediateChild(c.name,H.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const h=this.index_.getCompare();o=(f,_)=>h(_,f)}else o=this.index_.getCompare();const c=e;D(c.numChildren()===this.limit_,"");const a=new K(n,r),u=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),p=this.rangedFilter_.matches(a);if(c.hasChild(n)){const h=c.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,u,this.reverse_);for(;f!=null&&(f.name===n||c.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const _=f==null?1:o(f,a);if(p&&!r.isEmpty()&&_>=0)return s!=null&&s.trackChildChange(xs(n,r,h)),c.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(_s(n,h));const w=c.updateImmediateChild(n,H.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s!=null&&s.trackChildChange(ei(f.name,f.node)),w.updateImmediateChild(f.name,f.node)):w}}else return r.isEmpty()?e:p&&o(u,a)>=0?(s!=null&&(s.trackChildChange(_s(u.name,u.node)),s.trackChildChange(ei(n,r))),c.updateImmediateChild(n,r).updateImmediateChild(u.name,H.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ke}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return D(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return D(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Zr}hasEnd(){return this.endSet_}getIndexEndValue(){return D(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return D(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:or}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return D(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ke}copy(){const e=new Hu;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function dS(t){return t.loadsAllData()?new Vu(t.getIndex()):t.hasLimit()?new uS(t):new ws(t)}function ch(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ke?n="$priority":t.index_===aS?n="$value":t.index_===Vr?n="$key":(D(t.index_ instanceof oS,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ae(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Ae(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Ae(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Ae(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Ae(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function uh(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ke&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el extends Eg{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Ds("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(D(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=el.getListenId_(e,r),c={};this.listens_[o]=c;const a=ch(e._queryParams);this.restRequest_(s+".json",a,(u,p)=>{let h=p;if(u===404&&(h=null,u=null),u===null&&this.onDataUpdate_(s,h,!1,r),Jr(this.listens_,o)===c){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",i(f,null)}})}unlisten(e,n){const r=el.getListenId_(e,n);delete this.listens_[r]}get(e){const n=ch(e._queryParams),r=e._path.toString(),i=new Nl;return this.restRequest_(r+".json",n,(s,o)=>{let c=o;s===404&&(c=null,s=null),s===null?(this.onDataUpdate_(r,c,!1,null),i.resolve(c)):i.reject(new Error(c))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+F_(n);this.log_("Sending REST request for "+o);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(r&&c.readyState===4){this.log_("REST Response for "+o+" received. status:",c.status,"response:",c.responseText);let a=null;if(c.status>=200&&c.status<300){try{a=ms(c.responseText)}catch{at("Failed to parse JSON response for "+o+": "+c.responseText)}r(null,a)}else c.status!==401&&c.status!==404&&at("Got unsuccessful REST response for "+o+" Status: "+c.status),r(c.status);r=null}},c.open("GET",o,!0),c.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(){this.rootNode_=H.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tl(){return{value:null,children:new Map}}function Lg(t,e,n){if(q(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Q(e);t.children.has(r)||t.children.set(r,tl());const i=t.children.get(r);e=ae(e),Lg(i,e,n)}}function Rc(t,e,n){t.value!==null?n(e,t.value):hS(t,(r,i)=>{const s=new oe(e.toString()+"/"+r);Rc(i,s,n)})}function hS(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&ct(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=10*1e3,mS=30*1e3,gS=5*60*1e3;class yS{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new pS(e);const r=dh+(mS-dh)*Math.random();Qi(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;ct(e,(i,s)=>{s>0&&un(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Qi(this.reportStats_.bind(this),Math.floor(Math.random()*2*gS))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Rt||(Rt={}));function Mg(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Gu(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Yu(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Rt.ACK_USER_WRITE,this.source=Mg()}operationForChild(e){if(q(this.path)){if(this.affectedTree.value!=null)return D(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new oe(e));return new nl(ie(),n,this.revert)}}else return D(Q(this.path)===e,"operationForChild called for unrelated child."),new nl(ae(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,n){this.source=e,this.path=n,this.type=Rt.LISTEN_COMPLETE}operationForChild(e){return q(this.path)?new Ss(this.source,ie()):new Ss(this.source,ae(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Rt.OVERWRITE}operationForChild(e){return q(this.path)?new lr(this.source,ie(),this.snap.getImmediateChild(e)):new lr(this.source,ae(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Rt.MERGE}operationForChild(e){if(q(this.path)){const n=this.children.subtree(new oe(e));return n.isEmpty()?null:n.value?new lr(this.source,ie(),n.value):new Cs(this.source,ie(),n)}else return D(Q(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Cs(this.source,ae(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(q(e))return this.isFullyInitialized()&&!this.filtered_;const n=Q(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function _S(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(cS(o.childName,o.snapshotNode))}),Ri(t,i,"child_removed",e,r,n),Ri(t,i,"child_added",e,r,n),Ri(t,i,"child_moved",s,r,n),Ri(t,i,"child_changed",e,r,n),Ri(t,i,"value",e,r,n),i}function Ri(t,e,n,r,i,s){const o=r.filter(c=>c.type===n);o.sort((c,a)=>wS(t,c,a)),o.forEach(c=>{const a=xS(t,c,s);i.forEach(u=>{u.respondsTo(c.type)&&e.push(u.createEvent(a,t.query_))})})}function xS(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function wS(t,e,n){if(e.childName==null||n.childName==null)throw si("Should only compare child_ events.");const r=new K(e.childName,e.snapshotNode),i=new K(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(t,e){return{eventCache:t,serverCache:e}}function Ki(t,e,n,r){return Il(new Mn(e,n,r),t.serverCache)}function Fg(t,e,n,r){return Il(t.eventCache,new Mn(e,n,r))}function rl(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ar(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ea;const SS=()=>(Ea||(Ea=new it(lw)),Ea);class pe{constructor(e,n=SS()){this.value=e,this.children=n}static fromObject(e){let n=new pe(null);return ct(e,(r,i)=>{n=n.set(new oe(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ie(),value:this.value};if(q(e))return null;{const r=Q(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(ae(e),n);return s!=null?{path:De(new oe(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(q(e))return this;{const n=Q(e),r=this.children.get(n);return r!==null?r.subtree(ae(e)):new pe(null)}}set(e,n){if(q(e))return new pe(n,this.children);{const r=Q(e),s=(this.children.get(r)||new pe(null)).set(ae(e),n),o=this.children.insert(r,s);return new pe(this.value,o)}}remove(e){if(q(e))return this.children.isEmpty()?new pe(null):new pe(null,this.children);{const n=Q(e),r=this.children.get(n);if(r){const i=r.remove(ae(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new pe(null):new pe(this.value,s)}else return this}}get(e){if(q(e))return this.value;{const n=Q(e),r=this.children.get(n);return r?r.get(ae(e)):null}}setTree(e,n){if(q(e))return n;{const r=Q(e),s=(this.children.get(r)||new pe(null)).setTree(ae(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new pe(this.value,o)}}fold(e){return this.fold_(ie(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(De(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ie(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(q(e))return null;{const s=Q(e),o=this.children.get(s);return o?o.findOnPath_(ae(e),De(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ie(),n)}foreachOnPath_(e,n,r){if(q(e))return this;{this.value&&r(n,this.value);const i=Q(e),s=this.children.get(i);return s?s.foreachOnPath_(ae(e),De(n,i),r):new pe(null)}}foreach(e){this.foreach_(ie(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(De(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.writeTree_=e}static empty(){return new Ot(new pe(null))}}function qi(t,e,n){if(q(e))return new Ot(new pe(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Je(i,e);return s=s.updateChild(o,n),new Ot(t.writeTree_.set(i,s))}else{const i=new pe(n),s=t.writeTree_.setTree(e,i);return new Ot(s)}}}function fh(t,e,n){let r=t;return ct(n,(i,s)=>{r=qi(r,De(e,i),s)}),r}function hh(t,e){if(q(e))return Ot.empty();{const n=t.writeTree_.setTree(e,new pe(null));return new Ot(n)}}function Ac(t,e){return fr(t,e)!=null}function fr(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Je(n.path,e)):null}function ph(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ke,(r,i)=>{e.push(new K(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new K(r,i.value))}),e}function Rn(t,e){if(q(e))return t;{const n=fr(t,e);return n!=null?new Ot(new pe(n)):new Ot(t.writeTree_.subtree(e))}}function Dc(t){return t.writeTree_.isEmpty()}function ti(t,e){return zg(ie(),t.writeTree_,e)}function zg(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(D(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=zg(De(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(De(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(t,e){return $g(e,t)}function CS(t,e,n,r,i){D(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=qi(t.visibleWrites,e,n)),t.lastWriteId=r}function ES(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function kS(t,e){const n=t.allWrites.findIndex(c=>c.writeId===e);D(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const c=t.allWrites[o];c.visible&&(o>=n&&NS(c,r.path)?i=!1:jt(r.path,c.path)&&(s=!0)),o--}if(i){if(s)return TS(t),!0;if(r.snap)t.visibleWrites=hh(t.visibleWrites,r.path);else{const c=r.children;ct(c,a=>{t.visibleWrites=hh(t.visibleWrites,De(r.path,a))})}return!0}else return!1}function NS(t,e){if(t.snap)return jt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&jt(De(t.path,n),e))return!0;return!1}function TS(t){t.visibleWrites=Wg(t.allWrites,bS,ie()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function bS(t){return t.visible}function Wg(t,e,n){let r=Ot.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let c;if(s.snap)jt(n,o)?(c=Je(n,o),r=qi(r,c,s.snap)):jt(o,n)&&(c=Je(o,n),r=qi(r,ie(),s.snap.getChild(c)));else if(s.children){if(jt(n,o))c=Je(n,o),r=fh(r,c,s.children);else if(jt(o,n))if(c=Je(o,n),q(c))r=fh(r,ie(),s.children);else{const a=Jr(s.children,Q(c));if(a){const u=a.getChild(ae(c));r=qi(r,ie(),u)}}}else throw si("WriteRecord should have .snap or .children")}}return r}function Bg(t,e,n,r,i){if(!r&&!i){const s=fr(t.visibleWrites,e);if(s!=null)return s;{const o=Rn(t.visibleWrites,e);if(Dc(o))return n;if(n==null&&!Ac(o,ie()))return null;{const c=n||H.EMPTY_NODE;return ti(o,c)}}}else{const s=Rn(t.visibleWrites,e);if(!i&&Dc(s))return n;if(!i&&n==null&&!Ac(s,ie()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(jt(u.path,e)||jt(e,u.path))},c=Wg(t.allWrites,o,e),a=n||H.EMPTY_NODE;return ti(c,a)}}}function IS(t,e,n){let r=H.EMPTY_NODE;const i=fr(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ke,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Rn(t.visibleWrites,e);return n.forEachChild(ke,(o,c)=>{const a=ti(Rn(s,new oe(o)),c);r=r.updateImmediateChild(o,a)}),ph(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Rn(t.visibleWrites,e);return ph(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function PS(t,e,n,r,i){D(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=De(e,n);if(Ac(t.visibleWrites,s))return null;{const o=Rn(t.visibleWrites,s);return Dc(o)?i.getChild(n):ti(o,i.getChild(n))}}function jS(t,e,n,r){const i=De(e,n),s=fr(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Rn(t.visibleWrites,i);return ti(o,r.getNode().getImmediateChild(n))}else return null}function RS(t,e){return fr(t.visibleWrites,e)}function AS(t,e,n,r,i,s,o){let c;const a=Rn(t.visibleWrites,e),u=fr(a,ie());if(u!=null)c=u;else if(n!=null)c=ti(a,n);else return[];if(c=c.withIndex(o),!c.isEmpty()&&!c.isLeafNode()){const p=[],h=o.getCompare(),f=s?c.getReverseIteratorFrom(r,o):c.getIteratorFrom(r,o);let _=f.getNext();for(;_&&p.length<i;)h(_,r)!==0&&p.push(_),_=f.getNext();return p}else return[]}function DS(){return{visibleWrites:Ot.empty(),allWrites:[],lastWriteId:-1}}function il(t,e,n,r){return Bg(t.writeTree,t.treePath,e,n,r)}function Qu(t,e){return IS(t.writeTree,t.treePath,e)}function mh(t,e,n,r){return PS(t.writeTree,t.treePath,e,n,r)}function sl(t,e){return RS(t.writeTree,De(t.treePath,e))}function OS(t,e,n,r,i,s){return AS(t.writeTree,t.treePath,e,n,r,i,s)}function Ku(t,e,n){return jS(t.writeTree,t.treePath,e,n)}function Ug(t,e){return $g(De(t.treePath,e),t.writeTree)}function $g(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;D(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),D(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,xs(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,_s(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,ei(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,xs(r,e.snapshotNode,i.oldSnap));else throw si("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const Vg=new MS;class qu{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Mn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ku(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ar(this.viewCache_),s=OS(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(t){return{filter:t}}function zS(t,e){D(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),D(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function WS(t,e,n,r,i){const s=new LS;let o,c;if(n.type===Rt.OVERWRITE){const u=n;u.source.fromUser?o=Oc(t,e,u.path,u.snap,r,i,s):(D(u.source.fromServer,"Unknown source."),c=u.source.tagged||e.serverCache.isFiltered()&&!q(u.path),o=ol(t,e,u.path,u.snap,r,i,c,s))}else if(n.type===Rt.MERGE){const u=n;u.source.fromUser?o=US(t,e,u.path,u.children,r,i,s):(D(u.source.fromServer,"Unknown source."),c=u.source.tagged||e.serverCache.isFiltered(),o=Lc(t,e,u.path,u.children,r,i,c,s))}else if(n.type===Rt.ACK_USER_WRITE){const u=n;u.revert?o=HS(t,e,u.path,r,i,s):o=$S(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===Rt.LISTEN_COMPLETE)o=VS(t,e,n.path,r,s);else throw si("Unknown operation type: "+n.type);const a=s.getChanges();return BS(e,o,a),{viewCache:o,changes:a}}function BS(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=rl(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Og(rl(e)))}}function Hg(t,e,n,r,i,s){const o=e.eventCache;if(sl(r,n)!=null)return e;{let c,a;if(q(n))if(D(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=ar(e),p=u instanceof H?u:H.EMPTY_NODE,h=Qu(r,p);c=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const u=il(r,ar(e));c=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=Q(n);if(u===".priority"){D(Ln(n)===1,"Can't have a priority with additional path components");const p=o.getNode();a=e.serverCache.getNode();const h=mh(r,n,p,a);h!=null?c=t.filter.updatePriority(p,h):c=o.getNode()}else{const p=ae(n);let h;if(o.isCompleteForChild(u)){a=e.serverCache.getNode();const f=mh(r,n,o.getNode(),a);f!=null?h=o.getNode().getImmediateChild(u).updateChild(p,f):h=o.getNode().getImmediateChild(u)}else h=Ku(r,u,e.serverCache);h!=null?c=t.filter.updateChild(o.getNode(),u,h,p,i,s):c=o.getNode()}}return Ki(e,c,o.isFullyInitialized()||q(n),t.filter.filtersNodes())}}function ol(t,e,n,r,i,s,o,c){const a=e.serverCache;let u;const p=o?t.filter:t.filter.getIndexedFilter();if(q(n))u=p.updateFullNode(a.getNode(),r,null);else if(p.filtersNodes()&&!a.isFiltered()){const _=a.getNode().updateChild(n,r);u=p.updateFullNode(a.getNode(),_,null)}else{const _=Q(n);if(!a.isCompleteForPath(n)&&Ln(n)>1)return e;const C=ae(n),S=a.getNode().getImmediateChild(_).updateChild(C,r);_===".priority"?u=p.updatePriority(a.getNode(),S):u=p.updateChild(a.getNode(),_,S,C,Vg,null)}const h=Fg(e,u,a.isFullyInitialized()||q(n),p.filtersNodes()),f=new qu(i,h,s);return Hg(t,h,n,i,f,c)}function Oc(t,e,n,r,i,s,o){const c=e.eventCache;let a,u;const p=new qu(i,e,s);if(q(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),a=Ki(e,u,!0,t.filter.filtersNodes());else{const h=Q(n);if(h===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),a=Ki(e,u,c.isFullyInitialized(),c.isFiltered());else{const f=ae(n),_=c.getNode().getImmediateChild(h);let C;if(q(f))C=r;else{const w=p.getCompleteChild(h);w!=null?Ng(f)===".priority"&&w.getChild(bg(f)).isEmpty()?C=w:C=w.updateChild(f,r):C=H.EMPTY_NODE}if(_.equals(C))a=e;else{const w=t.filter.updateChild(c.getNode(),h,C,f,p,o);a=Ki(e,w,c.isFullyInitialized(),t.filter.filtersNodes())}}}return a}function gh(t,e){return t.eventCache.isCompleteForChild(e)}function US(t,e,n,r,i,s,o){let c=e;return r.foreach((a,u)=>{const p=De(n,a);gh(e,Q(p))&&(c=Oc(t,c,p,u,i,s,o))}),r.foreach((a,u)=>{const p=De(n,a);gh(e,Q(p))||(c=Oc(t,c,p,u,i,s,o))}),c}function yh(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Lc(t,e,n,r,i,s,o,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let a=e,u;q(n)?u=r:u=new pe(null).setTree(n,r);const p=e.serverCache.getNode();return u.children.inorderTraversal((h,f)=>{if(p.hasChild(h)){const _=e.serverCache.getNode().getImmediateChild(h),C=yh(t,_,f);a=ol(t,a,new oe(h),C,i,s,o,c)}}),u.children.inorderTraversal((h,f)=>{const _=!e.serverCache.isCompleteForChild(h)&&f.value===null;if(!p.hasChild(h)&&!_){const C=e.serverCache.getNode().getImmediateChild(h),w=yh(t,C,f);a=ol(t,a,new oe(h),w,i,s,o,c)}}),a}function $S(t,e,n,r,i,s,o){if(sl(i,n)!=null)return e;const c=e.serverCache.isFiltered(),a=e.serverCache;if(r.value!=null){if(q(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return ol(t,e,n,a.getNode().getChild(n),i,s,c,o);if(q(n)){let u=new pe(null);return a.getNode().forEachChild(Vr,(p,h)=>{u=u.set(new oe(p),h)}),Lc(t,e,n,u,i,s,c,o)}else return e}else{let u=new pe(null);return r.foreach((p,h)=>{const f=De(n,p);a.isCompleteForPath(f)&&(u=u.set(p,a.getNode().getChild(f)))}),Lc(t,e,n,u,i,s,c,o)}}function VS(t,e,n,r,i){const s=e.serverCache,o=Fg(e,s.getNode(),s.isFullyInitialized()||q(n),s.isFiltered());return Hg(t,o,n,r,Vg,i)}function HS(t,e,n,r,i,s){let o;if(sl(r,n)!=null)return e;{const c=new qu(r,e,i),a=e.eventCache.getNode();let u;if(q(n)||Q(n)===".priority"){let p;if(e.serverCache.isFullyInitialized())p=il(r,ar(e));else{const h=e.serverCache.getNode();D(h instanceof H,"serverChildren would be complete if leaf node"),p=Qu(r,h)}p=p,u=t.filter.updateFullNode(a,p,s)}else{const p=Q(n);let h=Ku(r,p,e.serverCache);h==null&&e.serverCache.isCompleteForChild(p)&&(h=a.getImmediateChild(p)),h!=null?u=t.filter.updateChild(a,p,h,ae(n),c,s):e.eventCache.getNode().hasChild(p)?u=t.filter.updateChild(a,p,H.EMPTY_NODE,ae(n),c,s):u=a,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=il(r,ar(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||sl(r,ie())!=null,Ki(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Vu(r.getIndex()),s=dS(r);this.processor_=FS(s);const o=n.serverCache,c=n.eventCache,a=i.updateFullNode(H.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(H.EMPTY_NODE,c.getNode(),null),p=new Mn(a,o.isFullyInitialized(),i.filtersNodes()),h=new Mn(u,c.isFullyInitialized(),s.filtersNodes());this.viewCache_=Il(h,p),this.eventGenerator_=new vS(this.query_)}get query(){return this.query_}}function YS(t){return t.viewCache_.serverCache.getNode()}function QS(t){return rl(t.viewCache_)}function KS(t,e){const n=ar(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!q(e)&&!n.getImmediateChild(Q(e)).isEmpty())?n.getChild(e):null}function vh(t){return t.eventRegistrations_.length===0}function qS(t,e){t.eventRegistrations_.push(e)}function _h(t,e,n){const r=[];if(n){D(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function xh(t,e,n,r){e.type===Rt.MERGE&&e.source.queryId!==null&&(D(ar(t.viewCache_),"We should always have a full cache before handling merges"),D(rl(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=WS(t.processor_,i,e,n,r);return zS(t.processor_,s.viewCache),D(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,Gg(t,s.changes,s.viewCache.eventCache.getNode(),null)}function XS(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ke,(s,o)=>{r.push(ei(s,o))}),n.isFullyInitialized()&&r.push(Og(n.getNode())),Gg(t,r,n.getNode(),e)}function Gg(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return _S(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ll;class Yg{constructor(){this.views=new Map}}function JS(t){D(!ll,"__referenceConstructor has already been defined"),ll=t}function ZS(){return D(ll,"Reference.ts has not been loaded"),ll}function e1(t){return t.views.size===0}function Xu(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return D(s!=null,"SyncTree gave us an op for an invalid query."),xh(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(xh(o,e,n,r));return s}}function Qg(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let c=il(n,i?r:null),a=!1;c?a=!0:r instanceof H?(c=Qu(n,r),a=!1):(c=H.EMPTY_NODE,a=!1);const u=Il(new Mn(c,a,!1),new Mn(r,i,!1));return new GS(e,u)}return o}function t1(t,e,n,r,i,s){const o=Qg(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),qS(o,n),XS(o,n)}function n1(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const c=Fn(t);if(i==="default")for(const[a,u]of t.views.entries())o=o.concat(_h(u,n,r)),vh(u)&&(t.views.delete(a),u.query._queryParams.loadsAllData()||s.push(u.query));else{const a=t.views.get(i);a&&(o=o.concat(_h(a,n,r)),vh(a)&&(t.views.delete(i),a.query._queryParams.loadsAllData()||s.push(a.query)))}return c&&!Fn(t)&&s.push(new(ZS())(e._repo,e._path)),{removed:s,events:o}}function Kg(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function An(t,e){let n=null;for(const r of t.views.values())n=n||KS(r,e);return n}function qg(t,e){if(e._queryParams.loadsAllData())return jl(t);{const r=e._queryIdentifier;return t.views.get(r)}}function Xg(t,e){return qg(t,e)!=null}function Fn(t){return jl(t)!=null}function jl(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let al;function r1(t){D(!al,"__referenceConstructor has already been defined"),al=t}function i1(){return D(al,"Reference.ts has not been loaded"),al}let s1=1;class wh{constructor(e){this.listenProvider_=e,this.syncPointTree_=new pe(null),this.pendingWriteTree_=DS(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Jg(t,e,n,r,i){return CS(t.pendingWriteTree_,e,n,r,i),i?Ms(t,new lr(Mg(),e,n)):[]}function Jn(t,e,n=!1){const r=ES(t.pendingWriteTree_,e);if(kS(t.pendingWriteTree_,e)){let s=new pe(null);return r.snap!=null?s=s.set(ie(),!0):ct(r.children,o=>{s=s.set(new oe(o),!0)}),Ms(t,new nl(r.path,s,n))}else return[]}function Ls(t,e,n){return Ms(t,new lr(Gu(),e,n))}function o1(t,e,n){const r=pe.fromObject(n);return Ms(t,new Cs(Gu(),e,r))}function l1(t,e){return Ms(t,new Ss(Gu(),e))}function a1(t,e,n){const r=Zu(t,n);if(r){const i=ed(r),s=i.path,o=i.queryId,c=Je(s,e),a=new Ss(Yu(o),c);return td(t,s,a)}else return[]}function cl(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let c=[];if(o&&(e._queryIdentifier==="default"||Xg(o,e))){const a=n1(o,e,n,r);e1(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=a.removed;if(c=a.events,!i){const p=u.findIndex(f=>f._queryParams.loadsAllData())!==-1,h=t.syncPointTree_.findOnPath(s,(f,_)=>Fn(_));if(p&&!h){const f=t.syncPointTree_.subtree(s);if(!f.isEmpty()){const _=d1(f);for(let C=0;C<_.length;++C){const w=_[C],S=w.query,g=ny(t,w);t.listenProvider_.startListening(Xi(S),Es(t,S),g.hashFn,g.onComplete)}}}!h&&u.length>0&&!r&&(p?t.listenProvider_.stopListening(Xi(e),null):u.forEach(f=>{const _=t.queryToTagMap.get(Rl(f));t.listenProvider_.stopListening(Xi(f),_)}))}f1(t,u)}return c}function Zg(t,e,n,r){const i=Zu(t,r);if(i!=null){const s=ed(i),o=s.path,c=s.queryId,a=Je(o,e),u=new lr(Yu(c),a,n);return td(t,o,u)}else return[]}function c1(t,e,n,r){const i=Zu(t,r);if(i){const s=ed(i),o=s.path,c=s.queryId,a=Je(o,e),u=pe.fromObject(n),p=new Cs(Yu(c),a,u);return td(t,o,p)}else return[]}function Mc(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(f,_)=>{const C=Je(f,i);s=s||An(_,C),o=o||Fn(_)});let c=t.syncPointTree_.get(i);c?(o=o||Fn(c),s=s||An(c,ie())):(c=new Yg,t.syncPointTree_=t.syncPointTree_.set(i,c));let a;s!=null?a=!0:(a=!1,s=H.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((_,C)=>{const w=An(C,ie());w&&(s=s.updateImmediateChild(_,w))}));const u=Xg(c,e);if(!u&&!e._queryParams.loadsAllData()){const f=Rl(e);D(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const _=h1();t.queryToTagMap.set(f,_),t.tagToQueryMap.set(_,f)}const p=Pl(t.pendingWriteTree_,i);let h=t1(c,e,n,p,s,a);if(!u&&!o&&!r){const f=qg(c,e);h=h.concat(p1(t,e,f))}return h}function Ju(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,c)=>{const a=Je(o,e),u=An(c,a);if(u)return u});return Bg(i,e,s,n,!0)}function u1(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(u,p)=>{const h=Je(u,n);r=r||An(p,h)});let i=t.syncPointTree_.get(n);i?r=r||An(i,ie()):(i=new Yg,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,o=s?new Mn(r,!0,!1):null,c=Pl(t.pendingWriteTree_,e._path),a=Qg(i,e,c,s?o.getNode():H.EMPTY_NODE,s);return QS(a)}function Ms(t,e){return ey(e,t.syncPointTree_,null,Pl(t.pendingWriteTree_,ie()))}function ey(t,e,n,r){if(q(t.path))return ty(t,e,n,r);{const i=e.get(ie());n==null&&i!=null&&(n=An(i,ie()));let s=[];const o=Q(t.path),c=t.operationForChild(o),a=e.children.get(o);if(a&&c){const u=n?n.getImmediateChild(o):null,p=Ug(r,o);s=s.concat(ey(c,a,u,p))}return i&&(s=s.concat(Xu(i,t,r,n))),s}}function ty(t,e,n,r){const i=e.get(ie());n==null&&i!=null&&(n=An(i,ie()));let s=[];return e.children.inorderTraversal((o,c)=>{const a=n?n.getImmediateChild(o):null,u=Ug(r,o),p=t.operationForChild(o);p&&(s=s.concat(ty(p,c,a,u)))}),i&&(s=s.concat(Xu(i,t,r,n))),s}function ny(t,e){const n=e.query,r=Es(t,n);return{hashFn:()=>(YS(e)||H.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?a1(t,n._path,r):l1(t,n._path);{const s=uw(i,n);return cl(t,n,null,s)}}}}function Es(t,e){const n=Rl(e);return t.queryToTagMap.get(n)}function Rl(t){return t._path.toString()+"$"+t._queryIdentifier}function Zu(t,e){return t.tagToQueryMap.get(e)}function ed(t){const e=t.indexOf("$");return D(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new oe(t.substr(0,e))}}function td(t,e,n){const r=t.syncPointTree_.get(e);D(r,"Missing sync point for query tag that we're tracking");const i=Pl(t.pendingWriteTree_,e);return Xu(r,n,i,null)}function d1(t){return t.fold((e,n,r)=>{if(n&&Fn(n))return[jl(n)];{let i=[];return n&&(i=Kg(n)),ct(r,(s,o)=>{i=i.concat(o)}),i}})}function Xi(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(i1())(t._repo,t._path):t}function f1(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Rl(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function h1(){return s1++}function p1(t,e,n){const r=e._path,i=Es(t,e),s=ny(t,n),o=t.listenProvider_.startListening(Xi(e),i,s.hashFn,s.onComplete),c=t.syncPointTree_.subtree(r);if(i)D(!Fn(c.value),"If we're adding a query, it shouldn't be shadowed");else{const a=c.fold((u,p,h)=>{if(!q(u)&&p&&Fn(p))return[jl(p).query];{let f=[];return p&&(f=f.concat(Kg(p).map(_=>_.query))),ct(h,(_,C)=>{f=f.concat(C)}),f}});for(let u=0;u<a.length;++u){const p=a[u];t.listenProvider_.stopListening(Xi(p),Es(t,p))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new nd(n)}node(){return this.node_}}class rd{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=De(this.path_,e);return new rd(this.syncTree_,n)}node(){return Ju(this.syncTree_,this.path_)}}const m1=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Sh=function(t,e,n){if(!t||typeof t!="object")return t;if(D(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return g1(t[".sv"],e,n);if(typeof t[".sv"]=="object")return y1(t[".sv"],e);D(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},g1=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:D(!1,"Unexpected server value: "+t)}},y1=function(t,e,n){t.hasOwnProperty("increment")||D(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&D(!1,"Unexpected increment value: "+r);const i=e.node();if(D(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},v1=function(t,e,n,r){return id(e,new rd(n,t),r)},ry=function(t,e,n){return id(t,new nd(e),n)};function id(t,e,n){const r=t.getPriority().val(),i=Sh(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,c=Sh(o.getValue(),e,n);return c!==o.getValue()||i!==o.getPriority().val()?new Fe(c,Be(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Fe(i))),o.forEachChild(ke,(c,a)=>{const u=id(a,e.getImmediateChild(c),n);u!==a&&(s=s.updateImmediateChild(c,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function od(t,e){let n=e instanceof oe?e:new oe(e),r=t,i=Q(n);for(;i!==null;){const s=Jr(r.node.children,i)||{children:{},childCount:0};r=new sd(i,r,s),n=ae(n),i=Q(n)}return r}function ai(t){return t.node.value}function iy(t,e){t.node.value=e,Fc(t)}function sy(t){return t.node.childCount>0}function _1(t){return ai(t)===void 0&&!sy(t)}function Al(t,e){ct(t.node.children,(n,r)=>{e(new sd(n,t,r))})}function oy(t,e,n,r){n&&e(t),Al(t,i=>{oy(i,e,!0)})}function x1(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Fs(t){return new oe(t.parent===null?t.name:Fs(t.parent)+"/"+t.name)}function Fc(t){t.parent!==null&&w1(t.parent,t.name,t)}function w1(t,e,n){const r=_1(n),i=un(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Fc(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Fc(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1=/[\[\].#$\/\u0000-\u001F\u007F]/,C1=/[\[\].#$\u0000-\u001F\u007F]/,ka=10*1024*1024,ly=function(t){return typeof t=="string"&&t.length!==0&&!S1.test(t)},ay=function(t){return typeof t=="string"&&t.length!==0&&!C1.test(t)},E1=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),ay(t)},cy=function(t,e,n,r){r&&e===void 0||ld(Ou(t,"value"),e,n)},ld=function(t,e,n){const r=n instanceof oe?new $w(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Yn(r));if(typeof e=="function")throw new Error(t+"contains a function "+Yn(r)+" with contents = "+e.toString());if(sg(e))throw new Error(t+"contains "+e.toString()+" "+Yn(r));if(typeof e=="string"&&e.length>ka/3&&Tl(e)>ka)throw new Error(t+"contains a string greater than "+ka+" utf8 bytes "+Yn(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(ct(e,(o,c)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!ly(o)))throw new Error(t+" contains an invalid key ("+o+") "+Yn(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Vw(r,o),ld(t,c,r),Hw(r)}),i&&s)throw new Error(t+' contains ".value" child '+Yn(r)+" in addition to actual children.")}},uy=function(t,e,n,r){if(!ay(n))throw new Error(Ou(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},k1=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),uy(t,e,n)},ad=function(t,e){if(Q(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},N1=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!ly(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!E1(n))throw new Error(Ou(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function cd(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!Bu(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function dy(t,e,n){cd(t,n),fy(t,r=>Bu(r,e))}function Ht(t,e,n){cd(t,n),fy(t,r=>jt(r,e)||jt(e,r))}function fy(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(b1(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function b1(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Yi&&Ke("event: "+n.toString()),li(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="repo_interrupt",P1=25;class j1{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new T1,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=tl(),this.transactionQueueTree_=new sd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function R1(t,e,n){if(t.stats_=zu(t.repoInfo_),t.forceRestClient_||pw())t.server_=new el(t.repoInfo_,(r,i,s,o)=>{Ch(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Eh(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ae(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new tn(t.repoInfo_,e,(r,i,s,o)=>{Ch(t,r,i,s,o)},r=>{Eh(t,r)},r=>{A1(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=_w(t.repoInfo_,()=>new yS(t.stats_,t.server_)),t.infoData_=new fS,t.infoSyncTree_=new wh({startListening:(r,i,s,o)=>{let c=[];const a=t.infoData_.getNode(r._path);return a.isEmpty()||(c=Ls(t.infoSyncTree_,r._path,a),setTimeout(()=>{o("ok")},0)),c},stopListening:()=>{}}),dd(t,"connected",!1),t.serverSyncTree_=new wh({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(c,a)=>{const u=o(c,a);Ht(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function hy(t){const n=t.infoData_.getNode(new oe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function ud(t){return m1({timestamp:hy(t)})}function Ch(t,e,n,r,i){t.dataUpdateCount++;const s=new oe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const a=Qo(n,u=>Be(u));o=c1(t.serverSyncTree_,s,a,i)}else{const a=Be(n);o=Zg(t.serverSyncTree_,s,a,i)}else if(r){const a=Qo(n,u=>Be(u));o=o1(t.serverSyncTree_,s,a)}else{const a=Be(n);o=Ls(t.serverSyncTree_,s,a)}let c=s;o.length>0&&(c=Ol(t,s)),Ht(t.eventQueue_,c,o)}function Eh(t,e){dd(t,"connected",e),e===!1&&L1(t)}function A1(t,e){ct(e,(n,r)=>{dd(t,n,r)})}function dd(t,e,n){const r=new oe("/.info/"+e),i=Be(n);t.infoData_.updateSnapshot(r,i);const s=Ls(t.infoSyncTree_,r,i);Ht(t.eventQueue_,r,s)}function py(t){return t.nextWriteId_++}function D1(t,e,n){const r=u1(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=Be(i).withIndex(e._queryParams.getIndex());Mc(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Ls(t.serverSyncTree_,e._path,s);else{const c=Es(t.serverSyncTree_,e);o=Zg(t.serverSyncTree_,e._path,s,c)}return Ht(t.eventQueue_,e._path,o),cl(t.serverSyncTree_,e,n,null,!0),s},i=>(Dl(t,"get for query "+Ae(e)+" failed: "+i),Promise.reject(new Error(i))))}function O1(t,e,n,r,i){Dl(t,"set",{path:e.toString(),value:n,priority:r});const s=ud(t),o=Be(n,r),c=Ju(t.serverSyncTree_,e),a=ry(o,c,s),u=py(t),p=Jg(t.serverSyncTree_,e,a,u,!0);cd(t.eventQueue_,p),t.server_.put(e.toString(),o.val(!0),(f,_)=>{const C=f==="ok";C||at("set at "+e+" failed: "+f);const w=Jn(t.serverSyncTree_,u,!C);Ht(t.eventQueue_,e,w),W1(t,i,f,_)});const h=_y(t,e);Ol(t,h),Ht(t.eventQueue_,h,[])}function L1(t){Dl(t,"onDisconnectEvents");const e=ud(t),n=tl();Rc(t.onDisconnect_,ie(),(i,s)=>{const o=v1(i,s,t.serverSyncTree_,e);Lg(n,i,o)});let r=[];Rc(n,ie(),(i,s)=>{r=r.concat(Ls(t.serverSyncTree_,i,s));const o=_y(t,i);Ol(t,o)}),t.onDisconnect_=tl(),Ht(t.eventQueue_,ie(),r)}function M1(t,e,n){let r;Q(e._path)===".info"?r=Mc(t.infoSyncTree_,e,n):r=Mc(t.serverSyncTree_,e,n),dy(t.eventQueue_,e._path,r)}function F1(t,e,n){let r;Q(e._path)===".info"?r=cl(t.infoSyncTree_,e,n):r=cl(t.serverSyncTree_,e,n),dy(t.eventQueue_,e._path,r)}function z1(t){t.persistentConnection_&&t.persistentConnection_.interrupt(I1)}function Dl(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ke(n,...e)}function W1(t,e,n,r){e&&li(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function my(t,e,n){return Ju(t.serverSyncTree_,e,n)||H.EMPTY_NODE}function fd(t,e=t.transactionQueueTree_){if(e||Ll(t,e),ai(e)){const n=yy(t,e);D(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&B1(t,Fs(e),n)}else sy(e)&&Al(e,n=>{fd(t,n)})}function B1(t,e,n){const r=n.map(u=>u.currentWriteId),i=my(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const p=n[u];D(p.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),p.status=1,p.retryCount++;const h=Je(e,p.path);s=s.updateChild(h,p.currentOutputSnapshotRaw)}const c=s.val(!0),a=e;t.server_.put(a.toString(),c,u=>{Dl(t,"transaction put response",{path:a.toString(),status:u});let p=[];if(u==="ok"){const h=[];for(let f=0;f<n.length;f++)n[f].status=2,p=p.concat(Jn(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&h.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Ll(t,od(t.transactionQueueTree_,e)),fd(t,t.transactionQueueTree_),Ht(t.eventQueue_,e,p);for(let f=0;f<h.length;f++)li(h[f])}else{if(u==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{at("transaction at "+a.toString()+" failed: "+u);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=u}Ol(t,e)}},o)}function Ol(t,e){const n=gy(t,e),r=Fs(n),i=yy(t,n);return U1(t,i,r),r}function U1(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){const a=e[c],u=Je(n,a.path);let p=!1,h;if(D(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)p=!0,h=a.abortReason,i=i.concat(Jn(t.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=P1)p=!0,h="maxretry",i=i.concat(Jn(t.serverSyncTree_,a.currentWriteId,!0));else{const f=my(t,a.path,o);a.currentInputSnapshot=f;const _=e[c].update(f.val());if(_!==void 0){ld("transaction failed: Data returned ",_,a.path);let C=Be(_);typeof _=="object"&&_!=null&&un(_,".priority")||(C=C.updatePriority(f.getPriority()));const S=a.currentWriteId,g=ud(t),m=ry(C,f,g);a.currentOutputSnapshotRaw=C,a.currentOutputSnapshotResolved=m,a.currentWriteId=py(t),o.splice(o.indexOf(S),1),i=i.concat(Jg(t.serverSyncTree_,a.path,m,a.currentWriteId,a.applyLocally)),i=i.concat(Jn(t.serverSyncTree_,S,!0))}else p=!0,h="nodata",i=i.concat(Jn(t.serverSyncTree_,a.currentWriteId,!0))}Ht(t.eventQueue_,n,i),i=[],p&&(e[c].status=2,function(f){setTimeout(f,Math.floor(0))}(e[c].unwatcher),e[c].onComplete&&(h==="nodata"?r.push(()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot)):r.push(()=>e[c].onComplete(new Error(h),!1,null))))}Ll(t,t.transactionQueueTree_);for(let c=0;c<r.length;c++)li(r[c]);fd(t,t.transactionQueueTree_)}function gy(t,e){let n,r=t.transactionQueueTree_;for(n=Q(e);n!==null&&ai(r)===void 0;)r=od(r,n),e=ae(e),n=Q(e);return r}function yy(t,e){const n=[];return vy(t,e,n),n.sort((r,i)=>r.order-i.order),n}function vy(t,e,n){const r=ai(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Al(e,i=>{vy(t,i,n)})}function Ll(t,e){const n=ai(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,iy(e,n.length>0?n:void 0)}Al(e,r=>{Ll(t,r)})}function _y(t,e){const n=Fs(gy(t,e)),r=od(t.transactionQueueTree_,e);return x1(r,i=>{Na(t,i)}),Na(t,r),oy(r,i=>{Na(t,i)}),n}function Na(t,e){const n=ai(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(D(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(D(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Jn(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?iy(e,void 0):n.length=s+1,Ht(t.eventQueue_,Fs(e),i);for(let o=0;o<r.length;o++)li(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function V1(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):at(`Invalid query segment '${n}' in query '${t}'`)}return e}const kh=function(t,e){const n=H1(t),r=n.namespace;n.domain==="firebase.com"&&an(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&an("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||sw();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new yg(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new oe(n.pathString)}},H1=function(t){let e="",n="",r="",i="",s="",o=!0,c="https",a=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(c=t.substring(0,u-1),t=t.substring(u+2));let p=t.indexOf("/");p===-1&&(p=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(p,h)),p<h&&(i=$1(t.substring(p,h)));const f=V1(t.substring(Math.min(t.length,h)));u=e.indexOf(":"),u>=0?(o=c==="https"||c==="wss",a=parseInt(e.substring(u+1),10)):u=e.length;const _=e.slice(0,u);if(_.toLowerCase()==="localhost")n="localhost";else if(_.split(".").length<=2)n=_;else{const C=e.indexOf(".");r=e.substring(0,C).toLowerCase(),n=e.substring(C+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:a,domain:n,subdomain:r,secure:o,scheme:c,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",G1=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=Nh.charAt(n%64),n=Math.floor(n/64);D(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=Nh.charAt(e[i]);return D(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ae(this.snapshot.exportVal())}}class Q1{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return D(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return q(this._path)?null:Ng(this._path)}get ref(){return new dn(this._repo,this._path)}get _queryIdentifier(){const e=uh(this._queryParams),n=Mu(e);return n==="{}"?"default":n}get _queryObject(){return uh(this._queryParams)}isEqual(e){if(e=dr(e),!(e instanceof hd))return!1;const n=this._repo===e._repo,r=Bu(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Uw(this._path)}}class dn extends hd{constructor(e,n){super(e,n,new Hu,!1)}get parent(){const e=bg(this._path);return e===null?null:new dn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class ks{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new oe(e),r=Ns(this.ref,e);return new ks(this._node.getChild(n),r,ke)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new ks(i,Ns(this.ref,r),ke)))}hasChild(e){const n=new oe(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function J(t,e){return t=dr(t),t._checkNotDeleted("ref"),e!==void 0?Ns(t._root,e):t._root}function Ns(t,e){return t=dr(t),Q(t._path)===null?k1("child","path",e):uy("child","path",e),new dn(t._repo,De(t._path,e))}function Ta(t,e){t=dr(t),ad("push",t._path),cy("push",e,t._path,!0);const n=hy(t._repo),r=G1(n),i=Ns(t,r),s=Ns(t,r);let o;return e!=null?o=Me(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function Th(t){return ad("remove",t._path),Me(t,null)}function Me(t,e){t=dr(t),ad("set",t._path),cy("set",e,t._path,!1);const n=new Nl;return O1(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Ai(t){t=dr(t);const e=new xy(()=>{}),n=new Ml(e);return D1(t._repo,t,n).then(r=>new ks(r,new dn(t._repo,t._path),t._queryParams.getIndex()))}class Ml{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new Y1("value",this,new ks(e.snapshotNode,new dn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Q1(this,e,n):null}matches(e){return e instanceof Ml?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function K1(t,e,n,r,i){const s=new xy(n,void 0),o=new Ml(s);return M1(t._repo,t,o),()=>F1(t._repo,t,o)}function Qt(t,e,n,r){return K1(t,"value",e)}JS(dn);r1(dn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1="FIREBASE_DATABASE_EMULATOR_HOST",zc={};let X1=!1;function J1(t,e,n,r){t.repoInfo_=new yg(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function Z1(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||an("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ke("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=kh(s,i),c=o.repoInfo,a;typeof process<"u"&&Gf&&(a=Gf[q1]),a?(s=`http://${a}?ns=${c.namespace}`,o=kh(s,i),c=o.repoInfo):o.repoInfo.secure;const u=new gw(t.name,t.options,e);N1("Invalid Firebase Database URL",o),q(o.path)||an("Database URL must point to the root of a Firebase Database (not including a child path).");const p=tC(c,t,u,new mw(t.name,n));return new nC(p,t)}function eC(t,e){const n=zc[e];(!n||n[t.key]!==t)&&an(`Database ${e}(${t.repoInfo_}) has already been deleted.`),z1(t),delete n[t.key]}function tC(t,e,n,r){let i=zc[e.name];i||(i={},zc[e.name]=i);let s=i[t.toURLString()];return s&&an("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new j1(t,X1,n,r),i[t.toURLString()]=s,s}class nC{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(R1(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new dn(this._repo,ie())),this._rootInternal}_delete(){return this._rootInternal!==null&&(eC(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&an("Cannot call "+e+" on a deleted database.")}}function rC(t=Bx(),e){const n=Mx(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=N_("database");r&&iC(n,...r)}return n}function iC(t,e,n,r={}){t=dr(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&an("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&an('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new So(So.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:T_(r.mockUserToken,t.app.options.projectId);s=new So(o)}J1(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(t){Zx(Wx),qo(new gs("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return Z1(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Ur(Yf,Qf,t),Ur(Yf,Qf,"esm2017")}tn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};tn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};sC();function oC({allPicks:t,actualScores:e,currentWeek:n,playerName:r,playerCode:i,isPoolManager:s,prizePool:o,officialWinners:c,onLogout:a}){const u=(w,S,g)=>{if(!w||!S||!S[g])return 0;let m=0;const x=S[g];return Object.keys(w).forEach(k=>{const R=w[k],E=x[k];if(!R||!E)return;const I=parseInt(R.team1),A=parseInt(R.team2),Y=parseInt(E.team1),U=parseInt(E.team2);if(isNaN(I)||isNaN(A)||isNaN(Y)||isNaN(U))return;const ee=I>A?"team1":A>I?"team2":"tie",Ie=Y>U?"team1":U>Y?"team2":"tie";ee===Ie&&Ie!=="tie"&&m++}),m},p=(w,S,g)=>{if(!w||!S||!S[g])return null;let m=0,x=0;const k=S[g];return Object.keys(w).forEach(R=>{const E=w[R],I=k[R];if(!E||!I)return;const A=parseInt(E.team1),Y=parseInt(E.team2),U=parseInt(I.team1),ee=parseInt(I.team2);isNaN(A)||isNaN(Y)||isNaN(U)||isNaN(ee)||(m+=A+Y,x+=U+ee)}),Math.abs(m-x)},h=(w,S,g)=>{let m=0,x=0;return g.forEach(k=>{const R=w[k];if(R){m+=u(R,S,k);const E=p(R,S,k);E!==null&&(x+=E)}}),{correctWinners:m,pointsDifference:x}},f={wildcard:"Week 1",divisional:"Week 2",conference:"Week 3",superbowl:"Week 4"},_=F.useMemo(()=>{const w={};return t.forEach(S=>{const g=S.playerName;w[g]||(w[g]={wildcard:null,divisional:null,conference:null,superbowl:null}),w[g][S.week]=S.predictions}),w},[t]),C=F.useMemo(()=>{const w=[],S=["wildcard","divisional","conference","superbowl"];S.slice(0,3).forEach((E,I)=>{const A=f[E],Y=Object.entries(_).map(([ee,Ie])=>({playerName:ee,score:u(Ie[E],e,E)})).filter(ee=>ee.score>0).sort((ee,Ie)=>Ie.score-ee.score);w.push({prizeNumber:I*2+1,name:`${A} - Most Correct Winners`,week:E,type:"correctWinners",leaders:Y.slice(0,5)});const U=Object.entries(_).map(([ee,Ie])=>({playerName:ee,score:p(Ie[E],e,E)})).filter(ee=>ee.score!==null).sort((ee,Ie)=>ee.score-Ie.score);w.push({prizeNumber:I*2+2,name:`${A} - Closest Total Points`,week:E,type:"pointsDifference",leaders:U.slice(0,5)})});const g="superbowl",m=Object.entries(_).map(([E,I])=>({playerName:E,score:u(I[g],e,g)})).filter(E=>E.score>0).sort((E,I)=>I.score-E.score);w.push({prizeNumber:7,name:"Week 4 - Most Correct Winners",week:g,type:"correctWinners",leaders:m.slice(0,5)});const x=Object.entries(_).map(([E,I])=>({playerName:E,score:p(I[g],e,g)})).filter(E=>E.score!==null).sort((E,I)=>E.score-I.score);w.push({prizeNumber:8,name:"Week 4 - Closest Total Points",week:g,type:"pointsDifference",leaders:x.slice(0,5)});const k=Object.entries(_).map(([E,I])=>{const A=h(I,e,S);return{playerName:E,score:A.correctWinners}}).filter(E=>E.score>0).sort((E,I)=>I.score-E.score);w.push({prizeNumber:9,name:"Cumulative (All 4 Weeks) - Most Correct Winners",week:"all",type:"correctWinners",leaders:k.slice(0,5)});const R=Object.entries(_).map(([E,I])=>{const A=h(I,e,S);return{playerName:E,score:A.pointsDifference}}).filter(E=>E.score!==null&&E.score>=0).sort((E,I)=>E.score-I.score);return w.push({prizeNumber:10,name:"Cumulative (All 4 Weeks) - Closest Total Points",week:"all",type:"pointsDifference",leaders:R.slice(0,5)}),w},[_,e]);return l.jsx("div",{className:"standings-page",children:l.jsxs("div",{className:"container",children:[l.jsxs("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"20px",borderRadius:"8px",marginBottom:"20px",color:"white"},children:[l.jsx("div",{style:{fontSize:"0.9rem",marginBottom:"5px"},children:" VERIFIED"}),l.jsxs("div",{style:{fontSize:"1.2rem",fontWeight:"bold",marginBottom:"5px"},children:["Viewing as: ",r]}),s&&l.jsx("div",{style:{fontSize:"0.9rem",marginBottom:"10px",color:"#ffd700",fontWeight:"600"},children:" POOL MANAGER"}),l.jsx("button",{onClick:a,style:{background:"white",color:"#764ba2",border:"none",padding:"10px 20px",borderRadius:"6px",fontSize:"0.95rem",fontWeight:"600",cursor:"pointer",marginTop:"10px",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:" Logout / Switch Entry"}),l.jsx("p",{style:{fontSize:"0.85rem",marginTop:"10px",opacity:.9,fontStyle:"italic"},children:" Playing with multiple entries? Logout to switch between your codes."})]}),l.jsx("h1",{className:"standings-title",children:" Standings & Prize Leaders"}),o&&o.totalFees>0&&l.jsxs("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"25px",borderRadius:"12px",marginBottom:"30px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[l.jsx("h2",{style:{margin:"0 0 20px 0",fontSize:"1.5rem"},children:" Prize Pool Information"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginBottom:"15px"},children:[l.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:"15px",borderRadius:"8px"},children:[l.jsx("div",{style:{fontSize:"0.9rem",opacity:.9,marginBottom:"5px"},children:"Total Pool Fees"}),l.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:["$",o.totalFees.toFixed(2)]})]}),l.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:"15px",borderRadius:"8px"},children:[l.jsx("div",{style:{fontSize:"0.9rem",opacity:.9,marginBottom:"5px"},children:"Number of Players"}),l.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:o.numberOfPlayers})]}),l.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:"15px",borderRadius:"8px"},children:[l.jsx("div",{style:{fontSize:"0.9rem",opacity:.9,marginBottom:"5px"},children:"Entry Fee"}),l.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:["$",o.entryFee]})]}),l.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:"15px",borderRadius:"8px"},children:[l.jsx("div",{style:{fontSize:"0.9rem",opacity:.9,marginBottom:"5px"},children:"Each Prize (10%)"}),l.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:["$",o.prizeValue.toFixed(2)]})]})]}),l.jsx("div",{style:{fontSize:"0.9rem",opacity:.9},children:" 10 prizes total  Equal 10% distribution  Ties split equally"})]}),c&&Object.keys(c).length>0&&l.jsxs("div",{style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"white",padding:"25px",borderRadius:"12px",marginBottom:"30px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[l.jsx("h2",{style:{margin:"0 0 20px 0",fontSize:"1.5rem"},children:" OFFICIAL PRIZE WINNERS"}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"20px"},children:Object.entries(c).sort((w,S)=>w[1].prizeNumber-S[1].prizeNumber).map(([w,S])=>l.jsxs("div",{style:{background:"rgba(255,255,255,0.95)",color:"#333",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 8px rgba(0,0,0,0.15)"},children:[l.jsxs("div",{style:{fontWeight:"bold",fontSize:"1.1rem",marginBottom:"8px",color:"#f5576c"},children:["Prize #",S.prizeNumber]}),l.jsx("div",{style:{fontSize:"0.9rem",color:"#666",marginBottom:"12px"},children:S.prizeName.replace(`Prize #${S.prizeNumber} - `,"")}),l.jsxs("div",{style:{fontSize:"0.85rem",fontWeight:"600",color:"#999",marginBottom:"12px"},children:["Prize Value: $",S.prizeValue.toFixed(2)]}),l.jsx("div",{style:{borderTop:"2px solid #f093fb",paddingTop:"12px"},children:S.winners.map((g,m)=>l.jsxs("div",{style:{padding:"8px 0",borderBottom:m<S.winners.length-1?"1px solid #eee":"none"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"10px"},children:[l.jsxs("div",{style:{fontWeight:"700",fontSize:"1rem",color:"#333"},children:[" ",g.playerName]}),l.jsxs("div",{style:{fontSize:"0.95rem",fontWeight:"600",color:"#f5576c"},children:["$",g.amount.toFixed(2)]})]}),l.jsxs("div",{style:{fontSize:"0.8rem",color:"#888",marginTop:"2px"},children:[g.percentage.toFixed(2),"% of prize"]})]},m))})]},w))})]}),l.jsx("div",{className:"prizes-grid",children:C.map(w=>l.jsxs("div",{className:"prize-card",children:[l.jsxs("div",{className:"prize-header",children:[l.jsxs("div",{className:"prize-number",children:["Prize #",w.prizeNumber]}),l.jsx("div",{className:"prize-name",children:w.name})]}),l.jsx("div",{className:"prize-leaders",children:w.leaders.length===0?l.jsx("div",{className:"no-data",children:"No data available yet"}):l.jsxs("table",{className:"leaders-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Rank"}),l.jsx("th",{children:"Player"}),l.jsx("th",{children:w.type==="correctWinners"?"Correct":"Difference"})]})}),l.jsx("tbody",{children:w.leaders.map((S,g)=>{const m=g>0&&S.score===w.leaders[g-1].score,x=m?"=":g+1;return l.jsxs("tr",{className:g===0&&!m?"leader-first":"",children:[l.jsx("td",{className:"rank",children:x}),l.jsx("td",{className:"player-name",children:S.playerName}),l.jsx("td",{className:"score",children:w.type==="correctWinners"?`${S.score} correct`:`${S.score} pts`})]},g)})})]})})]},w.prizeNumber))}),l.jsx("div",{className:"standings-note",children:l.jsxs("p",{children:[l.jsx("strong",{children:"Note:"}),' Tied players are shown with "=" rank. Pool Manager will resolve ties manually using Excel if needed for prize distribution.']})})]})})}function lC({currentWeek:t,games:e,actualScores:n,teamCodes:r,onScoresFetched:i,onGameLockToggle:s,gameLocks:o,espnAutoRefresh:c}){const[a,u]=F.useState(!1),[p,h]=F.useState(null),[f,_]=F.useState(null),[C,w]=F.useState(!1),[S,g]=F.useState(!1),m=async()=>{if(!(a||S)){u(!0),_({type:"loading",message:"Fetching scores from ESPN..."});try{await i(),h(new Date),_({type:"success",message:"Scores updated successfully!"}),setTimeout(()=>_(null),3e3)}catch(I){_({type:"error",message:`Error: ${I.message}`})}finally{u(!1)}}},x=()=>{C?(c.stop(),w(!1),_({type:"info",message:"Auto-refresh stopped"})):(c.start(),w(!0),_({type:"info",message:"Auto-refresh started (every 5 minutes)"})),setTimeout(()=>_(null),3e3)},k=()=>{S?(g(!1),_({type:"info",message:"API resumed - fetching enabled"})):(g(!0),C&&(c.stop(),w(!1)),_({type:"warning",message:"API paused - all fetching disabled"})),setTimeout(()=>_(null),3e3)},R=I=>{var A;return((A=o==null?void 0:o[t])==null?void 0:A[I])===!0},E=I=>{var A,Y;return((Y=(A=n==null?void 0:n[t])==null?void 0:A[I])==null?void 0:Y.source)==="espn"};return l.jsxs("div",{className:"espn-controls",children:[l.jsxs("div",{className:"espn-header",children:[l.jsx("h3",{children:" ESPN API Controls"}),l.jsxs("div",{className:"espn-status-badges",children:[S&&l.jsx("span",{className:"status-badge paused",children:" API PAUSED"}),C&&!S&&l.jsx("span",{className:"status-badge active",children:" AUTO-REFRESH ON"}),p&&l.jsxs("span",{className:"status-badge info",children:["Last fetch: ",p.toLocaleTimeString()]})]})]}),l.jsxs("div",{className:"espn-global-controls",children:[l.jsx("button",{className:"espn-btn fetch-now",onClick:m,disabled:a||S,children:a?" Fetching...":" Fetch Scores Now"}),l.jsx("button",{className:`espn-btn auto-refresh ${C?"active":""}`,onClick:x,disabled:S,children:C?" Stop Auto-Refresh":" Start Auto-Refresh (5 min)"}),l.jsx("button",{className:`espn-btn pause-api ${S?"paused":""}`,onClick:k,children:S?" Resume API":" Pause API"})]}),f&&l.jsx("div",{className:`fetch-status ${f.type}`,children:f.message}),l.jsxs("div",{className:"game-overrides",children:[l.jsx("h4",{children:"Game Override Controls"}),l.jsxs("p",{className:"override-info",children:[" Lock = Manual entry only (ignore API)",l.jsx("br",{})," Unlock = Auto-update from ESPN API"]}),l.jsx("div",{className:"game-override-list",children:e.map(I=>{var Mt,hr,pr,Ft,gt;const A=R(I.id),Y=E(I.id),U=(Mt=n==null?void 0:n[t])==null?void 0:Mt[I.id],ee=((pr=(hr=r==null?void 0:r[t])==null?void 0:hr[I.id])==null?void 0:pr.team1)||I.team1,Ie=((gt=(Ft=r==null?void 0:r[t])==null?void 0:Ft[I.id])==null?void 0:gt.team2)||I.team2;return l.jsxs("div",{className:"game-override-item",children:[l.jsxs("div",{className:"game-info",children:[l.jsxs("span",{className:"game-matchup",children:[ee," vs ",Ie]}),U&&l.jsxs("span",{className:"game-scores",children:[n[t][I.id].team1," - ",n[t][I.id].team2]})]}),l.jsxs("div",{className:"game-status-badges",children:[Y&&!A&&l.jsx("span",{className:"game-badge api",children:" From API"}),A&&l.jsx("span",{className:"game-badge manual",children:" Manual Entry"}),!U&&l.jsx("span",{className:"game-badge no-score",children:"No Score"})]}),l.jsx("button",{className:`lock-btn ${A?"locked":"unlocked"}`,onClick:()=>s(I.id),title:A?"Unlock to allow API updates":"Lock to prevent API updates",children:A?" Locked":" Unlocked"})]},I.id)})})]}),l.jsxs("div",{className:"espn-help",children:[l.jsx("h4",{children:" How It Works:"}),l.jsxs("ul",{children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Fetch Now:"})," Manually fetch latest scores from ESPN"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Auto-Refresh:"})," Automatically fetch every 5 minutes"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Pause API:"})," Stop all API fetching (use manual entry only)"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Lock Game:"})," Prevent API from overwriting your manual score for that game"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Unlock Game:"})," Allow API to update score automatically"]})]}),l.jsxs("p",{className:"help-note",children:[l.jsx("strong",{children:"Tip:"})," Lock a game if you need to manually correct a score that ESPN has wrong."]})]})]})}const aC="https://site.api.espn.com/apis/site/v2/sports/football/nfl";async function cC(){try{const t=await fetch(`${aC}/scoreboard`);if(!t.ok)throw new Error(`ESPN API error: ${t.status}`);const e=await t.json();return uC(e)}catch(t){return console.error("Error fetching ESPN scores:",t),{success:!1,error:t.message,games:[]}}}function uC(t){return!t.events||t.events.length===0?{success:!0,games:[],message:"No games currently available"}:{success:!0,games:t.events.map(n=>{const r=n.competitions[0],i=r.status,s=r.competitors,o=s.find(C=>C.homeAway==="away"),c=s.find(C=>C.homeAway==="home"),a=o.team.abbreviation,u=c.team.abbreviation,p=parseInt(o.score)||0,h=parseInt(c.score)||0,f=dC(i);return{espnGameId:n.id,awayTeam:{abbreviation:a,fullName:o.team.displayName,score:p},homeTeam:{abbreviation:u,fullName:c.team.displayName,score:h},status:f.status,statusText:f.text,period:f.period,clock:f.clock,isFinal:f.isFinal,isLive:f.isLive,isScheduled:f.isScheduled,startTime:n.date,lastUpdated:new Date().toISOString()}}),fetchedAt:new Date().toISOString()}}function dC(t){const e=t.type.name,n=t.period,r=t.displayClock,i=t.type.detail;let s="scheduled",o=i,c=!1,a=!1,u=!1;return e==="STATUS_SCHEDULED"?(s="scheduled",o="Scheduled",u=!0):e==="STATUS_IN_PROGRESS"?(s="live",c=!0,n===1?o=`1st Quarter - ${r}`:n===2?o=`2nd Quarter - ${r}`:n===3?o=`3rd Quarter - ${r}`:n===4?o=`4th Quarter - ${r}`:n>4&&(o=`OT ${n-4} - ${r}`)):e==="STATUS_HALFTIME"?(s="halftime",o="Halftime",c=!0):e==="STATUS_END_PERIOD"?(s="live",o=`End of ${n===1?"1st":n===2?"2nd":n===3?"3rd":"4th"} Quarter`,c=!0):(e==="STATUS_FINAL"||e==="STATUS_FINAL_OVERTIME")&&(s="final",a=!0,e==="STATUS_FINAL_OVERTIME"?o=n>4?`Final/OT${n-4}`:"Final/OT":o="Final"),{status:s,text:o,period:n,clock:r||"",isLive:c,isFinal:a,isScheduled:u}}function fC(t,e,n,r){if(!r||!r[n])return null;const i=e[n].games,s=r[n];for(const o of i){const c=s[o.id];if(!c)continue;const a=c.team1===t.awayTeam.abbreviation||c.team1===t.homeTeam.abbreviation,u=c.team2===t.awayTeam.abbreviation||c.team2===t.homeTeam.abbreviation;if(a&&u){const p=c.team1===t.awayTeam.abbreviation;return{gameId:o.id,team1Score:p?t.awayTeam.score:t.homeTeam.score,team2Score:p?t.homeTeam.score:t.awayTeam.score,status:t.status,statusText:t.statusText,period:t.period,clock:t.clock,isFinal:t.isFinal,isLive:t.isLive,espnGameId:t.espnGameId}}}return null}class hC{constructor(e,n=5){this.onFetch=e,this.intervalMinutes=n,this.intervalId=null,this.isRunning=!1}start(){if(this.isRunning){console.log("Auto-refresh already running");return}console.log(`Starting auto-refresh every ${this.intervalMinutes} minutes`),this.isRunning=!0,this.onFetch(),this.intervalId=setInterval(()=>{console.log("Auto-fetching ESPN scores..."),this.onFetch()},this.intervalMinutes*60*1e3)}stop(){if(!this.isRunning){console.log("Auto-refresh not running");return}console.log("Stopping auto-refresh"),clearInterval(this.intervalId),this.intervalId=null,this.isRunning=!1}isActive(){return this.isRunning}setInterval(e){this.intervalMinutes=e,this.isRunning&&(this.stop(),this.start())}}const pC={wildcard:{name:"Week 1 - Wildcard Round",shortName:"Wildcard",deadline:"Fri Jan 9, 11:59 PM PST",number:1},divisional:{name:"Week 2 - Divisional Round",shortName:"Divisional",deadline:"Fri Jan 16, 11:59 PM PST",number:2},conference:{name:"Week 3 - Conference Championships",shortName:"Conference",deadline:"Fri Jan 23, 11:59 PM PST",number:3},superbowl:{name:"Week 4 - Super Bowl LIX",shortName:"Super Bowl",deadline:"Fri Feb 6, 11:59 PM PST",number:4}};function mC(t,e,n,r){return n?{icon:"",text:"LOCKED",color:"gray",className:"locked"}:r?{icon:"",text:"EDITING NOW",color:"purple",className:"editing"}:e&&e.complete?{icon:"",text:"ALL PICKS SAVED",color:"green",className:"saved"}:{icon:"",text:"READY TO PICK",color:"blue",className:"ready"}}function gC({currentWeek:t,onWeekChange:e,weekPicks:n={},weekLockStatus:r={},hasUnsavedChanges:i=!1}){const s=o=>{o!==t&&e(o)};return l.jsxs("div",{className:"week-selector-container",children:[l.jsxs("div",{className:"week-selector-header",children:[l.jsx("h2",{children:" SELECT WEEK TO MAKE/EDIT YOUR PICKS"}),i&&l.jsx("div",{className:"unsaved-indicator",children:" You have unsaved changes"})]}),l.jsx("div",{className:"week-cards",children:Object.entries(pC).map(([o,c])=>{var f;const a=o===t,u=((f=r[o])==null?void 0:f.locked)||!1,p=n[o],h=mC(o,p,u,a);return l.jsxs("div",{className:`week-card ${h.className} ${a?"current":""}`,onClick:()=>s(o),role:"button",tabIndex:0,onKeyPress:_=>{(_.key==="Enter"||_.key===" ")&&s(o)},children:[l.jsxs("div",{className:"week-card-header",children:[l.jsxs("div",{className:"week-number",children:["WEEK ",c.number]}),a&&l.jsx("div",{className:"current-indicator",children:" YOU ARE HERE "})]}),l.jsxs("div",{className:"week-card-title",children:[o==="superbowl"?"":""," ",c.shortName]}),l.jsxs("div",{className:"week-card-deadline",children:[o==="superbowl"?"Game Day: ":"Deadline: ",c.deadline]}),l.jsxs("div",{className:`week-card-status status-${h.className}`,children:[l.jsx("span",{className:"status-icon",children:h.icon}),l.jsx("span",{className:"status-text",children:h.text})]}),u&&l.jsx("div",{className:"locked-overlay",children:l.jsx("div",{className:"locked-message",children:" Cannot Edit"})})]},o)})}),l.jsx("div",{className:"week-selector-footer",children:l.jsx("p",{className:"info-text",children:" You can make picks for all weeks in advance, even if teams aren't known yet."})})]})}function yC({currentWeek:t,onDiscard:e,onSaveAndSwitch:n,onCancel:r}){const i={wildcard:"Week 1",divisional:"Week 2",conference:"Week 3",superbowl:"Week 4"};return l.jsx("div",{className:"popup-overlay",children:l.jsxs("div",{className:"popup-container warning-popup",children:[l.jsxs("div",{className:"popup-header warning",children:[l.jsx("span",{className:"popup-icon",children:""}),l.jsx("h3",{children:"UNSAVED CHANGES"})]}),l.jsxs("div",{className:"popup-body",children:[l.jsxs("p",{children:["You have unsaved changes for ",i[t],"."]}),l.jsx("p",{children:"What would you like to do?"})]}),l.jsxs("div",{className:"popup-buttons",children:[l.jsx("button",{className:"popup-btn btn-secondary",onClick:e,children:"Discard Changes"}),l.jsx("button",{className:"popup-btn btn-primary",onClick:n,children:"Save & Switch"}),l.jsx("button",{className:"popup-btn btn-neutral",onClick:r,children:"Cancel"})]})]})})}function vC({onKeepEditing:t,onDiscard:e}){return l.jsx("div",{className:"popup-overlay",children:l.jsxs("div",{className:"popup-container warning-popup",children:[l.jsxs("div",{className:"popup-header warning",children:[l.jsx("span",{className:"popup-icon",children:""}),l.jsx("h3",{children:"DISCARD CHANGES?"})]}),l.jsxs("div",{className:"popup-body",children:[l.jsx("p",{children:"Your changes will not be saved."}),l.jsx("p",{children:"Your previously saved picks will remain unchanged in the system."})]}),l.jsxs("div",{className:"popup-buttons",children:[l.jsx("button",{className:"popup-btn btn-primary",onClick:t,children:"Keep Editing"}),l.jsx("button",{className:"popup-btn btn-danger",onClick:e,children:"Discard Changes"})]})]})})}function _C({missingGames:t,totalGames:e,onClose:n}){return l.jsx("div",{className:"popup-overlay",children:l.jsxs("div",{className:"popup-container error-popup",children:[l.jsxs("div",{className:"popup-header error",children:[l.jsx("span",{className:"popup-icon",children:""}),l.jsx("h3",{children:"CANNOT SAVE - INCOMPLETE ENTRY"})]}),l.jsxs("div",{className:"popup-body",children:[l.jsx("p",{children:"You must predict scores for ALL games."}),l.jsxs("p",{className:"count-text",children:["Completed: ",l.jsx("strong",{children:e-t.length})," of ",l.jsx("strong",{children:e})," games "]}),l.jsxs("div",{className:"missing-games-list",children:[l.jsx("p",{children:l.jsx("strong",{children:"Missing scores for:"})}),l.jsx("ul",{children:t.map((r,i)=>l.jsxs("li",{children:[" Game ",i+1,": ",r.team1," vs ",r.team2]},i))})]}),l.jsx("p",{className:"instruction-text",children:"Please fill in all games before saving."})]}),l.jsx("div",{className:"popup-buttons",children:l.jsx("button",{className:"popup-btn btn-primary",onClick:n,children:"OK - Go Back and Complete"})})]})})}function xC({invalidScores:t,onClose:e}){return l.jsx("div",{className:"popup-overlay",children:l.jsxs("div",{className:"popup-container error-popup",children:[l.jsxs("div",{className:"popup-header error",children:[l.jsx("span",{className:"popup-icon",children:""}),l.jsx("h3",{children:"INVALID SCORES"})]}),l.jsxs("div",{className:"popup-body",children:[l.jsx("p",{children:"All scores must be between 10 and 50."}),l.jsxs("div",{className:"invalid-scores-list",children:[l.jsx("p",{children:l.jsx("strong",{children:"Invalid scores:"})}),l.jsx("ul",{children:t.map((n,r)=>l.jsxs("li",{children:[" Game ",r+1," (",n.team,"): ",l.jsx("strong",{children:n.score})," (",n.score<10?"too low":"too high",")"]},r))})]}),l.jsx("p",{className:"instruction-text",children:"Please fix these scores."})]}),l.jsx("div",{className:"popup-buttons",children:l.jsx("button",{className:"popup-btn btn-primary",onClick:e,children:"OK - Go Back and Fix"})})]})})}function wC({weekName:t,deadline:e,onClose:n}){return l.jsx("div",{className:"popup-overlay",children:l.jsxs("div",{className:"popup-container success-popup",children:[l.jsxs("div",{className:"popup-header success",children:[l.jsx("span",{className:"popup-icon",children:""}),l.jsx("h3",{children:"PICKS SAVED SUCCESSFULLY!"})]}),l.jsxs("div",{className:"popup-body",children:[l.jsxs("p",{children:["Your ",t," picks have been saved."]}),l.jsx("p",{children:"You can edit them anytime before the deadline:"}),l.jsx("p",{className:"deadline-text",children:l.jsx("strong",{children:e})})]}),l.jsx("div",{className:"popup-buttons",children:l.jsx("button",{className:"popup-btn btn-success",onClick:n,children:"OK"})})]})})}function SC({onClose:t}){return l.jsx("div",{className:"popup-overlay",children:l.jsxs("div",{className:"popup-container info-popup",children:[l.jsxs("div",{className:"popup-header info",children:[l.jsx("span",{className:"popup-icon",children:""}),l.jsx("h3",{children:"NO CHANGES TO SAVE"})]}),l.jsxs("div",{className:"popup-body",children:[l.jsx("p",{children:"You haven't made any changes to your picks."}),l.jsx("p",{children:"Your picks are already saved."})]}),l.jsx("div",{className:"popup-buttons",children:l.jsx("button",{className:"popup-btn btn-primary",onClick:t,children:"OK"})})]})})}function CC({tiedGames:t,gameData:e,onClose:n}){return l.jsx("div",{className:"popup-overlay",children:l.jsxs("div",{className:"popup-container error-popup",children:[l.jsxs("div",{className:"popup-header error",children:[l.jsx("span",{className:"popup-icon",children:""}),l.jsx("h3",{children:"PLAYOFF GAMES CANNOT END IN A TIE!"})]}),l.jsxs("div",{className:"popup-body",children:[l.jsx("p",{style:{fontWeight:"bold",marginBottom:"15px"},children:"The following game(s) have tied scores:"}),l.jsx("ul",{style:{listStyle:"none",padding:0,marginBottom:"15px"},children:t.map(r=>{const i=e.find(s=>s.id===r);return l.jsxs("li",{style:{padding:"8px",background:"#ffebee",border:"1px solid #ef5350",borderRadius:"4px",marginBottom:"8px",color:"#c62828"},children:[" ",i.team1," vs. ",i.team2]},r)})}),l.jsx("p",{style:{fontStyle:"italic",color:"#666"},children:"NFL Playoff games go to overtime until there's a winner!"}),l.jsx("p",{style:{fontWeight:"bold"},children:"Please change the scores so one team wins."})]}),l.jsx("div",{className:"popup-buttons",children:l.jsx("button",{className:"popup-btn btn-primary",onClick:n,children:"Fix Scores"})})]})})}const wy={1:{name:"Most Correct Winners",week:"wildcard",weekName:"Week 1"},2:{name:"Closest Total Points",week:"wildcard",weekName:"Week 1"},3:{name:"Most Correct Winners",week:"divisional",weekName:"Week 2"},4:{name:"Closest Total Points",week:"divisional",weekName:"Week 2"},5:{name:"Most Correct Winners",week:"conference",weekName:"Week 3"},6:{name:"Closest Total Points",week:"conference",weekName:"Week 3"},7:{name:"Most Correct Winners",week:"superbowl",weekName:"Week 4"},8:{name:"Closest Total Points",week:"superbowl",weekName:"Week 4"},9:{name:"Overall Most Correct Winners",week:"all",weekName:"All Weeks"},10:{name:"Overall Closest Total Points",week:"all",weekName:"All Weeks"}};function EC(t,e,n){var r;if(t.week==="all"){let i=0,s=0;return Object.keys(n).forEach(o=>{const c=n[o].games;i+=c.length,c.forEach(a=>{var p;const u=(p=e[o])==null?void 0:p[a.id];u&&(u.team1!==void 0||u.team2!==void 0)&&s++})}),s===0?{status:"NOT_STARTED",gamesCompleted:0,totalGames:i,message:"First game Saturday, January 11, 2026! Standings will update as games finish."}:s<i?{status:"LIVE",gamesCompleted:s,totalGames:i,message:`LIVE NOW! ${s} of ${i} playoff games completed. Standings updating in real-time!`}:{status:"COMPLETE",gamesCompleted:s,totalGames:i,message:"Playoffs complete! Final standings shown above."}}else{const i=((r=n[t.week])==null?void 0:r.games)||[],s=i.length;let o=0;return i.forEach(c=>{var u;const a=(u=e[t.week])==null?void 0:u[c.id];a&&(a.team1!==void 0||a.team2!==void 0)&&o++}),o===0?{status:"NOT_STARTED",gamesCompleted:0,totalGames:s,message:"Games not started yet. Standings will update as games finish!"}:o<s?{status:"LIVE",gamesCompleted:o,totalGames:s,message:`LIVE NOW! ${o} of ${s} games completed. Standings changing in real-time!`}:{status:"COMPLETE",gamesCompleted:o,totalGames:s,message:"All games complete! Final standings shown above."}}}function kC(t,e,n,r){var u,p,h;const i=wy[t],s=[1,3,5,7,9].includes(t);let o=[],c={},a=[];if(i.week==="all"){o=e,c=n,Object.keys(r).forEach(_=>{a=a.concat(r[_].games.map(C=>({...C,week:_})))});const f={};o.forEach(_=>{f[_.playerCode]||(f[_.playerCode]={playerCode:_.playerCode,playerName:_.playerName,weeklyPicks:[]}),f[_.playerCode].weeklyPicks.push(_)}),o=Object.values(f)}else o=e.filter(f=>f.week===i.week),c=n[i.week]||{},a=((u=r[i.week])==null?void 0:u.games)||[];if(o.length===0)return{leaders:[],allPlayers:[],hasTie:!1,tieCount:0};if(s){let f=0;a.forEach(S=>{var m;const g=i.week==="all"?(m=n[S.week])==null?void 0:m[S.id]:c[S.id];g&&(f+=(parseInt(g.team1)||0)+(parseInt(g.team2)||0))});const _=o.map(S=>{let g=0;return(S.weeklyPicks||[S]).forEach(x=>{a.forEach(k=>{var Y,U;const R=(Y=x.predictions)==null?void 0:Y[k.id],E=i.week==="all"?(U=n[k.week])==null?void 0:U[k.id]:c[k.id];if(!R||!E)return;const I=parseInt(R.team1)>parseInt(R.team2)?"team1":"team2",A=parseInt(E.team1)>parseInt(E.team2)?"team1":"team2";I===A&&g++})}),{playerCode:S.playerCode,playerName:S.playerName,score:g,actualTotal:f}});_.sort((S,g)=>g.score-S.score);const C=((p=_[0])==null?void 0:p.score)||0,w=_.filter(S=>S.score===C);return{leaders:w,allPlayers:_,hasTie:w.length>1,tieCount:w.length,actualTotal:f}}else{let f=0;a.forEach(S=>{var m;const g=i.week==="all"?(m=n[S.week])==null?void 0:m[S.id]:c[S.id];g&&(f+=(parseInt(g.team1)||0)+(parseInt(g.team2)||0))});const _=o.map(S=>{let g=0;(S.weeklyPicks||[S]).forEach(k=>{a.forEach(R=>{var I;const E=(I=k.predictions)==null?void 0:I[R.id];E&&(g+=(parseInt(E.team1)||0)+(parseInt(E.team2)||0))})});const x=Math.abs(g-f);return{playerCode:S.playerCode,playerName:S.playerName,score:g,actualTotal:f,difference:x}});_.sort((S,g)=>S.difference-g.difference);const C=((h=_[0])==null?void 0:h.difference)||0,w=_.filter(S=>S.difference===C);return{leaders:w,allPlayers:_,hasTie:w.length>1,tieCount:w.length,actualTotal:f}}}function NC({prizeNumber:t,allPicks:e,actualScores:n,weekData:r,officialWinner:i=null}){const[s,o]=F.useState(null),[c,a]=F.useState(!0),u=wy[t],p=[1,3,5,7,9].includes(t);if(F.useEffect(()=>{try{const S=kC(t,e,n,r);o(S),a(!1)}catch(S){console.error(`Error calculating leaders for Prize ${t}:`,S),a(!1)}},[t,e,n,r]),c)return l.jsxs("div",{className:"leader-card loading",children:[l.jsx("div",{className:"leader-card-header",children:l.jsxs("h3",{children:["Prize #",t," - ",u.name]})}),l.jsx("div",{className:"leader-card-body",children:l.jsx("p",{children:"Calculating leaders..."})})]});if(!s||s.allPlayers.length===0)return l.jsxs("div",{className:"leader-card no-data",children:[l.jsxs("div",{className:"leader-card-header",children:[l.jsxs("h3",{children:["Prize #",t," - ",u.name]}),l.jsx("span",{className:"prize-week",children:u.weekName})]}),l.jsx("div",{className:"leader-card-body",children:l.jsx("p",{children:"No picks available yet."})})]});const{leaders:h,allPlayers:f,hasTie:_,tieCount:C}=s,w=EC(u,n,r);return l.jsxs("div",{className:`leader-card ${_?"has-tie":""}`,children:[l.jsxs("div",{className:"leader-card-header",children:[l.jsxs("h3",{children:["Prize #",t," - ",u.name]}),l.jsx("span",{className:"prize-week",children:u.weekName})]}),l.jsxs("div",{className:"leader-card-body",children:[l.jsxs("div",{className:`game-status ${w.status.toLowerCase()}`,children:[l.jsxs("div",{className:"status-badge",children:[w.status==="NOT_STARTED"&&" NOT STARTED",w.status==="LIVE"&&" LIVE",w.status==="COMPLETE"&&" COMPLETE"]}),l.jsx("div",{className:"status-details",children:w.status!=="NOT_STARTED"&&l.jsxs("span",{className:"games-count",children:[w.gamesCompleted," of ",w.totalGames," games"]})}),l.jsx("p",{className:"status-message",children:w.message})]}),_&&l.jsxs("div",{className:"tie-warning",children:[" ",C,"-WAY TIE FOR 1ST PLACE!"]}),_&&l.jsxs("div",{className:"tied-leaders-section",children:[l.jsx("h4",{children:" TIED FOR 1ST PLACE:"}),l.jsx("div",{className:"leaders-list",children:h.map((S,g)=>l.jsxs("div",{className:`leader-item ${(i==null?void 0:i.playerCode)===S.playerCode?"official-winner":"tied-leader"}`,children:[l.jsxs("span",{className:"leader-rank",children:[g+1,"."]}),l.jsx("span",{className:"leader-name",children:S.playerName}),l.jsx("span",{className:"leader-score",children:p?`${S.score} correct`:`${S.score} pts  Actual: ${S.actualTotal||0} pts  Off by: ${S.difference} pts`}),(i==null?void 0:i.playerCode)===S.playerCode?l.jsx("span",{className:"official-badge",children:" OFFICIAL WINNER"}):l.jsx("span",{className:"leading-badge",children:" LEADING"})]},g))})]}),_&&f.length>C&&l.jsxs("div",{className:"next-in-line-section",children:[l.jsx("h4",{children:" NEXT IN LINE:"}),l.jsx("div",{className:"leaders-list",children:f.slice(C,C+10).map((S,g)=>l.jsxs("div",{className:"leader-item",children:[l.jsxs("span",{className:"leader-rank",children:[C+g+1,"."]}),l.jsx("span",{className:"leader-name",children:S.playerName}),l.jsx("span",{className:"leader-score",children:p?`${S.score} correct`:`${S.score} pts  Actual: ${S.actualTotal||0} pts  Off by: ${S.difference} pts`})]},g))})]}),!_&&l.jsxs("div",{className:"all-players-section",children:[l.jsx("h4",{children:" ALL PLAYERS RANKED:"}),l.jsx("div",{className:"leaders-list",children:f.map((S,g)=>l.jsxs("div",{className:`leader-item ${g===0&&(i==null?void 0:i.playerCode)===S.playerCode?"official-winner":""}`,children:[l.jsxs("span",{className:"leader-rank",children:[g+1,"."]}),l.jsx("span",{className:"leader-name",children:S.playerName}),l.jsx("span",{className:"leader-score",children:p?`${S.score} correct`:`${S.score} pts  Actual: ${S.actualTotal||0} pts  Off by: ${S.difference} pts`}),g===0&&((i==null?void 0:i.playerCode)===S.playerCode?l.jsx("span",{className:"official-badge",children:" OFFICIAL WINNER"}):l.jsx("span",{className:"leading-badge",children:" LEADING"}))]},g))})]}),!i&&l.jsx("div",{className:"no-official-winner",children:l.jsx("em",{children:"No official winner declared yet"})})]})]})}function TC({allPicks:t,actualScores:e,games:n,officialWinners:r,weekData:i}){return l.jsxs("div",{className:"leaders-section",children:[l.jsx("h2",{children:" Prize Leaders"}),l.jsx("p",{className:"leaders-description",children:"Current standings for all 10 prizes. Winners will be officially announced by the Pool Manager."}),l.jsx("div",{className:"prize-grid",children:[1,2,3,4,5,6,7,8,9,10].map(s=>l.jsx(NC,{prizeNumber:s,allPicks:t,actualScores:e,weekData:i,officialWinner:r==null?void 0:r[s]},s))})]})}const bC={apiKey:"AIzaSyDr3PPXC90wvQW_LG8TkAyR9K-7e0loQ3A",authDomain:"nfl-playoff-pool-2025-scores.firebaseapp.com",databaseURL:"https://nfl-playoff-pool-2025-scores-default-rtdb.firebaseio.com",projectId:"nfl-playoff-pool-2025-scores",storageBucket:"nfl-playoff-pool-2025-scores.firebasestorage.app",messagingSenderId:"844539772456",appId:"1:844539772456:web:9bbfcf523195a5eedfff1d"},IC=Zm(bC),Z=rC(IC),bh={firstFriday:"2026-01-09",lastMonday:"2026-02-09"},pn={wildcard:"2026-01-10",divisional:"2026-01-17",conference:"2026-01-25",superbowl:"2026-02-08"},mn=["76BB89","Z9Y8X7"],Ce={"76BB89":"POOL MANAGER - Richard",Z9Y8X7:"POOL MANAGER - Dennis",J239W4:"Bob Casson",B7Y4X3:"Bob Desrosiers",D4F7G5:"Bonnie Biletski","536EE2":"Brian Colburg",X8HH67:"Chris Neufeld",G7R3P5:"Curtis Braun",A4LJC9:"Curtis Palidwor",X3P8N1:"Dallas Pylypow",HM8T67:"Darrell Klassen",TA89R2:"Dave Boyarski",K2P9W5:"Dave Desrosiers",A5K4T7:"Dennis Biletski","6WRUJR":"Emily Chadwick",AB6C89:"Gareth Reeve",D3F6G9:"Jarrod Reimer",T42B67:"Jo Behr",PUEFKF:"Joshua Biletski",ABC378:"Ken Mcleod",K9R3N6:"Kevin Pich",H7P3N5:"Larry Bretecher",B5R4T6:"Larry Strand",L2W9X2:"Michelle Desrosiers","5GGPL3":"Mike Brkich",T4M8Z8:"Neema Dadmand","9CD72G":"Neil Banman",T7Y4R8:"Neil Foster",KWBZ86:"Nick Melanidis","2WQA9X":"Nima Ahmadi",E4T6J7:"Orest Pich",N4M8Q2:"Randy Moffatt",B8L9M2:"Richard Biletski","62R92L":"Rob Crowe",H8M3N7:"Rob Kost",WW3F44:"Ryan Moffatt",E5G7G8:"Tony Creta"},ye={wildcard:{name:"Wild Card Round (Jan 10-12, 2026)",deadline:"Friday, January 9, 2026 at 11:59 PM PST",games:[{id:1,team1:"AFC #7",team2:"AFC #2"},{id:2,team1:"AFC #6",team2:"AFC #3"},{id:3,team1:"AFC #5",team2:"AFC #4"},{id:4,team1:"NFC #7",team2:"NFC #2"},{id:5,team1:"NFC #6",team2:"NFC #3"},{id:6,team1:"NFC #5",team2:"NFC #4"}]},divisional:{name:"Divisional Round (Jan 17-18, 2026)",deadline:"Friday, January 16, 2026 at 11:59 PM PST",games:[{id:7,team1:"AFC Winner 1",team2:"AFC #1"},{id:8,team1:"AFC Winner 2",team2:"AFC Winner 3"},{id:9,team1:"NFC Winner 1",team2:"NFC #1"},{id:10,team1:"NFC Winner 2",team2:"NFC Winner 3"}]},conference:{name:"Conference Championships (Jan 25, 2026)",deadline:"Friday, January 23, 2026 at 11:59 PM PST",games:[{id:11,team1:"AFC Winner A",team2:"AFC Winner B"},{id:12,team1:"NFC Winner A",team2:"NFC Winner B"}]},superbowl:{name:"Super Bowl LIX (Feb 8, 2026)",deadline:"Friday, February 6, 2026 at 11:59 PM PST",games:[{id:13,team1:"AFC Champion",team2:"NFC Champion"}]}};function PC(){const[t,e]=F.useState("picks"),[n,r]=F.useState(""),[i,s]=F.useState(""),[o,c]=F.useState(!1),[a,u]=F.useState("wildcard"),[p,h]=F.useState({}),[f,_]=F.useState([]),[C,w]=F.useState(!1),[S,g]=F.useState({}),[m,x]=F.useState({}),[k,R]=F.useState({}),[E,I]=F.useState({wildcard:"",divisional:"",conference:"",superbowl_week4:"",superbowl_week3:"",superbowl_week2:"",superbowl_week1:"",superbowl_grand:""}),[A,Y]=F.useState({wildcard:{locked:!1,lockDate:null,autoLockDate:pn.wildcard},divisional:{locked:!1,lockDate:null,autoLockDate:pn.divisional},conference:{locked:!1,lockDate:null,autoLockDate:pn.conference},superbowl:{locked:!1,lockDate:null,autoLockDate:pn.superbowl}}),[U,ee]=F.useState({}),[Ie,Mt]=F.useState(null),[hr,pr]=F.useState(null),[Ft,gt]=F.useState(!1),[L,B]=F.useState(null),[G,ue]=F.useState(null),[Ne,Un]=F.useState([]),[Gt,ci]=F.useState([]),[yt,mr]=F.useState({}),[Le,pd]=F.useState({totalFees:0,prizeValue:0,numberOfPlayers:0,entryFee:20}),[Sy,zs]=F.useState(!1),[kt,Fl]=F.useState(""),[gr,zl]=F.useState(1),[vt,Ws]=F.useState([]),[fn,Wl]=F.useState(!1),[zt,ui]=F.useState([]),[Cy,Bl]=F.useState(!1),[Ul,di]=F.useState({}),[Ey,ky]=F.useState({}),[Ny,fi]=F.useState(!1),[ne,yr]=F.useState(""),[hi,pi]=F.useState(null),[$n,mi]=F.useState(null),[Ty,gi]=F.useState(!1),[md,vr]=F.useState(null),[yi,$l]=F.useState(null),Se=()=>mn.includes(i)&&o,by=()=>{let d=Math.floor(Math.random()*41)+10,v=Math.floor(Math.random()*41)+10;for(;d===v;)v=Math.floor(Math.random()*41)+10;return{team1:d,team2:v}},gd=()=>{const d=ye[a].games,v={};d.forEach(y=>{v[y.id]=by()}),mi(v),gi(!0)},Iy=async()=>{if(!ne||!$n)return;const d=Ce[ne];if(d)try{const v=J(Z,"picks"),y=await Ai(v);let N=null;if(y.exists()){const P=y.val();for(const[T,O]of Object.entries(P))if(O.playerCode===ne&&O.week===a){N=T;break}}const b={playerName:d,playerCode:ne,week:a,predictions:$n,timestamp:N&&y.val()[N].timestamp||Date.now(),lastUpdated:Date.now(),enteredBy:"POOL_MANAGER_RNG",enteredByCode:i,enteredByName:n};N?await Me(J(Z,`picks/${N}`),b):await Ta(J(Z,"picks"),b),alert(` RNG picks successfully submitted for ${d}!`),gi(!1),mi(null),fi(!1),yr("")}catch(v){console.error("Error submitting RNG picks:",v),alert(" Error submitting RNG picks. Please try again.")}},Py=()=>{if(!ne)return;const d=f.find(v=>v.playerCode===ne&&v.week===a);d&&d.predictions?(h(d.predictions),di({...d.predictions}),pi("manual")):(h({}),di({}),pi("manual"))},jy=async d=>{if(d.preventDefault(),!ne){alert("Please select a player first.");return}const v=Ce[ne];ye[a];try{const y=J(Z,"picks"),N=await Ai(y);let b=null;if(N.exists()){const T=N.val();for(const[O,W]of Object.entries(T))if(W.playerCode===ne&&W.week===a){b=O;break}}const P={playerName:v,playerCode:ne,week:a,predictions:p,timestamp:b&&N.val()[b].timestamp||Date.now(),lastUpdated:Date.now(),enteredBy:"POOL_MANAGER_MANUAL",enteredByCode:i,enteredByName:n};b?await Me(J(Z,`picks/${b}`),P):await Ta(J(Z,"picks"),P),alert(` Picks successfully submitted for ${v}!`),h({}),fi(!1),yr(""),pi(null)}catch(y){console.error("Error submitting picks for player:",y),alert(" Error submitting picks. Please try again.")}},Ry=async()=>{if(!ne)return;const d=Ce[ne];try{console.log(" DEBUG: Starting delete for player:",d),console.log(" DEBUG: Player code:",ne),console.log(" DEBUG: Current week:",a);const v=J(Z,"picks"),y=await Ai(v);if(console.log(" DEBUG: Got snapshot, exists?",y.exists()),y.exists()){const N=y.val();console.log(" DEBUG: Total picks in database:",Object.keys(N).length);let b=null;for(const[P,T]of Object.entries(N))if(console.log(` DEBUG: Checking pick ${P}:`,T.playerCode,T.week),T.playerCode===ne&&T.week===a){b=P,console.log(" DEBUG: FOUND KEY TO DELETE:",b);break}b?(console.log(" DEBUG: Attempting to delete key:",b),await Th(J(Z,`picks/${b}`)),console.log(" DEBUG: Delete successful!"),alert(` ${d}'s picks for ${a==="wildcard"?"Week 1":a==="divisional"?"Week 2":a==="conference"?"Week 3":"Week 4"} have been deleted!`)):(console.log(" DEBUG: No pick found to delete"),alert(` ${d} has no picks for this week.`))}vr(null),yr("")}catch(v){console.error(" DEBUG: Error deleting picks:",v),console.error(" DEBUG: Error message:",v.message),console.error(" DEBUG: Error code:",v.code),alert(` Error deleting picks: ${v.message}

Check browser console (F12) for details.`)}},Ay=async()=>{if(!ne)return;const d=Ce[ne];try{console.log(" DEBUG: Starting delete ALL for player:",d),console.log(" DEBUG: Player code:",ne);const v=J(Z,"picks"),y=await Ai(v);if(console.log(" DEBUG: Got snapshot, exists?",y.exists()),y.exists()){const N=y.val(),b=[];console.log(" DEBUG: Total picks in database:",Object.keys(N).length);for(const[P,T]of Object.entries(N))T.playerCode===ne&&(console.log(" DEBUG: Found pick to delete:",P,T.week),b.push(P));if(console.log(" DEBUG: Total keys to delete:",b.length),b.length>0){console.log(" DEBUG: Attempting to delete keys:",b);const P=b.map(T=>Th(J(Z,`picks/${T}`)));await Promise.all(P),console.log(" DEBUG: Delete ALL successful!"),alert(` ALL picks for ${d} have been deleted!

Deleted ${b.length} pick(s) across all weeks.`)}else console.log(" DEBUG: No picks found to delete"),alert(` ${d} has no picks in any week.`)}vr(null),yr(""),fi(!1)}catch(v){console.error(" DEBUG: Error deleting all picks:",v),console.error(" DEBUG: Error message:",v.message),console.error(" DEBUG: Error code:",v.code),alert(` Error deleting picks: ${v.message}

Check browser console (F12) for details.`)}},Dy=async d=>{try{console.log(" Clearing week data for:",d),S[d]&&(await Me(J(Z,`teamCodes/${d}`),null),console.log(" Cleared team codes")),m[d]&&(await Me(J(Z,`actualScores/${d}`),null),console.log(" Cleared actual scores")),k[d]&&(await Me(J(Z,`gameStatus/${d}`),null),console.log(" Cleared game status")),alert(` Week ${d==="wildcard"?"1":d==="divisional"?"2":d==="conference"?"3":"4"} data cleared!

Team names, scores, and statuses have been deleted.
Player picks are still intact.`),$l(null)}catch(v){console.error(" Error clearing week data:",v),alert(` Error clearing week data: ${v.message}`)}},yd=(d,v,y,N,b,P)=>{const T=Number(d)>Number(v),O=Number(v)>Number(d);if(d===v||!d||!v)return{background:"transparent",color:"#000"};if(y!==void 0&&N!==void 0&&y!==""&&N!==""){const W=Number(y)>Number(N),M=Number(N)>Number(y);if(!b||b===""){if(P&&T)return W?{background:"#fff9c4",color:"#000"}:{background:"#b3e5fc",color:"#000"};if(!P&&O)return M?{background:"#fff9c4",color:"#000"}:{background:"#b3e5fc",color:"#000"}}if(b==="live"){if(P&&T)return W?{background:"#c8e6c9",color:"#000"}:{background:"#ffcdd2",color:"#000"};if(!P&&O)return M?{background:"#c8e6c9",color:"#000"}:{background:"#ffcdd2",color:"#000"}}if(b==="final"){if(P&&T)return W?{background:"#4caf50",color:"#000"}:{background:"#f44336",color:"#000"};if(!P&&O)return M?{background:"#4caf50",color:"#000"}:{background:"#f44336",color:"#000"}}}return{background:"transparent",color:"#000"}},Oy=async(d,v,y)=>{try{const N=d/10,b={totalFees:Number(d),prizeValue:Number(N.toFixed(2)),numberOfPlayers:Number(v),entryFee:Number(y),lastUpdated:new Date().toISOString()};await Me(J(Z,"prizePool"),b),pd(b),alert(` Prize pool saved!

Total Pool: $${d}
Each Prize: $${N.toFixed(2)} (10%)`),zs(!1)}catch(N){console.error("Error saving prize pool:",N),alert(` Error saving prize pool: ${N.message}`)}},Bs=(d,v)=>{const y=Math.floor(d*100/v)/100,N=Math.floor(1e4/v)/100,b=[];let P=0;for(let W=0;W<v-1;W++)b.push({percentage:N,amount:y}),P+=y;const T=Number((d-P).toFixed(2)),O=Number((100-N*(v-1)).toFixed(2));return b.push({percentage:O,amount:T}),b},Ly=async()=>{if(!kt||vt.length===0){alert(" Please select a prize and at least one winner.");return}try{const d=Le.prizeValue||100;let v=[];if(fn){const N=zt.reduce((P,T)=>P+Number(T.percentage||0),0),b=zt.reduce((P,T)=>P+Number(T.amount||0),0);if(Math.abs(N-100)>.01){alert(` Percentages must equal 100%!
Current total: ${N.toFixed(2)}%`);return}if(Math.abs(b-d)>.01){alert(` Amounts must equal $${d.toFixed(2)}!
Current total: $${b.toFixed(2)}`);return}v=zt.map((P,T)=>({playerCode:vt[T].code,playerName:vt[T].name,percentage:Number(P.percentage),amount:Number(P.amount)}))}else{const N=Bs(d,vt.length);v=vt.map((b,P)=>({playerCode:b.code,playerName:b.name,percentage:N[P].percentage,amount:N[P].amount}))}const y={prizeNumber:kt,prizeName:vi(kt),prizeValue:d,winners:v,declaredBy:"POOL_MANAGER",declaredByCode:i,declaredByName:n,declaredAt:new Date().toISOString()};await Me(J(Z,`officialWinners/prize${kt}`),y),alert(` Winner(s) declared for ${vi(kt)}!

${v.map(N=>`${N.playerName}: ${N.percentage}% ($${N.amount.toFixed(2)})`).join(`
`)}`),Fl(""),zl(1),Ws([]),Wl(!1),ui([]),Bl(!1)}catch(d){console.error("Error declaring winners:",d),alert(` Error declaring winners: ${d.message}`)}},vi=d=>({1:"Prize #1 - Week 1 Most Correct Winners",2:"Prize #2 - Week 1 Closest Total Points",3:"Prize #3 - Week 2 Most Correct Winners",4:"Prize #4 - Week 2 Closest Total Points",5:"Prize #5 - Week 3 Most Correct Winners",6:"Prize #6 - Week 3 Closest Total Points",7:"Prize #7 - Week 4 Most Correct Winners",8:"Prize #8 - Week 4 Closest Total Points",9:"Prize #9 - Overall 4-Week Grand Total Most Correct Winners",10:"Prize #10 - Overall 4-Week Grand Total Closest Points"})[d]||`Prize #${d}`,My=async d=>{if(window.confirm(`Are you sure you want to delete the winner declaration for ${vi(d)}?

This action cannot be undone!`))try{await Me(J(Z,`officialWinners/prize${d}`),null),alert(` Winner declaration deleted for ${vi(d)}`)}catch(v){console.error("Error deleting prize:",v),alert(` Error: ${v.message}`)}},vd=d=>{const v=pn[d];if(!v)return!1;const y=new Date,N=new Date(y.toLocaleString("en-US",{timeZone:"America/Los_Angeles"})),b=new Date(v+"T00:00:00");return N>=b},Yt=d=>{var v;return Se()?!1:(v=A[d])!=null&&v.locked?!0:vd(d)};F.useEffect(()=>{const d=J(Z,"weekLockStatus");Qt(d,v=>{const y=v.val();if(y){const N={};Object.keys(pn).forEach(b=>{var P,T;N[b]={locked:((P=y[b])==null?void 0:P.locked)||!1,lockDate:((T=y[b])==null?void 0:T.lockDate)||null,autoLockDate:pn[b]}}),Y(N)}})},[]);const Fy=d=>{const v=!A[d].locked,y=v?new Date().toISOString():null,N={...A,[d]:{...A[d],locked:v,lockDate:y}};Y(N),Me(J(Z,`weekLockStatus/${d}`),{locked:v,lockDate:y,autoLockDate:pn[d]}),alert(v?` Week ${d} is now LOCKED

Players cannot edit picks for this week.`:` Week ${d} is now UNLOCKED

Players can edit picks for this week.`)};F.useEffect(()=>{const d=J(Z,"picks");Qt(d,v=>{const y=v.val();if(y){const N=Object.keys(y).map(b=>({...y[b],firebaseKey:b}));_(N)}else _([])})},[]),F.useEffect(()=>{const d=J(Z,"teamCodes");Qt(d,v=>{const y=v.val();y&&g(y)})},[]),F.useEffect(()=>{const d=J(Z,"actualScores");Qt(d,v=>{const y=v.val();y&&x(y)})},[]),F.useEffect(()=>{const d=J(Z,"gameStatus");Qt(d,v=>{const y=v.val();y&&R(y)})},[]),F.useEffect(()=>{const d=J(Z,"officialWinners");Qt(d,v=>{const y=v.val();y&&mr(y)})},[]),F.useEffect(()=>{const d=J(Z,"prizePool");Qt(d,v=>{const y=v.val();y&&pd(y)})},[]),F.useEffect(()=>{const d=J(Z,"gameLocks");Qt(d,v=>{const y=v.val();y&&ee(y)})},[]),F.useEffect(()=>{const d=J(Z,"manualWeekTotals");Qt(d,v=>{const y=v.val();y&&I(y)})},[]),F.useEffect(()=>{if(o&&n&&f.length>0){const d=f.find(v=>v.playerName===n&&v.week===a);d&&d.predictions?(console.log("Loading existing picks for",n,"week",a),h(d.predictions)):(console.log("No existing picks found - clearing form"),h({}))}},[a,f,o,n]),F.useEffect(()=>{const d=new hC(_d,5);return Mt(d),()=>{d&&d.stop()}},[]);const _d=async()=>{try{console.log("Fetching scores from ESPN...");const d=await cC();if(!d.success){console.error("ESPN fetch failed:",d.error);return}console.log("ESPN games fetched:",d.games.length);const v=ye[a].games,y={};if(d.games.forEach(N=>{var P;const b=fC(N,ye,a,S);if(b){const T=b.gameId;if((P=U[a])!=null&&P[T]){console.log(`Game ${T} is locked, skipping API update`);return}y[T]={team1:b.team1Score,team2:b.team2Score,source:"espn",lastUpdated:new Date().toISOString()},R(O=>({...O,[a]:{...O[a],[T]:b.isFinal?"final":b.isLive?"live":""}}))}}),Object.keys(y).length>0){x(b=>({...b,[a]:{...b[a],...y}}));const N=J(Z,`actualScores/${a}`);await Me(N,{...m[a],...y}),console.log(`Updated ${Object.keys(y).length} games from ESPN`)}pr(new Date)}catch(d){console.error("Error fetching ESPN scores:",d)}},zy=d=>{var v;console.log(" Toggle clicked for game:",d),console.log(" Current week:",a),console.log(" Current locks:",U),console.log(" Current value for game",d,":",(v=U[a])==null?void 0:v[d]),ee(y=>{const N={...y};N[a]||(N[a]={});const b=N[a][d],P=!b;console.log(" Old value:",b),console.log(" New value:",P),N[a][d]=P;const T=J(Z,`gameLocks/${a}/${d}`);return Me(T,P),console.log(" Saved to Firebase:",P),console.log(" Returning new locks:",N),N})},xd=(d,v,y)=>{h(N=>({...N,[d]:{...N[d],[v]:y}}))},Wy=()=>{if(Object.keys(p).some(y=>{var N,b;return((N=p[y])==null?void 0:N.team1)||((b=p[y])==null?void 0:b.team2)})&&!window.confirm(` WARNING!

Clicking RNG will OVERWRITE all your current picks!

Are you sure you want to continue?`))return;const v={};je.games.forEach(y=>{const N=Math.floor(Math.random()*43)+3,b=Math.floor(Math.random()*43)+3;v[y.id]={team1:N.toString(),team2:b.toString()}}),h(v),alert(` RNG picks generated for all ${je.games.length} games!

Score range: 3-45 points per team

You can now edit any scores before submitting.`)},wd=(d,v,y)=>{var b;const N={...S,[a]:{...S[a]||{},[d]:{...((b=S[a])==null?void 0:b[d])||{},[v]:y.toUpperCase()}}};g(N),Me(J(Z,`teamCodes/${a}/${d}/${v}`),y.toUpperCase())},Sd=(d,v,y)=>{var b;const N={...m,[a]:{...m[a]||{},[d]:{...((b=m[a])==null?void 0:b[d])||{},[v]:y}}};x(N),Me(J(Z,`actualScores/${a}/${d}/${v}`),y)},By=(d,v)=>{const y={...k,[a]:{...k[a]||{},[d]:v}};R(y),Me(J(Z,`gameStatus/${a}/${d}`),v)},_r=(d,v)=>{const y={...E,[d]:v};I(y),Me(J(Z,`manualWeekTotals/${d}`),v)},Uy=d=>{Ft?(ue(d),B("unsavedChanges")):(u(d),Us(d))},Us=d=>{const v=f.find(y=>y.week===d&&y.playerCode===i);v&&v.predictions?(h(v.predictions),di(v.predictions),gt(!1)):(h({}),di({}),gt(!1))};F.useEffect(()=>{const d=JSON.stringify(p)!==JSON.stringify(Ul);gt(d)},[p,Ul]),F.useEffect(()=>{o&&i&&Us(a)},[a,o,i,f]),F.useEffect(()=>{if(f.length>0&&i){const d={};["wildcard","divisional","conference","superbowl"].forEach(v=>{const y=f.find(N=>N.week===v&&N.playerCode===i);if(y&&y.predictions){const N=ye[v].games.length,b=Object.keys(y.predictions).filter(P=>{var T,O;return((T=y.predictions[P])==null?void 0:T.team1)&&((O=y.predictions[P])==null?void 0:O.team2)}).length;d[v]={complete:b===N,count:b,total:N}}}),ky(d)}},[f,i]);const _i=()=>{if(Se())return!0;const d=new Date,v=new Date(d.toLocaleString("en-US",{timeZone:"America/Los_Angeles"})),y=new Date(bh.firstFriday+"T00:00:00"),N=new Date(bh.lastMonday+"T23:59:59");if(v<y)return!0;if(v>N)return!1;const b=v.getDay(),P=v.getHours(),T=v.getMinutes();return!(b===5&&P===23&&T>=59||b===6||b===0||b===1&&P===0&&T===0)},Cd=()=>{const d=i.trim().toUpperCase();if(!d){alert("Please enter your 6-character player code");return}if(d.length!==6||!/^[A-Z0-9]{6}$/.test(d)){alert(`Invalid code format!

Player codes must be exactly 6 characters (letters and numbers).
Example: A7K9M2`);return}const v=Ce[d];if(!v){alert(`Invalid player code!

This code is not recognized.

Make sure you:
1. Paid your $20 entry fee
2. Received your code from the pool manager
3. Entered the code correctly

Contact: gammoneer2b@gmail.com`);return}if(f.find(N=>N.playerName===v&&N.week===a))if(mn.includes(d))alert(`Welcome, Pool Manager!

You have unrestricted access to:
 Enter picks anytime (no lockout)
 Enter team codes
 Enter actual game scores
 Set game status (LIVE/FINAL)
 Lock/unlock weeks
 View all player codes`);else{const N=Yt(a);alert(N?`Welcome back, ${v}!

 WARNING: This week is LOCKED!

Your existing picks for ${ye[a].name} will be loaded, but you cannot edit them because the games have been played.

You can only view your submitted picks.`:`Welcome back, ${v}!

Your existing picks for ${ye[a].name} will be loaded automatically.

You can edit and resubmit anytime except during playoff weekends (Friday 11:59 PM - Monday 12:01 AM PST).`)}else mn.includes(d)&&alert(`Welcome, Pool Manager!

You have unrestricted access to:
 Enter picks anytime (no lockout)
 Enter team codes
 Enter actual game scores
 Set game status (LIVE/FINAL)
 Lock/unlock weeks
 View all player codes`);r(v),s(d),c(!0)},$y=()=>{const d=f.filter(T=>T.week===a);if(d.length===0){alert("No picks to download for this week.");return}const v=ye[a];let y="";y+="TEAM CODES:,",v.games.forEach(T=>{var M,V,$,re;const O=((V=(M=S[a])==null?void 0:M[T.id])==null?void 0:V.team1)||"-",W=((re=($=S[a])==null?void 0:$[T.id])==null?void 0:re.team2)||"-";y+=`${O},${W},`}),a==="superbowl"&&(y+=",,,,"),y+=`
`,y+="ACTUAL SCORES:,",v.games.forEach(T=>{var M,V,$,re;const O=((V=(M=m[a])==null?void 0:M[T.id])==null?void 0:V.team1)||"-",W=((re=($=m[a])==null?void 0:$[T.id])==null?void 0:re.team2)||"-";y+=`${O},${W},`}),a==="superbowl"&&(y+=",,,,"),y+=`
`,y+="GAME TOTALS:,",v.games.forEach(T=>{var $,re,de,ge;const O=parseInt((re=($=m[a])==null?void 0:$[T.id])==null?void 0:re.team1)||0,W=parseInt((ge=(de=m[a])==null?void 0:de[T.id])==null?void 0:ge.team2)||0,M=O+W,V=O>0||W>0?M:"-";y+=`${V},,`}),a==="superbowl"&&(y+=",,,,"),y+=`
`,y+="GAME STATUS:,",v.games.forEach(T=>{var M;const O=((M=k[a])==null?void 0:M[T.id])||"-";y+=`${O==="final"?"FINAL":O==="live"?"LIVE":"-"},,`}),a==="superbowl"&&(y+=",,,,"),y+=`
`,y+="OFFICIAL TOTALS:,",v.games.forEach(()=>{y+=",,"}),a==="superbowl"?(y+=`${E.superbowl_week4||"-"},`,y+=`${E.superbowl_week3||"-"},`,y+=`${E.superbowl_week2||"-"},`,y+=`${E.superbowl_week1||"-"},`,y+=`${E.superbowl_grand||"-"},`):y+=`${E[a]||"-"},`,y+=`
`,y+=`
`,y+=",",v.games.forEach(T=>{y+=`Game ${T.id},Game ${T.id},`}),y+=`
`,y+="Player Name,",v.games.forEach(T=>{y+=`${T.team1} Score,${T.team2} Score,`}),a==="superbowl"?y+="Week 4 Total,Week 3 Total,Week 2 Total,Week 1 Total,GRAND TOTAL,":y+="Total Points,",y+=`Submitted At
`,d.sort((T,O)=>(O.lastUpdated||O.timestamp)-(T.lastUpdated||T.timestamp)).forEach(T=>{if(y+=`"${T.playerName}",`,v.games.forEach(W=>{var $,re;const M=(($=T.predictions[W.id])==null?void 0:$.team1)||"-",V=((re=T.predictions[W.id])==null?void 0:re.team2)||"-";y+=`${M},${V},`}),a==="superbowl"){const W=(()=>{const de=f.find(fe=>fe.playerName===T.playerName&&fe.week==="superbowl");if(!de)return 0;let ge=0;return ye.superbowl.games.forEach(fe=>{const Te=de.predictions[fe.id];Te&&(ge+=(Number(Te.team1)||0)+(Number(Te.team2)||0))}),ge})(),M=(()=>{const de=f.find(fe=>fe.playerName===T.playerName&&fe.week==="conference");if(!de)return 0;let ge=0;return ye.conference.games.forEach(fe=>{const Te=de.predictions[fe.id];Te&&(ge+=(Number(Te.team1)||0)+(Number(Te.team2)||0))}),ge})(),V=(()=>{const de=f.find(fe=>fe.playerName===T.playerName&&fe.week==="divisional");if(!de)return 0;let ge=0;return ye.divisional.games.forEach(fe=>{const Te=de.predictions[fe.id];Te&&(ge+=(Number(Te.team1)||0)+(Number(Te.team2)||0))}),ge})(),$=(()=>{const de=f.find(fe=>fe.playerName===T.playerName&&fe.week==="wildcard");if(!de)return 0;let ge=0;return ye.wildcard.games.forEach(fe=>{const Te=de.predictions[fe.id];Te&&(ge+=(Number(Te.team1)||0)+(Number(Te.team2)||0))}),ge})(),re=W+M+V+$;y+=`${W},${M},${V},${$},${re},`}else{const W=v.games.reduce((M,V)=>{var de,ge;const $=parseInt((de=T.predictions[V.id])==null?void 0:de.team1)||0,re=parseInt((ge=T.predictions[V.id])==null?void 0:ge.team2)||0;return M+$+re},0);y+=`${W},`}const O=new Date(T.lastUpdated||T.timestamp).toLocaleString("en-US",{month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0});y+=`"${O}"
`});const N=new Blob([y],{type:"text/csv;charset=utf-8;"}),b=document.createElement("a"),P=URL.createObjectURL(N);b.setAttribute("href",P),b.setAttribute("download",`nfl_playoff_picks_${a}_${Date.now()}.csv`),b.style.visibility="hidden",document.body.appendChild(b),b.click(),document.body.removeChild(b)},Ed=async d=>{if(d.preventDefault(),Yt(a)){alert(` WEEK LOCKED

This week's games have been played.
Picks are permanently locked.`);return}if(!_i()){alert(` SUBMISSIONS CLOSED

During playoff weekends, picks are locked from:
 Friday 11:59 PM PST
 Through Monday 12:01 AM PST`);return}const v=ye[a],y=[];if(v.games.forEach(P=>{(!p[P.id]||!p[P.id].team1||!p[P.id].team2)&&y.push(P.id)}),y.length>0){Un(y),B("incomplete");return}const N=[];if(v.games.forEach(P=>{var W,M;const T=parseInt((W=p[P.id])==null?void 0:W.team1),O=parseInt((M=p[P.id])==null?void 0:M.team2);(isNaN(T)||isNaN(O)||T<0||O<0)&&N.push(P.id)}),N.length>0){ci(N),B("invalidScores");return}const b=[];if(v.games.forEach(P=>{var W,M;const T=parseInt((W=p[P.id])==null?void 0:W.team1),O=parseInt((M=p[P.id])==null?void 0:M.team2);T===O&&b.push(P.id)}),b.length>0){Un(b),B("tiedGames");return}if(!Ft){B("noChanges");return}try{const P=J(Z,"picks"),T=await Ai(P);let O=null,W=null;if(T.exists()){const V=T.val();for(const[$,re]of Object.entries(V))if(re.playerCode===i&&re.week===a){O=re,W=$;break}}const M={playerName:n,playerCode:i,week:a,predictions:p,timestamp:O?O.timestamp:Date.now(),lastUpdated:Date.now()};W?await Me(J(Z,`picks/${W}`),M):await Ta(J(Z,"picks"),M),w(!0),di({...p}),gt(!1),B("success"),setTimeout(()=>{const V=document.querySelector(".all-picks");V&&V.scrollIntoView({behavior:"smooth"})},100)}catch(P){console.error("Error submitting picks:",P),alert("Error submitting picks. Please try again.")}},je=ye[a],xr=F.useMemo(()=>{const d={};return f.filter(y=>y.week===a).forEach(y=>{d[y.playerName]||(d[y.playerName]={week4:0,week3:0,week2:0,week1:0,grand:0,current:0});let N=0;if(ye[a].games.forEach(P=>{const T=y.predictions[P.id];T&&T.team1&&T.team2&&(N+=(parseInt(T.team1)||0)+(parseInt(T.team2)||0))}),d[y.playerName].current=N,a==="superbowl"){const P=f.find(M=>M.playerName===y.playerName&&M.week==="superbowl");if(P&&P.predictions){let M=0;ye.superbowl.games.forEach(V=>{const $=P.predictions[V.id];$&&(M+=(Number($.team1)||0)+(Number($.team2)||0))}),d[y.playerName].week4=M}const T=f.find(M=>M.playerName===y.playerName&&M.week==="conference");if(T&&T.predictions){let M=0;ye.conference.games.forEach(V=>{const $=T.predictions[V.id];$&&(M+=(Number($.team1)||0)+(Number($.team2)||0))}),d[y.playerName].week3=M}const O=f.find(M=>M.playerName===y.playerName&&M.week==="divisional");if(O&&O.predictions){let M=0;ye.divisional.games.forEach(V=>{const $=O.predictions[V.id];$&&(M+=(Number($.team1)||0)+(Number($.team2)||0))}),d[y.playerName].week2=M}const W=f.find(M=>M.playerName===y.playerName&&M.week==="wildcard");if(W&&W.predictions){let M=0;ye.wildcard.games.forEach(V=>{const $=W.predictions[V.id];$&&(M+=(Number($.team1)||0)+(Number($.team2)||0))}),d[y.playerName].week1=M}d[y.playerName].grand=d[y.playerName].week1+d[y.playerName].week2+d[y.playerName].week3+d[y.playerName].week4}}),d},[f,a]);return l.jsxs("div",{className:"App",children:[l.jsxs("header",{children:[l.jsx("h1",{children:" Richard's NFL Playoff Pool 2025"}),l.jsx("p",{children:"Enter your score predictions for each NFL Playoff 2025 game"}),l.jsxs("p",{style:{fontSize:"0.85rem",marginTop:"10px",opacity:.8},children:["v2.2-PLAYOFF-SCHEDULE-",new Date().toISOString().slice(0,10).replace(/-/g,"")]}),l.jsxs("div",{style:{marginTop:"15px",display:"flex",flexDirection:"column",gap:"10px",alignItems:"center"},children:[l.jsxs("div",{style:{display:"flex",gap:"15px",flexWrap:"wrap",justifyContent:"center"},children:[l.jsx("a",{href:"/nfl-playoff-pool/Playoff_Pool_Quick_Rules.pdf",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",padding:"10px 20px",backgroundColor:"#0984e3",color:"white",textDecoration:"none",borderRadius:"5px",fontSize:"0.95rem",fontWeight:"bold",transition:"background-color 0.3s ease",cursor:"pointer"},onMouseOver:d=>d.target.style.backgroundColor="#74b9ff",onMouseOut:d=>d.target.style.backgroundColor="#0984e3",children:" View Quick Rules (2 Pages)"}),l.jsx("a",{href:"/nfl-playoff-pool/Richards_Playoff_Pool_LIX_Rulebook.pdf",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",padding:"10px 20px",backgroundColor:"#6c5ce7",color:"white",textDecoration:"none",borderRadius:"5px",fontSize:"0.95rem",fontWeight:"bold",transition:"background-color 0.3s ease",cursor:"pointer"},onMouseOver:d=>d.target.style.backgroundColor="#a29bfe",onMouseOut:d=>d.target.style.backgroundColor="#6c5ce7",children:" View Full Rulebook (13 Pages)"})]}),l.jsx("p",{style:{fontSize:"1.1em",marginTop:"10px",color:"#ffffff",fontWeight:"500"},children:"Entry Fee: $20 - Must be paid before end of regular season"})]})]}),l.jsxs("div",{className:"container",children:[Se()&&o&&l.jsxs("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"15px 20px",borderRadius:"8px",marginBottom:"20px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[l.jsxs("h3",{style:{margin:"0 0 15px 0",display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx("span",{children:""}),l.jsx("span",{children:"POOL MANAGER - WEEK LOCK CONTROLS"})]}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"10px"},children:Object.keys(ye).map(d=>{var b,P;const v=(b=A[d])==null?void 0:b.locked,y=vd(d),N=v||y;return l.jsxs("div",{style:{background:"rgba(255,255,255,0.15)",padding:"12px",borderRadius:"6px",display:"flex",flexDirection:"column",gap:"8px"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",fontWeight:"bold",fontSize:"0.9rem"},children:[l.jsxs("span",{children:[N?"":""," Week ",d==="wildcard"?"1":d==="divisional"?"2":d==="conference"?"3":"4"]}),l.jsx("span",{style:{fontSize:"0.75rem",opacity:.9},children:(P=A[d])==null?void 0:P.autoLockDate})]}),y&&!v&&l.jsx("div",{style:{fontSize:"0.7rem",padding:"4px 8px",background:"rgba(255,193,7,0.3)",borderRadius:"4px",border:"1px solid rgba(255,193,7,0.5)"},children:" AUTO-LOCKED"}),v&&l.jsx("div",{style:{fontSize:"0.7rem",padding:"4px 8px",background:"rgba(220,53,69,0.3)",borderRadius:"4px",border:"1px solid rgba(220,53,69,0.5)"},children:" MANUALLY LOCKED"}),l.jsx("button",{onClick:()=>Fy(d),style:{padding:"8px 12px",background:v?"#28a745":"#dc3545",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.85rem",fontWeight:"600",transition:"all 0.2s"},children:v?" Unlock Week":" Lock Week"}),l.jsx("button",{onClick:()=>$l(d),style:{padding:"8px 12px",background:"#e67e22",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.85rem",fontWeight:"600",transition:"all 0.2s",marginTop:"8px"},children:" Clear Week Data"})]},d)})}),l.jsx("p",{style:{fontSize:"0.8rem",marginTop:"12px",marginBottom:"0",opacity:.9},children:" Manual locks override automatic locks. Players cannot edit picks for locked weeks."})]}),Se()&&o&&l.jsxs("div",{style:{background:"linear-gradient(135deg, #f39c12 0%, #e74c3c 100%)",color:"white",padding:"20px",borderRadius:"8px",marginBottom:"20px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[l.jsxs("h3",{style:{margin:"0 0 15px 0",display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx("span",{children:""}),l.jsx("span",{children:"POOL MANAGER OVERRIDE - ENTER/EDIT PICKS FOR ANY PLAYER"})]}),Ny?l.jsxs("div",{children:[l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"0.95rem"},children:"Select Player:"}),l.jsxs("select",{value:ne,onChange:d=>{yr(d.target.value),pi(null),mi(null),gi(!1)},style:{width:"100%",padding:"12px",fontSize:"1rem",borderRadius:"6px",border:"2px solid white",background:"rgba(255,255,255,0.95)",color:"#333",fontWeight:"600"},children:[l.jsx("option",{value:"",children:"-- Select a Player --"}),Object.keys(Ce).sort((d,v)=>{const y=Ce[d].toUpperCase(),N=Ce[v].toUpperCase();return y.localeCompare(N)}).map(d=>l.jsxs("option",{value:d,children:[Ce[d]," (",d,")"]},d))]})]}),ne&&l.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:"15px",borderRadius:"6px",marginBottom:"15px"},children:[l.jsxs("div",{style:{marginBottom:"15px"},children:[l.jsx("strong",{children:"Selected:"})," ",Ce[ne]," (",ne,")",l.jsx("br",{}),l.jsx("strong",{children:"Week:"})," ",a==="wildcard"?"Week 1":a==="divisional"?"Week 2":a==="conference"?"Week 3":"Week 4",l.jsx("br",{}),l.jsx("strong",{children:"Status:"})," ",f.find(d=>d.playerCode===ne&&d.week===a)?" HAS PICKS":" NO PICKS"]}),l.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[l.jsx("button",{onClick:gd,style:{flex:"1",minWidth:"150px",padding:"12px",background:"#9b59b6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Generate RNG Picks"}),l.jsx("button",{onClick:Py,style:{flex:"1",minWidth:"150px",padding:"12px",background:"#3498db",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Enter/Edit Manually"})]}),f.find(d=>d.playerCode===ne)&&l.jsxs("div",{style:{marginTop:"15px",padding:"15px",background:"rgba(220, 53, 69, 0.1)",borderRadius:"6px",border:"2px solid rgba(220, 53, 69, 0.3)"},children:[l.jsx("div",{style:{marginBottom:"10px",fontWeight:"600",color:"#dc3545"},children:" Danger Zone - Delete Operations"}),l.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[l.jsx("button",{onClick:()=>vr("week"),style:{flex:"1",minWidth:"150px",padding:"12px",background:"#e67e22",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Delete This Week Only"}),l.jsx("button",{onClick:()=>vr("all"),style:{flex:"1",minWidth:"150px",padding:"12px",background:"#c0392b",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Delete ALL Weeks"})]})]})]}),l.jsx("button",{onClick:()=>{fi(!1),yr(""),pi(null),mi(null),gi(!1)},style:{padding:"10px 20px",background:"#95a5a6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Exit Override Mode"})]}):l.jsxs("div",{children:[l.jsx("p",{style:{marginBottom:"15px",fontSize:"0.9rem"},children:" Enter picks on behalf of players who missed the deadline or need assistance. Works even when week is locked."}),l.jsx("button",{onClick:()=>fi(!0),style:{padding:"12px 24px",background:"white",color:"#e74c3c",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:" Enter Override Mode"})]})]}),Ty&&$n&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},children:l.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"30px",maxWidth:"600px",width:"100%",maxHeight:"90vh",overflow:"auto",boxShadow:"0 8px 32px rgba(0,0,0,0.3)"},children:[l.jsx("h3",{style:{marginTop:0,color:"#9b59b6"},children:" RNG PICKS GENERATED"}),l.jsxs("p",{style:{color:"#666",marginBottom:"20px"},children:["Player: ",l.jsx("strong",{children:Ce[ne]}),l.jsx("br",{}),"Week: ",l.jsx("strong",{children:a==="wildcard"?"Week 1":a==="divisional"?"Week 2":a==="conference"?"Week 3":"Week 4"})]}),l.jsx("div",{style:{marginBottom:"20px"},children:ye[a].games.map(d=>l.jsxs("div",{style:{padding:"12px",background:"#f8f9fa",borderRadius:"6px",marginBottom:"10px",border:"2px solid #e9ecef"},children:[l.jsxs("div",{style:{fontWeight:"600",marginBottom:"5px",color:"#333"},children:["Game ",d.id,": ",d.team1," vs ",d.team2]}),l.jsxs("div",{style:{fontSize:"1.2rem",fontWeight:"700",color:"#9b59b6"},children:[$n[d.id].team1," - ",$n[d.id].team2,$n[d.id].team1>$n[d.id].team2?` (${d.team1} wins)`:` (${d.team2} wins)`]})]},d.id))}),l.jsxs("div",{style:{background:"#d4edda",border:"1px solid #c3e6cb",color:"#155724",padding:"12px",borderRadius:"6px",marginBottom:"20px",fontSize:"0.9rem"},children:[" All scores between 10-50 (inclusive)",l.jsx("br",{})," No tied games",l.jsx("br",{}),' Will be marked as "POOL_MANAGER_RNG" in database']}),l.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[l.jsx("button",{onClick:Iy,style:{flex:"1",padding:"14px 24px",background:"#28a745",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Submit RNG Picks"}),l.jsx("button",{onClick:gd,style:{flex:"1",padding:"14px 24px",background:"#ffc107",color:"#333",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Regenerate"}),l.jsx("button",{onClick:()=>{gi(!1),mi(null)},style:{padding:"14px 24px",background:"#dc3545",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Cancel"})]})]})}),md&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},children:l.jsx("div",{style:{background:"white",borderRadius:"12px",padding:"30px",maxWidth:"500px",width:"100%",boxShadow:"0 8px 32px rgba(0,0,0,0.3)"},children:md==="week"?l.jsxs(l.Fragment,{children:[l.jsxs("h3",{style:{marginTop:0,color:"#e67e22",display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx("span",{children:""}),l.jsx("span",{children:"DELETE PICKS FOR THIS WEEK?"})]}),l.jsxs("div",{style:{marginBottom:"20px",color:"#666"},children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Player:"})," ",Ce[ne]]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Week:"})," ",a==="wildcard"?"Week 1 (Wildcard)":a==="divisional"?"Week 2 (Divisional)":a==="conference"?"Week 3 (Conference)":"Week 4 (Super Bowl)"]})]}),l.jsxs("div",{style:{background:"#fff3cd",border:"1px solid #ffc107",color:"#856404",padding:"15px",borderRadius:"6px",marginBottom:"20px",fontSize:"0.95rem"},children:[l.jsx("strong",{children:" Warning:"})," This will DELETE ",Ce[ne],"'s picks for this week only.",l.jsx("br",{}),l.jsx("strong",{children:"This action CANNOT be undone!"})]}),l.jsxs("div",{style:{display:"flex",gap:"10px"},children:[l.jsx("button",{onClick:()=>vr(null),style:{flex:"1",padding:"14px",background:"#95a5a6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Cancel"}),l.jsx("button",{onClick:Ry,style:{flex:"1",padding:"14px",background:"#e67e22",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Yes, Delete This Week"})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("h3",{style:{marginTop:0,color:"#c0392b",display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx("span",{children:""}),l.jsx("span",{children:"DELETE ALL PICKS?"})]}),l.jsx("div",{style:{marginBottom:"20px",color:"#666"},children:l.jsxs("p",{children:[l.jsx("strong",{children:"Player:"})," ",Ce[ne]]})}),l.jsxs("div",{style:{background:"#f8d7da",border:"2px solid #dc3545",color:"#721c24",padding:"15px",borderRadius:"6px",marginBottom:"20px",fontSize:"0.95rem"},children:[l.jsx("strong",{children:" DANGER:"})," This will DELETE ALL of ",Ce[ne],"'s picks:",l.jsx("br",{}),l.jsx("br",{}),f.filter(d=>d.playerCode===ne).map(d=>l.jsxs("div",{style:{marginLeft:"20px"},children:[" ",d.week==="wildcard"?"Week 1":d.week==="divisional"?"Week 2":d.week==="conference"?"Week 3":"Week 4"," picks"]},d.week)),l.jsx("br",{}),l.jsx("strong",{children:"This action CANNOT be undone!"}),l.jsx("br",{}),l.jsx("strong",{children:"Are you absolutely sure?"})]}),l.jsxs("div",{style:{display:"flex",gap:"10px"},children:[l.jsx("button",{onClick:()=>vr(null),style:{flex:"1",padding:"14px",background:"#95a5a6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Cancel"}),l.jsx("button",{onClick:Ay,style:{flex:"1",padding:"14px",background:"#c0392b",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Yes, Delete Everything"})]})]})})}),yi&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},children:l.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"30px",maxWidth:"500px",width:"100%",boxShadow:"0 8px 32px rgba(0,0,0,0.3)"},children:[l.jsxs("h3",{style:{marginTop:0,color:"#e67e22",display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx("span",{children:""}),l.jsx("span",{children:"CLEAR WEEK DATA?"})]}),l.jsx("div",{style:{marginBottom:"20px",color:"#666"},children:l.jsxs("p",{children:[l.jsx("strong",{children:"Week:"})," ",yi==="wildcard"?"Week 1 (Wildcard)":yi==="divisional"?"Week 2 (Divisional)":yi==="conference"?"Week 3 (Conference)":"Week 4 (Super Bowl)"]})}),l.jsxs("div",{style:{background:"#fff3cd",border:"2px solid #ffc107",color:"#856404",padding:"15px",borderRadius:"6px",marginBottom:"20px",fontSize:"0.95rem"},children:[l.jsx("strong",{children:" This will DELETE:"}),l.jsxs("div",{style:{marginLeft:"20px",marginTop:"10px"},children:[" All team names for this week",l.jsx("br",{})," All actual scores for this week",l.jsx("br",{})," All game statuses (FINAL/LIVE) for this week"]}),l.jsx("br",{}),l.jsx("strong",{style:{color:"#d63031"},children:" This will KEEP:"}),l.jsx("div",{style:{marginLeft:"20px",marginTop:"5px"},children:" ALL player picks (NOT deleted!)"}),l.jsx("br",{}),l.jsx("strong",{children:"This action CANNOT be undone!"})]}),l.jsxs("div",{style:{display:"flex",gap:"10px"},children:[l.jsx("button",{onClick:()=>$l(null),style:{flex:"1",padding:"14px",background:"#95a5a6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Cancel"}),l.jsx("button",{onClick:()=>Dy(yi),style:{flex:"1",padding:"14px",background:"#e67e22",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Yes, Clear Week Data"})]})]})}),Se()&&o&&l.jsx(lC,{currentWeek:a,games:je.games,actualScores:m,teamCodes:S,onScoresFetched:_d,onGameLockToggle:zy,gameLocks:U,espnAutoRefresh:Ie}),Se()&&o&&l.jsxs("div",{style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"white",padding:"15px 20px",borderRadius:"8px",marginBottom:"20px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[l.jsxs("h3",{style:{margin:"0 0 15px 0",display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx("span",{children:""}),l.jsx("span",{children:"ALL PLAYER CODES"})]}),l.jsx("div",{style:{background:"rgba(255,255,255,0.95)",padding:"15px",borderRadius:"6px",maxHeight:"300px",overflowY:"auto"},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.9rem"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{background:"#f8f9fa",borderBottom:"2px solid #dee2e6"},children:[l.jsx("th",{style:{padding:"10px",textAlign:"left",color:"#495057",fontWeight:"600"},children:"Player Code"}),l.jsx("th",{style:{padding:"10px",textAlign:"left",color:"#495057",fontWeight:"600"},children:"Player Name"}),l.jsx("th",{style:{padding:"10px",textAlign:"center",color:"#495057",fontWeight:"600"},children:"Role"})]})}),l.jsx("tbody",{children:Object.entries(Ce).sort((d,v)=>{const y=mn.includes(d[0]),N=mn.includes(v[0]);return y&&!N?-1:!y&&N?1:d[1].localeCompare(v[1])}).map(([d,v],y)=>{const N=mn.includes(d);return l.jsxs("tr",{style:{background:y%2===0?"#ffffff":"#f8f9fa",borderBottom:"1px solid #dee2e6"},children:[l.jsx("td",{style:{padding:"10px",color:"#212529",fontFamily:"monospace",fontWeight:"bold",fontSize:"1rem"},children:d}),l.jsx("td",{style:{padding:"10px",color:"#212529"},children:v}),l.jsx("td",{style:{padding:"10px",textAlign:"center"},children:N?l.jsx("span",{style:{padding:"4px 8px",background:"#dc3545",color:"white",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"600"},children:" MANAGER"}):l.jsx("span",{style:{padding:"4px 8px",background:"#28a745",color:"white",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"600"},children:" PLAYER"})})]},d)})})]})}),l.jsxs("p",{style:{fontSize:"0.8rem",marginTop:"12px",marginBottom:"0",opacity:.9},children:[" Total Players: ",Object.keys(Ce).length," | Pool Managers: ",mn.length," | Regular Players: ",Object.keys(Ce).length-mn.length]})]}),o&&l.jsx(gC,{currentWeek:a,onWeekChange:Uy,weekPicks:Ey,weekLockStatus:A,hasUnsavedChanges:Ft,isPoolManager:Se()}),o&&l.jsxs("div",{className:"view-navigation",children:[l.jsx("button",{className:`nav-btn ${t==="picks"?"active":""}`,onClick:()=>e("picks"),children:" Make Picks"}),l.jsx("button",{className:`nav-btn ${t==="standings"?"active":""}`,onClick:()=>e("standings"),children:" Standings & Prizes"})]}),t==="standings"&&o?l.jsx(oC,{allPicks:f,actualScores:m,currentWeek:a,playerName:n,playerCode:i,isPoolManager:Se(),prizePool:Le,officialWinners:yt,onLogout:()=>{c(!1),s(""),r(""),h({}),e("picks")}}):l.jsxs(l.Fragment,{children:[o?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"player-confirmed",children:[l.jsx("span",{className:"confirmation-badge",children:" VERIFIED"}),l.jsxs("h3",{children:["Welcome, ",l.jsx("span",{className:"player-name-highlight",children:n}),"!",Se()&&l.jsx("span",{style:{marginLeft:"10px",color:"#d63031"},children:" POOL MANAGER"})]}),l.jsxs("p",{style:{color:"#000"},children:["Making picks for: ",l.jsx("strong",{children:je.name})]}),Yt(a)&&!Se()&&l.jsx("div",{style:{marginTop:"10px",padding:"10px 15px",background:"#fff3cd",border:"2px solid #ffc107",borderRadius:"6px",color:"#856404",fontWeight:"600"},children:" This week is LOCKED - You can view your picks but cannot edit them"}),l.jsx("button",{className:"validate-btn",style:{marginTop:"15px",padding:"10px 20px",fontSize:"0.9rem"},onClick:()=>{c(!1),s(""),r(""),h({})},children:" Logout / Switch Entry"}),l.jsx("p",{style:{fontSize:"0.85rem",color:"#666",marginTop:"10px",fontStyle:"italic"},children:" Playing with multiple entries? Logout to switch between your codes."})]}),!_i()&&l.jsx("div",{className:"closed-warning",children:" PICKS ARE LOCKED (Playoff Weekend: Friday 11:59 PM - Monday 12:01 AM PST)"}),l.jsxs("div",{className:"prediction-form",children:[hi==="manual"?l.jsxs("h2",{style:{color:"#e74c3c"},children:[" OVERRIDE MODE: Entering Picks for ",Ce[ne]]}):l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"15px"},children:[l.jsx("h2",{style:{margin:0},children:"Enter Your Predictions"}),!Yt(a)&&l.jsx("button",{type:"button",onClick:Wy,style:{padding:"10px 20px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"0.95rem",fontWeight:"600",boxShadow:"0 4px 15px rgba(102, 126, 234, 0.4)",transition:"all 0.3s ease"},onMouseOver:d=>{d.target.style.transform="translateY(-2px)",d.target.style.boxShadow="0 6px 20px rgba(102, 126, 234, 0.6)"},onMouseOut:d=>{d.target.style.transform="translateY(0)",d.target.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)"},children:" Quick RNG Pick - Auto-fill all games"})]}),l.jsxs("div",{className:"progress-indicator",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[l.jsx("strong",{children:"Progress:"}),l.jsxs("span",{children:[Object.keys(p).filter(d=>p[d].team1&&p[d].team2).length," of ",je.games.length," games completed"]})]}),l.jsx("div",{className:"progress-bar",children:l.jsxs("div",{className:"progress-fill",style:{width:`${Object.keys(p).filter(d=>p[d].team1&&p[d].team2).length/je.games.length*100}%`},children:[Math.round(Object.keys(p).filter(d=>p[d].team1&&p[d].team2).length/je.games.length*100),"%"]})})]}),l.jsxs("form",{onSubmit:hi==="manual"?jy:Ed,children:[je.games.map(d=>{var v,y,N,b,P,T;return l.jsxs("div",{className:"game-prediction",children:[l.jsxs("h3",{children:["Game ",d.id,": ",d.team1," @ ",d.team2,((v=S[a])==null?void 0:v[d.id])&&l.jsxs("span",{style:{fontSize:"0.9rem",color:"#666",marginLeft:"10px"},children:["(",S[a][d.id].team1||"?"," @ ",S[a][d.id].team2||"?",")"]})]}),((y=m[a])==null?void 0:y[d.id])&&l.jsxs("div",{style:{padding:"10px 15px",background:"#ffffff",border:"3px solid #4caf50",borderRadius:"6px",marginBottom:"12px",fontSize:"1rem"},children:[l.jsx("strong",{style:{color:"#000",fontSize:"1.05rem"},children:"Actual Score:"})," ",l.jsxs("span",{style:{color:"#000",fontWeight:"700",fontSize:"1.1rem"},children:[m[a][d.id].team1||"-"," - ",m[a][d.id].team2||"-"]}),((N=k[a])==null?void 0:N[d.id])==="final"&&l.jsx("span",{style:{marginLeft:"10px",padding:"2px 8px",background:"#4caf50",color:"white",borderRadius:"4px",fontSize:"0.8rem",fontWeight:"bold"},children:" FINAL"}),((b=k[a])==null?void 0:b[d.id])==="live"&&l.jsx("span",{style:{marginLeft:"10px",padding:"2px 8px",background:"#ff9800",color:"white",borderRadius:"4px",fontSize:"0.8rem",fontWeight:"bold"},children:" LIVE"})]}),l.jsxs("div",{className:"score-inputs",children:[l.jsxs("div",{className:"team-score",children:[l.jsxs("label",{children:[l.jsx("span",{className:"team-designation",children:"AWAY TEAM"}),l.jsx("span",{className:"team-name-label",style:{color:"#ffffff",fontWeight:"700"},children:d.team1})]}),l.jsx("input",{type:"number",min:"0",max:"99",value:((P=p[d.id])==null?void 0:P.team1)||"",onChange:O=>xd(d.id,"team1",O.target.value),placeholder:"0",required:!0,disabled:Yt(a)},`${d.id}-team1-${n}`)]}),l.jsx("div",{className:"vs",children:"VS"}),l.jsxs("div",{className:"team-score",children:[l.jsxs("label",{children:[l.jsx("span",{className:"team-designation",children:"HOME TEAM"}),l.jsx("span",{className:"team-name-label",style:{color:"#ffffff",fontWeight:"700"},children:d.team2})]}),l.jsx("input",{type:"number",min:"0",max:"99",value:((T=p[d.id])==null?void 0:T.team2)||"",onChange:O=>xd(d.id,"team2",O.target.value),placeholder:"0",required:!0,disabled:Yt(a)},`${d.id}-team2-${n}`)]})]})]},d.id)}),l.jsx("button",{type:"submit",className:"submit-btn",disabled:hi==="manual"?!1:!_i()||Yt(a),style:hi==="manual"?{background:"#e74c3c",fontSize:"1.1rem",fontWeight:"700"}:{},children:hi==="manual"?` Submit for ${Ce[ne]}`:Yt(a)&&!Se()?" Week Locked - Cannot Edit Picks":_i()?" Submit / Update My Picks":" Submissions Locked (Playoff Weekend)"}),_i()&&!Yt(a)&&l.jsx("p",{style:{textAlign:"center",marginTop:"15px",color:"#666",fontSize:"0.9rem"},children:"You can edit and resubmit your picks as many times as you want until Friday 11:59 PM PST (before game weekends)"})]})]})]}):l.jsx("div",{className:"prediction-form",children:l.jsxs("div",{className:"code-entry-section",children:[l.jsx("h3",{children:" Enter Your Player Code"}),l.jsx("p",{style:{marginBottom:"20px",color:"#666"},children:"You received a 6-character code when you paid your $20 entry fee."}),l.jsx("p",{style:{marginBottom:"20px",color:"#666",fontSize:"0.9rem",fontStyle:"italic"},children:" Have multiple entries? Enter one code at a time."}),l.jsxs("div",{className:"code-input-group",children:[l.jsx("label",{htmlFor:"playerCode",children:"Player Code (6 characters)"}),l.jsx("input",{type:"text",id:"playerCode",className:"code-input",value:i,onChange:d=>s(d.target.value.toUpperCase()),placeholder:"A7K9M2",maxLength:"6",autoComplete:"off",onKeyPress:d=>{d.key==="Enter"&&Cd()}}),l.jsx("button",{className:"validate-btn",onClick:Cd,children:"Validate Code & Continue"}),l.jsxs("div",{style:{marginTop:"20px",padding:"15px",background:"#fff3cd",border:"2px solid #ffc107",borderRadius:"8px",textAlign:"left"},children:[l.jsx("h4",{style:{margin:"0 0 10px 0",color:"#856404"},children:" Entry Fee Payment"}),l.jsxs("p",{style:{margin:"5px 0",fontSize:"0.9rem",color:"#856404"},children:[l.jsx("strong",{children:"Cost:"})," $20 per entry"]}),l.jsxs("p",{style:{margin:"5px 0",fontSize:"0.9rem",color:"#856404"},children:[l.jsx("strong",{children:"Send e-Transfer to:"})," gammoneer2b@gmail.com"]}),l.jsxs("p",{style:{margin:"5px 0",fontSize:"0.9rem",color:"#856404"},children:[l.jsx("strong",{children:"Password:"})," nflpool"]}),l.jsx("p",{style:{margin:"10px 0 5px 0",fontSize:"0.85rem",color:"#856404",fontStyle:"italic"},children:"You will receive your player code after payment is confirmed."})]}),l.jsx("p",{style:{marginTop:"15px",fontSize:"0.9rem",color:"#666",textAlign:"center"},children:"Questions? Contact: gammoneer2b@gmail.com"})]})]})}),l.jsxs("div",{className:"all-picks",children:[l.jsxs("h2",{children:["All Player Picks - ",je.name,l.jsx("button",{onClick:$y,style:{marginLeft:"15px",padding:"8px 16px",background:"#4caf50",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Download CSV"}),l.jsx("div",{style:{fontSize:"0.75rem",color:"#666",marginTop:"5px",fontStyle:"italic"},children:" Mobile: Open the DOWNLOADABLE CSV file with Google Sheets (free app) or MS Office EXCEL"}),l.jsx("button",{onClick:()=>window.location.reload(),style:{marginLeft:"10px",padding:"8px 16px",background:"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Refresh Picks Table"})]}),f.filter(d=>d.week===a).length===0?l.jsx("p",{className:"no-picks",children:"No picks submitted yet for this week."}):l.jsx("div",{className:"picks-table-container",children:l.jsxs("table",{className:"picks-table",children:[l.jsxs("thead",{children:[l.jsxs("tr",{children:[l.jsx("th",{rowSpan:"2",children:"Player"}),je.games.map(d=>{var v,y,N,b,P;return l.jsxs("th",{colSpan:"2",children:["Game ",d.id,l.jsx("br",{}),l.jsxs("small",{style:{color:"#ffffff",fontWeight:"700"},children:[d.team1," @ ",d.team2]}),Se()&&l.jsxs("div",{style:{marginTop:"5px",display:"flex",gap:"5px",justifyContent:"center",alignItems:"center"},children:[l.jsx("input",{type:"text",maxLength:"3",value:((y=(v=S[a])==null?void 0:v[d.id])==null?void 0:y.team1)||"",onChange:T=>wd(d.id,"team1",T.target.value),placeholder:"PIT",style:{width:"45px",padding:"4px",textAlign:"center",fontSize:"0.8rem",fontWeight:"bold",border:"2px solid #667eea",borderRadius:"4px"}}),l.jsx("span",{style:{fontSize:"0.8rem"},children:"@"}),l.jsx("input",{type:"text",maxLength:"3",value:((b=(N=S[a])==null?void 0:N[d.id])==null?void 0:b.team2)||"",onChange:T=>wd(d.id,"team2",T.target.value),placeholder:"BUF",style:{width:"45px",padding:"4px",textAlign:"center",fontSize:"0.8rem",fontWeight:"bold",border:"2px solid #667eea",borderRadius:"4px"}})]}),!Se()&&((P=S[a])==null?void 0:P[d.id])&&l.jsxs("div",{style:{fontSize:"0.8rem",color:"#ffffff",fontWeight:"700",marginTop:"3px"},children:[S[a][d.id].team1||"?"," @ ",S[a][d.id].team2||"?"]})]},d.id)}),l.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#ff0000",fontWeight:"bold",color:"#ffffff",minWidth:"80px",border:"5px solid blue",fontSize:"20px"},children:[l.jsx("div",{style:{marginBottom:"4px"},children:" CORRECT"}),l.jsx("div",{children:"PICKS "})]}),a==="superbowl"?l.jsxs(l.Fragment,{children:[l.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#fff3cd",fontWeight:"bold",color:"#000"},children:[Se()?l.jsxs("div",{style:{marginBottom:"8px"},children:[l.jsx("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000"},children:"OFFICIAL"}),l.jsx("input",{type:"number",min:"0",value:E.superbowl_week4||"",onChange:d=>_r("superbowl_week4",d.target.value),placeholder:"-",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #f39c12",borderRadius:"4px",color:"#000"}})]}):l.jsxs("div",{style:{marginBottom:"8px"},children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:"Official"}),l.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:E.superbowl_week4||"-"})]}),"Week 4",l.jsx("br",{}),"Total"]}),l.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#d1ecf1",fontWeight:"bold",color:"#000"},children:[Se()?l.jsxs("div",{style:{marginBottom:"8px"},children:[l.jsx("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000"},children:"OFFICIAL"}),l.jsx("input",{type:"number",min:"0",value:E.superbowl_week3||"",onChange:d=>_r("superbowl_week3",d.target.value),placeholder:"-",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #f39c12",borderRadius:"4px",color:"#000"}})]}):l.jsxs("div",{style:{marginBottom:"8px"},children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:"Official"}),l.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:E.superbowl_week3||"-"})]}),"Week 3",l.jsx("br",{}),"Total"]}),l.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#d4edda",fontWeight:"bold",color:"#000"},children:[Se()?l.jsxs("div",{style:{marginBottom:"8px"},children:[l.jsx("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000"},children:"OFFICIAL"}),l.jsx("input",{type:"number",min:"0",value:E.superbowl_week2||"",onChange:d=>_r("superbowl_week2",d.target.value),placeholder:"-",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #f39c12",borderRadius:"4px",color:"#000"}})]}):l.jsxs("div",{style:{marginBottom:"8px"},children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:"Official"}),l.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:E.superbowl_week2||"-"})]}),"Week 2",l.jsx("br",{}),"Total"]}),l.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#f8d7da",fontWeight:"bold",color:"#000"},children:[Se()?l.jsxs("div",{style:{marginBottom:"8px"},children:[l.jsx("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000"},children:"OFFICIAL"}),l.jsx("input",{type:"number",min:"0",value:E.superbowl_week1||"",onChange:d=>_r("superbowl_week1",d.target.value),placeholder:"-",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #f39c12",borderRadius:"4px",color:"#000"}})]}):l.jsxs("div",{style:{marginBottom:"8px"},children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:"Official"}),l.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:E.superbowl_week1||"-"})]}),"Week 1",l.jsx("br",{}),"Total"]}),l.jsxs("th",{rowSpan:"2",className:"grand-total",children:[!E.superbowl_grand&&(()=>{const d=je.games.reduce((v,y)=>{var P,T,O,W;const N=parseInt((T=(P=m[a])==null?void 0:P[y.id])==null?void 0:T.team1)||0,b=parseInt((W=(O=m[a])==null?void 0:O[y.id])==null?void 0:W.team2)||0;return v+N+b},0);return l.jsxs("div",{style:{fontSize:"0.95rem",color:"#ffd700",marginBottom:"8px",fontWeight:"700"},children:["Total: ",d>0?d:"-"]})})(),Se()?l.jsx("div",{style:{marginBottom:"8px"},children:l.jsx("input",{type:"number",min:"0",value:E.superbowl_grand||"",onChange:d=>_r("superbowl_grand",d.target.value),placeholder:"override",style:{width:"70px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"3px solid #f39c12",borderRadius:"4px",backgroundColor:"#fff",color:"#000"}})}):null,E.superbowl_grand&&l.jsxs("div",{style:{marginBottom:"8px"},children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"#fff",marginBottom:"2px"},children:"Official"}),l.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"#fff"},children:E.superbowl_grand})]}),"GRAND",l.jsx("br",{}),"TOTAL"]})]}):l.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#f8f9fa",fontWeight:"bold",color:"#000"},children:[!E[a]&&(()=>{const d=je.games.reduce((v,y)=>{var P,T,O,W;const N=parseInt((T=(P=m[a])==null?void 0:P[y.id])==null?void 0:T.team1)||0,b=parseInt((W=(O=m[a])==null?void 0:O[y.id])==null?void 0:W.team2)||0;return v+N+b},0);return l.jsxs("div",{style:{fontSize:"0.85rem",color:"#16a085",marginBottom:"6px",fontWeight:"700"},children:["Total: ",d>0?d:"-"]})})(),Se()?l.jsx("div",{style:{marginBottom:"8px"},children:l.jsx("input",{type:"number",min:"0",value:E[a]||"",onChange:d=>_r(a,d.target.value),placeholder:"override",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"0.9rem",fontWeight:"bold",border:"2px solid #f39c12",borderRadius:"4px",color:"#000"}})}):null,E[a]&&l.jsxs("div",{style:{marginBottom:"8px"},children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:"Official"}),l.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:E[a]})]}),"Official",l.jsx("br",{}),"Total"]}),l.jsx("th",{rowSpan:"2",children:"Submitted"})]}),l.jsx("tr",{style:{background:"#ffffff",borderTop:"3px solid #4caf50",borderBottom:"3px solid #4caf50"},children:je.games.map(d=>{var v,y,N,b,P,T,O,W,M,V,$;return l.jsxs(ba.Fragment,{children:[l.jsx("th",{style:{padding:"8px 4px",background:"#ffffff",borderLeft:"1px solid #ddd"},children:Se()?l.jsxs("div",{children:[l.jsx("input",{type:"number",min:"0",max:"99",value:((y=(v=m[a])==null?void 0:v[d.id])==null?void 0:y.team1)||"",onChange:re=>Sd(d.id,"team1",re.target.value),placeholder:"-",style:{width:"50px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #4caf50",borderRadius:"4px",color:"#000",background:"#f0fff0"}}),l.jsx("div",{style:{fontSize:"0.75rem",marginTop:"3px",color:"#000",fontWeight:"700"},children:"ACTUAL"})]}):l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#000"},children:((b=(N=m[a])==null?void 0:N[d.id])==null?void 0:b.team1)||"-"}),l.jsx("div",{style:{fontSize:"0.75rem",color:"#000",fontWeight:"700"},children:"ACTUAL"})]})}),l.jsx("th",{style:{padding:"8px 4px",background:"#ffffff",borderRight:"1px solid #ddd"},children:Se()?l.jsxs("div",{children:[l.jsx("input",{type:"number",min:"0",max:"99",value:((T=(P=m[a])==null?void 0:P[d.id])==null?void 0:T.team2)||"",onChange:re=>Sd(d.id,"team2",re.target.value),placeholder:"-",style:{width:"50px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #4caf50",borderRadius:"4px",color:"#000",background:"#f0fff0"}}),l.jsx("div",{style:{fontSize:"0.75rem",marginTop:"3px",color:"#000",fontWeight:"700"},children:"ACTUAL"}),l.jsxs("select",{value:((O=k[a])==null?void 0:O[d.id])||"",onChange:re=>By(d.id,re.target.value),style:{width:"60px",padding:"2px",fontSize:"0.7rem",marginTop:"4px",borderRadius:"3px",border:"1px solid #999"},children:[l.jsx("option",{value:"",children:"--"}),l.jsx("option",{value:"live",children:" LIVE"}),l.jsx("option",{value:"final",children:" FINAL"})]})]}):l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#000"},children:((M=(W=m[a])==null?void 0:W[d.id])==null?void 0:M.team2)||"-"}),l.jsx("div",{style:{fontSize:"0.75rem",color:"#000",fontWeight:"700"},children:"ACTUAL"}),((V=k[a])==null?void 0:V[d.id])==="final"&&l.jsx("div",{style:{display:"inline-block",padding:"2px 6px",background:"#4caf50",color:"white",borderRadius:"3px",fontSize:"0.65rem",fontWeight:"bold",marginTop:"4px"},children:" FINAL"}),(($=k[a])==null?void 0:$[d.id])==="live"&&l.jsx("div",{style:{display:"inline-block",padding:"2px 6px",background:"#ff9800",color:"white",borderRadius:"3px",fontSize:"0.65rem",fontWeight:"bold",marginTop:"4px"},children:" LIVE"})]})})]},`actual-${d.id}`)})})]}),l.jsx("tbody",{children:f.filter(d=>d.week===a).sort((d,v)=>(v.lastUpdated||v.timestamp)-(d.lastUpdated||d.timestamp)).map((d,v)=>{var N,b,P,T,O,W;const y=M=>{var xi;const V=(xi=m[a])==null?void 0:xi[M],$=d.predictions[M];if(!V||!$)return!1;const re=parseInt(V.team1),de=parseInt(V.team2),ge=parseInt($.team1),fe=parseInt($.team2);if(isNaN(re)||isNaN(de))return!1;const Te=re>de?"team1":de>re?"team2":"tie",$s=ge>fe?"team1":fe>ge?"team2":"tie";return Te===$s&&Te!=="tie"};return l.jsxs("tr",{children:[l.jsx("td",{className:"player-name",children:d.playerName}),je.games.map(M=>{var fe,Te,$s,xi;const V=d.predictions[M.id],$=(fe=m[a])==null?void 0:fe[M.id],re=(Te=k[a])==null?void 0:Te[M.id],de=yd(V==null?void 0:V.team1,V==null?void 0:V.team2,$==null?void 0:$.team1,$==null?void 0:$.team2,re,!0),ge=yd(V==null?void 0:V.team1,V==null?void 0:V.team2,$==null?void 0:$.team1,$==null?void 0:$.team2,re,!1);return l.jsxs(ba.Fragment,{children:[l.jsx("td",{className:"score",style:{background:de.background,color:de.color,fontWeight:de.background!=="transparent"?"bold":"normal"},children:(($s=d.predictions[M.id])==null?void 0:$s.team1)||"-"}),l.jsx("td",{className:"score",style:{background:ge.background,color:ge.color,fontWeight:ge.background!=="transparent"?"bold":"normal"},children:((xi=d.predictions[M.id])==null?void 0:xi.team2)||"-"})]},`${v}-${M.id}`)}),(()=>{let M=0;return je.games.forEach(V=>{y(V.id)&&M++}),l.jsxs("td",{style:{backgroundColor:"#00ff00",fontWeight:"bold",fontSize:"24px",color:"#000",textAlign:"center",border:"3px solid red",minWidth:"80px"},children:["CORRECT: ",M]})})(),a==="superbowl"?l.jsxs(l.Fragment,{children:[l.jsx("td",{style:{backgroundColor:"#fff3cd",fontWeight:"bold",fontSize:"16px"},children:l.jsx("span",{style:{color:"#000"},children:((N=xr[d.playerName])==null?void 0:N.week4)||0})}),l.jsx("td",{style:{backgroundColor:"#d1ecf1",fontWeight:"bold",fontSize:"16px"},children:l.jsx("span",{style:{color:"#000"},children:((b=xr[d.playerName])==null?void 0:b.week3)||0})}),l.jsx("td",{style:{backgroundColor:"#d4edda",fontWeight:"bold",fontSize:"16px"},children:l.jsx("span",{style:{color:"#000"},children:((P=xr[d.playerName])==null?void 0:P.week2)||0})}),l.jsx("td",{style:{backgroundColor:"#f8d7da",fontWeight:"bold",fontSize:"16px"},children:l.jsx("span",{style:{color:"#000"},children:((T=xr[d.playerName])==null?void 0:T.week1)||0})}),l.jsx("td",{className:"grand-total",children:((O=xr[d.playerName])==null?void 0:O.grand)||0})]}):l.jsx("td",{style:{backgroundColor:"#f8f9fa",fontWeight:"bold",fontSize:"16px"},children:l.jsx("span",{style:{color:"#000"},children:((W=xr[d.playerName])==null?void 0:W.current)||0})}),l.jsx("td",{className:"timestamp",children:new Date(d.lastUpdated||d.timestamp).toLocaleString("en-US",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})})]},v)})})]})}),o&&l.jsx("div",{style:{marginTop:"60px"},children:l.jsx(TC,{allPicks:f,actualScores:m,games:ye,officialWinners:yt,weekData:ye})}),o&&Se()&&l.jsxs("div",{style:{marginTop:"40px",marginBottom:"40px"},children:[l.jsxs("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"25px",borderRadius:"12px",marginBottom:"30px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[l.jsxs("h2",{style:{margin:"0 0 15px 0",display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx("span",{children:""}),l.jsx("span",{children:"PRIZE POOL MANAGEMENT"})]}),Le.totalFees>0?l.jsxs("div",{children:[l.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:"20px",borderRadius:"8px",marginBottom:"15px"},children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"20px",marginBottom:"15px"},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.85rem",opacity:.9},children:"Total Pool Fees"}),l.jsxs("div",{style:{fontSize:"1.8rem",fontWeight:"bold"},children:["$",Le.totalFees.toFixed(2)]})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.85rem",opacity:.9},children:"Number of Players"}),l.jsx("div",{style:{fontSize:"1.8rem",fontWeight:"bold"},children:Le.numberOfPlayers})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.85rem",opacity:.9},children:"Each Prize (10%)"}),l.jsxs("div",{style:{fontSize:"1.8rem",fontWeight:"bold"},children:["$",Le.prizeValue.toFixed(2)]})]})]}),l.jsxs("div",{style:{fontSize:"0.85rem",opacity:.8},children:["Entry Fee: $",Le.entryFee," per player"]})]}),l.jsx("button",{onClick:()=>zs(!0),style:{padding:"10px 20px",background:"rgba(255,255,255,0.3)",color:"white",border:"2px solid white",borderRadius:"6px",cursor:"pointer",fontWeight:"600"},children:" Edit Prize Pool Setup"})]}):l.jsxs("div",{children:[l.jsx("p",{style:{marginBottom:"15px"},children:" Set up your prize pool to enable winner declarations."}),l.jsx("button",{onClick:()=>zs(!0),style:{padding:"12px 24px",background:"white",color:"#667eea",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"700",fontSize:"1rem"},children:" Set Up Prize Pool"})]})]}),Le.totalFees>0&&l.jsxs("div",{style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"white",padding:"25px",borderRadius:"12px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[l.jsxs("h2",{style:{margin:"0 0 20px 0",display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx("span",{children:""}),l.jsx("span",{children:"DECLARE PRIZE WINNERS"})]}),l.jsx("button",{onClick:()=>Bl(!0),style:{padding:"14px 28px",background:"white",color:"#f5576c",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"700",fontSize:"1.1rem",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:" Declare Winner(s) for a Prize"}),Object.keys(yt).length>0&&l.jsxs("div",{style:{marginTop:"25px"},children:[l.jsx("h3",{style:{marginBottom:"15px",fontSize:"1.1rem"},children:" Current Prize Winners:"}),l.jsx("div",{style:{background:"rgba(255,255,255,0.2)",padding:"15px",borderRadius:"8px",maxHeight:"400px",overflowY:"auto"},children:Object.entries(yt).sort((d,v)=>{const y=d[1].prizeNumber,N=v[1].prizeNumber;return y-N}).map(([d,v])=>l.jsxs("div",{style:{background:"rgba(255,255,255,0.9)",color:"#333",padding:"15px",borderRadius:"6px",marginBottom:"12px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"10px"},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontWeight:"bold",fontSize:"1rem",marginBottom:"5px"},children:v.prizeName}),l.jsxs("div",{style:{fontSize:"0.9rem",color:"#666"},children:["Prize Value: $",v.prizeValue.toFixed(2)]})]}),l.jsx("button",{onClick:()=>My(v.prizeNumber),style:{padding:"6px 12px",background:"#e74c3c",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.85rem",fontWeight:"600"},children:" Delete"})]}),l.jsx("div",{style:{paddingLeft:"15px"},children:v.winners.map((y,N)=>l.jsxs("div",{style:{padding:"8px 0",borderBottom:N<v.winners.length-1?"1px solid #eee":"none"},children:[l.jsxs("span",{style:{fontWeight:"600"},children:[" ",y.playerName]}),l.jsxs("span",{style:{marginLeft:"15px",color:"#666"},children:[y.percentage.toFixed(2),"% = $",y.amount.toFixed(2)]})]},N))})]},d))})]})]})]}),Sy&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},children:l.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"30px",maxWidth:"600px",width:"100%",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 8px 32px rgba(0,0,0,0.3)"},children:[l.jsx("h2",{style:{marginTop:0,color:"#667eea"},children:" Prize Pool Setup"}),l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Total Pool Fees Collected:"}),l.jsx("input",{type:"number",id:"totalFees",defaultValue:Le.totalFees||"",placeholder:"1000",style:{width:"100%",padding:"12px",fontSize:"1.1rem",border:"2px solid #667eea",borderRadius:"6px"}}),l.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginTop:"5px"},children:"Total money collected from all players"})]}),l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Number of Players:"}),l.jsx("input",{type:"number",id:"numberOfPlayers",defaultValue:Le.numberOfPlayers||"",placeholder:"50",style:{width:"100%",padding:"12px",fontSize:"1.1rem",border:"2px solid #667eea",borderRadius:"6px"}}),l.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginTop:"5px"},children:"Total number of players in the pool"})]}),l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Entry Fee per Player:"}),l.jsx("input",{type:"number",id:"entryFee",defaultValue:Le.entryFee||20,placeholder:"20",style:{width:"100%",padding:"12px",fontSize:"1.1rem",border:"2px solid #667eea",borderRadius:"6px"}}),l.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginTop:"5px"},children:"Amount each player paid to enter ($20, $50, etc.)"})]}),l.jsxs("div",{style:{background:"#f0f8ff",padding:"15px",borderRadius:"8px",marginBottom:"20px"},children:[l.jsx("div",{style:{fontWeight:"600",marginBottom:"10px"},children:" Calculation Preview:"}),l.jsxs("div",{style:{fontSize:"0.9rem",lineHeight:"1.6"},children:["Each Prize = Total Pool  10",l.jsx("br",{}),l.jsx("span",{id:"prizePreview",style:{fontWeight:"bold",color:"#667eea"},children:"Example: $1,000  10 = $100 per prize"})]})]}),l.jsxs("div",{style:{display:"flex",gap:"10px"},children:[l.jsx("button",{onClick:()=>zs(!1),style:{flex:"1",padding:"14px",background:"#95a5a6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Cancel"}),l.jsx("button",{onClick:()=>{const d=document.getElementById("totalFees").value,v=document.getElementById("numberOfPlayers").value,y=document.getElementById("entryFee").value;if(!d||d<=0){alert(" Please enter a valid total pool amount.");return}Oy(d,v,y)},style:{flex:"1",padding:"14px",background:"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Save Prize Pool"})]})]})}),Cy&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},children:l.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"30px",maxWidth:"700px",width:"100%",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 8px 32px rgba(0,0,0,0.3)"},children:[l.jsx("h2",{style:{marginTop:0,color:"#f5576c"},children:" Declare Prize Winner(s)"}),l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Select Prize:"}),l.jsxs("select",{value:kt,onChange:d=>Fl(d.target.value),style:{width:"100%",padding:"12px",fontSize:"1rem",border:"2px solid #f5576c",borderRadius:"6px"},children:[l.jsx("option",{value:"",children:"-- Select Prize --"}),[1,2,3,4,5,6,7,8,9,10].map(d=>l.jsx("option",{value:d,children:vi(d)},d))]}),kt&&l.jsxs("div",{style:{marginTop:"8px",fontSize:"0.9rem",color:"#666"},children:["Prize Value: $",Le.prizeValue.toFixed(2)," (10% of pool)"]})]}),kt&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Number of Winners (Tie?):"}),l.jsx("input",{type:"number",min:"1",max:"10",value:gr,onChange:d=>{const v=parseInt(d.target.value)||1;zl(v),Ws(Array(v).fill(null).map(()=>({name:"",code:""})));const y=Bs(Le.prizeValue,v);ui(y)},style:{width:"100%",padding:"12px",fontSize:"1rem",border:"2px solid #f5576c",borderRadius:"6px"}}),l.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginTop:"5px"},children:"How many players are tied? (1 = single winner, 2+ = tie)"})]}),l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("label",{style:{display:"block",marginBottom:"12px",fontWeight:"600"},children:"Select Winner(s):"}),Array(gr).fill(0).map((d,v)=>{var N,b,P;const y=fn?null:Bs(Le.prizeValue,gr)[v];return l.jsxs("div",{style:{background:"#f8f9fa",padding:"15px",borderRadius:"8px",marginBottom:"12px"},children:[l.jsxs("div",{style:{marginBottom:"10px",fontWeight:"600"},children:["Winner ",v+1,":"]}),l.jsxs("select",{value:((N=vt[v])==null?void 0:N.code)||"",onChange:T=>{const O=Object.entries(Ce).find(([M])=>M===T.target.value),W=[...vt];W[v]={code:T.target.value,name:O?O[1]:""},Ws(W)},style:{width:"100%",padding:"10px",fontSize:"1rem",border:"1px solid #ddd",borderRadius:"6px",marginBottom:"8px"},children:[l.jsx("option",{value:"",children:"-- Select Player --"}),Object.entries(Ce).sort((T,O)=>T[1].localeCompare(O[1])).map(([T,O])=>l.jsx("option",{value:T,children:O},T))]}),!fn&&y&&l.jsxs("div",{style:{fontSize:"0.9rem",color:"#666"},children:["Share: ",y.percentage.toFixed(2),"% = $",y.amount.toFixed(2),v===gr-1&&gr>1&&l.jsx("span",{style:{marginLeft:"10px",fontSize:"0.85rem",color:"#f5576c"},children:"(includes extra penny)"})]}),fn&&l.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"8px"},children:[l.jsx("input",{type:"number",placeholder:"%",step:"0.01",value:((b=zt[v])==null?void 0:b.percentage)||"",onChange:T=>{const O=[...zt],W=parseFloat(T.target.value)||0;O[v]={...O[v],percentage:W,amount:Le.prizeValue*W/100},ui(O)},style:{flex:"1",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"}}),l.jsx("input",{type:"number",placeholder:"$",step:"0.01",value:((P=zt[v])==null?void 0:P.amount)||"",onChange:T=>{const O=[...zt],W=parseFloat(T.target.value)||0;O[v]={...O[v],amount:W,percentage:W/Le.prizeValue*100},ui(O)},style:{flex:"1",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"}})]})]},v)})]}),l.jsx("div",{style:{marginBottom:"20px"},children:l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:fn,onChange:d=>Wl(d.target.checked),style:{width:"18px",height:"18px"}}),l.jsx("span",{style:{fontWeight:"600"},children:"Use custom percentages/amounts (manual override)"})]})}),l.jsxs("div",{style:{background:"#fff3cd",border:"2px solid #ffc107",padding:"15px",borderRadius:"8px",marginBottom:"20px",color:"#000"},children:[l.jsx("div",{style:{fontWeight:"700",marginBottom:"10px",color:"#000",fontSize:"1.05rem"},children:" Summary:"}),vt.every(d=>d.name)?l.jsxs("div",{style:{color:"#000"},children:[vt.map((d,v)=>{const y=fn?zt[v]:Bs(Le.prizeValue,gr)[v];return l.jsxs("div",{style:{marginBottom:"5px",color:"#000",fontWeight:"600"},children:[" ",d.name,": ",y==null?void 0:y.percentage.toFixed(2),"% = $",y==null?void 0:y.amount.toFixed(2)]},v)}),l.jsxs("div",{style:{marginTop:"10px",paddingTop:"10px",borderTop:"2px solid #856404",fontWeight:"700",color:"#000"},children:["Total: ",fn?zt.reduce((d,v)=>d+(v.percentage||0),0).toFixed(2):"100.00","% = $",fn?zt.reduce((d,v)=>d+(v.amount||0),0).toFixed(2):Le.prizeValue.toFixed(2)]})]}):l.jsx("div",{style:{color:"#856404",fontWeight:"600"},children:"Select all winners to see summary"})]})]}),l.jsxs("div",{style:{display:"flex",gap:"10px"},children:[l.jsx("button",{onClick:()=>{Bl(!1),Fl(""),zl(1),Ws([]),Wl(!1),ui([])},style:{flex:"1",padding:"14px",background:"#95a5a6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Cancel"}),l.jsx("button",{onClick:Ly,disabled:!kt||!vt.every(d=>d.name),style:{flex:"1",padding:"14px",background:kt&&vt.every(d=>d.name)?"#f5576c":"#ccc",color:"white",border:"none",borderRadius:"6px",cursor:kt&&vt.every(d=>d.name)?"pointer":"not-allowed",fontSize:"1rem",fontWeight:"700"},children:" Declare Winner(s)"})]})]})}),L==="unsavedChanges"&&l.jsx(yC,{currentWeek:ye[a].name,onDiscard:()=>{u(G),Us(G),B(null)},onSaveAndSwitch:async()=>{await Ed(new Event("submit")),setTimeout(()=>{u(G),Us(G),B(null),ue(null)},100)},onCancel:()=>{ue(null),B(null)}}),L==="discardChanges"&&l.jsx(vC,{onKeepEditing:()=>B(null),onDiscard:()=>{h({...Ul}),gt(!1),B(null)}}),L==="incomplete"&&l.jsx(_C,{missingGames:Ne,totalGames:je.games.length,onClose:()=>B(null)}),L==="invalidScores"&&l.jsx(xC,{invalidScores:Gt,onClose:()=>B(null)}),L==="success"&&l.jsx(wC,{weekName:je.name,deadline:je.deadline,onClose:()=>B(null)}),L==="noChanges"&&l.jsx(SC,{onClose:()=>B(null)}),L==="tiedGames"&&l.jsx(CC,{tiedGames:Ne,gameData:je.games,onClose:()=>B(null)})]})]})]}),l.jsxs("footer",{children:[l.jsx("p",{children:"Richard's NFL Playoff Pool 2025 | Good luck! "}),l.jsx("p",{style:{fontSize:"0.85rem",marginTop:"5px"},children:"Questions? Contact: gammoneer2b@gmail.com"})]})]})}Ia.createRoot(document.getElementById("root")).render(l.jsx(ba.StrictMode,{children:l.jsx(PC,{})}));
