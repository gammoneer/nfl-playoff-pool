(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function qg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var nh={exports:{}},Wo={},rh={exports:{}},K={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var os=Symbol.for("react.element"),Xg=Symbol.for("react.portal"),Jg=Symbol.for("react.fragment"),Zg=Symbol.for("react.strict_mode"),ey=Symbol.for("react.profiler"),ty=Symbol.for("react.provider"),ny=Symbol.for("react.context"),ry=Symbol.for("react.forward_ref"),iy=Symbol.for("react.suspense"),sy=Symbol.for("react.memo"),oy=Symbol.for("react.lazy"),Zc=Symbol.iterator;function ly(t){return t===null||typeof t!="object"?null:(t=Zc&&t[Zc]||t["@@iterator"],typeof t=="function"?t:null)}var ih={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sh=Object.assign,oh={};function Yr(t,e,n){this.props=t,this.context=e,this.refs=oh,this.updater=n||ih}Yr.prototype.isReactComponent={};Yr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Yr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function lh(){}lh.prototype=Yr.prototype;function pu(t,e,n){this.props=t,this.context=e,this.refs=oh,this.updater=n||ih}var mu=pu.prototype=new lh;mu.constructor=pu;sh(mu,Yr.prototype);mu.isPureReactComponent=!0;var ed=Array.isArray,ah=Object.prototype.hasOwnProperty,gu={current:null},uh={key:!0,ref:!0,__self:!0,__source:!0};function ch(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)ah.call(e,r)&&!uh.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:os,type:t,key:s,ref:o,props:i,_owner:gu.current}}function ay(t,e){return{$$typeof:os,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function yu(t){return typeof t=="object"&&t!==null&&t.$$typeof===os}function uy(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var td=/\/+/g;function gl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?uy(""+t.key):e.toString(36)}function Fs(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case os:case Xg:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+gl(o,0):r,ed(i)?(n="",t!=null&&(n=t.replace(td,"$&/")+"/"),Fs(i,e,n,"",function(c){return c})):i!=null&&(yu(i)&&(i=ay(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(td,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",ed(t))for(var l=0;l<t.length;l++){s=t[l];var a=r+gl(s,l);o+=Fs(s,e,n,a,i)}else if(a=ly(t),typeof a=="function")for(t=a.call(t),l=0;!(s=t.next()).done;)s=s.value,a=r+gl(s,l++),o+=Fs(s,e,n,a,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function _s(t,e,n){if(t==null)return t;var r=[],i=0;return Fs(t,r,"","",function(s){return e.call(n,s,i++)}),r}function cy(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ke={current:null},Ws={transition:null},dy={ReactCurrentDispatcher:Ke,ReactCurrentBatchConfig:Ws,ReactCurrentOwner:gu};function dh(){throw Error("act(...) is not supported in production builds of React.")}K.Children={map:_s,forEach:function(t,e,n){_s(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return _s(t,function(){e++}),e},toArray:function(t){return _s(t,function(e){return e})||[]},only:function(t){if(!yu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};K.Component=Yr;K.Fragment=Jg;K.Profiler=ey;K.PureComponent=pu;K.StrictMode=Zg;K.Suspense=iy;K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dy;K.act=dh;K.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=sh({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=gu.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)ah.call(e,a)&&!uh.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:os,type:t.type,key:i,ref:s,props:r,_owner:o}};K.createContext=function(t){return t={$$typeof:ny,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ty,_context:t},t.Consumer=t};K.createElement=ch;K.createFactory=function(t){var e=ch.bind(null,t);return e.type=t,e};K.createRef=function(){return{current:null}};K.forwardRef=function(t){return{$$typeof:ry,render:t}};K.isValidElement=yu;K.lazy=function(t){return{$$typeof:oy,_payload:{_status:-1,_result:t},_init:cy}};K.memo=function(t,e){return{$$typeof:sy,type:t,compare:e===void 0?null:e}};K.startTransition=function(t){var e=Ws.transition;Ws.transition={};try{t()}finally{Ws.transition=e}};K.unstable_act=dh;K.useCallback=function(t,e){return Ke.current.useCallback(t,e)};K.useContext=function(t){return Ke.current.useContext(t)};K.useDebugValue=function(){};K.useDeferredValue=function(t){return Ke.current.useDeferredValue(t)};K.useEffect=function(t,e){return Ke.current.useEffect(t,e)};K.useId=function(){return Ke.current.useId()};K.useImperativeHandle=function(t,e,n){return Ke.current.useImperativeHandle(t,e,n)};K.useInsertionEffect=function(t,e){return Ke.current.useInsertionEffect(t,e)};K.useLayoutEffect=function(t,e){return Ke.current.useLayoutEffect(t,e)};K.useMemo=function(t,e){return Ke.current.useMemo(t,e)};K.useReducer=function(t,e,n){return Ke.current.useReducer(t,e,n)};K.useRef=function(t){return Ke.current.useRef(t)};K.useState=function(t){return Ke.current.useState(t)};K.useSyncExternalStore=function(t,e,n){return Ke.current.useSyncExternalStore(t,e,n)};K.useTransition=function(){return Ke.current.useTransition()};K.version="18.3.1";rh.exports=K;var W=rh.exports;const Zl=qg(W);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fy=W,hy=Symbol.for("react.element"),py=Symbol.for("react.fragment"),my=Object.prototype.hasOwnProperty,gy=fy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yy={key:!0,ref:!0,__self:!0,__source:!0};function fh(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)my.call(e,r)&&!yy.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:hy,type:t,key:s,ref:o,props:i,_owner:gy.current}}Wo.Fragment=py;Wo.jsx=fh;Wo.jsxs=fh;nh.exports=Wo;var u=nh.exports,ea={},hh={exports:{}},ut={},ph={exports:{}},mh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,b){var V=D.length;D.push(b);e:for(;0<V;){var le=V-1>>>1,ve=D[le];if(0<i(ve,b))D[le]=b,D[V]=ve,V=le;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var b=D[0],V=D.pop();if(V!==b){D[0]=V;e:for(var le=0,ve=D.length,On=ve>>>1;le<On;){var Ut=2*(le+1)-1,ti=D[Ut],ft=Ut+1,nn=D[ft];if(0>i(ti,V))ft<ve&&0>i(nn,ti)?(D[le]=nn,D[ft]=V,le=ft):(D[le]=ti,D[Ut]=V,le=Ut);else if(ft<ve&&0>i(nn,V))D[le]=nn,D[ft]=V,le=ft;else break e}}return b}function i(D,b){var V=D.sortIndex-b.sortIndex;return V!==0?V:D.id-b.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],c=[],h=1,f=null,d=3,y=!1,v=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(D){for(var b=n(c);b!==null;){if(b.callback===null)r(c);else if(b.startTime<=D)r(c),b.sortIndex=b.expirationTime,e(a,b);else break;b=n(c)}}function E(D){if(w=!1,_(D),!v)if(n(a)!==null)v=!0,Dt(T);else{var b=n(c);b!==null&&dt(E,b.startTime-D)}}function T(D,b){v=!1,w&&(w=!1,g(A),A=-1),y=!0;var V=d;try{for(_(b),f=n(a);f!==null&&(!(f.expirationTime>b)||D&&!Ue());){var le=f.callback;if(typeof le=="function"){f.callback=null,d=f.priorityLevel;var ve=le(f.expirationTime<=b);b=t.unstable_now(),typeof ve=="function"?f.callback=ve:f===n(a)&&r(a),_(b)}else r(a);f=n(a)}if(f!==null)var On=!0;else{var Ut=n(c);Ut!==null&&dt(E,Ut.startTime-b),On=!1}return On}finally{f=null,d=V,y=!1}}var k=!1,P=null,A=-1,Z=5,$=-1;function Ue(){return!(t.unstable_now()-$<Z)}function zt(){if(P!==null){var D=t.unstable_now();$=D;var b=!0;try{b=P(!0,D)}finally{b?At():(k=!1,P=null)}}else k=!1}var At;if(typeof p=="function")At=function(){p(zt)};else if(typeof MessageChannel<"u"){var sr=new MessageChannel,or=sr.port2;sr.port1.onmessage=zt,At=function(){or.postMessage(null)}}else At=function(){S(zt,0)};function Dt(D){P=D,k||(k=!0,At())}function dt(D,b){A=S(function(){D(t.unstable_now())},b)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){v||y||(v=!0,Dt(T))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(D){switch(d){case 1:case 2:case 3:var b=3;break;default:b=d}var V=d;d=b;try{return D()}finally{d=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,b){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var V=d;d=D;try{return b()}finally{d=V}},t.unstable_scheduleCallback=function(D,b,V){var le=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?le+V:le):V=le,D){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=V+ve,D={id:h++,callback:b,priorityLevel:D,startTime:V,expirationTime:ve,sortIndex:-1},V>le?(D.sortIndex=V,e(c,D),n(a)===null&&D===n(c)&&(w?(g(A),A=-1):w=!0,dt(E,V-le))):(D.sortIndex=ve,e(a,D),v||y||(v=!0,Dt(T))),D},t.unstable_shouldYield=Ue,t.unstable_wrapCallback=function(D){var b=d;return function(){var V=d;d=b;try{return D.apply(this,arguments)}finally{d=V}}}})(mh);ph.exports=mh;var _y=ph.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vy=W,at=_y;function N(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gh=new Set,ji={};function tr(t,e){Lr(t,e),Lr(t+"Capture",e)}function Lr(t,e){for(ji[t]=e,t=0;t<e.length;t++)gh.add(e[t])}var Kt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ta=Object.prototype.hasOwnProperty,wy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nd={},rd={};function Cy(t){return ta.call(rd,t)?!0:ta.call(nd,t)?!1:wy.test(t)?rd[t]=!0:(nd[t]=!0,!1)}function Sy(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Ey(t,e,n,r){if(e===null||typeof e>"u"||Sy(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function qe(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var We={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){We[t]=new qe(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];We[e]=new qe(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){We[t]=new qe(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){We[t]=new qe(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){We[t]=new qe(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){We[t]=new qe(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){We[t]=new qe(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){We[t]=new qe(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){We[t]=new qe(t,5,!1,t.toLowerCase(),null,!1,!1)});var _u=/[\-:]([a-z])/g;function vu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(_u,vu);We[e]=new qe(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(_u,vu);We[e]=new qe(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(_u,vu);We[e]=new qe(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){We[t]=new qe(t,1,!1,t.toLowerCase(),null,!1,!1)});We.xlinkHref=new qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){We[t]=new qe(t,1,!1,t.toLowerCase(),null,!0,!0)});function wu(t,e,n,r){var i=We.hasOwnProperty(e)?We[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Ey(e,n,i,r)&&(n=null),r||i===null?Cy(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var tn=vy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vs=Symbol.for("react.element"),dr=Symbol.for("react.portal"),fr=Symbol.for("react.fragment"),Cu=Symbol.for("react.strict_mode"),na=Symbol.for("react.profiler"),yh=Symbol.for("react.provider"),_h=Symbol.for("react.context"),Su=Symbol.for("react.forward_ref"),ra=Symbol.for("react.suspense"),ia=Symbol.for("react.suspense_list"),Eu=Symbol.for("react.memo"),un=Symbol.for("react.lazy"),vh=Symbol.for("react.offscreen"),id=Symbol.iterator;function ri(t){return t===null||typeof t!="object"?null:(t=id&&t[id]||t["@@iterator"],typeof t=="function"?t:null)}var he=Object.assign,yl;function mi(t){if(yl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);yl=e&&e[1]||""}return`
`+yl+t}var _l=!1;function vl(t,e){if(!t||_l)return"";_l=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{_l=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?mi(t):""}function xy(t){switch(t.tag){case 5:return mi(t.type);case 16:return mi("Lazy");case 13:return mi("Suspense");case 19:return mi("SuspenseList");case 0:case 2:case 15:return t=vl(t.type,!1),t;case 11:return t=vl(t.type.render,!1),t;case 1:return t=vl(t.type,!0),t;default:return""}}function sa(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case fr:return"Fragment";case dr:return"Portal";case na:return"Profiler";case Cu:return"StrictMode";case ra:return"Suspense";case ia:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case _h:return(t.displayName||"Context")+".Consumer";case yh:return(t._context.displayName||"Context")+".Provider";case Su:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Eu:return e=t.displayName||null,e!==null?e:sa(t.type)||"Memo";case un:e=t._payload,t=t._init;try{return sa(t(e))}catch{}}return null}function ky(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sa(e);case 8:return e===Cu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Tn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function wh(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ny(t){var e=wh(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ws(t){t._valueTracker||(t._valueTracker=Ny(t))}function Ch(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=wh(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Xs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function oa(t,e){var n=e.checked;return he({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function sd(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Tn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Sh(t,e){e=e.checked,e!=null&&wu(t,"checked",e,!1)}function la(t,e){Sh(t,e);var n=Tn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?aa(t,e.type,n):e.hasOwnProperty("defaultValue")&&aa(t,e.type,Tn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function od(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function aa(t,e,n){(e!=="number"||Xs(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var gi=Array.isArray;function xr(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Tn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ua(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(N(91));return he({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ld(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(N(92));if(gi(n)){if(1<n.length)throw Error(N(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Tn(n)}}function Eh(t,e){var n=Tn(e.value),r=Tn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ad(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function xh(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ca(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?xh(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Cs,kh=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Cs=Cs||document.createElement("div"),Cs.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Cs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Li(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var vi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ty=["Webkit","ms","Moz","O"];Object.keys(vi).forEach(function(t){Ty.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),vi[e]=vi[t]})});function Nh(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||vi.hasOwnProperty(t)&&vi[t]?(""+e).trim():e+"px"}function Th(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Nh(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Iy=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function da(t,e){if(e){if(Iy[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(N(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(N(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(N(61))}if(e.style!=null&&typeof e.style!="object")throw Error(N(62))}}function fa(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ha=null;function xu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var pa=null,kr=null,Nr=null;function ud(t){if(t=us(t)){if(typeof pa!="function")throw Error(N(280));var e=t.stateNode;e&&(e=Vo(e),pa(t.stateNode,t.type,e))}}function Ih(t){kr?Nr?Nr.push(t):Nr=[t]:kr=t}function Ph(){if(kr){var t=kr,e=Nr;if(Nr=kr=null,ud(t),e)for(t=0;t<e.length;t++)ud(e[t])}}function Rh(t,e){return t(e)}function Ah(){}var wl=!1;function Dh(t,e,n){if(wl)return t(e,n);wl=!0;try{return Rh(t,e,n)}finally{wl=!1,(kr!==null||Nr!==null)&&(Ah(),Ph())}}function Oi(t,e){var n=t.stateNode;if(n===null)return null;var r=Vo(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(N(231,e,typeof n));return n}var ma=!1;if(Kt)try{var ii={};Object.defineProperty(ii,"passive",{get:function(){ma=!0}}),window.addEventListener("test",ii,ii),window.removeEventListener("test",ii,ii)}catch{ma=!1}function Py(t,e,n,r,i,s,o,l,a){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var wi=!1,Js=null,Zs=!1,ga=null,Ry={onError:function(t){wi=!0,Js=t}};function Ay(t,e,n,r,i,s,o,l,a){wi=!1,Js=null,Py.apply(Ry,arguments)}function Dy(t,e,n,r,i,s,o,l,a){if(Ay.apply(this,arguments),wi){if(wi){var c=Js;wi=!1,Js=null}else throw Error(N(198));Zs||(Zs=!0,ga=c)}}function nr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function jh(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function cd(t){if(nr(t)!==t)throw Error(N(188))}function jy(t){var e=t.alternate;if(!e){if(e=nr(t),e===null)throw Error(N(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return cd(i),t;if(s===r)return cd(i),e;s=s.sibling}throw Error(N(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?t:e}function Lh(t){return t=jy(t),t!==null?Oh(t):null}function Oh(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Oh(t);if(e!==null)return e;t=t.sibling}return null}var bh=at.unstable_scheduleCallback,dd=at.unstable_cancelCallback,Ly=at.unstable_shouldYield,Oy=at.unstable_requestPaint,Ce=at.unstable_now,by=at.unstable_getCurrentPriorityLevel,ku=at.unstable_ImmediatePriority,Mh=at.unstable_UserBlockingPriority,eo=at.unstable_NormalPriority,My=at.unstable_LowPriority,Fh=at.unstable_IdlePriority,zo=null,Mt=null;function Fy(t){if(Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(zo,t,void 0,(t.current.flags&128)===128)}catch{}}var Nt=Math.clz32?Math.clz32:Uy,Wy=Math.log,zy=Math.LN2;function Uy(t){return t>>>=0,t===0?32:31-(Wy(t)/zy|0)|0}var Ss=64,Es=4194304;function yi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function to(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=yi(l):(s&=o,s!==0&&(r=yi(s)))}else o=n&~i,o!==0?r=yi(o):s!==0&&(r=yi(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Nt(e),i=1<<n,r|=t[n],e&=~i;return r}function By(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $y(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Nt(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=By(l,e)):a<=e&&(t.expiredLanes|=l),s&=~l}}function ya(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Wh(){var t=Ss;return Ss<<=1,!(Ss&4194240)&&(Ss=64),t}function Cl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ls(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Nt(e),t[e]=n}function Vy(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Nt(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Nu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Nt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ee=0;function zh(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Uh,Tu,Bh,$h,Vh,_a=!1,xs=[],gn=null,yn=null,_n=null,bi=new Map,Mi=new Map,dn=[],Hy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fd(t,e){switch(t){case"focusin":case"focusout":gn=null;break;case"dragenter":case"dragleave":yn=null;break;case"mouseover":case"mouseout":_n=null;break;case"pointerover":case"pointerout":bi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mi.delete(e.pointerId)}}function si(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=us(e),e!==null&&Tu(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Gy(t,e,n,r,i){switch(e){case"focusin":return gn=si(gn,t,e,n,r,i),!0;case"dragenter":return yn=si(yn,t,e,n,r,i),!0;case"mouseover":return _n=si(_n,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return bi.set(s,si(bi.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Mi.set(s,si(Mi.get(s)||null,t,e,n,r,i)),!0}return!1}function Hh(t){var e=zn(t.target);if(e!==null){var n=nr(e);if(n!==null){if(e=n.tag,e===13){if(e=jh(n),e!==null){t.blockedOn=e,Vh(t.priority,function(){Bh(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=va(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ha=r,n.target.dispatchEvent(r),ha=null}else return e=us(n),e!==null&&Tu(e),t.blockedOn=n,!1;e.shift()}return!0}function hd(t,e,n){zs(t)&&n.delete(e)}function Yy(){_a=!1,gn!==null&&zs(gn)&&(gn=null),yn!==null&&zs(yn)&&(yn=null),_n!==null&&zs(_n)&&(_n=null),bi.forEach(hd),Mi.forEach(hd)}function oi(t,e){t.blockedOn===e&&(t.blockedOn=null,_a||(_a=!0,at.unstable_scheduleCallback(at.unstable_NormalPriority,Yy)))}function Fi(t){function e(i){return oi(i,t)}if(0<xs.length){oi(xs[0],t);for(var n=1;n<xs.length;n++){var r=xs[n];r.blockedOn===t&&(r.blockedOn=null)}}for(gn!==null&&oi(gn,t),yn!==null&&oi(yn,t),_n!==null&&oi(_n,t),bi.forEach(e),Mi.forEach(e),n=0;n<dn.length;n++)r=dn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<dn.length&&(n=dn[0],n.blockedOn===null);)Hh(n),n.blockedOn===null&&dn.shift()}var Tr=tn.ReactCurrentBatchConfig,no=!0;function Qy(t,e,n,r){var i=ee,s=Tr.transition;Tr.transition=null;try{ee=1,Iu(t,e,n,r)}finally{ee=i,Tr.transition=s}}function Ky(t,e,n,r){var i=ee,s=Tr.transition;Tr.transition=null;try{ee=4,Iu(t,e,n,r)}finally{ee=i,Tr.transition=s}}function Iu(t,e,n,r){if(no){var i=va(t,e,n,r);if(i===null)Al(t,e,r,ro,n),fd(t,r);else if(Gy(i,t,e,n,r))r.stopPropagation();else if(fd(t,r),e&4&&-1<Hy.indexOf(t)){for(;i!==null;){var s=us(i);if(s!==null&&Uh(s),s=va(t,e,n,r),s===null&&Al(t,e,r,ro,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Al(t,e,r,null,n)}}var ro=null;function va(t,e,n,r){if(ro=null,t=xu(r),t=zn(t),t!==null)if(e=nr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=jh(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ro=t,null}function Gh(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(by()){case ku:return 1;case Mh:return 4;case eo:case My:return 16;case Fh:return 536870912;default:return 16}default:return 16}}var hn=null,Pu=null,Us=null;function Yh(){if(Us)return Us;var t,e=Pu,n=e.length,r,i="value"in hn?hn.value:hn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Us=i.slice(t,1<r?1-r:void 0)}function Bs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ks(){return!0}function pd(){return!1}function ct(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ks:pd,this.isPropagationStopped=pd,this}return he(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ks)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ks)},persist:function(){},isPersistent:ks}),e}var Qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ru=ct(Qr),as=he({},Qr,{view:0,detail:0}),qy=ct(as),Sl,El,li,Uo=he({},as,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Au,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==li&&(li&&t.type==="mousemove"?(Sl=t.screenX-li.screenX,El=t.screenY-li.screenY):El=Sl=0,li=t),Sl)},movementY:function(t){return"movementY"in t?t.movementY:El}}),md=ct(Uo),Xy=he({},Uo,{dataTransfer:0}),Jy=ct(Xy),Zy=he({},as,{relatedTarget:0}),xl=ct(Zy),e_=he({},Qr,{animationName:0,elapsedTime:0,pseudoElement:0}),t_=ct(e_),n_=he({},Qr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),r_=ct(n_),i_=he({},Qr,{data:0}),gd=ct(i_),s_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},o_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},l_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function a_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=l_[t])?!!e[t]:!1}function Au(){return a_}var u_=he({},as,{key:function(t){if(t.key){var e=s_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Bs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?o_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Au,charCode:function(t){return t.type==="keypress"?Bs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),c_=ct(u_),d_=he({},Uo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yd=ct(d_),f_=he({},as,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Au}),h_=ct(f_),p_=he({},Qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),m_=ct(p_),g_=he({},Uo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),y_=ct(g_),__=[9,13,27,32],Du=Kt&&"CompositionEvent"in window,Ci=null;Kt&&"documentMode"in document&&(Ci=document.documentMode);var v_=Kt&&"TextEvent"in window&&!Ci,Qh=Kt&&(!Du||Ci&&8<Ci&&11>=Ci),_d=" ",vd=!1;function Kh(t,e){switch(t){case"keyup":return __.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var hr=!1;function w_(t,e){switch(t){case"compositionend":return qh(e);case"keypress":return e.which!==32?null:(vd=!0,_d);case"textInput":return t=e.data,t===_d&&vd?null:t;default:return null}}function C_(t,e){if(hr)return t==="compositionend"||!Du&&Kh(t,e)?(t=Yh(),Us=Pu=hn=null,hr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Qh&&e.locale!=="ko"?null:e.data;default:return null}}var S_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!S_[t.type]:e==="textarea"}function Xh(t,e,n,r){Ih(r),e=io(e,"onChange"),0<e.length&&(n=new Ru("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Si=null,Wi=null;function E_(t){ap(t,0)}function Bo(t){var e=gr(t);if(Ch(e))return t}function x_(t,e){if(t==="change")return e}var Jh=!1;if(Kt){var kl;if(Kt){var Nl="oninput"in document;if(!Nl){var Cd=document.createElement("div");Cd.setAttribute("oninput","return;"),Nl=typeof Cd.oninput=="function"}kl=Nl}else kl=!1;Jh=kl&&(!document.documentMode||9<document.documentMode)}function Sd(){Si&&(Si.detachEvent("onpropertychange",Zh),Wi=Si=null)}function Zh(t){if(t.propertyName==="value"&&Bo(Wi)){var e=[];Xh(e,Wi,t,xu(t)),Dh(E_,e)}}function k_(t,e,n){t==="focusin"?(Sd(),Si=e,Wi=n,Si.attachEvent("onpropertychange",Zh)):t==="focusout"&&Sd()}function N_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bo(Wi)}function T_(t,e){if(t==="click")return Bo(e)}function I_(t,e){if(t==="input"||t==="change")return Bo(e)}function P_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Pt=typeof Object.is=="function"?Object.is:P_;function zi(t,e){if(Pt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ta.call(e,i)||!Pt(t[i],e[i]))return!1}return!0}function Ed(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xd(t,e){var n=Ed(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ed(n)}}function ep(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ep(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function tp(){for(var t=window,e=Xs();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Xs(t.document)}return e}function ju(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function R_(t){var e=tp(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ep(n.ownerDocument.documentElement,n)){if(r!==null&&ju(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=xd(n,s);var o=xd(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var A_=Kt&&"documentMode"in document&&11>=document.documentMode,pr=null,wa=null,Ei=null,Ca=!1;function kd(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ca||pr==null||pr!==Xs(r)||(r=pr,"selectionStart"in r&&ju(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ei&&zi(Ei,r)||(Ei=r,r=io(wa,"onSelect"),0<r.length&&(e=new Ru("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=pr)))}function Ns(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var mr={animationend:Ns("Animation","AnimationEnd"),animationiteration:Ns("Animation","AnimationIteration"),animationstart:Ns("Animation","AnimationStart"),transitionend:Ns("Transition","TransitionEnd")},Tl={},np={};Kt&&(np=document.createElement("div").style,"AnimationEvent"in window||(delete mr.animationend.animation,delete mr.animationiteration.animation,delete mr.animationstart.animation),"TransitionEvent"in window||delete mr.transitionend.transition);function $o(t){if(Tl[t])return Tl[t];if(!mr[t])return t;var e=mr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in np)return Tl[t]=e[n];return t}var rp=$o("animationend"),ip=$o("animationiteration"),sp=$o("animationstart"),op=$o("transitionend"),lp=new Map,Nd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function An(t,e){lp.set(t,e),tr(e,[t])}for(var Il=0;Il<Nd.length;Il++){var Pl=Nd[Il],D_=Pl.toLowerCase(),j_=Pl[0].toUpperCase()+Pl.slice(1);An(D_,"on"+j_)}An(rp,"onAnimationEnd");An(ip,"onAnimationIteration");An(sp,"onAnimationStart");An("dblclick","onDoubleClick");An("focusin","onFocus");An("focusout","onBlur");An(op,"onTransitionEnd");Lr("onMouseEnter",["mouseout","mouseover"]);Lr("onMouseLeave",["mouseout","mouseover"]);Lr("onPointerEnter",["pointerout","pointerover"]);Lr("onPointerLeave",["pointerout","pointerover"]);tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));tr("onBeforeInput",["compositionend","keypress","textInput","paste"]);tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _i="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),L_=new Set("cancel close invalid load scroll toggle".split(" ").concat(_i));function Td(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Dy(r,e,void 0,t),t.currentTarget=null}function ap(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;Td(i,l,c),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,c=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;Td(i,l,c),s=a}}}if(Zs)throw t=ga,Zs=!1,ga=null,t}function ae(t,e){var n=e[Na];n===void 0&&(n=e[Na]=new Set);var r=t+"__bubble";n.has(r)||(up(e,t,2,!1),n.add(r))}function Rl(t,e,n){var r=0;e&&(r|=4),up(n,t,r,e)}var Ts="_reactListening"+Math.random().toString(36).slice(2);function Ui(t){if(!t[Ts]){t[Ts]=!0,gh.forEach(function(n){n!=="selectionchange"&&(L_.has(n)||Rl(n,!1,t),Rl(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ts]||(e[Ts]=!0,Rl("selectionchange",!1,e))}}function up(t,e,n,r){switch(Gh(e)){case 1:var i=Qy;break;case 4:i=Ky;break;default:i=Iu}n=i.bind(null,e,n,t),i=void 0,!ma||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Al(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=zn(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}Dh(function(){var c=s,h=xu(n),f=[];e:{var d=lp.get(t);if(d!==void 0){var y=Ru,v=t;switch(t){case"keypress":if(Bs(n)===0)break e;case"keydown":case"keyup":y=c_;break;case"focusin":v="focus",y=xl;break;case"focusout":v="blur",y=xl;break;case"beforeblur":case"afterblur":y=xl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=md;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Jy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=h_;break;case rp:case ip:case sp:y=t_;break;case op:y=m_;break;case"scroll":y=qy;break;case"wheel":y=y_;break;case"copy":case"cut":case"paste":y=r_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=yd}var w=(e&4)!==0,S=!w&&t==="scroll",g=w?d!==null?d+"Capture":null:d;w=[];for(var p=c,_;p!==null;){_=p;var E=_.stateNode;if(_.tag===5&&E!==null&&(_=E,g!==null&&(E=Oi(p,g),E!=null&&w.push(Bi(p,E,_)))),S)break;p=p.return}0<w.length&&(d=new y(d,v,null,n,h),f.push({event:d,listeners:w}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",d&&n!==ha&&(v=n.relatedTarget||n.fromElement)&&(zn(v)||v[qt]))break e;if((y||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,y?(v=n.relatedTarget||n.toElement,y=c,v=v?zn(v):null,v!==null&&(S=nr(v),v!==S||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=c),y!==v)){if(w=md,E="onMouseLeave",g="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(w=yd,E="onPointerLeave",g="onPointerEnter",p="pointer"),S=y==null?d:gr(y),_=v==null?d:gr(v),d=new w(E,p+"leave",y,n,h),d.target=S,d.relatedTarget=_,E=null,zn(h)===c&&(w=new w(g,p+"enter",v,n,h),w.target=_,w.relatedTarget=S,E=w),S=E,y&&v)t:{for(w=y,g=v,p=0,_=w;_;_=ur(_))p++;for(_=0,E=g;E;E=ur(E))_++;for(;0<p-_;)w=ur(w),p--;for(;0<_-p;)g=ur(g),_--;for(;p--;){if(w===g||g!==null&&w===g.alternate)break t;w=ur(w),g=ur(g)}w=null}else w=null;y!==null&&Id(f,d,y,w,!1),v!==null&&S!==null&&Id(f,S,v,w,!0)}}e:{if(d=c?gr(c):window,y=d.nodeName&&d.nodeName.toLowerCase(),y==="select"||y==="input"&&d.type==="file")var T=x_;else if(wd(d))if(Jh)T=I_;else{T=N_;var k=k_}else(y=d.nodeName)&&y.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(T=T_);if(T&&(T=T(t,c))){Xh(f,T,n,h);break e}k&&k(t,d,c),t==="focusout"&&(k=d._wrapperState)&&k.controlled&&d.type==="number"&&aa(d,"number",d.value)}switch(k=c?gr(c):window,t){case"focusin":(wd(k)||k.contentEditable==="true")&&(pr=k,wa=c,Ei=null);break;case"focusout":Ei=wa=pr=null;break;case"mousedown":Ca=!0;break;case"contextmenu":case"mouseup":case"dragend":Ca=!1,kd(f,n,h);break;case"selectionchange":if(A_)break;case"keydown":case"keyup":kd(f,n,h)}var P;if(Du)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else hr?Kh(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(Qh&&n.locale!=="ko"&&(hr||A!=="onCompositionStart"?A==="onCompositionEnd"&&hr&&(P=Yh()):(hn=h,Pu="value"in hn?hn.value:hn.textContent,hr=!0)),k=io(c,A),0<k.length&&(A=new gd(A,t,null,n,h),f.push({event:A,listeners:k}),P?A.data=P:(P=qh(n),P!==null&&(A.data=P)))),(P=v_?w_(t,n):C_(t,n))&&(c=io(c,"onBeforeInput"),0<c.length&&(h=new gd("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=P))}ap(f,e)})}function Bi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function io(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Oi(t,n),s!=null&&r.unshift(Bi(t,s,i)),s=Oi(t,e),s!=null&&r.push(Bi(t,s,i))),t=t.return}return r}function ur(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Id(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,c=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&c!==null&&(l=c,i?(a=Oi(n,s),a!=null&&o.unshift(Bi(n,a,l))):i||(a=Oi(n,s),a!=null&&o.push(Bi(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var O_=/\r\n?/g,b_=/\u0000|\uFFFD/g;function Pd(t){return(typeof t=="string"?t:""+t).replace(O_,`
`).replace(b_,"")}function Is(t,e,n){if(e=Pd(e),Pd(t)!==e&&n)throw Error(N(425))}function so(){}var Sa=null,Ea=null;function xa(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ka=typeof setTimeout=="function"?setTimeout:void 0,M_=typeof clearTimeout=="function"?clearTimeout:void 0,Rd=typeof Promise=="function"?Promise:void 0,F_=typeof queueMicrotask=="function"?queueMicrotask:typeof Rd<"u"?function(t){return Rd.resolve(null).then(t).catch(W_)}:ka;function W_(t){setTimeout(function(){throw t})}function Dl(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Fi(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Fi(e)}function vn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ad(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Kr=Math.random().toString(36).slice(2),bt="__reactFiber$"+Kr,$i="__reactProps$"+Kr,qt="__reactContainer$"+Kr,Na="__reactEvents$"+Kr,z_="__reactListeners$"+Kr,U_="__reactHandles$"+Kr;function zn(t){var e=t[bt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[qt]||n[bt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ad(t);t!==null;){if(n=t[bt])return n;t=Ad(t)}return e}t=n,n=t.parentNode}return null}function us(t){return t=t[bt]||t[qt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function gr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(N(33))}function Vo(t){return t[$i]||null}var Ta=[],yr=-1;function Dn(t){return{current:t}}function ue(t){0>yr||(t.current=Ta[yr],Ta[yr]=null,yr--)}function oe(t,e){yr++,Ta[yr]=t.current,t.current=e}var In={},He=Dn(In),nt=Dn(!1),Gn=In;function Or(t,e){var n=t.type.contextTypes;if(!n)return In;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function rt(t){return t=t.childContextTypes,t!=null}function oo(){ue(nt),ue(He)}function Dd(t,e,n){if(He.current!==In)throw Error(N(168));oe(He,e),oe(nt,n)}function cp(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(N(108,ky(t)||"Unknown",i));return he({},n,r)}function lo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||In,Gn=He.current,oe(He,t),oe(nt,nt.current),!0}function jd(t,e,n){var r=t.stateNode;if(!r)throw Error(N(169));n?(t=cp(t,e,Gn),r.__reactInternalMemoizedMergedChildContext=t,ue(nt),ue(He),oe(He,t)):ue(nt),oe(nt,n)}var $t=null,Ho=!1,jl=!1;function dp(t){$t===null?$t=[t]:$t.push(t)}function B_(t){Ho=!0,dp(t)}function jn(){if(!jl&&$t!==null){jl=!0;var t=0,e=ee;try{var n=$t;for(ee=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}$t=null,Ho=!1}catch(i){throw $t!==null&&($t=$t.slice(t+1)),bh(ku,jn),i}finally{ee=e,jl=!1}}return null}var _r=[],vr=0,ao=null,uo=0,ht=[],pt=0,Yn=null,Vt=1,Ht="";function bn(t,e){_r[vr++]=uo,_r[vr++]=ao,ao=t,uo=e}function fp(t,e,n){ht[pt++]=Vt,ht[pt++]=Ht,ht[pt++]=Yn,Yn=t;var r=Vt;t=Ht;var i=32-Nt(r)-1;r&=~(1<<i),n+=1;var s=32-Nt(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Vt=1<<32-Nt(e)+i|n<<i|r,Ht=s+t}else Vt=1<<s|n<<i|r,Ht=t}function Lu(t){t.return!==null&&(bn(t,1),fp(t,1,0))}function Ou(t){for(;t===ao;)ao=_r[--vr],_r[vr]=null,uo=_r[--vr],_r[vr]=null;for(;t===Yn;)Yn=ht[--pt],ht[pt]=null,Ht=ht[--pt],ht[pt]=null,Vt=ht[--pt],ht[pt]=null}var lt=null,ot=null,ce=!1,Et=null;function hp(t,e){var n=mt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ld(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,lt=t,ot=vn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,lt=t,ot=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Yn!==null?{id:Vt,overflow:Ht}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=mt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,lt=t,ot=null,!0):!1;default:return!1}}function Ia(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Pa(t){if(ce){var e=ot;if(e){var n=e;if(!Ld(t,e)){if(Ia(t))throw Error(N(418));e=vn(n.nextSibling);var r=lt;e&&Ld(t,e)?hp(r,n):(t.flags=t.flags&-4097|2,ce=!1,lt=t)}}else{if(Ia(t))throw Error(N(418));t.flags=t.flags&-4097|2,ce=!1,lt=t}}}function Od(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;lt=t}function Ps(t){if(t!==lt)return!1;if(!ce)return Od(t),ce=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!xa(t.type,t.memoizedProps)),e&&(e=ot)){if(Ia(t))throw pp(),Error(N(418));for(;e;)hp(t,e),e=vn(e.nextSibling)}if(Od(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(N(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ot=vn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ot=null}}else ot=lt?vn(t.stateNode.nextSibling):null;return!0}function pp(){for(var t=ot;t;)t=vn(t.nextSibling)}function br(){ot=lt=null,ce=!1}function bu(t){Et===null?Et=[t]:Et.push(t)}var $_=tn.ReactCurrentBatchConfig;function ai(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,t))}return t}function Rs(t,e){throw t=Object.prototype.toString.call(e),Error(N(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function bd(t){var e=t._init;return e(t._payload)}function mp(t){function e(g,p){if(t){var _=g.deletions;_===null?(g.deletions=[p],g.flags|=16):_.push(p)}}function n(g,p){if(!t)return null;for(;p!==null;)e(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function i(g,p){return g=En(g,p),g.index=0,g.sibling=null,g}function s(g,p,_){return g.index=_,t?(_=g.alternate,_!==null?(_=_.index,_<p?(g.flags|=2,p):_):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,p,_,E){return p===null||p.tag!==6?(p=zl(_,g.mode,E),p.return=g,p):(p=i(p,_),p.return=g,p)}function a(g,p,_,E){var T=_.type;return T===fr?h(g,p,_.props.children,E,_.key):p!==null&&(p.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===un&&bd(T)===p.type)?(E=i(p,_.props),E.ref=ai(g,p,_),E.return=g,E):(E=Ks(_.type,_.key,_.props,null,g.mode,E),E.ref=ai(g,p,_),E.return=g,E)}function c(g,p,_,E){return p===null||p.tag!==4||p.stateNode.containerInfo!==_.containerInfo||p.stateNode.implementation!==_.implementation?(p=Ul(_,g.mode,E),p.return=g,p):(p=i(p,_.children||[]),p.return=g,p)}function h(g,p,_,E,T){return p===null||p.tag!==7?(p=Hn(_,g.mode,E,T),p.return=g,p):(p=i(p,_),p.return=g,p)}function f(g,p,_){if(typeof p=="string"&&p!==""||typeof p=="number")return p=zl(""+p,g.mode,_),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case vs:return _=Ks(p.type,p.key,p.props,null,g.mode,_),_.ref=ai(g,null,p),_.return=g,_;case dr:return p=Ul(p,g.mode,_),p.return=g,p;case un:var E=p._init;return f(g,E(p._payload),_)}if(gi(p)||ri(p))return p=Hn(p,g.mode,_,null),p.return=g,p;Rs(g,p)}return null}function d(g,p,_,E){var T=p!==null?p.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return T!==null?null:l(g,p,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case vs:return _.key===T?a(g,p,_,E):null;case dr:return _.key===T?c(g,p,_,E):null;case un:return T=_._init,d(g,p,T(_._payload),E)}if(gi(_)||ri(_))return T!==null?null:h(g,p,_,E,null);Rs(g,_)}return null}function y(g,p,_,E,T){if(typeof E=="string"&&E!==""||typeof E=="number")return g=g.get(_)||null,l(p,g,""+E,T);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case vs:return g=g.get(E.key===null?_:E.key)||null,a(p,g,E,T);case dr:return g=g.get(E.key===null?_:E.key)||null,c(p,g,E,T);case un:var k=E._init;return y(g,p,_,k(E._payload),T)}if(gi(E)||ri(E))return g=g.get(_)||null,h(p,g,E,T,null);Rs(p,E)}return null}function v(g,p,_,E){for(var T=null,k=null,P=p,A=p=0,Z=null;P!==null&&A<_.length;A++){P.index>A?(Z=P,P=null):Z=P.sibling;var $=d(g,P,_[A],E);if($===null){P===null&&(P=Z);break}t&&P&&$.alternate===null&&e(g,P),p=s($,p,A),k===null?T=$:k.sibling=$,k=$,P=Z}if(A===_.length)return n(g,P),ce&&bn(g,A),T;if(P===null){for(;A<_.length;A++)P=f(g,_[A],E),P!==null&&(p=s(P,p,A),k===null?T=P:k.sibling=P,k=P);return ce&&bn(g,A),T}for(P=r(g,P);A<_.length;A++)Z=y(P,g,A,_[A],E),Z!==null&&(t&&Z.alternate!==null&&P.delete(Z.key===null?A:Z.key),p=s(Z,p,A),k===null?T=Z:k.sibling=Z,k=Z);return t&&P.forEach(function(Ue){return e(g,Ue)}),ce&&bn(g,A),T}function w(g,p,_,E){var T=ri(_);if(typeof T!="function")throw Error(N(150));if(_=T.call(_),_==null)throw Error(N(151));for(var k=T=null,P=p,A=p=0,Z=null,$=_.next();P!==null&&!$.done;A++,$=_.next()){P.index>A?(Z=P,P=null):Z=P.sibling;var Ue=d(g,P,$.value,E);if(Ue===null){P===null&&(P=Z);break}t&&P&&Ue.alternate===null&&e(g,P),p=s(Ue,p,A),k===null?T=Ue:k.sibling=Ue,k=Ue,P=Z}if($.done)return n(g,P),ce&&bn(g,A),T;if(P===null){for(;!$.done;A++,$=_.next())$=f(g,$.value,E),$!==null&&(p=s($,p,A),k===null?T=$:k.sibling=$,k=$);return ce&&bn(g,A),T}for(P=r(g,P);!$.done;A++,$=_.next())$=y(P,g,A,$.value,E),$!==null&&(t&&$.alternate!==null&&P.delete($.key===null?A:$.key),p=s($,p,A),k===null?T=$:k.sibling=$,k=$);return t&&P.forEach(function(zt){return e(g,zt)}),ce&&bn(g,A),T}function S(g,p,_,E){if(typeof _=="object"&&_!==null&&_.type===fr&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case vs:e:{for(var T=_.key,k=p;k!==null;){if(k.key===T){if(T=_.type,T===fr){if(k.tag===7){n(g,k.sibling),p=i(k,_.props.children),p.return=g,g=p;break e}}else if(k.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===un&&bd(T)===k.type){n(g,k.sibling),p=i(k,_.props),p.ref=ai(g,k,_),p.return=g,g=p;break e}n(g,k);break}else e(g,k);k=k.sibling}_.type===fr?(p=Hn(_.props.children,g.mode,E,_.key),p.return=g,g=p):(E=Ks(_.type,_.key,_.props,null,g.mode,E),E.ref=ai(g,p,_),E.return=g,g=E)}return o(g);case dr:e:{for(k=_.key;p!==null;){if(p.key===k)if(p.tag===4&&p.stateNode.containerInfo===_.containerInfo&&p.stateNode.implementation===_.implementation){n(g,p.sibling),p=i(p,_.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else e(g,p);p=p.sibling}p=Ul(_,g.mode,E),p.return=g,g=p}return o(g);case un:return k=_._init,S(g,p,k(_._payload),E)}if(gi(_))return v(g,p,_,E);if(ri(_))return w(g,p,_,E);Rs(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,p!==null&&p.tag===6?(n(g,p.sibling),p=i(p,_),p.return=g,g=p):(n(g,p),p=zl(_,g.mode,E),p.return=g,g=p),o(g)):n(g,p)}return S}var Mr=mp(!0),gp=mp(!1),co=Dn(null),fo=null,wr=null,Mu=null;function Fu(){Mu=wr=fo=null}function Wu(t){var e=co.current;ue(co),t._currentValue=e}function Ra(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ir(t,e){fo=t,Mu=wr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ze=!0),t.firstContext=null)}function _t(t){var e=t._currentValue;if(Mu!==t)if(t={context:t,memoizedValue:e,next:null},wr===null){if(fo===null)throw Error(N(308));wr=t,fo.dependencies={lanes:0,firstContext:t}}else wr=wr.next=t;return e}var Un=null;function zu(t){Un===null?Un=[t]:Un.push(t)}function yp(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,zu(e)):(n.next=i.next,i.next=n),e.interleaved=n,Xt(t,r)}function Xt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var cn=!1;function Uu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _p(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Yt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,q&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Xt(t,n)}return i=r.interleaved,i===null?(e.next=e,zu(r)):(e.next=i.next,i.next=e),r.interleaved=e,Xt(t,n)}function $s(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Nu(t,n)}}function Md(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ho(t,e,n,r){var i=t.updateQueue;cn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,c=a.next;a.next=null,o===null?s=c:o.next=c,o=a;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=c:l.next=c,h.lastBaseUpdate=a))}if(s!==null){var f=i.baseState;o=0,h=c=a=null,l=s;do{var d=l.lane,y=l.eventTime;if((r&d)===d){h!==null&&(h=h.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,w=l;switch(d=e,y=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){f=v.call(y,f,d);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,d=typeof v=="function"?v.call(y,f,d):v,d==null)break e;f=he({},f,d);break e;case 2:cn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[l]:d.push(l))}else y={eventTime:y,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(c=h=y,a=f):h=h.next=y,o|=d;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;d=l,l=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(h===null&&(a=f),i.baseState=a,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Kn|=o,t.lanes=o,t.memoizedState=f}}function Fd(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(N(191,i));i.call(r)}}}var cs={},Ft=Dn(cs),Vi=Dn(cs),Hi=Dn(cs);function Bn(t){if(t===cs)throw Error(N(174));return t}function Bu(t,e){switch(oe(Hi,e),oe(Vi,t),oe(Ft,cs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ca(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ca(e,t)}ue(Ft),oe(Ft,e)}function Fr(){ue(Ft),ue(Vi),ue(Hi)}function vp(t){Bn(Hi.current);var e=Bn(Ft.current),n=ca(e,t.type);e!==n&&(oe(Vi,t),oe(Ft,n))}function $u(t){Vi.current===t&&(ue(Ft),ue(Vi))}var de=Dn(0);function po(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ll=[];function Vu(){for(var t=0;t<Ll.length;t++)Ll[t]._workInProgressVersionPrimary=null;Ll.length=0}var Vs=tn.ReactCurrentDispatcher,Ol=tn.ReactCurrentBatchConfig,Qn=0,fe=null,Te=null,Ae=null,mo=!1,xi=!1,Gi=0,V_=0;function Be(){throw Error(N(321))}function Hu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Pt(t[n],e[n]))return!1;return!0}function Gu(t,e,n,r,i,s){if(Qn=s,fe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Vs.current=t===null||t.memoizedState===null?Q_:K_,t=n(r,i),xi){s=0;do{if(xi=!1,Gi=0,25<=s)throw Error(N(301));s+=1,Ae=Te=null,e.updateQueue=null,Vs.current=q_,t=n(r,i)}while(xi)}if(Vs.current=go,e=Te!==null&&Te.next!==null,Qn=0,Ae=Te=fe=null,mo=!1,e)throw Error(N(300));return t}function Yu(){var t=Gi!==0;return Gi=0,t}function Ot(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?fe.memoizedState=Ae=t:Ae=Ae.next=t,Ae}function vt(){if(Te===null){var t=fe.alternate;t=t!==null?t.memoizedState:null}else t=Te.next;var e=Ae===null?fe.memoizedState:Ae.next;if(e!==null)Ae=e,Te=t;else{if(t===null)throw Error(N(310));Te=t,t={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},Ae===null?fe.memoizedState=Ae=t:Ae=Ae.next=t}return Ae}function Yi(t,e){return typeof e=="function"?e(t):e}function bl(t){var e=vt(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=Te,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,c=s;do{var h=c.lane;if((Qn&h)===h)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(l=a=f,o=r):a=a.next=f,fe.lanes|=h,Kn|=h}c=c.next}while(c!==null&&c!==s);a===null?o=r:a.next=l,Pt(r,e.memoizedState)||(Ze=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,fe.lanes|=s,Kn|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ml(t){var e=vt(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Pt(s,e.memoizedState)||(Ze=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function wp(){}function Cp(t,e){var n=fe,r=vt(),i=e(),s=!Pt(r.memoizedState,i);if(s&&(r.memoizedState=i,Ze=!0),r=r.queue,Qu(xp.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ae!==null&&Ae.memoizedState.tag&1){if(n.flags|=2048,Qi(9,Ep.bind(null,n,r,i,e),void 0,null),Oe===null)throw Error(N(349));Qn&30||Sp(n,e,i)}return i}function Sp(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=fe.updateQueue,e===null?(e={lastEffect:null,stores:null},fe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Ep(t,e,n,r){e.value=n,e.getSnapshot=r,kp(e)&&Np(t)}function xp(t,e,n){return n(function(){kp(e)&&Np(t)})}function kp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Pt(t,n)}catch{return!0}}function Np(t){var e=Xt(t,1);e!==null&&Tt(e,t,1,-1)}function Wd(t){var e=Ot();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:t},e.queue=t,t=t.dispatch=Y_.bind(null,fe,t),[e.memoizedState,t]}function Qi(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=fe.updateQueue,e===null?(e={lastEffect:null,stores:null},fe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Tp(){return vt().memoizedState}function Hs(t,e,n,r){var i=Ot();fe.flags|=t,i.memoizedState=Qi(1|e,n,void 0,r===void 0?null:r)}function Go(t,e,n,r){var i=vt();r=r===void 0?null:r;var s=void 0;if(Te!==null){var o=Te.memoizedState;if(s=o.destroy,r!==null&&Hu(r,o.deps)){i.memoizedState=Qi(e,n,s,r);return}}fe.flags|=t,i.memoizedState=Qi(1|e,n,s,r)}function zd(t,e){return Hs(8390656,8,t,e)}function Qu(t,e){return Go(2048,8,t,e)}function Ip(t,e){return Go(4,2,t,e)}function Pp(t,e){return Go(4,4,t,e)}function Rp(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ap(t,e,n){return n=n!=null?n.concat([t]):null,Go(4,4,Rp.bind(null,e,t),n)}function Ku(){}function Dp(t,e){var n=vt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Hu(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function jp(t,e){var n=vt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Hu(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Lp(t,e,n){return Qn&21?(Pt(n,e)||(n=Wh(),fe.lanes|=n,Kn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ze=!0),t.memoizedState=n)}function H_(t,e){var n=ee;ee=n!==0&&4>n?n:4,t(!0);var r=Ol.transition;Ol.transition={};try{t(!1),e()}finally{ee=n,Ol.transition=r}}function Op(){return vt().memoizedState}function G_(t,e,n){var r=Sn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},bp(t))Mp(e,n);else if(n=yp(t,e,n,r),n!==null){var i=Ye();Tt(n,t,r,i),Fp(n,e,r)}}function Y_(t,e,n){var r=Sn(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(bp(t))Mp(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Pt(l,o)){var a=e.interleaved;a===null?(i.next=i,zu(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=yp(t,e,i,r),n!==null&&(i=Ye(),Tt(n,t,r,i),Fp(n,e,r))}}function bp(t){var e=t.alternate;return t===fe||e!==null&&e===fe}function Mp(t,e){xi=mo=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Fp(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Nu(t,n)}}var go={readContext:_t,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useInsertionEffect:Be,useLayoutEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useMutableSource:Be,useSyncExternalStore:Be,useId:Be,unstable_isNewReconciler:!1},Q_={readContext:_t,useCallback:function(t,e){return Ot().memoizedState=[t,e===void 0?null:e],t},useContext:_t,useEffect:zd,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Hs(4194308,4,Rp.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Hs(4194308,4,t,e)},useInsertionEffect:function(t,e){return Hs(4,2,t,e)},useMemo:function(t,e){var n=Ot();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ot();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=G_.bind(null,fe,t),[r.memoizedState,t]},useRef:function(t){var e=Ot();return t={current:t},e.memoizedState=t},useState:Wd,useDebugValue:Ku,useDeferredValue:function(t){return Ot().memoizedState=t},useTransition:function(){var t=Wd(!1),e=t[0];return t=H_.bind(null,t[1]),Ot().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=fe,i=Ot();if(ce){if(n===void 0)throw Error(N(407));n=n()}else{if(n=e(),Oe===null)throw Error(N(349));Qn&30||Sp(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,zd(xp.bind(null,r,s,t),[t]),r.flags|=2048,Qi(9,Ep.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Ot(),e=Oe.identifierPrefix;if(ce){var n=Ht,r=Vt;n=(r&~(1<<32-Nt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Gi++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=V_++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},K_={readContext:_t,useCallback:Dp,useContext:_t,useEffect:Qu,useImperativeHandle:Ap,useInsertionEffect:Ip,useLayoutEffect:Pp,useMemo:jp,useReducer:bl,useRef:Tp,useState:function(){return bl(Yi)},useDebugValue:Ku,useDeferredValue:function(t){var e=vt();return Lp(e,Te.memoizedState,t)},useTransition:function(){var t=bl(Yi)[0],e=vt().memoizedState;return[t,e]},useMutableSource:wp,useSyncExternalStore:Cp,useId:Op,unstable_isNewReconciler:!1},q_={readContext:_t,useCallback:Dp,useContext:_t,useEffect:Qu,useImperativeHandle:Ap,useInsertionEffect:Ip,useLayoutEffect:Pp,useMemo:jp,useReducer:Ml,useRef:Tp,useState:function(){return Ml(Yi)},useDebugValue:Ku,useDeferredValue:function(t){var e=vt();return Te===null?e.memoizedState=t:Lp(e,Te.memoizedState,t)},useTransition:function(){var t=Ml(Yi)[0],e=vt().memoizedState;return[t,e]},useMutableSource:wp,useSyncExternalStore:Cp,useId:Op,unstable_isNewReconciler:!1};function Ct(t,e){if(t&&t.defaultProps){e=he({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Aa(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:he({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Yo={isMounted:function(t){return(t=t._reactInternals)?nr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ye(),i=Sn(t),s=Yt(r,i);s.payload=e,n!=null&&(s.callback=n),e=wn(t,s,i),e!==null&&(Tt(e,t,i,r),$s(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ye(),i=Sn(t),s=Yt(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=wn(t,s,i),e!==null&&(Tt(e,t,i,r),$s(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ye(),r=Sn(t),i=Yt(n,r);i.tag=2,e!=null&&(i.callback=e),e=wn(t,i,r),e!==null&&(Tt(e,t,r,n),$s(e,t,r))}};function Ud(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!zi(n,r)||!zi(i,s):!0}function Wp(t,e,n){var r=!1,i=In,s=e.contextType;return typeof s=="object"&&s!==null?s=_t(s):(i=rt(e)?Gn:He.current,r=e.contextTypes,s=(r=r!=null)?Or(t,i):In),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Yo,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Bd(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Yo.enqueueReplaceState(e,e.state,null)}function Da(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Uu(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=_t(s):(s=rt(e)?Gn:He.current,i.context=Or(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Aa(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Yo.enqueueReplaceState(i,i.state,null),ho(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Wr(t,e){try{var n="",r=e;do n+=xy(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Fl(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ja(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var X_=typeof WeakMap=="function"?WeakMap:Map;function zp(t,e,n){n=Yt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){_o||(_o=!0,$a=r),ja(t,e)},n}function Up(t,e,n){n=Yt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ja(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ja(t,e),typeof r!="function"&&(Cn===null?Cn=new Set([this]):Cn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function $d(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new X_;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=dv.bind(null,t,e,n),e.then(t,t))}function Vd(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Hd(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Yt(-1,1),e.tag=2,wn(n,e,1))),n.lanes|=1),t)}var J_=tn.ReactCurrentOwner,Ze=!1;function Ge(t,e,n,r){e.child=t===null?gp(e,null,n,r):Mr(e,t.child,n,r)}function Gd(t,e,n,r,i){n=n.render;var s=e.ref;return Ir(e,i),r=Gu(t,e,n,r,s,i),n=Yu(),t!==null&&!Ze?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jt(t,e,i)):(ce&&n&&Lu(e),e.flags|=1,Ge(t,e,r,i),e.child)}function Yd(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!rc(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Bp(t,e,s,r,i)):(t=Ks(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:zi,n(o,r)&&t.ref===e.ref)return Jt(t,e,i)}return e.flags|=1,t=En(s,r),t.ref=e.ref,t.return=e,e.child=t}function Bp(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(zi(s,r)&&t.ref===e.ref)if(Ze=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ze=!0);else return e.lanes=t.lanes,Jt(t,e,i)}return La(t,e,n,r,i)}function $p(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},oe(Sr,st),st|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,oe(Sr,st),st|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,oe(Sr,st),st|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,oe(Sr,st),st|=r;return Ge(t,e,i,n),e.child}function Vp(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function La(t,e,n,r,i){var s=rt(n)?Gn:He.current;return s=Or(e,s),Ir(e,i),n=Gu(t,e,n,r,s,i),r=Yu(),t!==null&&!Ze?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jt(t,e,i)):(ce&&r&&Lu(e),e.flags|=1,Ge(t,e,n,i),e.child)}function Qd(t,e,n,r,i){if(rt(n)){var s=!0;lo(e)}else s=!1;if(Ir(e,i),e.stateNode===null)Gs(t,e),Wp(e,n,r),Da(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=_t(c):(c=rt(n)?Gn:He.current,c=Or(e,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==c)&&Bd(e,o,r,c),cn=!1;var d=e.memoizedState;o.state=d,ho(e,r,o,i),a=e.memoizedState,l!==r||d!==a||nt.current||cn?(typeof h=="function"&&(Aa(e,n,h,r),a=e.memoizedState),(l=cn||Ud(e,n,l,r,d,a,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,_p(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:Ct(e.type,l),o.props=c,f=e.pendingProps,d=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=_t(a):(a=rt(n)?Gn:He.current,a=Or(e,a));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||d!==a)&&Bd(e,o,r,a),cn=!1,d=e.memoizedState,o.state=d,ho(e,r,o,i);var v=e.memoizedState;l!==f||d!==v||nt.current||cn?(typeof y=="function"&&(Aa(e,n,y,r),v=e.memoizedState),(c=cn||Ud(e,n,c,r,d,v,a)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=a,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Oa(t,e,n,r,s,i)}function Oa(t,e,n,r,i,s){Vp(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&jd(e,n,!1),Jt(t,e,s);r=e.stateNode,J_.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Mr(e,t.child,null,s),e.child=Mr(e,null,l,s)):Ge(t,e,l,s),e.memoizedState=r.state,i&&jd(e,n,!0),e.child}function Hp(t){var e=t.stateNode;e.pendingContext?Dd(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Dd(t,e.context,!1),Bu(t,e.containerInfo)}function Kd(t,e,n,r,i){return br(),bu(i),e.flags|=256,Ge(t,e,n,r),e.child}var ba={dehydrated:null,treeContext:null,retryLane:0};function Ma(t){return{baseLanes:t,cachePool:null,transitions:null}}function Gp(t,e,n){var r=e.pendingProps,i=de.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),oe(de,i&1),t===null)return Pa(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=qo(o,r,0,null),t=Hn(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ma(n),e.memoizedState=ba,t):qu(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Z_(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=En(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=En(l,s):(s=Hn(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Ma(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=ba,r}return s=t.child,t=s.sibling,r=En(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function qu(t,e){return e=qo({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function As(t,e,n,r){return r!==null&&bu(r),Mr(e,t.child,null,n),t=qu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Z_(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Fl(Error(N(422))),As(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=qo({mode:"visible",children:r.children},i,0,null),s=Hn(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Mr(e,t.child,null,o),e.child.memoizedState=Ma(o),e.memoizedState=ba,s);if(!(e.mode&1))return As(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(N(419)),r=Fl(s,r,void 0),As(t,e,o,r)}if(l=(o&t.childLanes)!==0,Ze||l){if(r=Oe,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Xt(t,i),Tt(r,t,i,-1))}return nc(),r=Fl(Error(N(421))),As(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=fv.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ot=vn(i.nextSibling),lt=e,ce=!0,Et=null,t!==null&&(ht[pt++]=Vt,ht[pt++]=Ht,ht[pt++]=Yn,Vt=t.id,Ht=t.overflow,Yn=e),e=qu(e,r.children),e.flags|=4096,e)}function qd(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ra(t.return,e,n)}function Wl(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Yp(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ge(t,e,r.children,n),r=de.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qd(t,n,e);else if(t.tag===19)qd(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(oe(de,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&po(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Wl(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&po(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Wl(e,!0,n,null,s);break;case"together":Wl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gs(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Jt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Kn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(N(153));if(e.child!==null){for(t=e.child,n=En(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=En(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ev(t,e,n){switch(e.tag){case 3:Hp(e),br();break;case 5:vp(e);break;case 1:rt(e.type)&&lo(e);break;case 4:Bu(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;oe(co,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(oe(de,de.current&1),e.flags|=128,null):n&e.child.childLanes?Gp(t,e,n):(oe(de,de.current&1),t=Jt(t,e,n),t!==null?t.sibling:null);oe(de,de.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Yp(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),oe(de,de.current),r)break;return null;case 22:case 23:return e.lanes=0,$p(t,e,n)}return Jt(t,e,n)}var Qp,Fa,Kp,qp;Qp=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Fa=function(){};Kp=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Bn(Ft.current);var s=null;switch(n){case"input":i=oa(t,i),r=oa(t,r),s=[];break;case"select":i=he({},i,{value:void 0}),r=he({},r,{value:void 0}),s=[];break;case"textarea":i=ua(t,i),r=ua(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=so)}da(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ji.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var a=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&a!==l&&(a!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ji.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&ae("scroll",t),s||l===a||(s=[])):(s=s||[]).push(c,a))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};qp=function(t,e,n,r){n!==r&&(e.flags|=4)};function ui(t,e){if(!ce)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function $e(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function tv(t,e,n){var r=e.pendingProps;switch(Ou(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(e),null;case 1:return rt(e.type)&&oo(),$e(e),null;case 3:return r=e.stateNode,Fr(),ue(nt),ue(He),Vu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ps(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Et!==null&&(Ga(Et),Et=null))),Fa(t,e),$e(e),null;case 5:$u(e);var i=Bn(Hi.current);if(n=e.type,t!==null&&e.stateNode!=null)Kp(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(N(166));return $e(e),null}if(t=Bn(Ft.current),Ps(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[bt]=e,r[$i]=s,t=(e.mode&1)!==0,n){case"dialog":ae("cancel",r),ae("close",r);break;case"iframe":case"object":case"embed":ae("load",r);break;case"video":case"audio":for(i=0;i<_i.length;i++)ae(_i[i],r);break;case"source":ae("error",r);break;case"img":case"image":case"link":ae("error",r),ae("load",r);break;case"details":ae("toggle",r);break;case"input":sd(r,s),ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ae("invalid",r);break;case"textarea":ld(r,s),ae("invalid",r)}da(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Is(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Is(r.textContent,l,t),i=["children",""+l]):ji.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ae("scroll",r)}switch(n){case"input":ws(r),od(r,s,!0);break;case"textarea":ws(r),ad(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=so)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=xh(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[bt]=e,t[$i]=r,Qp(t,e,!1,!1),e.stateNode=t;e:{switch(o=fa(n,r),n){case"dialog":ae("cancel",t),ae("close",t),i=r;break;case"iframe":case"object":case"embed":ae("load",t),i=r;break;case"video":case"audio":for(i=0;i<_i.length;i++)ae(_i[i],t);i=r;break;case"source":ae("error",t),i=r;break;case"img":case"image":case"link":ae("error",t),ae("load",t),i=r;break;case"details":ae("toggle",t),i=r;break;case"input":sd(t,r),i=oa(t,r),ae("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=he({},r,{value:void 0}),ae("invalid",t);break;case"textarea":ld(t,r),i=ua(t,r),ae("invalid",t);break;default:i=r}da(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?Th(t,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&kh(t,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Li(t,a):typeof a=="number"&&Li(t,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ji.hasOwnProperty(s)?a!=null&&s==="onScroll"&&ae("scroll",t):a!=null&&wu(t,s,a,o))}switch(n){case"input":ws(t),od(t,r,!1);break;case"textarea":ws(t),ad(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Tn(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?xr(t,!!r.multiple,s,!1):r.defaultValue!=null&&xr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=so)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $e(e),null;case 6:if(t&&e.stateNode!=null)qp(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(N(166));if(n=Bn(Hi.current),Bn(Ft.current),Ps(e)){if(r=e.stateNode,n=e.memoizedProps,r[bt]=e,(s=r.nodeValue!==n)&&(t=lt,t!==null))switch(t.tag){case 3:Is(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Is(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[bt]=e,e.stateNode=r}return $e(e),null;case 13:if(ue(de),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ce&&ot!==null&&e.mode&1&&!(e.flags&128))pp(),br(),e.flags|=98560,s=!1;else if(s=Ps(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(N(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(N(317));s[bt]=e}else br(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$e(e),s=!1}else Et!==null&&(Ga(Et),Et=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||de.current&1?Ie===0&&(Ie=3):nc())),e.updateQueue!==null&&(e.flags|=4),$e(e),null);case 4:return Fr(),Fa(t,e),t===null&&Ui(e.stateNode.containerInfo),$e(e),null;case 10:return Wu(e.type._context),$e(e),null;case 17:return rt(e.type)&&oo(),$e(e),null;case 19:if(ue(de),s=e.memoizedState,s===null)return $e(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ui(s,!1);else{if(Ie!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=po(t),o!==null){for(e.flags|=128,ui(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return oe(de,de.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ce()>zr&&(e.flags|=128,r=!0,ui(s,!1),e.lanes=4194304)}else{if(!r)if(t=po(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ui(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ce)return $e(e),null}else 2*Ce()-s.renderingStartTime>zr&&n!==1073741824&&(e.flags|=128,r=!0,ui(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ce(),e.sibling=null,n=de.current,oe(de,r?n&1|2:n&1),e):($e(e),null);case 22:case 23:return tc(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?st&1073741824&&($e(e),e.subtreeFlags&6&&(e.flags|=8192)):$e(e),null;case 24:return null;case 25:return null}throw Error(N(156,e.tag))}function nv(t,e){switch(Ou(e),e.tag){case 1:return rt(e.type)&&oo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Fr(),ue(nt),ue(He),Vu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $u(e),null;case 13:if(ue(de),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(N(340));br()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ue(de),null;case 4:return Fr(),null;case 10:return Wu(e.type._context),null;case 22:case 23:return tc(),null;case 24:return null;default:return null}}var Ds=!1,Ve=!1,rv=typeof WeakSet=="function"?WeakSet:Set,L=null;function Cr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ge(t,e,r)}else n.current=null}function Wa(t,e,n){try{n()}catch(r){ge(t,e,r)}}var Xd=!1;function iv(t,e){if(Sa=no,t=tp(),ju(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,c=0,h=0,f=t,d=null;t:for(;;){for(var y;f!==n||i!==0&&f.nodeType!==3||(l=o+i),f!==s||r!==0&&f.nodeType!==3||(a=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)d=f,f=y;for(;;){if(f===t)break t;if(d===n&&++c===i&&(l=o),d===s&&++h===r&&(a=o),(y=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=y}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ea={focusedElem:t,selectionRange:n},no=!1,L=e;L!==null;)if(e=L,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,L=t;else for(;L!==null;){e=L;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,S=v.memoizedState,g=e.stateNode,p=g.getSnapshotBeforeUpdate(e.elementType===e.type?w:Ct(e.type,w),S);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(E){ge(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,L=t;break}L=e.return}return v=Xd,Xd=!1,v}function ki(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Wa(e,n,s)}i=i.next}while(i!==r)}}function Qo(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function za(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Xp(t){var e=t.alternate;e!==null&&(t.alternate=null,Xp(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[bt],delete e[$i],delete e[Na],delete e[z_],delete e[U_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Jp(t){return t.tag===5||t.tag===3||t.tag===4}function Jd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Jp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ua(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=so));else if(r!==4&&(t=t.child,t!==null))for(Ua(t,e,n),t=t.sibling;t!==null;)Ua(t,e,n),t=t.sibling}function Ba(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ba(t,e,n),t=t.sibling;t!==null;)Ba(t,e,n),t=t.sibling}var be=null,St=!1;function sn(t,e,n){for(n=n.child;n!==null;)Zp(t,e,n),n=n.sibling}function Zp(t,e,n){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(zo,n)}catch{}switch(n.tag){case 5:Ve||Cr(n,e);case 6:var r=be,i=St;be=null,sn(t,e,n),be=r,St=i,be!==null&&(St?(t=be,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):be.removeChild(n.stateNode));break;case 18:be!==null&&(St?(t=be,n=n.stateNode,t.nodeType===8?Dl(t.parentNode,n):t.nodeType===1&&Dl(t,n),Fi(t)):Dl(be,n.stateNode));break;case 4:r=be,i=St,be=n.stateNode.containerInfo,St=!0,sn(t,e,n),be=r,St=i;break;case 0:case 11:case 14:case 15:if(!Ve&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Wa(n,e,o),i=i.next}while(i!==r)}sn(t,e,n);break;case 1:if(!Ve&&(Cr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ge(n,e,l)}sn(t,e,n);break;case 21:sn(t,e,n);break;case 22:n.mode&1?(Ve=(r=Ve)||n.memoizedState!==null,sn(t,e,n),Ve=r):sn(t,e,n);break;default:sn(t,e,n)}}function Zd(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new rv),e.forEach(function(r){var i=hv.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function wt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:be=l.stateNode,St=!1;break e;case 3:be=l.stateNode.containerInfo,St=!0;break e;case 4:be=l.stateNode.containerInfo,St=!0;break e}l=l.return}if(be===null)throw Error(N(160));Zp(s,o,i),be=null,St=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(c){ge(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)em(e,t),e=e.sibling}function em(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(wt(e,t),jt(t),r&4){try{ki(3,t,t.return),Qo(3,t)}catch(w){ge(t,t.return,w)}try{ki(5,t,t.return)}catch(w){ge(t,t.return,w)}}break;case 1:wt(e,t),jt(t),r&512&&n!==null&&Cr(n,n.return);break;case 5:if(wt(e,t),jt(t),r&512&&n!==null&&Cr(n,n.return),t.flags&32){var i=t.stateNode;try{Li(i,"")}catch(w){ge(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Sh(i,s),fa(l,o);var c=fa(l,s);for(o=0;o<a.length;o+=2){var h=a[o],f=a[o+1];h==="style"?Th(i,f):h==="dangerouslySetInnerHTML"?kh(i,f):h==="children"?Li(i,f):wu(i,h,f,c)}switch(l){case"input":la(i,s);break;case"textarea":Eh(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?xr(i,!!s.multiple,y,!1):d!==!!s.multiple&&(s.defaultValue!=null?xr(i,!!s.multiple,s.defaultValue,!0):xr(i,!!s.multiple,s.multiple?[]:"",!1))}i[$i]=s}catch(w){ge(t,t.return,w)}}break;case 6:if(wt(e,t),jt(t),r&4){if(t.stateNode===null)throw Error(N(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){ge(t,t.return,w)}}break;case 3:if(wt(e,t),jt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Fi(e.containerInfo)}catch(w){ge(t,t.return,w)}break;case 4:wt(e,t),jt(t);break;case 13:wt(e,t),jt(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Zu=Ce())),r&4&&Zd(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Ve=(c=Ve)||h,wt(e,t),Ve=c):wt(e,t),jt(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(L=t,h=t.child;h!==null;){for(f=L=h;L!==null;){switch(d=L,y=d.child,d.tag){case 0:case 11:case 14:case 15:ki(4,d,d.return);break;case 1:Cr(d,d.return);var v=d.stateNode;if(typeof v.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(w){ge(r,n,w)}}break;case 5:Cr(d,d.return);break;case 22:if(d.memoizedState!==null){tf(f);continue}}y!==null?(y.return=d,L=y):tf(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,a=f.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Nh("display",o))}catch(w){ge(t,t.return,w)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(w){ge(t,t.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:wt(e,t),jt(t),r&4&&Zd(t);break;case 21:break;default:wt(e,t),jt(t)}}function jt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Jp(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Li(i,""),r.flags&=-33);var s=Jd(t);Ba(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Jd(t);Ua(t,l,o);break;default:throw Error(N(161))}}catch(a){ge(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function sv(t,e,n){L=t,tm(t)}function tm(t,e,n){for(var r=(t.mode&1)!==0;L!==null;){var i=L,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ds;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||Ve;l=Ds;var c=Ve;if(Ds=o,(Ve=a)&&!c)for(L=i;L!==null;)o=L,a=o.child,o.tag===22&&o.memoizedState!==null?nf(i):a!==null?(a.return=o,L=a):nf(i);for(;s!==null;)L=s,tm(s),s=s.sibling;L=i,Ds=l,Ve=c}ef(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,L=s):ef(t)}}function ef(t){for(;L!==null;){var e=L;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ve||Qo(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ve)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ct(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Fd(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Fd(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Fi(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}Ve||e.flags&512&&za(e)}catch(d){ge(e,e.return,d)}}if(e===t){L=null;break}if(n=e.sibling,n!==null){n.return=e.return,L=n;break}L=e.return}}function tf(t){for(;L!==null;){var e=L;if(e===t){L=null;break}var n=e.sibling;if(n!==null){n.return=e.return,L=n;break}L=e.return}}function nf(t){for(;L!==null;){var e=L;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Qo(4,e)}catch(a){ge(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){ge(e,i,a)}}var s=e.return;try{za(e)}catch(a){ge(e,s,a)}break;case 5:var o=e.return;try{za(e)}catch(a){ge(e,o,a)}}}catch(a){ge(e,e.return,a)}if(e===t){L=null;break}var l=e.sibling;if(l!==null){l.return=e.return,L=l;break}L=e.return}}var ov=Math.ceil,yo=tn.ReactCurrentDispatcher,Xu=tn.ReactCurrentOwner,yt=tn.ReactCurrentBatchConfig,q=0,Oe=null,xe=null,Fe=0,st=0,Sr=Dn(0),Ie=0,Ki=null,Kn=0,Ko=0,Ju=0,Ni=null,Je=null,Zu=0,zr=1/0,Bt=null,_o=!1,$a=null,Cn=null,js=!1,pn=null,vo=0,Ti=0,Va=null,Ys=-1,Qs=0;function Ye(){return q&6?Ce():Ys!==-1?Ys:Ys=Ce()}function Sn(t){return t.mode&1?q&2&&Fe!==0?Fe&-Fe:$_.transition!==null?(Qs===0&&(Qs=Wh()),Qs):(t=ee,t!==0||(t=window.event,t=t===void 0?16:Gh(t.type)),t):1}function Tt(t,e,n,r){if(50<Ti)throw Ti=0,Va=null,Error(N(185));ls(t,n,r),(!(q&2)||t!==Oe)&&(t===Oe&&(!(q&2)&&(Ko|=n),Ie===4&&fn(t,Fe)),it(t,r),n===1&&q===0&&!(e.mode&1)&&(zr=Ce()+500,Ho&&jn()))}function it(t,e){var n=t.callbackNode;$y(t,e);var r=to(t,t===Oe?Fe:0);if(r===0)n!==null&&dd(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&dd(n),e===1)t.tag===0?B_(rf.bind(null,t)):dp(rf.bind(null,t)),F_(function(){!(q&6)&&jn()}),n=null;else{switch(zh(r)){case 1:n=ku;break;case 4:n=Mh;break;case 16:n=eo;break;case 536870912:n=Fh;break;default:n=eo}n=um(n,nm.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function nm(t,e){if(Ys=-1,Qs=0,q&6)throw Error(N(327));var n=t.callbackNode;if(Pr()&&t.callbackNode!==n)return null;var r=to(t,t===Oe?Fe:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=wo(t,r);else{e=r;var i=q;q|=2;var s=im();(Oe!==t||Fe!==e)&&(Bt=null,zr=Ce()+500,Vn(t,e));do try{uv();break}catch(l){rm(t,l)}while(!0);Fu(),yo.current=s,q=i,xe!==null?e=0:(Oe=null,Fe=0,e=Ie)}if(e!==0){if(e===2&&(i=ya(t),i!==0&&(r=i,e=Ha(t,i))),e===1)throw n=Ki,Vn(t,0),fn(t,r),it(t,Ce()),n;if(e===6)fn(t,r);else{if(i=t.current.alternate,!(r&30)&&!lv(i)&&(e=wo(t,r),e===2&&(s=ya(t),s!==0&&(r=s,e=Ha(t,s))),e===1))throw n=Ki,Vn(t,0),fn(t,r),it(t,Ce()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(N(345));case 2:Mn(t,Je,Bt);break;case 3:if(fn(t,r),(r&130023424)===r&&(e=Zu+500-Ce(),10<e)){if(to(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ye(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ka(Mn.bind(null,t,Je,Bt),e);break}Mn(t,Je,Bt);break;case 4:if(fn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Nt(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ce()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ov(r/1960))-r,10<r){t.timeoutHandle=ka(Mn.bind(null,t,Je,Bt),r);break}Mn(t,Je,Bt);break;case 5:Mn(t,Je,Bt);break;default:throw Error(N(329))}}}return it(t,Ce()),t.callbackNode===n?nm.bind(null,t):null}function Ha(t,e){var n=Ni;return t.current.memoizedState.isDehydrated&&(Vn(t,e).flags|=256),t=wo(t,e),t!==2&&(e=Je,Je=n,e!==null&&Ga(e)),t}function Ga(t){Je===null?Je=t:Je.push.apply(Je,t)}function lv(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Pt(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function fn(t,e){for(e&=~Ju,e&=~Ko,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Nt(e),r=1<<n;t[n]=-1,e&=~r}}function rf(t){if(q&6)throw Error(N(327));Pr();var e=to(t,0);if(!(e&1))return it(t,Ce()),null;var n=wo(t,e);if(t.tag!==0&&n===2){var r=ya(t);r!==0&&(e=r,n=Ha(t,r))}if(n===1)throw n=Ki,Vn(t,0),fn(t,e),it(t,Ce()),n;if(n===6)throw Error(N(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Mn(t,Je,Bt),it(t,Ce()),null}function ec(t,e){var n=q;q|=1;try{return t(e)}finally{q=n,q===0&&(zr=Ce()+500,Ho&&jn())}}function qn(t){pn!==null&&pn.tag===0&&!(q&6)&&Pr();var e=q;q|=1;var n=yt.transition,r=ee;try{if(yt.transition=null,ee=1,t)return t()}finally{ee=r,yt.transition=n,q=e,!(q&6)&&jn()}}function tc(){st=Sr.current,ue(Sr)}function Vn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,M_(n)),xe!==null)for(n=xe.return;n!==null;){var r=n;switch(Ou(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&oo();break;case 3:Fr(),ue(nt),ue(He),Vu();break;case 5:$u(r);break;case 4:Fr();break;case 13:ue(de);break;case 19:ue(de);break;case 10:Wu(r.type._context);break;case 22:case 23:tc()}n=n.return}if(Oe=t,xe=t=En(t.current,null),Fe=st=e,Ie=0,Ki=null,Ju=Ko=Kn=0,Je=Ni=null,Un!==null){for(e=0;e<Un.length;e++)if(n=Un[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Un=null}return t}function rm(t,e){do{var n=xe;try{if(Fu(),Vs.current=go,mo){for(var r=fe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}mo=!1}if(Qn=0,Ae=Te=fe=null,xi=!1,Gi=0,Xu.current=null,n===null||n.return===null){Ie=1,Ki=e,xe=null;break}e:{var s=t,o=n.return,l=n,a=e;if(e=Fe,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=Vd(o);if(y!==null){y.flags&=-257,Hd(y,o,l,s,e),y.mode&1&&$d(s,c,e),e=y,a=c;var v=e.updateQueue;if(v===null){var w=new Set;w.add(a),e.updateQueue=w}else v.add(a);break e}else{if(!(e&1)){$d(s,c,e),nc();break e}a=Error(N(426))}}else if(ce&&l.mode&1){var S=Vd(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Hd(S,o,l,s,e),bu(Wr(a,l));break e}}s=a=Wr(a,l),Ie!==4&&(Ie=2),Ni===null?Ni=[s]:Ni.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=zp(s,a,e);Md(s,g);break e;case 1:l=a;var p=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Cn===null||!Cn.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=Up(s,l,e);Md(s,E);break e}}s=s.return}while(s!==null)}om(n)}catch(T){e=T,xe===n&&n!==null&&(xe=n=n.return);continue}break}while(!0)}function im(){var t=yo.current;return yo.current=go,t===null?go:t}function nc(){(Ie===0||Ie===3||Ie===2)&&(Ie=4),Oe===null||!(Kn&268435455)&&!(Ko&268435455)||fn(Oe,Fe)}function wo(t,e){var n=q;q|=2;var r=im();(Oe!==t||Fe!==e)&&(Bt=null,Vn(t,e));do try{av();break}catch(i){rm(t,i)}while(!0);if(Fu(),q=n,yo.current=r,xe!==null)throw Error(N(261));return Oe=null,Fe=0,Ie}function av(){for(;xe!==null;)sm(xe)}function uv(){for(;xe!==null&&!Ly();)sm(xe)}function sm(t){var e=am(t.alternate,t,st);t.memoizedProps=t.pendingProps,e===null?om(t):xe=e,Xu.current=null}function om(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=nv(n,e),n!==null){n.flags&=32767,xe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ie=6,xe=null;return}}else if(n=tv(n,e,st),n!==null){xe=n;return}if(e=e.sibling,e!==null){xe=e;return}xe=e=t}while(e!==null);Ie===0&&(Ie=5)}function Mn(t,e,n){var r=ee,i=yt.transition;try{yt.transition=null,ee=1,cv(t,e,n,r)}finally{yt.transition=i,ee=r}return null}function cv(t,e,n,r){do Pr();while(pn!==null);if(q&6)throw Error(N(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(N(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Vy(t,s),t===Oe&&(xe=Oe=null,Fe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||js||(js=!0,um(eo,function(){return Pr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=yt.transition,yt.transition=null;var o=ee;ee=1;var l=q;q|=4,Xu.current=null,iv(t,n),em(n,t),R_(Ea),no=!!Sa,Ea=Sa=null,t.current=n,sv(n),Oy(),q=l,ee=o,yt.transition=s}else t.current=n;if(js&&(js=!1,pn=t,vo=i),s=t.pendingLanes,s===0&&(Cn=null),Fy(n.stateNode),it(t,Ce()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(_o)throw _o=!1,t=$a,$a=null,t;return vo&1&&t.tag!==0&&Pr(),s=t.pendingLanes,s&1?t===Va?Ti++:(Ti=0,Va=t):Ti=0,jn(),null}function Pr(){if(pn!==null){var t=zh(vo),e=yt.transition,n=ee;try{if(yt.transition=null,ee=16>t?16:t,pn===null)var r=!1;else{if(t=pn,pn=null,vo=0,q&6)throw Error(N(331));var i=q;for(q|=4,L=t.current;L!==null;){var s=L,o=s.child;if(L.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var c=l[a];for(L=c;L!==null;){var h=L;switch(h.tag){case 0:case 11:case 15:ki(8,h,s)}var f=h.child;if(f!==null)f.return=h,L=f;else for(;L!==null;){h=L;var d=h.sibling,y=h.return;if(Xp(h),h===c){L=null;break}if(d!==null){d.return=y,L=d;break}L=y}}}var v=s.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var S=w.sibling;w.sibling=null,w=S}while(w!==null)}}L=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,L=o;else e:for(;L!==null;){if(s=L,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ki(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,L=g;break e}L=s.return}}var p=t.current;for(L=p;L!==null;){o=L;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,L=_;else e:for(o=p;L!==null;){if(l=L,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Qo(9,l)}}catch(T){ge(l,l.return,T)}if(l===o){L=null;break e}var E=l.sibling;if(E!==null){E.return=l.return,L=E;break e}L=l.return}}if(q=i,jn(),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(zo,t)}catch{}r=!0}return r}finally{ee=n,yt.transition=e}}return!1}function sf(t,e,n){e=Wr(n,e),e=zp(t,e,1),t=wn(t,e,1),e=Ye(),t!==null&&(ls(t,1,e),it(t,e))}function ge(t,e,n){if(t.tag===3)sf(t,t,n);else for(;e!==null;){if(e.tag===3){sf(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Cn===null||!Cn.has(r))){t=Wr(n,t),t=Up(e,t,1),e=wn(e,t,1),t=Ye(),e!==null&&(ls(e,1,t),it(e,t));break}}e=e.return}}function dv(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ye(),t.pingedLanes|=t.suspendedLanes&n,Oe===t&&(Fe&n)===n&&(Ie===4||Ie===3&&(Fe&130023424)===Fe&&500>Ce()-Zu?Vn(t,0):Ju|=n),it(t,e)}function lm(t,e){e===0&&(t.mode&1?(e=Es,Es<<=1,!(Es&130023424)&&(Es=4194304)):e=1);var n=Ye();t=Xt(t,e),t!==null&&(ls(t,e,n),it(t,n))}function fv(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),lm(t,n)}function hv(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(e),lm(t,n)}var am;am=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||nt.current)Ze=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ze=!1,ev(t,e,n);Ze=!!(t.flags&131072)}else Ze=!1,ce&&e.flags&1048576&&fp(e,uo,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Gs(t,e),t=e.pendingProps;var i=Or(e,He.current);Ir(e,n),i=Gu(null,e,r,t,i,n);var s=Yu();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,rt(r)?(s=!0,lo(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Uu(e),i.updater=Yo,e.stateNode=i,i._reactInternals=e,Da(e,r,t,n),e=Oa(null,e,r,!0,s,n)):(e.tag=0,ce&&s&&Lu(e),Ge(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Gs(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=mv(r),t=Ct(r,t),i){case 0:e=La(null,e,r,t,n);break e;case 1:e=Qd(null,e,r,t,n);break e;case 11:e=Gd(null,e,r,t,n);break e;case 14:e=Yd(null,e,r,Ct(r.type,t),n);break e}throw Error(N(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ct(r,i),La(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ct(r,i),Qd(t,e,r,i,n);case 3:e:{if(Hp(e),t===null)throw Error(N(387));r=e.pendingProps,s=e.memoizedState,i=s.element,_p(t,e),ho(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Wr(Error(N(423)),e),e=Kd(t,e,r,n,i);break e}else if(r!==i){i=Wr(Error(N(424)),e),e=Kd(t,e,r,n,i);break e}else for(ot=vn(e.stateNode.containerInfo.firstChild),lt=e,ce=!0,Et=null,n=gp(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(br(),r===i){e=Jt(t,e,n);break e}Ge(t,e,r,n)}e=e.child}return e;case 5:return vp(e),t===null&&Pa(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,xa(r,i)?o=null:s!==null&&xa(r,s)&&(e.flags|=32),Vp(t,e),Ge(t,e,o,n),e.child;case 6:return t===null&&Pa(e),null;case 13:return Gp(t,e,n);case 4:return Bu(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Mr(e,null,r,n):Ge(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ct(r,i),Gd(t,e,r,i,n);case 7:return Ge(t,e,e.pendingProps,n),e.child;case 8:return Ge(t,e,e.pendingProps.children,n),e.child;case 12:return Ge(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,oe(co,r._currentValue),r._currentValue=o,s!==null)if(Pt(s.value,o)){if(s.children===i.children&&!nt.current){e=Jt(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=Yt(-1,n&-n),a.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?a.next=a:(a.next=h.next,h.next=a),c.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Ra(s.return,n,e),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(N(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Ra(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ge(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ir(e,n),i=_t(i),r=r(i),e.flags|=1,Ge(t,e,r,n),e.child;case 14:return r=e.type,i=Ct(r,e.pendingProps),i=Ct(r.type,i),Yd(t,e,r,i,n);case 15:return Bp(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ct(r,i),Gs(t,e),e.tag=1,rt(r)?(t=!0,lo(e)):t=!1,Ir(e,n),Wp(e,r,i),Da(e,r,i,n),Oa(null,e,r,!0,t,n);case 19:return Yp(t,e,n);case 22:return $p(t,e,n)}throw Error(N(156,e.tag))};function um(t,e){return bh(t,e)}function pv(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mt(t,e,n,r){return new pv(t,e,n,r)}function rc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function mv(t){if(typeof t=="function")return rc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Su)return 11;if(t===Eu)return 14}return 2}function En(t,e){var n=t.alternate;return n===null?(n=mt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ks(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")rc(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case fr:return Hn(n.children,i,s,e);case Cu:o=8,i|=8;break;case na:return t=mt(12,n,e,i|2),t.elementType=na,t.lanes=s,t;case ra:return t=mt(13,n,e,i),t.elementType=ra,t.lanes=s,t;case ia:return t=mt(19,n,e,i),t.elementType=ia,t.lanes=s,t;case vh:return qo(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case yh:o=10;break e;case _h:o=9;break e;case Su:o=11;break e;case Eu:o=14;break e;case un:o=16,r=null;break e}throw Error(N(130,t==null?t:typeof t,""))}return e=mt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Hn(t,e,n,r){return t=mt(7,t,r,e),t.lanes=n,t}function qo(t,e,n,r){return t=mt(22,t,r,e),t.elementType=vh,t.lanes=n,t.stateNode={isHidden:!1},t}function zl(t,e,n){return t=mt(6,t,null,e),t.lanes=n,t}function Ul(t,e,n){return e=mt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function gv(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cl(0),this.expirationTimes=Cl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ic(t,e,n,r,i,s,o,l,a){return t=new gv(t,e,n,l,a),e===1?(e=1,s===!0&&(e|=8)):e=0,s=mt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uu(s),t}function yv(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:dr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function cm(t){if(!t)return In;t=t._reactInternals;e:{if(nr(t)!==t||t.tag!==1)throw Error(N(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(rt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(N(171))}if(t.tag===1){var n=t.type;if(rt(n))return cp(t,n,e)}return e}function dm(t,e,n,r,i,s,o,l,a){return t=ic(n,r,!0,t,i,s,o,l,a),t.context=cm(null),n=t.current,r=Ye(),i=Sn(n),s=Yt(r,i),s.callback=e??null,wn(n,s,i),t.current.lanes=i,ls(t,i,r),it(t,r),t}function Xo(t,e,n,r){var i=e.current,s=Ye(),o=Sn(i);return n=cm(n),e.context===null?e.context=n:e.pendingContext=n,e=Yt(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=wn(i,e,o),t!==null&&(Tt(t,i,o,s),$s(t,i,o)),o}function Co(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function of(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function sc(t,e){of(t,e),(t=t.alternate)&&of(t,e)}function _v(){return null}var fm=typeof reportError=="function"?reportError:function(t){console.error(t)};function oc(t){this._internalRoot=t}Jo.prototype.render=oc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(N(409));Xo(t,e,null,null)};Jo.prototype.unmount=oc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;qn(function(){Xo(null,t,null,null)}),e[qt]=null}};function Jo(t){this._internalRoot=t}Jo.prototype.unstable_scheduleHydration=function(t){if(t){var e=$h();t={blockedOn:null,target:t,priority:e};for(var n=0;n<dn.length&&e!==0&&e<dn[n].priority;n++);dn.splice(n,0,t),n===0&&Hh(t)}};function lc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function lf(){}function vv(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Co(o);s.call(c)}}var o=dm(e,r,t,0,null,!1,!1,"",lf);return t._reactRootContainer=o,t[qt]=o.current,Ui(t.nodeType===8?t.parentNode:t),qn(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=Co(a);l.call(c)}}var a=ic(t,0,!1,null,null,!1,!1,"",lf);return t._reactRootContainer=a,t[qt]=a.current,Ui(t.nodeType===8?t.parentNode:t),qn(function(){Xo(e,a,n,r)}),a}function el(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=Co(o);l.call(a)}}Xo(e,o,t,i)}else o=vv(n,e,t,i,r);return Co(o)}Uh=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=yi(e.pendingLanes);n!==0&&(Nu(e,n|1),it(e,Ce()),!(q&6)&&(zr=Ce()+500,jn()))}break;case 13:qn(function(){var r=Xt(t,1);if(r!==null){var i=Ye();Tt(r,t,1,i)}}),sc(t,1)}};Tu=function(t){if(t.tag===13){var e=Xt(t,134217728);if(e!==null){var n=Ye();Tt(e,t,134217728,n)}sc(t,134217728)}};Bh=function(t){if(t.tag===13){var e=Sn(t),n=Xt(t,e);if(n!==null){var r=Ye();Tt(n,t,e,r)}sc(t,e)}};$h=function(){return ee};Vh=function(t,e){var n=ee;try{return ee=t,e()}finally{ee=n}};pa=function(t,e,n){switch(e){case"input":if(la(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Vo(r);if(!i)throw Error(N(90));Ch(r),la(r,i)}}}break;case"textarea":Eh(t,n);break;case"select":e=n.value,e!=null&&xr(t,!!n.multiple,e,!1)}};Rh=ec;Ah=qn;var wv={usingClientEntryPoint:!1,Events:[us,gr,Vo,Ih,Ph,ec]},ci={findFiberByHostInstance:zn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Cv={bundleType:ci.bundleType,version:ci.version,rendererPackageName:ci.rendererPackageName,rendererConfig:ci.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Lh(t),t===null?null:t.stateNode},findFiberByHostInstance:ci.findFiberByHostInstance||_v,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ls=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ls.isDisabled&&Ls.supportsFiber)try{zo=Ls.inject(Cv),Mt=Ls}catch{}}ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wv;ut.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lc(e))throw Error(N(200));return yv(t,e,null,n)};ut.createRoot=function(t,e){if(!lc(t))throw Error(N(299));var n=!1,r="",i=fm;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ic(t,1,!1,null,null,n,!1,r,i),t[qt]=e.current,Ui(t.nodeType===8?t.parentNode:t),new oc(e)};ut.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(N(188)):(t=Object.keys(t).join(","),Error(N(268,t)));return t=Lh(e),t=t===null?null:t.stateNode,t};ut.flushSync=function(t){return qn(t)};ut.hydrate=function(t,e,n){if(!Zo(e))throw Error(N(200));return el(null,t,e,!0,n)};ut.hydrateRoot=function(t,e,n){if(!lc(t))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=fm;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=dm(e,null,t,1,n??null,i,!1,s,o),t[qt]=e.current,Ui(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Jo(e)};ut.render=function(t,e,n){if(!Zo(e))throw Error(N(200));return el(null,t,e,!1,n)};ut.unmountComponentAtNode=function(t){if(!Zo(t))throw Error(N(40));return t._reactRootContainer?(qn(function(){el(null,null,t,!1,function(){t._reactRootContainer=null,t[qt]=null})}),!0):!1};ut.unstable_batchedUpdates=ec;ut.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Zo(n))throw Error(N(200));if(t==null||t._reactInternals===void 0)throw Error(N(38));return el(t,e,n,!1,r)};ut.version="18.3.1-next-f1338f8080-20240426";function hm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hm)}catch(t){console.error(t)}}hm(),hh.exports=ut;var Sv=hh.exports,af=Sv;ea.createRoot=af.createRoot,ea.hydrateRoot=af.hydrateRoot;var uf={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I=function(t,e){if(!t)throw qr(e)},qr=function(t){return new Error("Firebase Database ("+pm.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Ev=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(a&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},ac={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,a=i+2<t.length,c=a?t[i+2]:0,h=s>>2,f=(s&3)<<4|l>>4;let d=(l&15)<<2|c>>6,y=c&63;a||(y=64,o||(d=64)),r.push(n[h],n[f],n[d],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(mm(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Ev(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||c==null||f==null)throw new xv;const d=s<<2|l>>4;if(r.push(d),c!==64){const y=l<<4&240|c>>2;if(r.push(y),f!==64){const v=c<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class xv extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gm=function(t){const e=mm(t);return ac.encodeByteArray(e,!0)},So=function(t){return gm(t).replace(/\./g,"")},Ya=function(t){try{return ac.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(t){return ym(void 0,t)}function ym(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Nv(n)||(t[n]=ym(t[n],e[n]));return t}function Nv(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv=()=>Tv().__FIREBASE_DEFAULTS__,Pv=()=>{if(typeof process>"u"||typeof uf>"u")return;const t=uf.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Rv=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ya(t[1]);return e&&JSON.parse(e)},_m=()=>{try{return Iv()||Pv()||Rv()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Av=t=>{var e,n;return(n=(e=_m())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Dv=t=>{const e=Av(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},vm=()=>{var t;return(t=_m())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[So(JSON.stringify(n)),So(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wm(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lv())}function Ov(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bv(){return pm.NODE_ADMIN===!0}function Mv(){try{return typeof indexedDB=="object"}catch{return!1}}function Fv(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="FirebaseError";class fs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Wv,Object.setPrototypeOf(this,fs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cm.prototype.create)}}class Cm{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?zv(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new fs(i,l,r)}}function zv(t,e){return t.replace(Uv,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Uv=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(t){return JSON.parse(t)}function Le(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=qi(Ya(s[0])||""),n=qi(Ya(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},Bv=function(t){const e=Sm(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},$v=function(t){const e=Sm(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ur(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function cf(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Eo(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Qa(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(df(s)&&df(o)){if(!Qa(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function df(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)r[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)r[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const d=r[f-3]^r[f-8]^r[f-14]^r[f-16];r[f]=(d<<1|d>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],a=this.chain_[4],c,h;for(let f=0;f<80;f++){f<40?f<20?(c=l^s&(o^l),h=1518500249):(c=s^o^l,h=1859775393):f<60?(c=s&o|l&(s|o),h=2400959708):(c=s^o^l,h=3395469782);const d=(i<<5|i>>>27)+c+a+h+r[f]&4294967295;a=l,l=o,o=(s<<30|s>>>2)&4294967295,s=i,i=d}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function tl(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,I(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},nl=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(t){return t&&t._delegate?t._delegate:t}class Xi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ds;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Kv(e))try{this.getOrInitializeService({instanceIdentifier:Fn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Fn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fn){return this.instances.has(e)}getOptions(e=Fn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Qv(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fn){return this.component?this.component.multipleInstances?e:Fn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Qv(t){return t===Fn?void 0:t}function Kv(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Yv(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ie;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ie||(ie={}));const Xv={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},Jv=ie.INFO,Zv={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},e0=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Zv[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Em{constructor(e){this.name=e,this._logLevel=Jv,this._logHandler=e0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Xv[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...e),this._logHandler(this,ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...e),this._logHandler(this,ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...e),this._logHandler(this,ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...e),this._logHandler(this,ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...e),this._logHandler(this,ie.ERROR,...e)}}const t0=(t,e)=>e.some(n=>t instanceof n);let ff,hf;function n0(){return ff||(ff=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function r0(){return hf||(hf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xm=new WeakMap,Ka=new WeakMap,km=new WeakMap,Bl=new WeakMap,uc=new WeakMap;function i0(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(xn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&xm.set(n,t)}).catch(()=>{}),uc.set(e,t),e}function s0(t){if(Ka.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ka.set(t,e)}let qa={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ka.get(t);if(e==="objectStoreNames")return t.objectStoreNames||km.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function o0(t){qa=t(qa)}function l0(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call($l(this),e,...n);return km.set(r,e.sort?e.sort():[e]),xn(r)}:r0().includes(t)?function(...e){return t.apply($l(this),e),xn(xm.get(this))}:function(...e){return xn(t.apply($l(this),e))}}function a0(t){return typeof t=="function"?l0(t):(t instanceof IDBTransaction&&s0(t),t0(t,n0())?new Proxy(t,qa):t)}function xn(t){if(t instanceof IDBRequest)return i0(t);if(Bl.has(t))return Bl.get(t);const e=a0(t);return e!==t&&(Bl.set(t,e),uc.set(e,t)),e}const $l=t=>uc.get(t);function u0(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=xn(o);return r&&o.addEventListener("upgradeneeded",a=>{r(xn(o.result),a.oldVersion,a.newVersion,xn(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const c0=["get","getKey","getAll","getAllKeys","count"],d0=["put","add","delete","clear"],Vl=new Map;function pf(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vl.get(e))return Vl.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=d0.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||c0.includes(n)))return;const s=async function(o,...l){const a=this.transaction(o,i?"readwrite":"readonly");let c=a.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&a.done]))[0]};return Vl.set(e,s),s}o0(t=>({...t,get:(e,n,r)=>pf(e,n)||t.get(e,n,r),has:(e,n)=>!!pf(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(h0(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function h0(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xa="@firebase/app",mf="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt=new Em("@firebase/app"),p0="@firebase/app-compat",m0="@firebase/analytics-compat",g0="@firebase/analytics",y0="@firebase/app-check-compat",_0="@firebase/app-check",v0="@firebase/auth",w0="@firebase/auth-compat",C0="@firebase/database",S0="@firebase/data-connect",E0="@firebase/database-compat",x0="@firebase/functions",k0="@firebase/functions-compat",N0="@firebase/installations",T0="@firebase/installations-compat",I0="@firebase/messaging",P0="@firebase/messaging-compat",R0="@firebase/performance",A0="@firebase/performance-compat",D0="@firebase/remote-config",j0="@firebase/remote-config-compat",L0="@firebase/storage",O0="@firebase/storage-compat",b0="@firebase/firestore",M0="@firebase/vertexai-preview",F0="@firebase/firestore-compat",W0="firebase",z0="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja="[DEFAULT]",U0={[Xa]:"fire-core",[p0]:"fire-core-compat",[g0]:"fire-analytics",[m0]:"fire-analytics-compat",[_0]:"fire-app-check",[y0]:"fire-app-check-compat",[v0]:"fire-auth",[w0]:"fire-auth-compat",[C0]:"fire-rtdb",[S0]:"fire-data-connect",[E0]:"fire-rtdb-compat",[x0]:"fire-fn",[k0]:"fire-fn-compat",[N0]:"fire-iid",[T0]:"fire-iid-compat",[I0]:"fire-fcm",[P0]:"fire-fcm-compat",[R0]:"fire-perf",[A0]:"fire-perf-compat",[D0]:"fire-rc",[j0]:"fire-rc-compat",[L0]:"fire-gcs",[O0]:"fire-gcs-compat",[b0]:"fire-fst",[F0]:"fire-fst-compat",[M0]:"fire-vertex","fire-js":"fire-js",[W0]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=new Map,B0=new Map,Za=new Map;function gf(t,e){try{t.container.addComponent(e)}catch(n){Zt.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ko(t){const e=t.name;if(Za.has(e))return Zt.debug(`There were multiple attempts to register component ${e}.`),!1;Za.set(e,t);for(const n of xo.values())gf(n,t);for(const n of B0.values())gf(n,t);return!0}function $0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},kn=new Cm("app","Firebase",V0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw kn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0=z0;function Nm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ja,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw kn.create("bad-app-name",{appName:String(i)});if(n||(n=vm()),!n)throw kn.create("no-options");const s=xo.get(i);if(s){if(Qa(n,s.options)&&Qa(r,s.config))return s;throw kn.create("duplicate-app",{appName:i})}const o=new qv(i);for(const a of Za.values())o.addComponent(a);const l=new H0(n,r,o);return xo.set(i,l),l}function Y0(t=Ja){const e=xo.get(t);if(!e&&t===Ja&&vm())return Nm();if(!e)throw kn.create("no-app",{appName:t});return e}function Rr(t,e,n){var r;let i=(r=U0[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zt.warn(l.join(" "));return}ko(new Xi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="firebase-heartbeat-database",K0=1,Ji="firebase-heartbeat-store";let Hl=null;function Tm(){return Hl||(Hl=u0(Q0,K0,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ji)}catch(n){console.warn(n)}}}}).catch(t=>{throw kn.create("idb-open",{originalErrorMessage:t.message})})),Hl}async function q0(t){try{const n=(await Tm()).transaction(Ji),r=await n.objectStore(Ji).get(Im(t));return await n.done,r}catch(e){if(e instanceof fs)Zt.warn(e.message);else{const n=kn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zt.warn(n.message)}}}async function yf(t,e){try{const r=(await Tm()).transaction(Ji,"readwrite");await r.objectStore(Ji).put(e,Im(t)),await r.done}catch(n){if(n instanceof fs)Zt.warn(n.message);else{const r=kn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Zt.warn(r.message)}}}function Im(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0=1024,J0=30*24*60*60*1e3;class Z0{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new tw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=_f();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=J0}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Zt.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=_f(),{heartbeatsToSend:r,unsentEntries:i}=ew(this._heartbeatsCache.heartbeats),s=So(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Zt.warn(n),""}}}function _f(){return new Date().toISOString().substring(0,10)}function ew(t,e=X0){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),vf(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),vf(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class tw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Mv()?Fv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await q0(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return yf(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return yf(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function vf(t){return So(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(t){ko(new Xi("platform-logger",e=>new f0(e),"PRIVATE")),ko(new Xi("heartbeat",e=>new Z0(e),"PRIVATE")),Rr(Xa,mf,t),Rr(Xa,mf,"esm2017"),Rr("fire-js","")}nw("");var rw="firebase",iw="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rr(rw,iw,"app");var wf={};const Cf="@firebase/database",Sf="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pm="";function sw(t){Pm=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Le(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:qi(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Wt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new ow(e)}}catch{}return new lw},$n=Rm("localStorage"),aw=Rm("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar=new Em("@firebase/database"),uw=function(){let t=1;return function(){return t++}}(),Am=function(t){const e=Gv(t),n=new Hv;n.update(e);const r=n.digest();return ac.encodeByteArray(r)},hs=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=hs.apply(null,r):typeof r=="object"?e+=Le(r):e+=r,e+=" "}return e};let Ii=null,Ef=!0;const cw=function(t,e){I(!0,"Can't turn on custom loggers persistently."),Ar.logLevel=ie.VERBOSE,Ii=Ar.log.bind(Ar)},Me=function(...t){if(Ef===!0&&(Ef=!1,Ii===null&&aw.get("logging_enabled")===!0&&cw()),Ii){const e=hs.apply(null,t);Ii(e)}},ps=function(t){return function(...e){Me(t,...e)}},eu=function(...t){const e="FIREBASE INTERNAL ERROR: "+hs(...t);Ar.error(e)},en=function(...t){const e=`FIREBASE FATAL ERROR: ${hs(...t)}`;throw Ar.error(e),new Error(e)},Qe=function(...t){const e="FIREBASE WARNING: "+hs(...t);Ar.warn(e)},dw=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Qe("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},cc=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},fw=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Br="[MIN_NAME]",Xn="[MAX_NAME]",rr=function(t,e){if(t===e)return 0;if(t===Br||e===Xn)return-1;if(e===Br||t===Xn)return 1;{const n=xf(t),r=xf(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},hw=function(t,e){return t===e?0:t<e?-1:1},di=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Le(e))},dc=function(t){if(typeof t!="object"||t===null)return Le(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Le(e[r]),n+=":",n+=dc(t[e[r]]);return n+="}",n},Dm=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function ze(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const jm=function(t){I(!cc(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,l,a;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=l+r,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(a=n;a;a-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(a=e;a;a-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const h=c.join("");let f="";for(a=0;a<64;a+=8){let d=parseInt(h.substr(a,8),2).toString(16);d.length===1&&(d="0"+d),f=f+d}return f.toLowerCase()},pw=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},mw=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function gw(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const yw=new RegExp("^-?(0*)\\d{1,10}$"),_w=-2147483648,vw=2147483647,xf=function(t){if(yw.test(t)){const e=Number(t);if(e>=_w&&e<=vw)return e}return null},Jr=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Qe("Exception was thrown by user callback.",n),e},Math.floor(0))}},ww=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Pi=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Qe(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Me("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Qe(e)}}class qs{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}qs.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc="5",Lm="v",Om="s",bm="r",Mm="f",Fm=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Wm="ls",zm="p",tu="ac",Um="websocket",Bm="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,n,r,i,s=!1,o="",l=!1,a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=$n.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&$n.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Ew(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Vm(t,e,n){I(typeof e=="string","typeof type must == string"),I(typeof n=="object","typeof params must == object");let r;if(e===Um)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Bm)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Ew(t)&&(n.ns=t.namespace);const i=[];return ze(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(){this.counters_={}}incrementCounter(e,n=1){Wt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return kv(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl={},Yl={};function hc(t){const e=t.toString();return Gl[e]||(Gl[e]=new xw),Gl[e]}function kw(t,e){const n=t.toString();return Yl[n]||(Yl[n]=e()),Yl[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Jr(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf="start",Tw="close",Iw="pLPCommand",Pw="pRTLPCB",Hm="id",Gm="pw",Ym="ser",Rw="cb",Aw="seg",Dw="ts",jw="d",Lw="dframe",Qm=1870,Km=30,Ow=Qm-Km,bw=25e3,Mw=3e4;class Er{constructor(e,n,r,i,s,o,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ps(e),this.stats_=hc(n),this.urlFn=a=>(this.appCheckToken&&(a[tu]=this.appCheckToken),Vm(n,Bm,a))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Nw(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Mw)),fw(()=>{if(this.isClosed_)return;this.scriptTagHolder=new pc((...s)=>{const[o,l,a,c,h]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===kf)this.id=l,this.password=a;else if(o===Tw)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[kf]="t",r[Ym]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Rw]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Lm]=fc,this.transportSessionId&&(r[Om]=this.transportSessionId),this.lastSessionId&&(r[Wm]=this.lastSessionId),this.applicationId&&(r[zm]=this.applicationId),this.appCheckToken&&(r[tu]=this.appCheckToken),typeof location<"u"&&location.hostname&&Fm.test(location.hostname)&&(r[bm]=Mm);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Er.forceAllow_=!0}static forceDisallow(){Er.forceDisallow_=!0}static isAvailable(){return Er.forceAllow_?!0:!Er.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!pw()&&!mw()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Le(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=gm(n),i=Dm(r,Ow);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Lw]="t",r[Hm]=e,r[Gm]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Le(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class pc{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=uw(),window[Iw+this.uniqueCallbackIdentifier]=e,window[Pw+this.uniqueCallbackIdentifier]=n,this.myIFrame=pc.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){Me("frame writing exception"),l.stack&&Me(l.stack),Me(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Me("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Hm]=this.myID,e[Gm]=this.myPW,e[Ym]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Km+r.length<=Qm;){const o=this.pendingSegs.shift();r=r+"&"+Aw+i+"="+o.seg+"&"+Dw+i+"="+o.ts+"&"+jw+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(bw)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Me("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw=16384,Ww=45e3;let No=null;typeof MozWebSocket<"u"?No=MozWebSocket:typeof WebSocket<"u"&&(No=WebSocket);class xt{constructor(e,n,r,i,s,o,l){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ps(this.connId),this.stats_=hc(n),this.connURL=xt.connectionURL_(n,o,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[Lm]=fc,typeof location<"u"&&location.hostname&&Fm.test(location.hostname)&&(o[bm]=Mm),n&&(o[Om]=n),r&&(o[Wm]=r),i&&(o[tu]=i),s&&(o[zm]=s),Vm(e,Um,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,$n.set("previous_websocket_failure",!0);try{let r;bv(),this.mySock=new No(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){xt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&No!==null&&!xt.forceDisallow_}static previouslyFailed(){return $n.isInMemoryStorage||$n.get("previous_websocket_failure")===!0}markConnectionHealthy(){$n.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=qi(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(I(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Le(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Dm(n,Fw);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Ww))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}xt.responsesRequiredToBeHealthy=2;xt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Er,xt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=xt&&xt.isAvailable();let r=n&&!xt.previouslyFailed();if(e.webSocketOnly&&(n||Qe("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[xt];else{const i=this.transports_=[];for(const s of Zi.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Zi.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Zi.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=6e4,Uw=5e3,Bw=10*1024,$w=100*1024,Ql="t",Nf="d",Vw="s",Tf="r",Hw="e",If="o",Pf="a",Rf="n",Af="p",Gw="h";class Yw{constructor(e,n,r,i,s,o,l,a,c,h){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=a,this.onKill_=c,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ps("c:"+this.id+":"),this.transportManager_=new Zi(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Pi(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>$w?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Bw?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Ql in e){const n=e[Ql];n===Pf?this.upgradeIfSecondaryHealthy_():n===Tf?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===If&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=di("t",e),r=di("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Af,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Pf,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Rf,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=di("t",e),r=di("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=di(Ql,e);if(Nf in e){const r=e[Nf];if(n===Gw){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Rf){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Vw?this.onConnectionShutdown_(r):n===Tf?this.onReset_(r):n===Hw?eu("Server Error: "+r):n===If?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):eu("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),fc!==r&&Qe("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Pi(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(zw))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Pi(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Uw))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Af,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&($n.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e){this.allowedEvents_=e,this.listeners_={},I(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){I(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To extends Xm{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!wm()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new To}getInitialEvent(e){return I(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df=32,jf=768;class ne{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function X(){return new ne("")}function G(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Pn(t){return t.pieces_.length-t.pieceNum_}function se(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ne(t.pieces_,e)}function mc(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Qw(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function es(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Jm(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ne(e,0)}function ye(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ne)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ne(n,0)}function Q(t){return t.pieceNum_>=t.pieces_.length}function et(t,e){const n=G(t),r=G(e);if(n===null)return e;if(n===r)return et(se(t),se(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Kw(t,e){const n=es(t,0),r=es(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=rr(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function gc(t,e){if(Pn(t)!==Pn(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function gt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Pn(t)>Pn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class qw{constructor(e,n){this.errorPrefix_=n,this.parts_=es(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=nl(this.parts_[r]);Zm(this)}}function Xw(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=nl(e),Zm(t)}function Jw(t){const e=t.parts_.pop();t.byteLength_-=nl(e),t.parts_.length>0&&(t.byteLength_-=1)}function Zm(t){if(t.byteLength_>jf)throw new Error(t.errorPrefix_+"has a key path longer than "+jf+" bytes ("+t.byteLength_+").");if(t.parts_.length>Df)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Df+") or object contains a cycle "+Wn(t))}function Wn(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc extends Xm{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new yc}getInitialEvent(e){return I(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi=1e3,Zw=60*5*1e3,Lf=30*1e3,eC=1.3,tC=3e4,nC="server_kill",Of=3;class Qt extends qm{constructor(e,n,r,i,s,o,l,a){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=Qt.nextPersistentConnectionId_++,this.log_=ps("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=fi,this.maxReconnectDelay_=Zw,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");yc.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&To.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Le(s)),I(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new ds,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),I(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),I(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,l=>{const a=l.d,c=l.s;Qt.warnOnListenWarnings_(a,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",l),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,a))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Wt(e,"w")){const r=Ur(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Qe(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||$v(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Lf)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=Bv(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),I(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Le(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):eu("Unrecognized action received from server: "+Le(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){I(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=fi,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=fi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>tC&&(this.reconnectDelay_=fi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*eC)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Qt.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const a=function(){l?l.close():(o=!0,r())},c=function(f){I(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)};this.realtime_={close:a,sendRequest:c};const h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,d]=await Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);o?Me("getToken() completed but was canceled"):(Me("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=d&&d.token,l=new Yw(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,y=>{Qe(y+" ("+this.repoInfo_.toString()+")"),this.interrupt(nC)},s))}catch(f){this.log_("Failed to get token: "+f),o||(this.repoInfo_.nodeAdmin&&Qe(f),a())}}}interrupt(e){Me("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Me("Resuming connection for reason: "+e),delete this.interruptReasons_[e],cf(this.interruptReasons_)&&(this.reconnectDelay_=fi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>dc(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new ne(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Me("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Of&&(this.reconnectDelay_=Lf,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Me("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Of&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Pm.replace(/\./g,"-")]=1,wm()?e["framework.cordova"]=1:Ov()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=To.getInstance().currentlyOnline();return cf(this.interruptReasons_)&&e}}Qt.nextPersistentConnectionId_=0;Qt.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Y(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Y(Br,e),i=new Y(Br,n);return this.compare(r,i)!==0}minPost(){return Y.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Os;class eg extends rl{static get __EMPTY_NODE(){return Os}static set __EMPTY_NODE(e){Os=e}compare(e,n){return rr(e.name,n.name)}isDefinedOn(e){throw qr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Y.MIN}maxPost(){return new Y(Xn,Os)}makePost(e,n){return I(typeof e=="string","KeyIndex indexValue must always be a string."),new Y(e,Os)}toString(){return".key"}}const Dr=new eg;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class De{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??De.RED,this.left=i??tt.EMPTY_NODE,this.right=s??tt.EMPTY_NODE}copy(e,n,r,i,s){return new De(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return tt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return tt.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,De.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,De.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}De.RED=!0;De.BLACK=!1;class rC{copy(e,n,r,i,s){return this}insert(e,n,r){return new De(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class tt{constructor(e,n=tt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new tt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,De.BLACK,null,null))}remove(e){return new tt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,De.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new bs(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new bs(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new bs(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new bs(this.root_,null,this.comparator_,!0,e)}}tt.EMPTY_NODE=new rC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(t,e){return rr(t.name,e.name)}function _c(t,e){return rr(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nu;function sC(t){nu=t}const tg=function(t){return typeof t=="number"?"number:"+jm(t):"string:"+t},ng=function(t){if(t.isLeafNode()){const e=t.val();I(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Wt(e,".sv"),"Priority must be a string or number.")}else I(t===nu||t.isEmpty(),"priority of unexpected type.");I(t===nu||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bf;class Re{constructor(e,n=Re.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,I(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),ng(this.priorityNode_)}static set __childrenNodeConstructor(e){bf=e}static get __childrenNodeConstructor(){return bf}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Re(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Re.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Q(e)?this:G(e)===".priority"?this.priorityNode_:Re.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Re.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=G(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(I(r!==".priority"||Pn(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Re.__childrenNodeConstructor.EMPTY_NODE.updateChild(se(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+tg(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=jm(this.value_):e+=this.value_,this.lazyHash_=Am(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Re.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Re.__childrenNodeConstructor?-1:(I(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Re.VALUE_TYPE_ORDER.indexOf(n),s=Re.VALUE_TYPE_ORDER.indexOf(r);return I(i>=0,"Unknown leaf type: "+n),I(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Re.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rg,ig;function oC(t){rg=t}function lC(t){ig=t}class aC extends rl{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?rr(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Y.MIN}maxPost(){return new Y(Xn,new Re("[PRIORITY-POST]",ig))}makePost(e,n){const r=rg(e);return new Y(n,new Re("[PRIORITY-POST]",r))}toString(){return".priority"}}const _e=new aC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=Math.log(2);class cC{constructor(e){const n=s=>parseInt(Math.log(s)/uC,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Io=function(t,e,n,r){t.sort(e);const i=function(a,c){const h=c-a;let f,d;if(h===0)return null;if(h===1)return f=t[a],d=n?n(f):f,new De(d,f.node,De.BLACK,null,null);{const y=parseInt(h/2,10)+a,v=i(a,y),w=i(y+1,c);return f=t[y],d=n?n(f):f,new De(d,f.node,De.BLACK,v,w)}},s=function(a){let c=null,h=null,f=t.length;const d=function(v,w){const S=f-v,g=f;f-=v;const p=i(S+1,g),_=t[S],E=n?n(_):_;y(new De(E,_.node,w,null,p))},y=function(v){c?(c.left=v,c=v):(h=v,c=v)};for(let v=0;v<a.count;++v){const w=a.nextBitIsOne(),S=Math.pow(2,a.count-(v+1));w?d(S,De.BLACK):(d(S,De.BLACK),d(S,De.RED))}return h},o=new cC(t.length),l=s(o);return new tt(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kl;const cr={};class Gt{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return I(cr&&_e,"ChildrenNode.ts has not been loaded"),Kl=Kl||new Gt({".priority":cr},{".priority":_e}),Kl}get(e){const n=Ur(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof tt?n:null}hasIndex(e){return Wt(this.indexSet_,e.toString())}addIndex(e,n){I(e!==Dr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Y.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let l;i?l=Io(r,e.getCompare()):l=cr;const a=e.toString(),c=Object.assign({},this.indexSet_);c[a]=e;const h=Object.assign({},this.indexes_);return h[a]=l,new Gt(h,c)}addToIndexes(e,n){const r=Eo(this.indexes_,(i,s)=>{const o=Ur(this.indexSet_,s);if(I(o,"Missing index implementation for "+s),i===cr)if(o.isDefinedOn(e.node)){const l=[],a=n.getIterator(Y.Wrap);let c=a.getNext();for(;c;)c.name!==e.name&&l.push(c),c=a.getNext();return l.push(e),Io(l,o.getCompare())}else return cr;else{const l=n.get(e.name);let a=i;return l&&(a=a.remove(new Y(e.name,l))),a.insert(e,e.node)}});return new Gt(r,this.indexSet_)}removeFromIndexes(e,n){const r=Eo(this.indexes_,i=>{if(i===cr)return i;{const s=n.get(e.name);return s?i.remove(new Y(e.name,s)):i}});return new Gt(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hi;class U{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&ng(this.priorityNode_),this.children_.isEmpty()&&I(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return hi||(hi=new U(new tt(_c),null,Gt.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||hi}updatePriority(e){return this.children_.isEmpty()?this:new U(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?hi:n}}getChild(e){const n=G(e);return n===null?this:this.getImmediateChild(n).getChild(se(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(I(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Y(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?hi:this.priorityNode_;return new U(i,o,s)}}updateChild(e,n){const r=G(e);if(r===null)return n;{I(G(e)!==".priority"||Pn(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(se(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(_e,(o,l)=>{n[o]=l.val(e),r++,s&&U.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+tg(this.getPriority().val())+":"),this.forEachChild(_e,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":Am(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Y(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Y(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Y(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Y.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Y.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ms?-1:0}withIndex(e){if(e===Dr||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new U(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Dr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(_e),i=n.getIterator(_e);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Dr?null:this.indexMap_.get(e.toString())}}U.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class dC extends U{constructor(){super(new tt(_c),U.EMPTY_NODE,Gt.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return U.EMPTY_NODE}isEmpty(){return!1}}const ms=new dC;Object.defineProperties(Y,{MIN:{value:new Y(Br,U.EMPTY_NODE)},MAX:{value:new Y(Xn,ms)}});eg.__EMPTY_NODE=U.EMPTY_NODE;Re.__childrenNodeConstructor=U;sC(ms);lC(ms);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=!0;function je(t,e=null){if(t===null)return U.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),I(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Re(n,je(e))}if(!(t instanceof Array)&&fC){const n=[];let r=!1;if(ze(t,(o,l)=>{if(o.substring(0,1)!=="."){const a=je(l);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new Y(o,a)))}}),n.length===0)return U.EMPTY_NODE;const s=Io(n,iC,o=>o.name,_c);if(r){const o=Io(n,_e.getCompare());return new U(s,je(e),new Gt({".priority":o},{".priority":_e}))}else return new U(s,je(e),Gt.Default)}else{let n=U.EMPTY_NODE;return ze(t,(r,i)=>{if(Wt(t,r)&&r.substring(0,1)!=="."){const s=je(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(je(e))}}oC(je);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC extends rl{constructor(e){super(),this.indexPath_=e,I(!Q(e)&&G(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?rr(e.name,n.name):s}makePost(e,n){const r=je(e),i=U.EMPTY_NODE.updateChild(this.indexPath_,r);return new Y(n,i)}maxPost(){const e=U.EMPTY_NODE.updateChild(this.indexPath_,ms);return new Y(Xn,e)}toString(){return es(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC extends rl{compare(e,n){const r=e.node.compareTo(n.node);return r===0?rr(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Y.MIN}maxPost(){return Y.MAX}makePost(e,n){const r=je(e);return new Y(n,r)}toString(){return".value"}}const mC=new pC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(t){return{type:"value",snapshotNode:t}}function $r(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ts(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ns(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function gC(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){I(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(ts(n,l)):I(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange($r(n,r)):o.trackChildChange(ns(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(_e,(i,s)=>{n.hasChild(i)||r.trackChildChange(ts(i,s))}),n.isLeafNode()||n.forEachChild(_e,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(ns(i,s,o))}else r.trackChildChange($r(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?U.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e){this.indexedFilter_=new vc(e.getIndex()),this.index_=e.getIndex(),this.startPost_=rs.getStartPost_(e),this.endPost_=rs.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new Y(n,r))||(r=U.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=U.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(U.EMPTY_NODE);const s=this;return n.forEachChild(_e,(o,l)=>{s.matches(new Y(o,l))||(i=i.updateImmediateChild(o,U.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new rs(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new Y(n,r))||(r=U.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=U.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=U.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const l=s.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(U.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const l=s.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:i=i.updateImmediateChild(l.name,U.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const f=this.index_.getCompare();o=(d,y)=>f(y,d)}else o=this.index_.getCompare();const l=e;I(l.numChildren()===this.limit_,"");const a=new Y(n,r),c=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),h=this.rangedFilter_.matches(a);if(l.hasChild(n)){const f=l.getImmediateChild(n);let d=i.getChildAfterChild(this.index_,c,this.reverse_);for(;d!=null&&(d.name===n||l.hasChild(d.name));)d=i.getChildAfterChild(this.index_,d,this.reverse_);const y=d==null?1:o(d,a);if(h&&!r.isEmpty()&&y>=0)return s!=null&&s.trackChildChange(ns(n,r,f)),l.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(ts(n,f));const w=l.updateImmediateChild(n,U.EMPTY_NODE);return d!=null&&this.rangedFilter_.matches(d)?(s!=null&&s.trackChildChange($r(d.name,d.node)),w.updateImmediateChild(d.name,d.node)):w}}else return r.isEmpty()?e:h&&o(c,a)>=0?(s!=null&&(s.trackChildChange(ts(c.name,c.node)),s.trackChildChange($r(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(c.name,U.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=_e}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return I(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return I(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Br}hasEnd(){return this.endSet_}getIndexEndValue(){return I(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return I(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Xn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return I(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===_e}copy(){const e=new wc;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function _C(t){return t.loadsAllData()?new vc(t.getIndex()):t.hasLimit()?new yC(t):new rs(t)}function Mf(t){const e={};if(t.isDefault())return e;let n;if(t.index_===_e?n="$priority":t.index_===mC?n="$value":t.index_===Dr?n="$key":(I(t.index_ instanceof hC,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Le(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Le(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Le(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Le(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Le(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Ff(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==_e&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po extends qm{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=ps("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(I(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Po.getListenId_(e,r),l={};this.listens_[o]=l;const a=Mf(e._queryParams);this.restRequest_(s+".json",a,(c,h)=>{let f=h;if(c===404&&(f=null,c=null),c===null&&this.onDataUpdate_(s,f,!1,r),Ur(this.listens_,o)===l){let d;c?c===401?d="permission_denied":d="rest_error:"+c:d="ok",i(d,null)}})}unlisten(e,n){const r=Po.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Mf(e._queryParams),r=e._path.toString(),i=new ds;return this.restRequest_(r+".json",n,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Vv(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=qi(l.responseText)}catch{Qe("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,a)}else l.status!==401&&l.status!==404&&Qe("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(){this.rootNode_=U.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(){return{value:null,children:new Map}}function og(t,e,n){if(Q(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=G(e);t.children.has(r)||t.children.set(r,Ro());const i=t.children.get(r);e=se(e),og(i,e,n)}}function ru(t,e,n){t.value!==null?n(e,t.value):wC(t,(r,i)=>{const s=new ne(e.toString()+"/"+r);ru(i,s,n)})}function wC(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&ze(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wf=10*1e3,SC=30*1e3,EC=5*60*1e3;class xC{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new CC(e);const r=Wf+(SC-Wf)*Math.random();Pi(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;ze(e,(i,s)=>{s>0&&Wt(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Pi(this.reportStats_.bind(this),Math.floor(Math.random()*2*EC))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(kt||(kt={}));function Cc(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Sc(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Ec(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=kt.ACK_USER_WRITE,this.source=Cc()}operationForChild(e){if(Q(this.path)){if(this.affectedTree.value!=null)return I(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ne(e));return new Ao(X(),n,this.revert)}}else return I(G(this.path)===e,"operationForChild called for unrelated child."),new Ao(se(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,n){this.source=e,this.path=n,this.type=kt.LISTEN_COMPLETE}operationForChild(e){return Q(this.path)?new is(this.source,X()):new is(this.source,se(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=kt.OVERWRITE}operationForChild(e){return Q(this.path)?new Jn(this.source,X(),this.snap.getImmediateChild(e)):new Jn(this.source,se(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=kt.MERGE}operationForChild(e){if(Q(this.path)){const n=this.children.subtree(new ne(e));return n.isEmpty()?null:n.value?new Jn(this.source,X(),n.value):new Vr(this.source,X(),n)}else return I(G(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Vr(this.source,se(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Q(e))return this.isFullyInitialized()&&!this.filtered_;const n=G(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function NC(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(gC(o.childName,o.snapshotNode))}),pi(t,i,"child_removed",e,r,n),pi(t,i,"child_added",e,r,n),pi(t,i,"child_moved",s,r,n),pi(t,i,"child_changed",e,r,n),pi(t,i,"value",e,r,n),i}function pi(t,e,n,r,i,s){const o=r.filter(l=>l.type===n);o.sort((l,a)=>IC(t,l,a)),o.forEach(l=>{const a=TC(t,l,s);i.forEach(c=>{c.respondsTo(l.type)&&e.push(c.createEvent(a,t.query_))})})}function TC(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function IC(t,e,n){if(e.childName==null||n.childName==null)throw qr("Should only compare child_ events.");const r=new Y(e.childName,e.snapshotNode),i=new Y(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function il(t,e){return{eventCache:t,serverCache:e}}function Ri(t,e,n,r){return il(new Zn(e,n,r),t.serverCache)}function lg(t,e,n,r){return il(t.eventCache,new Zn(e,n,r))}function iu(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function er(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ql;const PC=()=>(ql||(ql=new tt(hw)),ql);class re{constructor(e,n=PC()){this.value=e,this.children=n}static fromObject(e){let n=new re(null);return ze(e,(r,i)=>{n=n.set(new ne(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:X(),value:this.value};if(Q(e))return null;{const r=G(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(se(e),n);return s!=null?{path:ye(new ne(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Q(e))return this;{const n=G(e),r=this.children.get(n);return r!==null?r.subtree(se(e)):new re(null)}}set(e,n){if(Q(e))return new re(n,this.children);{const r=G(e),s=(this.children.get(r)||new re(null)).set(se(e),n),o=this.children.insert(r,s);return new re(this.value,o)}}remove(e){if(Q(e))return this.children.isEmpty()?new re(null):new re(null,this.children);{const n=G(e),r=this.children.get(n);if(r){const i=r.remove(se(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new re(null):new re(this.value,s)}else return this}}get(e){if(Q(e))return this.value;{const n=G(e),r=this.children.get(n);return r?r.get(se(e)):null}}setTree(e,n){if(Q(e))return n;{const r=G(e),s=(this.children.get(r)||new re(null)).setTree(se(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new re(this.value,o)}}fold(e){return this.fold_(X(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(ye(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,X(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Q(e))return null;{const s=G(e),o=this.children.get(s);return o?o.findOnPath_(se(e),ye(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,X(),n)}foreachOnPath_(e,n,r){if(Q(e))return this;{this.value&&r(n,this.value);const i=G(e),s=this.children.get(i);return s?s.foreachOnPath_(se(e),ye(n,i),r):new re(null)}}foreach(e){this.foreach_(X(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(ye(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.writeTree_=e}static empty(){return new It(new re(null))}}function Ai(t,e,n){if(Q(e))return new It(new re(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=et(i,e);return s=s.updateChild(o,n),new It(t.writeTree_.set(i,s))}else{const i=new re(n),s=t.writeTree_.setTree(e,i);return new It(s)}}}function su(t,e,n){let r=t;return ze(n,(i,s)=>{r=Ai(r,ye(e,i),s)}),r}function zf(t,e){if(Q(e))return It.empty();{const n=t.writeTree_.setTree(e,new re(null));return new It(n)}}function ou(t,e){return ir(t,e)!=null}function ir(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(et(n.path,e)):null}function Uf(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(_e,(r,i)=>{e.push(new Y(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Y(r,i.value))}),e}function Nn(t,e){if(Q(e))return t;{const n=ir(t,e);return n!=null?new It(new re(n)):new It(t.writeTree_.subtree(e))}}function lu(t){return t.writeTree_.isEmpty()}function Hr(t,e){return ag(X(),t.writeTree_,e)}function ag(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(I(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=ag(ye(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(ye(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(t,e){return fg(e,t)}function RC(t,e,n,r,i){I(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Ai(t.visibleWrites,e,n)),t.lastWriteId=r}function AC(t,e,n,r){I(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=su(t.visibleWrites,e,n),t.lastWriteId=r}function DC(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function jC(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);I(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&LC(l,r.path)?i=!1:gt(r.path,l.path)&&(s=!0)),o--}if(i){if(s)return OC(t),!0;if(r.snap)t.visibleWrites=zf(t.visibleWrites,r.path);else{const l=r.children;ze(l,a=>{t.visibleWrites=zf(t.visibleWrites,ye(r.path,a))})}return!0}else return!1}function LC(t,e){if(t.snap)return gt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&gt(ye(t.path,n),e))return!0;return!1}function OC(t){t.visibleWrites=ug(t.allWrites,bC,X()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function bC(t){return t.visible}function ug(t,e,n){let r=It.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let l;if(s.snap)gt(n,o)?(l=et(n,o),r=Ai(r,l,s.snap)):gt(o,n)&&(l=et(o,n),r=Ai(r,X(),s.snap.getChild(l)));else if(s.children){if(gt(n,o))l=et(n,o),r=su(r,l,s.children);else if(gt(o,n))if(l=et(o,n),Q(l))r=su(r,X(),s.children);else{const a=Ur(s.children,G(l));if(a){const c=a.getChild(se(l));r=Ai(r,X(),c)}}}else throw qr("WriteRecord should have .snap or .children")}}return r}function cg(t,e,n,r,i){if(!r&&!i){const s=ir(t.visibleWrites,e);if(s!=null)return s;{const o=Nn(t.visibleWrites,e);if(lu(o))return n;if(n==null&&!ou(o,X()))return null;{const l=n||U.EMPTY_NODE;return Hr(o,l)}}}else{const s=Nn(t.visibleWrites,e);if(!i&&lu(s))return n;if(!i&&n==null&&!ou(s,X()))return null;{const o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(gt(c.path,e)||gt(e,c.path))},l=ug(t.allWrites,o,e),a=n||U.EMPTY_NODE;return Hr(l,a)}}}function MC(t,e,n){let r=U.EMPTY_NODE;const i=ir(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(_e,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Nn(t.visibleWrites,e);return n.forEachChild(_e,(o,l)=>{const a=Hr(Nn(s,new ne(o)),l);r=r.updateImmediateChild(o,a)}),Uf(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Nn(t.visibleWrites,e);return Uf(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function FC(t,e,n,r,i){I(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=ye(e,n);if(ou(t.visibleWrites,s))return null;{const o=Nn(t.visibleWrites,s);return lu(o)?i.getChild(n):Hr(o,i.getChild(n))}}function WC(t,e,n,r){const i=ye(e,n),s=ir(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Nn(t.visibleWrites,i);return Hr(o,r.getNode().getImmediateChild(n))}else return null}function zC(t,e){return ir(t.visibleWrites,e)}function UC(t,e,n,r,i,s,o){let l;const a=Nn(t.visibleWrites,e),c=ir(a,X());if(c!=null)l=c;else if(n!=null)l=Hr(a,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const h=[],f=o.getCompare(),d=s?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let y=d.getNext();for(;y&&h.length<i;)f(y,r)!==0&&h.push(y),y=d.getNext();return h}else return[]}function BC(){return{visibleWrites:It.empty(),allWrites:[],lastWriteId:-1}}function Do(t,e,n,r){return cg(t.writeTree,t.treePath,e,n,r)}function kc(t,e){return MC(t.writeTree,t.treePath,e)}function Bf(t,e,n,r){return FC(t.writeTree,t.treePath,e,n,r)}function jo(t,e){return zC(t.writeTree,ye(t.treePath,e))}function $C(t,e,n,r,i,s){return UC(t.writeTree,t.treePath,e,n,r,i,s)}function Nc(t,e,n){return WC(t.writeTree,t.treePath,e,n)}function dg(t,e){return fg(ye(t.treePath,e),t.writeTree)}function fg(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;I(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),I(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,ns(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,ts(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,$r(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,ns(r,e.snapshotNode,i.oldSnap));else throw qr("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const hg=new HC;class Tc{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Zn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Nc(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:er(this.viewCache_),s=$C(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(t){return{filter:t}}function YC(t,e){I(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),I(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function QC(t,e,n,r,i){const s=new VC;let o,l;if(n.type===kt.OVERWRITE){const c=n;c.source.fromUser?o=au(t,e,c.path,c.snap,r,i,s):(I(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered()&&!Q(c.path),o=Lo(t,e,c.path,c.snap,r,i,l,s))}else if(n.type===kt.MERGE){const c=n;c.source.fromUser?o=qC(t,e,c.path,c.children,r,i,s):(I(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered(),o=uu(t,e,c.path,c.children,r,i,l,s))}else if(n.type===kt.ACK_USER_WRITE){const c=n;c.revert?o=ZC(t,e,c.path,r,i,s):o=XC(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===kt.LISTEN_COMPLETE)o=JC(t,e,n.path,r,s);else throw qr("Unknown operation type: "+n.type);const a=s.getChanges();return KC(e,o,a),{viewCache:o,changes:a}}function KC(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=iu(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(sg(iu(e)))}}function pg(t,e,n,r,i,s){const o=e.eventCache;if(jo(r,n)!=null)return e;{let l,a;if(Q(n))if(I(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=er(e),h=c instanceof U?c:U.EMPTY_NODE,f=kc(r,h);l=t.filter.updateFullNode(e.eventCache.getNode(),f,s)}else{const c=Do(r,er(e));l=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=G(n);if(c===".priority"){I(Pn(n)===1,"Can't have a priority with additional path components");const h=o.getNode();a=e.serverCache.getNode();const f=Bf(r,n,h,a);f!=null?l=t.filter.updatePriority(h,f):l=o.getNode()}else{const h=se(n);let f;if(o.isCompleteForChild(c)){a=e.serverCache.getNode();const d=Bf(r,n,o.getNode(),a);d!=null?f=o.getNode().getImmediateChild(c).updateChild(h,d):f=o.getNode().getImmediateChild(c)}else f=Nc(r,c,e.serverCache);f!=null?l=t.filter.updateChild(o.getNode(),c,f,h,i,s):l=o.getNode()}}return Ri(e,l,o.isFullyInitialized()||Q(n),t.filter.filtersNodes())}}function Lo(t,e,n,r,i,s,o,l){const a=e.serverCache;let c;const h=o?t.filter:t.filter.getIndexedFilter();if(Q(n))c=h.updateFullNode(a.getNode(),r,null);else if(h.filtersNodes()&&!a.isFiltered()){const y=a.getNode().updateChild(n,r);c=h.updateFullNode(a.getNode(),y,null)}else{const y=G(n);if(!a.isCompleteForPath(n)&&Pn(n)>1)return e;const v=se(n),S=a.getNode().getImmediateChild(y).updateChild(v,r);y===".priority"?c=h.updatePriority(a.getNode(),S):c=h.updateChild(a.getNode(),y,S,v,hg,null)}const f=lg(e,c,a.isFullyInitialized()||Q(n),h.filtersNodes()),d=new Tc(i,f,s);return pg(t,f,n,i,d,l)}function au(t,e,n,r,i,s,o){const l=e.eventCache;let a,c;const h=new Tc(i,e,s);if(Q(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),a=Ri(e,c,!0,t.filter.filtersNodes());else{const f=G(n);if(f===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),a=Ri(e,c,l.isFullyInitialized(),l.isFiltered());else{const d=se(n),y=l.getNode().getImmediateChild(f);let v;if(Q(d))v=r;else{const w=h.getCompleteChild(f);w!=null?mc(d)===".priority"&&w.getChild(Jm(d)).isEmpty()?v=w:v=w.updateChild(d,r):v=U.EMPTY_NODE}if(y.equals(v))a=e;else{const w=t.filter.updateChild(l.getNode(),f,v,d,h,o);a=Ri(e,w,l.isFullyInitialized(),t.filter.filtersNodes())}}}return a}function $f(t,e){return t.eventCache.isCompleteForChild(e)}function qC(t,e,n,r,i,s,o){let l=e;return r.foreach((a,c)=>{const h=ye(n,a);$f(e,G(h))&&(l=au(t,l,h,c,i,s,o))}),r.foreach((a,c)=>{const h=ye(n,a);$f(e,G(h))||(l=au(t,l,h,c,i,s,o))}),l}function Vf(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function uu(t,e,n,r,i,s,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let a=e,c;Q(n)?c=r:c=new re(null).setTree(n,r);const h=e.serverCache.getNode();return c.children.inorderTraversal((f,d)=>{if(h.hasChild(f)){const y=e.serverCache.getNode().getImmediateChild(f),v=Vf(t,y,d);a=Lo(t,a,new ne(f),v,i,s,o,l)}}),c.children.inorderTraversal((f,d)=>{const y=!e.serverCache.isCompleteForChild(f)&&d.value===null;if(!h.hasChild(f)&&!y){const v=e.serverCache.getNode().getImmediateChild(f),w=Vf(t,v,d);a=Lo(t,a,new ne(f),w,i,s,o,l)}}),a}function XC(t,e,n,r,i,s,o){if(jo(i,n)!=null)return e;const l=e.serverCache.isFiltered(),a=e.serverCache;if(r.value!=null){if(Q(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return Lo(t,e,n,a.getNode().getChild(n),i,s,l,o);if(Q(n)){let c=new re(null);return a.getNode().forEachChild(Dr,(h,f)=>{c=c.set(new ne(h),f)}),uu(t,e,n,c,i,s,l,o)}else return e}else{let c=new re(null);return r.foreach((h,f)=>{const d=ye(n,h);a.isCompleteForPath(d)&&(c=c.set(h,a.getNode().getChild(d)))}),uu(t,e,n,c,i,s,l,o)}}function JC(t,e,n,r,i){const s=e.serverCache,o=lg(e,s.getNode(),s.isFullyInitialized()||Q(n),s.isFiltered());return pg(t,o,n,r,hg,i)}function ZC(t,e,n,r,i,s){let o;if(jo(r,n)!=null)return e;{const l=new Tc(r,e,i),a=e.eventCache.getNode();let c;if(Q(n)||G(n)===".priority"){let h;if(e.serverCache.isFullyInitialized())h=Do(r,er(e));else{const f=e.serverCache.getNode();I(f instanceof U,"serverChildren would be complete if leaf node"),h=kc(r,f)}h=h,c=t.filter.updateFullNode(a,h,s)}else{const h=G(n);let f=Nc(r,h,e.serverCache);f==null&&e.serverCache.isCompleteForChild(h)&&(f=a.getImmediateChild(h)),f!=null?c=t.filter.updateChild(a,h,f,se(n),l,s):e.eventCache.getNode().hasChild(h)?c=t.filter.updateChild(a,h,U.EMPTY_NODE,se(n),l,s):c=a,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Do(r,er(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||jo(r,X())!=null,Ri(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new vc(r.getIndex()),s=_C(r);this.processor_=GC(s);const o=n.serverCache,l=n.eventCache,a=i.updateFullNode(U.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(U.EMPTY_NODE,l.getNode(),null),h=new Zn(a,o.isFullyInitialized(),i.filtersNodes()),f=new Zn(c,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=il(f,h),this.eventGenerator_=new kC(this.query_)}get query(){return this.query_}}function tS(t){return t.viewCache_.serverCache.getNode()}function nS(t,e){const n=er(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Q(e)&&!n.getImmediateChild(G(e)).isEmpty())?n.getChild(e):null}function Hf(t){return t.eventRegistrations_.length===0}function rS(t,e){t.eventRegistrations_.push(e)}function Gf(t,e,n){const r=[];if(n){I(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function Yf(t,e,n,r){e.type===kt.MERGE&&e.source.queryId!==null&&(I(er(t.viewCache_),"We should always have a full cache before handling merges"),I(iu(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=QC(t.processor_,i,e,n,r);return YC(t.processor_,s.viewCache),I(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,mg(t,s.changes,s.viewCache.eventCache.getNode(),null)}function iS(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(_e,(s,o)=>{r.push($r(s,o))}),n.isFullyInitialized()&&r.push(sg(n.getNode())),mg(t,r,n.getNode(),e)}function mg(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return NC(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oo;class sS{constructor(){this.views=new Map}}function oS(t){I(!Oo,"__referenceConstructor has already been defined"),Oo=t}function lS(){return I(Oo,"Reference.ts has not been loaded"),Oo}function aS(t){return t.views.size===0}function Ic(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return I(s!=null,"SyncTree gave us an op for an invalid query."),Yf(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(Yf(o,e,n,r));return s}}function uS(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let l=Do(n,i?r:null),a=!1;l?a=!0:r instanceof U?(l=kc(n,r),a=!1):(l=U.EMPTY_NODE,a=!1);const c=il(new Zn(l,a,!1),new Zn(r,i,!1));return new eS(e,c)}return o}function cS(t,e,n,r,i,s){const o=uS(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),rS(o,n),iS(o,n)}function dS(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const l=Rn(t);if(i==="default")for(const[a,c]of t.views.entries())o=o.concat(Gf(c,n,r)),Hf(c)&&(t.views.delete(a),c.query._queryParams.loadsAllData()||s.push(c.query));else{const a=t.views.get(i);a&&(o=o.concat(Gf(a,n,r)),Hf(a)&&(t.views.delete(i),a.query._queryParams.loadsAllData()||s.push(a.query)))}return l&&!Rn(t)&&s.push(new(lS())(e._repo,e._path)),{removed:s,events:o}}function gg(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function jr(t,e){let n=null;for(const r of t.views.values())n=n||nS(r,e);return n}function yg(t,e){if(e._queryParams.loadsAllData())return sl(t);{const r=e._queryIdentifier;return t.views.get(r)}}function _g(t,e){return yg(t,e)!=null}function Rn(t){return sl(t)!=null}function sl(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bo;function fS(t){I(!bo,"__referenceConstructor has already been defined"),bo=t}function hS(){return I(bo,"Reference.ts has not been loaded"),bo}let pS=1;class Qf{constructor(e){this.listenProvider_=e,this.syncPointTree_=new re(null),this.pendingWriteTree_=BC(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function vg(t,e,n,r,i){return RC(t.pendingWriteTree_,e,n,r,i),i?Zr(t,new Jn(Cc(),e,n)):[]}function mS(t,e,n,r){AC(t.pendingWriteTree_,e,n,r);const i=re.fromObject(n);return Zr(t,new Vr(Cc(),e,i))}function mn(t,e,n=!1){const r=DC(t.pendingWriteTree_,e);if(jC(t.pendingWriteTree_,e)){let s=new re(null);return r.snap!=null?s=s.set(X(),!0):ze(r.children,o=>{s=s.set(new ne(o),!0)}),Zr(t,new Ao(r.path,s,n))}else return[]}function ol(t,e,n){return Zr(t,new Jn(Sc(),e,n))}function gS(t,e,n){const r=re.fromObject(n);return Zr(t,new Vr(Sc(),e,r))}function yS(t,e){return Zr(t,new is(Sc(),e))}function _S(t,e,n){const r=Rc(t,n);if(r){const i=Ac(r),s=i.path,o=i.queryId,l=et(s,e),a=new is(Ec(o),l);return Dc(t,s,a)}else return[]}function cu(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let l=[];if(o&&(e._queryIdentifier==="default"||_g(o,e))){const a=dS(o,e,n,r);aS(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const c=a.removed;if(l=a.events,!i){const h=c.findIndex(d=>d._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(s,(d,y)=>Rn(y));if(h&&!f){const d=t.syncPointTree_.subtree(s);if(!d.isEmpty()){const y=CS(d);for(let v=0;v<y.length;++v){const w=y[v],S=w.query,g=Sg(t,w);t.listenProvider_.startListening(Di(S),Mo(t,S),g.hashFn,g.onComplete)}}}!f&&c.length>0&&!r&&(h?t.listenProvider_.stopListening(Di(e),null):c.forEach(d=>{const y=t.queryToTagMap.get(ll(d));t.listenProvider_.stopListening(Di(d),y)}))}SS(t,c)}return l}function vS(t,e,n,r){const i=Rc(t,r);if(i!=null){const s=Ac(i),o=s.path,l=s.queryId,a=et(o,e),c=new Jn(Ec(l),a,n);return Dc(t,o,c)}else return[]}function wS(t,e,n,r){const i=Rc(t,r);if(i){const s=Ac(i),o=s.path,l=s.queryId,a=et(o,e),c=re.fromObject(n),h=new Vr(Ec(l),a,c);return Dc(t,o,h)}else return[]}function Kf(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(d,y)=>{const v=et(d,i);s=s||jr(y,v),o=o||Rn(y)});let l=t.syncPointTree_.get(i);l?(o=o||Rn(l),s=s||jr(l,X())):(l=new sS,t.syncPointTree_=t.syncPointTree_.set(i,l));let a;s!=null?a=!0:(a=!1,s=U.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((y,v)=>{const w=jr(v,X());w&&(s=s.updateImmediateChild(y,w))}));const c=_g(l,e);if(!c&&!e._queryParams.loadsAllData()){const d=ll(e);I(!t.queryToTagMap.has(d),"View does not exist, but we have a tag");const y=ES();t.queryToTagMap.set(d,y),t.tagToQueryMap.set(y,d)}const h=xc(t.pendingWriteTree_,i);let f=cS(l,e,n,h,s,a);if(!c&&!o&&!r){const d=yg(l,e);f=f.concat(xS(t,e,d))}return f}function Pc(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,l)=>{const a=et(o,e),c=jr(l,a);if(c)return c});return cg(i,e,s,n,!0)}function Zr(t,e){return wg(e,t.syncPointTree_,null,xc(t.pendingWriteTree_,X()))}function wg(t,e,n,r){if(Q(t.path))return Cg(t,e,n,r);{const i=e.get(X());n==null&&i!=null&&(n=jr(i,X()));let s=[];const o=G(t.path),l=t.operationForChild(o),a=e.children.get(o);if(a&&l){const c=n?n.getImmediateChild(o):null,h=dg(r,o);s=s.concat(wg(l,a,c,h))}return i&&(s=s.concat(Ic(i,t,r,n))),s}}function Cg(t,e,n,r){const i=e.get(X());n==null&&i!=null&&(n=jr(i,X()));let s=[];return e.children.inorderTraversal((o,l)=>{const a=n?n.getImmediateChild(o):null,c=dg(r,o),h=t.operationForChild(o);h&&(s=s.concat(Cg(h,l,a,c)))}),i&&(s=s.concat(Ic(i,t,r,n))),s}function Sg(t,e){const n=e.query,r=Mo(t,n);return{hashFn:()=>(tS(e)||U.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?_S(t,n._path,r):yS(t,n._path);{const s=gw(i,n);return cu(t,n,null,s)}}}}function Mo(t,e){const n=ll(e);return t.queryToTagMap.get(n)}function ll(t){return t._path.toString()+"$"+t._queryIdentifier}function Rc(t,e){return t.tagToQueryMap.get(e)}function Ac(t){const e=t.indexOf("$");return I(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ne(t.substr(0,e))}}function Dc(t,e,n){const r=t.syncPointTree_.get(e);I(r,"Missing sync point for query tag that we're tracking");const i=xc(t.pendingWriteTree_,e);return Ic(r,n,i,null)}function CS(t){return t.fold((e,n,r)=>{if(n&&Rn(n))return[sl(n)];{let i=[];return n&&(i=gg(n)),ze(r,(s,o)=>{i=i.concat(o)}),i}})}function Di(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(hS())(t._repo,t._path):t}function SS(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=ll(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function ES(){return pS++}function xS(t,e,n){const r=e._path,i=Mo(t,e),s=Sg(t,n),o=t.listenProvider_.startListening(Di(e),i,s.hashFn,s.onComplete),l=t.syncPointTree_.subtree(r);if(i)I(!Rn(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((c,h,f)=>{if(!Q(c)&&h&&Rn(h))return[sl(h).query];{let d=[];return h&&(d=d.concat(gg(h).map(y=>y.query))),ze(f,(y,v)=>{d=d.concat(v)}),d}});for(let c=0;c<a.length;++c){const h=a[c];t.listenProvider_.stopListening(Di(h),Mo(t,h))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new jc(n)}node(){return this.node_}}class Lc{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=ye(this.path_,e);return new Lc(this.syncTree_,n)}node(){return Pc(this.syncTree_,this.path_)}}const kS=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},qf=function(t,e,n){if(!t||typeof t!="object")return t;if(I(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return NS(t[".sv"],e,n);if(typeof t[".sv"]=="object")return TS(t[".sv"],e);I(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},NS=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:I(!1,"Unexpected server value: "+t)}},TS=function(t,e,n){t.hasOwnProperty("increment")||I(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&I(!1,"Unexpected increment value: "+r);const i=e.node();if(I(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},Eg=function(t,e,n,r){return Oc(e,new Lc(n,t),r)},xg=function(t,e,n){return Oc(t,new jc(e),n)};function Oc(t,e,n){const r=t.getPriority().val(),i=qf(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,l=qf(o.getValue(),e,n);return l!==o.getValue()||i!==o.getPriority().val()?new Re(l,je(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Re(i))),o.forEachChild(_e,(l,a)=>{const c=Oc(a,e.getImmediateChild(l),n);c!==a&&(s=s.updateImmediateChild(l,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Mc(t,e){let n=e instanceof ne?e:new ne(e),r=t,i=G(n);for(;i!==null;){const s=Ur(r.node.children,i)||{children:{},childCount:0};r=new bc(i,r,s),n=se(n),i=G(n)}return r}function ei(t){return t.node.value}function kg(t,e){t.node.value=e,du(t)}function Ng(t){return t.node.childCount>0}function IS(t){return ei(t)===void 0&&!Ng(t)}function al(t,e){ze(t.node.children,(n,r)=>{e(new bc(n,t,r))})}function Tg(t,e,n,r){n&&e(t),al(t,i=>{Tg(i,e,!0)})}function PS(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function gs(t){return new ne(t.parent===null?t.name:gs(t.parent)+"/"+t.name)}function du(t){t.parent!==null&&RS(t.parent,t.name,t)}function RS(t,e,n){const r=IS(n),i=Wt(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,du(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,du(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS=/[\[\].#$\/\u0000-\u001F\u007F]/,DS=/[\[\].#$\u0000-\u001F\u007F]/,Xl=10*1024*1024,Fc=function(t){return typeof t=="string"&&t.length!==0&&!AS.test(t)},Ig=function(t){return typeof t=="string"&&t.length!==0&&!DS.test(t)},jS=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Ig(t)},LS=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!cc(t)||t&&typeof t=="object"&&Wt(t,".sv")},Pg=function(t,e,n,r){r&&e===void 0||ul(tl(t,"value"),e,n)},ul=function(t,e,n){const r=n instanceof ne?new qw(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Wn(r));if(typeof e=="function")throw new Error(t+"contains a function "+Wn(r)+" with contents = "+e.toString());if(cc(e))throw new Error(t+"contains "+e.toString()+" "+Wn(r));if(typeof e=="string"&&e.length>Xl/3&&nl(e)>Xl)throw new Error(t+"contains a string greater than "+Xl+" utf8 bytes "+Wn(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(ze(e,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!Fc(o)))throw new Error(t+" contains an invalid key ("+o+") "+Wn(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Xw(r,o),ul(t,l,r),Jw(r)}),i&&s)throw new Error(t+' contains ".value" child '+Wn(r)+" in addition to actual children.")}},OS=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=es(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!Fc(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(Kw);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&gt(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},bS=function(t,e,n,r){const i=tl(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];ze(e,(o,l)=>{const a=new ne(o);if(ul(i,l,ye(n,a)),mc(a)===".priority"&&!LS(l))throw new Error(i+"contains an invalid value for '"+a.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(a)}),OS(i,s)},Rg=function(t,e,n,r){if(!Ig(n))throw new Error(tl(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},MS=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Rg(t,e,n)},Ag=function(t,e){if(G(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},FS=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Fc(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!jS(n))throw new Error(tl(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function cl(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!gc(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function Dg(t,e,n){cl(t,n),jg(t,r=>gc(r,e))}function Rt(t,e,n){cl(t,n),jg(t,r=>gt(r,e)||gt(e,r))}function jg(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(zS(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function zS(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Ii&&Me("event: "+n.toString()),Jr(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US="repo_interrupt",BS=25;class $S{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new WS,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ro(),this.transactionQueueTree_=new bc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function VS(t,e,n){if(t.stats_=hc(t.repoInfo_),t.forceRestClient_||ww())t.server_=new Po(t.repoInfo_,(r,i,s,o)=>{Xf(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Jf(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Le(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Qt(t.repoInfo_,e,(r,i,s,o)=>{Xf(t,r,i,s,o)},r=>{Jf(t,r)},r=>{HS(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=kw(t.repoInfo_,()=>new xC(t.stats_,t.server_)),t.infoData_=new vC,t.infoSyncTree_=new Qf({startListening:(r,i,s,o)=>{let l=[];const a=t.infoData_.getNode(r._path);return a.isEmpty()||(l=ol(t.infoSyncTree_,r._path,a),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),Wc(t,"connected",!1),t.serverSyncTree_=new Qf({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(l,a)=>{const c=o(l,a);Rt(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function Lg(t){const n=t.infoData_.getNode(new ne(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function dl(t){return kS({timestamp:Lg(t)})}function Xf(t,e,n,r,i){t.dataUpdateCount++;const s=new ne(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const a=Eo(n,c=>je(c));o=wS(t.serverSyncTree_,s,a,i)}else{const a=je(n);o=vS(t.serverSyncTree_,s,a,i)}else if(r){const a=Eo(n,c=>je(c));o=gS(t.serverSyncTree_,s,a)}else{const a=je(n);o=ol(t.serverSyncTree_,s,a)}let l=s;o.length>0&&(l=Gr(t,s)),Rt(t.eventQueue_,l,o)}function Jf(t,e){Wc(t,"connected",e),e===!1&&QS(t)}function HS(t,e){ze(e,(n,r)=>{Wc(t,n,r)})}function Wc(t,e,n){const r=new ne("/.info/"+e),i=je(n);t.infoData_.updateSnapshot(r,i);const s=ol(t.infoSyncTree_,r,i);Rt(t.eventQueue_,r,s)}function zc(t){return t.nextWriteId_++}function GS(t,e,n,r,i){fl(t,"set",{path:e.toString(),value:n,priority:r});const s=dl(t),o=je(n,r),l=Pc(t.serverSyncTree_,e),a=xg(o,l,s),c=zc(t),h=vg(t.serverSyncTree_,e,a,c,!0);cl(t.eventQueue_,h),t.server_.put(e.toString(),o.val(!0),(d,y)=>{const v=d==="ok";v||Qe("set at "+e+" failed: "+d);const w=mn(t.serverSyncTree_,c,!v);Rt(t.eventQueue_,e,w),fu(t,i,d,y)});const f=Bc(t,e);Gr(t,f),Rt(t.eventQueue_,f,[])}function YS(t,e,n,r){fl(t,"update",{path:e.toString(),value:n});let i=!0;const s=dl(t),o={};if(ze(n,(l,a)=>{i=!1,o[l]=Eg(ye(e,l),je(a),t.serverSyncTree_,s)}),i)Me("update() called with empty data.  Don't do anything."),fu(t,r,"ok",void 0);else{const l=zc(t),a=mS(t.serverSyncTree_,e,o,l);cl(t.eventQueue_,a),t.server_.merge(e.toString(),n,(c,h)=>{const f=c==="ok";f||Qe("update at "+e+" failed: "+c);const d=mn(t.serverSyncTree_,l,!f),y=d.length>0?Gr(t,e):e;Rt(t.eventQueue_,y,d),fu(t,r,c,h)}),ze(n,c=>{const h=Bc(t,ye(e,c));Gr(t,h)}),Rt(t.eventQueue_,e,[])}}function QS(t){fl(t,"onDisconnectEvents");const e=dl(t),n=Ro();ru(t.onDisconnect_,X(),(i,s)=>{const o=Eg(i,s,t.serverSyncTree_,e);og(n,i,o)});let r=[];ru(n,X(),(i,s)=>{r=r.concat(ol(t.serverSyncTree_,i,s));const o=Bc(t,i);Gr(t,o)}),t.onDisconnect_=Ro(),Rt(t.eventQueue_,X(),r)}function KS(t,e,n){let r;G(e._path)===".info"?r=Kf(t.infoSyncTree_,e,n):r=Kf(t.serverSyncTree_,e,n),Dg(t.eventQueue_,e._path,r)}function qS(t,e,n){let r;G(e._path)===".info"?r=cu(t.infoSyncTree_,e,n):r=cu(t.serverSyncTree_,e,n),Dg(t.eventQueue_,e._path,r)}function XS(t){t.persistentConnection_&&t.persistentConnection_.interrupt(US)}function fl(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Me(n,...e)}function fu(t,e,n,r){e&&Jr(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function Og(t,e,n){return Pc(t.serverSyncTree_,e,n)||U.EMPTY_NODE}function Uc(t,e=t.transactionQueueTree_){if(e||hl(t,e),ei(e)){const n=Mg(t,e);I(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&JS(t,gs(e),n)}else Ng(e)&&al(e,n=>{Uc(t,n)})}function JS(t,e,n){const r=n.map(c=>c.currentWriteId),i=Og(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const h=n[c];I(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const f=et(e,h.path);s=s.updateChild(f,h.currentOutputSnapshotRaw)}const l=s.val(!0),a=e;t.server_.put(a.toString(),l,c=>{fl(t,"transaction put response",{path:a.toString(),status:c});let h=[];if(c==="ok"){const f=[];for(let d=0;d<n.length;d++)n[d].status=2,h=h.concat(mn(t.serverSyncTree_,n[d].currentWriteId)),n[d].onComplete&&f.push(()=>n[d].onComplete(null,!0,n[d].currentOutputSnapshotResolved)),n[d].unwatcher();hl(t,Mc(t.transactionQueueTree_,e)),Uc(t,t.transactionQueueTree_),Rt(t.eventQueue_,e,h);for(let d=0;d<f.length;d++)Jr(f[d])}else{if(c==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{Qe("transaction at "+a.toString()+" failed: "+c);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=c}Gr(t,e)}},o)}function Gr(t,e){const n=bg(t,e),r=gs(n),i=Mg(t,n);return ZS(t,i,r),r}function ZS(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const a=e[l],c=et(n,a.path);let h=!1,f;if(I(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)h=!0,f=a.abortReason,i=i.concat(mn(t.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=BS)h=!0,f="maxretry",i=i.concat(mn(t.serverSyncTree_,a.currentWriteId,!0));else{const d=Og(t,a.path,o);a.currentInputSnapshot=d;const y=e[l].update(d.val());if(y!==void 0){ul("transaction failed: Data returned ",y,a.path);let v=je(y);typeof y=="object"&&y!=null&&Wt(y,".priority")||(v=v.updatePriority(d.getPriority()));const S=a.currentWriteId,g=dl(t),p=xg(v,d,g);a.currentOutputSnapshotRaw=v,a.currentOutputSnapshotResolved=p,a.currentWriteId=zc(t),o.splice(o.indexOf(S),1),i=i.concat(vg(t.serverSyncTree_,a.path,p,a.currentWriteId,a.applyLocally)),i=i.concat(mn(t.serverSyncTree_,S,!0))}else h=!0,f="nodata",i=i.concat(mn(t.serverSyncTree_,a.currentWriteId,!0))}Rt(t.eventQueue_,n,i),i=[],h&&(e[l].status=2,function(d){setTimeout(d,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(f==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(f),!1,null))))}hl(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)Jr(r[l]);Uc(t,t.transactionQueueTree_)}function bg(t,e){let n,r=t.transactionQueueTree_;for(n=G(e);n!==null&&ei(r)===void 0;)r=Mc(r,n),e=se(e),n=G(e);return r}function Mg(t,e){const n=[];return Fg(t,e,n),n.sort((r,i)=>r.order-i.order),n}function Fg(t,e,n){const r=ei(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);al(e,i=>{Fg(t,i,n)})}function hl(t,e){const n=ei(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,kg(e,n.length>0?n:void 0)}al(e,r=>{hl(t,r)})}function Bc(t,e){const n=gs(bg(t,e)),r=Mc(t.transactionQueueTree_,e);return PS(r,i=>{Jl(t,i)}),Jl(t,r),Tg(r,i=>{Jl(t,i)}),n}function Jl(t,e){const n=ei(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(I(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(I(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(mn(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?kg(e,void 0):n.length=s+1,Rt(t.eventQueue_,gs(e),i);for(let o=0;o<r.length;o++)Jr(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function tE(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Qe(`Invalid query segment '${n}' in query '${t}'`)}return e}const Zf=function(t,e){const n=nE(t),r=n.namespace;n.domain==="firebase.com"&&en(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&en("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||dw();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new $m(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new ne(n.pathString)}},nE=function(t){let e="",n="",r="",i="",s="",o=!0,l="https",a=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(l=t.substring(0,c-1),t=t.substring(c+2));let h=t.indexOf("/");h===-1&&(h=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(h,f)),h<f&&(i=eE(t.substring(h,f)));const d=tE(t.substring(Math.min(t.length,f)));c=e.indexOf(":"),c>=0?(o=l==="https"||l==="wss",a=parseInt(e.substring(c+1),10)):c=e.length;const y=e.slice(0,c);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{const v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),s=r}"ns"in d&&(s=d.ns)}return{host:e,port:a,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",rE=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=eh.charAt(n%64),n=Math.floor(n/64);I(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=eh.charAt(e[i]);return I(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Le(this.snapshot.exportVal())}}class sE{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return I(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Q(this._path)?null:mc(this._path)}get ref(){return new Ln(this._repo,this._path)}get _queryIdentifier(){const e=Ff(this._queryParams),n=dc(e);return n==="{}"?"default":n}get _queryObject(){return Ff(this._queryParams)}isEqual(e){if(e=Xr(e),!(e instanceof $c))return!1;const n=this._repo===e._repo,r=gc(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Qw(this._path)}}class Ln extends $c{constructor(e,n){super(e,n,new wc,!1)}get parent(){const e=Jm(this._path);return e===null?null:new Ln(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Fo{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new ne(e),r=ss(this.ref,e);return new Fo(this._node.getChild(n),r,_e)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Fo(i,ss(this.ref,r),_e)))}hasChild(e){const n=new ne(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ke(t,e){return t=Xr(t),t._checkNotDeleted("ref"),e!==void 0?ss(t._root,e):t._root}function ss(t,e){return t=Xr(t),G(t._path)===null?MS("child","path",e):Rg("child","path",e),new Ln(t._repo,ye(t._path,e))}function lE(t,e){t=Xr(t),Ag("push",t._path),Pg("push",e,t._path,!0);const n=Lg(t._repo),r=rE(n),i=ss(t,r),s=ss(t,r);let o;return e!=null?o=Lt(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function Lt(t,e){t=Xr(t),Ag("set",t._path),Pg("set",e,t._path,!1);const n=new ds;return GS(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function aE(t,e){bS("update",e,t._path);const n=new ds;return YS(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}class Vc{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new iE("value",this,new Fo(e.snapshotNode,new Ln(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new sE(this,e,n):null}matches(e){return e instanceof Vc?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function uE(t,e,n,r,i){const s=new oE(n,void 0),o=new Vc(s);return KS(t._repo,t,o),()=>qS(t._repo,t,o)}function on(t,e,n,r){return uE(t,"value",e)}oS(Ln);fS(Ln);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="FIREBASE_DATABASE_EMULATOR_HOST",hu={};let dE=!1;function fE(t,e,n,r){t.repoInfo_=new $m(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function hE(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||en("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Me("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Zf(s,i),l=o.repoInfo,a;typeof process<"u"&&wf&&(a=wf[cE]),a?(s=`http://${a}?ns=${l.namespace}`,o=Zf(s,i),l=o.repoInfo):o.repoInfo.secure;const c=new Sw(t.name,t.options,e);FS("Invalid Firebase Database URL",o),Q(o.path)||en("Database URL must point to the root of a Firebase Database (not including a child path).");const h=mE(l,t,c,new Cw(t.name,n));return new gE(h,t)}function pE(t,e){const n=hu[e];(!n||n[t.key]!==t)&&en(`Database ${e}(${t.repoInfo_}) has already been deleted.`),XS(t),delete n[t.key]}function mE(t,e,n,r){let i=hu[e.name];i||(i={},hu[e.name]=i);let s=i[t.toURLString()];return s&&en("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new $S(t,dE,n,r),i[t.toURLString()]=s,s}class gE{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(VS(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ln(this._repo,X())),this._rootInternal}_delete(){return this._rootInternal!==null&&(pE(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&en("Cannot call "+e+" on a deleted database.")}}function yE(t=Y0(),e){const n=$0(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=Dv("database");r&&_E(n,...r)}return n}function _E(t,e,n,r={}){t=Xr(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&en("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&en('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new qs(qs.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:jv(r.mockUserToken,t.app.options.projectId);s=new qs(o)}fE(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(t){sw(G0),ko(new Xi("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return hE(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Rr(Cf,Sf,t),Rr(Cf,Sf,"esm2017")}Qt.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Qt.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};vE();function wE({allPicks:t,actualScores:e,currentWeek:n}){const r=(c,h,f)=>{if(!c||!h||!h[f])return 0;let d=0;const y=h[f];return Object.keys(c).forEach(v=>{const w=c[v],S=y[v];if(!w||!S)return;const g=parseInt(w.team1),p=parseInt(w.team2),_=parseInt(S.team1),E=parseInt(S.team2);if(isNaN(g)||isNaN(p)||isNaN(_)||isNaN(E))return;const T=g>p?"team1":p>g?"team2":"tie",k=_>E?"team1":E>_?"team2":"tie";T===k&&k!=="tie"&&d++}),d},i=(c,h,f)=>{if(!c||!h||!h[f])return null;let d=0,y=0;const v=h[f];return Object.keys(c).forEach(w=>{const S=c[w],g=v[w];if(!S||!g)return;const p=parseInt(S.team1),_=parseInt(S.team2),E=parseInt(g.team1),T=parseInt(g.team2);isNaN(p)||isNaN(_)||isNaN(E)||isNaN(T)||(d+=p+_,y+=E+T)}),Math.abs(d-y)},s=(c,h,f)=>{let d=0,y=0;return f.forEach(v=>{const w=c[v];if(w){d+=r(w,h,v);const S=i(w,h,v);S!==null&&(y+=S)}}),{correctWinners:d,pointsDifference:y}},o={wildcard:"Week 1",divisional:"Week 2",conference:"Week 3",superbowl:"Week 4"},l=W.useMemo(()=>{const c={};return t.forEach(h=>{const f=h.playerName;c[f]||(c[f]={wildcard:null,divisional:null,conference:null,superbowl:null}),c[f][h.week]=h.predictions}),c},[t]),a=W.useMemo(()=>{const c=[],h=["wildcard","divisional","conference","superbowl"];h.slice(0,3).forEach((S,g)=>{const p=o[S],_=Object.entries(l).map(([T,k])=>({playerName:T,score:r(k[S],e,S)})).filter(T=>T.score>0).sort((T,k)=>k.score-T.score);c.push({prizeNumber:g*2+1,name:`${p} - Most Correct Winners`,week:S,type:"correctWinners",leaders:_.slice(0,5)});const E=Object.entries(l).map(([T,k])=>({playerName:T,score:i(k[S],e,S)})).filter(T=>T.score!==null).sort((T,k)=>T.score-k.score);c.push({prizeNumber:g*2+2,name:`${p} - Closest Total Points`,week:S,type:"pointsDifference",leaders:E.slice(0,5)})});const f="superbowl",d=Object.entries(l).map(([S,g])=>({playerName:S,score:r(g[f],e,f)})).filter(S=>S.score>0).sort((S,g)=>g.score-S.score);c.push({prizeNumber:7,name:"Week 4 - Most Correct Winners",week:f,type:"correctWinners",leaders:d.slice(0,5)});const y=Object.entries(l).map(([S,g])=>({playerName:S,score:i(g[f],e,f)})).filter(S=>S.score!==null).sort((S,g)=>S.score-g.score);c.push({prizeNumber:8,name:"Week 4 - Closest Total Points",week:f,type:"pointsDifference",leaders:y.slice(0,5)});const v=Object.entries(l).map(([S,g])=>{const p=s(g,e,h);return{playerName:S,score:p.correctWinners}}).filter(S=>S.score>0).sort((S,g)=>g.score-S.score);c.push({prizeNumber:9,name:"Cumulative (All 4 Weeks) - Most Correct Winners",week:"all",type:"correctWinners",leaders:v.slice(0,5)});const w=Object.entries(l).map(([S,g])=>{const p=s(g,e,h);return{playerName:S,score:p.pointsDifference}}).filter(S=>S.score!==null&&S.score>=0).sort((S,g)=>S.score-g.score);return c.push({prizeNumber:10,name:"Cumulative (All 4 Weeks) - Closest Total Points",week:"all",type:"pointsDifference",leaders:w.slice(0,5)}),c},[l,e]);return u.jsx("div",{className:"standings-page",children:u.jsxs("div",{className:"container",children:[u.jsx("h1",{className:"standings-title",children:" Standings & Prize Leaders"}),u.jsx("div",{className:"prizes-grid",children:a.map(c=>u.jsxs("div",{className:"prize-card",children:[u.jsxs("div",{className:"prize-header",children:[u.jsxs("div",{className:"prize-number",children:["Prize #",c.prizeNumber]}),u.jsx("div",{className:"prize-name",children:c.name})]}),u.jsx("div",{className:"prize-leaders",children:c.leaders.length===0?u.jsx("div",{className:"no-data",children:"No data available yet"}):u.jsxs("table",{className:"leaders-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Rank"}),u.jsx("th",{children:"Player"}),u.jsx("th",{children:c.type==="correctWinners"?"Correct":"Difference"})]})}),u.jsx("tbody",{children:c.leaders.map((h,f)=>{const d=f>0&&h.score===c.leaders[f-1].score,y=d?"=":f+1;return u.jsxs("tr",{className:f===0&&!d?"leader-first":"",children:[u.jsx("td",{className:"rank",children:y}),u.jsx("td",{className:"player-name",children:h.playerName}),u.jsx("td",{className:"score",children:c.type==="correctWinners"?`${h.score} correct`:`${h.score} pts`})]},f)})})]})})]},c.prizeNumber))}),u.jsx("div",{className:"standings-note",children:u.jsxs("p",{children:[u.jsx("strong",{children:"Note:"}),' Tied players are shown with "=" rank. Pool Manager will resolve ties manually using Excel if needed for prize distribution.']})})]})})}function CE({currentWeek:t,games:e,actualScores:n,teamCodes:r,onScoresFetched:i,onGameLockToggle:s,gameLocks:o,espnAutoRefresh:l}){const[a,c]=W.useState(!1),[h,f]=W.useState(null),[d,y]=W.useState(null),[v,w]=W.useState(!1),[S,g]=W.useState(!1),p=async()=>{if(!(a||S)){c(!0),y({type:"loading",message:"Fetching scores from ESPN..."});try{await i(),f(new Date),y({type:"success",message:"Scores updated successfully!"}),setTimeout(()=>y(null),3e3)}catch(P){y({type:"error",message:`Error: ${P.message}`})}finally{c(!1)}}},_=()=>{v?(l.stop(),w(!1),y({type:"info",message:"Auto-refresh stopped"})):(l.start(),w(!0),y({type:"info",message:"Auto-refresh started (every 5 minutes)"})),setTimeout(()=>y(null),3e3)},E=()=>{S?(g(!1),y({type:"info",message:"API resumed - fetching enabled"})):(g(!0),v&&(l.stop(),w(!1)),y({type:"warning",message:"API paused - all fetching disabled"})),setTimeout(()=>y(null),3e3)},T=P=>{var A;return((A=o==null?void 0:o[t])==null?void 0:A[P])===!0},k=P=>{var A,Z;return((Z=(A=n==null?void 0:n[t])==null?void 0:A[P])==null?void 0:Z.source)==="espn"};return u.jsxs("div",{className:"espn-controls",children:[u.jsxs("div",{className:"espn-header",children:[u.jsx("h3",{children:" ESPN API Controls"}),u.jsxs("div",{className:"espn-status-badges",children:[S&&u.jsx("span",{className:"status-badge paused",children:" API PAUSED"}),v&&!S&&u.jsx("span",{className:"status-badge active",children:" AUTO-REFRESH ON"}),h&&u.jsxs("span",{className:"status-badge info",children:["Last fetch: ",h.toLocaleTimeString()]})]})]}),u.jsxs("div",{className:"espn-global-controls",children:[u.jsx("button",{className:"espn-btn fetch-now",onClick:p,disabled:a||S,children:a?" Fetching...":" Fetch Scores Now"}),u.jsx("button",{className:`espn-btn auto-refresh ${v?"active":""}`,onClick:_,disabled:S,children:v?" Stop Auto-Refresh":" Start Auto-Refresh (5 min)"}),u.jsx("button",{className:`espn-btn pause-api ${S?"paused":""}`,onClick:E,children:S?" Resume API":" Pause API"})]}),d&&u.jsx("div",{className:`fetch-status ${d.type}`,children:d.message}),u.jsxs("div",{className:"game-overrides",children:[u.jsx("h4",{children:"Game Override Controls"}),u.jsxs("p",{className:"override-info",children:[" Lock = Manual entry only (ignore API)",u.jsx("br",{})," Unlock = Auto-update from ESPN API"]}),u.jsx("div",{className:"game-override-list",children:e.map(P=>{var At,sr,or,Dt,dt;const A=T(P.id),Z=k(P.id),$=(At=n==null?void 0:n[t])==null?void 0:At[P.id],Ue=((or=(sr=r==null?void 0:r[t])==null?void 0:sr[P.id])==null?void 0:or.team1)||P.team1,zt=((dt=(Dt=r==null?void 0:r[t])==null?void 0:Dt[P.id])==null?void 0:dt.team2)||P.team2;return u.jsxs("div",{className:"game-override-item",children:[u.jsxs("div",{className:"game-info",children:[u.jsxs("span",{className:"game-matchup",children:[Ue," vs ",zt]}),$&&u.jsxs("span",{className:"game-scores",children:[n[t][P.id].team1," - ",n[t][P.id].team2]})]}),u.jsxs("div",{className:"game-status-badges",children:[Z&&!A&&u.jsx("span",{className:"game-badge api",children:" From API"}),A&&u.jsx("span",{className:"game-badge manual",children:" Manual Entry"}),!$&&u.jsx("span",{className:"game-badge no-score",children:"No Score"})]}),u.jsx("button",{className:`lock-btn ${A?"locked":"unlocked"}`,onClick:()=>s(P.id),title:A?"Unlock to allow API updates":"Lock to prevent API updates",children:A?" Locked":" Unlocked"})]},P.id)})})]}),u.jsxs("div",{className:"espn-help",children:[u.jsx("h4",{children:" How It Works:"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Fetch Now:"})," Manually fetch latest scores from ESPN"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Auto-Refresh:"})," Automatically fetch every 5 minutes"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Pause API:"})," Stop all API fetching (use manual entry only)"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Lock Game:"})," Prevent API from overwriting your manual score for that game"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Unlock Game:"})," Allow API to update score automatically"]})]}),u.jsxs("p",{className:"help-note",children:[u.jsx("strong",{children:"Tip:"})," Lock a game if you need to manually correct a score that ESPN has wrong."]})]})]})}const SE="https://site.api.espn.com/apis/site/v2/sports/football/nfl";async function EE(){try{const t=await fetch(`${SE}/scoreboard`);if(!t.ok)throw new Error(`ESPN API error: ${t.status}`);const e=await t.json();return xE(e)}catch(t){return console.error("Error fetching ESPN scores:",t),{success:!1,error:t.message,games:[]}}}function xE(t){return!t.events||t.events.length===0?{success:!0,games:[],message:"No games currently available"}:{success:!0,games:t.events.map(n=>{const r=n.competitions[0],i=r.status,s=r.competitors,o=s.find(v=>v.homeAway==="away"),l=s.find(v=>v.homeAway==="home"),a=o.team.abbreviation,c=l.team.abbreviation,h=parseInt(o.score)||0,f=parseInt(l.score)||0,d=kE(i);return{espnGameId:n.id,awayTeam:{abbreviation:a,fullName:o.team.displayName,score:h},homeTeam:{abbreviation:c,fullName:l.team.displayName,score:f},status:d.status,statusText:d.text,period:d.period,clock:d.clock,isFinal:d.isFinal,isLive:d.isLive,isScheduled:d.isScheduled,startTime:n.date,lastUpdated:new Date().toISOString()}}),fetchedAt:new Date().toISOString()}}function kE(t){const e=t.type.name,n=t.period,r=t.displayClock,i=t.type.detail;let s="scheduled",o=i,l=!1,a=!1,c=!1;return e==="STATUS_SCHEDULED"?(s="scheduled",o="Scheduled",c=!0):e==="STATUS_IN_PROGRESS"?(s="live",l=!0,n===1?o=`1st Quarter - ${r}`:n===2?o=`2nd Quarter - ${r}`:n===3?o=`3rd Quarter - ${r}`:n===4?o=`4th Quarter - ${r}`:n>4&&(o=`OT ${n-4} - ${r}`)):e==="STATUS_HALFTIME"?(s="halftime",o="Halftime",l=!0):e==="STATUS_END_PERIOD"?(s="live",o=`End of ${n===1?"1st":n===2?"2nd":n===3?"3rd":"4th"} Quarter`,l=!0):(e==="STATUS_FINAL"||e==="STATUS_FINAL_OVERTIME")&&(s="final",a=!0,e==="STATUS_FINAL_OVERTIME"?o=n>4?`Final/OT${n-4}`:"Final/OT":o="Final"),{status:s,text:o,period:n,clock:r||"",isLive:l,isFinal:a,isScheduled:c}}function NE(t,e,n,r){if(!r||!r[n])return null;const i=e[n].games,s=r[n];for(const o of i){const l=s[o.id];if(!l)continue;const a=l.team1===t.awayTeam.abbreviation||l.team1===t.homeTeam.abbreviation,c=l.team2===t.awayTeam.abbreviation||l.team2===t.homeTeam.abbreviation;if(a&&c){const h=l.team1===t.awayTeam.abbreviation;return{gameId:o.id,team1Score:h?t.awayTeam.score:t.homeTeam.score,team2Score:h?t.homeTeam.score:t.awayTeam.score,status:t.status,statusText:t.statusText,period:t.period,clock:t.clock,isFinal:t.isFinal,isLive:t.isLive,espnGameId:t.espnGameId}}}return null}class TE{constructor(e,n=5){this.onFetch=e,this.intervalMinutes=n,this.intervalId=null,this.isRunning=!1}start(){if(this.isRunning){console.log("Auto-refresh already running");return}console.log(`Starting auto-refresh every ${this.intervalMinutes} minutes`),this.isRunning=!0,this.onFetch(),this.intervalId=setInterval(()=>{console.log("Auto-fetching ESPN scores..."),this.onFetch()},this.intervalMinutes*60*1e3)}stop(){if(!this.isRunning){console.log("Auto-refresh not running");return}console.log("Stopping auto-refresh"),clearInterval(this.intervalId),this.intervalId=null,this.isRunning=!1}isActive(){return this.isRunning}setInterval(e){this.intervalMinutes=e,this.isRunning&&(this.stop(),this.start())}}const IE={wildcard:{name:"Week 1 - Wildcard Round",shortName:"Wildcard",deadline:"Fri Jan 10, 11:59 PM PST",number:1},divisional:{name:"Week 2 - Divisional Round",shortName:"Divisional",deadline:"Fri Jan 17, 11:59 PM PST",number:2},conference:{name:"Week 3 - Conference Championships",shortName:"Conference",deadline:"Fri Jan 24, 11:59 PM PST",number:3},superbowl:{name:"Week 4 - Super Bowl LIX",shortName:"Super Bowl",deadline:"Sun Feb 9, 3:30 PM PT",number:4}};function PE(t,e,n,r){return n?{icon:"",text:"LOCKED",color:"gray",className:"locked"}:r?{icon:"",text:"EDITING NOW",color:"purple",className:"editing"}:e&&e.complete?{icon:"",text:"ALL PICKS SAVED",color:"green",className:"saved"}:{icon:"",text:"READY TO PICK",color:"blue",className:"ready"}}function RE({currentWeek:t,onWeekChange:e,weekPicks:n={},weekLockStatus:r={},hasUnsavedChanges:i=!1}){const s=o=>{o!==t&&e(o)};return u.jsxs("div",{className:"week-selector-container",children:[u.jsxs("div",{className:"week-selector-header",children:[u.jsx("h2",{children:" SELECT WEEK TO MAKE/EDIT YOUR PICKS"}),i&&u.jsx("div",{className:"unsaved-indicator",children:" You have unsaved changes"})]}),u.jsx("div",{className:"week-cards",children:Object.entries(IE).map(([o,l])=>{var d;const a=o===t,c=((d=r[o])==null?void 0:d.locked)||!1,h=n[o],f=PE(o,h,c,a);return u.jsxs("div",{className:`week-card ${f.className} ${a?"current":""}`,onClick:()=>s(o),role:"button",tabIndex:0,onKeyPress:y=>{(y.key==="Enter"||y.key===" ")&&s(o)},children:[u.jsxs("div",{className:"week-card-header",children:[u.jsxs("div",{className:"week-number",children:["WEEK ",l.number]}),a&&u.jsx("div",{className:"current-indicator",children:" YOU ARE HERE "})]}),u.jsxs("div",{className:"week-card-title",children:[o==="superbowl"?"":""," ",l.shortName]}),u.jsxs("div",{className:"week-card-deadline",children:[o==="superbowl"?"Game Day: ":"Deadline: ",l.deadline]}),u.jsxs("div",{className:`week-card-status status-${f.className}`,children:[u.jsx("span",{className:"status-icon",children:f.icon}),u.jsx("span",{className:"status-text",children:f.text})]}),c&&u.jsx("div",{className:"locked-overlay",children:u.jsx("div",{className:"locked-message",children:" Cannot Edit"})})]},o)})}),u.jsx("div",{className:"week-selector-footer",children:u.jsx("p",{className:"info-text",children:" You can make picks for all weeks in advance, even if teams aren't known yet."})})]})}function AE({currentWeek:t,onDiscard:e,onSaveAndSwitch:n,onCancel:r}){const i={wildcard:"Week 1",divisional:"Week 2",conference:"Week 3",superbowl:"Week 4"};return u.jsx("div",{className:"popup-overlay",children:u.jsxs("div",{className:"popup-container warning-popup",children:[u.jsxs("div",{className:"popup-header warning",children:[u.jsx("span",{className:"popup-icon",children:""}),u.jsx("h3",{children:"UNSAVED CHANGES"})]}),u.jsxs("div",{className:"popup-body",children:[u.jsxs("p",{children:["You have unsaved changes for ",i[t],"."]}),u.jsx("p",{children:"What would you like to do?"})]}),u.jsxs("div",{className:"popup-buttons",children:[u.jsx("button",{className:"popup-btn btn-secondary",onClick:e,children:"Discard Changes"}),u.jsx("button",{className:"popup-btn btn-primary",onClick:n,children:"Save & Switch"}),u.jsx("button",{className:"popup-btn btn-neutral",onClick:r,children:"Cancel"})]})]})})}function DE({onKeepEditing:t,onDiscard:e}){return u.jsx("div",{className:"popup-overlay",children:u.jsxs("div",{className:"popup-container warning-popup",children:[u.jsxs("div",{className:"popup-header warning",children:[u.jsx("span",{className:"popup-icon",children:""}),u.jsx("h3",{children:"DISCARD CHANGES?"})]}),u.jsxs("div",{className:"popup-body",children:[u.jsx("p",{children:"Your changes will not be saved."}),u.jsx("p",{children:"Your previously saved picks will remain unchanged in the system."})]}),u.jsxs("div",{className:"popup-buttons",children:[u.jsx("button",{className:"popup-btn btn-primary",onClick:t,children:"Keep Editing"}),u.jsx("button",{className:"popup-btn btn-danger",onClick:e,children:"Discard Changes"})]})]})})}function jE({missingGames:t,totalGames:e,onClose:n}){return u.jsx("div",{className:"popup-overlay",children:u.jsxs("div",{className:"popup-container error-popup",children:[u.jsxs("div",{className:"popup-header error",children:[u.jsx("span",{className:"popup-icon",children:""}),u.jsx("h3",{children:"CANNOT SAVE - INCOMPLETE ENTRY"})]}),u.jsxs("div",{className:"popup-body",children:[u.jsx("p",{children:"You must predict scores for ALL games."}),u.jsxs("p",{className:"count-text",children:["Completed: ",u.jsx("strong",{children:e-t.length})," of ",u.jsx("strong",{children:e})," games "]}),u.jsxs("div",{className:"missing-games-list",children:[u.jsx("p",{children:u.jsx("strong",{children:"Missing scores for:"})}),u.jsx("ul",{children:t.map((r,i)=>u.jsxs("li",{children:[" Game ",i+1,": ",r.team1," vs ",r.team2]},i))})]}),u.jsx("p",{className:"instruction-text",children:"Please fill in all games before saving."})]}),u.jsx("div",{className:"popup-buttons",children:u.jsx("button",{className:"popup-btn btn-primary",onClick:n,children:"OK - Go Back and Complete"})})]})})}function LE({invalidScores:t,onClose:e}){return u.jsx("div",{className:"popup-overlay",children:u.jsxs("div",{className:"popup-container error-popup",children:[u.jsxs("div",{className:"popup-header error",children:[u.jsx("span",{className:"popup-icon",children:""}),u.jsx("h3",{children:"INVALID SCORES"})]}),u.jsxs("div",{className:"popup-body",children:[u.jsx("p",{children:"All scores must be between 10 and 50."}),u.jsxs("div",{className:"invalid-scores-list",children:[u.jsx("p",{children:u.jsx("strong",{children:"Invalid scores:"})}),u.jsx("ul",{children:t.map((n,r)=>u.jsxs("li",{children:[" Game ",r+1," (",n.team,"): ",u.jsx("strong",{children:n.score})," (",n.score<10?"too low":"too high",")"]},r))})]}),u.jsx("p",{className:"instruction-text",children:"Please fix these scores."})]}),u.jsx("div",{className:"popup-buttons",children:u.jsx("button",{className:"popup-btn btn-primary",onClick:e,children:"OK - Go Back and Fix"})})]})})}function OE({weekName:t,deadline:e,onClose:n}){return u.jsx("div",{className:"popup-overlay",children:u.jsxs("div",{className:"popup-container success-popup",children:[u.jsxs("div",{className:"popup-header success",children:[u.jsx("span",{className:"popup-icon",children:""}),u.jsx("h3",{children:"PICKS SAVED SUCCESSFULLY!"})]}),u.jsxs("div",{className:"popup-body",children:[u.jsxs("p",{children:["Your ",t," picks have been saved."]}),u.jsx("p",{children:"You can edit them anytime before the deadline:"}),u.jsx("p",{className:"deadline-text",children:u.jsx("strong",{children:e})})]}),u.jsx("div",{className:"popup-buttons",children:u.jsx("button",{className:"popup-btn btn-success",onClick:n,children:"OK"})})]})})}function bE({onClose:t}){return u.jsx("div",{className:"popup-overlay",children:u.jsxs("div",{className:"popup-container info-popup",children:[u.jsxs("div",{className:"popup-header info",children:[u.jsx("span",{className:"popup-icon",children:""}),u.jsx("h3",{children:"NO CHANGES TO SAVE"})]}),u.jsxs("div",{className:"popup-body",children:[u.jsx("p",{children:"You haven't made any changes to your picks."}),u.jsx("p",{children:"Your picks are already saved."})]}),u.jsx("div",{className:"popup-buttons",children:u.jsx("button",{className:"popup-btn btn-primary",onClick:t,children:"OK"})})]})})}function ME({tiedGames:t,gameData:e,onClose:n}){return u.jsx("div",{className:"popup-overlay",children:u.jsxs("div",{className:"popup-container error-popup",children:[u.jsxs("div",{className:"popup-header error",children:[u.jsx("span",{className:"popup-icon",children:""}),u.jsx("h3",{children:"PLAYOFF GAMES CANNOT END IN A TIE!"})]}),u.jsxs("div",{className:"popup-body",children:[u.jsx("p",{style:{fontWeight:"bold",marginBottom:"15px"},children:"The following game(s) have tied scores:"}),u.jsx("ul",{style:{listStyle:"none",padding:0,marginBottom:"15px"},children:t.map(r=>{const i=e.find(s=>s.id===r);return u.jsxs("li",{style:{padding:"8px",background:"#ffebee",border:"1px solid #ef5350",borderRadius:"4px",marginBottom:"8px",color:"#c62828"},children:[" ",i.team1," vs. ",i.team2]},r)})}),u.jsx("p",{style:{fontStyle:"italic",color:"#666"},children:"NFL Playoff games go to overtime until there's a winner!"}),u.jsx("p",{style:{fontWeight:"bold"},children:"Please change the scores so one team wins."})]}),u.jsx("div",{className:"popup-buttons",children:u.jsx("button",{className:"popup-btn btn-primary",onClick:n,children:"Fix Scores"})})]})})}const Wg={1:{name:"Most Correct Winners",week:"wildcard",weekName:"Week 1"},2:{name:"Closest Total Points",week:"wildcard",weekName:"Week 1"},3:{name:"Most Correct Winners",week:"divisional",weekName:"Week 2"},4:{name:"Closest Total Points",week:"divisional",weekName:"Week 2"},5:{name:"Most Correct Winners",week:"conference",weekName:"Week 3"},6:{name:"Closest Total Points",week:"conference",weekName:"Week 3"},7:{name:"Most Correct Winners",week:"superbowl",weekName:"Week 4"},8:{name:"Closest Total Points",week:"superbowl",weekName:"Week 4"},9:{name:"Overall Most Correct Winners",week:"all",weekName:"All Weeks"},10:{name:"Overall Closest Total Points",week:"all",weekName:"All Weeks"}};function FE(t,e,n,r){var c,h,f;const i=Wg[t],s=[1,3,5,7,9].includes(t);let o=[],l={},a=[];if(i.week==="all"?(o=e,l=n,Object.keys(r).forEach(d=>{a=a.concat(r[d].games.map(y=>({...y,week:d})))})):(o=e.filter(d=>d.week===i.week),l=n[i.week]||{},a=((c=r[i.week])==null?void 0:c.games)||[]),o.length===0)return{leaders:[],allPlayers:[],hasTie:!1,tieCount:0};if(s){const d=o.map(w=>{let S=0;return a.forEach(g=>{var k,P;const p=(k=w.predictions)==null?void 0:k[g.id],_=i.week==="all"?(P=n[g.week])==null?void 0:P[g.id]:l[g.id];if(!p||!_)return;const E=parseInt(p.team1)>parseInt(p.team2)?"team1":"team2",T=parseInt(_.team1)>parseInt(_.team2)?"team1":"team2";E===T&&S++}),{playerCode:w.playerCode,playerName:w.playerName,score:S}});d.sort((w,S)=>S.score-w.score);const y=((h=d[0])==null?void 0:h.score)||0,v=d.filter(w=>w.score===y);return{leaders:v,allPlayers:d,hasTie:v.length>1,tieCount:v.length}}else{let d=0;a.forEach(S=>{var p;const g=i.week==="all"?(p=n[S.week])==null?void 0:p[S.id]:l[S.id];g&&(d+=(parseInt(g.team1)||0)+(parseInt(g.team2)||0))});const y=o.map(S=>{let g=0;a.forEach(_=>{var T;const E=(T=S.predictions)==null?void 0:T[_.id];E&&(g+=(parseInt(E.team1)||0)+(parseInt(E.team2)||0))});const p=Math.abs(g-d);return{playerCode:S.playerCode,playerName:S.playerName,score:g,actualTotal:d,difference:p}});y.sort((S,g)=>S.difference-g.difference);const v=((f=y[0])==null?void 0:f.difference)||0,w=y.filter(S=>S.difference===v);return{leaders:w,allPlayers:y,hasTie:w.length>1,tieCount:w.length,actualTotal:d}}}function WE({prizeNumber:t,allPicks:e,actualScores:n,weekData:r,officialWinner:i=null}){const[s,o]=W.useState(null),[l,a]=W.useState(!0),c=Wg[t],h=[1,3,5,7,9].includes(t);if(W.useEffect(()=>{try{const w=FE(t,e,n,r);o(w),a(!1)}catch(w){console.error(`Error calculating leaders for Prize ${t}:`,w),a(!1)}},[t,e,n,r]),l)return u.jsxs("div",{className:"leader-card loading",children:[u.jsx("div",{className:"leader-card-header",children:u.jsxs("h3",{children:["Prize #",t," - ",c.name]})}),u.jsx("div",{className:"leader-card-body",children:u.jsx("p",{children:"Calculating leaders..."})})]});if(!s||s.allPlayers.length===0)return u.jsxs("div",{className:"leader-card no-data",children:[u.jsxs("div",{className:"leader-card-header",children:[u.jsxs("h3",{children:["Prize #",t," - ",c.name]}),u.jsx("span",{className:"prize-week",children:c.weekName})]}),u.jsx("div",{className:"leader-card-body",children:u.jsx("p",{children:"No picks available yet."})})]});const{leaders:f,allPlayers:d,hasTie:y,tieCount:v}=s;return u.jsxs("div",{className:`leader-card ${y?"has-tie":""}`,children:[u.jsxs("div",{className:"leader-card-header",children:[u.jsxs("h3",{children:["Prize #",t," - ",c.name]}),u.jsx("span",{className:"prize-week",children:c.weekName})]}),u.jsxs("div",{className:"leader-card-body",children:[y&&u.jsxs("div",{className:"tie-warning",children:[" ",v,"-WAY TIE FOR 1ST PLACE!"]}),y&&u.jsxs("div",{className:"tied-leaders-section",children:[u.jsx("h4",{children:" TIED FOR 1ST PLACE:"}),u.jsx("div",{className:"leaders-list",children:f.map((w,S)=>u.jsxs("div",{className:`leader-item ${(i==null?void 0:i.playerCode)===w.playerCode?"official-winner":"tied-leader"}`,children:[u.jsxs("span",{className:"leader-rank",children:[S+1,"."]}),u.jsx("span",{className:"leader-name",children:w.playerName}),u.jsx("span",{className:"leader-score",children:h?`${w.score} correct`:`${w.score} pts (off by ${w.difference})`}),(i==null?void 0:i.playerCode)===w.playerCode?u.jsx("span",{className:"official-badge",children:" OFFICIAL WINNER"}):u.jsx("span",{className:"leading-badge",children:" LEADING"})]},S))})]}),y&&d.length>v&&u.jsxs("div",{className:"next-in-line-section",children:[u.jsx("h4",{children:" NEXT IN LINE:"}),u.jsx("div",{className:"leaders-list",children:d.slice(v,v+10).map((w,S)=>u.jsxs("div",{className:"leader-item",children:[u.jsxs("span",{className:"leader-rank",children:[v+S+1,"."]}),u.jsx("span",{className:"leader-name",children:w.playerName}),u.jsx("span",{className:"leader-score",children:h?`${w.score} correct`:`${w.score} pts (off by ${w.difference})`})]},S))})]}),!y&&u.jsxs("div",{className:"all-players-section",children:[u.jsx("h4",{children:" ALL PLAYERS RANKED:"}),u.jsx("div",{className:"leaders-list",children:d.map((w,S)=>u.jsxs("div",{className:`leader-item ${S===0&&(i==null?void 0:i.playerCode)===w.playerCode?"official-winner":""}`,children:[u.jsxs("span",{className:"leader-rank",children:[S+1,"."]}),u.jsx("span",{className:"leader-name",children:w.playerName}),u.jsx("span",{className:"leader-score",children:h?`${w.score} correct`:`${w.score} pts (off by ${w.difference})`}),S===0&&((i==null?void 0:i.playerCode)===w.playerCode?u.jsx("span",{className:"official-badge",children:" OFFICIAL WINNER"}):u.jsx("span",{className:"leading-badge",children:" LEADING"}))]},S))})]}),!i&&u.jsx("div",{className:"no-official-winner",children:u.jsx("em",{children:"No official winner declared yet"})})]})]})}function zE({allPicks:t,actualScores:e,games:n,officialWinners:r,weekData:i}){return u.jsxs("div",{className:"leaders-section",children:[u.jsx("h2",{children:" Prize Leaders"}),u.jsx("p",{className:"leaders-description",children:"Current standings for all 10 prizes. Winners will be officially announced by the Pool Manager."}),u.jsx("div",{className:"prize-grid",children:[1,2,3,4,5,6,7,8,9,10].map(s=>u.jsx(WE,{prizeNumber:s,allPicks:t,actualScores:e,weekData:i,officialWinner:r==null?void 0:r[s]},s))})]})}const zg={1:{name:"Most Correct Winners",week:"wildcard",weekName:"Week 1"},2:{name:"Closest Total Points",week:"wildcard",weekName:"Week 1"},3:{name:"Most Correct Winners",week:"divisional",weekName:"Week 2"},4:{name:"Closest Total Points",week:"divisional",weekName:"Week 2"},5:{name:"Most Correct Winners",week:"conference",weekName:"Week 3"},6:{name:"Closest Total Points",week:"conference",weekName:"Week 3"},7:{name:"Most Correct Winners",week:"superbowl",weekName:"Week 4"},8:{name:"Closest Total Points",week:"superbowl",weekName:"Week 4"},9:{name:"Overall Most Correct Winners",week:"all",weekName:"All Weeks"},10:{name:"Overall Closest Total Points",week:"all",weekName:"All Weeks"}};function UE(t,e,n,r){var c;const i=zg[t],s=[1,3,5,7,9].includes(t);let o=[],l={},a=[];if(i.week==="all"?(o=e,l=n,Object.keys(r).forEach(h=>{a=a.concat(r[h].games.map(f=>({...f,week:h})))})):(o=e.filter(h=>h.week===i.week),l=n[i.week]||{},a=((c=r[i.week])==null?void 0:c.games)||[]),o.length===0)return[];if(s)return o.map(f=>{let d=0;return a.forEach(y=>{var p,_;const v=(p=f.predictions)==null?void 0:p[y.id],w=i.week==="all"?(_=n[y.week])==null?void 0:_[y.id]:l[y.id];if(!v||!w)return;const S=parseInt(v.team1)>parseInt(v.team2)?"team1":"team2",g=parseInt(w.team1)>parseInt(w.team2)?"team1":"team2";S===g&&d++}),{playerCode:f.playerCode,playerName:f.playerName,score:d}}).sort((f,d)=>d.score-f.score);{let h=0;return a.forEach(d=>{var v;const y=i.week==="all"?(v=n[d.week])==null?void 0:v[d.id]:l[d.id];y&&(h+=(parseInt(y.team1)||0)+(parseInt(y.team2)||0))}),o.map(d=>{let y=0;a.forEach(w=>{var g;const S=(g=d.predictions)==null?void 0:g[w.id];S&&(y+=(parseInt(S.team1)||0)+(parseInt(S.team2)||0))});const v=Math.abs(y-h);return{playerCode:d.playerCode,playerName:d.playerName,score:y,difference:v}}).sort((d,y)=>d.difference-y.difference)}}function BE({prizeNumber:t,allPicks:e,actualScores:n,weekData:r,officialWinner:i,onDeclareWinner:s}){const[o,l]=W.useState(i?`${i.playerCode}|${i.playerName}`:""),a=zg[t],c=UE(t,e,n,r),h=[1,3,5,7,9].includes(t),f=()=>{if(!o){s(t,null);return}if(o==="TIE"){s(t,{playerCode:"TIE",playerName:"TIE - Multiple Winners",score:"TIE"});return}const[d,y]=o.split("|"),v=c.find(w=>w.playerCode===d);s(t,{playerCode:d,playerName:y,score:(v==null?void 0:v.score)||0})};return u.jsxs("div",{className:"prize-declaration-card",children:[u.jsxs("div",{className:"prize-header",children:[u.jsxs("h3",{children:["Prize #",t]}),u.jsx("span",{className:"prize-type",children:a.name}),u.jsx("span",{className:"prize-week",children:a.weekName})]}),u.jsxs("div",{className:"prize-body",children:[c.length===0?u.jsx("div",{className:"no-picks-warning",children:" No picks submitted yet for this week"}):u.jsxs("div",{className:"current-leaders",children:[u.jsx("h4",{children:" ALL PLAYERS RANKED:"}),u.jsx("ol",{className:"all-players-list",children:c.map((d,y)=>u.jsxs("li",{children:[d.playerName," - "," ",h?`${d.score} correct`:`${d.score} pts (off by ${d.difference})`]},y))})]}),u.jsxs("div",{className:"winner-selection",children:[u.jsxs("label",{children:[u.jsx("strong",{children:"Declare Official Winner:"}),u.jsxs("select",{value:o,onChange:d=>l(d.target.value),className:"winner-dropdown",children:[u.jsx("option",{value:"",children:"-- No Winner Declared --"}),u.jsx("option",{value:"TIE",children:" DECLARE TIE"}),c.map((d,y)=>u.jsxs("option",{value:`${d.playerCode}|${d.playerName}`,children:[d.playerName," (",h?`${d.score} correct`:`off by ${d.difference}`,")"]},y))]})]}),u.jsx("button",{className:"btn-declare",onClick:f,children:o?" Declare Winner":" Remove Winner"})]}),i&&u.jsxs("div",{className:"current-winner",children:[" Official Winner: ",u.jsx("strong",{children:i.playerName})]})]})]})}function $E({allPicks:t,actualScores:e,games:n,officialWinners:r,onDeclareWinner:i,isPoolManager:s}){return s?u.jsxs("div",{className:"winner-declaration-section",children:[u.jsx("h2",{children:" Pool Manager: Declare Official Winners"}),u.jsxs("p",{className:"declaration-description",children:["Select the official winner for each prize. You can choose from calculated leaders or declare a tie.",u.jsx("strong",{children:" Dropdowns are available even if no picks have been submitted yet."})]}),u.jsx("div",{className:"prize-grid",children:[1,2,3,4,5,6,7,8,9,10].map(o=>u.jsx(BE,{prizeNumber:o,allPicks:t,actualScores:e,weekData:n,officialWinner:r==null?void 0:r[o],onDeclareWinner:i},o))})]}):null}const VE={apiKey:"AIzaSyDr3PPXC90wvQW_LG8TkAyR9K-7e0loQ3A",authDomain:"nfl-playoff-pool-2025-scores.firebaseapp.com",databaseURL:"https://nfl-playoff-pool-2025-scores-default-rtdb.firebaseio.com",projectId:"nfl-playoff-pool-2025-scores",storageBucket:"nfl-playoff-pool-2025-scores.firebasestorage.app",messagingSenderId:"844539772456",appId:"1:844539772456:web:9bbfcf523195a5eedfff1d"},HE=Nm(VE),Ne=yE(HE),th={firstFriday:"2026-01-09",lastMonday:"2026-02-09"},ln={wildcard:"2026-01-10",divisional:"2026-01-17",conference:"2026-01-25",superbowl:"2026-02-08"},an=["76BB89","Z9Y8X7"],Ms={"76BB89":"POOL MANAGER - Richard",Z9Y8X7:"POOL MANAGER - Dennis",J239W4:"Bob Casson",B7Y4X3:"Bob Desrosiers",D4F7G5:"Bonnie Biletski","536EE2":"Brian Colburg",X8HH67:"Chris Neufeld",G7R3P5:"Curtis Braun",A4LJC9:"Curtis Palidwor",X3P8N1:"Dallas Pylypow",HM8T67:"Darrell Klassen",TA89R2:"Dave Boyarski",K2P9W5:"Dave Desrosiers",A5K4T7:"Dennis Biletski","6WRUJR":"Emily Chadwick",AB6C89:"Gareth Reeve",D3F6G9:"Jarrod Reimer",T42B67:"Jo Behr",PUEFKF:"Joshua Biletski",ABC378:"Ken Mcleod",K9R3N6:"Kevin Pich",H7P3N5:"Larry Bretecher",B5R4T6:"Larry Strand",L2W9X2:"Michelle Desrosiers","5GGPL3":"Mike Brkich",T4M8Z8:"Neema Dadmand","9CD72G":"Neil Banman",T7Y4R8:"Neil Foster",KWBZ86:"Nick Melanidis","2WQA9X":"Nima Ahmadi",E4T6J7:"Orest Pich",N4M8Q2:"Randy Moffatt",B8L9M2:"Richard Biletski","62R92L":"Rob Crowe",H8M3N7:"Rob Kost",WW3F44:"Ryan Moffatt",E5G7G8:"Tony Creta"},me={wildcard:{name:"Wild Card Round (Jan 10-12, 2026)",games:[{id:1,team1:"AFC #7",team2:"AFC #2"},{id:2,team1:"AFC #6",team2:"AFC #3"},{id:3,team1:"AFC #5",team2:"AFC #4"},{id:4,team1:"NFC #7",team2:"NFC #2"},{id:5,team1:"NFC #6",team2:"NFC #3"},{id:6,team1:"NFC #5",team2:"NFC #4"}]},divisional:{name:"Divisional Round (Jan 17-18, 2026)",games:[{id:7,team1:"AFC Winner 1",team2:"AFC #1"},{id:8,team1:"AFC Winner 2",team2:"AFC Winner 3"},{id:9,team1:"NFC Winner 1",team2:"NFC #1"},{id:10,team1:"NFC Winner 2",team2:"NFC Winner 3"}]},conference:{name:"Conference Championships (Jan 25, 2026)",games:[{id:11,team1:"AFC Winner A",team2:"AFC Winner B"},{id:12,team1:"NFC Winner A",team2:"NFC Winner B"}]},superbowl:{name:"Super Bowl LIX (Feb 8, 2026)",games:[{id:13,team1:"AFC Champion",team2:"NFC Champion"}]}};function GE(){const[t,e]=W.useState("picks"),[n,r]=W.useState(""),[i,s]=W.useState(""),[o,l]=W.useState(!1),[a,c]=W.useState("wildcard"),[h,f]=W.useState({}),[d,y]=W.useState([]),[v,w]=W.useState(!1),[S,g]=W.useState({}),[p,_]=W.useState({}),[E,T]=W.useState({}),[k,P]=W.useState({wildcard:"",divisional:"",conference:"",superbowl_week4:"",superbowl_week3:"",superbowl_week2:"",superbowl_week1:"",superbowl_grand:""}),[A,Z]=W.useState({wildcard:{locked:!1,lockDate:null,autoLockDate:ln.wildcard},divisional:{locked:!1,lockDate:null,autoLockDate:ln.divisional},conference:{locked:!1,lockDate:null,autoLockDate:ln.conference},superbowl:{locked:!1,lockDate:null,autoLockDate:ln.superbowl}}),[$,Ue]=W.useState({}),[zt,At]=W.useState(null),[sr,or]=W.useState(null),[Dt,dt]=W.useState(!1),[D,b]=W.useState(null),[V,le]=W.useState(null),[ve,On]=W.useState([]),[Ut,ti]=W.useState([]),[ft,nn]=W.useState({}),[pl,ml]=W.useState({}),[Ug,Bg]=W.useState({}),Se=()=>an.includes(i)&&o,Hc=m=>{const x=ln[m];if(!x)return!1;const C=new Date,j=new Date(C.toLocaleString("en-US",{timeZone:"America/Los_Angeles"})),O=new Date(x+"T00:00:00");return j>=O},rn=m=>{var x;return Se()?!1:(x=A[m])!=null&&x.locked?!0:Hc(m)};W.useEffect(()=>{const m=ke(Ne,"weekLockStatus");on(m,x=>{const C=x.val();if(C){const j={};Object.keys(ln).forEach(O=>{var B,R;j[O]={locked:((B=C[O])==null?void 0:B.locked)||!1,lockDate:((R=C[O])==null?void 0:R.lockDate)||null,autoLockDate:ln[O]}}),Z(j)}})},[]);const $g=m=>{const x=!A[m].locked,C=x?new Date().toISOString():null,j={...A,[m]:{...A[m],locked:x,lockDate:C}};Z(j),Lt(ke(Ne,`weekLockStatus/${m}`),{locked:x,lockDate:C,autoLockDate:ln[m]}),alert(x?` Week ${m} is now LOCKED

Players cannot edit picks for this week.`:` Week ${m} is now UNLOCKED

Players can edit picks for this week.`)};W.useEffect(()=>{const m=ke(Ne,"picks");on(m,x=>{const C=x.val();if(C){const j=Object.keys(C).map(O=>({...C[O],firebaseKey:O}));y(j)}else y([])})},[]),W.useEffect(()=>{const m=ke(Ne,"teamCodes");on(m,x=>{const C=x.val();C&&g(C)})},[]),W.useEffect(()=>{const m=ke(Ne,"actualScores");on(m,x=>{const C=x.val();C&&_(C)})},[]),W.useEffect(()=>{const m=ke(Ne,"gameStatus");on(m,x=>{const C=x.val();C&&T(C)})},[]),W.useEffect(()=>{const m=ke(Ne,"winners");on(m,x=>{const C=x.val();C&&nn(C)})},[]),W.useEffect(()=>{const m=ke(Ne,"gameLocks");on(m,x=>{const C=x.val();C&&Ue(C)})},[]),W.useEffect(()=>{const m=ke(Ne,"manualWeekTotals");on(m,x=>{const C=x.val();C&&P(C)})},[]),W.useEffect(()=>{if(o&&n&&d.length>0){const m=d.find(x=>x.playerName===n&&x.week===a);m&&m.predictions?(console.log("Loading existing picks for",n,"week",a),f(m.predictions)):(console.log("No existing picks found - clearing form"),f({}))}},[a,d,o,n]),W.useEffect(()=>{const m=new TE(Gc,5);return At(m),()=>{m&&m.stop()}},[]);const Gc=async()=>{try{console.log("Fetching scores from ESPN...");const m=await EE();if(!m.success){console.error("ESPN fetch failed:",m.error);return}console.log("ESPN games fetched:",m.games.length);const x=me[a].games,C={};if(m.games.forEach(j=>{var B;const O=NE(j,me,a,S);if(O){const R=O.gameId;if((B=$[a])!=null&&B[R]){console.log(`Game ${R} is locked, skipping API update`);return}C[R]={team1:O.team1Score,team2:O.team2Score,source:"espn",lastUpdated:new Date().toISOString()},T(F=>({...F,[a]:{...F[a],[R]:O.isFinal?"final":O.isLive?"live":""}}))}}),Object.keys(C).length>0){_(O=>({...O,[a]:{...O[a],...C}}));const j=ke(Ne,`actualScores/${a}`);await Lt(j,{...p[a],...C}),console.log(`Updated ${Object.keys(C).length} games from ESPN`)}or(new Date)}catch(m){console.error("Error fetching ESPN scores:",m)}},Vg=m=>{var x;console.log(" Toggle clicked for game:",m),console.log(" Current week:",a),console.log(" Current locks:",$),console.log(" Current value for game",m,":",(x=$[a])==null?void 0:x[m]),Ue(C=>{const j={...C};j[a]||(j[a]={});const O=j[a][m],B=!O;console.log(" Old value:",O),console.log(" New value:",B),j[a][m]=B;const R=ke(Ne,`gameLocks/${a}/${m}`);return Lt(R,B),console.log(" Saved to Firebase:",B),console.log(" Returning new locks:",j),j})},Yc=(m,x,C)=>{f(j=>({...j,[m]:{...j[m],[x]:C}}))},Qc=(m,x,C)=>{var O;const j={...S,[a]:{...S[a]||{},[m]:{...((O=S[a])==null?void 0:O[m])||{},[x]:C.toUpperCase()}}};g(j),Lt(ke(Ne,`teamCodes/${a}/${m}/${x}`),C.toUpperCase())},Kc=(m,x,C)=>{var O;const j={...p,[a]:{...p[a]||{},[m]:{...((O=p[a])==null?void 0:O[m])||{},[x]:C}}};_(j),Lt(ke(Ne,`actualScores/${a}/${m}/${x}`),C)},Hg=(m,x)=>{const C={...E,[a]:{...E[a]||{},[m]:x}};T(C),Lt(ke(Ne,`gameStatus/${a}/${m}`),x)},lr=(m,x)=>{const C={...k,[m]:x};P(C),Lt(ke(Ne,`manualWeekTotals/${m}`),x)},Gg=async(m,x)=>{if(x){const C={...ft,[m]:x};nn(C);try{await aE(ke(Ne,`winners/${m}`),{playerCode:x.playerCode,playerName:x.playerName,score:x.score,declaredAt:new Date().toISOString(),declaredBy:i}),alert(` Winner declared for Prize #${m}: ${x.playerName}`)}catch(j){console.error("Failed to save winner:",j),alert(" Failed to save winner. Please try again.")}}else{const C={...ft};delete C[m],nn(C);try{await Lt(ke(Ne,`winners/${m}`),null),alert(` Winner removed for Prize #${m}`)}catch(j){console.error("Failed to remove winner:",j)}}},Yg=m=>{Dt?(le(m),b("unsavedChanges")):(c(m),ys(m))},ys=m=>{const x=d.find(C=>C.week===m&&C.playerCode===i);x&&x.predictions?(f(x.predictions),ml(x.predictions),dt(!1)):(f({}),ml({}),dt(!1))};W.useEffect(()=>{const m=JSON.stringify(h)!==JSON.stringify(pl);dt(m)},[h,pl]),W.useEffect(()=>{o&&i&&ys(a)},[a,o,i,d]),W.useEffect(()=>{if(d.length>0&&i){const m={};["wildcard","divisional","conference","superbowl"].forEach(x=>{const C=d.find(j=>j.week===x&&j.playerCode===i);if(C&&C.predictions){const j=me[x].games.length,O=Object.keys(C.predictions).filter(B=>{var R,F;return((R=C.predictions[B])==null?void 0:R.team1)&&((F=C.predictions[B])==null?void 0:F.team2)}).length;m[x]={complete:O===j,count:O,total:j}}}),Bg(m)}},[d,i]);const ni=()=>{if(Se())return!0;const m=new Date,x=new Date(m.toLocaleString("en-US",{timeZone:"America/Los_Angeles"})),C=new Date(th.firstFriday+"T00:00:00"),j=new Date(th.lastMonday+"T23:59:59");if(x<C)return!0;if(x>j)return!1;const O=x.getDay(),B=x.getHours(),R=x.getMinutes();return!(O===5&&B===23&&R>=59||O===6||O===0||O===1&&B===0&&R===0)},qc=()=>{const m=i.trim().toUpperCase();if(!m){alert("Please enter your 6-character player code");return}if(m.length!==6||!/^[A-Z0-9]{6}$/.test(m)){alert(`Invalid code format!

Player codes must be exactly 6 characters (letters and numbers).
Example: A7K9M2`);return}const x=Ms[m];if(!x){alert(`Invalid player code!

This code is not recognized.

Make sure you:
1. Paid your $20 entry fee
2. Received your code from the pool manager
3. Entered the code correctly

Contact: gammoneer2b@gmail.com`);return}if(d.find(j=>j.playerName===x&&j.week===a))if(an.includes(m))alert(`Welcome, Pool Manager!

You have unrestricted access to:
 Enter picks anytime (no lockout)
 Enter team codes
 Enter actual game scores
 Set game status (LIVE/FINAL)
 Lock/unlock weeks
 View all player codes`);else{const j=rn(a);alert(j?`Welcome back, ${x}!

 WARNING: This week is LOCKED!

Your existing picks for ${me[a].name} will be loaded, but you cannot edit them because the games have been played.

You can only view your submitted picks.`:`Welcome back, ${x}!

Your existing picks for ${me[a].name} will be loaded automatically.

You can edit and resubmit anytime except during playoff weekends (Friday 11:59 PM - Monday 12:01 AM PST).`)}else an.includes(m)&&alert(`Welcome, Pool Manager!

You have unrestricted access to:
 Enter picks anytime (no lockout)
 Enter team codes
 Enter actual game scores
 Set game status (LIVE/FINAL)
 Lock/unlock weeks
 View all player codes`);r(x),s(m),l(!0)},Qg=()=>{const m=d.filter(R=>R.week===a);if(m.length===0){alert("No picks to download for this week.");return}const x=me[a];let C="";C+="TEAM CODES:,",x.games.forEach(R=>{var M,H,z,te;const F=((H=(M=S[a])==null?void 0:M[R.id])==null?void 0:H.team1)||"-",J=((te=(z=S[a])==null?void 0:z[R.id])==null?void 0:te.team2)||"-";C+=`${F},${J},`}),a==="superbowl"&&(C+=",,,,"),C+=`
`,C+="ACTUAL SCORES:,",x.games.forEach(R=>{var M,H,z,te;const F=((H=(M=p[a])==null?void 0:M[R.id])==null?void 0:H.team1)||"-",J=((te=(z=p[a])==null?void 0:z[R.id])==null?void 0:te.team2)||"-";C+=`${F},${J},`}),a==="superbowl"&&(C+=",,,,"),C+=`
`,C+="GAME TOTALS:,",x.games.forEach(R=>{var z,te,we,Ee;const F=parseInt((te=(z=p[a])==null?void 0:z[R.id])==null?void 0:te.team1)||0,J=parseInt((Ee=(we=p[a])==null?void 0:we[R.id])==null?void 0:Ee.team2)||0,M=F+J,H=F>0||J>0?M:"-";C+=`${H},,`}),a==="superbowl"&&(C+=",,,,"),C+=`
`,C+="GAME STATUS:,",x.games.forEach(R=>{var M;const F=((M=E[a])==null?void 0:M[R.id])||"-";C+=`${F==="final"?"FINAL":F==="live"?"LIVE":"-"},,`}),a==="superbowl"&&(C+=",,,,"),C+=`
`,C+="OFFICIAL TOTALS:,",x.games.forEach(()=>{C+=",,"}),a==="superbowl"?(C+=`${k.superbowl_week4||"-"},`,C+=`${k.superbowl_week3||"-"},`,C+=`${k.superbowl_week2||"-"},`,C+=`${k.superbowl_week1||"-"},`,C+=`${k.superbowl_grand||"-"},`):C+=`${k[a]||"-"},`,C+=`
`,C+=`
`,C+=",",x.games.forEach(R=>{C+=`Game ${R.id},Game ${R.id},`}),C+=`
`,C+="Player Name,",x.games.forEach(R=>{C+=`${R.team1} Score,${R.team2} Score,`}),a==="superbowl"?C+="Week 4 Total,Week 3 Total,Week 2 Total,Week 1 Total,GRAND TOTAL,":C+="Total Points,",C+=`Submitted At
`,m.sort((R,F)=>(F.lastUpdated||F.timestamp)-(R.lastUpdated||R.timestamp)).forEach(R=>{if(C+=`"${R.playerName}",`,x.games.forEach(J=>{var z,te;const M=((z=R.predictions[J.id])==null?void 0:z.team1)||"-",H=((te=R.predictions[J.id])==null?void 0:te.team2)||"-";C+=`${M},${H},`}),a==="superbowl"){const J=(()=>{const we=d.find(pe=>pe.playerName===R.playerName&&pe.week==="superbowl");if(!we)return 0;let Ee=0;return me.superbowl.games.forEach(pe=>{const Pe=we.predictions[pe.id];Pe&&(Ee+=(Number(Pe.team1)||0)+(Number(Pe.team2)||0))}),Ee})(),M=(()=>{const we=d.find(pe=>pe.playerName===R.playerName&&pe.week==="conference");if(!we)return 0;let Ee=0;return me.conference.games.forEach(pe=>{const Pe=we.predictions[pe.id];Pe&&(Ee+=(Number(Pe.team1)||0)+(Number(Pe.team2)||0))}),Ee})(),H=(()=>{const we=d.find(pe=>pe.playerName===R.playerName&&pe.week==="divisional");if(!we)return 0;let Ee=0;return me.divisional.games.forEach(pe=>{const Pe=we.predictions[pe.id];Pe&&(Ee+=(Number(Pe.team1)||0)+(Number(Pe.team2)||0))}),Ee})(),z=(()=>{const we=d.find(pe=>pe.playerName===R.playerName&&pe.week==="wildcard");if(!we)return 0;let Ee=0;return me.wildcard.games.forEach(pe=>{const Pe=we.predictions[pe.id];Pe&&(Ee+=(Number(Pe.team1)||0)+(Number(Pe.team2)||0))}),Ee})(),te=J+M+H+z;C+=`${J},${M},${H},${z},${te},`}else{const J=x.games.reduce((M,H)=>{var we,Ee;const z=parseInt((we=R.predictions[H.id])==null?void 0:we.team1)||0,te=parseInt((Ee=R.predictions[H.id])==null?void 0:Ee.team2)||0;return M+z+te},0);C+=`${J},`}const F=new Date(R.lastUpdated||R.timestamp).toLocaleString("en-US",{month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0});C+=`"${F}"
`});const j=new Blob([C],{type:"text/csv;charset=utf-8;"}),O=document.createElement("a"),B=URL.createObjectURL(j);O.setAttribute("href",B),O.setAttribute("download",`nfl_playoff_picks_${a}_${Date.now()}.csv`),O.style.visibility="hidden",document.body.appendChild(O),O.click(),document.body.removeChild(O)},Xc=async m=>{if(m.preventDefault(),rn(a)){alert(` WEEK LOCKED

This week's games have been played.
Picks are permanently locked.`);return}if(!ni()){alert(` SUBMISSIONS CLOSED

During playoff weekends, picks are locked from:
 Friday 11:59 PM PST
 Through Monday 12:01 AM PST`);return}const x=me[a],C=[];if(x.games.forEach(F=>{(!h[F.id]||!h[F.id].team1||!h[F.id].team2)&&C.push(F.id)}),C.length>0){On(C),b("incomplete");return}const j=[];if(x.games.forEach(F=>{var H,z;const J=parseInt((H=h[F.id])==null?void 0:H.team1),M=parseInt((z=h[F.id])==null?void 0:z.team2);(isNaN(J)||isNaN(M)||J<0||M<0)&&j.push(F.id)}),j.length>0){ti(j),b("invalidScores");return}const O=[];if(x.games.forEach(F=>{var H,z;const J=parseInt((H=h[F.id])==null?void 0:H.team1),M=parseInt((z=h[F.id])==null?void 0:z.team2);J===M&&O.push(F.id)}),O.length>0){On(O),b("tiedGames");return}if(!Dt){b("noChanges");return}const B=d.find(F=>F.playerCode===i&&F.week===a),R={playerName:n,playerCode:i,week:a,predictions:h,timestamp:B?B.timestamp:Date.now(),lastUpdated:Date.now()};try{B&&B.firebaseKey?await Lt(ke(Ne,`picks/${B.firebaseKey}`),R):await lE(ke(Ne,"picks"),R),w(!0),ml({...h}),dt(!1),b("success"),setTimeout(()=>{const F=document.querySelector(".all-picks");F&&F.scrollIntoView({behavior:"smooth"})},100)}catch(F){console.error("Error submitting picks:",F),alert("Error submitting picks. Please try again.")}},Xe=me[a],ar=W.useMemo(()=>{const m={};return d.filter(C=>C.week===a).forEach(C=>{m[C.playerName]||(m[C.playerName]={week4:0,week3:0,week2:0,week1:0,grand:0,current:0});let j=0;if(me[a].games.forEach(B=>{const R=C.predictions[B.id];R&&R.team1&&R.team2&&(j+=(parseInt(R.team1)||0)+(parseInt(R.team2)||0))}),m[C.playerName].current=j,a==="superbowl"){const B=d.find(M=>M.playerName===C.playerName&&M.week==="superbowl");if(B&&B.predictions){let M=0;me.superbowl.games.forEach(H=>{const z=B.predictions[H.id];z&&(M+=(Number(z.team1)||0)+(Number(z.team2)||0))}),m[C.playerName].week4=M}const R=d.find(M=>M.playerName===C.playerName&&M.week==="conference");if(R&&R.predictions){let M=0;me.conference.games.forEach(H=>{const z=R.predictions[H.id];z&&(M+=(Number(z.team1)||0)+(Number(z.team2)||0))}),m[C.playerName].week3=M}const F=d.find(M=>M.playerName===C.playerName&&M.week==="divisional");if(F&&F.predictions){let M=0;me.divisional.games.forEach(H=>{const z=F.predictions[H.id];z&&(M+=(Number(z.team1)||0)+(Number(z.team2)||0))}),m[C.playerName].week2=M}const J=d.find(M=>M.playerName===C.playerName&&M.week==="wildcard");if(J&&J.predictions){let M=0;me.wildcard.games.forEach(H=>{const z=J.predictions[H.id];z&&(M+=(Number(z.team1)||0)+(Number(z.team2)||0))}),m[C.playerName].week1=M}m[C.playerName].grand=m[C.playerName].week1+m[C.playerName].week2+m[C.playerName].week3+m[C.playerName].week4}}),m},[d,a]);return u.jsxs("div",{className:"App",children:[u.jsxs("header",{children:[u.jsx("h1",{children:" Richard's NFL Playoff Pool 2025"}),u.jsx("p",{children:"Enter your score predictions for each NFL Playoff 2025 game"}),u.jsxs("p",{style:{fontSize:"0.85rem",marginTop:"10px",opacity:.8},children:["v2.2-PLAYOFF-SCHEDULE-",new Date().toISOString().slice(0,10).replace(/-/g,"")]}),u.jsxs("div",{style:{marginTop:"15px",display:"flex",flexDirection:"column",gap:"10px",alignItems:"center"},children:[u.jsxs("div",{style:{display:"flex",gap:"15px",flexWrap:"wrap",justifyContent:"center"},children:[u.jsx("a",{href:"/nfl-playoff-pool/Playoff_Pool_Quick_Rules.pdf",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",padding:"10px 20px",backgroundColor:"#0984e3",color:"white",textDecoration:"none",borderRadius:"5px",fontSize:"0.95rem",fontWeight:"bold",transition:"background-color 0.3s ease",cursor:"pointer"},onMouseOver:m=>m.target.style.backgroundColor="#74b9ff",onMouseOut:m=>m.target.style.backgroundColor="#0984e3",children:" View Quick Rules (2 Pages)"}),u.jsx("a",{href:"/nfl-playoff-pool/Richards_Playoff_Pool_LIX_Rulebook.pdf",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",padding:"10px 20px",backgroundColor:"#6c5ce7",color:"white",textDecoration:"none",borderRadius:"5px",fontSize:"0.95rem",fontWeight:"bold",transition:"background-color 0.3s ease",cursor:"pointer"},onMouseOver:m=>m.target.style.backgroundColor="#a29bfe",onMouseOut:m=>m.target.style.backgroundColor="#6c5ce7",children:" View Full Rulebook (13 Pages)"})]}),u.jsx("p",{style:{fontSize:"1.1em",marginTop:"10px",color:"#ffffff",fontWeight:"500"},children:"Entry Fee: $20 - Must be paid before end of regular season"})]})]}),u.jsxs("div",{className:"container",children:[Se()&&o&&u.jsxs("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"15px 20px",borderRadius:"8px",marginBottom:"20px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[u.jsxs("h3",{style:{margin:"0 0 15px 0",display:"flex",alignItems:"center",gap:"10px"},children:[u.jsx("span",{children:""}),u.jsx("span",{children:"POOL MANAGER - WEEK LOCK CONTROLS"})]}),u.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"10px"},children:Object.keys(me).map(m=>{var O,B;const x=(O=A[m])==null?void 0:O.locked,C=Hc(m),j=x||C;return u.jsxs("div",{style:{background:"rgba(255,255,255,0.15)",padding:"12px",borderRadius:"6px",display:"flex",flexDirection:"column",gap:"8px"},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",fontWeight:"bold",fontSize:"0.9rem"},children:[u.jsxs("span",{children:[j?"":""," Week ",m==="wildcard"?"1":m==="divisional"?"2":m==="conference"?"3":"4"]}),u.jsx("span",{style:{fontSize:"0.75rem",opacity:.9},children:(B=A[m])==null?void 0:B.autoLockDate})]}),C&&!x&&u.jsx("div",{style:{fontSize:"0.7rem",padding:"4px 8px",background:"rgba(255,193,7,0.3)",borderRadius:"4px",border:"1px solid rgba(255,193,7,0.5)"},children:" AUTO-LOCKED"}),x&&u.jsx("div",{style:{fontSize:"0.7rem",padding:"4px 8px",background:"rgba(220,53,69,0.3)",borderRadius:"4px",border:"1px solid rgba(220,53,69,0.5)"},children:" MANUALLY LOCKED"}),u.jsx("button",{onClick:()=>$g(m),style:{padding:"8px 12px",background:x?"#28a745":"#dc3545",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.85rem",fontWeight:"600",transition:"all 0.2s"},children:x?" Unlock Week":" Lock Week"})]},m)})}),u.jsx("p",{style:{fontSize:"0.8rem",marginTop:"12px",marginBottom:"0",opacity:.9},children:" Manual locks override automatic locks. Players cannot edit picks for locked weeks."})]}),Se()&&o&&u.jsx(CE,{currentWeek:a,games:Xe.games,actualScores:p,teamCodes:S,onScoresFetched:Gc,onGameLockToggle:Vg,gameLocks:$,espnAutoRefresh:zt}),Se()&&o&&u.jsxs("div",{style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"white",padding:"15px 20px",borderRadius:"8px",marginBottom:"20px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[u.jsxs("h3",{style:{margin:"0 0 15px 0",display:"flex",alignItems:"center",gap:"10px"},children:[u.jsx("span",{children:""}),u.jsx("span",{children:"ALL PLAYER CODES"})]}),u.jsx("div",{style:{background:"rgba(255,255,255,0.95)",padding:"15px",borderRadius:"6px",maxHeight:"300px",overflowY:"auto"},children:u.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.9rem"},children:[u.jsx("thead",{children:u.jsxs("tr",{style:{background:"#f8f9fa",borderBottom:"2px solid #dee2e6"},children:[u.jsx("th",{style:{padding:"10px",textAlign:"left",color:"#495057",fontWeight:"600"},children:"Player Code"}),u.jsx("th",{style:{padding:"10px",textAlign:"left",color:"#495057",fontWeight:"600"},children:"Player Name"}),u.jsx("th",{style:{padding:"10px",textAlign:"center",color:"#495057",fontWeight:"600"},children:"Role"})]})}),u.jsx("tbody",{children:Object.entries(Ms).sort((m,x)=>{const C=an.includes(m[0]),j=an.includes(x[0]);return C&&!j?-1:!C&&j?1:m[1].localeCompare(x[1])}).map(([m,x],C)=>{const j=an.includes(m);return u.jsxs("tr",{style:{background:C%2===0?"#ffffff":"#f8f9fa",borderBottom:"1px solid #dee2e6"},children:[u.jsx("td",{style:{padding:"10px",color:"#212529",fontFamily:"monospace",fontWeight:"bold",fontSize:"1rem"},children:m}),u.jsx("td",{style:{padding:"10px",color:"#212529"},children:x}),u.jsx("td",{style:{padding:"10px",textAlign:"center"},children:j?u.jsx("span",{style:{padding:"4px 8px",background:"#dc3545",color:"white",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"600"},children:" MANAGER"}):u.jsx("span",{style:{padding:"4px 8px",background:"#28a745",color:"white",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"600"},children:" PLAYER"})})]},m)})})]})}),u.jsxs("p",{style:{fontSize:"0.8rem",marginTop:"12px",marginBottom:"0",opacity:.9},children:[" Total Players: ",Object.keys(Ms).length," | Pool Managers: ",an.length," | Regular Players: ",Object.keys(Ms).length-an.length]})]}),o&&u.jsx(RE,{currentWeek:a,onWeekChange:Yg,weekPicks:Ug,weekLockStatus:A,hasUnsavedChanges:Dt,isPoolManager:Se()}),o&&u.jsxs("div",{className:"view-navigation",children:[u.jsx("button",{className:`nav-btn ${t==="picks"?"active":""}`,onClick:()=>e("picks"),children:" Make Picks"}),u.jsx("button",{className:`nav-btn ${t==="standings"?"active":""}`,onClick:()=>e("standings"),children:" Standings & Prizes"})]}),t==="standings"&&o?u.jsx(wE,{allPicks:d,actualScores:p,currentWeek:a}):u.jsxs(u.Fragment,{children:[o?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"player-confirmed",children:[u.jsx("span",{className:"confirmation-badge",children:" VERIFIED"}),u.jsxs("h3",{children:["Welcome, ",u.jsx("span",{className:"player-name-highlight",children:n}),"!",Se()&&u.jsx("span",{style:{marginLeft:"10px",color:"#d63031"},children:" POOL MANAGER"})]}),u.jsxs("p",{style:{color:"#000"},children:["Making picks for: ",u.jsx("strong",{children:Xe.name})]}),rn(a)&&!Se()&&u.jsx("div",{style:{marginTop:"10px",padding:"10px 15px",background:"#fff3cd",border:"2px solid #ffc107",borderRadius:"6px",color:"#856404",fontWeight:"600"},children:" This week is LOCKED - You can view your picks but cannot edit them"}),u.jsx("button",{className:"validate-btn",style:{marginTop:"15px",padding:"10px 20px",fontSize:"0.9rem"},onClick:()=>{l(!1),s(""),r(""),f({})},children:" Logout / Switch Entry"}),u.jsx("p",{style:{fontSize:"0.85rem",color:"#666",marginTop:"10px",fontStyle:"italic"},children:" Playing with multiple entries? Logout to switch between your codes."})]}),!ni()&&u.jsx("div",{className:"closed-warning",children:" PICKS ARE LOCKED (Playoff Weekend: Friday 11:59 PM - Monday 12:01 AM PST)"}),u.jsxs("div",{className:"prediction-form",children:[u.jsx("h2",{children:"Enter Your Predictions"}),u.jsxs("div",{className:"progress-indicator",children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[u.jsx("strong",{children:"Progress:"}),u.jsxs("span",{children:[Object.keys(h).filter(m=>h[m].team1&&h[m].team2).length," of ",Xe.games.length," games completed"]})]}),u.jsx("div",{className:"progress-bar",children:u.jsxs("div",{className:"progress-fill",style:{width:`${Object.keys(h).filter(m=>h[m].team1&&h[m].team2).length/Xe.games.length*100}%`},children:[Math.round(Object.keys(h).filter(m=>h[m].team1&&h[m].team2).length/Xe.games.length*100),"%"]})})]}),u.jsxs("form",{onSubmit:Xc,children:[Xe.games.map(m=>{var x,C,j,O,B,R;return u.jsxs("div",{className:"game-prediction",children:[u.jsxs("h3",{children:["Game ",m.id,": ",m.team1," @ ",m.team2,((x=S[a])==null?void 0:x[m.id])&&u.jsxs("span",{style:{fontSize:"0.9rem",color:"#666",marginLeft:"10px"},children:["(",S[a][m.id].team1||"?"," @ ",S[a][m.id].team2||"?",")"]})]}),((C=p[a])==null?void 0:C[m.id])&&u.jsxs("div",{style:{padding:"8px 12px",background:"#e8f5e9",borderRadius:"4px",marginBottom:"10px",fontSize:"0.9rem"},children:[u.jsx("strong",{children:"Actual Score:"})," ",p[a][m.id].team1||"-"," - ",p[a][m.id].team2||"-",((j=E[a])==null?void 0:j[m.id])==="final"&&u.jsx("span",{style:{marginLeft:"10px",padding:"2px 8px",background:"#4caf50",color:"white",borderRadius:"4px",fontSize:"0.8rem",fontWeight:"bold"},children:" FINAL"}),((O=E[a])==null?void 0:O[m.id])==="live"&&u.jsx("span",{style:{marginLeft:"10px",padding:"2px 8px",background:"#ff9800",color:"white",borderRadius:"4px",fontSize:"0.8rem",fontWeight:"bold"},children:" LIVE"})]}),u.jsxs("div",{className:"score-inputs",children:[u.jsxs("div",{className:"team-score",children:[u.jsxs("label",{children:[u.jsx("span",{className:"team-designation",children:"AWAY TEAM"}),u.jsx("span",{className:"team-name-label",children:m.team1})]}),u.jsx("input",{type:"number",min:"0",max:"99",value:((B=h[m.id])==null?void 0:B.team1)||"",onChange:F=>Yc(m.id,"team1",F.target.value),placeholder:"0",required:!0,disabled:rn(a)},`${m.id}-team1-${n}`)]}),u.jsx("div",{className:"vs",children:"VS"}),u.jsxs("div",{className:"team-score",children:[u.jsxs("label",{children:[u.jsx("span",{className:"team-designation",children:"HOME TEAM"}),u.jsx("span",{className:"team-name-label",children:m.team2})]}),u.jsx("input",{type:"number",min:"0",max:"99",value:((R=h[m.id])==null?void 0:R.team2)||"",onChange:F=>Yc(m.id,"team2",F.target.value),placeholder:"0",required:!0,disabled:rn(a)},`${m.id}-team2-${n}`)]})]})]},m.id)}),u.jsx("button",{type:"submit",className:"submit-btn",disabled:!ni()||rn(a),children:rn(a)&&!Se()?" Week Locked - Cannot Edit Picks":ni()?" Submit / Update My Picks":" Submissions Locked (Playoff Weekend)"}),ni()&&!rn(a)&&u.jsx("p",{style:{textAlign:"center",marginTop:"15px",color:"#666",fontSize:"0.9rem"},children:"You can edit and resubmit your picks as many times as you want until Friday 11:59 PM PST (before game weekends)"})]})]})]}):u.jsx("div",{className:"prediction-form",children:u.jsxs("div",{className:"code-entry-section",children:[u.jsx("h3",{children:" Enter Your Player Code"}),u.jsx("p",{style:{marginBottom:"20px",color:"#666"},children:"You received a 6-character code when you paid your $20 entry fee."}),u.jsx("p",{style:{marginBottom:"20px",color:"#666",fontSize:"0.9rem",fontStyle:"italic"},children:" Have multiple entries? Enter one code at a time."}),u.jsxs("div",{className:"code-input-group",children:[u.jsx("label",{htmlFor:"playerCode",children:"Player Code (6 characters)"}),u.jsx("input",{type:"text",id:"playerCode",className:"code-input",value:i,onChange:m=>s(m.target.value.toUpperCase()),placeholder:"A7K9M2",maxLength:"6",autoComplete:"off",onKeyPress:m=>{m.key==="Enter"&&qc()}}),u.jsx("button",{className:"validate-btn",onClick:qc,children:"Validate Code & Continue"}),u.jsxs("div",{style:{marginTop:"20px",padding:"15px",background:"#fff3cd",border:"2px solid #ffc107",borderRadius:"8px",textAlign:"left"},children:[u.jsx("h4",{style:{margin:"0 0 10px 0",color:"#856404"},children:" Entry Fee Payment"}),u.jsxs("p",{style:{margin:"5px 0",fontSize:"0.9rem",color:"#856404"},children:[u.jsx("strong",{children:"Cost:"})," $20 per entry"]}),u.jsxs("p",{style:{margin:"5px 0",fontSize:"0.9rem",color:"#856404"},children:[u.jsx("strong",{children:"Send e-Transfer to:"})," gammoneer2b@gmail.com"]}),u.jsxs("p",{style:{margin:"5px 0",fontSize:"0.9rem",color:"#856404"},children:[u.jsx("strong",{children:"Password:"})," nflpool"]}),u.jsx("p",{style:{margin:"10px 0 5px 0",fontSize:"0.85rem",color:"#856404",fontStyle:"italic"},children:"You will receive your player code after payment is confirmed."})]}),u.jsx("p",{style:{marginTop:"15px",fontSize:"0.9rem",color:"#666",textAlign:"center"},children:"Questions? Contact: gammoneer2b@gmail.com"})]})]})}),u.jsxs("div",{className:"all-picks",children:[u.jsxs("h2",{children:["All Player Picks - ",Xe.name,u.jsx("button",{onClick:Qg,style:{marginLeft:"15px",padding:"8px 16px",background:"#4caf50",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Download to Excel"}),u.jsx("button",{onClick:()=>window.location.reload(),style:{marginLeft:"10px",padding:"8px 16px",background:"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Refresh Picks Table"})]}),d.filter(m=>m.week===a).length===0?u.jsx("p",{className:"no-picks",children:"No picks submitted yet for this week."}):u.jsx("div",{className:"picks-table-container",children:u.jsxs("table",{className:"picks-table",children:[u.jsxs("thead",{children:[u.jsxs("tr",{children:[u.jsx("th",{rowSpan:"2",children:"Player"}),Xe.games.map(m=>{var x,C,j,O,B;return u.jsxs("th",{colSpan:"2",children:["Game ",m.id,u.jsx("br",{}),u.jsxs("small",{children:[m.team1," @ ",m.team2]}),Se()&&u.jsxs("div",{style:{marginTop:"5px",display:"flex",gap:"5px",justifyContent:"center",alignItems:"center"},children:[u.jsx("input",{type:"text",maxLength:"3",value:((C=(x=S[a])==null?void 0:x[m.id])==null?void 0:C.team1)||"",onChange:R=>Qc(m.id,"team1",R.target.value),placeholder:"PIT",style:{width:"45px",padding:"4px",textAlign:"center",fontSize:"0.8rem",fontWeight:"bold",border:"2px solid #667eea",borderRadius:"4px"}}),u.jsx("span",{style:{fontSize:"0.8rem"},children:"@"}),u.jsx("input",{type:"text",maxLength:"3",value:((O=(j=S[a])==null?void 0:j[m.id])==null?void 0:O.team2)||"",onChange:R=>Qc(m.id,"team2",R.target.value),placeholder:"BUF",style:{width:"45px",padding:"4px",textAlign:"center",fontSize:"0.8rem",fontWeight:"bold",border:"2px solid #667eea",borderRadius:"4px"}})]}),!Se()&&((B=S[a])==null?void 0:B[m.id])&&u.jsxs("div",{style:{fontSize:"0.8rem",color:"#666",marginTop:"3px"},children:[S[a][m.id].team1||"?"," @ ",S[a][m.id].team2||"?"]})]},m.id)}),a==="superbowl"?u.jsxs(u.Fragment,{children:[u.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#fff3cd",fontWeight:"bold",color:"#000"},children:[Se()?u.jsxs("div",{style:{marginBottom:"8px"},children:[u.jsx("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000"},children:"OFFICIAL"}),u.jsx("input",{type:"number",min:"0",value:k.superbowl_week4||"",onChange:m=>lr("superbowl_week4",m.target.value),placeholder:"-",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #f39c12",borderRadius:"4px",color:"#000"}})]}):u.jsxs("div",{style:{marginBottom:"8px"},children:[u.jsx("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:"Official"}),u.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:k.superbowl_week4||"-"})]}),"Week 4",u.jsx("br",{}),"Total"]}),u.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#d1ecf1",fontWeight:"bold",color:"#000"},children:[Se()?u.jsxs("div",{style:{marginBottom:"8px"},children:[u.jsx("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000"},children:"OFFICIAL"}),u.jsx("input",{type:"number",min:"0",value:k.superbowl_week3||"",onChange:m=>lr("superbowl_week3",m.target.value),placeholder:"-",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #f39c12",borderRadius:"4px",color:"#000"}})]}):u.jsxs("div",{style:{marginBottom:"8px"},children:[u.jsx("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:"Official"}),u.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:k.superbowl_week3||"-"})]}),"Week 3",u.jsx("br",{}),"Total"]}),u.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#d4edda",fontWeight:"bold",color:"#000"},children:[Se()?u.jsxs("div",{style:{marginBottom:"8px"},children:[u.jsx("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000"},children:"OFFICIAL"}),u.jsx("input",{type:"number",min:"0",value:k.superbowl_week2||"",onChange:m=>lr("superbowl_week2",m.target.value),placeholder:"-",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #f39c12",borderRadius:"4px",color:"#000"}})]}):u.jsxs("div",{style:{marginBottom:"8px"},children:[u.jsx("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:"Official"}),u.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:k.superbowl_week2||"-"})]}),"Week 2",u.jsx("br",{}),"Total"]}),u.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#f8d7da",fontWeight:"bold",color:"#000"},children:[Se()?u.jsxs("div",{style:{marginBottom:"8px"},children:[u.jsx("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000"},children:"OFFICIAL"}),u.jsx("input",{type:"number",min:"0",value:k.superbowl_week1||"",onChange:m=>lr("superbowl_week1",m.target.value),placeholder:"-",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #f39c12",borderRadius:"4px",color:"#000"}})]}):u.jsxs("div",{style:{marginBottom:"8px"},children:[u.jsx("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:"Official"}),u.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:k.superbowl_week1||"-"})]}),"Week 1",u.jsx("br",{}),"Total"]}),u.jsxs("th",{rowSpan:"2",className:"grand-total",children:[Se()?u.jsxs("div",{style:{marginBottom:"8px"},children:[u.jsx("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#fff"},children:"OFFICIAL"}),u.jsx("input",{type:"number",min:"0",value:k.superbowl_grand||"",onChange:m=>lr("superbowl_grand",m.target.value),placeholder:"-",style:{width:"70px",padding:"4px",textAlign:"center",fontSize:"1.1rem",fontWeight:"bold",border:"3px solid #f39c12",borderRadius:"4px",backgroundColor:"#fff",color:"#000"}})]}):u.jsxs("div",{style:{marginBottom:"8px"},children:[u.jsx("div",{style:{fontSize:"0.7rem",color:"#fff",marginBottom:"2px"},children:"Official"}),u.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"#fff"},children:k.superbowl_grand||"-"})]}),"GRAND",u.jsx("br",{}),"TOTAL"]})]}):u.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#f8f9fa",fontWeight:"bold",color:"#000"},children:[Se()?u.jsxs("div",{style:{marginBottom:"8px"},children:[u.jsx("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000"},children:"OFFICIAL"}),u.jsx("input",{type:"number",min:"0",value:k[a]||"",onChange:m=>lr(a,m.target.value),placeholder:"-",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #f39c12",borderRadius:"4px",color:"#000"}})]}):u.jsxs("div",{style:{marginBottom:"8px"},children:[u.jsx("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:"Official"}),u.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:k[a]||"-"})]}),"Official",u.jsx("br",{}),"Total"]}),u.jsx("th",{rowSpan:"2",children:"Submitted"})]}),u.jsx("tr",{style:{background:"#e3f2fd"},children:Xe.games.map(m=>{var x,C,j,O,B,R,F,J,M,H,z;return u.jsxs(Zl.Fragment,{children:[u.jsx("th",{style:{padding:"8px 4px",background:"#e3f2fd"},children:Se()?u.jsxs("div",{children:[u.jsx("input",{type:"number",min:"0",max:"99",value:((C=(x=p[a])==null?void 0:x[m.id])==null?void 0:C.team1)||"",onChange:te=>Kc(m.id,"team1",te.target.value),placeholder:"-",style:{width:"50px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #4caf50",borderRadius:"4px",color:"#000"}}),u.jsx("div",{style:{fontSize:"0.7rem",marginTop:"2px",color:"#000"},children:"ACTUAL"})]}):u.jsxs("div",{children:[u.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#000"},children:((O=(j=p[a])==null?void 0:j[m.id])==null?void 0:O.team1)||"-"}),u.jsx("div",{style:{fontSize:"0.7rem",color:"#000"},children:"ACTUAL"})]})}),u.jsx("th",{style:{padding:"8px 4px",background:"#e3f2fd"},children:Se()?u.jsxs("div",{children:[u.jsx("input",{type:"number",min:"0",max:"99",value:((R=(B=p[a])==null?void 0:B[m.id])==null?void 0:R.team2)||"",onChange:te=>Kc(m.id,"team2",te.target.value),placeholder:"-",style:{width:"50px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #4caf50",borderRadius:"4px",color:"#000"}}),u.jsx("div",{style:{fontSize:"0.7rem",marginTop:"2px",color:"#000"},children:"ACTUAL"}),u.jsxs("select",{value:((F=E[a])==null?void 0:F[m.id])||"",onChange:te=>Hg(m.id,te.target.value),style:{width:"60px",padding:"2px",fontSize:"0.7rem",marginTop:"4px",borderRadius:"3px",border:"1px solid #999"},children:[u.jsx("option",{value:"",children:"--"}),u.jsx("option",{value:"live",children:" LIVE"}),u.jsx("option",{value:"final",children:" FINAL"})]})]}):u.jsxs("div",{children:[u.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#000"},children:((M=(J=p[a])==null?void 0:J[m.id])==null?void 0:M.team2)||"-"}),u.jsx("div",{style:{fontSize:"0.7rem",color:"#000"},children:"ACTUAL"}),((H=E[a])==null?void 0:H[m.id])==="final"&&u.jsx("div",{style:{display:"inline-block",padding:"2px 6px",background:"#4caf50",color:"white",borderRadius:"3px",fontSize:"0.65rem",fontWeight:"bold",marginTop:"4px"},children:" FINAL"}),((z=E[a])==null?void 0:z[m.id])==="live"&&u.jsx("div",{style:{display:"inline-block",padding:"2px 6px",background:"#ff9800",color:"white",borderRadius:"3px",fontSize:"0.65rem",fontWeight:"bold",marginTop:"4px"},children:" LIVE"})]})})]},`actual-${m.id}`)})})]}),u.jsx("tbody",{children:d.filter(m=>m.week===a).sort((m,x)=>(x.lastUpdated||x.timestamp)-(m.lastUpdated||m.timestamp)).map((m,x)=>{var j,O,B,R,F,J;const C=M=>{var Jc;const H=(Jc=p[a])==null?void 0:Jc[M],z=m.predictions[M];if(!H||!z)return!1;const te=parseInt(H.team1),we=parseInt(H.team2),Ee=parseInt(z.team1),pe=parseInt(z.team2);if(isNaN(te)||isNaN(we))return!1;const Pe=te>we?"team1":we>te?"team2":"tie",Kg=Ee>pe?"team1":pe>Ee?"team2":"tie";return Pe===Kg&&Pe!=="tie"};return u.jsxs("tr",{children:[u.jsx("td",{className:"player-name",children:m.playerName}),Xe.games.map(M=>{var z,te;const H=C(M.id);return u.jsxs(Zl.Fragment,{children:[u.jsx("td",{className:`score ${H?"score-winner":""}`,children:((z=m.predictions[M.id])==null?void 0:z.team1)||"-"}),u.jsx("td",{className:`score ${H?"score-winner":""}`,children:((te=m.predictions[M.id])==null?void 0:te.team2)||"-"})]},`${x}-${M.id}`)}),a==="superbowl"?u.jsxs(u.Fragment,{children:[u.jsx("td",{style:{backgroundColor:"#fff3cd",fontWeight:"bold",fontSize:"16px"},children:u.jsx("span",{style:{color:"#000"},children:((j=ar[m.playerName])==null?void 0:j.week4)||0})}),u.jsx("td",{style:{backgroundColor:"#d1ecf1",fontWeight:"bold",fontSize:"16px"},children:u.jsx("span",{style:{color:"#000"},children:((O=ar[m.playerName])==null?void 0:O.week3)||0})}),u.jsx("td",{style:{backgroundColor:"#d4edda",fontWeight:"bold",fontSize:"16px"},children:u.jsx("span",{style:{color:"#000"},children:((B=ar[m.playerName])==null?void 0:B.week2)||0})}),u.jsx("td",{style:{backgroundColor:"#f8d7da",fontWeight:"bold",fontSize:"16px"},children:u.jsx("span",{style:{color:"#000"},children:((R=ar[m.playerName])==null?void 0:R.week1)||0})}),u.jsx("td",{className:"grand-total",children:((F=ar[m.playerName])==null?void 0:F.grand)||0})]}):u.jsx("td",{style:{backgroundColor:"#f8f9fa",fontWeight:"bold",fontSize:"16px"},children:u.jsx("span",{style:{color:"#000"},children:((J=ar[m.playerName])==null?void 0:J.current)||0})}),u.jsx("td",{className:"timestamp",children:new Date(m.lastUpdated||m.timestamp).toLocaleString("en-US",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})})]},x)})})]})}),o&&u.jsx("div",{style:{marginTop:"60px"},children:u.jsx(zE,{allPicks:d,actualScores:p,games:me,officialWinners:ft,weekData:me})}),o&&Se()&&u.jsx("div",{style:{marginTop:"40px"},children:u.jsx($E,{allPicks:d,actualScores:p,games:me,officialWinners:ft,onDeclareWinner:Gg,isPoolManager:!0})}),D==="unsavedChanges"&&u.jsx(AE,{currentWeek:me[a].name,onDiscard:()=>{c(V),ys(V),b(null)},onSaveAndSwitch:async()=>{await Xc(new Event("submit")),setTimeout(()=>{c(V),ys(V),b(null),le(null)},100)},onCancel:()=>{le(null),b(null)}}),D==="discardChanges"&&u.jsx(DE,{onKeepEditing:()=>b(null),onDiscard:()=>{f({...pl}),dt(!1),b(null)}}),D==="incomplete"&&u.jsx(jE,{missingGames:ve,totalGames:Xe.games.length,onClose:()=>b(null)}),D==="invalidScores"&&u.jsx(LE,{invalidScores:Ut,onClose:()=>b(null)}),D==="success"&&u.jsx(OE,{weekName:Xe.name,deadline:Xe.deadline,onClose:()=>b(null)}),D==="noChanges"&&u.jsx(bE,{onClose:()=>b(null)}),D==="tiedGames"&&u.jsx(ME,{tiedGames:ve,gameData:Xe.games,onClose:()=>b(null)})]})]})]}),u.jsxs("footer",{children:[u.jsx("p",{children:"Richard's NFL Playoff Pool 2025 | Good luck! "}),u.jsx("p",{style:{fontSize:"0.85rem",marginTop:"5px"},children:"Questions? Contact: gammoneer2b@gmail.com"})]})]})}ea.createRoot(document.getElementById("root")).render(u.jsx(Zl.StrictMode,{children:u.jsx(GE,{})}));
