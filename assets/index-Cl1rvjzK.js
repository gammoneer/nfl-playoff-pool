(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function u0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Fh={exports:{}},hl={},zh={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ts=Symbol.for("react.element"),d0=Symbol.for("react.portal"),f0=Symbol.for("react.fragment"),h0=Symbol.for("react.strict_mode"),p0=Symbol.for("react.profiler"),m0=Symbol.for("react.provider"),g0=Symbol.for("react.context"),y0=Symbol.for("react.forward_ref"),v0=Symbol.for("react.suspense"),x0=Symbol.for("react.memo"),_0=Symbol.for("react.lazy"),Ad=Symbol.iterator;function w0(t){return t===null||typeof t!="object"?null:(t=Ad&&t[Ad]||t["@@iterator"],typeof t=="function"?t:null)}var Wh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Bh=Object.assign,$h={};function ii(t,e,n){this.props=t,this.context=e,this.refs=$h,this.updater=n||Wh}ii.prototype.isReactComponent={};ii.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ii.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Uh(){}Uh.prototype=ii.prototype;function Uc(t,e,n){this.props=t,this.context=e,this.refs=$h,this.updater=n||Wh}var Vc=Uc.prototype=new Uh;Vc.constructor=Uc;Bh(Vc,ii.prototype);Vc.isPureReactComponent=!0;var Dd=Array.isArray,Vh=Object.prototype.hasOwnProperty,Gc={current:null},Gh={key:!0,ref:!0,__self:!0,__source:!0};function Hh(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Vh.call(e,r)&&!Gh.hasOwnProperty(r)&&(i[r]=e[r]);var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){for(var a=Array(c),u=0;u<c;u++)a[u]=arguments[u+2];i.children=a}if(t&&t.defaultProps)for(r in c=t.defaultProps,c)i[r]===void 0&&(i[r]=c[r]);return{$$typeof:Ts,type:t,key:s,ref:o,props:i,_owner:Gc.current}}function S0(t,e){return{$$typeof:Ts,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Hc(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ts}function k0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Od=/\/+/g;function Yl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?k0(""+t.key):e.toString(36)}function fo(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ts:case d0:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Yl(o,0):r,Dd(i)?(n="",t!=null&&(n=t.replace(Od,"$&/")+"/"),fo(i,e,n,"",function(u){return u})):i!=null&&(Hc(i)&&(i=S0(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Od,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Dd(t))for(var c=0;c<t.length;c++){s=t[c];var a=r+Yl(s,c);o+=fo(s,e,n,a,i)}else if(a=w0(t),typeof a=="function")for(t=a.call(t),c=0;!(s=t.next()).done;)s=s.value,a=r+Yl(s,c++),o+=fo(s,e,n,a,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Hs(t,e,n){if(t==null)return t;var r=[],i=0;return fo(t,r,"","",function(s){return e.call(n,s,i++)}),r}function C0(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var et={current:null},ho={transition:null},E0={ReactCurrentDispatcher:et,ReactCurrentBatchConfig:ho,ReactCurrentOwner:Gc};function Yh(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:Hs,forEach:function(t,e,n){Hs(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Hs(t,function(){e++}),e},toArray:function(t){return Hs(t,function(e){return e})||[]},only:function(t){if(!Hc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ne.Component=ii;ne.Fragment=f0;ne.Profiler=p0;ne.PureComponent=Uc;ne.StrictMode=h0;ne.Suspense=v0;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E0;ne.act=Yh;ne.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Bh({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Gc.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(a in e)Vh.call(e,a)&&!Gh.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&c!==void 0?c[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){c=Array(a);for(var u=0;u<a;u++)c[u]=arguments[u+2];r.children=c}return{$$typeof:Ts,type:t.type,key:i,ref:s,props:r,_owner:o}};ne.createContext=function(t){return t={$$typeof:g0,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:m0,_context:t},t.Consumer=t};ne.createElement=Hh;ne.createFactory=function(t){var e=Hh.bind(null,t);return e.type=t,e};ne.createRef=function(){return{current:null}};ne.forwardRef=function(t){return{$$typeof:y0,render:t}};ne.isValidElement=Hc;ne.lazy=function(t){return{$$typeof:_0,_payload:{_status:-1,_result:t},_init:C0}};ne.memo=function(t,e){return{$$typeof:x0,type:t,compare:e===void 0?null:e}};ne.startTransition=function(t){var e=ho.transition;ho.transition={};try{t()}finally{ho.transition=e}};ne.unstable_act=Yh;ne.useCallback=function(t,e){return et.current.useCallback(t,e)};ne.useContext=function(t){return et.current.useContext(t)};ne.useDebugValue=function(){};ne.useDeferredValue=function(t){return et.current.useDeferredValue(t)};ne.useEffect=function(t,e){return et.current.useEffect(t,e)};ne.useId=function(){return et.current.useId()};ne.useImperativeHandle=function(t,e,n){return et.current.useImperativeHandle(t,e,n)};ne.useInsertionEffect=function(t,e){return et.current.useInsertionEffect(t,e)};ne.useLayoutEffect=function(t,e){return et.current.useLayoutEffect(t,e)};ne.useMemo=function(t,e){return et.current.useMemo(t,e)};ne.useReducer=function(t,e,n){return et.current.useReducer(t,e,n)};ne.useRef=function(t){return et.current.useRef(t)};ne.useState=function(t){return et.current.useState(t)};ne.useSyncExternalStore=function(t,e,n){return et.current.useSyncExternalStore(t,e,n)};ne.useTransition=function(){return et.current.useTransition()};ne.version="18.3.1";zh.exports=ne;var M=zh.exports;const Ia=u0(M);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N0=M,b0=Symbol.for("react.element"),T0=Symbol.for("react.fragment"),P0=Object.prototype.hasOwnProperty,j0=N0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,I0={key:!0,ref:!0,__self:!0,__source:!0};function Qh(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)P0.call(e,r)&&!I0.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:b0,type:t,key:s,ref:o,props:i,_owner:j0.current}}hl.Fragment=T0;hl.jsx=Qh;hl.jsxs=Qh;Fh.exports=hl;var l=Fh.exports,Ra={},Kh={exports:{}},mt={},qh={exports:{}},Xh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,U){var G=F.length;F.push(U);e:for(;0<G;){var J=G-1>>>1,_e=F[J];if(0<i(_e,U))F[J]=U,F[G]=_e,G=J;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var U=F[0],G=F.pop();if(G!==U){F[0]=G;e:for(var J=0,_e=F.length,fn=_e>>>1;J<fn;){var Mt=2*(J+1)-1,gr=F[Mt],Yt=Mt+1,yr=F[Yt];if(0>i(gr,G))Yt<_e&&0>i(yr,gr)?(F[J]=yr,F[Yt]=G,J=Yt):(F[J]=gr,F[Mt]=G,J=Mt);else if(Yt<_e&&0>i(yr,G))F[J]=yr,F[Yt]=G,J=Yt;else break e}}return U}function i(F,U){var G=F.sortIndex-U.sortIndex;return G!==0?G:F.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var a=[],u=[],h=1,p=null,f=3,_=!1,E=!1,k=!1,S=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(F){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=F)r(u),U.sortIndex=U.expirationTime,e(a,U);else break;U=n(u)}}function T(F){if(k=!1,x(F),!E)if(n(a)!==null)E=!0,Vn(R);else{var U=n(u);U!==null&&dn(T,U.startTime-F)}}function R(F,U){E=!1,k&&(k=!1,m(I),I=-1),_=!0;var G=f;try{for(x(U),p=n(a);p!==null&&(!(p.expirationTime>U)||F&&!re());){var J=p.callback;if(typeof J=="function"){p.callback=null,f=p.priorityLevel;var _e=J(p.expirationTime<=U);U=t.unstable_now(),typeof _e=="function"?p.callback=_e:p===n(a)&&r(a),x(U)}else r(a);p=n(a)}if(p!==null)var fn=!0;else{var Mt=n(u);Mt!==null&&dn(T,Mt.startTime-U),fn=!1}return fn}finally{p=null,f=G,_=!1}}var P=!1,j=null,I=-1,Y=5,B=-1;function re(){return!(t.unstable_now()-B<Y)}function de(){if(j!==null){var F=t.unstable_now();B=F;var U=!0;try{U=j(!0,F)}finally{U?nt():(P=!1,j=null)}}else P=!1}var nt;if(typeof g=="function")nt=function(){g(de)};else if(typeof MessageChannel<"u"){var Lt=new MessageChannel,mr=Lt.port2;Lt.port1.onmessage=de,nt=function(){mr.postMessage(null)}}else nt=function(){S(de,0)};function Vn(F){j=F,P||(P=!0,nt())}function dn(F,U){I=S(function(){F(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){E||_||(E=!0,Vn(R))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(F){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var G=f;f=U;try{return F()}finally{f=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,U){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var G=f;f=F;try{return U()}finally{f=G}},t.unstable_scheduleCallback=function(F,U,G){var J=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?J+G:J):G=J,F){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=G+_e,F={id:h++,callback:U,priorityLevel:F,startTime:G,expirationTime:_e,sortIndex:-1},G>J?(F.sortIndex=G,e(u,F),n(a)===null&&F===n(u)&&(k?(m(I),I=-1):k=!0,dn(T,G-J))):(F.sortIndex=_e,e(a,F),E||_||(E=!0,Vn(R))),F},t.unstable_shouldYield=re,t.unstable_wrapCallback=function(F){var U=f;return function(){var G=f;f=U;try{return F.apply(this,arguments)}finally{f=G}}}})(Xh);qh.exports=Xh;var R0=qh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A0=M,pt=R0;function D(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Jh=new Set,Zi={};function dr(t,e){Yr(t,e),Yr(t+"Capture",e)}function Yr(t,e){for(Zi[t]=e,t=0;t<e.length;t++)Jh.add(e[t])}var tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Aa=Object.prototype.hasOwnProperty,D0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ld={},Md={};function O0(t){return Aa.call(Md,t)?!0:Aa.call(Ld,t)?!1:D0.test(t)?Md[t]=!0:(Ld[t]=!0,!1)}function L0(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function M0(t,e,n,r){if(e===null||typeof e>"u"||L0(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function tt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ve[t]=new tt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ve[e]=new tt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ve[t]=new tt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ve[t]=new tt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ve[t]=new tt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ve[t]=new tt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ve[t]=new tt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ve[t]=new tt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ve[t]=new tt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Yc=/[\-:]([a-z])/g;function Qc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Yc,Qc);Ve[e]=new tt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Yc,Qc);Ve[e]=new tt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Yc,Qc);Ve[e]=new tt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ve[t]=new tt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ve.xlinkHref=new tt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ve[t]=new tt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Kc(t,e,n,r){var i=Ve.hasOwnProperty(e)?Ve[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(M0(e,n,i,r)&&(n=null),r||i===null?O0(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var an=A0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ys=Symbol.for("react.element"),Er=Symbol.for("react.portal"),Nr=Symbol.for("react.fragment"),qc=Symbol.for("react.strict_mode"),Da=Symbol.for("react.profiler"),Zh=Symbol.for("react.provider"),ep=Symbol.for("react.context"),Xc=Symbol.for("react.forward_ref"),Oa=Symbol.for("react.suspense"),La=Symbol.for("react.suspense_list"),Jc=Symbol.for("react.memo"),vn=Symbol.for("react.lazy"),tp=Symbol.for("react.offscreen"),Fd=Symbol.iterator;function Si(t){return t===null||typeof t!="object"?null:(t=Fd&&t[Fd]||t["@@iterator"],typeof t=="function"?t:null)}var Ee=Object.assign,Ql;function Oi(t){if(Ql===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ql=e&&e[1]||""}return`
`+Ql+t}var Kl=!1;function ql(t,e){if(!t||Kl)return"";Kl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,c=s.length-1;1<=o&&0<=c&&i[o]!==s[c];)c--;for(;1<=o&&0<=c;o--,c--)if(i[o]!==s[c]){if(o!==1||c!==1)do if(o--,c--,0>c||i[o]!==s[c]){var a=`
`+i[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=c);break}}}finally{Kl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Oi(t):""}function F0(t){switch(t.tag){case 5:return Oi(t.type);case 16:return Oi("Lazy");case 13:return Oi("Suspense");case 19:return Oi("SuspenseList");case 0:case 2:case 15:return t=ql(t.type,!1),t;case 11:return t=ql(t.type.render,!1),t;case 1:return t=ql(t.type,!0),t;default:return""}}function Ma(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Nr:return"Fragment";case Er:return"Portal";case Da:return"Profiler";case qc:return"StrictMode";case Oa:return"Suspense";case La:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ep:return(t.displayName||"Context")+".Consumer";case Zh:return(t._context.displayName||"Context")+".Provider";case Xc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Jc:return e=t.displayName||null,e!==null?e:Ma(t.type)||"Memo";case vn:e=t._payload,t=t._init;try{return Ma(t(e))}catch{}}return null}function z0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ma(e);case 8:return e===qc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ln(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function np(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function W0(t){var e=np(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Qs(t){t._valueTracker||(t._valueTracker=W0(t))}function rp(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=np(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function No(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Fa(t,e){var n=e.checked;return Ee({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function zd(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ln(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ip(t,e){e=e.checked,e!=null&&Kc(t,"checked",e,!1)}function za(t,e){ip(t,e);var n=Ln(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Wa(t,e.type,n):e.hasOwnProperty("defaultValue")&&Wa(t,e.type,Ln(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Wd(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Wa(t,e,n){(e!=="number"||No(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Li=Array.isArray;function Fr(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ln(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ba(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(D(91));return Ee({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Bd(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(D(92));if(Li(n)){if(1<n.length)throw Error(D(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ln(n)}}function sp(t,e){var n=Ln(e.value),r=Ln(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function $d(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function op(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $a(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?op(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ks,lp=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ks=Ks||document.createElement("div"),Ks.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ks.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function es(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var zi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},B0=["Webkit","ms","Moz","O"];Object.keys(zi).forEach(function(t){B0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),zi[e]=zi[t]})});function ap(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||zi.hasOwnProperty(t)&&zi[t]?(""+e).trim():e+"px"}function cp(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ap(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var $0=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ua(t,e){if(e){if($0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(D(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(D(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(D(61))}if(e.style!=null&&typeof e.style!="object")throw Error(D(62))}}function Va(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ga=null;function Zc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ha=null,zr=null,Wr=null;function Ud(t){if(t=Is(t)){if(typeof Ha!="function")throw Error(D(280));var e=t.stateNode;e&&(e=vl(e),Ha(t.stateNode,t.type,e))}}function up(t){zr?Wr?Wr.push(t):Wr=[t]:zr=t}function dp(){if(zr){var t=zr,e=Wr;if(Wr=zr=null,Ud(t),e)for(t=0;t<e.length;t++)Ud(e[t])}}function fp(t,e){return t(e)}function hp(){}var Xl=!1;function pp(t,e,n){if(Xl)return t(e,n);Xl=!0;try{return fp(t,e,n)}finally{Xl=!1,(zr!==null||Wr!==null)&&(hp(),dp())}}function ts(t,e){var n=t.stateNode;if(n===null)return null;var r=vl(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(D(231,e,typeof n));return n}var Ya=!1;if(tn)try{var ki={};Object.defineProperty(ki,"passive",{get:function(){Ya=!0}}),window.addEventListener("test",ki,ki),window.removeEventListener("test",ki,ki)}catch{Ya=!1}function U0(t,e,n,r,i,s,o,c,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var Wi=!1,bo=null,To=!1,Qa=null,V0={onError:function(t){Wi=!0,bo=t}};function G0(t,e,n,r,i,s,o,c,a){Wi=!1,bo=null,U0.apply(V0,arguments)}function H0(t,e,n,r,i,s,o,c,a){if(G0.apply(this,arguments),Wi){if(Wi){var u=bo;Wi=!1,bo=null}else throw Error(D(198));To||(To=!0,Qa=u)}}function fr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function mp(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Vd(t){if(fr(t)!==t)throw Error(D(188))}function Y0(t){var e=t.alternate;if(!e){if(e=fr(t),e===null)throw Error(D(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Vd(i),t;if(s===r)return Vd(i),e;s=s.sibling}throw Error(D(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,c=i.child;c;){if(c===n){o=!0,n=i,r=s;break}if(c===r){o=!0,r=i,n=s;break}c=c.sibling}if(!o){for(c=s.child;c;){if(c===n){o=!0,n=s,r=i;break}if(c===r){o=!0,r=s,n=i;break}c=c.sibling}if(!o)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?t:e}function gp(t){return t=Y0(t),t!==null?yp(t):null}function yp(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=yp(t);if(e!==null)return e;t=t.sibling}return null}var vp=pt.unstable_scheduleCallback,Gd=pt.unstable_cancelCallback,Q0=pt.unstable_shouldYield,K0=pt.unstable_requestPaint,Pe=pt.unstable_now,q0=pt.unstable_getCurrentPriorityLevel,eu=pt.unstable_ImmediatePriority,xp=pt.unstable_UserBlockingPriority,Po=pt.unstable_NormalPriority,X0=pt.unstable_LowPriority,_p=pt.unstable_IdlePriority,pl=null,Vt=null;function J0(t){if(Vt&&typeof Vt.onCommitFiberRoot=="function")try{Vt.onCommitFiberRoot(pl,t,void 0,(t.current.flags&128)===128)}catch{}}var Rt=Math.clz32?Math.clz32:tv,Z0=Math.log,ev=Math.LN2;function tv(t){return t>>>=0,t===0?32:31-(Z0(t)/ev|0)|0}var qs=64,Xs=4194304;function Mi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function jo(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var c=o&~i;c!==0?r=Mi(c):(s&=o,s!==0&&(r=Mi(s)))}else o=n&~i,o!==0?r=Mi(o):s!==0&&(r=Mi(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Rt(e),i=1<<n,r|=t[n],e&=~i;return r}function nv(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rv(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Rt(s),c=1<<o,a=i[o];a===-1?(!(c&n)||c&r)&&(i[o]=nv(c,e)):a<=e&&(t.expiredLanes|=c),s&=~c}}function Ka(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function wp(){var t=qs;return qs<<=1,!(qs&4194240)&&(qs=64),t}function Jl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ps(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Rt(e),t[e]=n}function iv(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Rt(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function tu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Rt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ae=0;function Sp(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var kp,nu,Cp,Ep,Np,qa=!1,Js=[],Cn=null,En=null,Nn=null,ns=new Map,rs=new Map,_n=[],sv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hd(t,e){switch(t){case"focusin":case"focusout":Cn=null;break;case"dragenter":case"dragleave":En=null;break;case"mouseover":case"mouseout":Nn=null;break;case"pointerover":case"pointerout":ns.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":rs.delete(e.pointerId)}}function Ci(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Is(e),e!==null&&nu(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function ov(t,e,n,r,i){switch(e){case"focusin":return Cn=Ci(Cn,t,e,n,r,i),!0;case"dragenter":return En=Ci(En,t,e,n,r,i),!0;case"mouseover":return Nn=Ci(Nn,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ns.set(s,Ci(ns.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,rs.set(s,Ci(rs.get(s)||null,t,e,n,r,i)),!0}return!1}function bp(t){var e=qn(t.target);if(e!==null){var n=fr(e);if(n!==null){if(e=n.tag,e===13){if(e=mp(n),e!==null){t.blockedOn=e,Np(t.priority,function(){Cp(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function po(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Xa(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ga=r,n.target.dispatchEvent(r),Ga=null}else return e=Is(n),e!==null&&nu(e),t.blockedOn=n,!1;e.shift()}return!0}function Yd(t,e,n){po(t)&&n.delete(e)}function lv(){qa=!1,Cn!==null&&po(Cn)&&(Cn=null),En!==null&&po(En)&&(En=null),Nn!==null&&po(Nn)&&(Nn=null),ns.forEach(Yd),rs.forEach(Yd)}function Ei(t,e){t.blockedOn===e&&(t.blockedOn=null,qa||(qa=!0,pt.unstable_scheduleCallback(pt.unstable_NormalPriority,lv)))}function is(t){function e(i){return Ei(i,t)}if(0<Js.length){Ei(Js[0],t);for(var n=1;n<Js.length;n++){var r=Js[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Cn!==null&&Ei(Cn,t),En!==null&&Ei(En,t),Nn!==null&&Ei(Nn,t),ns.forEach(e),rs.forEach(e),n=0;n<_n.length;n++)r=_n[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<_n.length&&(n=_n[0],n.blockedOn===null);)bp(n),n.blockedOn===null&&_n.shift()}var Br=an.ReactCurrentBatchConfig,Io=!0;function av(t,e,n,r){var i=ae,s=Br.transition;Br.transition=null;try{ae=1,ru(t,e,n,r)}finally{ae=i,Br.transition=s}}function cv(t,e,n,r){var i=ae,s=Br.transition;Br.transition=null;try{ae=4,ru(t,e,n,r)}finally{ae=i,Br.transition=s}}function ru(t,e,n,r){if(Io){var i=Xa(t,e,n,r);if(i===null)aa(t,e,r,Ro,n),Hd(t,r);else if(ov(i,t,e,n,r))r.stopPropagation();else if(Hd(t,r),e&4&&-1<sv.indexOf(t)){for(;i!==null;){var s=Is(i);if(s!==null&&kp(s),s=Xa(t,e,n,r),s===null&&aa(t,e,r,Ro,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else aa(t,e,r,null,n)}}var Ro=null;function Xa(t,e,n,r){if(Ro=null,t=Zc(r),t=qn(t),t!==null)if(e=fr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=mp(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ro=t,null}function Tp(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(q0()){case eu:return 1;case xp:return 4;case Po:case X0:return 16;case _p:return 536870912;default:return 16}default:return 16}}var Sn=null,iu=null,mo=null;function Pp(){if(mo)return mo;var t,e=iu,n=e.length,r,i="value"in Sn?Sn.value:Sn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return mo=i.slice(t,1<r?1-r:void 0)}function go(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Zs(){return!0}function Qd(){return!1}function gt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(s):s[c]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Zs:Qd,this.isPropagationStopped=Qd,this}return Ee(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zs)},persist:function(){},isPersistent:Zs}),e}var si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},su=gt(si),js=Ee({},si,{view:0,detail:0}),uv=gt(js),Zl,ea,Ni,ml=Ee({},js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ou,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ni&&(Ni&&t.type==="mousemove"?(Zl=t.screenX-Ni.screenX,ea=t.screenY-Ni.screenY):ea=Zl=0,Ni=t),Zl)},movementY:function(t){return"movementY"in t?t.movementY:ea}}),Kd=gt(ml),dv=Ee({},ml,{dataTransfer:0}),fv=gt(dv),hv=Ee({},js,{relatedTarget:0}),ta=gt(hv),pv=Ee({},si,{animationName:0,elapsedTime:0,pseudoElement:0}),mv=gt(pv),gv=Ee({},si,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yv=gt(gv),vv=Ee({},si,{data:0}),qd=gt(vv),xv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_v={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sv(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=wv[t])?!!e[t]:!1}function ou(){return Sv}var kv=Ee({},js,{key:function(t){if(t.key){var e=xv[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=go(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_v[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ou,charCode:function(t){return t.type==="keypress"?go(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?go(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Cv=gt(kv),Ev=Ee({},ml,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xd=gt(Ev),Nv=Ee({},js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ou}),bv=gt(Nv),Tv=Ee({},si,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pv=gt(Tv),jv=Ee({},ml,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Iv=gt(jv),Rv=[9,13,27,32],lu=tn&&"CompositionEvent"in window,Bi=null;tn&&"documentMode"in document&&(Bi=document.documentMode);var Av=tn&&"TextEvent"in window&&!Bi,jp=tn&&(!lu||Bi&&8<Bi&&11>=Bi),Jd=" ",Zd=!1;function Ip(t,e){switch(t){case"keyup":return Rv.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var br=!1;function Dv(t,e){switch(t){case"compositionend":return Rp(e);case"keypress":return e.which!==32?null:(Zd=!0,Jd);case"textInput":return t=e.data,t===Jd&&Zd?null:t;default:return null}}function Ov(t,e){if(br)return t==="compositionend"||!lu&&Ip(t,e)?(t=Pp(),mo=iu=Sn=null,br=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return jp&&e.locale!=="ko"?null:e.data;default:return null}}var Lv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ef(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Lv[t.type]:e==="textarea"}function Ap(t,e,n,r){up(r),e=Ao(e,"onChange"),0<e.length&&(n=new su("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var $i=null,ss=null;function Mv(t){Vp(t,0)}function gl(t){var e=jr(t);if(rp(e))return t}function Fv(t,e){if(t==="change")return e}var Dp=!1;if(tn){var na;if(tn){var ra="oninput"in document;if(!ra){var tf=document.createElement("div");tf.setAttribute("oninput","return;"),ra=typeof tf.oninput=="function"}na=ra}else na=!1;Dp=na&&(!document.documentMode||9<document.documentMode)}function nf(){$i&&($i.detachEvent("onpropertychange",Op),ss=$i=null)}function Op(t){if(t.propertyName==="value"&&gl(ss)){var e=[];Ap(e,ss,t,Zc(t)),pp(Mv,e)}}function zv(t,e,n){t==="focusin"?(nf(),$i=e,ss=n,$i.attachEvent("onpropertychange",Op)):t==="focusout"&&nf()}function Wv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gl(ss)}function Bv(t,e){if(t==="click")return gl(e)}function $v(t,e){if(t==="input"||t==="change")return gl(e)}function Uv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ot=typeof Object.is=="function"?Object.is:Uv;function os(t,e){if(Ot(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Aa.call(e,i)||!Ot(t[i],e[i]))return!1}return!0}function rf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sf(t,e){var n=rf(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rf(n)}}function Lp(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Lp(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Mp(){for(var t=window,e=No();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=No(t.document)}return e}function au(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Vv(t){var e=Mp(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Lp(n.ownerDocument.documentElement,n)){if(r!==null&&au(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=sf(n,s);var o=sf(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Gv=tn&&"documentMode"in document&&11>=document.documentMode,Tr=null,Ja=null,Ui=null,Za=!1;function of(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Za||Tr==null||Tr!==No(r)||(r=Tr,"selectionStart"in r&&au(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ui&&os(Ui,r)||(Ui=r,r=Ao(Ja,"onSelect"),0<r.length&&(e=new su("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Tr)))}function eo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Pr={animationend:eo("Animation","AnimationEnd"),animationiteration:eo("Animation","AnimationIteration"),animationstart:eo("Animation","AnimationStart"),transitionend:eo("Transition","TransitionEnd")},ia={},Fp={};tn&&(Fp=document.createElement("div").style,"AnimationEvent"in window||(delete Pr.animationend.animation,delete Pr.animationiteration.animation,delete Pr.animationstart.animation),"TransitionEvent"in window||delete Pr.transitionend.transition);function yl(t){if(ia[t])return ia[t];if(!Pr[t])return t;var e=Pr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Fp)return ia[t]=e[n];return t}var zp=yl("animationend"),Wp=yl("animationiteration"),Bp=yl("animationstart"),$p=yl("transitionend"),Up=new Map,lf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bn(t,e){Up.set(t,e),dr(e,[t])}for(var sa=0;sa<lf.length;sa++){var oa=lf[sa],Hv=oa.toLowerCase(),Yv=oa[0].toUpperCase()+oa.slice(1);Bn(Hv,"on"+Yv)}Bn(zp,"onAnimationEnd");Bn(Wp,"onAnimationIteration");Bn(Bp,"onAnimationStart");Bn("dblclick","onDoubleClick");Bn("focusin","onFocus");Bn("focusout","onBlur");Bn($p,"onTransitionEnd");Yr("onMouseEnter",["mouseout","mouseover"]);Yr("onMouseLeave",["mouseout","mouseover"]);Yr("onPointerEnter",["pointerout","pointerover"]);Yr("onPointerLeave",["pointerout","pointerover"]);dr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));dr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));dr("onBeforeInput",["compositionend","keypress","textInput","paste"]);dr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));dr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));dr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fi));function af(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,H0(r,e,void 0,t),t.currentTarget=null}function Vp(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var c=r[o],a=c.instance,u=c.currentTarget;if(c=c.listener,a!==s&&i.isPropagationStopped())break e;af(i,c,u),s=a}else for(o=0;o<r.length;o++){if(c=r[o],a=c.instance,u=c.currentTarget,c=c.listener,a!==s&&i.isPropagationStopped())break e;af(i,c,u),s=a}}}if(To)throw t=Qa,To=!1,Qa=null,t}function ge(t,e){var n=e[ic];n===void 0&&(n=e[ic]=new Set);var r=t+"__bubble";n.has(r)||(Gp(e,t,2,!1),n.add(r))}function la(t,e,n){var r=0;e&&(r|=4),Gp(n,t,r,e)}var to="_reactListening"+Math.random().toString(36).slice(2);function ls(t){if(!t[to]){t[to]=!0,Jh.forEach(function(n){n!=="selectionchange"&&(Qv.has(n)||la(n,!1,t),la(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[to]||(e[to]=!0,la("selectionchange",!1,e))}}function Gp(t,e,n,r){switch(Tp(e)){case 1:var i=av;break;case 4:i=cv;break;default:i=ru}n=i.bind(null,e,n,t),i=void 0,!Ya||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function aa(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var c=r.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;c!==null;){if(o=qn(c),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}c=c.parentNode}}r=r.return}pp(function(){var u=s,h=Zc(n),p=[];e:{var f=Up.get(t);if(f!==void 0){var _=su,E=t;switch(t){case"keypress":if(go(n)===0)break e;case"keydown":case"keyup":_=Cv;break;case"focusin":E="focus",_=ta;break;case"focusout":E="blur",_=ta;break;case"beforeblur":case"afterblur":_=ta;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Kd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=fv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=bv;break;case zp:case Wp:case Bp:_=mv;break;case $p:_=Pv;break;case"scroll":_=uv;break;case"wheel":_=Iv;break;case"copy":case"cut":case"paste":_=yv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Xd}var k=(e&4)!==0,S=!k&&t==="scroll",m=k?f!==null?f+"Capture":null:f;k=[];for(var g=u,x;g!==null;){x=g;var T=x.stateNode;if(x.tag===5&&T!==null&&(x=T,m!==null&&(T=ts(g,m),T!=null&&k.push(as(g,T,x)))),S)break;g=g.return}0<k.length&&(f=new _(f,E,null,n,h),p.push({event:f,listeners:k}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",f&&n!==Ga&&(E=n.relatedTarget||n.fromElement)&&(qn(E)||E[nn]))break e;if((_||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,_?(E=n.relatedTarget||n.toElement,_=u,E=E?qn(E):null,E!==null&&(S=fr(E),E!==S||E.tag!==5&&E.tag!==6)&&(E=null)):(_=null,E=u),_!==E)){if(k=Kd,T="onMouseLeave",m="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(k=Xd,T="onPointerLeave",m="onPointerEnter",g="pointer"),S=_==null?f:jr(_),x=E==null?f:jr(E),f=new k(T,g+"leave",_,n,h),f.target=S,f.relatedTarget=x,T=null,qn(h)===u&&(k=new k(m,g+"enter",E,n,h),k.target=x,k.relatedTarget=S,T=k),S=T,_&&E)t:{for(k=_,m=E,g=0,x=k;x;x=kr(x))g++;for(x=0,T=m;T;T=kr(T))x++;for(;0<g-x;)k=kr(k),g--;for(;0<x-g;)m=kr(m),x--;for(;g--;){if(k===m||m!==null&&k===m.alternate)break t;k=kr(k),m=kr(m)}k=null}else k=null;_!==null&&cf(p,f,_,k,!1),E!==null&&S!==null&&cf(p,S,E,k,!0)}}e:{if(f=u?jr(u):window,_=f.nodeName&&f.nodeName.toLowerCase(),_==="select"||_==="input"&&f.type==="file")var R=Fv;else if(ef(f))if(Dp)R=$v;else{R=Wv;var P=zv}else(_=f.nodeName)&&_.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(R=Bv);if(R&&(R=R(t,u))){Ap(p,R,n,h);break e}P&&P(t,f,u),t==="focusout"&&(P=f._wrapperState)&&P.controlled&&f.type==="number"&&Wa(f,"number",f.value)}switch(P=u?jr(u):window,t){case"focusin":(ef(P)||P.contentEditable==="true")&&(Tr=P,Ja=u,Ui=null);break;case"focusout":Ui=Ja=Tr=null;break;case"mousedown":Za=!0;break;case"contextmenu":case"mouseup":case"dragend":Za=!1,of(p,n,h);break;case"selectionchange":if(Gv)break;case"keydown":case"keyup":of(p,n,h)}var j;if(lu)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else br?Ip(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(jp&&n.locale!=="ko"&&(br||I!=="onCompositionStart"?I==="onCompositionEnd"&&br&&(j=Pp()):(Sn=h,iu="value"in Sn?Sn.value:Sn.textContent,br=!0)),P=Ao(u,I),0<P.length&&(I=new qd(I,t,null,n,h),p.push({event:I,listeners:P}),j?I.data=j:(j=Rp(n),j!==null&&(I.data=j)))),(j=Av?Dv(t,n):Ov(t,n))&&(u=Ao(u,"onBeforeInput"),0<u.length&&(h=new qd("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:u}),h.data=j))}Vp(p,e)})}function as(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ao(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ts(t,n),s!=null&&r.unshift(as(t,s,i)),s=ts(t,e),s!=null&&r.push(as(t,s,i))),t=t.return}return r}function kr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function cf(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var c=n,a=c.alternate,u=c.stateNode;if(a!==null&&a===r)break;c.tag===5&&u!==null&&(c=u,i?(a=ts(n,s),a!=null&&o.unshift(as(n,a,c))):i||(a=ts(n,s),a!=null&&o.push(as(n,a,c)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Kv=/\r\n?/g,qv=/\u0000|\uFFFD/g;function uf(t){return(typeof t=="string"?t:""+t).replace(Kv,`
`).replace(qv,"")}function no(t,e,n){if(e=uf(e),uf(t)!==e&&n)throw Error(D(425))}function Do(){}var ec=null,tc=null;function nc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var rc=typeof setTimeout=="function"?setTimeout:void 0,Xv=typeof clearTimeout=="function"?clearTimeout:void 0,df=typeof Promise=="function"?Promise:void 0,Jv=typeof queueMicrotask=="function"?queueMicrotask:typeof df<"u"?function(t){return df.resolve(null).then(t).catch(Zv)}:rc;function Zv(t){setTimeout(function(){throw t})}function ca(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),is(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);is(e)}function bn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ff(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var oi=Math.random().toString(36).slice(2),Ut="__reactFiber$"+oi,cs="__reactProps$"+oi,nn="__reactContainer$"+oi,ic="__reactEvents$"+oi,ex="__reactListeners$"+oi,tx="__reactHandles$"+oi;function qn(t){var e=t[Ut];if(e)return e;for(var n=t.parentNode;n;){if(e=n[nn]||n[Ut]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ff(t);t!==null;){if(n=t[Ut])return n;t=ff(t)}return e}t=n,n=t.parentNode}return null}function Is(t){return t=t[Ut]||t[nn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function jr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(D(33))}function vl(t){return t[cs]||null}var sc=[],Ir=-1;function $n(t){return{current:t}}function ve(t){0>Ir||(t.current=sc[Ir],sc[Ir]=null,Ir--)}function pe(t,e){Ir++,sc[Ir]=t.current,t.current=e}var Mn={},Ke=$n(Mn),ot=$n(!1),rr=Mn;function Qr(t,e){var n=t.type.contextTypes;if(!n)return Mn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function lt(t){return t=t.childContextTypes,t!=null}function Oo(){ve(ot),ve(Ke)}function hf(t,e,n){if(Ke.current!==Mn)throw Error(D(168));pe(Ke,e),pe(ot,n)}function Hp(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(D(108,z0(t)||"Unknown",i));return Ee({},n,r)}function Lo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Mn,rr=Ke.current,pe(Ke,t),pe(ot,ot.current),!0}function pf(t,e,n){var r=t.stateNode;if(!r)throw Error(D(169));n?(t=Hp(t,e,rr),r.__reactInternalMemoizedMergedChildContext=t,ve(ot),ve(Ke),pe(Ke,t)):ve(ot),pe(ot,n)}var Kt=null,xl=!1,ua=!1;function Yp(t){Kt===null?Kt=[t]:Kt.push(t)}function nx(t){xl=!0,Yp(t)}function Un(){if(!ua&&Kt!==null){ua=!0;var t=0,e=ae;try{var n=Kt;for(ae=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Kt=null,xl=!1}catch(i){throw Kt!==null&&(Kt=Kt.slice(t+1)),vp(eu,Un),i}finally{ae=e,ua=!1}}return null}var Rr=[],Ar=0,Mo=null,Fo=0,vt=[],xt=0,ir=null,qt=1,Xt="";function Hn(t,e){Rr[Ar++]=Fo,Rr[Ar++]=Mo,Mo=t,Fo=e}function Qp(t,e,n){vt[xt++]=qt,vt[xt++]=Xt,vt[xt++]=ir,ir=t;var r=qt;t=Xt;var i=32-Rt(r)-1;r&=~(1<<i),n+=1;var s=32-Rt(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,qt=1<<32-Rt(e)+i|n<<i|r,Xt=s+t}else qt=1<<s|n<<i|r,Xt=t}function cu(t){t.return!==null&&(Hn(t,1),Qp(t,1,0))}function uu(t){for(;t===Mo;)Mo=Rr[--Ar],Rr[Ar]=null,Fo=Rr[--Ar],Rr[Ar]=null;for(;t===ir;)ir=vt[--xt],vt[xt]=null,Xt=vt[--xt],vt[xt]=null,qt=vt[--xt],vt[xt]=null}var ht=null,ft=null,xe=!1,Tt=null;function Kp(t,e){var n=_t(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function mf(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ht=t,ft=bn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ht=t,ft=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ir!==null?{id:qt,overflow:Xt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=_t(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ht=t,ft=null,!0):!1;default:return!1}}function oc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function lc(t){if(xe){var e=ft;if(e){var n=e;if(!mf(t,e)){if(oc(t))throw Error(D(418));e=bn(n.nextSibling);var r=ht;e&&mf(t,e)?Kp(r,n):(t.flags=t.flags&-4097|2,xe=!1,ht=t)}}else{if(oc(t))throw Error(D(418));t.flags=t.flags&-4097|2,xe=!1,ht=t}}}function gf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ht=t}function ro(t){if(t!==ht)return!1;if(!xe)return gf(t),xe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!nc(t.type,t.memoizedProps)),e&&(e=ft)){if(oc(t))throw qp(),Error(D(418));for(;e;)Kp(t,e),e=bn(e.nextSibling)}if(gf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(D(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ft=bn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ft=null}}else ft=ht?bn(t.stateNode.nextSibling):null;return!0}function qp(){for(var t=ft;t;)t=bn(t.nextSibling)}function Kr(){ft=ht=null,xe=!1}function du(t){Tt===null?Tt=[t]:Tt.push(t)}var rx=an.ReactCurrentBatchConfig;function bi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var c=i.refs;o===null?delete c[s]:c[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,t))}return t}function io(t,e){throw t=Object.prototype.toString.call(e),Error(D(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function yf(t){var e=t._init;return e(t._payload)}function Xp(t){function e(m,g){if(t){var x=m.deletions;x===null?(m.deletions=[g],m.flags|=16):x.push(g)}}function n(m,g){if(!t)return null;for(;g!==null;)e(m,g),g=g.sibling;return null}function r(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function i(m,g){return m=In(m,g),m.index=0,m.sibling=null,m}function s(m,g,x){return m.index=x,t?(x=m.alternate,x!==null?(x=x.index,x<g?(m.flags|=2,g):x):(m.flags|=2,g)):(m.flags|=1048576,g)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function c(m,g,x,T){return g===null||g.tag!==6?(g=ya(x,m.mode,T),g.return=m,g):(g=i(g,x),g.return=m,g)}function a(m,g,x,T){var R=x.type;return R===Nr?h(m,g,x.props.children,T,x.key):g!==null&&(g.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===vn&&yf(R)===g.type)?(T=i(g,x.props),T.ref=bi(m,g,x),T.return=m,T):(T=ko(x.type,x.key,x.props,null,m.mode,T),T.ref=bi(m,g,x),T.return=m,T)}function u(m,g,x,T){return g===null||g.tag!==4||g.stateNode.containerInfo!==x.containerInfo||g.stateNode.implementation!==x.implementation?(g=va(x,m.mode,T),g.return=m,g):(g=i(g,x.children||[]),g.return=m,g)}function h(m,g,x,T,R){return g===null||g.tag!==7?(g=nr(x,m.mode,T,R),g.return=m,g):(g=i(g,x),g.return=m,g)}function p(m,g,x){if(typeof g=="string"&&g!==""||typeof g=="number")return g=ya(""+g,m.mode,x),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ys:return x=ko(g.type,g.key,g.props,null,m.mode,x),x.ref=bi(m,null,g),x.return=m,x;case Er:return g=va(g,m.mode,x),g.return=m,g;case vn:var T=g._init;return p(m,T(g._payload),x)}if(Li(g)||Si(g))return g=nr(g,m.mode,x,null),g.return=m,g;io(m,g)}return null}function f(m,g,x,T){var R=g!==null?g.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return R!==null?null:c(m,g,""+x,T);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ys:return x.key===R?a(m,g,x,T):null;case Er:return x.key===R?u(m,g,x,T):null;case vn:return R=x._init,f(m,g,R(x._payload),T)}if(Li(x)||Si(x))return R!==null?null:h(m,g,x,T,null);io(m,x)}return null}function _(m,g,x,T,R){if(typeof T=="string"&&T!==""||typeof T=="number")return m=m.get(x)||null,c(g,m,""+T,R);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Ys:return m=m.get(T.key===null?x:T.key)||null,a(g,m,T,R);case Er:return m=m.get(T.key===null?x:T.key)||null,u(g,m,T,R);case vn:var P=T._init;return _(m,g,x,P(T._payload),R)}if(Li(T)||Si(T))return m=m.get(x)||null,h(g,m,T,R,null);io(g,T)}return null}function E(m,g,x,T){for(var R=null,P=null,j=g,I=g=0,Y=null;j!==null&&I<x.length;I++){j.index>I?(Y=j,j=null):Y=j.sibling;var B=f(m,j,x[I],T);if(B===null){j===null&&(j=Y);break}t&&j&&B.alternate===null&&e(m,j),g=s(B,g,I),P===null?R=B:P.sibling=B,P=B,j=Y}if(I===x.length)return n(m,j),xe&&Hn(m,I),R;if(j===null){for(;I<x.length;I++)j=p(m,x[I],T),j!==null&&(g=s(j,g,I),P===null?R=j:P.sibling=j,P=j);return xe&&Hn(m,I),R}for(j=r(m,j);I<x.length;I++)Y=_(j,m,I,x[I],T),Y!==null&&(t&&Y.alternate!==null&&j.delete(Y.key===null?I:Y.key),g=s(Y,g,I),P===null?R=Y:P.sibling=Y,P=Y);return t&&j.forEach(function(re){return e(m,re)}),xe&&Hn(m,I),R}function k(m,g,x,T){var R=Si(x);if(typeof R!="function")throw Error(D(150));if(x=R.call(x),x==null)throw Error(D(151));for(var P=R=null,j=g,I=g=0,Y=null,B=x.next();j!==null&&!B.done;I++,B=x.next()){j.index>I?(Y=j,j=null):Y=j.sibling;var re=f(m,j,B.value,T);if(re===null){j===null&&(j=Y);break}t&&j&&re.alternate===null&&e(m,j),g=s(re,g,I),P===null?R=re:P.sibling=re,P=re,j=Y}if(B.done)return n(m,j),xe&&Hn(m,I),R;if(j===null){for(;!B.done;I++,B=x.next())B=p(m,B.value,T),B!==null&&(g=s(B,g,I),P===null?R=B:P.sibling=B,P=B);return xe&&Hn(m,I),R}for(j=r(m,j);!B.done;I++,B=x.next())B=_(j,m,I,B.value,T),B!==null&&(t&&B.alternate!==null&&j.delete(B.key===null?I:B.key),g=s(B,g,I),P===null?R=B:P.sibling=B,P=B);return t&&j.forEach(function(de){return e(m,de)}),xe&&Hn(m,I),R}function S(m,g,x,T){if(typeof x=="object"&&x!==null&&x.type===Nr&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Ys:e:{for(var R=x.key,P=g;P!==null;){if(P.key===R){if(R=x.type,R===Nr){if(P.tag===7){n(m,P.sibling),g=i(P,x.props.children),g.return=m,m=g;break e}}else if(P.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===vn&&yf(R)===P.type){n(m,P.sibling),g=i(P,x.props),g.ref=bi(m,P,x),g.return=m,m=g;break e}n(m,P);break}else e(m,P);P=P.sibling}x.type===Nr?(g=nr(x.props.children,m.mode,T,x.key),g.return=m,m=g):(T=ko(x.type,x.key,x.props,null,m.mode,T),T.ref=bi(m,g,x),T.return=m,m=T)}return o(m);case Er:e:{for(P=x.key;g!==null;){if(g.key===P)if(g.tag===4&&g.stateNode.containerInfo===x.containerInfo&&g.stateNode.implementation===x.implementation){n(m,g.sibling),g=i(g,x.children||[]),g.return=m,m=g;break e}else{n(m,g);break}else e(m,g);g=g.sibling}g=va(x,m.mode,T),g.return=m,m=g}return o(m);case vn:return P=x._init,S(m,g,P(x._payload),T)}if(Li(x))return E(m,g,x,T);if(Si(x))return k(m,g,x,T);io(m,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,g!==null&&g.tag===6?(n(m,g.sibling),g=i(g,x),g.return=m,m=g):(n(m,g),g=ya(x,m.mode,T),g.return=m,m=g),o(m)):n(m,g)}return S}var qr=Xp(!0),Jp=Xp(!1),zo=$n(null),Wo=null,Dr=null,fu=null;function hu(){fu=Dr=Wo=null}function pu(t){var e=zo.current;ve(zo),t._currentValue=e}function ac(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function $r(t,e){Wo=t,fu=Dr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(it=!0),t.firstContext=null)}function St(t){var e=t._currentValue;if(fu!==t)if(t={context:t,memoizedValue:e,next:null},Dr===null){if(Wo===null)throw Error(D(308));Dr=t,Wo.dependencies={lanes:0,firstContext:t}}else Dr=Dr.next=t;return e}var Xn=null;function mu(t){Xn===null?Xn=[t]:Xn.push(t)}function Zp(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,mu(e)):(n.next=i.next,i.next=n),e.interleaved=n,rn(t,r)}function rn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var xn=!1;function gu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function em(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Tn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,se&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,rn(t,n)}return i=r.interleaved,i===null?(e.next=e,mu(r)):(e.next=i.next,i.next=e),r.interleaved=e,rn(t,n)}function yo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,tu(t,n)}}function vf(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Bo(t,e,n,r){var i=t.updateQueue;xn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var a=c,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var h=t.alternate;h!==null&&(h=h.updateQueue,c=h.lastBaseUpdate,c!==o&&(c===null?h.firstBaseUpdate=u:c.next=u,h.lastBaseUpdate=a))}if(s!==null){var p=i.baseState;o=0,h=u=a=null,c=s;do{var f=c.lane,_=c.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:_,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var E=t,k=c;switch(f=e,_=n,k.tag){case 1:if(E=k.payload,typeof E=="function"){p=E.call(_,p,f);break e}p=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=k.payload,f=typeof E=="function"?E.call(_,p,f):E,f==null)break e;p=Ee({},p,f);break e;case 2:xn=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[c]:f.push(c))}else _={eventTime:_,lane:f,tag:c.tag,payload:c.payload,callback:c.callback,next:null},h===null?(u=h=_,a=p):h=h.next=_,o|=f;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;f=c,c=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(h===null&&(a=p),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);or|=o,t.lanes=o,t.memoizedState=p}}function xf(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(D(191,i));i.call(r)}}}var Rs={},Gt=$n(Rs),us=$n(Rs),ds=$n(Rs);function Jn(t){if(t===Rs)throw Error(D(174));return t}function yu(t,e){switch(pe(ds,e),pe(us,t),pe(Gt,Rs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:$a(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=$a(e,t)}ve(Gt),pe(Gt,e)}function Xr(){ve(Gt),ve(us),ve(ds)}function tm(t){Jn(ds.current);var e=Jn(Gt.current),n=$a(e,t.type);e!==n&&(pe(us,t),pe(Gt,n))}function vu(t){us.current===t&&(ve(Gt),ve(us))}var ke=$n(0);function $o(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var da=[];function xu(){for(var t=0;t<da.length;t++)da[t]._workInProgressVersionPrimary=null;da.length=0}var vo=an.ReactCurrentDispatcher,fa=an.ReactCurrentBatchConfig,sr=0,Ce=null,Re=null,Fe=null,Uo=!1,Vi=!1,fs=0,ix=0;function Ge(){throw Error(D(321))}function _u(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ot(t[n],e[n]))return!1;return!0}function wu(t,e,n,r,i,s){if(sr=s,Ce=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vo.current=t===null||t.memoizedState===null?ax:cx,t=n(r,i),Vi){s=0;do{if(Vi=!1,fs=0,25<=s)throw Error(D(301));s+=1,Fe=Re=null,e.updateQueue=null,vo.current=ux,t=n(r,i)}while(Vi)}if(vo.current=Vo,e=Re!==null&&Re.next!==null,sr=0,Fe=Re=Ce=null,Uo=!1,e)throw Error(D(300));return t}function Su(){var t=fs!==0;return fs=0,t}function $t(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?Ce.memoizedState=Fe=t:Fe=Fe.next=t,Fe}function kt(){if(Re===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=Re.next;var e=Fe===null?Ce.memoizedState:Fe.next;if(e!==null)Fe=e,Re=t;else{if(t===null)throw Error(D(310));Re=t,t={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},Fe===null?Ce.memoizedState=Fe=t:Fe=Fe.next=t}return Fe}function hs(t,e){return typeof e=="function"?e(t):e}function ha(t){var e=kt(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var r=Re,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var c=o=null,a=null,u=s;do{var h=u.lane;if((sr&h)===h)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var p={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(c=a=p,o=r):a=a.next=p,Ce.lanes|=h,or|=h}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=c,Ot(r,e.memoizedState)||(it=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ce.lanes|=s,or|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function pa(t){var e=kt(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Ot(s,e.memoizedState)||(it=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function nm(){}function rm(t,e){var n=Ce,r=kt(),i=e(),s=!Ot(r.memoizedState,i);if(s&&(r.memoizedState=i,it=!0),r=r.queue,ku(om.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Fe!==null&&Fe.memoizedState.tag&1){if(n.flags|=2048,ps(9,sm.bind(null,n,r,i,e),void 0,null),Be===null)throw Error(D(349));sr&30||im(n,e,i)}return i}function im(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ce.updateQueue,e===null?(e={lastEffect:null,stores:null},Ce.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function sm(t,e,n,r){e.value=n,e.getSnapshot=r,lm(e)&&am(t)}function om(t,e,n){return n(function(){lm(e)&&am(t)})}function lm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ot(t,n)}catch{return!0}}function am(t){var e=rn(t,1);e!==null&&At(e,t,1,-1)}function _f(t){var e=$t();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:t},e.queue=t,t=t.dispatch=lx.bind(null,Ce,t),[e.memoizedState,t]}function ps(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ce.updateQueue,e===null?(e={lastEffect:null,stores:null},Ce.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function cm(){return kt().memoizedState}function xo(t,e,n,r){var i=$t();Ce.flags|=t,i.memoizedState=ps(1|e,n,void 0,r===void 0?null:r)}function _l(t,e,n,r){var i=kt();r=r===void 0?null:r;var s=void 0;if(Re!==null){var o=Re.memoizedState;if(s=o.destroy,r!==null&&_u(r,o.deps)){i.memoizedState=ps(e,n,s,r);return}}Ce.flags|=t,i.memoizedState=ps(1|e,n,s,r)}function wf(t,e){return xo(8390656,8,t,e)}function ku(t,e){return _l(2048,8,t,e)}function um(t,e){return _l(4,2,t,e)}function dm(t,e){return _l(4,4,t,e)}function fm(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function hm(t,e,n){return n=n!=null?n.concat([t]):null,_l(4,4,fm.bind(null,e,t),n)}function Cu(){}function pm(t,e){var n=kt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_u(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function mm(t,e){var n=kt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_u(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function gm(t,e,n){return sr&21?(Ot(n,e)||(n=wp(),Ce.lanes|=n,or|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,it=!0),t.memoizedState=n)}function sx(t,e){var n=ae;ae=n!==0&&4>n?n:4,t(!0);var r=fa.transition;fa.transition={};try{t(!1),e()}finally{ae=n,fa.transition=r}}function ym(){return kt().memoizedState}function ox(t,e,n){var r=jn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},vm(t))xm(e,n);else if(n=Zp(t,e,n,r),n!==null){var i=Ze();At(n,t,r,i),_m(n,e,r)}}function lx(t,e,n){var r=jn(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(vm(t))xm(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,c=s(o,n);if(i.hasEagerState=!0,i.eagerState=c,Ot(c,o)){var a=e.interleaved;a===null?(i.next=i,mu(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=Zp(t,e,i,r),n!==null&&(i=Ze(),At(n,t,r,i),_m(n,e,r))}}function vm(t){var e=t.alternate;return t===Ce||e!==null&&e===Ce}function xm(t,e){Vi=Uo=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function _m(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,tu(t,n)}}var Vo={readContext:St,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useInsertionEffect:Ge,useLayoutEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useMutableSource:Ge,useSyncExternalStore:Ge,useId:Ge,unstable_isNewReconciler:!1},ax={readContext:St,useCallback:function(t,e){return $t().memoizedState=[t,e===void 0?null:e],t},useContext:St,useEffect:wf,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,xo(4194308,4,fm.bind(null,e,t),n)},useLayoutEffect:function(t,e){return xo(4194308,4,t,e)},useInsertionEffect:function(t,e){return xo(4,2,t,e)},useMemo:function(t,e){var n=$t();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=$t();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=ox.bind(null,Ce,t),[r.memoizedState,t]},useRef:function(t){var e=$t();return t={current:t},e.memoizedState=t},useState:_f,useDebugValue:Cu,useDeferredValue:function(t){return $t().memoizedState=t},useTransition:function(){var t=_f(!1),e=t[0];return t=sx.bind(null,t[1]),$t().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ce,i=$t();if(xe){if(n===void 0)throw Error(D(407));n=n()}else{if(n=e(),Be===null)throw Error(D(349));sr&30||im(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,wf(om.bind(null,r,s,t),[t]),r.flags|=2048,ps(9,sm.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=$t(),e=Be.identifierPrefix;if(xe){var n=Xt,r=qt;n=(r&~(1<<32-Rt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=fs++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=ix++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},cx={readContext:St,useCallback:pm,useContext:St,useEffect:ku,useImperativeHandle:hm,useInsertionEffect:um,useLayoutEffect:dm,useMemo:mm,useReducer:ha,useRef:cm,useState:function(){return ha(hs)},useDebugValue:Cu,useDeferredValue:function(t){var e=kt();return gm(e,Re.memoizedState,t)},useTransition:function(){var t=ha(hs)[0],e=kt().memoizedState;return[t,e]},useMutableSource:nm,useSyncExternalStore:rm,useId:ym,unstable_isNewReconciler:!1},ux={readContext:St,useCallback:pm,useContext:St,useEffect:ku,useImperativeHandle:hm,useInsertionEffect:um,useLayoutEffect:dm,useMemo:mm,useReducer:pa,useRef:cm,useState:function(){return pa(hs)},useDebugValue:Cu,useDeferredValue:function(t){var e=kt();return Re===null?e.memoizedState=t:gm(e,Re.memoizedState,t)},useTransition:function(){var t=pa(hs)[0],e=kt().memoizedState;return[t,e]},useMutableSource:nm,useSyncExternalStore:rm,useId:ym,unstable_isNewReconciler:!1};function Nt(t,e){if(t&&t.defaultProps){e=Ee({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function cc(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ee({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var wl={isMounted:function(t){return(t=t._reactInternals)?fr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ze(),i=jn(t),s=Zt(r,i);s.payload=e,n!=null&&(s.callback=n),e=Tn(t,s,i),e!==null&&(At(e,t,i,r),yo(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ze(),i=jn(t),s=Zt(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Tn(t,s,i),e!==null&&(At(e,t,i,r),yo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ze(),r=jn(t),i=Zt(n,r);i.tag=2,e!=null&&(i.callback=e),e=Tn(t,i,r),e!==null&&(At(e,t,r,n),yo(e,t,r))}};function Sf(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!os(n,r)||!os(i,s):!0}function wm(t,e,n){var r=!1,i=Mn,s=e.contextType;return typeof s=="object"&&s!==null?s=St(s):(i=lt(e)?rr:Ke.current,r=e.contextTypes,s=(r=r!=null)?Qr(t,i):Mn),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=wl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function kf(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&wl.enqueueReplaceState(e,e.state,null)}function uc(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},gu(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=St(s):(s=lt(e)?rr:Ke.current,i.context=Qr(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(cc(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&wl.enqueueReplaceState(i,i.state,null),Bo(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Jr(t,e){try{var n="",r=e;do n+=F0(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function ma(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function dc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var dx=typeof WeakMap=="function"?WeakMap:Map;function Sm(t,e,n){n=Zt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ho||(Ho=!0,wc=r),dc(t,e)},n}function km(t,e,n){n=Zt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){dc(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){dc(t,e),typeof r!="function"&&(Pn===null?Pn=new Set([this]):Pn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Cf(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new dx;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Ex.bind(null,t,e,n),e.then(t,t))}function Ef(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Nf(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Zt(-1,1),e.tag=2,Tn(n,e,1))),n.lanes|=1),t)}var fx=an.ReactCurrentOwner,it=!1;function Xe(t,e,n,r){e.child=t===null?Jp(e,null,n,r):qr(e,t.child,n,r)}function bf(t,e,n,r,i){n=n.render;var s=e.ref;return $r(e,i),r=wu(t,e,n,r,s,i),n=Su(),t!==null&&!it?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,sn(t,e,i)):(xe&&n&&cu(e),e.flags|=1,Xe(t,e,r,i),e.child)}function Tf(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Ru(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Cm(t,e,s,r,i)):(t=ko(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:os,n(o,r)&&t.ref===e.ref)return sn(t,e,i)}return e.flags|=1,t=In(s,r),t.ref=e.ref,t.return=e,e.child=t}function Cm(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(os(s,r)&&t.ref===e.ref)if(it=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(it=!0);else return e.lanes=t.lanes,sn(t,e,i)}return fc(t,e,n,r,i)}function Em(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},pe(Lr,dt),dt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,pe(Lr,dt),dt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,pe(Lr,dt),dt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,pe(Lr,dt),dt|=r;return Xe(t,e,i,n),e.child}function Nm(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function fc(t,e,n,r,i){var s=lt(n)?rr:Ke.current;return s=Qr(e,s),$r(e,i),n=wu(t,e,n,r,s,i),r=Su(),t!==null&&!it?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,sn(t,e,i)):(xe&&r&&cu(e),e.flags|=1,Xe(t,e,n,i),e.child)}function Pf(t,e,n,r,i){if(lt(n)){var s=!0;Lo(e)}else s=!1;if($r(e,i),e.stateNode===null)_o(t,e),wm(e,n,r),uc(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,c=e.memoizedProps;o.props=c;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=St(u):(u=lt(n)?rr:Ke.current,u=Qr(e,u));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==r||a!==u)&&kf(e,o,r,u),xn=!1;var f=e.memoizedState;o.state=f,Bo(e,r,o,i),a=e.memoizedState,c!==r||f!==a||ot.current||xn?(typeof h=="function"&&(cc(e,n,h,r),a=e.memoizedState),(c=xn||Sf(e,n,c,r,f,a,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=u,r=c):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,em(t,e),c=e.memoizedProps,u=e.type===e.elementType?c:Nt(e.type,c),o.props=u,p=e.pendingProps,f=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=St(a):(a=lt(n)?rr:Ke.current,a=Qr(e,a));var _=n.getDerivedStateFromProps;(h=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==p||f!==a)&&kf(e,o,r,a),xn=!1,f=e.memoizedState,o.state=f,Bo(e,r,o,i);var E=e.memoizedState;c!==p||f!==E||ot.current||xn?(typeof _=="function"&&(cc(e,n,_,r),E=e.memoizedState),(u=xn||Sf(e,n,u,r,f,E,a)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||c===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return hc(t,e,n,r,s,i)}function hc(t,e,n,r,i,s){Nm(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&pf(e,n,!1),sn(t,e,s);r=e.stateNode,fx.current=e;var c=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=qr(e,t.child,null,s),e.child=qr(e,null,c,s)):Xe(t,e,c,s),e.memoizedState=r.state,i&&pf(e,n,!0),e.child}function bm(t){var e=t.stateNode;e.pendingContext?hf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&hf(t,e.context,!1),yu(t,e.containerInfo)}function jf(t,e,n,r,i){return Kr(),du(i),e.flags|=256,Xe(t,e,n,r),e.child}var pc={dehydrated:null,treeContext:null,retryLane:0};function mc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Tm(t,e,n){var r=e.pendingProps,i=ke.current,s=!1,o=(e.flags&128)!==0,c;if((c=o)||(c=t!==null&&t.memoizedState===null?!1:(i&2)!==0),c?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),pe(ke,i&1),t===null)return lc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Cl(o,r,0,null),t=nr(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=mc(n),e.memoizedState=pc,t):Eu(e,o));if(i=t.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return hx(t,e,o,r,c,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,c=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=In(i,a),r.subtreeFlags=i.subtreeFlags&14680064),c!==null?s=In(c,s):(s=nr(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?mc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=pc,r}return s=t.child,t=s.sibling,r=In(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Eu(t,e){return e=Cl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function so(t,e,n,r){return r!==null&&du(r),qr(e,t.child,null,n),t=Eu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function hx(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=ma(Error(D(422))),so(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Cl({mode:"visible",children:r.children},i,0,null),s=nr(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&qr(e,t.child,null,o),e.child.memoizedState=mc(o),e.memoizedState=pc,s);if(!(e.mode&1))return so(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var c=r.dgst;return r=c,s=Error(D(419)),r=ma(s,r,void 0),so(t,e,o,r)}if(c=(o&t.childLanes)!==0,it||c){if(r=Be,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,rn(t,i),At(r,t,i,-1))}return Iu(),r=ma(Error(D(421))),so(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Nx.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ft=bn(i.nextSibling),ht=e,xe=!0,Tt=null,t!==null&&(vt[xt++]=qt,vt[xt++]=Xt,vt[xt++]=ir,qt=t.id,Xt=t.overflow,ir=e),e=Eu(e,r.children),e.flags|=4096,e)}function If(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ac(t.return,e,n)}function ga(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Pm(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Xe(t,e,r.children,n),r=ke.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&If(t,n,e);else if(t.tag===19)If(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(pe(ke,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&$o(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ga(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&$o(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ga(e,!0,n,null,s);break;case"together":ga(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _o(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function sn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),or|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(D(153));if(e.child!==null){for(t=e.child,n=In(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=In(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function px(t,e,n){switch(e.tag){case 3:bm(e),Kr();break;case 5:tm(e);break;case 1:lt(e.type)&&Lo(e);break;case 4:yu(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;pe(zo,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(pe(ke,ke.current&1),e.flags|=128,null):n&e.child.childLanes?Tm(t,e,n):(pe(ke,ke.current&1),t=sn(t,e,n),t!==null?t.sibling:null);pe(ke,ke.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Pm(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),pe(ke,ke.current),r)break;return null;case 22:case 23:return e.lanes=0,Em(t,e,n)}return sn(t,e,n)}var jm,gc,Im,Rm;jm=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};gc=function(){};Im=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Jn(Gt.current);var s=null;switch(n){case"input":i=Fa(t,i),r=Fa(t,r),s=[];break;case"select":i=Ee({},i,{value:void 0}),r=Ee({},r,{value:void 0}),s=[];break;case"textarea":i=Ba(t,i),r=Ba(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Do)}Ua(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var c=i[u];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Zi.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(c=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==c&&(a!=null||c!=null))if(u==="style")if(c){for(o in c)!c.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&c[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,c=c?c.__html:void 0,a!=null&&c!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Zi.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&ge("scroll",t),s||c===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Rm=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ti(t,e){if(!xe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function He(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function mx(t,e,n){var r=e.pendingProps;switch(uu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(e),null;case 1:return lt(e.type)&&Oo(),He(e),null;case 3:return r=e.stateNode,Xr(),ve(ot),ve(Ke),xu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ro(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Tt!==null&&(Cc(Tt),Tt=null))),gc(t,e),He(e),null;case 5:vu(e);var i=Jn(ds.current);if(n=e.type,t!==null&&e.stateNode!=null)Im(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(D(166));return He(e),null}if(t=Jn(Gt.current),ro(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ut]=e,r[cs]=s,t=(e.mode&1)!==0,n){case"dialog":ge("cancel",r),ge("close",r);break;case"iframe":case"object":case"embed":ge("load",r);break;case"video":case"audio":for(i=0;i<Fi.length;i++)ge(Fi[i],r);break;case"source":ge("error",r);break;case"img":case"image":case"link":ge("error",r),ge("load",r);break;case"details":ge("toggle",r);break;case"input":zd(r,s),ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ge("invalid",r);break;case"textarea":Bd(r,s),ge("invalid",r)}Ua(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var c=s[o];o==="children"?typeof c=="string"?r.textContent!==c&&(s.suppressHydrationWarning!==!0&&no(r.textContent,c,t),i=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(s.suppressHydrationWarning!==!0&&no(r.textContent,c,t),i=["children",""+c]):Zi.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&ge("scroll",r)}switch(n){case"input":Qs(r),Wd(r,s,!0);break;case"textarea":Qs(r),$d(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Do)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=op(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ut]=e,t[cs]=r,jm(t,e,!1,!1),e.stateNode=t;e:{switch(o=Va(n,r),n){case"dialog":ge("cancel",t),ge("close",t),i=r;break;case"iframe":case"object":case"embed":ge("load",t),i=r;break;case"video":case"audio":for(i=0;i<Fi.length;i++)ge(Fi[i],t);i=r;break;case"source":ge("error",t),i=r;break;case"img":case"image":case"link":ge("error",t),ge("load",t),i=r;break;case"details":ge("toggle",t),i=r;break;case"input":zd(t,r),i=Fa(t,r),ge("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ee({},r,{value:void 0}),ge("invalid",t);break;case"textarea":Bd(t,r),i=Ba(t,r),ge("invalid",t);break;default:i=r}Ua(n,i),c=i;for(s in c)if(c.hasOwnProperty(s)){var a=c[s];s==="style"?cp(t,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&lp(t,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&es(t,a):typeof a=="number"&&es(t,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Zi.hasOwnProperty(s)?a!=null&&s==="onScroll"&&ge("scroll",t):a!=null&&Kc(t,s,a,o))}switch(n){case"input":Qs(t),Wd(t,r,!1);break;case"textarea":Qs(t),$d(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ln(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Fr(t,!!r.multiple,s,!1):r.defaultValue!=null&&Fr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Do)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return He(e),null;case 6:if(t&&e.stateNode!=null)Rm(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(D(166));if(n=Jn(ds.current),Jn(Gt.current),ro(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ut]=e,(s=r.nodeValue!==n)&&(t=ht,t!==null))switch(t.tag){case 3:no(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&no(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ut]=e,e.stateNode=r}return He(e),null;case 13:if(ve(ke),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(xe&&ft!==null&&e.mode&1&&!(e.flags&128))qp(),Kr(),e.flags|=98560,s=!1;else if(s=ro(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(D(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(D(317));s[Ut]=e}else Kr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;He(e),s=!1}else Tt!==null&&(Cc(Tt),Tt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ke.current&1?Oe===0&&(Oe=3):Iu())),e.updateQueue!==null&&(e.flags|=4),He(e),null);case 4:return Xr(),gc(t,e),t===null&&ls(e.stateNode.containerInfo),He(e),null;case 10:return pu(e.type._context),He(e),null;case 17:return lt(e.type)&&Oo(),He(e),null;case 19:if(ve(ke),s=e.memoizedState,s===null)return He(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ti(s,!1);else{if(Oe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=$o(t),o!==null){for(e.flags|=128,Ti(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return pe(ke,ke.current&1|2),e.child}t=t.sibling}s.tail!==null&&Pe()>Zr&&(e.flags|=128,r=!0,Ti(s,!1),e.lanes=4194304)}else{if(!r)if(t=$o(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ti(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!xe)return He(e),null}else 2*Pe()-s.renderingStartTime>Zr&&n!==1073741824&&(e.flags|=128,r=!0,Ti(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Pe(),e.sibling=null,n=ke.current,pe(ke,r?n&1|2:n&1),e):(He(e),null);case 22:case 23:return ju(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?dt&1073741824&&(He(e),e.subtreeFlags&6&&(e.flags|=8192)):He(e),null;case 24:return null;case 25:return null}throw Error(D(156,e.tag))}function gx(t,e){switch(uu(e),e.tag){case 1:return lt(e.type)&&Oo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Xr(),ve(ot),ve(Ke),xu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return vu(e),null;case 13:if(ve(ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(D(340));Kr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ve(ke),null;case 4:return Xr(),null;case 10:return pu(e.type._context),null;case 22:case 23:return ju(),null;case 24:return null;default:return null}}var oo=!1,Ye=!1,yx=typeof WeakSet=="function"?WeakSet:Set,z=null;function Or(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){be(t,e,r)}else n.current=null}function yc(t,e,n){try{n()}catch(r){be(t,e,r)}}var Rf=!1;function vx(t,e){if(ec=Io,t=Mp(),au(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,c=-1,a=-1,u=0,h=0,p=t,f=null;t:for(;;){for(var _;p!==n||i!==0&&p.nodeType!==3||(c=o+i),p!==s||r!==0&&p.nodeType!==3||(a=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(_=p.firstChild)!==null;)f=p,p=_;for(;;){if(p===t)break t;if(f===n&&++u===i&&(c=o),f===s&&++h===r&&(a=o),(_=p.nextSibling)!==null)break;p=f,f=p.parentNode}p=_}n=c===-1||a===-1?null:{start:c,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(tc={focusedElem:t,selectionRange:n},Io=!1,z=e;z!==null;)if(e=z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,z=t;else for(;z!==null;){e=z;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var k=E.memoizedProps,S=E.memoizedState,m=e.stateNode,g=m.getSnapshotBeforeUpdate(e.elementType===e.type?k:Nt(e.type,k),S);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(T){be(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,z=t;break}z=e.return}return E=Rf,Rf=!1,E}function Gi(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&yc(e,n,s)}i=i.next}while(i!==r)}}function Sl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function vc(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Am(t){var e=t.alternate;e!==null&&(t.alternate=null,Am(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ut],delete e[cs],delete e[ic],delete e[ex],delete e[tx])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Dm(t){return t.tag===5||t.tag===3||t.tag===4}function Af(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Dm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Do));else if(r!==4&&(t=t.child,t!==null))for(xc(t,e,n),t=t.sibling;t!==null;)xc(t,e,n),t=t.sibling}function _c(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(_c(t,e,n),t=t.sibling;t!==null;)_c(t,e,n),t=t.sibling}var $e=null,bt=!1;function mn(t,e,n){for(n=n.child;n!==null;)Om(t,e,n),n=n.sibling}function Om(t,e,n){if(Vt&&typeof Vt.onCommitFiberUnmount=="function")try{Vt.onCommitFiberUnmount(pl,n)}catch{}switch(n.tag){case 5:Ye||Or(n,e);case 6:var r=$e,i=bt;$e=null,mn(t,e,n),$e=r,bt=i,$e!==null&&(bt?(t=$e,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):$e.removeChild(n.stateNode));break;case 18:$e!==null&&(bt?(t=$e,n=n.stateNode,t.nodeType===8?ca(t.parentNode,n):t.nodeType===1&&ca(t,n),is(t)):ca($e,n.stateNode));break;case 4:r=$e,i=bt,$e=n.stateNode.containerInfo,bt=!0,mn(t,e,n),$e=r,bt=i;break;case 0:case 11:case 14:case 15:if(!Ye&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&yc(n,e,o),i=i.next}while(i!==r)}mn(t,e,n);break;case 1:if(!Ye&&(Or(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){be(n,e,c)}mn(t,e,n);break;case 21:mn(t,e,n);break;case 22:n.mode&1?(Ye=(r=Ye)||n.memoizedState!==null,mn(t,e,n),Ye=r):mn(t,e,n);break;default:mn(t,e,n)}}function Df(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new yx),e.forEach(function(r){var i=bx.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Et(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,c=o;e:for(;c!==null;){switch(c.tag){case 5:$e=c.stateNode,bt=!1;break e;case 3:$e=c.stateNode.containerInfo,bt=!0;break e;case 4:$e=c.stateNode.containerInfo,bt=!0;break e}c=c.return}if($e===null)throw Error(D(160));Om(s,o,i),$e=null,bt=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){be(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Lm(e,t),e=e.sibling}function Lm(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Et(e,t),Wt(t),r&4){try{Gi(3,t,t.return),Sl(3,t)}catch(k){be(t,t.return,k)}try{Gi(5,t,t.return)}catch(k){be(t,t.return,k)}}break;case 1:Et(e,t),Wt(t),r&512&&n!==null&&Or(n,n.return);break;case 5:if(Et(e,t),Wt(t),r&512&&n!==null&&Or(n,n.return),t.flags&32){var i=t.stateNode;try{es(i,"")}catch(k){be(t,t.return,k)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,c=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{c==="input"&&s.type==="radio"&&s.name!=null&&ip(i,s),Va(c,o);var u=Va(c,s);for(o=0;o<a.length;o+=2){var h=a[o],p=a[o+1];h==="style"?cp(i,p):h==="dangerouslySetInnerHTML"?lp(i,p):h==="children"?es(i,p):Kc(i,h,p,u)}switch(c){case"input":za(i,s);break;case"textarea":sp(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var _=s.value;_!=null?Fr(i,!!s.multiple,_,!1):f!==!!s.multiple&&(s.defaultValue!=null?Fr(i,!!s.multiple,s.defaultValue,!0):Fr(i,!!s.multiple,s.multiple?[]:"",!1))}i[cs]=s}catch(k){be(t,t.return,k)}}break;case 6:if(Et(e,t),Wt(t),r&4){if(t.stateNode===null)throw Error(D(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(k){be(t,t.return,k)}}break;case 3:if(Et(e,t),Wt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{is(e.containerInfo)}catch(k){be(t,t.return,k)}break;case 4:Et(e,t),Wt(t);break;case 13:Et(e,t),Wt(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Tu=Pe())),r&4&&Df(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Ye=(u=Ye)||h,Et(e,t),Ye=u):Et(e,t),Wt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(z=t,h=t.child;h!==null;){for(p=z=h;z!==null;){switch(f=z,_=f.child,f.tag){case 0:case 11:case 14:case 15:Gi(4,f,f.return);break;case 1:Or(f,f.return);var E=f.stateNode;if(typeof E.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(k){be(r,n,k)}}break;case 5:Or(f,f.return);break;case 22:if(f.memoizedState!==null){Lf(p);continue}}_!==null?(_.return=f,z=_):Lf(p)}h=h.sibling}e:for(h=null,p=t;;){if(p.tag===5){if(h===null){h=p;try{i=p.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(c=p.stateNode,a=p.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,c.style.display=ap("display",o))}catch(k){be(t,t.return,k)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(k){be(t,t.return,k)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Et(e,t),Wt(t),r&4&&Df(t);break;case 21:break;default:Et(e,t),Wt(t)}}function Wt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Dm(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(es(i,""),r.flags&=-33);var s=Af(t);_c(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,c=Af(t);xc(t,c,o);break;default:throw Error(D(161))}}catch(a){be(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function xx(t,e,n){z=t,Mm(t)}function Mm(t,e,n){for(var r=(t.mode&1)!==0;z!==null;){var i=z,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||oo;if(!o){var c=i.alternate,a=c!==null&&c.memoizedState!==null||Ye;c=oo;var u=Ye;if(oo=o,(Ye=a)&&!u)for(z=i;z!==null;)o=z,a=o.child,o.tag===22&&o.memoizedState!==null?Mf(i):a!==null?(a.return=o,z=a):Mf(i);for(;s!==null;)z=s,Mm(s),s=s.sibling;z=i,oo=c,Ye=u}Of(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,z=s):Of(t)}}function Of(t){for(;z!==null;){var e=z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ye||Sl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ye)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Nt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&xf(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}xf(e,o,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&is(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}Ye||e.flags&512&&vc(e)}catch(f){be(e,e.return,f)}}if(e===t){z=null;break}if(n=e.sibling,n!==null){n.return=e.return,z=n;break}z=e.return}}function Lf(t){for(;z!==null;){var e=z;if(e===t){z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,z=n;break}z=e.return}}function Mf(t){for(;z!==null;){var e=z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Sl(4,e)}catch(a){be(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){be(e,i,a)}}var s=e.return;try{vc(e)}catch(a){be(e,s,a)}break;case 5:var o=e.return;try{vc(e)}catch(a){be(e,o,a)}}}catch(a){be(e,e.return,a)}if(e===t){z=null;break}var c=e.sibling;if(c!==null){c.return=e.return,z=c;break}z=e.return}}var _x=Math.ceil,Go=an.ReactCurrentDispatcher,Nu=an.ReactCurrentOwner,wt=an.ReactCurrentBatchConfig,se=0,Be=null,Ie=null,Ue=0,dt=0,Lr=$n(0),Oe=0,ms=null,or=0,kl=0,bu=0,Hi=null,rt=null,Tu=0,Zr=1/0,Qt=null,Ho=!1,wc=null,Pn=null,lo=!1,kn=null,Yo=0,Yi=0,Sc=null,wo=-1,So=0;function Ze(){return se&6?Pe():wo!==-1?wo:wo=Pe()}function jn(t){return t.mode&1?se&2&&Ue!==0?Ue&-Ue:rx.transition!==null?(So===0&&(So=wp()),So):(t=ae,t!==0||(t=window.event,t=t===void 0?16:Tp(t.type)),t):1}function At(t,e,n,r){if(50<Yi)throw Yi=0,Sc=null,Error(D(185));Ps(t,n,r),(!(se&2)||t!==Be)&&(t===Be&&(!(se&2)&&(kl|=n),Oe===4&&wn(t,Ue)),at(t,r),n===1&&se===0&&!(e.mode&1)&&(Zr=Pe()+500,xl&&Un()))}function at(t,e){var n=t.callbackNode;rv(t,e);var r=jo(t,t===Be?Ue:0);if(r===0)n!==null&&Gd(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Gd(n),e===1)t.tag===0?nx(Ff.bind(null,t)):Yp(Ff.bind(null,t)),Jv(function(){!(se&6)&&Un()}),n=null;else{switch(Sp(r)){case 1:n=eu;break;case 4:n=xp;break;case 16:n=Po;break;case 536870912:n=_p;break;default:n=Po}n=Gm(n,Fm.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Fm(t,e){if(wo=-1,So=0,se&6)throw Error(D(327));var n=t.callbackNode;if(Ur()&&t.callbackNode!==n)return null;var r=jo(t,t===Be?Ue:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Qo(t,r);else{e=r;var i=se;se|=2;var s=Wm();(Be!==t||Ue!==e)&&(Qt=null,Zr=Pe()+500,tr(t,e));do try{kx();break}catch(c){zm(t,c)}while(!0);hu(),Go.current=s,se=i,Ie!==null?e=0:(Be=null,Ue=0,e=Oe)}if(e!==0){if(e===2&&(i=Ka(t),i!==0&&(r=i,e=kc(t,i))),e===1)throw n=ms,tr(t,0),wn(t,r),at(t,Pe()),n;if(e===6)wn(t,r);else{if(i=t.current.alternate,!(r&30)&&!wx(i)&&(e=Qo(t,r),e===2&&(s=Ka(t),s!==0&&(r=s,e=kc(t,s))),e===1))throw n=ms,tr(t,0),wn(t,r),at(t,Pe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(D(345));case 2:Yn(t,rt,Qt);break;case 3:if(wn(t,r),(r&130023424)===r&&(e=Tu+500-Pe(),10<e)){if(jo(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ze(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=rc(Yn.bind(null,t,rt,Qt),e);break}Yn(t,rt,Qt);break;case 4:if(wn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Rt(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Pe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_x(r/1960))-r,10<r){t.timeoutHandle=rc(Yn.bind(null,t,rt,Qt),r);break}Yn(t,rt,Qt);break;case 5:Yn(t,rt,Qt);break;default:throw Error(D(329))}}}return at(t,Pe()),t.callbackNode===n?Fm.bind(null,t):null}function kc(t,e){var n=Hi;return t.current.memoizedState.isDehydrated&&(tr(t,e).flags|=256),t=Qo(t,e),t!==2&&(e=rt,rt=n,e!==null&&Cc(e)),t}function Cc(t){rt===null?rt=t:rt.push.apply(rt,t)}function wx(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ot(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function wn(t,e){for(e&=~bu,e&=~kl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Rt(e),r=1<<n;t[n]=-1,e&=~r}}function Ff(t){if(se&6)throw Error(D(327));Ur();var e=jo(t,0);if(!(e&1))return at(t,Pe()),null;var n=Qo(t,e);if(t.tag!==0&&n===2){var r=Ka(t);r!==0&&(e=r,n=kc(t,r))}if(n===1)throw n=ms,tr(t,0),wn(t,e),at(t,Pe()),n;if(n===6)throw Error(D(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Yn(t,rt,Qt),at(t,Pe()),null}function Pu(t,e){var n=se;se|=1;try{return t(e)}finally{se=n,se===0&&(Zr=Pe()+500,xl&&Un())}}function lr(t){kn!==null&&kn.tag===0&&!(se&6)&&Ur();var e=se;se|=1;var n=wt.transition,r=ae;try{if(wt.transition=null,ae=1,t)return t()}finally{ae=r,wt.transition=n,se=e,!(se&6)&&Un()}}function ju(){dt=Lr.current,ve(Lr)}function tr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Xv(n)),Ie!==null)for(n=Ie.return;n!==null;){var r=n;switch(uu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Oo();break;case 3:Xr(),ve(ot),ve(Ke),xu();break;case 5:vu(r);break;case 4:Xr();break;case 13:ve(ke);break;case 19:ve(ke);break;case 10:pu(r.type._context);break;case 22:case 23:ju()}n=n.return}if(Be=t,Ie=t=In(t.current,null),Ue=dt=e,Oe=0,ms=null,bu=kl=or=0,rt=Hi=null,Xn!==null){for(e=0;e<Xn.length;e++)if(n=Xn[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Xn=null}return t}function zm(t,e){do{var n=Ie;try{if(hu(),vo.current=Vo,Uo){for(var r=Ce.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Uo=!1}if(sr=0,Fe=Re=Ce=null,Vi=!1,fs=0,Nu.current=null,n===null||n.return===null){Oe=1,ms=e,Ie=null;break}e:{var s=t,o=n.return,c=n,a=e;if(e=Ue,c.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,h=c,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var _=Ef(o);if(_!==null){_.flags&=-257,Nf(_,o,c,s,e),_.mode&1&&Cf(s,u,e),e=_,a=u;var E=e.updateQueue;if(E===null){var k=new Set;k.add(a),e.updateQueue=k}else E.add(a);break e}else{if(!(e&1)){Cf(s,u,e),Iu();break e}a=Error(D(426))}}else if(xe&&c.mode&1){var S=Ef(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Nf(S,o,c,s,e),du(Jr(a,c));break e}}s=a=Jr(a,c),Oe!==4&&(Oe=2),Hi===null?Hi=[s]:Hi.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=Sm(s,a,e);vf(s,m);break e;case 1:c=a;var g=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Pn===null||!Pn.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var T=km(s,c,e);vf(s,T);break e}}s=s.return}while(s!==null)}$m(n)}catch(R){e=R,Ie===n&&n!==null&&(Ie=n=n.return);continue}break}while(!0)}function Wm(){var t=Go.current;return Go.current=Vo,t===null?Vo:t}function Iu(){(Oe===0||Oe===3||Oe===2)&&(Oe=4),Be===null||!(or&268435455)&&!(kl&268435455)||wn(Be,Ue)}function Qo(t,e){var n=se;se|=2;var r=Wm();(Be!==t||Ue!==e)&&(Qt=null,tr(t,e));do try{Sx();break}catch(i){zm(t,i)}while(!0);if(hu(),se=n,Go.current=r,Ie!==null)throw Error(D(261));return Be=null,Ue=0,Oe}function Sx(){for(;Ie!==null;)Bm(Ie)}function kx(){for(;Ie!==null&&!Q0();)Bm(Ie)}function Bm(t){var e=Vm(t.alternate,t,dt);t.memoizedProps=t.pendingProps,e===null?$m(t):Ie=e,Nu.current=null}function $m(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=gx(n,e),n!==null){n.flags&=32767,Ie=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Oe=6,Ie=null;return}}else if(n=mx(n,e,dt),n!==null){Ie=n;return}if(e=e.sibling,e!==null){Ie=e;return}Ie=e=t}while(e!==null);Oe===0&&(Oe=5)}function Yn(t,e,n){var r=ae,i=wt.transition;try{wt.transition=null,ae=1,Cx(t,e,n,r)}finally{wt.transition=i,ae=r}return null}function Cx(t,e,n,r){do Ur();while(kn!==null);if(se&6)throw Error(D(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(D(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(iv(t,s),t===Be&&(Ie=Be=null,Ue=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||lo||(lo=!0,Gm(Po,function(){return Ur(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=wt.transition,wt.transition=null;var o=ae;ae=1;var c=se;se|=4,Nu.current=null,vx(t,n),Lm(n,t),Vv(tc),Io=!!ec,tc=ec=null,t.current=n,xx(n),K0(),se=c,ae=o,wt.transition=s}else t.current=n;if(lo&&(lo=!1,kn=t,Yo=i),s=t.pendingLanes,s===0&&(Pn=null),J0(n.stateNode),at(t,Pe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ho)throw Ho=!1,t=wc,wc=null,t;return Yo&1&&t.tag!==0&&Ur(),s=t.pendingLanes,s&1?t===Sc?Yi++:(Yi=0,Sc=t):Yi=0,Un(),null}function Ur(){if(kn!==null){var t=Sp(Yo),e=wt.transition,n=ae;try{if(wt.transition=null,ae=16>t?16:t,kn===null)var r=!1;else{if(t=kn,kn=null,Yo=0,se&6)throw Error(D(331));var i=se;for(se|=4,z=t.current;z!==null;){var s=z,o=s.child;if(z.flags&16){var c=s.deletions;if(c!==null){for(var a=0;a<c.length;a++){var u=c[a];for(z=u;z!==null;){var h=z;switch(h.tag){case 0:case 11:case 15:Gi(8,h,s)}var p=h.child;if(p!==null)p.return=h,z=p;else for(;z!==null;){h=z;var f=h.sibling,_=h.return;if(Am(h),h===u){z=null;break}if(f!==null){f.return=_,z=f;break}z=_}}}var E=s.alternate;if(E!==null){var k=E.child;if(k!==null){E.child=null;do{var S=k.sibling;k.sibling=null,k=S}while(k!==null)}}z=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,z=o;else e:for(;z!==null;){if(s=z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Gi(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,z=m;break e}z=s.return}}var g=t.current;for(z=g;z!==null;){o=z;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,z=x;else e:for(o=g;z!==null;){if(c=z,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Sl(9,c)}}catch(R){be(c,c.return,R)}if(c===o){z=null;break e}var T=c.sibling;if(T!==null){T.return=c.return,z=T;break e}z=c.return}}if(se=i,Un(),Vt&&typeof Vt.onPostCommitFiberRoot=="function")try{Vt.onPostCommitFiberRoot(pl,t)}catch{}r=!0}return r}finally{ae=n,wt.transition=e}}return!1}function zf(t,e,n){e=Jr(n,e),e=Sm(t,e,1),t=Tn(t,e,1),e=Ze(),t!==null&&(Ps(t,1,e),at(t,e))}function be(t,e,n){if(t.tag===3)zf(t,t,n);else for(;e!==null;){if(e.tag===3){zf(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Pn===null||!Pn.has(r))){t=Jr(n,t),t=km(e,t,1),e=Tn(e,t,1),t=Ze(),e!==null&&(Ps(e,1,t),at(e,t));break}}e=e.return}}function Ex(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ze(),t.pingedLanes|=t.suspendedLanes&n,Be===t&&(Ue&n)===n&&(Oe===4||Oe===3&&(Ue&130023424)===Ue&&500>Pe()-Tu?tr(t,0):bu|=n),at(t,e)}function Um(t,e){e===0&&(t.mode&1?(e=Xs,Xs<<=1,!(Xs&130023424)&&(Xs=4194304)):e=1);var n=Ze();t=rn(t,e),t!==null&&(Ps(t,e,n),at(t,n))}function Nx(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Um(t,n)}function bx(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(e),Um(t,n)}var Vm;Vm=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ot.current)it=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return it=!1,px(t,e,n);it=!!(t.flags&131072)}else it=!1,xe&&e.flags&1048576&&Qp(e,Fo,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;_o(t,e),t=e.pendingProps;var i=Qr(e,Ke.current);$r(e,n),i=wu(null,e,r,t,i,n);var s=Su();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,lt(r)?(s=!0,Lo(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,gu(e),i.updater=wl,e.stateNode=i,i._reactInternals=e,uc(e,r,t,n),e=hc(null,e,r,!0,s,n)):(e.tag=0,xe&&s&&cu(e),Xe(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(_o(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Px(r),t=Nt(r,t),i){case 0:e=fc(null,e,r,t,n);break e;case 1:e=Pf(null,e,r,t,n);break e;case 11:e=bf(null,e,r,t,n);break e;case 14:e=Tf(null,e,r,Nt(r.type,t),n);break e}throw Error(D(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nt(r,i),fc(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nt(r,i),Pf(t,e,r,i,n);case 3:e:{if(bm(e),t===null)throw Error(D(387));r=e.pendingProps,s=e.memoizedState,i=s.element,em(t,e),Bo(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Jr(Error(D(423)),e),e=jf(t,e,r,n,i);break e}else if(r!==i){i=Jr(Error(D(424)),e),e=jf(t,e,r,n,i);break e}else for(ft=bn(e.stateNode.containerInfo.firstChild),ht=e,xe=!0,Tt=null,n=Jp(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Kr(),r===i){e=sn(t,e,n);break e}Xe(t,e,r,n)}e=e.child}return e;case 5:return tm(e),t===null&&lc(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,nc(r,i)?o=null:s!==null&&nc(r,s)&&(e.flags|=32),Nm(t,e),Xe(t,e,o,n),e.child;case 6:return t===null&&lc(e),null;case 13:return Tm(t,e,n);case 4:return yu(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=qr(e,null,r,n):Xe(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nt(r,i),bf(t,e,r,i,n);case 7:return Xe(t,e,e.pendingProps,n),e.child;case 8:return Xe(t,e,e.pendingProps.children,n),e.child;case 12:return Xe(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,pe(zo,r._currentValue),r._currentValue=o,s!==null)if(Ot(s.value,o)){if(s.children===i.children&&!ot.current){e=sn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var c=s.dependencies;if(c!==null){o=s.child;for(var a=c.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=Zt(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?a.next=a:(a.next=h.next,h.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),ac(s.return,n,e),c.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(D(341));o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),ac(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Xe(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,$r(e,n),i=St(i),r=r(i),e.flags|=1,Xe(t,e,r,n),e.child;case 14:return r=e.type,i=Nt(r,e.pendingProps),i=Nt(r.type,i),Tf(t,e,r,i,n);case 15:return Cm(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nt(r,i),_o(t,e),e.tag=1,lt(r)?(t=!0,Lo(e)):t=!1,$r(e,n),wm(e,r,i),uc(e,r,i,n),hc(null,e,r,!0,t,n);case 19:return Pm(t,e,n);case 22:return Em(t,e,n)}throw Error(D(156,e.tag))};function Gm(t,e){return vp(t,e)}function Tx(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _t(t,e,n,r){return new Tx(t,e,n,r)}function Ru(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Px(t){if(typeof t=="function")return Ru(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Xc)return 11;if(t===Jc)return 14}return 2}function In(t,e){var n=t.alternate;return n===null?(n=_t(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ko(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Ru(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Nr:return nr(n.children,i,s,e);case qc:o=8,i|=8;break;case Da:return t=_t(12,n,e,i|2),t.elementType=Da,t.lanes=s,t;case Oa:return t=_t(13,n,e,i),t.elementType=Oa,t.lanes=s,t;case La:return t=_t(19,n,e,i),t.elementType=La,t.lanes=s,t;case tp:return Cl(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Zh:o=10;break e;case ep:o=9;break e;case Xc:o=11;break e;case Jc:o=14;break e;case vn:o=16,r=null;break e}throw Error(D(130,t==null?t:typeof t,""))}return e=_t(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function nr(t,e,n,r){return t=_t(7,t,r,e),t.lanes=n,t}function Cl(t,e,n,r){return t=_t(22,t,r,e),t.elementType=tp,t.lanes=n,t.stateNode={isHidden:!1},t}function ya(t,e,n){return t=_t(6,t,null,e),t.lanes=n,t}function va(t,e,n){return e=_t(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function jx(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jl(0),this.expirationTimes=Jl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Au(t,e,n,r,i,s,o,c,a){return t=new jx(t,e,n,c,a),e===1?(e=1,s===!0&&(e|=8)):e=0,s=_t(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},gu(s),t}function Ix(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Er,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Hm(t){if(!t)return Mn;t=t._reactInternals;e:{if(fr(t)!==t||t.tag!==1)throw Error(D(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(lt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(D(171))}if(t.tag===1){var n=t.type;if(lt(n))return Hp(t,n,e)}return e}function Ym(t,e,n,r,i,s,o,c,a){return t=Au(n,r,!0,t,i,s,o,c,a),t.context=Hm(null),n=t.current,r=Ze(),i=jn(n),s=Zt(r,i),s.callback=e??null,Tn(n,s,i),t.current.lanes=i,Ps(t,i,r),at(t,r),t}function El(t,e,n,r){var i=e.current,s=Ze(),o=jn(i);return n=Hm(n),e.context===null?e.context=n:e.pendingContext=n,e=Zt(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Tn(i,e,o),t!==null&&(At(t,i,o,s),yo(t,i,o)),o}function Ko(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Wf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Du(t,e){Wf(t,e),(t=t.alternate)&&Wf(t,e)}function Rx(){return null}var Qm=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ou(t){this._internalRoot=t}Nl.prototype.render=Ou.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(D(409));El(t,e,null,null)};Nl.prototype.unmount=Ou.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;lr(function(){El(null,t,null,null)}),e[nn]=null}};function Nl(t){this._internalRoot=t}Nl.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ep();t={blockedOn:null,target:t,priority:e};for(var n=0;n<_n.length&&e!==0&&e<_n[n].priority;n++);_n.splice(n,0,t),n===0&&bp(t)}};function Lu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function bl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Bf(){}function Ax(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Ko(o);s.call(u)}}var o=Ym(e,r,t,0,null,!1,!1,"",Bf);return t._reactRootContainer=o,t[nn]=o.current,ls(t.nodeType===8?t.parentNode:t),lr(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var c=r;r=function(){var u=Ko(a);c.call(u)}}var a=Au(t,0,!1,null,null,!1,!1,"",Bf);return t._reactRootContainer=a,t[nn]=a.current,ls(t.nodeType===8?t.parentNode:t),lr(function(){El(e,a,n,r)}),a}function Tl(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var c=i;i=function(){var a=Ko(o);c.call(a)}}El(e,o,t,i)}else o=Ax(n,e,t,i,r);return Ko(o)}kp=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Mi(e.pendingLanes);n!==0&&(tu(e,n|1),at(e,Pe()),!(se&6)&&(Zr=Pe()+500,Un()))}break;case 13:lr(function(){var r=rn(t,1);if(r!==null){var i=Ze();At(r,t,1,i)}}),Du(t,1)}};nu=function(t){if(t.tag===13){var e=rn(t,134217728);if(e!==null){var n=Ze();At(e,t,134217728,n)}Du(t,134217728)}};Cp=function(t){if(t.tag===13){var e=jn(t),n=rn(t,e);if(n!==null){var r=Ze();At(n,t,e,r)}Du(t,e)}};Ep=function(){return ae};Np=function(t,e){var n=ae;try{return ae=t,e()}finally{ae=n}};Ha=function(t,e,n){switch(e){case"input":if(za(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=vl(r);if(!i)throw Error(D(90));rp(r),za(r,i)}}}break;case"textarea":sp(t,n);break;case"select":e=n.value,e!=null&&Fr(t,!!n.multiple,e,!1)}};fp=Pu;hp=lr;var Dx={usingClientEntryPoint:!1,Events:[Is,jr,vl,up,dp,Pu]},Pi={findFiberByHostInstance:qn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ox={bundleType:Pi.bundleType,version:Pi.version,rendererPackageName:Pi.rendererPackageName,rendererConfig:Pi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:an.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=gp(t),t===null?null:t.stateNode},findFiberByHostInstance:Pi.findFiberByHostInstance||Rx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ao=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ao.isDisabled&&ao.supportsFiber)try{pl=ao.inject(Ox),Vt=ao}catch{}}mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dx;mt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lu(e))throw Error(D(200));return Ix(t,e,null,n)};mt.createRoot=function(t,e){if(!Lu(t))throw Error(D(299));var n=!1,r="",i=Qm;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Au(t,1,!1,null,null,n,!1,r,i),t[nn]=e.current,ls(t.nodeType===8?t.parentNode:t),new Ou(e)};mt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(D(188)):(t=Object.keys(t).join(","),Error(D(268,t)));return t=gp(e),t=t===null?null:t.stateNode,t};mt.flushSync=function(t){return lr(t)};mt.hydrate=function(t,e,n){if(!bl(e))throw Error(D(200));return Tl(null,t,e,!0,n)};mt.hydrateRoot=function(t,e,n){if(!Lu(t))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Qm;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Ym(e,null,t,1,n??null,i,!1,s,o),t[nn]=e.current,ls(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Nl(e)};mt.render=function(t,e,n){if(!bl(e))throw Error(D(200));return Tl(null,t,e,!1,n)};mt.unmountComponentAtNode=function(t){if(!bl(t))throw Error(D(40));return t._reactRootContainer?(lr(function(){Tl(null,null,t,!1,function(){t._reactRootContainer=null,t[nn]=null})}),!0):!1};mt.unstable_batchedUpdates=Pu;mt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!bl(n))throw Error(D(200));if(t==null||t._reactInternals===void 0)throw Error(D(38));return Tl(t,e,n,!1,r)};mt.version="18.3.1-next-f1338f8080-20240426";function Km(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Km)}catch(t){console.error(t)}}Km(),Kh.exports=mt;var Lx=Kh.exports,$f=Lx;Ra.createRoot=$f.createRoot,Ra.hydrateRoot=$f.hydrateRoot;var Uf={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O=function(t,e){if(!t)throw li(e)},li=function(t){return new Error("Firebase Database ("+qm.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Mx=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],c=t[n++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(a&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Mu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,c=o?t[i+1]:0,a=i+2<t.length,u=a?t[i+2]:0,h=s>>2,p=(s&3)<<4|c>>4;let f=(c&15)<<2|u>>6,_=u&63;a||(_=64,o||(f=64)),r.push(n[h],n[p],n[f],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Xm(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Mx(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||u==null||p==null)throw new Fx;const f=s<<2|c>>4;if(r.push(f),u!==64){const _=c<<4&240|u>>2;if(r.push(_),p!==64){const E=u<<6&192|p;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Fx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Jm=function(t){const e=Xm(t);return Mu.encodeByteArray(e,!0)},qo=function(t){return Jm(t).replace(/\./g,"")},Ec=function(t){try{return Mu.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(t){return Zm(void 0,t)}function Zm(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Wx(n)||(t[n]=Zm(t[n],e[n]));return t}function Wx(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x=()=>Bx().__FIREBASE_DEFAULTS__,Ux=()=>{if(typeof process>"u"||typeof Uf>"u")return;const t=Uf.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Vx=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ec(t[1]);return e&&JSON.parse(e)},eg=()=>{try{return $x()||Ux()||Vx()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Gx=t=>{var e,n;return(n=(e=eg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Hx=t=>{const e=Gx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},tg=()=>{var t;return(t=eg())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[qo(JSON.stringify(n)),qo(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ng(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qx())}function Kx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qx(){return qm.NODE_ADMIN===!0}function Xx(){try{return typeof indexedDB=="object"}catch{return!1}}function Jx(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx="FirebaseError";class As extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Zx,Object.setPrototypeOf(this,As.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rg.prototype.create)}}class rg{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?e_(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new As(i,c,r)}}function e_(t,e){return t.replace(t_,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const t_=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(t){return JSON.parse(t)}function Ae(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=gs(Ec(s[0])||""),n=gs(Ec(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},n_=function(t){const e=ig(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},r_=function(t){const e=ig(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ei(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Vf(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Xo(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Nc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Gf(s)&&Gf(o)){if(!Nc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Gf(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let p=0;p<16;p++)r[p]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let p=0;p<16;p++)r[p]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let p=16;p<80;p++){const f=r[p-3]^r[p-8]^r[p-14]^r[p-16];r[p]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],c=this.chain_[3],a=this.chain_[4],u,h;for(let p=0;p<80;p++){p<40?p<20?(u=c^s&(o^c),h=1518500249):(u=s^o^c,h=1859775393):p<60?(u=s&o|c&(s|o),h=2400959708):(u=s^o^c,h=3395469782);const f=(i<<5|i>>>27)+u+a+h+r[p]&4294967295;a=c,c=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function Fu(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,O(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},jl=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(t){return t&&t._delegate?t._delegate:t}class ys{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Pl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(c_(e))try{this.getOrInitializeService({instanceIdentifier:Qn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Qn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qn){return this.instances.has(e)}getOptions(e=Qn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:a_(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Qn){return this.component?this.component.multipleInstances?e:Qn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function a_(t){return t===Qn?void 0:t}function c_(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new l_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(fe||(fe={}));const d_={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},f_=fe.INFO,h_={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},p_=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=h_[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sg{constructor(e){this.name=e,this._logLevel=f_,this._logHandler=p_,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?d_[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}}const m_=(t,e)=>e.some(n=>t instanceof n);let Hf,Yf;function g_(){return Hf||(Hf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function y_(){return Yf||(Yf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const og=new WeakMap,bc=new WeakMap,lg=new WeakMap,xa=new WeakMap,zu=new WeakMap;function v_(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Rn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&og.set(n,t)}).catch(()=>{}),zu.set(e,t),e}function x_(t){if(bc.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});bc.set(t,e)}let Tc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return bc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||lg.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function __(t){Tc=t(Tc)}function w_(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(_a(this),e,...n);return lg.set(r,e.sort?e.sort():[e]),Rn(r)}:y_().includes(t)?function(...e){return t.apply(_a(this),e),Rn(og.get(this))}:function(...e){return Rn(t.apply(_a(this),e))}}function S_(t){return typeof t=="function"?w_(t):(t instanceof IDBTransaction&&x_(t),m_(t,g_())?new Proxy(t,Tc):t)}function Rn(t){if(t instanceof IDBRequest)return v_(t);if(xa.has(t))return xa.get(t);const e=S_(t);return e!==t&&(xa.set(t,e),zu.set(e,t)),e}const _a=t=>zu.get(t);function k_(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),c=Rn(o);return r&&o.addEventListener("upgradeneeded",a=>{r(Rn(o.result),a.oldVersion,a.newVersion,Rn(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),c.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),c}const C_=["get","getKey","getAll","getAllKeys","count"],E_=["put","add","delete","clear"],wa=new Map;function Qf(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wa.get(e))return wa.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=E_.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||C_.includes(n)))return;const s=async function(o,...c){const a=this.transaction(o,i?"readwrite":"readonly");let u=a.store;return r&&(u=u.index(c.shift())),(await Promise.all([u[n](...c),i&&a.done]))[0]};return wa.set(e,s),s}__(t=>({...t,get:(e,n,r)=>Qf(e,n)||t.get(e,n,r),has:(e,n)=>!!Qf(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(b_(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function b_(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Pc="@firebase/app",Kf="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on=new sg("@firebase/app"),T_="@firebase/app-compat",P_="@firebase/analytics-compat",j_="@firebase/analytics",I_="@firebase/app-check-compat",R_="@firebase/app-check",A_="@firebase/auth",D_="@firebase/auth-compat",O_="@firebase/database",L_="@firebase/data-connect",M_="@firebase/database-compat",F_="@firebase/functions",z_="@firebase/functions-compat",W_="@firebase/installations",B_="@firebase/installations-compat",$_="@firebase/messaging",U_="@firebase/messaging-compat",V_="@firebase/performance",G_="@firebase/performance-compat",H_="@firebase/remote-config",Y_="@firebase/remote-config-compat",Q_="@firebase/storage",K_="@firebase/storage-compat",q_="@firebase/firestore",X_="@firebase/vertexai-preview",J_="@firebase/firestore-compat",Z_="firebase",ew="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc="[DEFAULT]",tw={[Pc]:"fire-core",[T_]:"fire-core-compat",[j_]:"fire-analytics",[P_]:"fire-analytics-compat",[R_]:"fire-app-check",[I_]:"fire-app-check-compat",[A_]:"fire-auth",[D_]:"fire-auth-compat",[O_]:"fire-rtdb",[L_]:"fire-data-connect",[M_]:"fire-rtdb-compat",[F_]:"fire-fn",[z_]:"fire-fn-compat",[W_]:"fire-iid",[B_]:"fire-iid-compat",[$_]:"fire-fcm",[U_]:"fire-fcm-compat",[V_]:"fire-perf",[G_]:"fire-perf-compat",[H_]:"fire-rc",[Y_]:"fire-rc-compat",[Q_]:"fire-gcs",[K_]:"fire-gcs-compat",[q_]:"fire-fst",[J_]:"fire-fst-compat",[X_]:"fire-vertex","fire-js":"fire-js",[Z_]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo=new Map,nw=new Map,Ic=new Map;function qf(t,e){try{t.container.addComponent(e)}catch(n){on.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Zo(t){const e=t.name;if(Ic.has(e))return on.debug(`There were multiple attempts to register component ${e}.`),!1;Ic.set(e,t);for(const n of Jo.values())qf(n,t);for(const n of nw.values())qf(n,t);return!0}function rw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},An=new rg("app","Firebase",iw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw An.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow=ew;function ag(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:jc,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw An.create("bad-app-name",{appName:String(i)});if(n||(n=tg()),!n)throw An.create("no-options");const s=Jo.get(i);if(s){if(Nc(n,s.options)&&Nc(r,s.config))return s;throw An.create("duplicate-app",{appName:i})}const o=new u_(i);for(const a of Ic.values())o.addComponent(a);const c=new sw(n,r,o);return Jo.set(i,c),c}function lw(t=jc){const e=Jo.get(t);if(!e&&t===jc&&tg())return ag();if(!e)throw An.create("no-app",{appName:t});return e}function Vr(t,e,n){var r;let i=(r=tw[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),on.warn(c.join(" "));return}Zo(new ys(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="firebase-heartbeat-database",cw=1,vs="firebase-heartbeat-store";let Sa=null;function cg(){return Sa||(Sa=k_(aw,cw,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(vs)}catch(n){console.warn(n)}}}}).catch(t=>{throw An.create("idb-open",{originalErrorMessage:t.message})})),Sa}async function uw(t){try{const n=(await cg()).transaction(vs),r=await n.objectStore(vs).get(ug(t));return await n.done,r}catch(e){if(e instanceof As)on.warn(e.message);else{const n=An.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});on.warn(n.message)}}}async function Xf(t,e){try{const r=(await cg()).transaction(vs,"readwrite");await r.objectStore(vs).put(e,ug(t)),await r.done}catch(n){if(n instanceof As)on.warn(n.message);else{const r=An.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});on.warn(r.message)}}}function ug(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw=1024,fw=30*24*60*60*1e3;class hw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Jf();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const c=new Date(o.date).valueOf();return Date.now()-c<=fw}),this._storage.overwrite(this._heartbeatsCache))}catch(r){on.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Jf(),{heartbeatsToSend:r,unsentEntries:i}=pw(this._heartbeatsCache.heartbeats),s=qo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return on.warn(n),""}}}function Jf(){return new Date().toISOString().substring(0,10)}function pw(t,e=dw){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Zf(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Zf(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class mw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Xx()?Jx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await uw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Xf(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Xf(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Zf(t){return qo(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(t){Zo(new ys("platform-logger",e=>new N_(e),"PRIVATE")),Zo(new ys("heartbeat",e=>new hw(e),"PRIVATE")),Vr(Pc,Kf,t),Vr(Pc,Kf,"esm2017"),Vr("fire-js","")}gw("");var yw="firebase",vw="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vr(yw,vw,"app");var eh={};const th="@firebase/database",nh="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dg="";function xw(t){dg=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ae(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:gs(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return cn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new _w(e)}}catch{}return new ww},Zn=fg("localStorage"),Sw=fg("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr=new sg("@firebase/database"),kw=function(){let t=1;return function(){return t++}}(),hg=function(t){const e=o_(t),n=new s_;n.update(e);const r=n.digest();return Mu.encodeByteArray(r)},Ds=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ds.apply(null,r):typeof r=="object"?e+=Ae(r):e+=r,e+=" "}return e};let Qi=null,rh=!0;const Cw=function(t,e){O(!0,"Can't turn on custom loggers persistently."),Gr.logLevel=fe.VERBOSE,Qi=Gr.log.bind(Gr)},Qe=function(...t){if(rh===!0&&(rh=!1,Qi===null&&Sw.get("logging_enabled")===!0&&Cw()),Qi){const e=Ds.apply(null,t);Qi(e)}},Os=function(t){return function(...e){Qe(t,...e)}},Rc=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ds(...t);Gr.error(e)},ln=function(...t){const e=`FIREBASE FATAL ERROR: ${Ds(...t)}`;throw Gr.error(e),new Error(e)},ct=function(...t){const e="FIREBASE WARNING: "+Ds(...t);Gr.warn(e)},Ew=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ct("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},pg=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Nw=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ti="[MIN_NAME]",ar="[MAX_NAME]",ai=function(t,e){if(t===e)return 0;if(t===ti||e===ar)return-1;if(e===ti||t===ar)return 1;{const n=ih(t),r=ih(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},bw=function(t,e){return t===e?0:t<e?-1:1},ji=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ae(e))},Wu=function(t){if(typeof t!="object"||t===null)return Ae(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Ae(e[r]),n+=":",n+=Wu(t[e[r]]);return n+="}",n},mg=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function ut(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const gg=function(t){O(!pg(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,c,a;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=c+r,o=Math.round(t*Math.pow(2,n-c)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(a=n;a;a-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(a=e;a;a-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const h=u.join("");let p="";for(a=0;a<64;a+=8){let f=parseInt(h.substr(a,8),2).toString(16);f.length===1&&(f="0"+f),p=p+f}return p.toLowerCase()},Tw=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Pw=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function jw(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const Iw=new RegExp("^-?(0*)\\d{1,10}$"),Rw=-2147483648,Aw=2147483647,ih=function(t){if(Iw.test(t)){const e=Number(t);if(e>=Rw&&e<=Aw)return e}return null},ci=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw ct("Exception was thrown by user callback.",n),e},Math.floor(0))}},Dw=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ki=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ct(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Qe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ct(e)}}class Co{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Co.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bu="5",yg="v",vg="s",xg="r",_g="f",wg=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Sg="ls",kg="p",Ac="ac",Cg="websocket",Eg="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e,n,r,i,s=!1,o="",c=!1,a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Zn.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Zn.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Mw(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function bg(t,e,n){O(typeof e=="string","typeof type must == string"),O(typeof n=="object","typeof params must == object");let r;if(e===Cg)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Eg)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Mw(t)&&(n.ns=t.namespace);const i=[];return ut(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(){this.counters_={}}incrementCounter(e,n=1){cn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return zx(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka={},Ca={};function $u(t){const e=t.toString();return ka[e]||(ka[e]=new Fw),ka[e]}function zw(t,e){const n=t.toString();return Ca[n]||(Ca[n]=e()),Ca[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&ci(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh="start",Bw="close",$w="pLPCommand",Uw="pRTLPCB",Tg="id",Pg="pw",jg="ser",Vw="cb",Gw="seg",Hw="ts",Yw="d",Qw="dframe",Ig=1870,Rg=30,Kw=Ig-Rg,qw=25e3,Xw=3e4;class Mr{constructor(e,n,r,i,s,o,c){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Os(e),this.stats_=$u(n),this.urlFn=a=>(this.appCheckToken&&(a[Ac]=this.appCheckToken),bg(n,Eg,a))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Ww(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Xw)),Nw(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Uu((...s)=>{const[o,c,a,u,h]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===sh)this.id=c,this.password=a;else if(o===Bw)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,c]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,c)},()=>{this.onClosed_()},this.urlFn);const r={};r[sh]="t",r[jg]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Vw]=this.scriptTagHolder.uniqueCallbackIdentifier),r[yg]=Bu,this.transportSessionId&&(r[vg]=this.transportSessionId),this.lastSessionId&&(r[Sg]=this.lastSessionId),this.applicationId&&(r[kg]=this.applicationId),this.appCheckToken&&(r[Ac]=this.appCheckToken),typeof location<"u"&&location.hostname&&wg.test(location.hostname)&&(r[xg]=_g);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Mr.forceAllow_=!0}static forceDisallow(){Mr.forceDisallow_=!0}static isAvailable(){return Mr.forceAllow_?!0:!Mr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Tw()&&!Pw()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ae(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Jm(n),i=mg(r,Kw);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Qw]="t",r[Tg]=e,r[Pg]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ae(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Uu{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=kw(),window[$w+this.uniqueCallbackIdentifier]=e,window[Uw+this.uniqueCallbackIdentifier]=n,this.myIFrame=Uu.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(c){Qe("frame writing exception"),c.stack&&Qe(c.stack),Qe(c)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Qe("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Tg]=this.myID,e[Pg]=this.myPW,e[jg]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Rg+r.length<=Ig;){const o=this.pendingSegs.shift();r=r+"&"+Gw+i+"="+o.seg+"&"+Hw+i+"="+o.ts+"&"+Yw+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(qw)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Qe("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw=16384,Zw=45e3;let el=null;typeof MozWebSocket<"u"?el=MozWebSocket:typeof WebSocket<"u"&&(el=WebSocket);class Pt{constructor(e,n,r,i,s,o,c){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Os(this.connId),this.stats_=$u(n),this.connURL=Pt.connectionURL_(n,o,c,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[yg]=Bu,typeof location<"u"&&location.hostname&&wg.test(location.hostname)&&(o[xg]=_g),n&&(o[vg]=n),r&&(o[Sg]=r),i&&(o[Ac]=i),s&&(o[kg]=s),bg(e,Cg,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Zn.set("previous_websocket_failure",!0);try{let r;qx(),this.mySock=new el(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Pt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&el!==null&&!Pt.forceDisallow_}static previouslyFailed(){return Zn.isInMemoryStorage||Zn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Zn.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=gs(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(O(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Ae(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=mg(n,Jw);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Zw))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Pt.responsesRequiredToBeHealthy=2;Pt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Mr,Pt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Pt&&Pt.isAvailable();let r=n&&!Pt.previouslyFailed();if(e.webSocketOnly&&(n||ct("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Pt];else{const i=this.transports_=[];for(const s of xs.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);xs.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}xs.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS=6e4,tS=5e3,nS=10*1024,rS=100*1024,Ea="t",oh="d",iS="s",lh="r",sS="e",ah="o",ch="a",uh="n",dh="p",oS="h";class lS{constructor(e,n,r,i,s,o,c,a,u,h){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=c,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Os("c:"+this.id+":"),this.transportManager_=new xs(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ki(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>rS?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>nS?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Ea in e){const n=e[Ea];n===ch?this.upgradeIfSecondaryHealthy_():n===lh?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===ah&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=ji("t",e),r=ji("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:dh,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:ch,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:uh,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=ji("t",e),r=ji("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=ji(Ea,e);if(oh in e){const r=e[oh];if(n===oS){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===uh){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===iS?this.onConnectionShutdown_(r):n===lh?this.onReset_(r):n===sS?Rc("Server Error: "+r):n===ah?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Rc("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Bu!==r&&ct("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ki(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(eS))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ki(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(tS))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:dh,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Zn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e){this.allowedEvents_=e,this.listeners_={},O(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){O(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl extends Dg{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!ng()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new tl}getInitialEvent(e){return O(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh=32,hh=768;class ue{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function le(){return new ue("")}function Z(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Fn(t){return t.pieces_.length-t.pieceNum_}function he(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ue(t.pieces_,e)}function Og(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function aS(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Lg(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Mg(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ue(e,0)}function De(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ue)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ue(n,0)}function te(t){return t.pieceNum_>=t.pieces_.length}function Je(t,e){const n=Z(t),r=Z(e);if(n===null)return e;if(n===r)return Je(he(t),he(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Vu(t,e){if(Fn(t)!==Fn(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function jt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Fn(t)>Fn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class cS{constructor(e,n){this.errorPrefix_=n,this.parts_=Lg(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=jl(this.parts_[r]);Fg(this)}}function uS(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=jl(e),Fg(t)}function dS(t){const e=t.parts_.pop();t.byteLength_-=jl(e),t.parts_.length>0&&(t.byteLength_-=1)}function Fg(t){if(t.byteLength_>hh)throw new Error(t.errorPrefix_+"has a key path longer than "+hh+" bytes ("+t.byteLength_+").");if(t.parts_.length>fh)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+fh+") or object contains a cycle "+Kn(t))}function Kn(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu extends Dg{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Gu}getInitialEvent(e){return O(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii=1e3,fS=60*5*1e3,ph=30*1e3,hS=1.3,pS=3e4,mS="server_kill",mh=3;class en extends Ag{constructor(e,n,r,i,s,o,c,a){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=c,this.authOverride_=a,this.id=en.nextPersistentConnectionId_++,this.log_=Os("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ii,this.maxReconnectDelay_=fS,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Gu.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&tl.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Ae(s)),O(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Pl,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const c=o.d;o.s==="ok"?n.resolve(c):n.reject(c)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),O(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),O(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const c={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,c=>{const a=c.d,u=c.s;en.warnOnListenWarnings_(a,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",c),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,a))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&cn(e,"w")){const r=ei(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();ct(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||r_(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=ph)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=n_(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),O(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ae(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Rc("Unrecognized action received from server: "+Ae(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){O(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ii,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ii,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>pS&&(this.reconnectDelay_=Ii),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*hS)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+en.nextConnectionId_++,s=this.lastSessionId;let o=!1,c=null;const a=function(){c?c.close():(o=!0,r())},u=function(p){O(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(p)};this.realtime_={close:a,sendRequest:u};const h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[p,f]=await Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);o?Qe("getToken() completed but was canceled"):(Qe("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=f&&f.token,c=new lS(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,_=>{ct(_+" ("+this.repoInfo_.toString()+")"),this.interrupt(mS)},s))}catch(p){this.log_("Failed to get token: "+p),o||(this.repoInfo_.nodeAdmin&&ct(p),a())}}}interrupt(e){Qe("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Qe("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Vf(this.interruptReasons_)&&(this.reconnectDelay_=Ii,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>Wu(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new ue(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Qe("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=mh&&(this.reconnectDelay_=ph,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Qe("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=mh&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+dg.replace(/\./g,"-")]=1,ng()?e["framework.cordova"]=1:Kx()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=tl.getInstance().currentlyOnline();return Vf(this.interruptReasons_)&&e}}en.nextPersistentConnectionId_=0;en.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ee(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ee(ti,e),i=new ee(ti,n);return this.compare(r,i)!==0}minPost(){return ee.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let co;class zg extends Il{static get __EMPTY_NODE(){return co}static set __EMPTY_NODE(e){co=e}compare(e,n){return ai(e.name,n.name)}isDefinedOn(e){throw li("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ee.MIN}maxPost(){return new ee(ar,co)}makePost(e,n){return O(typeof e=="string","KeyIndex indexValue must always be a string."),new ee(e,co)}toString(){return".key"}}const Hr=new zg;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ze{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ze.RED,this.left=i??st.EMPTY_NODE,this.right=s??st.EMPTY_NODE}copy(e,n,r,i,s){return new ze(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return st.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return st.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ze.RED=!0;ze.BLACK=!1;class gS{copy(e,n,r,i,s){return this}insert(e,n,r){return new ze(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class st{constructor(e,n=st.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new st(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ze.BLACK,null,null))}remove(e){return new st(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ze.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new uo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new uo(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new uo(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new uo(this.root_,null,this.comparator_,!0,e)}}st.EMPTY_NODE=new gS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(t,e){return ai(t.name,e.name)}function Hu(t,e){return ai(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dc;function vS(t){Dc=t}const Wg=function(t){return typeof t=="number"?"number:"+gg(t):"string:"+t},Bg=function(t){if(t.isLeafNode()){const e=t.val();O(typeof e=="string"||typeof e=="number"||typeof e=="object"&&cn(e,".sv"),"Priority must be a string or number.")}else O(t===Dc||t.isEmpty(),"priority of unexpected type.");O(t===Dc||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gh;class Me{constructor(e,n=Me.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,O(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Bg(this.priorityNode_)}static set __childrenNodeConstructor(e){gh=e}static get __childrenNodeConstructor(){return gh}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Me(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Me.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return te(e)?this:Z(e)===".priority"?this.priorityNode_:Me.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Me.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Z(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(O(r!==".priority"||Fn(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Me.__childrenNodeConstructor.EMPTY_NODE.updateChild(he(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Wg(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=gg(this.value_):e+=this.value_,this.lazyHash_=hg(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Me.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Me.__childrenNodeConstructor?-1:(O(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Me.VALUE_TYPE_ORDER.indexOf(n),s=Me.VALUE_TYPE_ORDER.indexOf(r);return O(i>=0,"Unknown leaf type: "+n),O(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Me.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $g,Ug;function xS(t){$g=t}function _S(t){Ug=t}class wS extends Il{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?ai(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ee.MIN}maxPost(){return new ee(ar,new Me("[PRIORITY-POST]",Ug))}makePost(e,n){const r=$g(e);return new ee(n,new Me("[PRIORITY-POST]",r))}toString(){return".priority"}}const Te=new wS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS=Math.log(2);class kS{constructor(e){const n=s=>parseInt(Math.log(s)/SS,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const nl=function(t,e,n,r){t.sort(e);const i=function(a,u){const h=u-a;let p,f;if(h===0)return null;if(h===1)return p=t[a],f=n?n(p):p,new ze(f,p.node,ze.BLACK,null,null);{const _=parseInt(h/2,10)+a,E=i(a,_),k=i(_+1,u);return p=t[_],f=n?n(p):p,new ze(f,p.node,ze.BLACK,E,k)}},s=function(a){let u=null,h=null,p=t.length;const f=function(E,k){const S=p-E,m=p;p-=E;const g=i(S+1,m),x=t[S],T=n?n(x):x;_(new ze(T,x.node,k,null,g))},_=function(E){u?(u.left=E,u=E):(h=E,u=E)};for(let E=0;E<a.count;++E){const k=a.nextBitIsOne(),S=Math.pow(2,a.count-(E+1));k?f(S,ze.BLACK):(f(S,ze.BLACK),f(S,ze.RED))}return h},o=new kS(t.length),c=s(o);return new st(r||e,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Na;const Cr={};class Jt{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return O(Cr&&Te,"ChildrenNode.ts has not been loaded"),Na=Na||new Jt({".priority":Cr},{".priority":Te}),Na}get(e){const n=ei(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof st?n:null}hasIndex(e){return cn(this.indexSet_,e.toString())}addIndex(e,n){O(e!==Hr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(ee.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let c;i?c=nl(r,e.getCompare()):c=Cr;const a=e.toString(),u=Object.assign({},this.indexSet_);u[a]=e;const h=Object.assign({},this.indexes_);return h[a]=c,new Jt(h,u)}addToIndexes(e,n){const r=Xo(this.indexes_,(i,s)=>{const o=ei(this.indexSet_,s);if(O(o,"Missing index implementation for "+s),i===Cr)if(o.isDefinedOn(e.node)){const c=[],a=n.getIterator(ee.Wrap);let u=a.getNext();for(;u;)u.name!==e.name&&c.push(u),u=a.getNext();return c.push(e),nl(c,o.getCompare())}else return Cr;else{const c=n.get(e.name);let a=i;return c&&(a=a.remove(new ee(e.name,c))),a.insert(e,e.node)}});return new Jt(r,this.indexSet_)}removeFromIndexes(e,n){const r=Xo(this.indexes_,i=>{if(i===Cr)return i;{const s=n.get(e.name);return s?i.remove(new ee(e.name,s)):i}});return new Jt(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ri;class V{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Bg(this.priorityNode_),this.children_.isEmpty()&&O(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ri||(Ri=new V(new st(Hu),null,Jt.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ri}updatePriority(e){return this.children_.isEmpty()?this:new V(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Ri:n}}getChild(e){const n=Z(e);return n===null?this:this.getImmediateChild(n).getChild(he(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(O(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new ee(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Ri:this.priorityNode_;return new V(i,o,s)}}updateChild(e,n){const r=Z(e);if(r===null)return n;{O(Z(e)!==".priority"||Fn(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(he(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Te,(o,c)=>{n[o]=c.val(e),r++,s&&V.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const c in n)o[c]=n[c];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Wg(this.getPriority().val())+":"),this.forEachChild(Te,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":hg(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new ee(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ee(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ee(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,ee.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,ee.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ls?-1:0}withIndex(e){if(e===Hr||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new V(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Hr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Te),i=n.getIterator(Te);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Hr?null:this.indexMap_.get(e.toString())}}V.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class CS extends V{constructor(){super(new st(Hu),V.EMPTY_NODE,Jt.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return V.EMPTY_NODE}isEmpty(){return!1}}const Ls=new CS;Object.defineProperties(ee,{MIN:{value:new ee(ti,V.EMPTY_NODE)},MAX:{value:new ee(ar,Ls)}});zg.__EMPTY_NODE=V.EMPTY_NODE;Me.__childrenNodeConstructor=V;vS(Ls);_S(Ls);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES=!0;function We(t,e=null){if(t===null)return V.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),O(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Me(n,We(e))}if(!(t instanceof Array)&&ES){const n=[];let r=!1;if(ut(t,(o,c)=>{if(o.substring(0,1)!=="."){const a=We(c);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new ee(o,a)))}}),n.length===0)return V.EMPTY_NODE;const s=nl(n,yS,o=>o.name,Hu);if(r){const o=nl(n,Te.getCompare());return new V(s,We(e),new Jt({".priority":o},{".priority":Te}))}else return new V(s,We(e),Jt.Default)}else{let n=V.EMPTY_NODE;return ut(t,(r,i)=>{if(cn(t,r)&&r.substring(0,1)!=="."){const s=We(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(We(e))}}xS(We);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS extends Il{constructor(e){super(),this.indexPath_=e,O(!te(e)&&Z(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?ai(e.name,n.name):s}makePost(e,n){const r=We(e),i=V.EMPTY_NODE.updateChild(this.indexPath_,r);return new ee(n,i)}maxPost(){const e=V.EMPTY_NODE.updateChild(this.indexPath_,Ls);return new ee(ar,e)}toString(){return Lg(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS extends Il{compare(e,n){const r=e.node.compareTo(n.node);return r===0?ai(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ee.MIN}maxPost(){return ee.MAX}makePost(e,n){const r=We(e);return new ee(n,r)}toString(){return".value"}}const TS=new bS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vg(t){return{type:"value",snapshotNode:t}}function ni(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function _s(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ws(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function PS(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){O(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const c=e.getImmediateChild(n);return c.getChild(i).equals(r.getChild(i))&&c.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(_s(n,c)):O(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?o.trackChildChange(ni(n,r)):o.trackChildChange(ws(n,r,c))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Te,(i,s)=>{n.hasChild(i)||r.trackChildChange(_s(i,s))}),n.isLeafNode()||n.forEachChild(Te,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(ws(i,s,o))}else r.trackChildChange(ni(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?V.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e){this.indexedFilter_=new Yu(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ss.getStartPost_(e),this.endPost_=Ss.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new ee(n,r))||(r=V.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=V.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(V.EMPTY_NODE);const s=this;return n.forEachChild(Te,(o,c)=>{s.matches(new ee(o,c))||(i=i.updateImmediateChild(o,V.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Ss(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new ee(n,r))||(r=V.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=V.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=V.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const c=s.getNext();if(this.withinDirectionalStart(c))if(this.withinDirectionalEnd(c))i=i.updateImmediateChild(c.name,c.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(V.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const c=s.getNext();o<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?o++:i=i.updateImmediateChild(c.name,V.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const p=this.index_.getCompare();o=(f,_)=>p(_,f)}else o=this.index_.getCompare();const c=e;O(c.numChildren()===this.limit_,"");const a=new ee(n,r),u=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),h=this.rangedFilter_.matches(a);if(c.hasChild(n)){const p=c.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,u,this.reverse_);for(;f!=null&&(f.name===n||c.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const _=f==null?1:o(f,a);if(h&&!r.isEmpty()&&_>=0)return s!=null&&s.trackChildChange(ws(n,r,p)),c.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(_s(n,p));const k=c.updateImmediateChild(n,V.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s!=null&&s.trackChildChange(ni(f.name,f.node)),k.updateImmediateChild(f.name,f.node)):k}}else return r.isEmpty()?e:h&&o(u,a)>=0?(s!=null&&(s.trackChildChange(_s(u.name,u.node)),s.trackChildChange(ni(n,r))),c.updateImmediateChild(n,r).updateImmediateChild(u.name,V.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Te}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return O(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return O(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ti}hasEnd(){return this.endSet_}getIndexEndValue(){return O(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return O(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ar}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return O(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Te}copy(){const e=new Qu;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function IS(t){return t.loadsAllData()?new Yu(t.getIndex()):t.hasLimit()?new jS(t):new Ss(t)}function yh(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Te?n="$priority":t.index_===TS?n="$value":t.index_===Hr?n="$key":(O(t.index_ instanceof NS,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ae(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Ae(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Ae(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Ae(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Ae(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function vh(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Te&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl extends Ag{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Os("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(O(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=rl.getListenId_(e,r),c={};this.listens_[o]=c;const a=yh(e._queryParams);this.restRequest_(s+".json",a,(u,h)=>{let p=h;if(u===404&&(p=null,u=null),u===null&&this.onDataUpdate_(s,p,!1,r),ei(this.listens_,o)===c){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",i(f,null)}})}unlisten(e,n){const r=rl.getListenId_(e,n);delete this.listens_[r]}get(e){const n=yh(e._queryParams),r=e._path.toString(),i=new Pl;return this.restRequest_(r+".json",n,(s,o)=>{let c=o;s===404&&(c=null,s=null),s===null?(this.onDataUpdate_(r,c,!1,null),i.resolve(c)):i.reject(new Error(c))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+i_(n);this.log_("Sending REST request for "+o);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(r&&c.readyState===4){this.log_("REST Response for "+o+" received. status:",c.status,"response:",c.responseText);let a=null;if(c.status>=200&&c.status<300){try{a=gs(c.responseText)}catch{ct("Failed to parse JSON response for "+o+": "+c.responseText)}r(null,a)}else c.status!==401&&c.status!==404&&ct("Got unsuccessful REST response for "+o+" Status: "+c.status),r(c.status);r=null}},c.open("GET",o,!0),c.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(){this.rootNode_=V.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function il(){return{value:null,children:new Map}}function Gg(t,e,n){if(te(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Z(e);t.children.has(r)||t.children.set(r,il());const i=t.children.get(r);e=he(e),Gg(i,e,n)}}function Oc(t,e,n){t.value!==null?n(e,t.value):AS(t,(r,i)=>{const s=new ue(e.toString()+"/"+r);Oc(i,s,n)})}function AS(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&ut(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=10*1e3,OS=30*1e3,LS=5*60*1e3;class MS{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new DS(e);const r=xh+(OS-xh)*Math.random();Ki(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;ut(e,(i,s)=>{s>0&&cn(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Ki(this.reportStats_.bind(this),Math.floor(Math.random()*2*LS))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(It||(It={}));function Hg(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Ku(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function qu(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=It.ACK_USER_WRITE,this.source=Hg()}operationForChild(e){if(te(this.path)){if(this.affectedTree.value!=null)return O(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ue(e));return new sl(le(),n,this.revert)}}else return O(Z(this.path)===e,"operationForChild called for unrelated child."),new sl(he(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,n){this.source=e,this.path=n,this.type=It.LISTEN_COMPLETE}operationForChild(e){return te(this.path)?new ks(this.source,le()):new ks(this.source,he(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=It.OVERWRITE}operationForChild(e){return te(this.path)?new cr(this.source,le(),this.snap.getImmediateChild(e)):new cr(this.source,he(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=It.MERGE}operationForChild(e){if(te(this.path)){const n=this.children.subtree(new ue(e));return n.isEmpty()?null:n.value?new cr(this.source,le(),n.value):new Cs(this.source,le(),n)}else return O(Z(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Cs(this.source,he(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(te(e))return this.isFullyInitialized()&&!this.filtered_;const n=Z(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function zS(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(PS(o.childName,o.snapshotNode))}),Ai(t,i,"child_removed",e,r,n),Ai(t,i,"child_added",e,r,n),Ai(t,i,"child_moved",s,r,n),Ai(t,i,"child_changed",e,r,n),Ai(t,i,"value",e,r,n),i}function Ai(t,e,n,r,i,s){const o=r.filter(c=>c.type===n);o.sort((c,a)=>BS(t,c,a)),o.forEach(c=>{const a=WS(t,c,s);i.forEach(u=>{u.respondsTo(c.type)&&e.push(u.createEvent(a,t.query_))})})}function WS(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function BS(t,e,n){if(e.childName==null||n.childName==null)throw li("Should only compare child_ events.");const r=new ee(e.childName,e.snapshotNode),i=new ee(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(t,e){return{eventCache:t,serverCache:e}}function qi(t,e,n,r){return Rl(new zn(e,n,r),t.serverCache)}function Yg(t,e,n,r){return Rl(t.eventCache,new zn(e,n,r))}function ol(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ur(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ba;const $S=()=>(ba||(ba=new st(bw)),ba);class ye{constructor(e,n=$S()){this.value=e,this.children=n}static fromObject(e){let n=new ye(null);return ut(e,(r,i)=>{n=n.set(new ue(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:le(),value:this.value};if(te(e))return null;{const r=Z(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(he(e),n);return s!=null?{path:De(new ue(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(te(e))return this;{const n=Z(e),r=this.children.get(n);return r!==null?r.subtree(he(e)):new ye(null)}}set(e,n){if(te(e))return new ye(n,this.children);{const r=Z(e),s=(this.children.get(r)||new ye(null)).set(he(e),n),o=this.children.insert(r,s);return new ye(this.value,o)}}remove(e){if(te(e))return this.children.isEmpty()?new ye(null):new ye(null,this.children);{const n=Z(e),r=this.children.get(n);if(r){const i=r.remove(he(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new ye(null):new ye(this.value,s)}else return this}}get(e){if(te(e))return this.value;{const n=Z(e),r=this.children.get(n);return r?r.get(he(e)):null}}setTree(e,n){if(te(e))return n;{const r=Z(e),s=(this.children.get(r)||new ye(null)).setTree(he(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new ye(this.value,o)}}fold(e){return this.fold_(le(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(De(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,le(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(te(e))return null;{const s=Z(e),o=this.children.get(s);return o?o.findOnPath_(he(e),De(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,le(),n)}foreachOnPath_(e,n,r){if(te(e))return this;{this.value&&r(n,this.value);const i=Z(e),s=this.children.get(i);return s?s.foreachOnPath_(he(e),De(n,i),r):new ye(null)}}foreach(e){this.foreach_(le(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(De(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.writeTree_=e}static empty(){return new Dt(new ye(null))}}function Xi(t,e,n){if(te(e))return new Dt(new ye(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Je(i,e);return s=s.updateChild(o,n),new Dt(t.writeTree_.set(i,s))}else{const i=new ye(n),s=t.writeTree_.setTree(e,i);return new Dt(s)}}}function _h(t,e,n){let r=t;return ut(n,(i,s)=>{r=Xi(r,De(e,i),s)}),r}function wh(t,e){if(te(e))return Dt.empty();{const n=t.writeTree_.setTree(e,new ye(null));return new Dt(n)}}function Lc(t,e){return pr(t,e)!=null}function pr(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Je(n.path,e)):null}function Sh(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Te,(r,i)=>{e.push(new ee(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new ee(r,i.value))}),e}function Dn(t,e){if(te(e))return t;{const n=pr(t,e);return n!=null?new Dt(new ye(n)):new Dt(t.writeTree_.subtree(e))}}function Mc(t){return t.writeTree_.isEmpty()}function ri(t,e){return Qg(le(),t.writeTree_,e)}function Qg(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(O(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=Qg(De(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(De(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(t,e){return Jg(e,t)}function US(t,e,n,r,i){O(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Xi(t.visibleWrites,e,n)),t.lastWriteId=r}function VS(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function GS(t,e){const n=t.allWrites.findIndex(c=>c.writeId===e);O(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const c=t.allWrites[o];c.visible&&(o>=n&&HS(c,r.path)?i=!1:jt(r.path,c.path)&&(s=!0)),o--}if(i){if(s)return YS(t),!0;if(r.snap)t.visibleWrites=wh(t.visibleWrites,r.path);else{const c=r.children;ut(c,a=>{t.visibleWrites=wh(t.visibleWrites,De(r.path,a))})}return!0}else return!1}function HS(t,e){if(t.snap)return jt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&jt(De(t.path,n),e))return!0;return!1}function YS(t){t.visibleWrites=Kg(t.allWrites,QS,le()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function QS(t){return t.visible}function Kg(t,e,n){let r=Dt.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let c;if(s.snap)jt(n,o)?(c=Je(n,o),r=Xi(r,c,s.snap)):jt(o,n)&&(c=Je(o,n),r=Xi(r,le(),s.snap.getChild(c)));else if(s.children){if(jt(n,o))c=Je(n,o),r=_h(r,c,s.children);else if(jt(o,n))if(c=Je(o,n),te(c))r=_h(r,le(),s.children);else{const a=ei(s.children,Z(c));if(a){const u=a.getChild(he(c));r=Xi(r,le(),u)}}}else throw li("WriteRecord should have .snap or .children")}}return r}function qg(t,e,n,r,i){if(!r&&!i){const s=pr(t.visibleWrites,e);if(s!=null)return s;{const o=Dn(t.visibleWrites,e);if(Mc(o))return n;if(n==null&&!Lc(o,le()))return null;{const c=n||V.EMPTY_NODE;return ri(o,c)}}}else{const s=Dn(t.visibleWrites,e);if(!i&&Mc(s))return n;if(!i&&n==null&&!Lc(s,le()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(jt(u.path,e)||jt(e,u.path))},c=Kg(t.allWrites,o,e),a=n||V.EMPTY_NODE;return ri(c,a)}}}function KS(t,e,n){let r=V.EMPTY_NODE;const i=pr(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Te,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Dn(t.visibleWrites,e);return n.forEachChild(Te,(o,c)=>{const a=ri(Dn(s,new ue(o)),c);r=r.updateImmediateChild(o,a)}),Sh(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Dn(t.visibleWrites,e);return Sh(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function qS(t,e,n,r,i){O(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=De(e,n);if(Lc(t.visibleWrites,s))return null;{const o=Dn(t.visibleWrites,s);return Mc(o)?i.getChild(n):ri(o,i.getChild(n))}}function XS(t,e,n,r){const i=De(e,n),s=pr(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Dn(t.visibleWrites,i);return ri(o,r.getNode().getImmediateChild(n))}else return null}function JS(t,e){return pr(t.visibleWrites,e)}function ZS(t,e,n,r,i,s,o){let c;const a=Dn(t.visibleWrites,e),u=pr(a,le());if(u!=null)c=u;else if(n!=null)c=ri(a,n);else return[];if(c=c.withIndex(o),!c.isEmpty()&&!c.isLeafNode()){const h=[],p=o.getCompare(),f=s?c.getReverseIteratorFrom(r,o):c.getIteratorFrom(r,o);let _=f.getNext();for(;_&&h.length<i;)p(_,r)!==0&&h.push(_),_=f.getNext();return h}else return[]}function e1(){return{visibleWrites:Dt.empty(),allWrites:[],lastWriteId:-1}}function ll(t,e,n,r){return qg(t.writeTree,t.treePath,e,n,r)}function Xu(t,e){return KS(t.writeTree,t.treePath,e)}function kh(t,e,n,r){return qS(t.writeTree,t.treePath,e,n,r)}function al(t,e){return JS(t.writeTree,De(t.treePath,e))}function t1(t,e,n,r,i,s){return ZS(t.writeTree,t.treePath,e,n,r,i,s)}function Ju(t,e,n){return XS(t.writeTree,t.treePath,e,n)}function Xg(t,e){return Jg(De(t.treePath,e),t.writeTree)}function Jg(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;O(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),O(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,ws(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,_s(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,ni(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,ws(r,e.snapshotNode,i.oldSnap));else throw li("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const Zg=new r1;class Zu{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new zn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ju(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ur(this.viewCache_),s=t1(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(t){return{filter:t}}function s1(t,e){O(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),O(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function o1(t,e,n,r,i){const s=new n1;let o,c;if(n.type===It.OVERWRITE){const u=n;u.source.fromUser?o=Fc(t,e,u.path,u.snap,r,i,s):(O(u.source.fromServer,"Unknown source."),c=u.source.tagged||e.serverCache.isFiltered()&&!te(u.path),o=cl(t,e,u.path,u.snap,r,i,c,s))}else if(n.type===It.MERGE){const u=n;u.source.fromUser?o=a1(t,e,u.path,u.children,r,i,s):(O(u.source.fromServer,"Unknown source."),c=u.source.tagged||e.serverCache.isFiltered(),o=zc(t,e,u.path,u.children,r,i,c,s))}else if(n.type===It.ACK_USER_WRITE){const u=n;u.revert?o=d1(t,e,u.path,r,i,s):o=c1(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===It.LISTEN_COMPLETE)o=u1(t,e,n.path,r,s);else throw li("Unknown operation type: "+n.type);const a=s.getChanges();return l1(e,o,a),{viewCache:o,changes:a}}function l1(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=ol(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Vg(ol(e)))}}function ey(t,e,n,r,i,s){const o=e.eventCache;if(al(r,n)!=null)return e;{let c,a;if(te(n))if(O(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=ur(e),h=u instanceof V?u:V.EMPTY_NODE,p=Xu(r,h);c=t.filter.updateFullNode(e.eventCache.getNode(),p,s)}else{const u=ll(r,ur(e));c=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=Z(n);if(u===".priority"){O(Fn(n)===1,"Can't have a priority with additional path components");const h=o.getNode();a=e.serverCache.getNode();const p=kh(r,n,h,a);p!=null?c=t.filter.updatePriority(h,p):c=o.getNode()}else{const h=he(n);let p;if(o.isCompleteForChild(u)){a=e.serverCache.getNode();const f=kh(r,n,o.getNode(),a);f!=null?p=o.getNode().getImmediateChild(u).updateChild(h,f):p=o.getNode().getImmediateChild(u)}else p=Ju(r,u,e.serverCache);p!=null?c=t.filter.updateChild(o.getNode(),u,p,h,i,s):c=o.getNode()}}return qi(e,c,o.isFullyInitialized()||te(n),t.filter.filtersNodes())}}function cl(t,e,n,r,i,s,o,c){const a=e.serverCache;let u;const h=o?t.filter:t.filter.getIndexedFilter();if(te(n))u=h.updateFullNode(a.getNode(),r,null);else if(h.filtersNodes()&&!a.isFiltered()){const _=a.getNode().updateChild(n,r);u=h.updateFullNode(a.getNode(),_,null)}else{const _=Z(n);if(!a.isCompleteForPath(n)&&Fn(n)>1)return e;const E=he(n),S=a.getNode().getImmediateChild(_).updateChild(E,r);_===".priority"?u=h.updatePriority(a.getNode(),S):u=h.updateChild(a.getNode(),_,S,E,Zg,null)}const p=Yg(e,u,a.isFullyInitialized()||te(n),h.filtersNodes()),f=new Zu(i,p,s);return ey(t,p,n,i,f,c)}function Fc(t,e,n,r,i,s,o){const c=e.eventCache;let a,u;const h=new Zu(i,e,s);if(te(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),a=qi(e,u,!0,t.filter.filtersNodes());else{const p=Z(n);if(p===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),a=qi(e,u,c.isFullyInitialized(),c.isFiltered());else{const f=he(n),_=c.getNode().getImmediateChild(p);let E;if(te(f))E=r;else{const k=h.getCompleteChild(p);k!=null?Og(f)===".priority"&&k.getChild(Mg(f)).isEmpty()?E=k:E=k.updateChild(f,r):E=V.EMPTY_NODE}if(_.equals(E))a=e;else{const k=t.filter.updateChild(c.getNode(),p,E,f,h,o);a=qi(e,k,c.isFullyInitialized(),t.filter.filtersNodes())}}}return a}function Ch(t,e){return t.eventCache.isCompleteForChild(e)}function a1(t,e,n,r,i,s,o){let c=e;return r.foreach((a,u)=>{const h=De(n,a);Ch(e,Z(h))&&(c=Fc(t,c,h,u,i,s,o))}),r.foreach((a,u)=>{const h=De(n,a);Ch(e,Z(h))||(c=Fc(t,c,h,u,i,s,o))}),c}function Eh(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function zc(t,e,n,r,i,s,o,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let a=e,u;te(n)?u=r:u=new ye(null).setTree(n,r);const h=e.serverCache.getNode();return u.children.inorderTraversal((p,f)=>{if(h.hasChild(p)){const _=e.serverCache.getNode().getImmediateChild(p),E=Eh(t,_,f);a=cl(t,a,new ue(p),E,i,s,o,c)}}),u.children.inorderTraversal((p,f)=>{const _=!e.serverCache.isCompleteForChild(p)&&f.value===null;if(!h.hasChild(p)&&!_){const E=e.serverCache.getNode().getImmediateChild(p),k=Eh(t,E,f);a=cl(t,a,new ue(p),k,i,s,o,c)}}),a}function c1(t,e,n,r,i,s,o){if(al(i,n)!=null)return e;const c=e.serverCache.isFiltered(),a=e.serverCache;if(r.value!=null){if(te(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return cl(t,e,n,a.getNode().getChild(n),i,s,c,o);if(te(n)){let u=new ye(null);return a.getNode().forEachChild(Hr,(h,p)=>{u=u.set(new ue(h),p)}),zc(t,e,n,u,i,s,c,o)}else return e}else{let u=new ye(null);return r.foreach((h,p)=>{const f=De(n,h);a.isCompleteForPath(f)&&(u=u.set(h,a.getNode().getChild(f)))}),zc(t,e,n,u,i,s,c,o)}}function u1(t,e,n,r,i){const s=e.serverCache,o=Yg(e,s.getNode(),s.isFullyInitialized()||te(n),s.isFiltered());return ey(t,o,n,r,Zg,i)}function d1(t,e,n,r,i,s){let o;if(al(r,n)!=null)return e;{const c=new Zu(r,e,i),a=e.eventCache.getNode();let u;if(te(n)||Z(n)===".priority"){let h;if(e.serverCache.isFullyInitialized())h=ll(r,ur(e));else{const p=e.serverCache.getNode();O(p instanceof V,"serverChildren would be complete if leaf node"),h=Xu(r,p)}h=h,u=t.filter.updateFullNode(a,h,s)}else{const h=Z(n);let p=Ju(r,h,e.serverCache);p==null&&e.serverCache.isCompleteForChild(h)&&(p=a.getImmediateChild(h)),p!=null?u=t.filter.updateChild(a,h,p,he(n),c,s):e.eventCache.getNode().hasChild(h)?u=t.filter.updateChild(a,h,V.EMPTY_NODE,he(n),c,s):u=a,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=ll(r,ur(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||al(r,le())!=null,qi(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Yu(r.getIndex()),s=IS(r);this.processor_=i1(s);const o=n.serverCache,c=n.eventCache,a=i.updateFullNode(V.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(V.EMPTY_NODE,c.getNode(),null),h=new zn(a,o.isFullyInitialized(),i.filtersNodes()),p=new zn(u,c.isFullyInitialized(),s.filtersNodes());this.viewCache_=Rl(p,h),this.eventGenerator_=new FS(this.query_)}get query(){return this.query_}}function h1(t){return t.viewCache_.serverCache.getNode()}function p1(t){return ol(t.viewCache_)}function m1(t,e){const n=ur(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!te(e)&&!n.getImmediateChild(Z(e)).isEmpty())?n.getChild(e):null}function Nh(t){return t.eventRegistrations_.length===0}function g1(t,e){t.eventRegistrations_.push(e)}function bh(t,e,n){const r=[];if(n){O(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function Th(t,e,n,r){e.type===It.MERGE&&e.source.queryId!==null&&(O(ur(t.viewCache_),"We should always have a full cache before handling merges"),O(ol(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=o1(t.processor_,i,e,n,r);return s1(t.processor_,s.viewCache),O(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,ty(t,s.changes,s.viewCache.eventCache.getNode(),null)}function y1(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Te,(s,o)=>{r.push(ni(s,o))}),n.isFullyInitialized()&&r.push(Vg(n.getNode())),ty(t,r,n.getNode(),e)}function ty(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return zS(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ul;class ny{constructor(){this.views=new Map}}function v1(t){O(!ul,"__referenceConstructor has already been defined"),ul=t}function x1(){return O(ul,"Reference.ts has not been loaded"),ul}function _1(t){return t.views.size===0}function ed(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return O(s!=null,"SyncTree gave us an op for an invalid query."),Th(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(Th(o,e,n,r));return s}}function ry(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let c=ll(n,i?r:null),a=!1;c?a=!0:r instanceof V?(c=Xu(n,r),a=!1):(c=V.EMPTY_NODE,a=!1);const u=Rl(new zn(c,a,!1),new zn(r,i,!1));return new f1(e,u)}return o}function w1(t,e,n,r,i,s){const o=ry(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),g1(o,n),y1(o,n)}function S1(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const c=Wn(t);if(i==="default")for(const[a,u]of t.views.entries())o=o.concat(bh(u,n,r)),Nh(u)&&(t.views.delete(a),u.query._queryParams.loadsAllData()||s.push(u.query));else{const a=t.views.get(i);a&&(o=o.concat(bh(a,n,r)),Nh(a)&&(t.views.delete(i),a.query._queryParams.loadsAllData()||s.push(a.query)))}return c&&!Wn(t)&&s.push(new(x1())(e._repo,e._path)),{removed:s,events:o}}function iy(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function On(t,e){let n=null;for(const r of t.views.values())n=n||m1(r,e);return n}function sy(t,e){if(e._queryParams.loadsAllData())return Dl(t);{const r=e._queryIdentifier;return t.views.get(r)}}function oy(t,e){return sy(t,e)!=null}function Wn(t){return Dl(t)!=null}function Dl(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dl;function k1(t){O(!dl,"__referenceConstructor has already been defined"),dl=t}function C1(){return O(dl,"Reference.ts has not been loaded"),dl}let E1=1;class Ph{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ye(null),this.pendingWriteTree_=e1(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function ly(t,e,n,r,i){return US(t.pendingWriteTree_,e,n,r,i),i?Fs(t,new cr(Hg(),e,n)):[]}function er(t,e,n=!1){const r=VS(t.pendingWriteTree_,e);if(GS(t.pendingWriteTree_,e)){let s=new ye(null);return r.snap!=null?s=s.set(le(),!0):ut(r.children,o=>{s=s.set(new ue(o),!0)}),Fs(t,new sl(r.path,s,n))}else return[]}function Ms(t,e,n){return Fs(t,new cr(Ku(),e,n))}function N1(t,e,n){const r=ye.fromObject(n);return Fs(t,new Cs(Ku(),e,r))}function b1(t,e){return Fs(t,new ks(Ku(),e))}function T1(t,e,n){const r=nd(t,n);if(r){const i=rd(r),s=i.path,o=i.queryId,c=Je(s,e),a=new ks(qu(o),c);return id(t,s,a)}else return[]}function fl(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let c=[];if(o&&(e._queryIdentifier==="default"||oy(o,e))){const a=S1(o,e,n,r);_1(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=a.removed;if(c=a.events,!i){const h=u.findIndex(f=>f._queryParams.loadsAllData())!==-1,p=t.syncPointTree_.findOnPath(s,(f,_)=>Wn(_));if(h&&!p){const f=t.syncPointTree_.subtree(s);if(!f.isEmpty()){const _=I1(f);for(let E=0;E<_.length;++E){const k=_[E],S=k.query,m=dy(t,k);t.listenProvider_.startListening(Ji(S),Es(t,S),m.hashFn,m.onComplete)}}}!p&&u.length>0&&!r&&(h?t.listenProvider_.stopListening(Ji(e),null):u.forEach(f=>{const _=t.queryToTagMap.get(Ol(f));t.listenProvider_.stopListening(Ji(f),_)}))}R1(t,u)}return c}function ay(t,e,n,r){const i=nd(t,r);if(i!=null){const s=rd(i),o=s.path,c=s.queryId,a=Je(o,e),u=new cr(qu(c),a,n);return id(t,o,u)}else return[]}function P1(t,e,n,r){const i=nd(t,r);if(i){const s=rd(i),o=s.path,c=s.queryId,a=Je(o,e),u=ye.fromObject(n),h=new Cs(qu(c),a,u);return id(t,o,h)}else return[]}function Wc(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(f,_)=>{const E=Je(f,i);s=s||On(_,E),o=o||Wn(_)});let c=t.syncPointTree_.get(i);c?(o=o||Wn(c),s=s||On(c,le())):(c=new ny,t.syncPointTree_=t.syncPointTree_.set(i,c));let a;s!=null?a=!0:(a=!1,s=V.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((_,E)=>{const k=On(E,le());k&&(s=s.updateImmediateChild(_,k))}));const u=oy(c,e);if(!u&&!e._queryParams.loadsAllData()){const f=Ol(e);O(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const _=A1();t.queryToTagMap.set(f,_),t.tagToQueryMap.set(_,f)}const h=Al(t.pendingWriteTree_,i);let p=w1(c,e,n,h,s,a);if(!u&&!o&&!r){const f=sy(c,e);p=p.concat(D1(t,e,f))}return p}function td(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,c)=>{const a=Je(o,e),u=On(c,a);if(u)return u});return qg(i,e,s,n,!0)}function j1(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(u,h)=>{const p=Je(u,n);r=r||On(h,p)});let i=t.syncPointTree_.get(n);i?r=r||On(i,le()):(i=new ny,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,o=s?new zn(r,!0,!1):null,c=Al(t.pendingWriteTree_,e._path),a=ry(i,e,c,s?o.getNode():V.EMPTY_NODE,s);return p1(a)}function Fs(t,e){return cy(e,t.syncPointTree_,null,Al(t.pendingWriteTree_,le()))}function cy(t,e,n,r){if(te(t.path))return uy(t,e,n,r);{const i=e.get(le());n==null&&i!=null&&(n=On(i,le()));let s=[];const o=Z(t.path),c=t.operationForChild(o),a=e.children.get(o);if(a&&c){const u=n?n.getImmediateChild(o):null,h=Xg(r,o);s=s.concat(cy(c,a,u,h))}return i&&(s=s.concat(ed(i,t,r,n))),s}}function uy(t,e,n,r){const i=e.get(le());n==null&&i!=null&&(n=On(i,le()));let s=[];return e.children.inorderTraversal((o,c)=>{const a=n?n.getImmediateChild(o):null,u=Xg(r,o),h=t.operationForChild(o);h&&(s=s.concat(uy(h,c,a,u)))}),i&&(s=s.concat(ed(i,t,r,n))),s}function dy(t,e){const n=e.query,r=Es(t,n);return{hashFn:()=>(h1(e)||V.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?T1(t,n._path,r):b1(t,n._path);{const s=jw(i,n);return fl(t,n,null,s)}}}}function Es(t,e){const n=Ol(e);return t.queryToTagMap.get(n)}function Ol(t){return t._path.toString()+"$"+t._queryIdentifier}function nd(t,e){return t.tagToQueryMap.get(e)}function rd(t){const e=t.indexOf("$");return O(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ue(t.substr(0,e))}}function id(t,e,n){const r=t.syncPointTree_.get(e);O(r,"Missing sync point for query tag that we're tracking");const i=Al(t.pendingWriteTree_,e);return ed(r,n,i,null)}function I1(t){return t.fold((e,n,r)=>{if(n&&Wn(n))return[Dl(n)];{let i=[];return n&&(i=iy(n)),ut(r,(s,o)=>{i=i.concat(o)}),i}})}function Ji(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(C1())(t._repo,t._path):t}function R1(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Ol(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function A1(){return E1++}function D1(t,e,n){const r=e._path,i=Es(t,e),s=dy(t,n),o=t.listenProvider_.startListening(Ji(e),i,s.hashFn,s.onComplete),c=t.syncPointTree_.subtree(r);if(i)O(!Wn(c.value),"If we're adding a query, it shouldn't be shadowed");else{const a=c.fold((u,h,p)=>{if(!te(u)&&h&&Wn(h))return[Dl(h).query];{let f=[];return h&&(f=f.concat(iy(h).map(_=>_.query))),ut(p,(_,E)=>{f=f.concat(E)}),f}});for(let u=0;u<a.length;++u){const h=a[u];t.listenProvider_.stopListening(Ji(h),Es(t,h))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new sd(n)}node(){return this.node_}}class od{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=De(this.path_,e);return new od(this.syncTree_,n)}node(){return td(this.syncTree_,this.path_)}}const O1=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},jh=function(t,e,n){if(!t||typeof t!="object")return t;if(O(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return L1(t[".sv"],e,n);if(typeof t[".sv"]=="object")return M1(t[".sv"],e);O(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},L1=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:O(!1,"Unexpected server value: "+t)}},M1=function(t,e,n){t.hasOwnProperty("increment")||O(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&O(!1,"Unexpected increment value: "+r);const i=e.node();if(O(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},F1=function(t,e,n,r){return ld(e,new od(n,t),r)},fy=function(t,e,n){return ld(t,new sd(e),n)};function ld(t,e,n){const r=t.getPriority().val(),i=jh(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,c=jh(o.getValue(),e,n);return c!==o.getValue()||i!==o.getPriority().val()?new Me(c,We(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Me(i))),o.forEachChild(Te,(c,a)=>{const u=ld(a,e.getImmediateChild(c),n);u!==a&&(s=s.updateImmediateChild(c,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function cd(t,e){let n=e instanceof ue?e:new ue(e),r=t,i=Z(n);for(;i!==null;){const s=ei(r.node.children,i)||{children:{},childCount:0};r=new ad(i,r,s),n=he(n),i=Z(n)}return r}function ui(t){return t.node.value}function hy(t,e){t.node.value=e,Bc(t)}function py(t){return t.node.childCount>0}function z1(t){return ui(t)===void 0&&!py(t)}function Ll(t,e){ut(t.node.children,(n,r)=>{e(new ad(n,t,r))})}function my(t,e,n,r){n&&e(t),Ll(t,i=>{my(i,e,!0)})}function W1(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function zs(t){return new ue(t.parent===null?t.name:zs(t.parent)+"/"+t.name)}function Bc(t){t.parent!==null&&B1(t.parent,t.name,t)}function B1(t,e,n){const r=z1(n),i=cn(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Bc(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Bc(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1=/[\[\].#$\/\u0000-\u001F\u007F]/,U1=/[\[\].#$\u0000-\u001F\u007F]/,Ta=10*1024*1024,gy=function(t){return typeof t=="string"&&t.length!==0&&!$1.test(t)},yy=function(t){return typeof t=="string"&&t.length!==0&&!U1.test(t)},V1=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),yy(t)},vy=function(t,e,n,r){r&&e===void 0||ud(Fu(t,"value"),e,n)},ud=function(t,e,n){const r=n instanceof ue?new cS(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Kn(r));if(typeof e=="function")throw new Error(t+"contains a function "+Kn(r)+" with contents = "+e.toString());if(pg(e))throw new Error(t+"contains "+e.toString()+" "+Kn(r));if(typeof e=="string"&&e.length>Ta/3&&jl(e)>Ta)throw new Error(t+"contains a string greater than "+Ta+" utf8 bytes "+Kn(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(ut(e,(o,c)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!gy(o)))throw new Error(t+" contains an invalid key ("+o+") "+Kn(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);uS(r,o),ud(t,c,r),dS(r)}),i&&s)throw new Error(t+' contains ".value" child '+Kn(r)+" in addition to actual children.")}},xy=function(t,e,n,r){if(!yy(n))throw new Error(Fu(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},G1=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),xy(t,e,n)},dd=function(t,e){if(Z(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},H1=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!gy(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!V1(n))throw new Error(Fu(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function fd(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!Vu(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function _y(t,e,n){fd(t,n),wy(t,r=>Vu(r,e))}function Ht(t,e,n){fd(t,n),wy(t,r=>jt(r,e)||jt(e,r))}function wy(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(Q1(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Q1(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Qi&&Qe("event: "+n.toString()),ci(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1="repo_interrupt",q1=25;class X1{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Y1,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=il(),this.transactionQueueTree_=new ad,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function J1(t,e,n){if(t.stats_=$u(t.repoInfo_),t.forceRestClient_||Dw())t.server_=new rl(t.repoInfo_,(r,i,s,o)=>{Ih(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Rh(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ae(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new en(t.repoInfo_,e,(r,i,s,o)=>{Ih(t,r,i,s,o)},r=>{Rh(t,r)},r=>{Z1(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=zw(t.repoInfo_,()=>new MS(t.stats_,t.server_)),t.infoData_=new RS,t.infoSyncTree_=new Ph({startListening:(r,i,s,o)=>{let c=[];const a=t.infoData_.getNode(r._path);return a.isEmpty()||(c=Ms(t.infoSyncTree_,r._path,a),setTimeout(()=>{o("ok")},0)),c},stopListening:()=>{}}),pd(t,"connected",!1),t.serverSyncTree_=new Ph({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(c,a)=>{const u=o(c,a);Ht(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function Sy(t){const n=t.infoData_.getNode(new ue(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function hd(t){return O1({timestamp:Sy(t)})}function Ih(t,e,n,r,i){t.dataUpdateCount++;const s=new ue(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const a=Xo(n,u=>We(u));o=P1(t.serverSyncTree_,s,a,i)}else{const a=We(n);o=ay(t.serverSyncTree_,s,a,i)}else if(r){const a=Xo(n,u=>We(u));o=N1(t.serverSyncTree_,s,a)}else{const a=We(n);o=Ms(t.serverSyncTree_,s,a)}let c=s;o.length>0&&(c=Fl(t,s)),Ht(t.eventQueue_,c,o)}function Rh(t,e){pd(t,"connected",e),e===!1&&nk(t)}function Z1(t,e){ut(e,(n,r)=>{pd(t,n,r)})}function pd(t,e,n){const r=new ue("/.info/"+e),i=We(n);t.infoData_.updateSnapshot(r,i);const s=Ms(t.infoSyncTree_,r,i);Ht(t.eventQueue_,r,s)}function ky(t){return t.nextWriteId_++}function ek(t,e,n){const r=j1(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=We(i).withIndex(e._queryParams.getIndex());Wc(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Ms(t.serverSyncTree_,e._path,s);else{const c=Es(t.serverSyncTree_,e);o=ay(t.serverSyncTree_,e._path,s,c)}return Ht(t.eventQueue_,e._path,o),fl(t.serverSyncTree_,e,n,null,!0),s},i=>(Ml(t,"get for query "+Ae(e)+" failed: "+i),Promise.reject(new Error(i))))}function tk(t,e,n,r,i){Ml(t,"set",{path:e.toString(),value:n,priority:r});const s=hd(t),o=We(n,r),c=td(t.serverSyncTree_,e),a=fy(o,c,s),u=ky(t),h=ly(t.serverSyncTree_,e,a,u,!0);fd(t.eventQueue_,h),t.server_.put(e.toString(),o.val(!0),(f,_)=>{const E=f==="ok";E||ct("set at "+e+" failed: "+f);const k=er(t.serverSyncTree_,u,!E);Ht(t.eventQueue_,e,k),sk(t,i,f,_)});const p=Ty(t,e);Fl(t,p),Ht(t.eventQueue_,p,[])}function nk(t){Ml(t,"onDisconnectEvents");const e=hd(t),n=il();Oc(t.onDisconnect_,le(),(i,s)=>{const o=F1(i,s,t.serverSyncTree_,e);Gg(n,i,o)});let r=[];Oc(n,le(),(i,s)=>{r=r.concat(Ms(t.serverSyncTree_,i,s));const o=Ty(t,i);Fl(t,o)}),t.onDisconnect_=il(),Ht(t.eventQueue_,le(),r)}function rk(t,e,n){let r;Z(e._path)===".info"?r=Wc(t.infoSyncTree_,e,n):r=Wc(t.serverSyncTree_,e,n),_y(t.eventQueue_,e._path,r)}function Ah(t,e,n){let r;Z(e._path)===".info"?r=fl(t.infoSyncTree_,e,n):r=fl(t.serverSyncTree_,e,n),_y(t.eventQueue_,e._path,r)}function ik(t){t.persistentConnection_&&t.persistentConnection_.interrupt(K1)}function Ml(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Qe(n,...e)}function sk(t,e,n,r){e&&ci(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function Cy(t,e,n){return td(t.serverSyncTree_,e,n)||V.EMPTY_NODE}function md(t,e=t.transactionQueueTree_){if(e||zl(t,e),ui(e)){const n=Ny(t,e);O(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&ok(t,zs(e),n)}else py(e)&&Ll(e,n=>{md(t,n)})}function ok(t,e,n){const r=n.map(u=>u.currentWriteId),i=Cy(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const h=n[u];O(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const p=Je(e,h.path);s=s.updateChild(p,h.currentOutputSnapshotRaw)}const c=s.val(!0),a=e;t.server_.put(a.toString(),c,u=>{Ml(t,"transaction put response",{path:a.toString(),status:u});let h=[];if(u==="ok"){const p=[];for(let f=0;f<n.length;f++)n[f].status=2,h=h.concat(er(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&p.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();zl(t,cd(t.transactionQueueTree_,e)),md(t,t.transactionQueueTree_),Ht(t.eventQueue_,e,h);for(let f=0;f<p.length;f++)ci(p[f])}else{if(u==="datastale")for(let p=0;p<n.length;p++)n[p].status===3?n[p].status=4:n[p].status=0;else{ct("transaction at "+a.toString()+" failed: "+u);for(let p=0;p<n.length;p++)n[p].status=4,n[p].abortReason=u}Fl(t,e)}},o)}function Fl(t,e){const n=Ey(t,e),r=zs(n),i=Ny(t,n);return lk(t,i,r),r}function lk(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){const a=e[c],u=Je(n,a.path);let h=!1,p;if(O(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)h=!0,p=a.abortReason,i=i.concat(er(t.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=q1)h=!0,p="maxretry",i=i.concat(er(t.serverSyncTree_,a.currentWriteId,!0));else{const f=Cy(t,a.path,o);a.currentInputSnapshot=f;const _=e[c].update(f.val());if(_!==void 0){ud("transaction failed: Data returned ",_,a.path);let E=We(_);typeof _=="object"&&_!=null&&cn(_,".priority")||(E=E.updatePriority(f.getPriority()));const S=a.currentWriteId,m=hd(t),g=fy(E,f,m);a.currentOutputSnapshotRaw=E,a.currentOutputSnapshotResolved=g,a.currentWriteId=ky(t),o.splice(o.indexOf(S),1),i=i.concat(ly(t.serverSyncTree_,a.path,g,a.currentWriteId,a.applyLocally)),i=i.concat(er(t.serverSyncTree_,S,!0))}else h=!0,p="nodata",i=i.concat(er(t.serverSyncTree_,a.currentWriteId,!0))}Ht(t.eventQueue_,n,i),i=[],h&&(e[c].status=2,function(f){setTimeout(f,Math.floor(0))}(e[c].unwatcher),e[c].onComplete&&(p==="nodata"?r.push(()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot)):r.push(()=>e[c].onComplete(new Error(p),!1,null))))}zl(t,t.transactionQueueTree_);for(let c=0;c<r.length;c++)ci(r[c]);md(t,t.transactionQueueTree_)}function Ey(t,e){let n,r=t.transactionQueueTree_;for(n=Z(e);n!==null&&ui(r)===void 0;)r=cd(r,n),e=he(e),n=Z(e);return r}function Ny(t,e){const n=[];return by(t,e,n),n.sort((r,i)=>r.order-i.order),n}function by(t,e,n){const r=ui(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Ll(e,i=>{by(t,i,n)})}function zl(t,e){const n=ui(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,hy(e,n.length>0?n:void 0)}Ll(e,r=>{zl(t,r)})}function Ty(t,e){const n=zs(Ey(t,e)),r=cd(t.transactionQueueTree_,e);return W1(r,i=>{Pa(t,i)}),Pa(t,r),my(r,i=>{Pa(t,i)}),n}function Pa(t,e){const n=ui(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(O(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(O(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(er(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?hy(e,void 0):n.length=s+1,Ht(t.eventQueue_,zs(e),i);for(let o=0;o<r.length;o++)ci(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function ck(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ct(`Invalid query segment '${n}' in query '${t}'`)}return e}const Dh=function(t,e){const n=uk(t),r=n.namespace;n.domain==="firebase.com"&&ln(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&ln("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Ew();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Ng(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new ue(n.pathString)}},uk=function(t){let e="",n="",r="",i="",s="",o=!0,c="https",a=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(c=t.substring(0,u-1),t=t.substring(u+2));let h=t.indexOf("/");h===-1&&(h=t.length);let p=t.indexOf("?");p===-1&&(p=t.length),e=t.substring(0,Math.min(h,p)),h<p&&(i=ak(t.substring(h,p)));const f=ck(t.substring(Math.min(t.length,p)));u=e.indexOf(":"),u>=0?(o=c==="https"||c==="wss",a=parseInt(e.substring(u+1),10)):u=e.length;const _=e.slice(0,u);if(_.toLowerCase()==="localhost")n="localhost";else if(_.split(".").length<=2)n=_;else{const E=e.indexOf(".");r=e.substring(0,E).toLowerCase(),n=e.substring(E+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:a,domain:n,subdomain:r,secure:o,scheme:c,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",dk=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=Oh.charAt(n%64),n=Math.floor(n/64);O(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=Oh.charAt(e[i]);return O(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ae(this.snapshot.exportVal())}}class hk{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return O(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return te(this._path)?null:Og(this._path)}get ref(){return new un(this._repo,this._path)}get _queryIdentifier(){const e=vh(this._queryParams),n=Wu(e);return n==="{}"?"default":n}get _queryObject(){return vh(this._queryParams)}isEqual(e){if(e=hr(e),!(e instanceof gd))return!1;const n=this._repo===e._repo,r=Vu(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+aS(this._path)}}class un extends gd{constructor(e,n){super(e,n,new Qu,!1)}get parent(){const e=Mg(this._path);return e===null?null:new un(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Ns{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new ue(e),r=bs(this.ref,e);return new Ns(this._node.getChild(n),r,Te)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Ns(i,bs(this.ref,r),Te)))}hasChild(e){const n=new ue(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function K(t,e){return t=hr(t),t._checkNotDeleted("ref"),e!==void 0?bs(t._root,e):t._root}function bs(t,e){return t=hr(t),Z(t._path)===null?G1("child","path",e):xy("child","path",e),new un(t._repo,De(t._path,e))}function Eo(t,e){t=hr(t),dd("push",t._path),vy("push",e,t._path,!0);const n=Sy(t._repo),r=dk(n),i=bs(t,r),s=bs(t,r);let o;return e!=null?o=Ne(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function Lh(t){return dd("remove",t._path),Ne(t,null)}function Ne(t,e){t=hr(t),dd("set",t._path),vy("set",e,t._path,!1);const n=new Pl;return tk(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Di(t){t=hr(t);const e=new Py(()=>{}),n=new Wl(e);return ek(t._repo,t,n).then(r=>new Ns(r,new un(t._repo,t._path),t._queryParams.getIndex()))}class Wl{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new fk("value",this,new Ns(e.snapshotNode,new un(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new hk(this,e,n):null}matches(e){return e instanceof Wl?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function pk(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const a=n,u=(h,p)=>{Ah(t._repo,t,c),a(h,p)};u.userCallback=n.userCallback,u.context=n.context,n=u}const o=new Py(n,s||void 0),c=new Wl(o);return rk(t._repo,t,c),()=>Ah(t._repo,t,c)}function Bt(t,e,n,r){return pk(t,"value",e,n,r)}v1(un);k1(un);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk="FIREBASE_DATABASE_EMULATOR_HOST",$c={};let gk=!1;function yk(t,e,n,r){t.repoInfo_=new Ng(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function vk(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||ln("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Qe("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Dh(s,i),c=o.repoInfo,a;typeof process<"u"&&eh&&(a=eh[mk]),a?(s=`http://${a}?ns=${c.namespace}`,o=Dh(s,i),c=o.repoInfo):o.repoInfo.secure;const u=new Lw(t.name,t.options,e);H1("Invalid Firebase Database URL",o),te(o.path)||ln("Database URL must point to the root of a Firebase Database (not including a child path).");const h=_k(c,t,u,new Ow(t.name,n));return new wk(h,t)}function xk(t,e){const n=$c[e];(!n||n[t.key]!==t)&&ln(`Database ${e}(${t.repoInfo_}) has already been deleted.`),ik(t),delete n[t.key]}function _k(t,e,n,r){let i=$c[e.name];i||(i={},$c[e.name]=i);let s=i[t.toURLString()];return s&&ln("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new X1(t,gk,n,r),i[t.toURLString()]=s,s}class wk{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(J1(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new un(this._repo,le())),this._rootInternal}_delete(){return this._rootInternal!==null&&(xk(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ln("Cannot call "+e+" on a deleted database.")}}function yd(t=lw(),e){const n=rw(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=Hx("database");r&&Sk(n,...r)}return n}function Sk(t,e,n,r={}){t=hr(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&ln("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&ln('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Co(Co.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:Yx(r.mockUserToken,t.app.options.projectId);s=new Co(o)}yk(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(t){xw(ow),Zo(new ys("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return vk(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Vr(th,nh,t),Vr(th,nh,"esm2017")}en.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};en.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};kk();function Ck({allPicks:t,actualScores:e,currentWeek:n,playerName:r,playerCode:i,isPoolManager:s,prizePool:o,officialWinners:c,onLogout:a}){const u=(k,S,m)=>{if(!k||!S||!S[m])return 0;let g=0;const x=S[m];return Object.keys(k).forEach(T=>{const R=k[T],P=x[T];if(!R||!P)return;const j=parseInt(R.team1),I=parseInt(R.team2),Y=parseInt(P.team1),B=parseInt(P.team2);if(isNaN(j)||isNaN(I)||isNaN(Y)||isNaN(B))return;const re=j>I?"team1":I>j?"team2":"tie",de=Y>B?"team1":B>Y?"team2":"tie";re===de&&de!=="tie"&&g++}),g},h=(k,S,m)=>{if(!k||!S||!S[m])return null;let g=0,x=0;const T=S[m];return Object.keys(k).forEach(R=>{const P=k[R],j=T[R];if(!P||!j)return;const I=parseInt(P.team1),Y=parseInt(P.team2),B=parseInt(j.team1),re=parseInt(j.team2);isNaN(I)||isNaN(Y)||isNaN(B)||isNaN(re)||(g+=I+Y,x+=B+re)}),Math.abs(g-x)},p=(k,S,m)=>{let g=0,x=0;return m.forEach(T=>{const R=k[T];if(R){g+=u(R,S,T);const P=h(R,S,T);P!==null&&(x+=P)}}),{correctWinners:g,pointsDifference:x}},f={wildcard:"Week 1",divisional:"Week 2",conference:"Week 3",superbowl:"Week 4"},_=M.useMemo(()=>{const k={};return t.forEach(S=>{const m=S.playerName;k[m]||(k[m]={wildcard:null,divisional:null,conference:null,superbowl:null}),k[m][S.week]=S.predictions}),k},[t]),E=M.useMemo(()=>{const k=[],S=["wildcard","divisional","conference","superbowl"];S.slice(0,3).forEach((P,j)=>{const I=f[P],Y=Object.entries(_).map(([re,de])=>({playerName:re,score:u(de[P],e,P)})).filter(re=>re.score>0).sort((re,de)=>de.score-re.score);k.push({prizeNumber:j*2+1,name:`${I} - Most Correct Predictions`,week:P,type:"correctWinners",leaders:Y.slice(0,5)});const B=Object.entries(_).map(([re,de])=>({playerName:re,score:h(de[P],e,P)})).filter(re=>re.score!==null).sort((re,de)=>re.score-de.score);k.push({prizeNumber:j*2+2,name:`${I} - Closest Total Points`,week:P,type:"pointsDifference",leaders:B.slice(0,5)})});const m="superbowl",g=Object.entries(_).map(([P,j])=>({playerName:P,score:u(j[m],e,m)})).filter(P=>P.score>0).sort((P,j)=>j.score-P.score);k.push({prizeNumber:7,name:"Week 4 - Most Correct Predictions",week:m,type:"correctWinners",leaders:g.slice(0,5)});const x=Object.entries(_).map(([P,j])=>({playerName:P,score:h(j[m],e,m)})).filter(P=>P.score!==null).sort((P,j)=>P.score-j.score);k.push({prizeNumber:8,name:"Week 4 - Closest Total Points",week:m,type:"pointsDifference",leaders:x.slice(0,5)});const T=Object.entries(_).map(([P,j])=>{const I=p(j,e,S);return{playerName:P,score:I.correctWinners}}).filter(P=>P.score>0).sort((P,j)=>j.score-P.score);k.push({prizeNumber:9,name:"Cumulative (All 4 Weeks) - Most Correct Predictions",week:"all",type:"correctWinners",leaders:T.slice(0,5)});const R=Object.entries(_).map(([P,j])=>{const I=p(j,e,S);return{playerName:P,score:I.pointsDifference}}).filter(P=>P.score!==null&&P.score>=0).sort((P,j)=>P.score-j.score);return k.push({prizeNumber:10,name:"Cumulative (All 4 Weeks) - Closest Total Points",week:"all",type:"pointsDifference",leaders:R.slice(0,5)}),k},[_,e]);return l.jsx("div",{className:"standings-page",children:l.jsxs("div",{className:"container",children:[l.jsxs("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"20px",borderRadius:"8px",marginBottom:"20px",color:"white"},children:[l.jsx("div",{style:{fontSize:"0.9rem",marginBottom:"5px"},children:" VERIFIED"}),l.jsxs("div",{style:{fontSize:"1.2rem",fontWeight:"bold",marginBottom:"5px"},children:["Viewing as: ",r]}),s&&l.jsx("div",{style:{fontSize:"0.9rem",marginBottom:"10px",color:"#ffd700",fontWeight:"600"},children:" POOL MANAGER"}),l.jsx("button",{onClick:()=>{console.log(" STANDINGS: Logout button clicked"),console.log(" STANDINGS: onLogout function:",a),console.log(" STANDINGS: Calling onLogout..."),a(),console.log(" STANDINGS: onLogout called")},style:{background:"white",color:"#764ba2",border:"none",padding:"10px 20px",borderRadius:"6px",fontSize:"0.95rem",fontWeight:"600",cursor:"pointer",marginTop:"10px",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:" Logout / Switch Entry"}),l.jsx("p",{style:{fontSize:"0.85rem",marginTop:"10px",opacity:.9,fontStyle:"italic"},children:" Playing with multiple entries? Logout to switch between your codes."})]}),l.jsx("h1",{className:"standings-title",children:" Standings & Prize Leaders"}),o&&o.totalFees>0&&l.jsxs("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"25px",borderRadius:"12px",marginBottom:"30px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[l.jsx("h2",{style:{margin:"0 0 20px 0",fontSize:"1.5rem"},children:" Prize Pool Information"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginBottom:"15px"},children:[l.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:"15px",borderRadius:"8px"},children:[l.jsx("div",{style:{fontSize:"0.9rem",opacity:.9,marginBottom:"5px"},children:"Total Pool Fees"}),l.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:["$",o.totalFees.toFixed(2)]})]}),l.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:"15px",borderRadius:"8px"},children:[l.jsx("div",{style:{fontSize:"0.9rem",opacity:.9,marginBottom:"5px"},children:"Number of Players"}),l.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:o.numberOfPlayers})]}),l.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:"15px",borderRadius:"8px"},children:[l.jsx("div",{style:{fontSize:"0.9rem",opacity:.9,marginBottom:"5px"},children:"Entry Fee"}),l.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:["$",o.entryFee]})]}),l.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:"15px",borderRadius:"8px"},children:[l.jsx("div",{style:{fontSize:"0.9rem",opacity:.9,marginBottom:"5px"},children:"Each Prize (10%)"}),l.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:["$",o.prizeValue.toFixed(2)]})]})]}),l.jsx("div",{style:{fontSize:"0.9rem",opacity:.9},children:" 10 prizes total  Equal 10% distribution  Ties split equally"})]}),c&&Object.keys(c).length>0&&l.jsxs("div",{style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"white",padding:"25px",borderRadius:"12px",marginBottom:"30px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[l.jsx("h2",{style:{margin:"0 0 5px 0",fontSize:"1.5rem"},children:" OFFICIAL PRIZE AWARDS"}),l.jsx("div",{style:{fontSize:"0.9rem",opacity:.9,marginBottom:"20px",fontStyle:"italic"},children:"Declared by Pool Manager"}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"20px"},children:Object.entries(c).sort((k,S)=>k[1].prizeNumber-S[1].prizeNumber).map(([k,S])=>l.jsxs("div",{style:{background:"rgba(255,255,255,0.95)",color:"#333",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 8px rgba(0,0,0,0.15)"},children:[l.jsxs("div",{style:{fontWeight:"bold",fontSize:"1.1rem",marginBottom:"8px",color:"#f5576c"},children:["Prize #",S.prizeNumber]}),l.jsx("div",{style:{fontSize:"0.9rem",color:"#666",marginBottom:"12px"},children:S.prizeName.replace(`Prize #${S.prizeNumber} - `,"")}),l.jsxs("div",{style:{fontSize:"0.85rem",fontWeight:"600",color:"#999",marginBottom:"12px"},children:["Prize Value: $",S.prizeValue.toFixed(2)]}),l.jsx("div",{style:{borderTop:"2px solid #f093fb",paddingTop:"12px"},children:S.winners.map((m,g)=>l.jsxs("div",{style:{padding:"8px 0",borderBottom:g<S.winners.length-1?"1px solid #eee":"none"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"10px"},children:[l.jsxs("div",{style:{fontWeight:"700",fontSize:"1rem",color:"#333"},children:[" ",m.playerName]}),l.jsxs("div",{style:{fontSize:"0.95rem",fontWeight:"600",color:"#f5576c"},children:["$",m.amount.toFixed(2)]})]}),l.jsxs("div",{style:{fontSize:"0.8rem",color:"#888",marginTop:"2px"},children:[m.percentage.toFixed(2),"% of prize"]})]},g))})]},k))})]}),l.jsx("div",{style:{background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",color:"white",padding:"20px 25px",borderRadius:"12px",marginBottom:"25px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",border:"2px solid rgba(255,255,255,0.3)"},children:l.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"15px"},children:[l.jsx("div",{style:{fontSize:"2rem",lineHeight:"1"},children:""}),l.jsxs("div",{style:{flex:1},children:[l.jsx("h3",{style:{margin:"0 0 10px 0",fontSize:"1.2rem",fontWeight:"700"},children:"How Prize Leaders Work"}),l.jsxs("div",{style:{fontSize:"0.95rem",lineHeight:"1.6",opacity:.95},children:[l.jsxs("p",{style:{margin:"0 0 10px 0"},children:["This page shows ",l.jsx("strong",{children:"current leaders"})," for each prize category based on games scored so far."]}),l.jsxs("p",{style:{margin:"0 0 10px 0"},children:[l.jsx("strong",{children:" These are NOT final results!"})," Rankings will change as more games are scored throughout the playoffs."]}),l.jsxs("p",{style:{margin:"0"},children:[l.jsx("strong",{children:"Official prize awards"})," will be declared by the Pool Manager after all games are completed and verified."]})]})]})]})}),l.jsx("div",{className:"prizes-grid",children:E.map(k=>{const S=k.type==="correctWinners"?"Players who correctly predicted the most game outcomes (which team won)":"Players whose predicted total scores were closest to the actual combined scores";return l.jsxs("div",{className:"prize-card",children:[l.jsxs("div",{className:"prize-header",children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"5px"},children:[l.jsxs("div",{className:"prize-number",children:["PRIZE #",k.prizeNumber]}),l.jsx("div",{title:S,style:{cursor:"help",fontSize:"1.1rem",opacity:.7,transition:"opacity 0.2s"},onMouseOver:m=>m.target.style.opacity="1",onMouseOut:m=>m.target.style.opacity="0.7",children:""})]}),l.jsx("div",{className:"prize-name",children:k.name}),l.jsx("div",{style:{fontSize:"0.85rem",color:"#666",fontWeight:"600",marginTop:"5px",fontStyle:"italic"},children:"Current Leaders"})]}),l.jsx("div",{className:"prize-leaders",children:k.leaders.length===0?l.jsx("div",{className:"no-data",children:"No data available yet"}):l.jsxs("table",{className:"leaders-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Rank"}),l.jsx("th",{children:"Player"}),l.jsx("th",{children:k.type==="correctWinners"?"Correct":"Difference"})]})}),l.jsx("tbody",{children:k.leaders.map((m,g)=>{const x=g>0&&m.score===k.leaders[g-1].score,T=x?"=":g+1,R=g===0&&!x;return l.jsxs("tr",{className:R?"leader-first":"",children:[l.jsxs("td",{className:"rank",children:[T,R&&l.jsx("span",{style:{marginLeft:"5px",fontSize:"0.8em"},children:""})]}),l.jsxs("td",{className:"player-name",children:[m.playerName,R&&l.jsx("span",{style:{marginLeft:"8px",fontSize:"0.7rem",background:"#4facfe",color:"white",padding:"2px 6px",borderRadius:"4px",fontWeight:"600"},children:"LEADING"})]}),l.jsx("td",{className:"score",children:k.type==="correctWinners"?`${m.score} correct`:`${m.score} pts`})]},g)})})]})})]},k.prizeNumber)})}),l.jsx("div",{className:"standings-note",children:l.jsxs("p",{children:[l.jsx("strong",{children:"Note:"}),' Tied players are shown with "=" rank. Pool Manager will resolve ties and declare official prize awards after all games are completed.']})})]})})}function Ek({currentWeek:t,games:e,actualScores:n,teamCodes:r,onScoresFetched:i,onGameLockToggle:s,gameLocks:o,espnAutoRefresh:c}){const[a,u]=M.useState(!1),[h,p]=M.useState(null),[f,_]=M.useState(null),[E,k]=M.useState(!1),[S,m]=M.useState(!1),g=async()=>{if(!(a||S)){u(!0),_({type:"loading",message:"Fetching scores from ESPN..."});try{await i(),p(new Date),_({type:"success",message:"Scores updated successfully!"}),setTimeout(()=>_(null),3e3)}catch(j){_({type:"error",message:`Error: ${j.message}`})}finally{u(!1)}}},x=()=>{E?(c.stop(),k(!1),_({type:"info",message:"Auto-refresh stopped"})):(c.start(),k(!0),_({type:"info",message:"Auto-refresh started (every 5 minutes)"})),setTimeout(()=>_(null),3e3)},T=()=>{S?(m(!1),_({type:"info",message:"API resumed - fetching enabled"})):(m(!0),E&&(c.stop(),k(!1)),_({type:"warning",message:"API paused - all fetching disabled"})),setTimeout(()=>_(null),3e3)},R=j=>{var I;return((I=o==null?void 0:o[t])==null?void 0:I[j])===!0},P=j=>{var I,Y;return((Y=(I=n==null?void 0:n[t])==null?void 0:I[j])==null?void 0:Y.source)==="espn"};return l.jsxs("div",{className:"espn-controls",children:[l.jsxs("div",{className:"espn-header",children:[l.jsx("h3",{children:" ESPN API Controls"}),l.jsxs("div",{className:"espn-status-badges",children:[S&&l.jsx("span",{className:"status-badge paused",children:" API PAUSED"}),E&&!S&&l.jsx("span",{className:"status-badge active",children:" AUTO-REFRESH ON"}),h&&l.jsxs("span",{className:"status-badge info",children:["Last fetch: ",h.toLocaleTimeString()]})]})]}),l.jsxs("div",{className:"espn-global-controls",children:[l.jsx("button",{className:"espn-btn fetch-now",onClick:g,disabled:a||S,children:a?" Fetching...":" Fetch Scores Now"}),l.jsx("button",{className:`espn-btn auto-refresh ${E?"active":""}`,onClick:x,disabled:S,children:E?" Stop Auto-Refresh":" Start Auto-Refresh (5 min)"}),l.jsx("button",{className:`espn-btn pause-api ${S?"paused":""}`,onClick:T,children:S?" Resume API":" Pause API"})]}),f&&l.jsx("div",{className:`fetch-status ${f.type}`,children:f.message}),l.jsxs("div",{className:"game-overrides",children:[l.jsx("h4",{children:"Game Override Controls"}),l.jsxs("p",{className:"override-info",children:[" Lock = Manual entry only (ignore API)",l.jsx("br",{})," Unlock = Auto-update from ESPN API"]}),l.jsx("div",{className:"game-override-list",children:e.map(j=>{var nt,Lt,mr,Vn,dn;const I=R(j.id),Y=P(j.id),B=(nt=n==null?void 0:n[t])==null?void 0:nt[j.id],re=((mr=(Lt=r==null?void 0:r[t])==null?void 0:Lt[j.id])==null?void 0:mr.team1)||j.team1,de=((dn=(Vn=r==null?void 0:r[t])==null?void 0:Vn[j.id])==null?void 0:dn.team2)||j.team2;return l.jsxs("div",{className:"game-override-item",children:[l.jsxs("div",{className:"game-info",children:[l.jsxs("span",{className:"game-matchup",children:[re," vs ",de]}),B&&l.jsxs("span",{className:"game-scores",children:[n[t][j.id].team1," - ",n[t][j.id].team2]})]}),l.jsxs("div",{className:"game-status-badges",children:[Y&&!I&&l.jsx("span",{className:"game-badge api",children:" From API"}),I&&l.jsx("span",{className:"game-badge manual",children:" Manual Entry"}),!B&&l.jsx("span",{className:"game-badge no-score",children:"No Score"})]}),l.jsx("button",{className:`lock-btn ${I?"locked":"unlocked"}`,onClick:()=>s(j.id),title:I?"Unlock to allow API updates":"Lock to prevent API updates",children:I?" Locked":" Unlocked"})]},j.id)})})]}),l.jsxs("div",{className:"espn-help",children:[l.jsx("h4",{children:" How It Works:"}),l.jsxs("ul",{children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Fetch Now:"})," Manually fetch latest scores from ESPN"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Auto-Refresh:"})," Automatically fetch every 5 minutes"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Pause API:"})," Stop all API fetching (use manual entry only)"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Lock Game:"})," Prevent API from overwriting your manual score for that game"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Unlock Game:"})," Allow API to update score automatically"]})]}),l.jsxs("p",{className:"help-note",children:[l.jsx("strong",{children:"Tip:"})," Lock a game if you need to manually correct a score that ESPN has wrong."]})]})]})}const Nk="https://site.api.espn.com/apis/site/v2/sports/football/nfl";async function bk(){try{const t=await fetch(`${Nk}/scoreboard`);if(!t.ok)throw new Error(`ESPN API error: ${t.status}`);const e=await t.json();return Tk(e)}catch(t){return console.error("Error fetching ESPN scores:",t),{success:!1,error:t.message,games:[]}}}function Tk(t){return!t.events||t.events.length===0?{success:!0,games:[],message:"No games currently available"}:{success:!0,games:t.events.map(n=>{const r=n.competitions[0],i=r.status,s=r.competitors,o=s.find(E=>E.homeAway==="away"),c=s.find(E=>E.homeAway==="home"),a=o.team.abbreviation,u=c.team.abbreviation,h=parseInt(o.score)||0,p=parseInt(c.score)||0,f=Pk(i);return{espnGameId:n.id,awayTeam:{abbreviation:a,fullName:o.team.displayName,score:h},homeTeam:{abbreviation:u,fullName:c.team.displayName,score:p},status:f.status,statusText:f.text,period:f.period,clock:f.clock,isFinal:f.isFinal,isLive:f.isLive,isScheduled:f.isScheduled,startTime:n.date,lastUpdated:new Date().toISOString()}}),fetchedAt:new Date().toISOString()}}function Pk(t){const e=t.type.name,n=t.period,r=t.displayClock,i=t.type.detail;let s="scheduled",o=i,c=!1,a=!1,u=!1;return e==="STATUS_SCHEDULED"?(s="scheduled",o="Scheduled",u=!0):e==="STATUS_IN_PROGRESS"?(s="live",c=!0,n===1?o=`1st Quarter - ${r}`:n===2?o=`2nd Quarter - ${r}`:n===3?o=`3rd Quarter - ${r}`:n===4?o=`4th Quarter - ${r}`:n>4&&(o=`OT ${n-4} - ${r}`)):e==="STATUS_HALFTIME"?(s="halftime",o="Halftime",c=!0):e==="STATUS_END_PERIOD"?(s="live",o=`End of ${n===1?"1st":n===2?"2nd":n===3?"3rd":"4th"} Quarter`,c=!0):(e==="STATUS_FINAL"||e==="STATUS_FINAL_OVERTIME")&&(s="final",a=!0,e==="STATUS_FINAL_OVERTIME"?o=n>4?`Final/OT${n-4}`:"Final/OT":o="Final"),{status:s,text:o,period:n,clock:r||"",isLive:c,isFinal:a,isScheduled:u}}function jk(t,e,n,r){if(!r||!r[n])return null;const i=e[n].games,s=r[n];for(const o of i){const c=s[o.id];if(!c)continue;const a=c.team1===t.awayTeam.abbreviation||c.team1===t.homeTeam.abbreviation,u=c.team2===t.awayTeam.abbreviation||c.team2===t.homeTeam.abbreviation;if(a&&u){const h=c.team1===t.awayTeam.abbreviation;return{gameId:o.id,team1Score:h?t.awayTeam.score:t.homeTeam.score,team2Score:h?t.homeTeam.score:t.awayTeam.score,status:t.status,statusText:t.statusText,period:t.period,clock:t.clock,isFinal:t.isFinal,isLive:t.isLive,espnGameId:t.espnGameId}}}return null}class Ik{constructor(e,n=5){this.onFetch=e,this.intervalMinutes=n,this.intervalId=null,this.isRunning=!1}start(){if(this.isRunning){console.log("Auto-refresh already running");return}console.log(`Starting auto-refresh every ${this.intervalMinutes} minutes`),this.isRunning=!0,this.onFetch(),this.intervalId=setInterval(()=>{console.log("Auto-fetching ESPN scores..."),this.onFetch()},this.intervalMinutes*60*1e3)}stop(){if(!this.isRunning){console.log("Auto-refresh not running");return}console.log("Stopping auto-refresh"),clearInterval(this.intervalId),this.intervalId=null,this.isRunning=!1}isActive(){return this.isRunning}setInterval(e){this.intervalMinutes=e,this.isRunning&&(this.stop(),this.start())}}const Rk={wildcard:{name:"Week 1 - Wildcard Round",shortName:"Wildcard",deadline:"Fri Jan 9, 11:59 PM PST",number:1},divisional:{name:"Week 2 - Divisional Round",shortName:"Divisional",deadline:"Fri Jan 16, 11:59 PM PST",number:2},conference:{name:"Week 3 - Conference Championships",shortName:"Conference",deadline:"Fri Jan 23, 11:59 PM PST",number:3},superbowl:{name:"Week 4 - Super Bowl LIX",shortName:"Super Bowl",deadline:"Fri Feb 6, 11:59 PM PST",number:4}};function Ak(t,e,n,r){return n?{icon:"",text:"LOCKED",color:"gray",className:"locked"}:r?{icon:"",text:"EDITING NOW",color:"purple",className:"editing"}:e&&e.complete?{icon:"",text:"ALL PICKS SAVED",color:"green",className:"saved"}:{icon:"",text:"READY TO PICK",color:"blue",className:"ready"}}function Dk({currentWeek:t,onWeekChange:e,weekPicks:n={},weekLockStatus:r={},hasUnsavedChanges:i=!1}){const s=o=>{o!==t&&e(o)};return l.jsxs("div",{className:"week-selector-container",children:[l.jsxs("div",{className:"week-selector-header",children:[l.jsx("h2",{children:" SELECT WEEK TO MAKE/EDIT YOUR PICKS"}),i&&l.jsx("div",{className:"unsaved-indicator",children:" You have unsaved changes"})]}),l.jsx("div",{className:"week-cards",children:Object.entries(Rk).map(([o,c])=>{var f;const a=o===t,u=((f=r[o])==null?void 0:f.locked)||!1,h=n[o],p=Ak(o,h,u,a);return l.jsxs("div",{className:`week-card ${p.className} ${a?"current":""}`,onClick:()=>s(o),role:"button",tabIndex:0,onKeyPress:_=>{(_.key==="Enter"||_.key===" ")&&s(o)},children:[l.jsxs("div",{className:"week-card-header",children:[l.jsxs("div",{className:"week-number",children:["WEEK ",c.number]}),a&&l.jsx("div",{className:"current-indicator",children:" YOU ARE HERE "})]}),l.jsxs("div",{className:"week-card-title",children:[o==="superbowl"?"":""," ",c.shortName]}),l.jsxs("div",{className:"week-card-deadline",children:[o==="superbowl"?"Game Day: ":"Deadline: ",c.deadline]}),l.jsxs("div",{className:`week-card-status status-${p.className}`,children:[l.jsx("span",{className:"status-icon",children:p.icon}),l.jsx("span",{className:"status-text",children:p.text})]}),u&&l.jsx("div",{className:"locked-overlay",children:l.jsx("div",{className:"locked-message",children:" Cannot Edit"})})]},o)})}),l.jsx("div",{className:"week-selector-footer",children:l.jsx("p",{className:"info-text",children:" You can make picks for all weeks in advance, even if teams aren't known yet."})})]})}function Ok({currentWeek:t,onDiscard:e,onSaveAndSwitch:n,onCancel:r}){const i={wildcard:"Week 1",divisional:"Week 2",conference:"Week 3",superbowl:"Week 4"};return l.jsx("div",{className:"popup-overlay",children:l.jsxs("div",{className:"popup-container warning-popup",children:[l.jsxs("div",{className:"popup-header warning",children:[l.jsx("span",{className:"popup-icon",children:""}),l.jsx("h3",{children:"UNSAVED CHANGES"})]}),l.jsxs("div",{className:"popup-body",children:[l.jsxs("p",{children:["You have unsaved changes for ",i[t],"."]}),l.jsx("p",{children:"What would you like to do?"})]}),l.jsxs("div",{className:"popup-buttons",children:[l.jsx("button",{className:"popup-btn btn-secondary",onClick:e,children:"Discard Changes"}),l.jsx("button",{className:"popup-btn btn-primary",onClick:n,children:"Save & Switch"}),l.jsx("button",{className:"popup-btn btn-neutral",onClick:r,children:"Cancel"})]})]})})}function Lk({onKeepEditing:t,onDiscard:e}){return l.jsx("div",{className:"popup-overlay",children:l.jsxs("div",{className:"popup-container warning-popup",children:[l.jsxs("div",{className:"popup-header warning",children:[l.jsx("span",{className:"popup-icon",children:""}),l.jsx("h3",{children:"DISCARD CHANGES?"})]}),l.jsxs("div",{className:"popup-body",children:[l.jsx("p",{children:"Your changes will not be saved."}),l.jsx("p",{children:"Your previously saved picks will remain unchanged in the system."})]}),l.jsxs("div",{className:"popup-buttons",children:[l.jsx("button",{className:"popup-btn btn-primary",onClick:t,children:"Keep Editing"}),l.jsx("button",{className:"popup-btn btn-danger",onClick:e,children:"Discard Changes"})]})]})})}function Mk({missingGames:t,totalGames:e,onClose:n}){return l.jsx("div",{className:"popup-overlay",children:l.jsxs("div",{className:"popup-container error-popup",children:[l.jsxs("div",{className:"popup-header error",children:[l.jsx("span",{className:"popup-icon",children:""}),l.jsx("h3",{children:"CANNOT SAVE - INCOMPLETE ENTRY"})]}),l.jsxs("div",{className:"popup-body",children:[l.jsx("p",{children:"You must predict scores for ALL games."}),l.jsxs("p",{className:"count-text",children:["Completed: ",l.jsx("strong",{children:e-t.length})," of ",l.jsx("strong",{children:e})," games "]}),l.jsxs("div",{className:"missing-games-list",children:[l.jsx("p",{children:l.jsx("strong",{children:"Missing scores for:"})}),l.jsx("ul",{children:t.map((r,i)=>l.jsxs("li",{children:[" Game ",i+1,": ",r.team1," vs ",r.team2]},i))})]}),l.jsx("p",{className:"instruction-text",children:"Please fill in all games before saving."})]}),l.jsx("div",{className:"popup-buttons",children:l.jsx("button",{className:"popup-btn btn-primary",onClick:n,children:"OK - Go Back and Complete"})})]})})}function Fk({invalidScores:t,onClose:e}){return l.jsx("div",{className:"popup-overlay",children:l.jsxs("div",{className:"popup-container error-popup",children:[l.jsxs("div",{className:"popup-header error",children:[l.jsx("span",{className:"popup-icon",children:""}),l.jsx("h3",{children:"INVALID SCORES"})]}),l.jsxs("div",{className:"popup-body",children:[l.jsx("p",{children:"All scores must be between 10 and 50."}),l.jsxs("div",{className:"invalid-scores-list",children:[l.jsx("p",{children:l.jsx("strong",{children:"Invalid scores:"})}),l.jsx("ul",{children:t.map((n,r)=>l.jsxs("li",{children:[" Game ",r+1," (",n.team,"): ",l.jsx("strong",{children:n.score})," (",n.score<10?"too low":"too high",")"]},r))})]}),l.jsx("p",{className:"instruction-text",children:"Please fix these scores."})]}),l.jsx("div",{className:"popup-buttons",children:l.jsx("button",{className:"popup-btn btn-primary",onClick:e,children:"OK - Go Back and Fix"})})]})})}function zk({weekName:t,deadline:e,onClose:n}){return l.jsx("div",{className:"popup-overlay",children:l.jsxs("div",{className:"popup-container success-popup",children:[l.jsxs("div",{className:"popup-header success",children:[l.jsx("span",{className:"popup-icon",children:""}),l.jsx("h3",{children:"PICKS SAVED SUCCESSFULLY!"})]}),l.jsxs("div",{className:"popup-body",children:[l.jsxs("p",{children:["Your ",t," picks have been saved."]}),l.jsx("p",{children:"You can edit them anytime before the deadline:"}),l.jsx("p",{className:"deadline-text",children:l.jsx("strong",{children:e})})]}),l.jsx("div",{className:"popup-buttons",children:l.jsx("button",{className:"popup-btn btn-success",onClick:n,children:"OK"})})]})})}function Wk({onClose:t}){return l.jsx("div",{className:"popup-overlay",children:l.jsxs("div",{className:"popup-container info-popup",children:[l.jsxs("div",{className:"popup-header info",children:[l.jsx("span",{className:"popup-icon",children:""}),l.jsx("h3",{children:"NO CHANGES TO SAVE"})]}),l.jsxs("div",{className:"popup-body",children:[l.jsx("p",{children:"You haven't made any changes to your picks."}),l.jsx("p",{children:"Your picks are already saved."})]}),l.jsx("div",{className:"popup-buttons",children:l.jsx("button",{className:"popup-btn btn-primary",onClick:t,children:"OK"})})]})})}function Bk({tiedGames:t,gameData:e,onClose:n}){return l.jsx("div",{className:"popup-overlay",children:l.jsxs("div",{className:"popup-container error-popup",children:[l.jsxs("div",{className:"popup-header error",children:[l.jsx("span",{className:"popup-icon",children:""}),l.jsx("h3",{children:"PLAYOFF GAMES CANNOT END IN A TIE!"})]}),l.jsxs("div",{className:"popup-body",children:[l.jsx("p",{style:{fontWeight:"bold",marginBottom:"15px"},children:"The following game(s) have tied scores:"}),l.jsx("ul",{style:{listStyle:"none",padding:0,marginBottom:"15px"},children:t.map(r=>{const i=e.find(s=>s.id===r);return l.jsxs("li",{style:{padding:"8px",background:"#ffebee",border:"1px solid #ef5350",borderRadius:"4px",marginBottom:"8px",color:"#c62828"},children:[" ",i.team1," vs. ",i.team2]},r)})}),l.jsx("p",{style:{fontStyle:"italic",color:"#666"},children:"NFL Playoff games go to overtime until there's a winner!"}),l.jsx("p",{style:{fontWeight:"bold"},children:"Please change the scores so one team wins."})]}),l.jsx("div",{className:"popup-buttons",children:l.jsx("button",{className:"popup-btn btn-primary",onClick:n,children:"Fix Scores"})})]})})}const jy={1:{name:"Most Correct Predictions",week:"wildcard",weekName:"Week 1"},2:{name:"Closest Total Points",week:"wildcard",weekName:"Week 1"},3:{name:"Most Correct Predictions",week:"divisional",weekName:"Week 2"},4:{name:"Closest Total Points",week:"divisional",weekName:"Week 2"},5:{name:"Most Correct Predictions",week:"conference",weekName:"Week 3"},6:{name:"Closest Total Points",week:"conference",weekName:"Week 3"},7:{name:"Most Correct Predictions",week:"superbowl",weekName:"Week 4"},8:{name:"Closest Total Points",week:"superbowl",weekName:"Week 4"},9:{name:"Overall Most Correct Predictions",week:"all",weekName:"All Weeks"},10:{name:"Overall Closest Total Points",week:"all",weekName:"All Weeks"}};function $k(t,e,n){var r;if(t.week==="all"){let i=0,s=0;return Object.keys(n).forEach(o=>{const c=n[o].games;i+=c.length,c.forEach(a=>{var h;const u=(h=e[o])==null?void 0:h[a.id];if(u){const p=parseInt(u.team1),f=parseInt(u.team2);!isNaN(p)&&!isNaN(f)&&s++}})}),s===0?{status:"NOT_STARTED",gamesCompleted:0,totalGames:i,message:"First game Saturday, January 10, 2026! Standings will update as games finish."}:s<i?{status:"LIVE",gamesCompleted:s,totalGames:i,message:`LIVE NOW! ${s} of ${i} playoff games completed. Standings updating in real-time!`}:{status:"COMPLETE",gamesCompleted:s,totalGames:i,message:"Playoffs complete! Final standings shown above."}}else{const i=((r=n[t.week])==null?void 0:r.games)||[],s=i.length;let o=0;return i.forEach(c=>{var u;const a=(u=e[t.week])==null?void 0:u[c.id];if(a){const h=parseInt(a.team1),p=parseInt(a.team2);!isNaN(h)&&!isNaN(p)&&o++}}),o===0?{status:"NOT_STARTED",gamesCompleted:0,totalGames:s,message:"Games not started yet. Standings will update as games finish!"}:o<s?{status:"LIVE",gamesCompleted:o,totalGames:s,message:`LIVE NOW! ${o} of ${s} games completed. Standings changing in real-time!`}:{status:"COMPLETE",gamesCompleted:o,totalGames:s,message:"All games complete! Final standings shown above."}}}function Uk(t,e,n,r){var u,h,p;const i=jy[t],s=[1,3,5,7,9].includes(t);let o=[],c={},a=[];if(i.week==="all"){o=e,c=n,Object.keys(r).forEach(_=>{a=a.concat(r[_].games.map(E=>({...E,week:_})))});const f={};o.forEach(_=>{f[_.playerCode]||(f[_.playerCode]={playerCode:_.playerCode,playerName:_.playerName,weeklyPicks:[]}),f[_.playerCode].weeklyPicks.push(_)}),o=Object.values(f)}else o=e.filter(f=>f.week===i.week),c=n[i.week]||{},a=((u=r[i.week])==null?void 0:u.games)||[];if(o.length===0)return{leaders:[],allPlayers:[],hasTie:!1,tieCount:0};if(s){let f=0;a.forEach(S=>{var g;const m=i.week==="all"?(g=n[S.week])==null?void 0:g[S.id]:c[S.id];m&&(f+=(parseInt(m.team1)||0)+(parseInt(m.team2)||0))});const _=o.map(S=>{let m=0;return(S.weeklyPicks||[S]).forEach(x=>{a.forEach(T=>{var nt,Lt;const R=(nt=x.predictions)==null?void 0:nt[T.id],P=i.week==="all"?(Lt=n[T.week])==null?void 0:Lt[T.id]:c[T.id];if(!R||!P)return;const j=parseInt(P.team1),I=parseInt(P.team2),Y=parseInt(R.team1),B=parseInt(R.team2);if(isNaN(j)||isNaN(I)||isNaN(Y)||isNaN(B))return;const re=Y>B?"team1":B>Y?"team2":"tie",de=j>I?"team1":I>j?"team2":"tie";re!=="tie"&&de!=="tie"&&re===de&&m++})}),{playerCode:S.playerCode,playerName:S.playerName,score:m,actualTotal:f}});_.sort((S,m)=>m.score-S.score);const E=((h=_[0])==null?void 0:h.score)||0,k=_.filter(S=>S.score===E);return{leaders:k,allPlayers:_,hasTie:k.length>1,tieCount:k.length,actualTotal:f}}else{let f=0;a.forEach(S=>{var g;const m=i.week==="all"?(g=n[S.week])==null?void 0:g[S.id]:c[S.id];m&&(f+=(parseInt(m.team1)||0)+(parseInt(m.team2)||0))});const _=o.map(S=>{let m=0;(S.weeklyPicks||[S]).forEach(T=>{a.forEach(R=>{var j;const P=(j=T.predictions)==null?void 0:j[R.id];P&&(m+=(parseInt(P.team1)||0)+(parseInt(P.team2)||0))})});const x=Math.abs(m-f);return{playerCode:S.playerCode,playerName:S.playerName,score:m,actualTotal:f,difference:x}});_.sort((S,m)=>S.difference-m.difference);const E=((p=_[0])==null?void 0:p.difference)||0,k=_.filter(S=>S.difference===E);return{leaders:k,allPlayers:_,hasTie:k.length>1,tieCount:k.length,actualTotal:f}}}function Vk({prizeNumber:t,allPicks:e,actualScores:n,weekData:r,officialWinner:i=null}){const[s,o]=M.useState(null),[c,a]=M.useState(!0),u=jy[t],h=[1,3,5,7,9].includes(t);if(M.useEffect(()=>{try{const S=Uk(t,e,n,r);o(S),a(!1)}catch(S){console.error(`Error calculating leaders for Prize ${t}:`,S),a(!1)}},[t,e,n,r]),c)return l.jsxs("div",{className:"leader-card loading",children:[l.jsx("div",{className:"leader-card-header",children:l.jsxs("h3",{children:["Prize #",t," - ",u.name]})}),l.jsx("div",{className:"leader-card-body",children:l.jsx("p",{children:"Calculating leaders..."})})]});if(!s||s.allPlayers.length===0)return l.jsxs("div",{className:"leader-card no-data",children:[l.jsxs("div",{className:"leader-card-header",children:[l.jsxs("h3",{children:["Prize #",t," - ",u.name]}),l.jsx("span",{className:"prize-week",children:u.weekName})]}),l.jsx("div",{className:"leader-card-body",children:l.jsx("p",{children:"No picks available yet."})})]});const{leaders:p,allPlayers:f,hasTie:_,tieCount:E}=s,k=$k(u,n,r);return l.jsxs("div",{className:`leader-card ${_?"has-tie":""}`,children:[l.jsxs("div",{className:"leader-card-header",children:[l.jsxs("h3",{children:["Prize #",t," - ",u.name]}),l.jsx("span",{className:"prize-week",children:u.weekName})]}),l.jsxs("div",{className:"leader-card-body",children:[l.jsxs("div",{className:`game-status ${k.status.toLowerCase()}`,children:[l.jsxs("div",{className:"status-badge",children:[k.status==="NOT_STARTED"&&" NOT STARTED",k.status==="LIVE"&&" LIVE",k.status==="COMPLETE"&&" COMPLETE"]}),l.jsx("div",{className:"status-details",children:k.status!=="NOT_STARTED"&&l.jsxs("span",{className:"games-count",children:[k.gamesCompleted," of ",k.totalGames," games"]})}),l.jsx("p",{className:"status-message",children:k.message})]}),_&&l.jsxs("div",{className:"tie-warning",children:[" ",E,"-WAY TIE FOR 1ST PLACE!"]}),_&&l.jsxs("div",{className:"tied-leaders-section",children:[l.jsx("h4",{children:" TIED FOR 1ST PLACE:"}),l.jsx("div",{className:"leaders-list",children:p.map((S,m)=>l.jsxs("div",{className:`leader-item ${(i==null?void 0:i.playerCode)===S.playerCode?"official-winner":"tied-leader"}`,children:[l.jsxs("span",{className:"leader-rank",children:[m+1,"."]}),l.jsxs("span",{className:"leader-name",children:[S.playerName,(i==null?void 0:i.playerCode)===S.playerCode?l.jsx("span",{className:"official-badge",style:{marginLeft:"8px"},children:" OFFICIAL WINNER"}):l.jsx("span",{className:"leading-badge",style:{marginLeft:"8px"},children:" LEADING"})]}),l.jsx("span",{className:"leader-score",children:h?`${S.score} correct`:`${S.score} pts  Actual: ${S.actualTotal||0} pts  Off by: ${S.difference} pts`})]},m))})]}),_&&f.length>E&&l.jsxs("div",{className:"next-in-line-section",children:[l.jsx("h4",{children:" NEXT IN LINE:"}),l.jsx("div",{className:"leaders-list",children:f.slice(E,E+10).map((S,m)=>l.jsxs("div",{className:"leader-item",children:[l.jsxs("span",{className:"leader-rank",children:[E+m+1,"."]}),l.jsx("span",{className:"leader-name",children:S.playerName}),l.jsx("span",{className:"leader-score",children:h?`${S.score} correct`:`${S.score} pts  Actual: ${S.actualTotal||0} pts  Off by: ${S.difference} pts`})]},m))})]}),!_&&l.jsxs("div",{className:"all-players-section",children:[l.jsx("h4",{children:" ALL PLAYERS RANKED:"}),l.jsx("div",{className:"leaders-list",children:f.map((S,m)=>l.jsxs("div",{className:`leader-item ${m===0&&(i==null?void 0:i.playerCode)===S.playerCode?"official-winner":""}`,children:[l.jsxs("span",{className:"leader-rank",children:[m+1,"."]}),l.jsxs("span",{className:"leader-name",children:[S.playerName,m===0&&((i==null?void 0:i.playerCode)===S.playerCode?l.jsx("span",{className:"official-badge",style:{marginLeft:"8px"},children:" OFFICIAL WINNER"}):l.jsx("span",{className:"leading-badge",style:{marginLeft:"8px"},children:" LEADING"}))]}),l.jsx("span",{className:"leader-score",children:h?`${S.score} correct`:`${S.score} pts  Actual: ${S.actualTotal||0} pts  Off by: ${S.difference} pts`})]},m))})]}),!i&&l.jsx("div",{className:"no-official-winner",children:l.jsx("em",{children:"No official winner declared yet"})})]})]})}function Gk({allPicks:t,actualScores:e,games:n,officialWinners:r,weekData:i}){return l.jsxs("div",{className:"leaders-section",children:[l.jsx("h2",{children:" Prize Leaders"}),l.jsx("p",{className:"leaders-description",children:"Current standings for all 10 prizes. Winners will be officially announced by the Pool Manager."}),l.jsx("div",{className:"prize-grid",children:[1,2,3,4,5,6,7,8,9,10].map(s=>l.jsx(Vk,{prizeNumber:s,allPicks:t,actualScores:e,weekData:i,officialWinner:r==null?void 0:r[s]},s))})]})}const Hk=({isPoolManager:t,playerCodes:e})=>{const[n,r]=M.useState([]),[i,s]=M.useState(!0),[o,c]=M.useState(null),[a,u]=M.useState("all"),[h,p]=M.useState(""),[f,_]=M.useState("newest");M.useEffect(()=>{if(!t){s(!1);return}try{const m=yd(),g=K(m,"loginLogs"),x=Bt(g,T=>{const R=T.val();if(console.log(" Login logs data:",R),R){const P=Object.keys(R).map(j=>({id:j,...R[j]}));console.log(" Parsed logs array:",P),r(P)}else console.log(" No login logs data found"),r([]);s(!1),c(null)},T=>{console.error(" Error fetching login logs:",T),c("Failed to load login logs. Check console for details."),s(!1)});return()=>{x&&x()}}catch(m){console.error(" Error setting up Firebase listener:",m),c("Failed to initialize Firebase. Check console for details."),s(!1)}},[t]);const E=n.filter(m=>{var g,x;if(a==="success"&&!m.success||a==="failed"&&m.success)return!1;if(h){const T=h.toLowerCase(),R=(g=m.playerCode)==null?void 0:g.toLowerCase().includes(T),P=(x=m.playerName)==null?void 0:x.toLowerCase().includes(T);return R||P}return!0}).sort((m,g)=>f==="newest"?g.timestamp-m.timestamp:m.timestamp-g.timestamp),k=()=>{if(E.length===0){alert("No logs to export!");return}const m=["Timestamp","Date/Time","Player Code","Player Name","Status","Error Message","Browser","Device"],g=E.map(j=>[j.timestamp,new Date(j.timestamp).toLocaleString(),j.playerCode||"",j.playerName||"",j.success?"Success":"Failed",j.errorMessage||"",j.browser||"",j.device||""]),x=[m.join(","),...g.map(j=>j.map(I=>`"${I}"`).join(","))].join(`
`),T=new Blob([x],{type:"text/csv;charset=utf-8;"}),R=document.createElement("a"),P=URL.createObjectURL(T);R.setAttribute("href",P),R.setAttribute("download",`login-logs-${new Date().toISOString().split("T")[0]}.csv`),R.style.visibility="hidden",document.body.appendChild(R),R.click(),document.body.removeChild(R),window.URL.revokeObjectURL(P)},S={total:n.length,successful:n.filter(m=>m.success).length,failed:n.filter(m=>m.success===!1).length,uniquePlayers:new Set(n.filter(m=>m.success).map(m=>m.playerCode)).size};return t?i?l.jsx("div",{style:{padding:"60px",textAlign:"center"},children:l.jsxs("div",{style:{display:"inline-block",padding:"20px 40px",background:"#f0f4f8",borderRadius:"10px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[l.jsx("p",{style:{fontSize:"1.2rem",margin:"0 0 10px 0",color:"#000"},children:" Loading login logs..."}),l.jsx("p",{style:{fontSize:"0.9rem",color:"#666",margin:0},children:"Connecting to Firebase..."})]})}):o?l.jsx("div",{style:{padding:"60px",textAlign:"center"},children:l.jsxs("div",{style:{display:"inline-block",padding:"30px",background:"#fff3cd",border:"2px solid #ffc107",borderRadius:"10px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",maxWidth:"600px"},children:[l.jsx("h3",{style:{margin:"0 0 15px 0",color:"#856404"},children:" Error Loading Logs"}),l.jsx("p",{style:{color:"#856404",margin:"0 0 15px 0"},children:o}),l.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:"20px",padding:"12px 24px",background:"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"600"},children:" Reload Page"})]})}):l.jsxs("div",{style:{margin:"40px auto",maxWidth:"1400px",padding:"0 20px"},children:[l.jsxs("div",{style:{marginBottom:"30px"},children:[l.jsxs("h1",{style:{fontSize:"2rem",margin:"0 0 10px 0",color:"#000",display:"flex",alignItems:"center",gap:"10px"},children:[" Login Activity Log",l.jsx("span",{style:{fontSize:"0.7rem",padding:"4px 12px",background:"#667eea",color:"white",borderRadius:"20px",fontWeight:"500"},children:"Pool Manager Only"})]}),l.jsx("p",{style:{color:"#666",margin:0},children:"Monitor all login attempts to the NFL Playoff Pool"})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginBottom:"30px"},children:[l.jsxs("div",{style:{background:"linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%)",padding:"25px",borderRadius:"12px",boxShadow:"0 4px 15px rgba(0,0,0,0.1)",color:"#000"},children:[l.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"bold",marginBottom:"5px"},children:S.successful}),l.jsx("div",{style:{fontSize:"1rem",fontWeight:"500"},children:"Successful Logins"})]}),l.jsxs("div",{style:{background:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)",padding:"25px",borderRadius:"12px",boxShadow:"0 4px 15px rgba(0,0,0,0.1)",color:"#000"},children:[l.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"bold",marginBottom:"5px"},children:S.failed}),l.jsx("div",{style:{fontSize:"1rem",fontWeight:"500"},children:"Failed Attempts"})]}),l.jsxs("div",{style:{background:"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)",padding:"25px",borderRadius:"12px",boxShadow:"0 4px 15px rgba(0,0,0,0.1)",color:"#000"},children:[l.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"bold",marginBottom:"5px"},children:S.uniquePlayers}),l.jsx("div",{style:{fontSize:"1rem",fontWeight:"500"},children:"Unique Players"})]}),l.jsxs("div",{style:{background:"linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)",padding:"25px",borderRadius:"12px",boxShadow:"0 4px 15px rgba(0,0,0,0.1)",color:"#000"},children:[l.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"bold",marginBottom:"5px"},children:S.total}),l.jsx("div",{style:{fontSize:"1rem",fontWeight:"500"},children:"Total Attempts"})]})]}),l.jsxs("div",{style:{background:"white",padding:"20px",borderRadius:"10px",marginBottom:"20px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",display:"flex",flexWrap:"wrap",gap:"15px",alignItems:"center"},children:[l.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[l.jsxs("button",{onClick:()=>u("all"),style:{padding:"10px 20px",background:a==="all"?"#667eea":"#f0f0f0",color:a==="all"?"white":"#333",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"0.9rem"},children:["All (",S.total,")"]}),l.jsxs("button",{onClick:()=>u("success"),style:{padding:"10px 20px",background:a==="success"?"#4caf50":"#f0f0f0",color:a==="success"?"white":"#333",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"0.9rem"},children:[" Success (",S.successful,")"]}),l.jsxs("button",{onClick:()=>u("failed"),style:{padding:"10px 20px",background:a==="failed"?"#f44336":"#f0f0f0",color:a==="failed"?"white":"#333",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"0.9rem"},children:[" Failed (",S.failed,")"]})]}),l.jsx("input",{type:"text",placeholder:"Search by code or name...",value:h,onChange:m=>p(m.target.value),style:{padding:"10px 15px",border:"2px solid #e0e0e0",borderRadius:"6px",fontSize:"0.9rem",flex:"1",minWidth:"200px",color:"#000"}}),l.jsxs("select",{value:f,onChange:m=>_(m.target.value),style:{padding:"10px 15px",border:"2px solid #e0e0e0",borderRadius:"6px",fontSize:"0.9rem",cursor:"pointer",background:"white",color:"#000"},children:[l.jsx("option",{value:"newest",children:"Newest First"}),l.jsx("option",{value:"oldest",children:"Oldest First"})]}),l.jsx("button",{onClick:k,style:{padding:"10px 20px",background:"#4caf50",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"0.9rem",display:"flex",alignItems:"center",gap:"8px"},children:" Export CSV"})]}),E.length===0?l.jsx("div",{style:{background:"white",padding:"60px 40px",borderRadius:"10px",textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:h?l.jsx("p",{style:{fontSize:"1.2rem",margin:0,color:"#666"},children:" No logs match your search"}):l.jsxs(l.Fragment,{children:[l.jsx("p",{style:{fontSize:"1.5rem",margin:"0 0 20px 0",color:"#333"},children:" No login attempts logged yet"}),l.jsxs("div",{style:{background:"#f8f9fa",padding:"25px",borderRadius:"8px",maxWidth:"600px",margin:"0 auto",textAlign:"left"},children:[l.jsx("p",{style:{margin:"0 0 15px 0",fontSize:"1rem",color:"#666"},children:l.jsx("strong",{children:"To test login tracking:"})}),l.jsxs("ol",{style:{margin:0,paddingLeft:"20px",color:"#666",lineHeight:"2"},children:[l.jsx("li",{children:'Logout (click " Logout" button)'}),l.jsx("li",{children:'Try logging in with a WRONG code (e.g., "ABC123")'}),l.jsx("li",{children:"See the failed attempt appear here"}),l.jsx("li",{children:"Login with your correct code"}),l.jsx("li",{children:"See the successful login appear here"})]})]})]})}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{padding:"15px 20px",background:"#f8f9fa",borderRadius:"8px",marginBottom:"15px",display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx("span",{style:{fontSize:"1.2rem"},children:""}),l.jsxs("span",{style:{fontWeight:"600",color:"#000"},children:["Showing: ",E.length," of ",n.length," total attempts"]})]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:E.map((m,g)=>l.jsxs("div",{style:{padding:"20px",background:m.success?"#e8f5e9":"#ffebee",border:`3px solid ${m.success?"#4caf50":"#f44336"}`,borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",transition:"transform 0.2s",cursor:"default"},onMouseEnter:x=>x.currentTarget.style.transform="scale(1.01)",onMouseLeave:x=>x.currentTarget.style.transform="scale(1)",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px",flexWrap:"wrap",gap:"10px"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsxs("span",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#000"},children:["#",E.length-g]}),l.jsx("span",{style:{padding:"8px 16px",background:m.success?"#4caf50":"#f44336",color:"white",borderRadius:"20px",fontWeight:"bold",fontSize:"0.9rem"},children:m.success?" SUCCESS":" FAILED"})]}),l.jsx("div",{style:{fontSize:"0.95rem",color:"#666",fontWeight:"500"},children:new Date(m.timestamp).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px"},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"5px",fontWeight:"500"},children:"Player Code"}),l.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#000",fontFamily:"monospace"},children:m.playerCode||"N/A"})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"5px",fontWeight:"500"},children:"Player Name"}),l.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#000"},children:m.playerName||"N/A"})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"5px",fontWeight:"500"},children:"Browser"}),l.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#000"},children:m.browser||"N/A"})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"5px",fontWeight:"500"},children:"Device"}),l.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#000"},children:m.device||"N/A"})]})]}),!m.success&&m.errorMessage&&l.jsxs("div",{style:{marginTop:"15px",padding:"12px",background:"#fff",borderLeft:"4px solid #f44336",borderRadius:"4px"},children:[l.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginBottom:"5px",fontWeight:"500"},children:"Error Message"}),l.jsx("div",{style:{fontSize:"1rem",color:"#d32f2f",fontWeight:"600",fontStyle:"italic"},children:m.errorMessage})]})]},m.id))})]}),l.jsx("div",{style:{marginTop:"30px",padding:"20px",background:"#f8f9fa",borderRadius:"8px",textAlign:"center"},children:l.jsx("p",{style:{margin:0,color:"#666",fontSize:"0.9rem",fontStyle:"italic"},children:" Logs update in real-time. Failed attempts help identify players who need assistance with their codes."})})]}):l.jsx("div",{style:{padding:"40px",textAlign:"center",color:"#999"},children:l.jsx("p",{children:" This feature is only available to Pool Managers"})})},Yk=()=>{const t=navigator.userAgent;let e="Unknown";if(t.indexOf("Firefox")>-1){const n=t.match(/Firefox\/(\d+)/);e=n?`Firefox ${n[1]}`:"Firefox"}else if(t.indexOf("SamsungBrowser")>-1)e="Samsung Internet";else if(t.indexOf("Opera")>-1||t.indexOf("OPR")>-1)e="Opera";else if(t.indexOf("Trident")>-1)e="Internet Explorer";else if(t.indexOf("Edge")>-1)e="Edge";else if(t.indexOf("Chrome")>-1){const n=t.match(/Chrome\/(\d+)/);e=n?`Chrome ${n[1]}`:"Chrome"}else if(t.indexOf("Safari")>-1){const n=t.match(/Version\/(\d+)/);e=n?`Safari ${n[1]}`:"Safari"}return e},Qk=()=>{const t=navigator.userAgent;return/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(t)?"Tablet":/Mobile|iP(hone|od)|Android|BlackBerry|IEMobile|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(t)?"Mobile":"Desktop"},Iy=async({playerCode:t,playerName:e=null,success:n,errorMessage:r=null})=>{try{const i=yd(),s=K(i,"loginLogs"),o={timestamp:Date.now(),playerCode:t||"EMPTY",playerName:e||null,success:n,errorMessage:r||null,browser:Yk(),device:Qk(),userAgent:navigator.userAgent};await Eo(s,o),console.log(" Login attempt logged:",{code:t,success:n,browser:o.browser,device:o.device})}catch(i){console.error(" Failed to log login attempt:",i)}},Kk=async(t,e)=>Iy({playerCode:t,playerName:e,success:!0,errorMessage:null}),ja=async(t,e)=>Iy({playerCode:t,playerName:null,success:!1,errorMessage:e}),qk={apiKey:"AIzaSyDr3PPXC90wvQW_LG8TkAyR9K-7e0loQ3A",authDomain:"nfl-playoff-pool-2025-scores.firebaseapp.com",databaseURL:"https://nfl-playoff-pool-2025-scores-default-rtdb.firebaseio.com",projectId:"nfl-playoff-pool-2025-scores",storageBucket:"nfl-playoff-pool-2025-scores.firebasestorage.app",messagingSenderId:"844539772456",appId:"1:844539772456:web:9bbfcf523195a5eedfff1d"},Xk=ag(qk),X=yd(Xk),Mh={firstFriday:"2026-01-09",lastMonday:"2026-02-09"},gn={wildcard:"2026-01-10",divisional:"2026-01-17",conference:"2026-01-25",superbowl:"2026-02-08"},yn=["76BB89","Z9Y8X7"],Se={"76BB89":"POOL MANAGER - Richard",Z9Y8X7:"POOL MANAGER - Dennis",J239W4:"Bob Casson",B7Y4X3:"Bob Desrosiers",D4F7G5:"Bonnie Biletski","536EE2":"Brian Colburg",X8HH67:"Chris Neufeld",G7R3P5:"Curtis Braun",A4LJC9:"Curtis Palidwor",X3P8N1:"Dallas Pylypow",HM8T67:"Darrell Klassen",TA89R2:"Dave Boyarski",K2P9W5:"Dave Desrosiers",A5K4T7:"Dennis Biletski","6WRUJR":"Emily Chadwick",AB6C89:"Gareth Reeve",D3F6G9:"Jarrod Reimer",T42B67:"Jo Behr",PUEFKF:"Joshua Biletski",ABC378:"Ken Mcleod",K9R3N6:"Kevin Pich",H7P3N5:"Larry Bretecher",B5R4T6:"Larry Strand",L2W9X2:"Michelle Desrosiers","5GGPL3":"Mike Brkich",T4M8Z8:"Neema Dadmand","9CD72G":"Neil Banman",T7Y4R8:"Neil Foster",KWBZ86:"Nick Melanidis","2WQA9X":"Nima Ahmadi",E4T6J7:"Orest Pich",N4M8Q2:"Randy Moffatt",B8L9M2:"Richard Biletski","62R92L":"Rob Crowe",H8M3N7:"Rob Kost",WW3F44:"Ryan Moffatt",E5G7G8:"Tony Creta"},je={wildcard:{name:"Wild Card Round (Jan 10-12, 2026)",deadline:"Friday, January 9, 2026 at 11:59 PM PST",games:[{id:1,team1:"AFC #7",team2:"AFC #2"},{id:2,team1:"AFC #6",team2:"AFC #3"},{id:3,team1:"AFC #5",team2:"AFC #4"},{id:4,team1:"NFC #7",team2:"NFC #2"},{id:5,team1:"NFC #6",team2:"NFC #3"},{id:6,team1:"NFC #5",team2:"NFC #4"}]},divisional:{name:"Divisional Round (Jan 17-18, 2026)",deadline:"Friday, January 16, 2026 at 11:59 PM PST",games:[{id:7,team1:"AFC Winner 1",team2:"AFC #1"},{id:8,team1:"AFC Winner 2",team2:"AFC Winner 3"},{id:9,team1:"NFC Winner 1",team2:"NFC #1"},{id:10,team1:"NFC Winner 2",team2:"NFC Winner 3"}]},conference:{name:"Conference Championships (Jan 25, 2026)",deadline:"Friday, January 23, 2026 at 11:59 PM PST",games:[{id:11,team1:"AFC Winner A",team2:"AFC Winner B"},{id:12,team1:"NFC Winner A",team2:"NFC Winner B"}]},superbowl:{name:"Super Bowl LIX (Feb 8, 2026)",deadline:"Friday, February 6, 2026 at 11:59 PM PST",games:[{id:13,team1:"AFC Champion",team2:"NFC Champion"}]}};function Jk(){const[t,e]=M.useState("picks"),[n,r]=M.useState(""),[i,s]=M.useState(""),[o,c]=M.useState(!1),[a,u]=M.useState("wildcard"),[h,p]=M.useState({}),[f,_]=M.useState([]),[E,k]=M.useState(!1),[S,m]=M.useState({}),[g,x]=M.useState({}),[T,R]=M.useState({}),[P,j]=M.useState({wildcard:"",divisional:"",conference:"",superbowl_week4:"",superbowl_week3:"",superbowl_week2:"",superbowl_week1:"",superbowl_grand:""}),[I,Y]=M.useState({superbowl_week4:!1,superbowl_week3:!1,superbowl_week2:!1,superbowl_week1:!1,superbowl_grand:!1}),[B,re]=M.useState({wildcard:{locked:!1,lockDate:null,autoLockDate:gn.wildcard},divisional:{locked:!1,lockDate:null,autoLockDate:gn.divisional},conference:{locked:!1,lockDate:null,autoLockDate:gn.conference},superbowl:{locked:!1,lockDate:null,autoLockDate:gn.superbowl}}),[de,nt]=M.useState({}),[Lt,mr]=M.useState(null),[Vn,dn]=M.useState(null),[F,U]=M.useState(!1),[G,J]=M.useState(null),[_e,fn]=M.useState(null),[Mt,gr]=M.useState([]),[Yt,yr]=M.useState([]),[Ws,Ry]=M.useState({}),[Le,vd]=M.useState({totalFees:0,prizeValue:0,numberOfPlayers:0,entryFee:20}),[Ay,Bs]=M.useState(!1),[Ct,Bl]=M.useState(""),[vr,$l]=M.useState(1),[yt,$s]=M.useState([]),[hn,Ul]=M.useState(!1),[Ft,di]=M.useState([]),[Dy,Vl]=M.useState(!1),[Gl,fi]=M.useState({}),[Oy,Ly]=M.useState({}),[My,hi]=M.useState(!1),[oe,xr]=M.useState(""),[_r,pi]=M.useState(null),[Gn,mi]=M.useState(null),[Fy,gi]=M.useState(!1),[xd,wr]=M.useState(null),[yi,Hl]=M.useState(null),me=()=>yn.includes(i)&&o,zy=()=>{let d=Math.floor(Math.random()*41)+10,y=Math.floor(Math.random()*41)+10;for(;d===y;)y=Math.floor(Math.random()*41)+10;return{team1:d,team2:y}},_d=()=>{const d=je[a].games,y={};d.forEach(v=>{y[v.id]=zy()}),mi(y),gi(!0)},Wy=async()=>{if(!oe||!Gn)return;const d=Se[oe];if(d)try{const y=K(X,"picks"),v=await Di(y);let w=null;if(v.exists()){const b=v.val();for(const[C,A]of Object.entries(b))if(A.playerCode===oe&&A.week===a){w=C;break}}const N={playerName:d,playerCode:oe,week:a,predictions:Gn,timestamp:w&&v.val()[w].timestamp||Date.now(),lastUpdated:Date.now(),enteredBy:"POOL_MANAGER_RNG",enteredByCode:i,enteredByName:n};w?await Ne(K(X,`picks/${w}`),N):await Eo(K(X,"picks"),N),alert(` RNG picks successfully submitted for ${d}!`),gi(!1),mi(null),hi(!1),xr("")}catch(y){console.error("Error submitting RNG picks:",y),alert(" Error submitting RNG picks. Please try again.")}},By=()=>{if(!oe)return;const d=f.find(y=>y.playerCode===oe&&y.week===a);d&&d.predictions?(p(d.predictions),fi({...d.predictions}),pi("manual")):(p({}),fi({}),pi("manual"))},$y=async d=>{if(d.preventDefault(),!oe){alert("Please select a player first.");return}const y=Se[oe];je[a];try{const v=K(X,"picks"),w=await Di(v);let N=null;if(w.exists()){const C=w.val();for(const[A,L]of Object.entries(C))if(L.playerCode===oe&&L.week===a){N=A;break}}const b={playerName:y,playerCode:oe,week:a,predictions:h,timestamp:N&&w.val()[N].timestamp||Date.now(),lastUpdated:Date.now(),enteredBy:"POOL_MANAGER_MANUAL",enteredByCode:i,enteredByName:n};N?await Ne(K(X,`picks/${N}`),b):await Eo(K(X,"picks"),b),alert(` Picks successfully submitted for ${y}!`),p({}),hi(!1),xr(""),pi(null)}catch(v){console.error("Error submitting picks for player:",v),alert(" Error submitting picks. Please try again.")}},Uy=async()=>{if(!oe)return;const d=Se[oe];try{console.log(" DEBUG: Starting delete for player:",d),console.log(" DEBUG: Player code:",oe),console.log(" DEBUG: Current week:",a);const y=K(X,"picks"),v=await Di(y);if(console.log(" DEBUG: Got snapshot, exists?",v.exists()),v.exists()){const w=v.val();console.log(" DEBUG: Total picks in database:",Object.keys(w).length);let N=null;for(const[b,C]of Object.entries(w))if(console.log(` DEBUG: Checking pick ${b}:`,C.playerCode,C.week),C.playerCode===oe&&C.week===a){N=b,console.log(" DEBUG: FOUND KEY TO DELETE:",N);break}N?(console.log(" DEBUG: Attempting to delete key:",N),await Lh(K(X,`picks/${N}`)),console.log(" DEBUG: Delete successful!"),alert(` ${d}'s picks for ${a==="wildcard"?"Week 1":a==="divisional"?"Week 2":a==="conference"?"Week 3":"Week 4"} have been deleted!`)):(console.log(" DEBUG: No pick found to delete"),alert(` ${d} has no picks for this week.`))}wr(null),xr("")}catch(y){console.error(" DEBUG: Error deleting picks:",y),console.error(" DEBUG: Error message:",y.message),console.error(" DEBUG: Error code:",y.code),alert(` Error deleting picks: ${y.message}

Check browser console (F12) for details.`)}},Vy=async()=>{if(!oe)return;const d=Se[oe];try{console.log(" DEBUG: Starting delete ALL for player:",d),console.log(" DEBUG: Player code:",oe);const y=K(X,"picks"),v=await Di(y);if(console.log(" DEBUG: Got snapshot, exists?",v.exists()),v.exists()){const w=v.val(),N=[];console.log(" DEBUG: Total picks in database:",Object.keys(w).length);for(const[b,C]of Object.entries(w))C.playerCode===oe&&(console.log(" DEBUG: Found pick to delete:",b,C.week),N.push(b));if(console.log(" DEBUG: Total keys to delete:",N.length),N.length>0){console.log(" DEBUG: Attempting to delete keys:",N);const b=N.map(C=>Lh(K(X,`picks/${C}`)));await Promise.all(b),console.log(" DEBUG: Delete ALL successful!"),alert(` ALL picks for ${d} have been deleted!

Deleted ${N.length} pick(s) across all weeks.`)}else console.log(" DEBUG: No picks found to delete"),alert(` ${d} has no picks in any week.`)}wr(null),xr(""),hi(!1)}catch(y){console.error(" DEBUG: Error deleting all picks:",y),console.error(" DEBUG: Error message:",y.message),console.error(" DEBUG: Error code:",y.code),alert(` Error deleting picks: ${y.message}

Check browser console (F12) for details.`)}},Gy=async d=>{try{console.log(" Clearing week data for:",d),S[d]&&(await Ne(K(X,`teamCodes/${d}`),null),console.log(" Cleared team codes")),g[d]&&(await Ne(K(X,`actualScores/${d}`),null),console.log(" Cleared actual scores")),T[d]&&(await Ne(K(X,`gameStatus/${d}`),null),console.log(" Cleared game status")),alert(` Week ${d==="wildcard"?"1":d==="divisional"?"2":d==="conference"?"3":"4"} data cleared!

Team names, scores, and statuses have been deleted.
Player picks are still intact.`),Hl(null)}catch(y){console.error(" Error clearing week data:",y),alert(` Error clearing week data: ${y.message}`)}},wd=(d,y,v,w,N,b)=>{const C=Number(d)>Number(y),A=Number(y)>Number(d);if(d===y||!d||!y)return{background:"transparent",color:"#000"};if(v!==void 0&&w!==void 0&&v!==""&&w!==""){const L=Number(v)>Number(w),$=Number(w)>Number(v);if(!N||N===""){if(b&&C)return L?{background:"#fff9c4",color:"#000"}:{background:"#b3e5fc",color:"#000"};if(!b&&A)return $?{background:"#fff9c4",color:"#000"}:{background:"#b3e5fc",color:"#000"}}if(N==="live"){if(b&&C)return L?{background:"#c8e6c9",color:"#000"}:{background:"#ffcdd2",color:"#000"};if(!b&&A)return $?{background:"#c8e6c9",color:"#000"}:{background:"#ffcdd2",color:"#000"}}if(N==="final"){if(b&&C)return L?{background:"#4caf50",color:"#000"}:{background:"#f44336",color:"#000"};if(!b&&A)return $?{background:"#4caf50",color:"#000"}:{background:"#f44336",color:"#000"}}}return{background:"transparent",color:"#000"}},Hy=async(d,y,v)=>{try{const w=d/10,N={totalFees:Number(d),prizeValue:Number(w.toFixed(2)),numberOfPlayers:Number(y),entryFee:Number(v),lastUpdated:new Date().toISOString()};await Ne(K(X,"prizePool"),N),vd(N),alert(` Prize pool saved!

Total Pool: $${d}
Each Prize: $${w.toFixed(2)} (10%)`),Bs(!1)}catch(w){console.error("Error saving prize pool:",w),alert(` Error saving prize pool: ${w.message}`)}},Us=(d,y)=>{const v=Math.floor(d*100/y)/100,w=Math.floor(1e4/y)/100,N=[];let b=0;for(let L=0;L<y-1;L++)N.push({percentage:w,amount:v}),b+=v;const C=Number((d-b).toFixed(2)),A=Number((100-w*(y-1)).toFixed(2));return N.push({percentage:A,amount:C}),N},Yy=async()=>{if(!Ct||yt.length===0){alert(" Please select a prize and at least one winner.");return}try{const d=Le.prizeValue||100;let y=[];if(hn){const w=Ft.reduce((b,C)=>b+Number(C.percentage||0),0),N=Ft.reduce((b,C)=>b+Number(C.amount||0),0);if(Math.abs(w-100)>.01){alert(` Percentages must equal 100%!
Current total: ${w.toFixed(2)}%`);return}if(Math.abs(N-d)>.01){alert(` Amounts must equal $${d.toFixed(2)}!
Current total: $${N.toFixed(2)}`);return}y=Ft.map((b,C)=>({playerCode:yt[C].code,playerName:yt[C].name,percentage:Number(b.percentage),amount:Number(b.amount)}))}else{const w=Us(d,yt.length);y=yt.map((N,b)=>({playerCode:N.code,playerName:N.name,percentage:w[b].percentage,amount:w[b].amount}))}const v={prizeNumber:Ct,prizeName:vi(Ct),prizeValue:d,winners:y,declaredBy:"POOL_MANAGER",declaredByCode:i,declaredByName:n,declaredAt:new Date().toISOString()};await Ne(K(X,`officialWinners/prize${Ct}`),v),alert(` Winner(s) declared for ${vi(Ct)}!

${y.map(w=>`${w.playerName}: ${w.percentage}% ($${w.amount.toFixed(2)})`).join(`
`)}`),Bl(""),$l(1),$s([]),Ul(!1),di([]),Vl(!1)}catch(d){console.error("Error declaring winners:",d),alert(` Error declaring winners: ${d.message}`)}},vi=d=>({1:"Prize #1 - Week 1 Most Correct Predictions",2:"Prize #2 - Week 1 Closest Total Points",3:"Prize #3 - Week 2 Most Correct Predictions",4:"Prize #4 - Week 2 Closest Total Points",5:"Prize #5 - Week 3 Most Correct Predictions",6:"Prize #6 - Week 3 Closest Total Points",7:"Prize #7 - Week 4 Most Correct Predictions",8:"Prize #8 - Week 4 Closest Total Points",9:"Prize #9 - Overall 4-Week Grand Total Most Correct Predictions",10:"Prize #10 - Overall 4-Week Grand Total Closest Points"})[d]||`Prize #${d}`,Qy=async d=>{if(window.confirm(`Are you sure you want to delete the winner declaration for ${vi(d)}?

This action cannot be undone!`))try{await Ne(K(X,`officialWinners/prize${d}`),null),alert(` Winner declaration deleted for ${vi(d)}`)}catch(y){console.error("Error deleting prize:",y),alert(` Error: ${y.message}`)}},Sd=d=>{const y=gn[d];if(!y)return!1;const v=new Date,w=new Date(v.toLocaleString("en-US",{timeZone:"America/Los_Angeles"})),N=new Date(y+"T00:00:00");return w>=N},zt=d=>{var y;return me()?!1:(y=B[d])!=null&&y.locked?!0:Sd(d)};M.useEffect(()=>{const d=K(X,"weekLockStatus");Bt(d,y=>{const v=y.val();if(v){const w={};Object.keys(gn).forEach(N=>{var b,C;w[N]={locked:((b=v[N])==null?void 0:b.locked)||!1,lockDate:((C=v[N])==null?void 0:C.lockDate)||null,autoLockDate:gn[N]}}),re(w)}})},[]);const Ky=d=>{const y=!B[d].locked,v=y?new Date().toISOString():null,w={...B,[d]:{...B[d],locked:y,lockDate:v}};re(w),Ne(K(X,`weekLockStatus/${d}`),{locked:y,lockDate:v,autoLockDate:gn[d]}),alert(y?` Week ${d} is now LOCKED

Players cannot edit picks for this week.`:` Week ${d} is now UNLOCKED

Players can edit picks for this week.`)};M.useEffect(()=>{const d=K(X,"picks");Bt(d,y=>{const v=y.val();if(v){const w=Object.keys(v).map(N=>({...v[N],firebaseKey:N}));_(w)}else _([])})},[]),M.useEffect(()=>{const d=K(X,"teamCodes");Bt(d,y=>{const v=y.val();v&&m(v)})},[]),M.useEffect(()=>{const d=K(X,"actualScores");Bt(d,y=>{const v=y.val();v&&x(v)})},[]),M.useEffect(()=>{const d=K(X,"gameStatus");Bt(d,y=>{const v=y.val();v&&R(v)})},[]),M.useEffect(()=>{const d=K(X,"officialWinners");Bt(d,y=>{const v=y.val();v&&Ry(v)})},[]),M.useEffect(()=>{const d=K(X,"prizePool");Bt(d,y=>{const v=y.val();v&&vd(v)})},[]),M.useEffect(()=>{const d=K(X,"gameLocks");Bt(d,y=>{const v=y.val();v&&nt(v)})},[]),M.useEffect(()=>{const d=K(X,"manualWeekTotals");Bt(d,y=>{const v=y.val();v&&j(v)})},[]),M.useEffect(()=>{if(o&&n&&f.length>0){const d=f.find(y=>y.playerName===n&&y.week===a);d&&d.predictions?(console.log("Loading existing picks for",n,"week",a),p(d.predictions)):(console.log("No existing picks found - clearing form"),p({}))}},[a,f,o,n]),M.useEffect(()=>{const d=new Ik(kd,5);return mr(d),()=>{d&&d.stop()}},[]);const kd=async()=>{try{console.log("Fetching scores from ESPN...");const d=await bk();if(!d.success){console.error("ESPN fetch failed:",d.error);return}console.log("ESPN games fetched:",d.games.length);const y=je[a].games,v={};if(d.games.forEach(w=>{var b;const N=jk(w,je,a,S);if(N){const C=N.gameId;if((b=de[a])!=null&&b[C]){console.log(`Game ${C} is locked, skipping API update`);return}v[C]={team1:N.team1Score,team2:N.team2Score,source:"espn",lastUpdated:new Date().toISOString()},R(A=>({...A,[a]:{...A[a],[C]:N.isFinal?"final":N.isLive?"live":""}}))}}),Object.keys(v).length>0){x(N=>({...N,[a]:{...N[a],...v}}));const w=K(X,`actualScores/${a}`);await Ne(w,{...g[a],...v}),console.log(`Updated ${Object.keys(v).length} games from ESPN`)}dn(new Date)}catch(d){console.error("Error fetching ESPN scores:",d)}},qy=d=>{var y;console.log(" Toggle clicked for game:",d),console.log(" Current week:",a),console.log(" Current locks:",de),console.log(" Current value for game",d,":",(y=de[a])==null?void 0:y[d]),nt(v=>{const w={...v};w[a]||(w[a]={});const N=w[a][d],b=!N;console.log(" Old value:",N),console.log(" New value:",b),w[a][d]=b;const C=K(X,`gameLocks/${a}/${d}`);return Ne(C,b),console.log(" Saved to Firebase:",b),console.log(" Returning new locks:",w),w})},Cd=(d,y,v)=>{p(w=>({...w,[d]:{...w[d],[y]:v}})),console.log(" User typed score - setting hasUnsavedChanges to TRUE"),U(!0)},Xy=()=>{if(Object.keys(h).some(v=>{var w,N;return((w=h[v])==null?void 0:w.team1)||((N=h[v])==null?void 0:N.team2)})&&!window.confirm(` WARNING!

Clicking RNG will OVERWRITE all your current picks!

Are you sure you want to continue?`))return;const y={};we.games.forEach(v=>{let w=Math.floor(Math.random()*43)+3,N=Math.floor(Math.random()*43)+3;for(;w===N;)N=Math.floor(Math.random()*43)+3;y[v.id]={team1:w.toString(),team2:N.toString()}}),p(y),console.log(" RNG: Setting hasUnsavedChanges to TRUE"),U(!0),console.log(" RNG: hasUnsavedChanges should now be true"),alert(` RNG picks generated for all ${we.games.length} games!

Score range: 3-45 points per team
No tied games guaranteed!

You can now edit any scores before submitting.`)},Ed=(d,y,v)=>{var N;const w={...S,[a]:{...S[a]||{},[d]:{...((N=S[a])==null?void 0:N[d])||{},[y]:v.toUpperCase()}}};m(w),Ne(K(X,`teamCodes/${a}/${d}/${y}`),v.toUpperCase())},Nd=(d,y,v)=>{var N;const w={...g,[a]:{...g[a]||{},[d]:{...((N=g[a])==null?void 0:N[d])||{},[y]:v}}};x(w),Ne(K(X,`actualScores/${a}/${d}/${y}`),v)},Jy=(d,y)=>{const v={...T,[a]:{...T[a]||{},[d]:y}};R(v),Ne(K(X,`gameStatus/${a}/${d}`),y)},Sr=(d,y)=>{const v={...P,[d]:y};j(v);const w=y!==""&&y!==null&&y!==void 0;Y(N=>({...N,[d]:w})),Ne(K(X,`manualWeekTotals/${d}`),y||null)},xi=d=>{j(y=>({...y,[d]:""})),Y(y=>({...y,[d]:!1})),Ne(K(X,`manualWeekTotals/${d}`),null)},bd=(d,y)=>{const v=f.find(N=>N.playerCode===d&&N.week===y);if(!v||!v.predictions)return null;let w=0;return Object.keys(v.predictions).forEach(N=>{const b=v.predictions[N];b&&b.team1&&b.team2&&(w+=(parseInt(b.team1)||0)+(parseInt(b.team2)||0))}),w},Zy=d=>{const y=[],v={wildcard:1,divisional:2,conference:3,superbowl:4};return["wildcard","divisional","conference","superbowl"].forEach(w=>{f.some(b=>b.playerCode===d&&b.week===w)&&y.push(v[w])}),y},e0=d=>d.length===0||d.length===4?!1:!d.every((v,w)=>v===w+1),t0=d=>"P"+d.join(""),n0=(d,y)=>{const v=f.find(w=>w.playerCode===d&&w.week===y);return(v==null?void 0:v.enteredBy)==="POOL_MANAGER_RNG"},Td=(d,y)=>{const v=f.find(b=>b.playerCode===d&&b.week===y);if(!v||!v.predictions)return 0;const w=g[y];if(!w)return 0;let N=0;return Object.keys(v.predictions).forEach(b=>{const C=v.predictions[b],A=w[b];if(C&&A&&C.team1&&C.team2&&A.team1&&A.team2){const L=parseInt(C.team1)+parseInt(C.team2),$=parseInt(A.team1)+parseInt(A.team2),W=Math.abs(L-$);N+=W}}),N},Vs=(d,y,v)=>{const w=bd(d,y),N=Td(d,y),b=n0(d,y),C=Object.keys(g[y]||{}).length>0;if(!w)return{display:"-",tooltip:"",fontSize:"16px"};const A=b?"*":"";return!C||N===0?{display:`${w}${A}`,tooltip:b?`Predicted: ${w} (RNG filled by Pool Manager)`:`Predicted: ${w}`,fontSize:"16px"}:{display:`${w}${A}/${N}`,tooltip:b?`Predicted: ${w} (RNG) | Difference: ${N}`:`Predicted: ${w} | Difference: ${N}`,fontSize:"16px"}},r0=d=>{const y=Zy(d);if(y.length===0)return{display:"-",tooltip:"",fontSize:"16px"};const v=e0(y),w=v?t0(y)+"/":"";let N=0,b=0,C=0,A=!1,L=!0;const $={1:"wildcard",2:"divisional",3:"conference",4:"superbowl"};y.forEach(H=>{const Q=$[H],q=bd(d,Q),ie=Td(d,Q),ce=Object.keys(g[Q]||{}).length>0;q&&(N+=q,ce&&ie>0?(b+=q,C+=ie,A=!0):ce||(L=!1))});let W="";return v&&(W=`Weeks Entered: ${y.join(", ")} | `),A?L?(W+=`Full Prediction: ${N} | Total Difference: ${C}`,{display:`${w}${N}/${C}`,tooltip:W,fontSize:"16px"}):(W+=`Full Prediction: ${N} | Played Weeks: ${b} | Difference So Far: ${C}`,{display:`${w}${N}/${b}/${C}`,tooltip:W,fontSize:"14px"}):(W+=`Full Prediction: ${N}`,{display:`${w}${N}`,tooltip:W,fontSize:"16px"})},_i=d=>{const y=g[d];if(!y)return 0;let v=0;return Object.values(y).forEach(w=>{w&&w.team1&&w.team2&&(v+=(parseInt(w.team1)||0)+(parseInt(w.team2)||0))}),v},pn=(d,y)=>{if(P[d])return P[d];const v=_i(y);return v>0?v:""},Pd=()=>{if(P.superbowl_grand)return P.superbowl_grand;const d=_i("wildcard"),y=_i("divisional"),v=_i("conference"),w=_i("superbowl"),N=d+y+v+w;return N>0?N:""},i0=["ARI","ATL","BAL","BUF","CAR","CHI","CIN","CLE","DAL","DEN","DET","GB","HOU","IND","JAC","KC","LV","LAC","LAR","MIA","MIN","NE","NO","NYG","NYJ","PHI","PIT","SF","SEA","TB","TEN","WAS"],s0=()=>{const d=we.games.some(W=>{var H,Q,q,ie;return((Q=(H=S[a])==null?void 0:H[W.id])==null?void 0:Q.team1)||((ie=(q=S[a])==null?void 0:q[W.id])==null?void 0:ie.team2)}),y=we.games.some(W=>{var H,Q,q,ie;return((Q=(H=g[a])==null?void 0:H[W.id])==null?void 0:Q.team1)||((ie=(q=g[a])==null?void 0:q[W.id])==null?void 0:ie.team2)}),v=we.games.some(W=>{var H;return(H=T[a])==null?void 0:H[W.id]});if((d||y||v)&&!window.confirm(` POOL MANAGER RNG WARNING!

This will OVERWRITE:
 All team codes
 All actual scores
 All game statuses

Are you sure you want to continue?`))return;const w=[...i0].sort(()=>Math.random()-.5),N=we.games.length,b=N*2;if(b>w.length){alert(" Not enough unique teams for all games!");return}const C=w.slice(0,b),A={...S},L={...g},$={...T};A[a]||(A[a]={}),L[a]||(L[a]={}),$[a]||($[a]={}),we.games.forEach((W,H)=>{const Q=C[H*2],q=C[H*2+1];let ie=Math.floor(Math.random()*48)+3,ce=Math.floor(Math.random()*48)+3;for(;ie===ce;)ce=Math.floor(Math.random()*48)+3;A[a][W.id]={team1:Q,team2:q},L[a][W.id]={team1:ie.toString(),team2:ce.toString()},$[a][W.id]="final",Ne(K(X,`teamCodes/${a}/${W.id}`),{team1:Q,team2:q}),Ne(K(X,`actualScores/${a}/${W.id}`),{team1:ie.toString(),team2:ce.toString()}),Ne(K(X,`gameStatus/${a}/${W.id}`),"final")}),m(A),x(L),R($),alert(` POOL MANAGER RNG Complete!

 ${N} games populated
 Random teams assigned (each used once)
 Scores: 3-50 points
 No tied games guaranteed
 All games marked FINAL

Ready for testing!`)},jd=()=>{if(console.log(""),console.log(" HANDLE LOGOUT CALLED"),console.log(" Current hasUnsavedChanges value:",F),console.log(" Current predictions:",JSON.stringify(h)),console.log(" Current originalPicks:",JSON.stringify(Gl)),console.log(" Are they equal?",JSON.stringify(h)===JSON.stringify(Gl)),F){if(console.log(" HAS UNSAVED CHANGES - SHOWING WARNING "),!window.confirm(` UNSAVED CHANGES!

You have unsaved picks that will be lost.

Click OK to DISCARD changes and logout
Click CANCEL to stay and save your picks`)){console.log(" User cancelled logout"),console.log("");return}console.log(" User confirmed logout - discarding changes")}else console.log(" NO UNSAVED CHANGES - LOGGING OUT DIRECTLY ");console.log(" Proceeding with logout..."),c(!1),s(""),r(""),p({}),e("picks"),U(!1),console.log(" Logout complete"),console.log("")},o0=()=>{if(F&&!window.confirm(` DISCARD CHANGES?

This will reset your picks to the last saved version.

Are you sure you want to discard your changes?`))return;const d=f.find(y=>y.playerCode===i&&y.week===a);p(d?d.predictions:{}),U(!1)},l0=d=>{F?(fn(d),J("unsavedChanges")):(u(d),Gs(d))},Gs=d=>{console.log(" LOAD WEEK PICKS CALLED "),console.log(" Loading picks for week:",d);const y=f.find(v=>v.week===d&&v.playerCode===i);if(y&&y.predictions){console.log(" Found existing picks:",JSON.stringify(y.predictions)),console.log(" Creating deep copies for predictions and originalPicks");const v=JSON.parse(JSON.stringify(y.predictions)),w=JSON.parse(JSON.stringify(y.predictions));p(v),fi(w),U(!1),console.log(" Set hasUnsavedChanges to FALSE"),console.log(" LOAD WEEK PICKS COMPLETE ")}else console.log(" No existing picks found - clearing state"),p({}),fi({}),U(!1),console.log(" LOAD WEEK PICKS COMPLETE (EMPTY) ")};M.useEffect(()=>{o&&i&&Gs(a)},[a,o,i]),M.useEffect(()=>{if(f.length>0&&i){const d={};["wildcard","divisional","conference","superbowl"].forEach(y=>{const v=f.find(w=>w.week===y&&w.playerCode===i);if(v&&v.predictions){const w=je[y].games.length,N=Object.keys(v.predictions).filter(b=>{var C,A;return((C=v.predictions[b])==null?void 0:C.team1)&&((A=v.predictions[b])==null?void 0:A.team2)}).length;d[y]={complete:N===w,count:N,total:w}}}),Ly(d)}},[f,i]);const wi=()=>{if(me())return!0;const d=new Date,y=new Date(d.toLocaleString("en-US",{timeZone:"America/Los_Angeles"})),v=new Date(Mh.firstFriday+"T00:00:00"),w=new Date(Mh.lastMonday+"T23:59:59");if(y<v)return!0;if(y>w)return!1;const N=y.getDay(),b=y.getHours(),C=y.getMinutes();return!(N===5&&b===23&&C>=59||N===6||N===0||N===1&&b===0&&C===0)},Id=()=>{const d=i.trim().toUpperCase();if(!d){ja(d,"Empty code"),alert("Please enter your 6-character player code");return}if(d.length!==6||!/^[A-Z0-9]{6}$/.test(d)){ja(d,"Invalid format - must be 6 alphanumeric characters"),alert(`Invalid code format!

Player codes must be exactly 6 characters (letters and numbers).
Example: A7K9M2`);return}const y=Se[d];if(!y){ja(d,"Code not recognized"),alert(`Invalid player code!

This code is not recognized.

Make sure you:
1. Paid your $20 entry fee
2. Received your code from the pool manager
3. Entered the code correctly

Contact: gammoneer2b@gmail.com`);return}if(f.find(w=>w.playerName===y&&w.week===a))if(yn.includes(d))alert(`Welcome, Pool Manager!

You have unrestricted access to:
 Enter picks anytime (no lockout)
 Enter team codes
 Enter actual game scores
 Set game status (LIVE/FINAL)
 Lock/unlock weeks
 View all player codes`);else{const w=zt(a);alert(w?`Welcome back, ${y}!

 WARNING: This week is LOCKED!

Your existing picks for ${je[a].name} will be loaded, but you cannot edit them because the games have been played.

You can only view your submitted picks.`:`Welcome back, ${y}!

Your existing picks for ${je[a].name} will be loaded automatically.

You can edit and resubmit anytime except during playoff weekends (Friday 11:59 PM - Monday 12:01 AM PST).`)}else yn.includes(d)&&alert(`Welcome, Pool Manager!

You have unrestricted access to:
 Enter picks anytime (no lockout)
 Enter team codes
 Enter actual game scores
 Set game status (LIVE/FINAL)
 Lock/unlock weeks
 View all player codes`);Kk(d,y),r(y),s(d),c(!0)},a0=()=>{const d=f.filter(C=>C.week===a);if(d.length===0){alert("No picks to download for this week.");return}const y=je[a];let v="";v+="TEAM CODES:,",y.games.forEach(C=>{var $,W,H,Q;const A=((W=($=S[a])==null?void 0:$[C.id])==null?void 0:W.team1)||"-",L=((Q=(H=S[a])==null?void 0:H[C.id])==null?void 0:Q.team2)||"-";v+=`${A},${L},`}),a==="superbowl"&&(v+=",,,,"),v+=`
`,v+="ACTUAL SCORES:,",y.games.forEach(C=>{var $,W,H,Q;const A=((W=($=g[a])==null?void 0:$[C.id])==null?void 0:W.team1)||"-",L=((Q=(H=g[a])==null?void 0:H[C.id])==null?void 0:Q.team2)||"-";v+=`${A},${L},`}),a==="superbowl"&&(v+=",,,,"),v+=`
`,v+="GAME TOTALS:,",y.games.forEach(C=>{var H,Q,q,ie;const A=parseInt((Q=(H=g[a])==null?void 0:H[C.id])==null?void 0:Q.team1)||0,L=parseInt((ie=(q=g[a])==null?void 0:q[C.id])==null?void 0:ie.team2)||0,$=A+L,W=A>0||L>0?$:"-";v+=`${W},,`}),a==="superbowl"&&(v+=",,,,"),v+=`
`,v+="GAME STATUS:,",y.games.forEach(C=>{var $;const A=(($=T[a])==null?void 0:$[C.id])||"-";v+=`${A==="final"?"FINAL":A==="live"?"LIVE":"-"},,`}),a==="superbowl"&&(v+=",,,,"),v+=`
`,v+="OFFICIAL TOTALS:,",y.games.forEach(()=>{v+=",,"}),a==="superbowl"?(v+=`${P.superbowl_week4||"-"},`,v+=`${P.superbowl_week3||"-"},`,v+=`${P.superbowl_week2||"-"},`,v+=`${P.superbowl_week1||"-"},`,v+=`${P.superbowl_grand||"-"},`):v+=`${P[a]||"-"},`,v+=`
`,v+=`
`,v+=",",y.games.forEach(C=>{v+=`Game ${C.id},Game ${C.id},`}),v+=`
`,v+="Player Name,",y.games.forEach(C=>{v+=`${C.team1} Score,${C.team2} Score,`}),a==="superbowl"?v+="Week 4 Total,Week 3 Total,Week 2 Total,Week 1 Total,GRAND TOTAL,":v+="Total Points,",v+=`Submitted At
`,d.sort((C,A)=>(A.lastUpdated||A.timestamp)-(C.lastUpdated||C.timestamp)).forEach(C=>{if(v+=`"${C.playerName}",`,y.games.forEach(L=>{var H,Q;const $=((H=C.predictions[L.id])==null?void 0:H.team1)||"-",W=((Q=C.predictions[L.id])==null?void 0:Q.team2)||"-";v+=`${$},${W},`}),a==="superbowl"){const L=(()=>{const q=f.find(ce=>ce.playerName===C.playerName&&ce.week==="superbowl");if(!q)return 0;let ie=0;return je.superbowl.games.forEach(ce=>{const qe=q.predictions[ce.id];qe&&(ie+=(Number(qe.team1)||0)+(Number(qe.team2)||0))}),ie})(),$=(()=>{const q=f.find(ce=>ce.playerName===C.playerName&&ce.week==="conference");if(!q)return 0;let ie=0;return je.conference.games.forEach(ce=>{const qe=q.predictions[ce.id];qe&&(ie+=(Number(qe.team1)||0)+(Number(qe.team2)||0))}),ie})(),W=(()=>{const q=f.find(ce=>ce.playerName===C.playerName&&ce.week==="divisional");if(!q)return 0;let ie=0;return je.divisional.games.forEach(ce=>{const qe=q.predictions[ce.id];qe&&(ie+=(Number(qe.team1)||0)+(Number(qe.team2)||0))}),ie})(),H=(()=>{const q=f.find(ce=>ce.playerName===C.playerName&&ce.week==="wildcard");if(!q)return 0;let ie=0;return je.wildcard.games.forEach(ce=>{const qe=q.predictions[ce.id];qe&&(ie+=(Number(qe.team1)||0)+(Number(qe.team2)||0))}),ie})(),Q=L+$+W+H;v+=`${L},${$},${W},${H},${Q},`}else{const L=y.games.reduce(($,W)=>{var q,ie;const H=parseInt((q=C.predictions[W.id])==null?void 0:q.team1)||0,Q=parseInt((ie=C.predictions[W.id])==null?void 0:ie.team2)||0;return $+H+Q},0);v+=`${L},`}const A=new Date(C.lastUpdated||C.timestamp).toLocaleString("en-US",{month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0});v+=`"${A}"
`});const w=new Blob([v],{type:"text/csv;charset=utf-8;"}),N=document.createElement("a"),b=URL.createObjectURL(w);N.setAttribute("href",b),N.setAttribute("download",`nfl_playoff_picks_${a}_${Date.now()}.csv`),N.style.visibility="hidden",document.body.appendChild(N),N.click(),document.body.removeChild(N)},Rd=async d=>{if(d.preventDefault(),zt(a)){alert(` WEEK LOCKED

This week's games have been played.
Picks are permanently locked.`);return}if(!wi()){alert(` SUBMISSIONS CLOSED

During playoff weekends, picks are locked from:
 Friday 11:59 PM PST
 Through Monday 12:01 AM PST`);return}const y=je[a],v=[];if(y.games.forEach(b=>{(!h[b.id]||!h[b.id].team1||!h[b.id].team2)&&v.push(b.id)}),v.length>0){gr(v),J("incomplete");return}const w=[];if(y.games.forEach(b=>{var L,$;const C=parseInt((L=h[b.id])==null?void 0:L.team1),A=parseInt(($=h[b.id])==null?void 0:$.team2);(isNaN(C)||isNaN(A)||C<0||A<0)&&w.push(b.id)}),w.length>0){yr(w),J("invalidScores");return}const N=[];if(y.games.forEach(b=>{var L,$;const C=parseInt((L=h[b.id])==null?void 0:L.team1),A=parseInt(($=h[b.id])==null?void 0:$.team2);C===A&&N.push(b.id)}),N.length>0){gr(N),J("tiedGames");return}if(!F){J("noChanges");return}try{const b=K(X,"picks"),C=await Di(b);let A=null,L=null;if(C.exists()){const H=C.val();for(const[Q,q]of Object.entries(H))if(q.playerCode===i&&q.week===a){A=q,L=Q;break}}const $={playerName:n,playerCode:i,week:a,predictions:h,timestamp:A?A.timestamp:Date.now(),lastUpdated:Date.now()};L?await Ne(K(X,`picks/${L}`),$):await Eo(K(X,"picks"),$),console.log(" SUBMIT SUCCESS "),k(!0),console.log(" Creating deep copy of predictions for originalPicks");const W=JSON.parse(JSON.stringify(h));fi(W),console.log(" Setting hasUnsavedChanges to FALSE"),U(!1),J("success"),console.log(" SUBMIT COMPLETE - allPicks will update but NOT trigger reload! "),setTimeout(()=>{const H=document.querySelector(".all-picks");H&&H.scrollIntoView({behavior:"smooth"})},100)}catch(b){console.error("Error submitting picks:",b),alert("Error submitting picks. Please try again.")}},we=je[a],c0=M.useMemo(()=>{const d={};return(a==="superbowl"?(()=>{const v=new Map;return f.forEach(w=>{var N;v.has(w.playerName)||v.set(w.playerName,{playerName:w.playerName,playerCode:w.playerCode,week:a,predictions:((N=f.find(b=>b.playerCode===w.playerCode&&b.week==="superbowl"))==null?void 0:N.predictions)||{}})}),Array.from(v.values())})():f.filter(v=>v.week===a)).forEach(v=>{d[v.playerName]||(d[v.playerName]={week4:0,week3:0,week2:0,week1:0,grand:0,current:0});let w=0;if(je[a].games.forEach(b=>{const C=v.predictions[b.id];C&&C.team1&&C.team2&&(w+=(parseInt(C.team1)||0)+(parseInt(C.team2)||0))}),d[v.playerName].current=w,a==="superbowl"){const b=(C,A)=>{const L=f.find(W=>W.playerCode===C&&W.week===A);if(!L||!L.predictions)return 0;let $=0;return Object.values(L.predictions).forEach(W=>{W&&W.team1&&W.team2&&($+=(parseInt(W.team1)||0)+(parseInt(W.team2)||0))}),$};d[v.playerName].week4=b(v.playerCode,"superbowl"),d[v.playerName].week3=b(v.playerCode,"conference"),d[v.playerName].week2=b(v.playerCode,"divisional"),d[v.playerName].week1=b(v.playerCode,"wildcard"),d[v.playerName].grand=d[v.playerName].week1+d[v.playerName].week2+d[v.playerName].week3+d[v.playerName].week4}}),d},[f,a,g]);return l.jsxs("div",{className:"App",children:[l.jsxs("header",{children:[l.jsx("h1",{children:" Richard's NFL Playoff Pool 2025"}),l.jsx("p",{children:"Enter your score predictions for each NFL Playoff 2025 game"}),l.jsxs("p",{style:{fontSize:"0.85rem",marginTop:"10px",opacity:.8},children:["v2.2-PLAYOFF-SCHEDULE-",new Date().toISOString().slice(0,10).replace(/-/g,"")]}),l.jsxs("div",{style:{marginTop:"15px",display:"flex",flexDirection:"column",gap:"10px",alignItems:"center"},children:[l.jsxs("div",{style:{display:"flex",gap:"15px",flexWrap:"wrap",justifyContent:"center"},children:[l.jsx("a",{href:"/nfl-playoff-pool/Playoff_Pool_Quick_Rules.pdf",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",padding:"10px 20px",backgroundColor:"#0984e3",color:"white",textDecoration:"none",borderRadius:"5px",fontSize:"0.95rem",fontWeight:"bold",transition:"background-color 0.3s ease",cursor:"pointer"},onMouseOver:d=>d.target.style.backgroundColor="#74b9ff",onMouseOut:d=>d.target.style.backgroundColor="#0984e3",children:" View Quick Rules (2 Pages)"}),l.jsx("a",{href:"/nfl-playoff-pool/Richards_Playoff_Pool_LIX_Rulebook.pdf",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",padding:"10px 20px",backgroundColor:"#6c5ce7",color:"white",textDecoration:"none",borderRadius:"5px",fontSize:"0.95rem",fontWeight:"bold",transition:"background-color 0.3s ease",cursor:"pointer"},onMouseOver:d=>d.target.style.backgroundColor="#a29bfe",onMouseOut:d=>d.target.style.backgroundColor="#6c5ce7",children:" View Full Rulebook (13 Pages)"})]}),l.jsx("p",{style:{fontSize:"1.1em",marginTop:"10px",color:"#ffffff",fontWeight:"500"},children:"Entry Fee: $20 - Must be paid before end of regular season"})]})]}),l.jsxs("div",{className:"container",children:[me()&&o&&l.jsxs("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"15px 20px",borderRadius:"8px",marginBottom:"20px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[l.jsxs("h3",{style:{margin:"0 0 15px 0",display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx("span",{children:""}),l.jsx("span",{children:"POOL MANAGER - WEEK LOCK CONTROLS"})]}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"10px"},children:Object.keys(je).map(d=>{var N,b;const y=(N=B[d])==null?void 0:N.locked,v=Sd(d),w=y||v;return l.jsxs("div",{style:{background:"rgba(255,255,255,0.15)",padding:"12px",borderRadius:"6px",display:"flex",flexDirection:"column",gap:"8px"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",fontWeight:"bold",fontSize:"0.9rem"},children:[l.jsxs("span",{children:[w?"":""," Week ",d==="wildcard"?"1":d==="divisional"?"2":d==="conference"?"3":"4"]}),l.jsx("span",{style:{fontSize:"0.75rem",opacity:.9},children:(b=B[d])==null?void 0:b.autoLockDate})]}),v&&!y&&l.jsx("div",{style:{fontSize:"0.7rem",padding:"4px 8px",background:"rgba(255,193,7,0.3)",borderRadius:"4px",border:"1px solid rgba(255,193,7,0.5)"},children:" AUTO-LOCKED"}),y&&l.jsx("div",{style:{fontSize:"0.7rem",padding:"4px 8px",background:"rgba(220,53,69,0.3)",borderRadius:"4px",border:"1px solid rgba(220,53,69,0.5)"},children:" MANUALLY LOCKED"}),l.jsx("button",{onClick:()=>Ky(d),style:{padding:"8px 12px",background:y?"#28a745":"#dc3545",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.85rem",fontWeight:"600",transition:"all 0.2s"},children:y?" Unlock Week":" Lock Week"}),l.jsx("button",{onClick:()=>Hl(d),style:{padding:"8px 12px",background:"#e67e22",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.85rem",fontWeight:"600",transition:"all 0.2s",marginTop:"8px"},children:" Clear Week Data"})]},d)})}),l.jsx("p",{style:{fontSize:"0.8rem",marginTop:"12px",marginBottom:"0",opacity:.9},children:" Manual locks override automatic locks. Players cannot edit picks for locked weeks."})]}),me()&&o&&l.jsxs("div",{style:{background:"linear-gradient(135deg, #f39c12 0%, #e74c3c 100%)",color:"white",padding:"20px",borderRadius:"8px",marginBottom:"20px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[l.jsxs("h3",{style:{margin:"0 0 15px 0",display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx("span",{children:""}),l.jsx("span",{children:"POOL MANAGER OVERRIDE - ENTER/EDIT PICKS FOR ANY PLAYER"})]}),My?l.jsxs("div",{children:[l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"0.95rem"},children:"Select Player:"}),l.jsxs("select",{value:oe,onChange:d=>{xr(d.target.value),pi(null),mi(null),gi(!1)},style:{width:"100%",padding:"12px",fontSize:"1rem",borderRadius:"6px",border:"2px solid white",background:"rgba(255,255,255,0.95)",color:"#333",fontWeight:"600"},children:[l.jsx("option",{value:"",children:"-- Select a Player --"}),Object.keys(Se).sort((d,y)=>{const v=Se[d].toUpperCase(),w=Se[y].toUpperCase();return v.localeCompare(w)}).map(d=>l.jsxs("option",{value:d,children:[Se[d]," (",d,")"]},d))]})]}),oe&&l.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:"15px",borderRadius:"6px",marginBottom:"15px"},children:[l.jsxs("div",{style:{marginBottom:"15px"},children:[l.jsx("strong",{children:"Selected:"})," ",Se[oe]," (",oe,")",l.jsx("br",{}),l.jsx("strong",{children:"Week:"})," ",a==="wildcard"?"Week 1":a==="divisional"?"Week 2":a==="conference"?"Week 3":"Week 4",l.jsx("br",{}),l.jsx("strong",{children:"Status:"})," ",f.find(d=>d.playerCode===oe&&d.week===a)?" HAS PICKS":" NO PICKS"]}),l.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[l.jsx("button",{onClick:_d,style:{flex:"1",minWidth:"150px",padding:"12px",background:"#9b59b6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Generate RNG Picks"}),l.jsx("button",{onClick:By,style:{flex:"1",minWidth:"150px",padding:"12px",background:"#3498db",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Enter/Edit Manually"})]}),f.find(d=>d.playerCode===oe)&&l.jsxs("div",{style:{marginTop:"15px",padding:"15px",background:"rgba(220, 53, 69, 0.1)",borderRadius:"6px",border:"2px solid rgba(220, 53, 69, 0.3)"},children:[l.jsx("div",{style:{marginBottom:"10px",fontWeight:"600",color:"#dc3545"},children:" Danger Zone - Delete Operations"}),l.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[l.jsx("button",{onClick:()=>wr("week"),style:{flex:"1",minWidth:"150px",padding:"12px",background:"#e67e22",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Delete This Week Only"}),l.jsx("button",{onClick:()=>wr("all"),style:{flex:"1",minWidth:"150px",padding:"12px",background:"#c0392b",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Delete ALL Weeks"})]})]})]}),l.jsx("button",{onClick:()=>{hi(!1),xr(""),pi(null),mi(null),gi(!1)},style:{padding:"10px 20px",background:"#95a5a6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Exit Override Mode"})]}):l.jsxs("div",{children:[l.jsx("p",{style:{marginBottom:"15px",fontSize:"0.9rem"},children:" Enter picks on behalf of players who missed the deadline or need assistance. Works even when week is locked."}),l.jsx("button",{onClick:()=>hi(!0),style:{padding:"12px 24px",background:"white",color:"#e74c3c",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:" Enter Override Mode"})]})]}),Fy&&Gn&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},children:l.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"30px",maxWidth:"600px",width:"100%",maxHeight:"90vh",overflow:"auto",boxShadow:"0 8px 32px rgba(0,0,0,0.3)"},children:[l.jsx("h3",{style:{marginTop:0,color:"#9b59b6"},children:" RNG PICKS GENERATED"}),l.jsxs("p",{style:{color:"#666",marginBottom:"20px"},children:["Player: ",l.jsx("strong",{children:Se[oe]}),l.jsx("br",{}),"Week: ",l.jsx("strong",{children:a==="wildcard"?"Week 1":a==="divisional"?"Week 2":a==="conference"?"Week 3":"Week 4"})]}),l.jsx("div",{style:{marginBottom:"20px"},children:je[a].games.map(d=>l.jsxs("div",{style:{padding:"12px",background:"#f8f9fa",borderRadius:"6px",marginBottom:"10px",border:"2px solid #e9ecef"},children:[l.jsxs("div",{style:{fontWeight:"600",marginBottom:"5px",color:"#333"},children:["Game ",d.id,": ",d.team1," vs ",d.team2]}),l.jsxs("div",{style:{fontSize:"1.2rem",fontWeight:"700",color:"#9b59b6"},children:[Gn[d.id].team1," - ",Gn[d.id].team2,Gn[d.id].team1>Gn[d.id].team2?` (${d.team1} wins)`:` (${d.team2} wins)`]})]},d.id))}),l.jsxs("div",{style:{background:"#d4edda",border:"1px solid #c3e6cb",color:"#155724",padding:"12px",borderRadius:"6px",marginBottom:"20px",fontSize:"0.9rem"},children:[" All scores between 10-50 (inclusive)",l.jsx("br",{})," No tied games",l.jsx("br",{}),' Will be marked as "POOL_MANAGER_RNG" in database']}),l.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[l.jsx("button",{onClick:Wy,style:{flex:"1",padding:"14px 24px",background:"#28a745",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Submit RNG Picks"}),l.jsx("button",{onClick:_d,style:{flex:"1",padding:"14px 24px",background:"#ffc107",color:"#333",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Regenerate"}),l.jsx("button",{onClick:()=>{gi(!1),mi(null)},style:{padding:"14px 24px",background:"#dc3545",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Cancel"})]})]})}),xd&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},children:l.jsx("div",{style:{background:"white",borderRadius:"12px",padding:"30px",maxWidth:"500px",width:"100%",boxShadow:"0 8px 32px rgba(0,0,0,0.3)"},children:xd==="week"?l.jsxs(l.Fragment,{children:[l.jsxs("h3",{style:{marginTop:0,color:"#e67e22",display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx("span",{children:""}),l.jsx("span",{children:"DELETE PICKS FOR THIS WEEK?"})]}),l.jsxs("div",{style:{marginBottom:"20px",color:"#666"},children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Player:"})," ",Se[oe]]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Week:"})," ",a==="wildcard"?"Week 1 (Wildcard)":a==="divisional"?"Week 2 (Divisional)":a==="conference"?"Week 3 (Conference)":"Week 4 (Super Bowl)"]})]}),l.jsxs("div",{style:{background:"#fff3cd",border:"1px solid #ffc107",color:"#856404",padding:"15px",borderRadius:"6px",marginBottom:"20px",fontSize:"0.95rem"},children:[l.jsx("strong",{children:" Warning:"})," This will DELETE ",Se[oe],"'s picks for this week only.",l.jsx("br",{}),l.jsx("strong",{children:"This action CANNOT be undone!"})]}),l.jsxs("div",{style:{display:"flex",gap:"10px"},children:[l.jsx("button",{onClick:()=>wr(null),style:{flex:"1",padding:"14px",background:"#95a5a6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Cancel"}),l.jsx("button",{onClick:Uy,style:{flex:"1",padding:"14px",background:"#e67e22",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Yes, Delete This Week"})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("h3",{style:{marginTop:0,color:"#c0392b",display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx("span",{children:""}),l.jsx("span",{children:"DELETE ALL PICKS?"})]}),l.jsx("div",{style:{marginBottom:"20px",color:"#666"},children:l.jsxs("p",{children:[l.jsx("strong",{children:"Player:"})," ",Se[oe]]})}),l.jsxs("div",{style:{background:"#f8d7da",border:"2px solid #dc3545",color:"#721c24",padding:"15px",borderRadius:"6px",marginBottom:"20px",fontSize:"0.95rem"},children:[l.jsx("strong",{children:" DANGER:"})," This will DELETE ALL of ",Se[oe],"'s picks:",l.jsx("br",{}),l.jsx("br",{}),f.filter(d=>d.playerCode===oe).map(d=>l.jsxs("div",{style:{marginLeft:"20px"},children:[" ",d.week==="wildcard"?"Week 1":d.week==="divisional"?"Week 2":d.week==="conference"?"Week 3":"Week 4"," picks"]},d.week)),l.jsx("br",{}),l.jsx("strong",{children:"This action CANNOT be undone!"}),l.jsx("br",{}),l.jsx("strong",{children:"Are you absolutely sure?"})]}),l.jsxs("div",{style:{display:"flex",gap:"10px"},children:[l.jsx("button",{onClick:()=>wr(null),style:{flex:"1",padding:"14px",background:"#95a5a6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Cancel"}),l.jsx("button",{onClick:Vy,style:{flex:"1",padding:"14px",background:"#c0392b",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Yes, Delete Everything"})]})]})})}),yi&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},children:l.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"30px",maxWidth:"500px",width:"100%",boxShadow:"0 8px 32px rgba(0,0,0,0.3)"},children:[l.jsxs("h3",{style:{marginTop:0,color:"#e67e22",display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx("span",{children:""}),l.jsx("span",{children:"CLEAR WEEK DATA?"})]}),l.jsx("div",{style:{marginBottom:"20px",color:"#666"},children:l.jsxs("p",{children:[l.jsx("strong",{children:"Week:"})," ",yi==="wildcard"?"Week 1 (Wildcard)":yi==="divisional"?"Week 2 (Divisional)":yi==="conference"?"Week 3 (Conference)":"Week 4 (Super Bowl)"]})}),l.jsxs("div",{style:{background:"#fff3cd",border:"2px solid #ffc107",color:"#856404",padding:"15px",borderRadius:"6px",marginBottom:"20px",fontSize:"0.95rem"},children:[l.jsx("strong",{children:" This will DELETE:"}),l.jsxs("div",{style:{marginLeft:"20px",marginTop:"10px"},children:[" All team names for this week",l.jsx("br",{})," All actual scores for this week",l.jsx("br",{})," All game statuses (FINAL/LIVE) for this week"]}),l.jsx("br",{}),l.jsx("strong",{style:{color:"#d63031"},children:" This will KEEP:"}),l.jsx("div",{style:{marginLeft:"20px",marginTop:"5px"},children:" ALL player picks (NOT deleted!)"}),l.jsx("br",{}),l.jsx("strong",{children:"This action CANNOT be undone!"})]}),l.jsxs("div",{style:{display:"flex",gap:"10px"},children:[l.jsx("button",{onClick:()=>Hl(null),style:{flex:"1",padding:"14px",background:"#95a5a6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Cancel"}),l.jsx("button",{onClick:()=>Gy(yi),style:{flex:"1",padding:"14px",background:"#e67e22",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Yes, Clear Week Data"})]})]})}),me()&&o&&l.jsx(Ek,{currentWeek:a,games:we.games,actualScores:g,teamCodes:S,onScoresFetched:kd,onGameLockToggle:qy,gameLocks:de,espnAutoRefresh:Lt}),me()&&o&&l.jsx("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"20px",borderRadius:"8px",marginBottom:"20px",boxShadow:"0 4px 15px rgba(102, 126, 234, 0.4)"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[l.jsxs("div",{children:[l.jsxs("h3",{style:{margin:"0 0 8px 0",display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx("span",{children:""}),l.jsx("span",{children:"POOL MANAGER RNG - Quick Test Data"})]}),l.jsx("p",{style:{margin:0,fontSize:"0.9rem",opacity:.9},children:"Auto-populate teams, scores, and mark games as FINAL for testing"})]}),l.jsx("button",{onClick:s0,style:{padding:"12px 24px",background:"white",color:"#667eea",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"1rem",fontWeight:"700",boxShadow:"0 4px 12px rgba(0,0,0,0.2)",transition:"all 0.3s ease",whiteSpace:"nowrap"},onMouseOver:d=>{d.target.style.transform="translateY(-2px)",d.target.style.boxShadow="0 6px 16px rgba(0,0,0,0.3)"},onMouseOut:d=>{d.target.style.transform="translateY(0)",d.target.style.boxShadow="0 4px 12px rgba(0,0,0,0.2)"},children:" Generate Test Data"})]})}),me()&&o&&l.jsxs("div",{style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"white",padding:"15px 20px",borderRadius:"8px",marginBottom:"20px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[l.jsxs("h3",{style:{margin:"0 0 15px 0",display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx("span",{children:""}),l.jsx("span",{children:"ALL PLAYER CODES"})]}),l.jsx("div",{style:{background:"rgba(255,255,255,0.95)",padding:"15px",borderRadius:"6px",maxHeight:"300px",overflowY:"auto"},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.9rem"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{background:"#f8f9fa",borderBottom:"2px solid #dee2e6"},children:[l.jsx("th",{style:{padding:"10px",textAlign:"left",color:"#495057",fontWeight:"600"},children:"Player Code"}),l.jsx("th",{style:{padding:"10px",textAlign:"left",color:"#495057",fontWeight:"600"},children:"Player Name"}),l.jsx("th",{style:{padding:"10px",textAlign:"center",color:"#495057",fontWeight:"600"},children:"Role"})]})}),l.jsx("tbody",{children:Object.entries(Se).sort((d,y)=>{const v=yn.includes(d[0]),w=yn.includes(y[0]);return v&&!w?-1:!v&&w?1:d[1].localeCompare(y[1])}).map(([d,y],v)=>{const w=yn.includes(d);return l.jsxs("tr",{style:{background:v%2===0?"#ffffff":"#f8f9fa",borderBottom:"1px solid #dee2e6"},children:[l.jsx("td",{style:{padding:"10px",color:"#212529",fontFamily:"monospace",fontWeight:"bold",fontSize:"1rem"},children:d}),l.jsx("td",{style:{padding:"10px",color:"#212529"},children:y}),l.jsx("td",{style:{padding:"10px",textAlign:"center"},children:w?l.jsx("span",{style:{padding:"4px 8px",background:"#dc3545",color:"white",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"600"},children:" MANAGER"}):l.jsx("span",{style:{padding:"4px 8px",background:"#28a745",color:"white",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"600"},children:" PLAYER"})})]},d)})})]})}),l.jsxs("p",{style:{fontSize:"0.8rem",marginTop:"12px",marginBottom:"0",opacity:.9},children:[" Total Players: ",Object.keys(Se).length," | Pool Managers: ",yn.length," | Regular Players: ",Object.keys(Se).length-yn.length]})]}),o&&l.jsx(Dk,{currentWeek:a,onWeekChange:l0,weekPicks:Oy,weekLockStatus:B,hasUnsavedChanges:F,isPoolManager:me()}),o&&l.jsxs("div",{className:"view-navigation",children:[l.jsxs("button",{className:`nav-btn ${t==="picks"?"active":""}`,onClick:()=>e("picks"),children:[" Make Picks",t==="picks"&&l.jsx("span",{style:{marginLeft:"8px",fontSize:"0.75rem",opacity:.9,fontStyle:"italic"},children:"(you are here)"})]}),l.jsxs("button",{className:`nav-btn ${t==="standings"?"active":""}`,onClick:()=>e("standings"),children:[" Standings & Prizes",t==="standings"&&l.jsx("span",{style:{marginLeft:"8px",fontSize:"0.75rem",opacity:.9,fontStyle:"italic"},children:"(you are here)"})]}),me()&&l.jsxs("button",{className:`nav-btn ${t==="loginLogs"?"active":""}`,onClick:()=>e("loginLogs"),children:[" Login Logs",l.jsx("span",{style:{marginLeft:"8px",fontSize:"0.7rem",padding:"2px 6px",background:"#667eea",color:"white",borderRadius:"10px",fontWeight:"500"},children:"Pool Manager"}),t==="loginLogs"&&l.jsx("span",{style:{marginLeft:"8px",fontSize:"0.75rem",opacity:.9,fontStyle:"italic"},children:"(you are here)"})]})]}),t==="standings"&&o?l.jsx(Ck,{allPicks:f,actualScores:g,currentWeek:a,playerName:n,playerCode:i,isPoolManager:me(),prizePool:Le,officialWinners:Ws,onLogout:jd}):t==="loginLogs"&&o?l.jsx(Hk,{isPoolManager:me(),playerCodes:Se}):l.jsxs(l.Fragment,{children:[o?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"player-confirmed",children:[l.jsx("span",{className:"confirmation-badge",children:" VERIFIED"}),l.jsxs("h3",{children:["Welcome, ",l.jsx("span",{className:"player-name-highlight",children:n}),"!",me()&&l.jsx("span",{style:{marginLeft:"10px",color:"#d63031"},children:" POOL MANAGER"})]}),l.jsxs("p",{style:{color:"#000"},children:["Making picks for: ",l.jsx("strong",{children:we.name})]}),zt(a)&&!me()&&l.jsx("div",{style:{marginTop:"10px",padding:"10px 15px",background:"#fff3cd",border:"2px solid #ffc107",borderRadius:"6px",color:"#856404",fontWeight:"600"},children:" This week is LOCKED - You can view your picks but cannot edit them"}),l.jsx("button",{className:"validate-btn",style:{marginTop:"15px",padding:"10px 20px",fontSize:"0.9rem"},onClick:jd,children:" Logout / Switch Entry"}),l.jsx("p",{style:{fontSize:"0.85rem",color:"#666",marginTop:"10px",fontStyle:"italic"},children:" Playing with multiple entries? Logout to switch between your codes."})]}),!wi()&&l.jsx("div",{className:"closed-warning",children:" PICKS ARE LOCKED (Playoff Weekend: Friday 11:59 PM - Monday 12:01 AM PST)"}),l.jsxs("div",{className:"prediction-form",children:[_r==="manual"?l.jsxs("h2",{style:{color:"#e74c3c"},children:[" OVERRIDE MODE: Entering Picks for ",Se[oe]]}):l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"15px",gap:"15px"},children:[l.jsx("h2",{style:{margin:0,flex:"1"},children:"Enter Your Predictions"}),!zt(a)&&l.jsx("button",{type:"button",onClick:Xy,style:{padding:"10px 20px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"0.95rem",fontWeight:"600",boxShadow:"0 4px 15px rgba(102, 126, 234, 0.4)",transition:"all 0.3s ease"},onMouseOver:d=>{d.target.style.transform="translateY(-2px)",d.target.style.boxShadow="0 6px 20px rgba(102, 126, 234, 0.6)"},onMouseOut:d=>{d.target.style.transform="translateY(0)",d.target.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)"},children:" Quick RNG Pick - Auto-fill all games"})]}),l.jsxs("div",{className:"progress-indicator",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[l.jsx("strong",{children:"Progress:"}),l.jsxs("span",{children:[Object.keys(h).filter(d=>h[d]&&h[d].team1&&h[d].team2).length," of ",we.games.length," games completed"]})]}),l.jsx("div",{className:"progress-bar",children:l.jsxs("div",{className:"progress-fill",style:{width:`${Object.keys(h).filter(d=>h[d]&&h[d].team1&&h[d].team2).length/we.games.length*100}%`},children:[Math.round(Object.keys(h).filter(d=>h[d]&&h[d].team1&&h[d].team2).length/we.games.length*100),"%"]})})]}),l.jsxs("form",{onSubmit:_r==="manual"?$y:Rd,children:[we.games.map(d=>{var y,v,w,N,b,C;return l.jsxs("div",{className:"game-prediction",children:[l.jsxs("h3",{children:["Game ",d.id,": ",d.team1," @ ",d.team2,((y=S[a])==null?void 0:y[d.id])&&l.jsxs("span",{style:{fontSize:"0.9rem",color:"#666",marginLeft:"10px"},children:["(",S[a][d.id].team1||"?"," @ ",S[a][d.id].team2||"?",")"]})]}),((v=g[a])==null?void 0:v[d.id])&&l.jsxs("div",{style:{padding:"10px 15px",background:"#ffffff",border:"3px solid #4caf50",borderRadius:"6px",marginBottom:"12px",fontSize:"1rem"},children:[l.jsx("strong",{style:{color:"#000",fontSize:"1.05rem"},children:"Actual Score:"})," ",l.jsxs("span",{style:{color:"#000",fontWeight:"700",fontSize:"1.1rem"},children:[g[a][d.id].team1||"-"," - ",g[a][d.id].team2||"-"]}),((w=T[a])==null?void 0:w[d.id])==="final"&&l.jsx("span",{style:{marginLeft:"10px",padding:"2px 8px",background:"#4caf50",color:"white",borderRadius:"4px",fontSize:"0.8rem",fontWeight:"bold"},children:" FINAL"}),((N=T[a])==null?void 0:N[d.id])==="live"&&l.jsx("span",{style:{marginLeft:"10px",padding:"2px 8px",background:"#ff9800",color:"white",borderRadius:"4px",fontSize:"0.8rem",fontWeight:"bold"},children:" LIVE"})]}),l.jsxs("div",{className:"score-inputs",children:[l.jsxs("div",{className:"team-score",children:[l.jsxs("label",{children:[l.jsx("span",{className:"team-designation",children:"AWAY TEAM"}),l.jsx("span",{className:"team-name-label",style:{color:"#ffffff",fontWeight:"700"},children:d.team1})]}),l.jsx("input",{type:"number",min:"0",max:"99",value:((b=h[d.id])==null?void 0:b.team1)||"",onChange:A=>Cd(d.id,"team1",A.target.value),placeholder:"0",required:!0,disabled:zt(a)},`${d.id}-team1-${n}`)]}),l.jsx("div",{className:"vs",children:"VS"}),l.jsxs("div",{className:"team-score",children:[l.jsxs("label",{children:[l.jsx("span",{className:"team-designation",children:"HOME TEAM"}),l.jsx("span",{className:"team-name-label",style:{color:"#ffffff",fontWeight:"700"},children:d.team2})]}),l.jsx("input",{type:"number",min:"0",max:"99",value:((C=h[d.id])==null?void 0:C.team2)||"",onChange:A=>Cd(d.id,"team2",A.target.value),placeholder:"0",required:!0,disabled:zt(a)},`${d.id}-team2-${n}`)]})]})]},d.id)}),l.jsxs("div",{style:{display:"flex",gap:"15px",marginTop:"20px"},children:[l.jsx("button",{type:"submit",className:"submit-btn",disabled:_r==="manual"?!1:!wi()||zt(a),style:_r==="manual"?{background:"#e74c3c",fontSize:"1.1rem",fontWeight:"700",flex:"1"}:{flex:"1"},children:_r==="manual"?` Submit for ${Se[oe]}`:zt(a)&&!me()?" Week Locked - Cannot Edit Picks":wi()?" Submit / Update My Picks":" Submissions Locked (Playoff Weekend)"}),!zt(a)&&_r!=="manual"&&l.jsx("button",{type:"button",onClick:o0,style:{padding:"15px 30px",background:"#6c757d",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"1.1rem",fontWeight:"600",transition:"all 0.3s ease",flex:"0 0 auto",minWidth:"150px"},onMouseOver:d=>{d.target.style.background="#5a6268"},onMouseOut:d=>{d.target.style.background="#6c757d"},children:" Cancel"})]}),wi()&&!zt(a)&&l.jsx("p",{style:{textAlign:"center",marginTop:"15px",color:"#666",fontSize:"0.9rem"},children:"You can edit and resubmit your picks as many times as you want until Friday 11:59 PM PST (before game weekends)"})]})]})]}):l.jsx("div",{className:"prediction-form",children:l.jsxs("div",{className:"code-entry-section",children:[l.jsx("h3",{children:" Enter Your Player Code"}),l.jsx("p",{style:{marginBottom:"20px",color:"#666"},children:"You received a 6-character code when you paid your $20 entry fee."}),l.jsx("p",{style:{marginBottom:"20px",color:"#666",fontSize:"0.9rem",fontStyle:"italic"},children:" Have multiple entries? Enter one code at a time."}),l.jsxs("div",{className:"code-input-group",children:[l.jsx("label",{htmlFor:"playerCode",children:"Player Code (6 characters)"}),l.jsx("input",{type:"text",id:"playerCode",className:"code-input",value:i,onChange:d=>s(d.target.value.toUpperCase()),placeholder:"A7K9M2",maxLength:"6",autoComplete:"off",onKeyPress:d=>{d.key==="Enter"&&Id()}}),l.jsx("button",{className:"validate-btn",onClick:Id,children:"Validate Code & Continue"}),l.jsxs("div",{style:{marginTop:"20px",padding:"15px",background:"#fff3cd",border:"2px solid #ffc107",borderRadius:"8px",textAlign:"left"},children:[l.jsx("h4",{style:{margin:"0 0 10px 0",color:"#856404"},children:" Entry Fee Payment"}),l.jsxs("p",{style:{margin:"5px 0",fontSize:"0.9rem",color:"#856404"},children:[l.jsx("strong",{children:"Cost:"})," $20 per entry"]}),l.jsxs("p",{style:{margin:"5px 0",fontSize:"0.9rem",color:"#856404"},children:[l.jsx("strong",{children:"Send e-Transfer to:"})," gammoneer2b@gmail.com"]}),l.jsxs("p",{style:{margin:"5px 0",fontSize:"0.9rem",color:"#856404"},children:[l.jsx("strong",{children:"Password:"})," nflpool"]}),l.jsx("p",{style:{margin:"10px 0 5px 0",fontSize:"0.85rem",color:"#856404",fontStyle:"italic"},children:"You will receive your player code after payment is confirmed."})]}),l.jsx("p",{style:{marginTop:"15px",fontSize:"0.9rem",color:"#666",textAlign:"center"},children:"Questions? Contact: gammoneer2b@gmail.com"})]})]})}),l.jsxs("div",{className:"all-picks",children:[l.jsxs("h2",{children:["All Player Picks - ",we.name,l.jsx("button",{onClick:a0,style:{marginLeft:"15px",padding:"8px 16px",background:"#4caf50",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Download CSV"}),l.jsx("div",{style:{fontSize:"0.75rem",color:"#666",marginTop:"5px",fontStyle:"italic"},children:" Mobile: Open the DOWNLOADABLE CSV file with Google Sheets (free app) or MS Office EXCEL"}),l.jsx("button",{onClick:()=>window.location.reload(),style:{marginLeft:"10px",padding:"8px 16px",background:"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Refresh Picks Table"})]}),f.filter(d=>d.week===a).length===0?l.jsx("p",{className:"no-picks",children:"No picks submitted yet for this week."}):l.jsx("div",{className:"picks-table-container",children:l.jsxs("table",{className:"picks-table",children:[l.jsxs("thead",{children:[l.jsxs("tr",{children:[l.jsx("th",{rowSpan:"2",children:"Player"}),we.games.map(d=>{var y,v,w,N,b;return l.jsxs("th",{colSpan:"2",children:["Game ",d.id,l.jsx("br",{}),l.jsxs("small",{style:{color:"#ffffff",fontWeight:"700"},children:[d.team1," @ ",d.team2]}),me()&&l.jsxs("div",{style:{marginTop:"5px",display:"flex",gap:"5px",justifyContent:"center",alignItems:"center"},children:[l.jsx("input",{type:"text",maxLength:"3",value:((v=(y=S[a])==null?void 0:y[d.id])==null?void 0:v.team1)||"",onChange:C=>Ed(d.id,"team1",C.target.value),placeholder:"PIT",style:{width:"45px",padding:"4px",textAlign:"center",fontSize:"0.8rem",fontWeight:"bold",border:"2px solid #667eea",borderRadius:"4px"}}),l.jsx("span",{style:{fontSize:"0.8rem"},children:"@"}),l.jsx("input",{type:"text",maxLength:"3",value:((N=(w=S[a])==null?void 0:w[d.id])==null?void 0:N.team2)||"",onChange:C=>Ed(d.id,"team2",C.target.value),placeholder:"BUF",style:{width:"45px",padding:"4px",textAlign:"center",fontSize:"0.8rem",fontWeight:"bold",border:"2px solid #667eea",borderRadius:"4px"}})]}),!me()&&((b=S[a])==null?void 0:b[d.id])&&l.jsxs("div",{style:{fontSize:"0.8rem",color:"#ffffff",fontWeight:"700",marginTop:"3px"},children:[S[a][d.id].team1||"?"," @ ",S[a][d.id].team2||"?"]})]},d.id)}),l.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#e8f5e9",fontWeight:"bold",color:"#2e7d32",minWidth:"60px",fontSize:"0.75rem",padding:"8px 4px"},children:[l.jsx("div",{style:{marginBottom:"2px"},children:"Correct"}),l.jsx("div",{children:"Picks"})]}),a==="superbowl"?l.jsxs(l.Fragment,{children:[l.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#fff3cd",fontWeight:"bold",color:"#000"},children:[me()?l.jsxs("div",{style:{marginBottom:"8px"},children:[l.jsxs("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"},children:["OFFICIAL ",I.superbowl_week4?"":"",I.superbowl_week4&&l.jsx("button",{onClick:()=>xi("superbowl_week4"),title:"Return to auto-calculation",style:{padding:"2px 6px",fontSize:"0.65rem",background:"#e74c3c",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"},children:"Clear"})]}),l.jsx("input",{type:"number",min:"0",value:pn("superbowl_week4","superbowl"),onChange:d=>Sr("superbowl_week4",d.target.value),placeholder:"Auto",title:I.superbowl_week4?"Manually overridden - click Clear to return to auto":"Auto-calculated - click to override",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:I.superbowl_week4?"2px solid #e74c3c":"2px solid #27ae60",borderRadius:"4px",color:"#000",backgroundColor:I.superbowl_week4?"#ffe5e5":"#e8f8f5"}})]}):l.jsxs("div",{style:{marginBottom:"8px"},children:[l.jsxs("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:["Official ",I.superbowl_week4?"":""]}),l.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:pn("superbowl_week4","superbowl")||"-"})]}),"Week 4",l.jsx("br",{}),"Total"]}),l.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#d1ecf1",fontWeight:"bold",color:"#000"},children:[me()?l.jsxs("div",{style:{marginBottom:"8px"},children:[l.jsxs("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"},children:["OFFICIAL ",I.superbowl_week3?"":"",I.superbowl_week3&&l.jsx("button",{onClick:()=>xi("superbowl_week3"),title:"Return to auto-calculation",style:{padding:"2px 6px",fontSize:"0.65rem",background:"#e74c3c",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"},children:"Clear"})]}),l.jsx("input",{type:"number",min:"0",value:pn("superbowl_week3","conference"),onChange:d=>Sr("superbowl_week3",d.target.value),placeholder:"Auto",title:I.superbowl_week3?"Manually overridden - click Clear to return to auto":"Auto-calculated - click to override",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:I.superbowl_week3?"2px solid #e74c3c":"2px solid #27ae60",borderRadius:"4px",color:"#000",backgroundColor:I.superbowl_week3?"#ffe5e5":"#e8f8f5"}})]}):l.jsxs("div",{style:{marginBottom:"8px"},children:[l.jsxs("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:["Official ",I.superbowl_week3?"":""]}),l.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:pn("superbowl_week3","conference")||"-"})]}),"Week 3",l.jsx("br",{}),"Total"]}),l.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#d4edda",fontWeight:"bold",color:"#000"},children:[me()?l.jsxs("div",{style:{marginBottom:"8px"},children:[l.jsxs("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"},children:["OFFICIAL ",I.superbowl_week2?"":"",I.superbowl_week2&&l.jsx("button",{onClick:()=>xi("superbowl_week2"),title:"Return to auto-calculation",style:{padding:"2px 6px",fontSize:"0.65rem",background:"#e74c3c",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"},children:"Clear"})]}),l.jsx("input",{type:"number",min:"0",value:pn("superbowl_week2","divisional"),onChange:d=>Sr("superbowl_week2",d.target.value),placeholder:"Auto",title:I.superbowl_week2?"Manually overridden - click Clear to return to auto":"Auto-calculated - click to override",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:I.superbowl_week2?"2px solid #e74c3c":"2px solid #27ae60",borderRadius:"4px",color:"#000",backgroundColor:I.superbowl_week2?"#ffe5e5":"#e8f8f5"}})]}):l.jsxs("div",{style:{marginBottom:"8px"},children:[l.jsxs("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:["Official ",I.superbowl_week2?"":""]}),l.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:pn("superbowl_week2","divisional")||"-"})]}),"Week 2",l.jsx("br",{}),"Total"]}),l.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#f8d7da",fontWeight:"bold",color:"#000"},children:[me()?l.jsxs("div",{style:{marginBottom:"8px"},children:[l.jsxs("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"},children:["OFFICIAL ",I.superbowl_week1?"":"",I.superbowl_week1&&l.jsx("button",{onClick:()=>xi("superbowl_week1"),title:"Return to auto-calculation",style:{padding:"2px 6px",fontSize:"0.65rem",background:"#e74c3c",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"},children:"Clear"})]}),l.jsx("input",{type:"number",min:"0",value:pn("superbowl_week1","wildcard"),onChange:d=>Sr("superbowl_week1",d.target.value),placeholder:"Auto",title:I.superbowl_week1?"Manually overridden - click Clear to return to auto":"Auto-calculated - click to override",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:I.superbowl_week1?"2px solid #e74c3c":"2px solid #27ae60",borderRadius:"4px",color:"#000",backgroundColor:I.superbowl_week1?"#ffe5e5":"#e8f8f5"}})]}):l.jsxs("div",{style:{marginBottom:"8px"},children:[l.jsxs("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:["Official ",I.superbowl_week1?"":""]}),l.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:pn("superbowl_week1","wildcard")||"-"})]}),"Week 1",l.jsx("br",{}),"Total"]}),l.jsxs("th",{rowSpan:"2",className:"grand-total",children:[me()?l.jsxs("div",{style:{marginBottom:"8px"},children:[l.jsxs("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"},children:[I.superbowl_grand?"":""," over",I.superbowl_grand&&l.jsx("button",{onClick:()=>xi("superbowl_grand"),title:"Return to auto-calculation",style:{padding:"2px 6px",fontSize:"0.65rem",background:"#e74c3c",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"},children:"Clear"})]}),l.jsx("input",{type:"number",min:"0",value:Pd(),onChange:d=>Sr("superbowl_grand",d.target.value),placeholder:"Auto",title:I.superbowl_grand?"Manually overridden - click Clear to return to auto":"Auto-calculated - click to override",style:{width:"70px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:I.superbowl_grand?"3px solid #e74c3c":"3px solid #27ae60",borderRadius:"4px",backgroundColor:I.superbowl_grand?"#ffe5e5":"#e8f8f5",color:"#000"}})]}):l.jsxs("div",{style:{marginBottom:"8px"},children:[l.jsxs("div",{style:{fontSize:"0.7rem",color:"#fff",marginBottom:"2px"},children:[I.superbowl_grand?" ":" ","Official"]}),l.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"#fff"},children:Pd()||"-"})]}),"GRAND",l.jsx("br",{}),"TOTAL"]})]}):l.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#f8f9fa",fontWeight:"bold",color:"#000"},children:[!P[a]&&(()=>{const d=we.games.reduce((y,v)=>{var b,C,A,L;const w=parseInt((C=(b=g[a])==null?void 0:b[v.id])==null?void 0:C.team1)||0,N=parseInt((L=(A=g[a])==null?void 0:A[v.id])==null?void 0:L.team2)||0;return y+w+N},0);return l.jsxs("div",{style:{fontSize:"0.85rem",color:"#16a085",marginBottom:"6px",fontWeight:"700"},children:["Total: ",d>0?d:"-"]})})(),me()?l.jsx("div",{style:{marginBottom:"8px"},children:l.jsx("input",{type:"number",min:"0",value:P[a]||"",onChange:d=>Sr(a,d.target.value),placeholder:"override",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"0.9rem",fontWeight:"bold",border:"2px solid #f39c12",borderRadius:"4px",color:"#000"}})}):null,P[a]&&l.jsxs("div",{style:{marginBottom:"8px"},children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:"Official"}),l.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:P[a]})]}),"Official",l.jsx("br",{}),"Total"]}),l.jsx("th",{rowSpan:"2",children:"Submitted"})]}),l.jsx("tr",{style:{background:"#ffffff",borderTop:"3px solid #4caf50",borderBottom:"3px solid #4caf50"},children:we.games.map(d=>{var y,v,w,N,b,C,A,L,$,W,H;return l.jsxs(Ia.Fragment,{children:[l.jsx("th",{style:{padding:"8px 4px",background:"#ffffff",borderLeft:"1px solid #ddd"},children:me()?l.jsxs("div",{children:[l.jsx("input",{type:"number",min:"0",max:"99",value:((v=(y=g[a])==null?void 0:y[d.id])==null?void 0:v.team1)||"",onChange:Q=>Nd(d.id,"team1",Q.target.value),placeholder:"-",style:{width:"50px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #4caf50",borderRadius:"4px",color:"#000",background:"#f0fff0"}}),l.jsx("div",{style:{fontSize:"0.75rem",marginTop:"3px",color:"#000",fontWeight:"700"},children:"ACTUAL"})]}):l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#000"},children:((N=(w=g[a])==null?void 0:w[d.id])==null?void 0:N.team1)||"-"}),l.jsx("div",{style:{fontSize:"0.75rem",color:"#000",fontWeight:"700"},children:"ACTUAL"})]})}),l.jsx("th",{style:{padding:"8px 4px",background:"#ffffff",borderRight:"1px solid #ddd"},children:me()?l.jsxs("div",{children:[l.jsx("input",{type:"number",min:"0",max:"99",value:((C=(b=g[a])==null?void 0:b[d.id])==null?void 0:C.team2)||"",onChange:Q=>Nd(d.id,"team2",Q.target.value),placeholder:"-",style:{width:"50px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #4caf50",borderRadius:"4px",color:"#000",background:"#f0fff0"}}),l.jsx("div",{style:{fontSize:"0.75rem",marginTop:"3px",color:"#000",fontWeight:"700"},children:"ACTUAL"}),l.jsxs("select",{value:((A=T[a])==null?void 0:A[d.id])||"",onChange:Q=>Jy(d.id,Q.target.value),style:{width:"60px",padding:"2px",fontSize:"0.7rem",marginTop:"4px",borderRadius:"3px",border:"1px solid #999"},children:[l.jsx("option",{value:"",children:"--"}),l.jsx("option",{value:"live",children:" LIVE"}),l.jsx("option",{value:"final",children:" FINAL"})]})]}):l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#000"},children:(($=(L=g[a])==null?void 0:L[d.id])==null?void 0:$.team2)||"-"}),l.jsx("div",{style:{fontSize:"0.75rem",color:"#000",fontWeight:"700"},children:"ACTUAL"}),((W=T[a])==null?void 0:W[d.id])==="final"&&l.jsx("div",{style:{display:"inline-block",padding:"2px 6px",background:"#4caf50",color:"white",borderRadius:"3px",fontSize:"0.65rem",fontWeight:"bold",marginTop:"4px"},children:" FINAL"}),((H=T[a])==null?void 0:H[d.id])==="live"&&l.jsx("div",{style:{display:"inline-block",padding:"2px 6px",background:"#ff9800",color:"white",borderRadius:"3px",fontSize:"0.65rem",fontWeight:"bold",marginTop:"4px"},children:" LIVE"})]})})]},`actual-${d.id}`)})})]}),l.jsx("tbody",{children:(a==="superbowl"?(()=>{const y=new Map;return f.forEach(v=>{if(!y.has(v.playerCode)){const w=f.find(N=>N.playerCode===v.playerCode&&N.week==="superbowl");y.set(v.playerCode,w||{playerName:v.playerName,playerCode:v.playerCode,week:"superbowl",predictions:{},timestamp:v.timestamp,lastUpdated:v.lastUpdated||v.timestamp})}}),Array.from(y.values())})():f.filter(y=>y.week===a)).sort((y,v)=>(v.lastUpdated||v.timestamp)-(y.lastUpdated||y.timestamp)).map((y,v)=>{var N;const w=b=>{var ie;const C=(ie=g[a])==null?void 0:ie[b],A=y.predictions[b];if(!C||!A)return!1;const L=parseInt(C.team1),$=parseInt(C.team2),W=parseInt(A.team1),H=parseInt(A.team2);if(isNaN(L)||isNaN($))return!1;const Q=L>$?"team1":$>L?"team2":"tie",q=W>H?"team1":H>W?"team2":"tie";return Q===q&&Q!=="tie"};return l.jsxs("tr",{children:[l.jsx("td",{className:"player-name",children:y.playerName}),we.games.map(b=>{var H,Q,q,ie;const C=y.predictions[b.id],A=(H=g[a])==null?void 0:H[b.id],L=(Q=T[a])==null?void 0:Q[b.id],$=wd(C==null?void 0:C.team1,C==null?void 0:C.team2,A==null?void 0:A.team1,A==null?void 0:A.team2,L,!0),W=wd(C==null?void 0:C.team1,C==null?void 0:C.team2,A==null?void 0:A.team1,A==null?void 0:A.team2,L,!1);return l.jsxs(Ia.Fragment,{children:[l.jsx("td",{className:"score",style:{background:$.background,color:$.color,fontWeight:$.background!=="transparent"?"bold":"normal"},children:((q=y.predictions[b.id])==null?void 0:q.team1)||"-"}),l.jsx("td",{className:"score",style:{background:W.background,color:W.color,fontWeight:W.background!=="transparent"?"bold":"normal"},children:((ie=y.predictions[b.id])==null?void 0:ie.team2)||"-"})]},`${v}-${b.id}`)}),(()=>{let b=0;return we.games.forEach(C=>{w(C.id)&&b++}),l.jsx("td",{style:{backgroundColor:"#f1f8f4",fontWeight:"bold",fontSize:"1rem",color:b>0?"#2e7d32":"#999",textAlign:"center",padding:"8px 4px"},children:b})})(),a==="superbowl"?l.jsx(l.Fragment,{children:(()=>{const b=Vs(y.playerCode,"superbowl"),C=Vs(y.playerCode,"conference"),A=Vs(y.playerCode,"divisional"),L=Vs(y.playerCode,"wildcard"),$=r0(y.playerCode);return l.jsxs(l.Fragment,{children:[l.jsx("td",{style:{backgroundColor:"#fff3cd",fontWeight:"bold",fontSize:b.fontSize},title:b.tooltip,children:l.jsx("span",{style:{color:"#000"},children:b.display})}),l.jsx("td",{style:{backgroundColor:"#d1ecf1",fontWeight:"bold",fontSize:C.fontSize},title:C.tooltip,children:l.jsx("span",{style:{color:"#000"},children:C.display})}),l.jsx("td",{style:{backgroundColor:"#d4edda",fontWeight:"bold",fontSize:A.fontSize},title:A.tooltip,children:l.jsx("span",{style:{color:"#000"},children:A.display})}),l.jsx("td",{style:{backgroundColor:"#f8d7da",fontWeight:"bold",fontSize:L.fontSize},title:L.tooltip,children:l.jsx("span",{style:{color:"#000"},children:L.display})}),l.jsx("td",{className:"grand-total",style:{fontSize:$.fontSize},title:$.tooltip,children:$.display})]})})()}):l.jsx("td",{style:{backgroundColor:"#f8f9fa",fontWeight:"bold",fontSize:"16px"},children:l.jsx("span",{style:{color:"#000"},children:((N=c0[y.playerName])==null?void 0:N.current)||0})}),l.jsx("td",{className:"timestamp",children:new Date(y.lastUpdated||y.timestamp).toLocaleString("en-US",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})})]},v)})})]})}),o&&l.jsxs(l.Fragment,{children:[a==="superbowl"&&l.jsxs("div",{style:{marginTop:"40px",marginBottom:"40px",padding:"30px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"12px",border:"3px solid #5a67d8",boxShadow:"0 8px 20px rgba(0,0,0,0.15)"},children:[l.jsx("h3",{style:{color:"#fff",marginBottom:"20px",fontSize:"1.4rem",display:"flex",alignItems:"center",gap:"10px"},children:" Format Guide - How to Read the Totals"}),l.jsxs("div",{style:{background:"rgba(255,255,255,0.95)",padding:"25px",borderRadius:"10px",color:"#333"},children:[l.jsxs("div",{style:{marginBottom:"25px"},children:[l.jsx("p",{style:{fontWeight:"bold",color:"#5a67d8",marginBottom:"12px",fontSize:"1.1rem"},children:"Grand Total Format:"}),l.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0,lineHeight:"2.2"},children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Complete Entry:"})," ",l.jsx("code",{style:{background:"#f0f4f8",padding:"4px 10px",borderRadius:"5px",fontWeight:"bold",color:"#2d3748"},children:"784"})," - All 4 weeks entered"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"During Season:"})," ",l.jsx("code",{style:{background:"#f0f4f8",padding:"4px 10px",borderRadius:"5px",fontWeight:"bold",color:"#2d3748"},children:"784/598/35"})," - Full Pred / Played Weeks / Difference"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"After Season:"})," ",l.jsx("code",{style:{background:"#f0f4f8",padding:"4px 10px",borderRadius:"5px",fontWeight:"bold",color:"#2d3748"},children:"784/55"})," - Full Pred / Total Difference"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Abnormal Pattern:"})," ",l.jsx("code",{style:{background:"#fff3cd",padding:"4px 10px",borderRadius:"5px",fontWeight:"bold",color:"#856404",border:"2px solid #ffc107"},children:"P13/415"})," - P = Partial (weeks 1 & 3 only - unusual!)"]})]})]}),l.jsxs("div",{style:{marginBottom:"25px"},children:[l.jsx("p",{style:{fontWeight:"bold",color:"#5a67d8",marginBottom:"12px",fontSize:"1.1rem"},children:"Special Indicators:"}),l.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0,lineHeight:"2.2"},children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Asterisk (*):"})," ",l.jsx("code",{style:{background:"#f0f4f8",padding:"4px 10px",borderRadius:"5px",fontWeight:"bold",color:"#2d3748"},children:"234*"})," - Pick filled by RNG/Pool Manager"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"P Notation:"})," Shows which weeks entered when pattern is unusual (e.g., P13 = weeks 1 & 3, skipped 2)"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Dash (-):"})," Week not entered yet"]})]})]}),l.jsxs("div",{style:{marginBottom:"15px"},children:[l.jsx("p",{style:{fontWeight:"bold",color:"#5a67d8",marginBottom:"12px",fontSize:"1.1rem"},children:"Examples:"}),l.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0,lineHeight:"2.2"},children:[l.jsxs("li",{children:["Richard: ",l.jsx("code",{style:{background:"#f0f4f8",padding:"4px 10px",borderRadius:"5px",fontWeight:"bold"},children:"784"})," - Entered all 4 weeks normally"]}),l.jsxs("li",{children:["Neema: ",l.jsx("code",{style:{background:"#f0f4f8",padding:"4px 10px",borderRadius:"5px",fontWeight:"bold"},children:"533/287/22"})," - 2 weeks played so far, 22 points off"]}),l.jsxs("li",{children:["Bob: ",l.jsx("code",{style:{background:"#fff3cd",padding:"4px 10px",borderRadius:"5px",fontWeight:"bold",border:"2px solid #ffc107"},children:"P13/415"})," - Entered weeks 1 & 3 only (skipped 2) - unusual!"]}),l.jsxs("li",{children:["After RNG fills Bob's week 2: ",l.jsx("code",{style:{background:"#f0f4f8",padding:"4px 10px",borderRadius:"5px",fontWeight:"bold"},children:"649"})," - P notation drops (normalized)"]})]})]}),l.jsx("div",{style:{paddingTop:"20px",borderTop:"2px solid #cbd5e0",marginTop:"15px"},children:l.jsxs("p",{style:{color:"#4a5568",fontStyle:"italic",fontSize:"1rem",margin:0},children:[" ",l.jsx("strong",{children:"Tip:"})," Hover over any number for detailed breakdown! The P notation only appears for unusual entry patterns and disappears once normalized."]})})]})]}),l.jsx("div",{style:{marginTop:"60px"},children:l.jsx(Gk,{allPicks:f,actualScores:g,games:je,officialWinners:Ws,weekData:je})})]}),o&&me()&&l.jsxs("div",{style:{marginTop:"40px",marginBottom:"40px"},children:[l.jsxs("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"25px",borderRadius:"12px",marginBottom:"30px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[l.jsxs("h2",{style:{margin:"0 0 15px 0",display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx("span",{children:""}),l.jsx("span",{children:"PRIZE POOL MANAGEMENT"})]}),Le.totalFees>0?l.jsxs("div",{children:[l.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:"20px",borderRadius:"8px",marginBottom:"15px"},children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"20px",marginBottom:"15px"},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.85rem",opacity:.9},children:"Total Pool Fees"}),l.jsxs("div",{style:{fontSize:"1.8rem",fontWeight:"bold"},children:["$",Le.totalFees.toFixed(2)]})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.85rem",opacity:.9},children:"Number of Players"}),l.jsx("div",{style:{fontSize:"1.8rem",fontWeight:"bold"},children:Le.numberOfPlayers})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.85rem",opacity:.9},children:"Each Prize (10%)"}),l.jsxs("div",{style:{fontSize:"1.8rem",fontWeight:"bold"},children:["$",Le.prizeValue.toFixed(2)]})]})]}),l.jsxs("div",{style:{fontSize:"0.85rem",opacity:.8},children:["Entry Fee: $",Le.entryFee," per player"]})]}),l.jsx("button",{onClick:()=>Bs(!0),style:{padding:"10px 20px",background:"rgba(255,255,255,0.3)",color:"white",border:"2px solid white",borderRadius:"6px",cursor:"pointer",fontWeight:"600"},children:" Edit Prize Pool Setup"})]}):l.jsxs("div",{children:[l.jsx("p",{style:{marginBottom:"15px"},children:" Set up your prize pool to enable winner declarations."}),l.jsx("button",{onClick:()=>Bs(!0),style:{padding:"12px 24px",background:"white",color:"#667eea",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"700",fontSize:"1rem"},children:" Set Up Prize Pool"})]})]}),Le.totalFees>0&&l.jsxs("div",{style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"white",padding:"25px",borderRadius:"12px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[l.jsxs("h2",{style:{margin:"0 0 20px 0",display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx("span",{children:""}),l.jsx("span",{children:"DECLARE PRIZE WINNERS"})]}),l.jsx("button",{onClick:()=>Vl(!0),style:{padding:"14px 28px",background:"white",color:"#f5576c",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"700",fontSize:"1.1rem",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:" Declare Winner(s) for a Prize"}),Object.keys(Ws).length>0&&l.jsxs("div",{style:{marginTop:"25px"},children:[l.jsx("h3",{style:{marginBottom:"15px",fontSize:"1.1rem"},children:" Current Prize Winners:"}),l.jsx("div",{style:{background:"rgba(255,255,255,0.2)",padding:"15px",borderRadius:"8px",maxHeight:"400px",overflowY:"auto"},children:Object.entries(Ws).sort((d,y)=>{const v=d[1].prizeNumber,w=y[1].prizeNumber;return v-w}).map(([d,y])=>l.jsxs("div",{style:{background:"rgba(255,255,255,0.9)",color:"#333",padding:"15px",borderRadius:"6px",marginBottom:"12px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"10px"},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontWeight:"bold",fontSize:"1rem",marginBottom:"5px"},children:y.prizeName}),l.jsxs("div",{style:{fontSize:"0.9rem",color:"#666"},children:["Prize Value: $",y.prizeValue.toFixed(2)]})]}),l.jsx("button",{onClick:()=>Qy(y.prizeNumber),style:{padding:"6px 12px",background:"#e74c3c",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.85rem",fontWeight:"600"},children:" Delete"})]}),l.jsx("div",{style:{paddingLeft:"15px"},children:y.winners.map((v,w)=>l.jsxs("div",{style:{padding:"8px 0",borderBottom:w<y.winners.length-1?"1px solid #eee":"none"},children:[l.jsxs("span",{style:{fontWeight:"600"},children:[" ",v.playerName]}),l.jsxs("span",{style:{marginLeft:"15px",color:"#666"},children:[v.percentage.toFixed(2),"% = $",v.amount.toFixed(2)]})]},w))})]},d))})]})]})]}),Ay&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},children:l.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"30px",maxWidth:"600px",width:"100%",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 8px 32px rgba(0,0,0,0.3)"},children:[l.jsx("h2",{style:{marginTop:0,color:"#667eea"},children:" Prize Pool Setup"}),l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Total Pool Fees Collected:"}),l.jsx("input",{type:"number",id:"totalFees",defaultValue:Le.totalFees||"",placeholder:"1000",style:{width:"100%",padding:"12px",fontSize:"1.1rem",border:"2px solid #667eea",borderRadius:"6px"}}),l.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginTop:"5px"},children:"Total money collected from all players"})]}),l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Number of Players:"}),l.jsx("input",{type:"number",id:"numberOfPlayers",defaultValue:Le.numberOfPlayers||"",placeholder:"50",style:{width:"100%",padding:"12px",fontSize:"1.1rem",border:"2px solid #667eea",borderRadius:"6px"}}),l.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginTop:"5px"},children:"Total number of players in the pool"})]}),l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Entry Fee per Player:"}),l.jsx("input",{type:"number",id:"entryFee",defaultValue:Le.entryFee||20,placeholder:"20",style:{width:"100%",padding:"12px",fontSize:"1.1rem",border:"2px solid #667eea",borderRadius:"6px"}}),l.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginTop:"5px"},children:"Amount each player paid to enter ($20, $50, etc.)"})]}),l.jsxs("div",{style:{background:"#f0f8ff",padding:"15px",borderRadius:"8px",marginBottom:"20px"},children:[l.jsx("div",{style:{fontWeight:"600",marginBottom:"10px"},children:" Calculation Preview:"}),l.jsxs("div",{style:{fontSize:"0.9rem",lineHeight:"1.6"},children:["Each Prize = Total Pool  10",l.jsx("br",{}),l.jsx("span",{id:"prizePreview",style:{fontWeight:"bold",color:"#667eea"},children:"Example: $1,000  10 = $100 per prize"})]})]}),l.jsxs("div",{style:{display:"flex",gap:"10px"},children:[l.jsx("button",{onClick:()=>Bs(!1),style:{flex:"1",padding:"14px",background:"#95a5a6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Cancel"}),l.jsx("button",{onClick:()=>{const d=document.getElementById("totalFees").value,y=document.getElementById("numberOfPlayers").value,v=document.getElementById("entryFee").value;if(!d||d<=0){alert(" Please enter a valid total pool amount.");return}Hy(d,y,v)},style:{flex:"1",padding:"14px",background:"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Save Prize Pool"})]})]})}),Dy&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},children:l.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"30px",maxWidth:"700px",width:"100%",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 8px 32px rgba(0,0,0,0.3)"},children:[l.jsx("h2",{style:{marginTop:0,color:"#f5576c"},children:" Declare Prize Winner(s)"}),l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Select Prize:"}),l.jsxs("select",{value:Ct,onChange:d=>Bl(d.target.value),style:{width:"100%",padding:"12px",fontSize:"1rem",border:"2px solid #f5576c",borderRadius:"6px"},children:[l.jsx("option",{value:"",children:"-- Select Prize --"}),[1,2,3,4,5,6,7,8,9,10].map(d=>l.jsx("option",{value:d,children:vi(d)},d))]}),Ct&&l.jsxs("div",{style:{marginTop:"8px",fontSize:"0.9rem",color:"#666"},children:["Prize Value: $",Le.prizeValue.toFixed(2)," (10% of pool)"]})]}),Ct&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Number of Winners (Tie?):"}),l.jsx("input",{type:"number",min:"1",max:"10",value:vr,onChange:d=>{const y=parseInt(d.target.value)||1;$l(y),$s(Array(y).fill(null).map(()=>({name:"",code:""})));const v=Us(Le.prizeValue,y);di(v)},style:{width:"100%",padding:"12px",fontSize:"1rem",border:"2px solid #f5576c",borderRadius:"6px"}}),l.jsx("div",{style:{fontSize:"0.85rem",color:"#666",marginTop:"5px"},children:"How many players are tied? (1 = single winner, 2+ = tie)"})]}),l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("label",{style:{display:"block",marginBottom:"12px",fontWeight:"600"},children:"Select Winner(s):"}),Array(vr).fill(0).map((d,y)=>{var w,N,b;const v=hn?null:Us(Le.prizeValue,vr)[y];return l.jsxs("div",{style:{background:"#f8f9fa",padding:"15px",borderRadius:"8px",marginBottom:"12px"},children:[l.jsxs("div",{style:{marginBottom:"10px",fontWeight:"600"},children:["Winner ",y+1,":"]}),l.jsxs("select",{value:((w=yt[y])==null?void 0:w.code)||"",onChange:C=>{const A=Object.entries(Se).find(([$])=>$===C.target.value),L=[...yt];L[y]={code:C.target.value,name:A?A[1]:""},$s(L)},style:{width:"100%",padding:"10px",fontSize:"1rem",border:"1px solid #ddd",borderRadius:"6px",marginBottom:"8px"},children:[l.jsx("option",{value:"",children:"-- Select Player --"}),Object.entries(Se).sort((C,A)=>C[1].localeCompare(A[1])).map(([C,A])=>l.jsx("option",{value:C,children:A},C))]}),!hn&&v&&l.jsxs("div",{style:{fontSize:"0.9rem",color:"#666"},children:["Share: ",v.percentage.toFixed(2),"% = $",v.amount.toFixed(2),y===vr-1&&vr>1&&l.jsx("span",{style:{marginLeft:"10px",fontSize:"0.85rem",color:"#f5576c"},children:"(includes extra penny)"})]}),hn&&l.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"8px"},children:[l.jsx("input",{type:"number",placeholder:"%",step:"0.01",value:((N=Ft[y])==null?void 0:N.percentage)||"",onChange:C=>{const A=[...Ft],L=parseFloat(C.target.value)||0;A[y]={...A[y],percentage:L,amount:Le.prizeValue*L/100},di(A)},style:{flex:"1",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"}}),l.jsx("input",{type:"number",placeholder:"$",step:"0.01",value:((b=Ft[y])==null?void 0:b.amount)||"",onChange:C=>{const A=[...Ft],L=parseFloat(C.target.value)||0;A[y]={...A[y],amount:L,percentage:L/Le.prizeValue*100},di(A)},style:{flex:"1",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"}})]})]},y)})]}),l.jsx("div",{style:{marginBottom:"20px"},children:l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:hn,onChange:d=>Ul(d.target.checked),style:{width:"18px",height:"18px"}}),l.jsx("span",{style:{fontWeight:"600"},children:"Use custom percentages/amounts (manual override)"})]})}),l.jsxs("div",{style:{background:"#fff3cd",border:"2px solid #ffc107",padding:"15px",borderRadius:"8px",marginBottom:"20px",color:"#000"},children:[l.jsx("div",{style:{fontWeight:"700",marginBottom:"10px",color:"#000",fontSize:"1.05rem"},children:" Summary:"}),yt.every(d=>d.name)?l.jsxs("div",{style:{color:"#000"},children:[yt.map((d,y)=>{const v=hn?Ft[y]:Us(Le.prizeValue,vr)[y];return l.jsxs("div",{style:{marginBottom:"5px",color:"#000",fontWeight:"600"},children:[" ",d.name,": ",v==null?void 0:v.percentage.toFixed(2),"% = $",v==null?void 0:v.amount.toFixed(2)]},y)}),l.jsxs("div",{style:{marginTop:"10px",paddingTop:"10px",borderTop:"2px solid #856404",fontWeight:"700",color:"#000"},children:["Total: ",hn?Ft.reduce((d,y)=>d+(y.percentage||0),0).toFixed(2):"100.00","% = $",hn?Ft.reduce((d,y)=>d+(y.amount||0),0).toFixed(2):Le.prizeValue.toFixed(2)]})]}):l.jsx("div",{style:{color:"#856404",fontWeight:"600"},children:"Select all winners to see summary"})]})]}),l.jsxs("div",{style:{display:"flex",gap:"10px"},children:[l.jsx("button",{onClick:()=>{Vl(!1),Bl(""),$l(1),$s([]),Ul(!1),di([])},style:{flex:"1",padding:"14px",background:"#95a5a6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Cancel"}),l.jsx("button",{onClick:Yy,disabled:!Ct||!yt.every(d=>d.name),style:{flex:"1",padding:"14px",background:Ct&&yt.every(d=>d.name)?"#f5576c":"#ccc",color:"white",border:"none",borderRadius:"6px",cursor:Ct&&yt.every(d=>d.name)?"pointer":"not-allowed",fontSize:"1rem",fontWeight:"700"},children:" Declare Winner(s)"})]})]})}),G==="unsavedChanges"&&l.jsx(Ok,{currentWeek:je[a].name,onDiscard:()=>{u(_e),Gs(_e),J(null)},onSaveAndSwitch:async()=>{await Rd(new Event("submit")),setTimeout(()=>{u(_e),Gs(_e),J(null),fn(null)},100)},onCancel:()=>{fn(null),J(null)}}),G==="discardChanges"&&l.jsx(Lk,{onKeepEditing:()=>J(null),onDiscard:()=>{p({...Gl}),U(!1),J(null)}}),G==="incomplete"&&l.jsx(Mk,{missingGames:Mt,totalGames:we.games.length,onClose:()=>J(null)}),G==="invalidScores"&&l.jsx(Fk,{invalidScores:Yt,onClose:()=>J(null)}),G==="success"&&l.jsx(zk,{weekName:we.name,deadline:we.deadline,onClose:()=>J(null)}),G==="noChanges"&&l.jsx(Wk,{onClose:()=>J(null)}),G==="tiedGames"&&l.jsx(Bk,{tiedGames:Mt,gameData:we.games,onClose:()=>J(null)})]})]})]}),l.jsxs("footer",{children:[l.jsx("p",{children:"Richard's NFL Playoff Pool 2025 | Good luck! "}),l.jsx("p",{style:{fontSize:"0.85rem",marginTop:"5px"},children:"Questions? Contact: gammoneer2b@gmail.com"})]})]})}Ra.createRoot(document.getElementById("root")).render(l.jsx(Ia.StrictMode,{children:l.jsx(Jk,{})}));
