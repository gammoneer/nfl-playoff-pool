(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function ky(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wh={exports:{}},tl={},xh={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xi=Symbol.for("react.element"),Ny=Symbol.for("react.portal"),Ty=Symbol.for("react.fragment"),Iy=Symbol.for("react.strict_mode"),Py=Symbol.for("react.profiler"),Ry=Symbol.for("react.provider"),by=Symbol.for("react.context"),jy=Symbol.for("react.forward_ref"),Ay=Symbol.for("react.suspense"),Dy=Symbol.for("react.memo"),Oy=Symbol.for("react.lazy"),yd=Symbol.iterator;function Ly(t){return t===null||typeof t!="object"?null:(t=yd&&t[yd]||t["@@iterator"],typeof t=="function"?t:null)}var Ch={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Sh=Object.assign,Eh={};function Zr(t,e,n){this.props=t,this.context=e,this.refs=Eh,this.updater=n||Ch}Zr.prototype.isReactComponent={};Zr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Zr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function kh(){}kh.prototype=Zr.prototype;function Rc(t,e,n){this.props=t,this.context=e,this.refs=Eh,this.updater=n||Ch}var bc=Rc.prototype=new kh;bc.constructor=Rc;Sh(bc,Zr.prototype);bc.isPureReactComponent=!0;var vd=Array.isArray,Nh=Object.prototype.hasOwnProperty,jc={current:null},Th={key:!0,ref:!0,__self:!0,__source:!0};function Ih(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Nh.call(e,r)&&!Th.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:xi,type:t,key:i,ref:o,props:s,_owner:jc.current}}function My(t,e){return{$$typeof:xi,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ac(t){return typeof t=="object"&&t!==null&&t.$$typeof===xi}function Fy(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var _d=/\/+/g;function jl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Fy(""+t.key):e.toString(36)}function eo(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case xi:case Ny:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+jl(o,0):r,vd(s)?(n="",t!=null&&(n=t.replace(_d,"$&/")+"/"),eo(s,e,n,"",function(u){return u})):s!=null&&(Ac(s)&&(s=My(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(_d,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",vd(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+jl(i,a);o+=eo(i,e,n,l,s)}else if(l=Ly(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+jl(i,a++),o+=eo(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Oi(t,e,n){if(t==null)return t;var r=[],s=0;return eo(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Wy(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ze={current:null},to={transition:null},zy={ReactCurrentDispatcher:Ze,ReactCurrentBatchConfig:to,ReactCurrentOwner:jc};function Ph(){throw Error("act(...) is not supported in production builds of React.")}X.Children={map:Oi,forEach:function(t,e,n){Oi(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Oi(t,function(){e++}),e},toArray:function(t){return Oi(t,function(e){return e})||[]},only:function(t){if(!Ac(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};X.Component=Zr;X.Fragment=Ty;X.Profiler=Py;X.PureComponent=Rc;X.StrictMode=Iy;X.Suspense=Ay;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zy;X.act=Ph;X.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Sh({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=jc.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Nh.call(e,l)&&!Th.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:xi,type:t.type,key:s,ref:i,props:r,_owner:o}};X.createContext=function(t){return t={$$typeof:by,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Ry,_context:t},t.Consumer=t};X.createElement=Ih;X.createFactory=function(t){var e=Ih.bind(null,t);return e.type=t,e};X.createRef=function(){return{current:null}};X.forwardRef=function(t){return{$$typeof:jy,render:t}};X.isValidElement=Ac;X.lazy=function(t){return{$$typeof:Oy,_payload:{_status:-1,_result:t},_init:Wy}};X.memo=function(t,e){return{$$typeof:Dy,type:t,compare:e===void 0?null:e}};X.startTransition=function(t){var e=to.transition;to.transition={};try{t()}finally{to.transition=e}};X.unstable_act=Ph;X.useCallback=function(t,e){return Ze.current.useCallback(t,e)};X.useContext=function(t){return Ze.current.useContext(t)};X.useDebugValue=function(){};X.useDeferredValue=function(t){return Ze.current.useDeferredValue(t)};X.useEffect=function(t,e){return Ze.current.useEffect(t,e)};X.useId=function(){return Ze.current.useId()};X.useImperativeHandle=function(t,e,n){return Ze.current.useImperativeHandle(t,e,n)};X.useInsertionEffect=function(t,e){return Ze.current.useInsertionEffect(t,e)};X.useLayoutEffect=function(t,e){return Ze.current.useLayoutEffect(t,e)};X.useMemo=function(t,e){return Ze.current.useMemo(t,e)};X.useReducer=function(t,e,n){return Ze.current.useReducer(t,e,n)};X.useRef=function(t){return Ze.current.useRef(t)};X.useState=function(t){return Ze.current.useState(t)};X.useSyncExternalStore=function(t,e,n){return Ze.current.useSyncExternalStore(t,e,n)};X.useTransition=function(){return Ze.current.useTransition()};X.version="18.3.1";xh.exports=X;var F=xh.exports;const ga=ky(F);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var By=F,Uy=Symbol.for("react.element"),$y=Symbol.for("react.fragment"),Vy=Object.prototype.hasOwnProperty,Hy=By.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Gy={key:!0,ref:!0,__self:!0,__source:!0};function Rh(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Vy.call(e,r)&&!Gy.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Uy,type:t,key:i,ref:o,props:s,_owner:Hy.current}}tl.Fragment=$y;tl.jsx=Rh;tl.jsxs=Rh;wh.exports=tl;var c=wh.exports,ya={},bh={exports:{}},ft={},jh={exports:{}},Ah={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,W){var G=O.length;O.push(W);e:for(;0<G;){var ue=G-1>>>1,Se=O[ue];if(0<s(Se,W))O[ue]=W,O[G]=Se,G=ue;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var W=O[0],G=O.pop();if(G!==W){O[0]=G;e:for(var ue=0,Se=O.length,Wn=Se>>>1;ue<Wn;){var $t=2*(ue+1)-1,os=O[$t],mt=$t+1,on=O[mt];if(0>s(os,G))mt<Se&&0>s(on,os)?(O[ue]=on,O[mt]=G,ue=mt):(O[ue]=os,O[$t]=G,ue=$t);else if(mt<Se&&0>s(on,G))O[ue]=on,O[mt]=G,ue=mt;else break e}}return W}function s(O,W){var G=O.sortIndex-W.sortIndex;return G!==0?G:O.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],p=1,f=null,d=3,g=!1,_=!1,C=!1,E=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(O){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=O)r(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(u)}}function x(O){if(C=!1,v(O),!_)if(n(l)!==null)_=!0,Ot(k);else{var W=n(u);W!==null&&pt(x,W.startTime-O)}}function k(O,W){_=!1,C&&(C=!1,y(A),A=-1),g=!0;var G=d;try{for(v(W),f=n(l);f!==null&&(!(f.expirationTime>W)||O&&!$e());){var ue=f.callback;if(typeof ue=="function"){f.callback=null,d=f.priorityLevel;var Se=ue(f.expirationTime<=W);W=t.unstable_now(),typeof Se=="function"?f.callback=Se:f===n(l)&&r(l),v(W)}else r(l);f=n(l)}if(f!==null)var Wn=!0;else{var $t=n(u);$t!==null&&pt(x,$t.startTime-W),Wn=!1}return Wn}finally{f=null,d=G,g=!1}}var N=!1,R=null,A=-1,U=5,z=-1;function $e(){return!(t.unstable_now()-z<U)}function Ut(){if(R!==null){var O=t.unstable_now();z=O;var W=!0;try{W=R(!0,O)}finally{W?Dt():(N=!1,R=null)}}else N=!1}var Dt;if(typeof m=="function")Dt=function(){m(Ut)};else if(typeof MessageChannel<"u"){var ur=new MessageChannel,dr=ur.port2;ur.port1.onmessage=Ut,Dt=function(){dr.postMessage(null)}}else Dt=function(){E(Ut,0)};function Ot(O){R=O,N||(N=!0,Dt())}function pt(O,W){A=E(function(){O(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){_||g||(_=!0,Ot(k))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(d){case 1:case 2:case 3:var W=3;break;default:W=d}var G=d;d=W;try{return O()}finally{d=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,W){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var G=d;d=O;try{return W()}finally{d=G}},t.unstable_scheduleCallback=function(O,W,G){var ue=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ue+G:ue):G=ue,O){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=G+Se,O={id:p++,callback:W,priorityLevel:O,startTime:G,expirationTime:Se,sortIndex:-1},G>ue?(O.sortIndex=G,e(u,O),n(l)===null&&O===n(u)&&(C?(y(A),A=-1):C=!0,pt(x,G-ue))):(O.sortIndex=Se,e(l,O),_||g||(_=!0,Ot(k))),O},t.unstable_shouldYield=$e,t.unstable_wrapCallback=function(O){var W=d;return function(){var G=d;d=W;try{return O.apply(this,arguments)}finally{d=G}}}})(Ah);jh.exports=Ah;var Yy=jh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qy=F,dt=Yy;function P(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Dh=new Set,Gs={};function ir(t,e){zr(t,e),zr(t+"Capture",e)}function zr(t,e){for(Gs[t]=e,t=0;t<e.length;t++)Dh.add(e[t])}var Xt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),va=Object.prototype.hasOwnProperty,Ky=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wd={},xd={};function qy(t){return va.call(xd,t)?!0:va.call(wd,t)?!1:Ky.test(t)?xd[t]=!0:(wd[t]=!0,!1)}function Xy(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Jy(t,e,n,r){if(e===null||typeof e>"u"||Xy(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function et(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Be[t]=new et(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Be[e]=new et(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Be[t]=new et(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Be[t]=new et(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Be[t]=new et(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Be[t]=new et(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Be[t]=new et(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Be[t]=new et(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Be[t]=new et(t,5,!1,t.toLowerCase(),null,!1,!1)});var Dc=/[\-:]([a-z])/g;function Oc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Dc,Oc);Be[e]=new et(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Dc,Oc);Be[e]=new et(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Dc,Oc);Be[e]=new et(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Be[t]=new et(t,1,!1,t.toLowerCase(),null,!1,!1)});Be.xlinkHref=new et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Be[t]=new et(t,1,!1,t.toLowerCase(),null,!0,!0)});function Lc(t,e,n,r){var s=Be.hasOwnProperty(e)?Be[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Jy(e,n,s,r)&&(n=null),r||s===null?qy(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var rn=Qy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Li=Symbol.for("react.element"),vr=Symbol.for("react.portal"),_r=Symbol.for("react.fragment"),Mc=Symbol.for("react.strict_mode"),_a=Symbol.for("react.profiler"),Oh=Symbol.for("react.provider"),Lh=Symbol.for("react.context"),Fc=Symbol.for("react.forward_ref"),wa=Symbol.for("react.suspense"),xa=Symbol.for("react.suspense_list"),Wc=Symbol.for("react.memo"),fn=Symbol.for("react.lazy"),Mh=Symbol.for("react.offscreen"),Cd=Symbol.iterator;function ms(t){return t===null||typeof t!="object"?null:(t=Cd&&t[Cd]||t["@@iterator"],typeof t=="function"?t:null)}var ye=Object.assign,Al;function Is(t){if(Al===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Al=e&&e[1]||""}return`
`+Al+t}var Dl=!1;function Ol(t,e){if(!t||Dl)return"";Dl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Dl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Is(t):""}function Zy(t){switch(t.tag){case 5:return Is(t.type);case 16:return Is("Lazy");case 13:return Is("Suspense");case 19:return Is("SuspenseList");case 0:case 2:case 15:return t=Ol(t.type,!1),t;case 11:return t=Ol(t.type.render,!1),t;case 1:return t=Ol(t.type,!0),t;default:return""}}function Ca(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _r:return"Fragment";case vr:return"Portal";case _a:return"Profiler";case Mc:return"StrictMode";case wa:return"Suspense";case xa:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Lh:return(t.displayName||"Context")+".Consumer";case Oh:return(t._context.displayName||"Context")+".Provider";case Fc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Wc:return e=t.displayName||null,e!==null?e:Ca(t.type)||"Memo";case fn:e=t._payload,t=t._init;try{return Ca(t(e))}catch{}}return null}function ev(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ca(e);case 8:return e===Mc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function bn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fh(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tv(t){var e=Fh(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Mi(t){t._valueTracker||(t._valueTracker=tv(t))}function Wh(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Fh(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function po(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Sa(t,e){var n=e.checked;return ye({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Sd(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=bn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function zh(t,e){e=e.checked,e!=null&&Lc(t,"checked",e,!1)}function Ea(t,e){zh(t,e);var n=bn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ka(t,e.type,n):e.hasOwnProperty("defaultValue")&&ka(t,e.type,bn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ed(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ka(t,e,n){(e!=="number"||po(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ps=Array.isArray;function br(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+bn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Na(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(P(91));return ye({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function kd(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(P(92));if(Ps(n)){if(1<n.length)throw Error(P(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:bn(n)}}function Bh(t,e){var n=bn(e.value),r=bn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Nd(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Uh(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ta(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Uh(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Fi,$h=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Fi=Fi||document.createElement("div"),Fi.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Fi.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ys(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var js={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nv=["Webkit","ms","Moz","O"];Object.keys(js).forEach(function(t){nv.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),js[e]=js[t]})});function Vh(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||js.hasOwnProperty(t)&&js[t]?(""+e).trim():e+"px"}function Hh(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Vh(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var rv=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ia(t,e){if(e){if(rv[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(P(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(P(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(P(61))}if(e.style!=null&&typeof e.style!="object")throw Error(P(62))}}function Pa(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ra=null;function zc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ba=null,jr=null,Ar=null;function Td(t){if(t=Ei(t)){if(typeof ba!="function")throw Error(P(280));var e=t.stateNode;e&&(e=ol(e),ba(t.stateNode,t.type,e))}}function Gh(t){jr?Ar?Ar.push(t):Ar=[t]:jr=t}function Yh(){if(jr){var t=jr,e=Ar;if(Ar=jr=null,Td(t),e)for(t=0;t<e.length;t++)Td(e[t])}}function Qh(t,e){return t(e)}function Kh(){}var Ll=!1;function qh(t,e,n){if(Ll)return t(e,n);Ll=!0;try{return Qh(t,e,n)}finally{Ll=!1,(jr!==null||Ar!==null)&&(Kh(),Yh())}}function Qs(t,e){var n=t.stateNode;if(n===null)return null;var r=ol(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(P(231,e,typeof n));return n}var ja=!1;if(Xt)try{var gs={};Object.defineProperty(gs,"passive",{get:function(){ja=!0}}),window.addEventListener("test",gs,gs),window.removeEventListener("test",gs,gs)}catch{ja=!1}function sv(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(p){this.onError(p)}}var As=!1,mo=null,go=!1,Aa=null,iv={onError:function(t){As=!0,mo=t}};function ov(t,e,n,r,s,i,o,a,l){As=!1,mo=null,sv.apply(iv,arguments)}function lv(t,e,n,r,s,i,o,a,l){if(ov.apply(this,arguments),As){if(As){var u=mo;As=!1,mo=null}else throw Error(P(198));go||(go=!0,Aa=u)}}function or(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Xh(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Id(t){if(or(t)!==t)throw Error(P(188))}function av(t){var e=t.alternate;if(!e){if(e=or(t),e===null)throw Error(P(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Id(s),t;if(i===r)return Id(s),e;i=i.sibling}throw Error(P(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?t:e}function Jh(t){return t=av(t),t!==null?Zh(t):null}function Zh(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Zh(t);if(e!==null)return e;t=t.sibling}return null}var ep=dt.unstable_scheduleCallback,Pd=dt.unstable_cancelCallback,cv=dt.unstable_shouldYield,uv=dt.unstable_requestPaint,ke=dt.unstable_now,dv=dt.unstable_getCurrentPriorityLevel,Bc=dt.unstable_ImmediatePriority,tp=dt.unstable_UserBlockingPriority,yo=dt.unstable_NormalPriority,fv=dt.unstable_LowPriority,np=dt.unstable_IdlePriority,nl=null,Wt=null;function hv(t){if(Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(nl,t,void 0,(t.current.flags&128)===128)}catch{}}var Rt=Math.clz32?Math.clz32:gv,pv=Math.log,mv=Math.LN2;function gv(t){return t>>>=0,t===0?32:31-(pv(t)/mv|0)|0}var Wi=64,zi=4194304;function Rs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function vo(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Rs(a):(i&=o,i!==0&&(r=Rs(i)))}else o=n&~s,o!==0?r=Rs(o):i!==0&&(r=Rs(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Rt(e),s=1<<n,r|=t[n],e&=~s;return r}function yv(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vv(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Rt(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=yv(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Da(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function rp(){var t=Wi;return Wi<<=1,!(Wi&4194240)&&(Wi=64),t}function Ml(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ci(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Rt(e),t[e]=n}function _v(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Rt(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Uc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Rt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var se=0;function sp(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ip,$c,op,lp,ap,Oa=!1,Bi=[],_n=null,wn=null,xn=null,Ks=new Map,qs=new Map,pn=[],wv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rd(t,e){switch(t){case"focusin":case"focusout":_n=null;break;case"dragenter":case"dragleave":wn=null;break;case"mouseover":case"mouseout":xn=null;break;case"pointerover":case"pointerout":Ks.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":qs.delete(e.pointerId)}}function ys(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Ei(e),e!==null&&$c(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function xv(t,e,n,r,s){switch(e){case"focusin":return _n=ys(_n,t,e,n,r,s),!0;case"dragenter":return wn=ys(wn,t,e,n,r,s),!0;case"mouseover":return xn=ys(xn,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ks.set(i,ys(Ks.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,qs.set(i,ys(qs.get(i)||null,t,e,n,r,s)),!0}return!1}function cp(t){var e=Hn(t.target);if(e!==null){var n=or(e);if(n!==null){if(e=n.tag,e===13){if(e=Xh(n),e!==null){t.blockedOn=e,ap(t.priority,function(){op(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function no(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=La(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ra=r,n.target.dispatchEvent(r),Ra=null}else return e=Ei(n),e!==null&&$c(e),t.blockedOn=n,!1;e.shift()}return!0}function bd(t,e,n){no(t)&&n.delete(e)}function Cv(){Oa=!1,_n!==null&&no(_n)&&(_n=null),wn!==null&&no(wn)&&(wn=null),xn!==null&&no(xn)&&(xn=null),Ks.forEach(bd),qs.forEach(bd)}function vs(t,e){t.blockedOn===e&&(t.blockedOn=null,Oa||(Oa=!0,dt.unstable_scheduleCallback(dt.unstable_NormalPriority,Cv)))}function Xs(t){function e(s){return vs(s,t)}if(0<Bi.length){vs(Bi[0],t);for(var n=1;n<Bi.length;n++){var r=Bi[n];r.blockedOn===t&&(r.blockedOn=null)}}for(_n!==null&&vs(_n,t),wn!==null&&vs(wn,t),xn!==null&&vs(xn,t),Ks.forEach(e),qs.forEach(e),n=0;n<pn.length;n++)r=pn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<pn.length&&(n=pn[0],n.blockedOn===null);)cp(n),n.blockedOn===null&&pn.shift()}var Dr=rn.ReactCurrentBatchConfig,_o=!0;function Sv(t,e,n,r){var s=se,i=Dr.transition;Dr.transition=null;try{se=1,Vc(t,e,n,r)}finally{se=s,Dr.transition=i}}function Ev(t,e,n,r){var s=se,i=Dr.transition;Dr.transition=null;try{se=4,Vc(t,e,n,r)}finally{se=s,Dr.transition=i}}function Vc(t,e,n,r){if(_o){var s=La(t,e,n,r);if(s===null)Yl(t,e,r,wo,n),Rd(t,r);else if(xv(s,t,e,n,r))r.stopPropagation();else if(Rd(t,r),e&4&&-1<wv.indexOf(t)){for(;s!==null;){var i=Ei(s);if(i!==null&&ip(i),i=La(t,e,n,r),i===null&&Yl(t,e,r,wo,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Yl(t,e,r,null,n)}}var wo=null;function La(t,e,n,r){if(wo=null,t=zc(r),t=Hn(t),t!==null)if(e=or(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Xh(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return wo=t,null}function up(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dv()){case Bc:return 1;case tp:return 4;case yo:case fv:return 16;case np:return 536870912;default:return 16}default:return 16}}var gn=null,Hc=null,ro=null;function dp(){if(ro)return ro;var t,e=Hc,n=e.length,r,s="value"in gn?gn.value:gn.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return ro=s.slice(t,1<r?1-r:void 0)}function so(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ui(){return!0}function jd(){return!1}function ht(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ui:jd,this.isPropagationStopped=jd,this}return ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){},isPersistent:Ui}),e}var es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gc=ht(es),Si=ye({},es,{view:0,detail:0}),kv=ht(Si),Fl,Wl,_s,rl=ye({},Si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_s&&(_s&&t.type==="mousemove"?(Fl=t.screenX-_s.screenX,Wl=t.screenY-_s.screenY):Wl=Fl=0,_s=t),Fl)},movementY:function(t){return"movementY"in t?t.movementY:Wl}}),Ad=ht(rl),Nv=ye({},rl,{dataTransfer:0}),Tv=ht(Nv),Iv=ye({},Si,{relatedTarget:0}),zl=ht(Iv),Pv=ye({},es,{animationName:0,elapsedTime:0,pseudoElement:0}),Rv=ht(Pv),bv=ye({},es,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),jv=ht(bv),Av=ye({},es,{data:0}),Dd=ht(Av),Dv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ov={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mv(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Lv[t])?!!e[t]:!1}function Yc(){return Mv}var Fv=ye({},Si,{key:function(t){if(t.key){var e=Dv[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=so(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ov[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yc,charCode:function(t){return t.type==="keypress"?so(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?so(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Wv=ht(Fv),zv=ye({},rl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Od=ht(zv),Bv=ye({},Si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yc}),Uv=ht(Bv),$v=ye({},es,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vv=ht($v),Hv=ye({},rl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Gv=ht(Hv),Yv=[9,13,27,32],Qc=Xt&&"CompositionEvent"in window,Ds=null;Xt&&"documentMode"in document&&(Ds=document.documentMode);var Qv=Xt&&"TextEvent"in window&&!Ds,fp=Xt&&(!Qc||Ds&&8<Ds&&11>=Ds),Ld=" ",Md=!1;function hp(t,e){switch(t){case"keyup":return Yv.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wr=!1;function Kv(t,e){switch(t){case"compositionend":return pp(e);case"keypress":return e.which!==32?null:(Md=!0,Ld);case"textInput":return t=e.data,t===Ld&&Md?null:t;default:return null}}function qv(t,e){if(wr)return t==="compositionend"||!Qc&&hp(t,e)?(t=dp(),ro=Hc=gn=null,wr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return fp&&e.locale!=="ko"?null:e.data;default:return null}}var Xv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Xv[t.type]:e==="textarea"}function mp(t,e,n,r){Gh(r),e=xo(e,"onChange"),0<e.length&&(n=new Gc("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Os=null,Js=null;function Jv(t){Np(t,0)}function sl(t){var e=Sr(t);if(Wh(e))return t}function Zv(t,e){if(t==="change")return e}var gp=!1;if(Xt){var Bl;if(Xt){var Ul="oninput"in document;if(!Ul){var Wd=document.createElement("div");Wd.setAttribute("oninput","return;"),Ul=typeof Wd.oninput=="function"}Bl=Ul}else Bl=!1;gp=Bl&&(!document.documentMode||9<document.documentMode)}function zd(){Os&&(Os.detachEvent("onpropertychange",yp),Js=Os=null)}function yp(t){if(t.propertyName==="value"&&sl(Js)){var e=[];mp(e,Js,t,zc(t)),qh(Jv,e)}}function e_(t,e,n){t==="focusin"?(zd(),Os=e,Js=n,Os.attachEvent("onpropertychange",yp)):t==="focusout"&&zd()}function t_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return sl(Js)}function n_(t,e){if(t==="click")return sl(e)}function r_(t,e){if(t==="input"||t==="change")return sl(e)}function s_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var At=typeof Object.is=="function"?Object.is:s_;function Zs(t,e){if(At(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!va.call(e,s)||!At(t[s],e[s]))return!1}return!0}function Bd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ud(t,e){var n=Bd(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Bd(n)}}function vp(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?vp(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function _p(){for(var t=window,e=po();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=po(t.document)}return e}function Kc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function i_(t){var e=_p(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&vp(n.ownerDocument.documentElement,n)){if(r!==null&&Kc(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Ud(n,i);var o=Ud(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var o_=Xt&&"documentMode"in document&&11>=document.documentMode,xr=null,Ma=null,Ls=null,Fa=!1;function $d(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fa||xr==null||xr!==po(r)||(r=xr,"selectionStart"in r&&Kc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ls&&Zs(Ls,r)||(Ls=r,r=xo(Ma,"onSelect"),0<r.length&&(e=new Gc("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=xr)))}function $i(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Cr={animationend:$i("Animation","AnimationEnd"),animationiteration:$i("Animation","AnimationIteration"),animationstart:$i("Animation","AnimationStart"),transitionend:$i("Transition","TransitionEnd")},$l={},wp={};Xt&&(wp=document.createElement("div").style,"AnimationEvent"in window||(delete Cr.animationend.animation,delete Cr.animationiteration.animation,delete Cr.animationstart.animation),"TransitionEvent"in window||delete Cr.transitionend.transition);function il(t){if($l[t])return $l[t];if(!Cr[t])return t;var e=Cr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in wp)return $l[t]=e[n];return t}var xp=il("animationend"),Cp=il("animationiteration"),Sp=il("animationstart"),Ep=il("transitionend"),kp=new Map,Vd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ln(t,e){kp.set(t,e),ir(e,[t])}for(var Vl=0;Vl<Vd.length;Vl++){var Hl=Vd[Vl],l_=Hl.toLowerCase(),a_=Hl[0].toUpperCase()+Hl.slice(1);Ln(l_,"on"+a_)}Ln(xp,"onAnimationEnd");Ln(Cp,"onAnimationIteration");Ln(Sp,"onAnimationStart");Ln("dblclick","onDoubleClick");Ln("focusin","onFocus");Ln("focusout","onBlur");Ln(Ep,"onTransitionEnd");zr("onMouseEnter",["mouseout","mouseover"]);zr("onMouseLeave",["mouseout","mouseover"]);zr("onPointerEnter",["pointerout","pointerover"]);zr("onPointerLeave",["pointerout","pointerover"]);ir("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ir("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ir("onBeforeInput",["compositionend","keypress","textInput","paste"]);ir("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ir("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ir("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c_=new Set("cancel close invalid load scroll toggle".split(" ").concat(bs));function Hd(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,lv(r,e,void 0,t),t.currentTarget=null}function Np(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Hd(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Hd(s,a,u),i=l}}}if(go)throw t=Aa,go=!1,Aa=null,t}function fe(t,e){var n=e[$a];n===void 0&&(n=e[$a]=new Set);var r=t+"__bubble";n.has(r)||(Tp(e,t,2,!1),n.add(r))}function Gl(t,e,n){var r=0;e&&(r|=4),Tp(n,t,r,e)}var Vi="_reactListening"+Math.random().toString(36).slice(2);function ei(t){if(!t[Vi]){t[Vi]=!0,Dh.forEach(function(n){n!=="selectionchange"&&(c_.has(n)||Gl(n,!1,t),Gl(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Vi]||(e[Vi]=!0,Gl("selectionchange",!1,e))}}function Tp(t,e,n,r){switch(up(e)){case 1:var s=Sv;break;case 4:s=Ev;break;default:s=Vc}n=s.bind(null,e,n,t),s=void 0,!ja||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Yl(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Hn(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}qh(function(){var u=i,p=zc(n),f=[];e:{var d=kp.get(t);if(d!==void 0){var g=Gc,_=t;switch(t){case"keypress":if(so(n)===0)break e;case"keydown":case"keyup":g=Wv;break;case"focusin":_="focus",g=zl;break;case"focusout":_="blur",g=zl;break;case"beforeblur":case"afterblur":g=zl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Ad;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Tv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Uv;break;case xp:case Cp:case Sp:g=Rv;break;case Ep:g=Vv;break;case"scroll":g=kv;break;case"wheel":g=Gv;break;case"copy":case"cut":case"paste":g=jv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Od}var C=(e&4)!==0,E=!C&&t==="scroll",y=C?d!==null?d+"Capture":null:d;C=[];for(var m=u,v;m!==null;){v=m;var x=v.stateNode;if(v.tag===5&&x!==null&&(v=x,y!==null&&(x=Qs(m,y),x!=null&&C.push(ti(m,x,v)))),E)break;m=m.return}0<C.length&&(d=new g(d,_,null,n,p),f.push({event:d,listeners:C}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",d&&n!==Ra&&(_=n.relatedTarget||n.fromElement)&&(Hn(_)||_[Jt]))break e;if((g||d)&&(d=p.window===p?p:(d=p.ownerDocument)?d.defaultView||d.parentWindow:window,g?(_=n.relatedTarget||n.toElement,g=u,_=_?Hn(_):null,_!==null&&(E=or(_),_!==E||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=u),g!==_)){if(C=Ad,x="onMouseLeave",y="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(C=Od,x="onPointerLeave",y="onPointerEnter",m="pointer"),E=g==null?d:Sr(g),v=_==null?d:Sr(_),d=new C(x,m+"leave",g,n,p),d.target=E,d.relatedTarget=v,x=null,Hn(p)===u&&(C=new C(y,m+"enter",_,n,p),C.target=v,C.relatedTarget=E,x=C),E=x,g&&_)t:{for(C=g,y=_,m=0,v=C;v;v=gr(v))m++;for(v=0,x=y;x;x=gr(x))v++;for(;0<m-v;)C=gr(C),m--;for(;0<v-m;)y=gr(y),v--;for(;m--;){if(C===y||y!==null&&C===y.alternate)break t;C=gr(C),y=gr(y)}C=null}else C=null;g!==null&&Gd(f,d,g,C,!1),_!==null&&E!==null&&Gd(f,E,_,C,!0)}}e:{if(d=u?Sr(u):window,g=d.nodeName&&d.nodeName.toLowerCase(),g==="select"||g==="input"&&d.type==="file")var k=Zv;else if(Fd(d))if(gp)k=r_;else{k=t_;var N=e_}else(g=d.nodeName)&&g.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(k=n_);if(k&&(k=k(t,u))){mp(f,k,n,p);break e}N&&N(t,d,u),t==="focusout"&&(N=d._wrapperState)&&N.controlled&&d.type==="number"&&ka(d,"number",d.value)}switch(N=u?Sr(u):window,t){case"focusin":(Fd(N)||N.contentEditable==="true")&&(xr=N,Ma=u,Ls=null);break;case"focusout":Ls=Ma=xr=null;break;case"mousedown":Fa=!0;break;case"contextmenu":case"mouseup":case"dragend":Fa=!1,$d(f,n,p);break;case"selectionchange":if(o_)break;case"keydown":case"keyup":$d(f,n,p)}var R;if(Qc)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else wr?hp(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(fp&&n.locale!=="ko"&&(wr||A!=="onCompositionStart"?A==="onCompositionEnd"&&wr&&(R=dp()):(gn=p,Hc="value"in gn?gn.value:gn.textContent,wr=!0)),N=xo(u,A),0<N.length&&(A=new Dd(A,t,null,n,p),f.push({event:A,listeners:N}),R?A.data=R:(R=pp(n),R!==null&&(A.data=R)))),(R=Qv?Kv(t,n):qv(t,n))&&(u=xo(u,"onBeforeInput"),0<u.length&&(p=new Dd("onBeforeInput","beforeinput",null,n,p),f.push({event:p,listeners:u}),p.data=R))}Np(f,e)})}function ti(t,e,n){return{instance:t,listener:e,currentTarget:n}}function xo(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Qs(t,n),i!=null&&r.unshift(ti(t,i,s)),i=Qs(t,e),i!=null&&r.push(ti(t,i,s))),t=t.return}return r}function gr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Gd(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Qs(n,i),l!=null&&o.unshift(ti(n,l,a))):s||(l=Qs(n,i),l!=null&&o.push(ti(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var u_=/\r\n?/g,d_=/\u0000|\uFFFD/g;function Yd(t){return(typeof t=="string"?t:""+t).replace(u_,`
`).replace(d_,"")}function Hi(t,e,n){if(e=Yd(e),Yd(t)!==e&&n)throw Error(P(425))}function Co(){}var Wa=null,za=null;function Ba(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ua=typeof setTimeout=="function"?setTimeout:void 0,f_=typeof clearTimeout=="function"?clearTimeout:void 0,Qd=typeof Promise=="function"?Promise:void 0,h_=typeof queueMicrotask=="function"?queueMicrotask:typeof Qd<"u"?function(t){return Qd.resolve(null).then(t).catch(p_)}:Ua;function p_(t){setTimeout(function(){throw t})}function Ql(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Xs(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Xs(e)}function Cn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Kd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ts=Math.random().toString(36).slice(2),Ft="__reactFiber$"+ts,ni="__reactProps$"+ts,Jt="__reactContainer$"+ts,$a="__reactEvents$"+ts,m_="__reactListeners$"+ts,g_="__reactHandles$"+ts;function Hn(t){var e=t[Ft];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Jt]||n[Ft]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Kd(t);t!==null;){if(n=t[Ft])return n;t=Kd(t)}return e}t=n,n=t.parentNode}return null}function Ei(t){return t=t[Ft]||t[Jt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Sr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(P(33))}function ol(t){return t[ni]||null}var Va=[],Er=-1;function Mn(t){return{current:t}}function he(t){0>Er||(t.current=Va[Er],Va[Er]=null,Er--)}function ce(t,e){Er++,Va[Er]=t.current,t.current=e}var jn={},Qe=Mn(jn),it=Mn(!1),Xn=jn;function Br(t,e){var n=t.type.contextTypes;if(!n)return jn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function ot(t){return t=t.childContextTypes,t!=null}function So(){he(it),he(Qe)}function qd(t,e,n){if(Qe.current!==jn)throw Error(P(168));ce(Qe,e),ce(it,n)}function Ip(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(P(108,ev(t)||"Unknown",s));return ye({},n,r)}function Eo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||jn,Xn=Qe.current,ce(Qe,t),ce(it,it.current),!0}function Xd(t,e,n){var r=t.stateNode;if(!r)throw Error(P(169));n?(t=Ip(t,e,Xn),r.__reactInternalMemoizedMergedChildContext=t,he(it),he(Qe),ce(Qe,t)):he(it),ce(it,n)}var Ht=null,ll=!1,Kl=!1;function Pp(t){Ht===null?Ht=[t]:Ht.push(t)}function y_(t){ll=!0,Pp(t)}function Fn(){if(!Kl&&Ht!==null){Kl=!0;var t=0,e=se;try{var n=Ht;for(se=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ht=null,ll=!1}catch(s){throw Ht!==null&&(Ht=Ht.slice(t+1)),ep(Bc,Fn),s}finally{se=e,Kl=!1}}return null}var kr=[],Nr=0,ko=null,No=0,gt=[],yt=0,Jn=null,Gt=1,Yt="";function Bn(t,e){kr[Nr++]=No,kr[Nr++]=ko,ko=t,No=e}function Rp(t,e,n){gt[yt++]=Gt,gt[yt++]=Yt,gt[yt++]=Jn,Jn=t;var r=Gt;t=Yt;var s=32-Rt(r)-1;r&=~(1<<s),n+=1;var i=32-Rt(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Gt=1<<32-Rt(e)+s|n<<s|r,Yt=i+t}else Gt=1<<i|n<<s|r,Yt=t}function qc(t){t.return!==null&&(Bn(t,1),Rp(t,1,0))}function Xc(t){for(;t===ko;)ko=kr[--Nr],kr[Nr]=null,No=kr[--Nr],kr[Nr]=null;for(;t===Jn;)Jn=gt[--yt],gt[yt]=null,Yt=gt[--yt],gt[yt]=null,Gt=gt[--yt],gt[yt]=null}var ut=null,ct=null,pe=!1,Tt=null;function bp(t,e){var n=vt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Jd(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ut=t,ct=Cn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ut=t,ct=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Jn!==null?{id:Gt,overflow:Yt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=vt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ut=t,ct=null,!0):!1;default:return!1}}function Ha(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ga(t){if(pe){var e=ct;if(e){var n=e;if(!Jd(t,e)){if(Ha(t))throw Error(P(418));e=Cn(n.nextSibling);var r=ut;e&&Jd(t,e)?bp(r,n):(t.flags=t.flags&-4097|2,pe=!1,ut=t)}}else{if(Ha(t))throw Error(P(418));t.flags=t.flags&-4097|2,pe=!1,ut=t}}}function Zd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ut=t}function Gi(t){if(t!==ut)return!1;if(!pe)return Zd(t),pe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ba(t.type,t.memoizedProps)),e&&(e=ct)){if(Ha(t))throw jp(),Error(P(418));for(;e;)bp(t,e),e=Cn(e.nextSibling)}if(Zd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ct=Cn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ct=null}}else ct=ut?Cn(t.stateNode.nextSibling):null;return!0}function jp(){for(var t=ct;t;)t=Cn(t.nextSibling)}function Ur(){ct=ut=null,pe=!1}function Jc(t){Tt===null?Tt=[t]:Tt.push(t)}var v_=rn.ReactCurrentBatchConfig;function ws(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,t))}return t}function Yi(t,e){throw t=Object.prototype.toString.call(e),Error(P(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ef(t){var e=t._init;return e(t._payload)}function Ap(t){function e(y,m){if(t){var v=y.deletions;v===null?(y.deletions=[m],y.flags|=16):v.push(m)}}function n(y,m){if(!t)return null;for(;m!==null;)e(y,m),m=m.sibling;return null}function r(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function s(y,m){return y=Nn(y,m),y.index=0,y.sibling=null,y}function i(y,m,v){return y.index=v,t?(v=y.alternate,v!==null?(v=v.index,v<m?(y.flags|=2,m):v):(y.flags|=2,m)):(y.flags|=1048576,m)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,m,v,x){return m===null||m.tag!==6?(m=na(v,y.mode,x),m.return=y,m):(m=s(m,v),m.return=y,m)}function l(y,m,v,x){var k=v.type;return k===_r?p(y,m,v.props.children,x,v.key):m!==null&&(m.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===fn&&ef(k)===m.type)?(x=s(m,v.props),x.ref=ws(y,m,v),x.return=y,x):(x=fo(v.type,v.key,v.props,null,y.mode,x),x.ref=ws(y,m,v),x.return=y,x)}function u(y,m,v,x){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=ra(v,y.mode,x),m.return=y,m):(m=s(m,v.children||[]),m.return=y,m)}function p(y,m,v,x,k){return m===null||m.tag!==7?(m=qn(v,y.mode,x,k),m.return=y,m):(m=s(m,v),m.return=y,m)}function f(y,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=na(""+m,y.mode,v),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Li:return v=fo(m.type,m.key,m.props,null,y.mode,v),v.ref=ws(y,null,m),v.return=y,v;case vr:return m=ra(m,y.mode,v),m.return=y,m;case fn:var x=m._init;return f(y,x(m._payload),v)}if(Ps(m)||ms(m))return m=qn(m,y.mode,v,null),m.return=y,m;Yi(y,m)}return null}function d(y,m,v,x){var k=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return k!==null?null:a(y,m,""+v,x);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Li:return v.key===k?l(y,m,v,x):null;case vr:return v.key===k?u(y,m,v,x):null;case fn:return k=v._init,d(y,m,k(v._payload),x)}if(Ps(v)||ms(v))return k!==null?null:p(y,m,v,x,null);Yi(y,v)}return null}function g(y,m,v,x,k){if(typeof x=="string"&&x!==""||typeof x=="number")return y=y.get(v)||null,a(m,y,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Li:return y=y.get(x.key===null?v:x.key)||null,l(m,y,x,k);case vr:return y=y.get(x.key===null?v:x.key)||null,u(m,y,x,k);case fn:var N=x._init;return g(y,m,v,N(x._payload),k)}if(Ps(x)||ms(x))return y=y.get(v)||null,p(m,y,x,k,null);Yi(m,x)}return null}function _(y,m,v,x){for(var k=null,N=null,R=m,A=m=0,U=null;R!==null&&A<v.length;A++){R.index>A?(U=R,R=null):U=R.sibling;var z=d(y,R,v[A],x);if(z===null){R===null&&(R=U);break}t&&R&&z.alternate===null&&e(y,R),m=i(z,m,A),N===null?k=z:N.sibling=z,N=z,R=U}if(A===v.length)return n(y,R),pe&&Bn(y,A),k;if(R===null){for(;A<v.length;A++)R=f(y,v[A],x),R!==null&&(m=i(R,m,A),N===null?k=R:N.sibling=R,N=R);return pe&&Bn(y,A),k}for(R=r(y,R);A<v.length;A++)U=g(R,y,A,v[A],x),U!==null&&(t&&U.alternate!==null&&R.delete(U.key===null?A:U.key),m=i(U,m,A),N===null?k=U:N.sibling=U,N=U);return t&&R.forEach(function($e){return e(y,$e)}),pe&&Bn(y,A),k}function C(y,m,v,x){var k=ms(v);if(typeof k!="function")throw Error(P(150));if(v=k.call(v),v==null)throw Error(P(151));for(var N=k=null,R=m,A=m=0,U=null,z=v.next();R!==null&&!z.done;A++,z=v.next()){R.index>A?(U=R,R=null):U=R.sibling;var $e=d(y,R,z.value,x);if($e===null){R===null&&(R=U);break}t&&R&&$e.alternate===null&&e(y,R),m=i($e,m,A),N===null?k=$e:N.sibling=$e,N=$e,R=U}if(z.done)return n(y,R),pe&&Bn(y,A),k;if(R===null){for(;!z.done;A++,z=v.next())z=f(y,z.value,x),z!==null&&(m=i(z,m,A),N===null?k=z:N.sibling=z,N=z);return pe&&Bn(y,A),k}for(R=r(y,R);!z.done;A++,z=v.next())z=g(R,y,A,z.value,x),z!==null&&(t&&z.alternate!==null&&R.delete(z.key===null?A:z.key),m=i(z,m,A),N===null?k=z:N.sibling=z,N=z);return t&&R.forEach(function(Ut){return e(y,Ut)}),pe&&Bn(y,A),k}function E(y,m,v,x){if(typeof v=="object"&&v!==null&&v.type===_r&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Li:e:{for(var k=v.key,N=m;N!==null;){if(N.key===k){if(k=v.type,k===_r){if(N.tag===7){n(y,N.sibling),m=s(N,v.props.children),m.return=y,y=m;break e}}else if(N.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===fn&&ef(k)===N.type){n(y,N.sibling),m=s(N,v.props),m.ref=ws(y,N,v),m.return=y,y=m;break e}n(y,N);break}else e(y,N);N=N.sibling}v.type===_r?(m=qn(v.props.children,y.mode,x,v.key),m.return=y,y=m):(x=fo(v.type,v.key,v.props,null,y.mode,x),x.ref=ws(y,m,v),x.return=y,y=x)}return o(y);case vr:e:{for(N=v.key;m!==null;){if(m.key===N)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){n(y,m.sibling),m=s(m,v.children||[]),m.return=y,y=m;break e}else{n(y,m);break}else e(y,m);m=m.sibling}m=ra(v,y.mode,x),m.return=y,y=m}return o(y);case fn:return N=v._init,E(y,m,N(v._payload),x)}if(Ps(v))return _(y,m,v,x);if(ms(v))return C(y,m,v,x);Yi(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(n(y,m.sibling),m=s(m,v),m.return=y,y=m):(n(y,m),m=na(v,y.mode,x),m.return=y,y=m),o(y)):n(y,m)}return E}var $r=Ap(!0),Dp=Ap(!1),To=Mn(null),Io=null,Tr=null,Zc=null;function eu(){Zc=Tr=Io=null}function tu(t){var e=To.current;he(To),t._currentValue=e}function Ya(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Or(t,e){Io=t,Zc=Tr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(rt=!0),t.firstContext=null)}function xt(t){var e=t._currentValue;if(Zc!==t)if(t={context:t,memoizedValue:e,next:null},Tr===null){if(Io===null)throw Error(P(308));Tr=t,Io.dependencies={lanes:0,firstContext:t}}else Tr=Tr.next=t;return e}var Gn=null;function nu(t){Gn===null?Gn=[t]:Gn.push(t)}function Op(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,nu(e)):(n.next=s.next,s.next=n),e.interleaved=n,Zt(t,r)}function Zt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var hn=!1;function ru(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Kt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Sn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ee&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Zt(t,n)}return s=r.interleaved,s===null?(e.next=e,nu(r)):(e.next=s.next,s.next=e),r.interleaved=e,Zt(t,n)}function io(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Uc(t,n)}}function tf(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Po(t,e,n,r){var s=t.updateQueue;hn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var p=t.alternate;p!==null&&(p=p.updateQueue,a=p.lastBaseUpdate,a!==o&&(a===null?p.firstBaseUpdate=u:a.next=u,p.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,p=u=l=null,a=i;do{var d=a.lane,g=a.eventTime;if((r&d)===d){p!==null&&(p=p.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,C=a;switch(d=e,g=n,C.tag){case 1:if(_=C.payload,typeof _=="function"){f=_.call(g,f,d);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=C.payload,d=typeof _=="function"?_.call(g,f,d):_,d==null)break e;f=ye({},f,d);break e;case 2:hn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=s.effects,d===null?s.effects=[a]:d.push(a))}else g={eventTime:g,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},p===null?(u=p=g,l=f):p=p.next=g,o|=d;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;d=a,a=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(!0);if(p===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=p,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);er|=o,t.lanes=o,t.memoizedState=f}}function nf(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(P(191,s));s.call(r)}}}var ki={},zt=Mn(ki),ri=Mn(ki),si=Mn(ki);function Yn(t){if(t===ki)throw Error(P(174));return t}function su(t,e){switch(ce(si,e),ce(ri,t),ce(zt,ki),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ta(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ta(e,t)}he(zt),ce(zt,e)}function Vr(){he(zt),he(ri),he(si)}function Mp(t){Yn(si.current);var e=Yn(zt.current),n=Ta(e,t.type);e!==n&&(ce(ri,t),ce(zt,n))}function iu(t){ri.current===t&&(he(zt),he(ri))}var me=Mn(0);function Ro(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ql=[];function ou(){for(var t=0;t<ql.length;t++)ql[t]._workInProgressVersionPrimary=null;ql.length=0}var oo=rn.ReactCurrentDispatcher,Xl=rn.ReactCurrentBatchConfig,Zn=0,ge=null,Pe=null,Oe=null,bo=!1,Ms=!1,ii=0,__=0;function Ve(){throw Error(P(321))}function lu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!At(t[n],e[n]))return!1;return!0}function au(t,e,n,r,s,i){if(Zn=i,ge=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,oo.current=t===null||t.memoizedState===null?S_:E_,t=n(r,s),Ms){i=0;do{if(Ms=!1,ii=0,25<=i)throw Error(P(301));i+=1,Oe=Pe=null,e.updateQueue=null,oo.current=k_,t=n(r,s)}while(Ms)}if(oo.current=jo,e=Pe!==null&&Pe.next!==null,Zn=0,Oe=Pe=ge=null,bo=!1,e)throw Error(P(300));return t}function cu(){var t=ii!==0;return ii=0,t}function Mt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?ge.memoizedState=Oe=t:Oe=Oe.next=t,Oe}function Ct(){if(Pe===null){var t=ge.alternate;t=t!==null?t.memoizedState:null}else t=Pe.next;var e=Oe===null?ge.memoizedState:Oe.next;if(e!==null)Oe=e,Pe=t;else{if(t===null)throw Error(P(310));Pe=t,t={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},Oe===null?ge.memoizedState=Oe=t:Oe=Oe.next=t}return Oe}function oi(t,e){return typeof e=="function"?e(t):e}function Jl(t){var e=Ct(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=Pe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var p=u.lane;if((Zn&p)===p)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:p,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,ge.lanes|=p,er|=p}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,At(r,e.memoizedState)||(rt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ge.lanes|=i,er|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Zl(t){var e=Ct(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);At(i,e.memoizedState)||(rt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Fp(){}function Wp(t,e){var n=ge,r=Ct(),s=e(),i=!At(r.memoizedState,s);if(i&&(r.memoizedState=s,rt=!0),r=r.queue,uu(Up.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Oe!==null&&Oe.memoizedState.tag&1){if(n.flags|=2048,li(9,Bp.bind(null,n,r,s,e),void 0,null),Me===null)throw Error(P(349));Zn&30||zp(n,e,s)}return s}function zp(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ge.updateQueue,e===null?(e={lastEffect:null,stores:null},ge.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Bp(t,e,n,r){e.value=n,e.getSnapshot=r,$p(e)&&Vp(t)}function Up(t,e,n){return n(function(){$p(e)&&Vp(t)})}function $p(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!At(t,n)}catch{return!0}}function Vp(t){var e=Zt(t,1);e!==null&&bt(e,t,1,-1)}function rf(t){var e=Mt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:t},e.queue=t,t=t.dispatch=C_.bind(null,ge,t),[e.memoizedState,t]}function li(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ge.updateQueue,e===null?(e={lastEffect:null,stores:null},ge.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Hp(){return Ct().memoizedState}function lo(t,e,n,r){var s=Mt();ge.flags|=t,s.memoizedState=li(1|e,n,void 0,r===void 0?null:r)}function al(t,e,n,r){var s=Ct();r=r===void 0?null:r;var i=void 0;if(Pe!==null){var o=Pe.memoizedState;if(i=o.destroy,r!==null&&lu(r,o.deps)){s.memoizedState=li(e,n,i,r);return}}ge.flags|=t,s.memoizedState=li(1|e,n,i,r)}function sf(t,e){return lo(8390656,8,t,e)}function uu(t,e){return al(2048,8,t,e)}function Gp(t,e){return al(4,2,t,e)}function Yp(t,e){return al(4,4,t,e)}function Qp(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Kp(t,e,n){return n=n!=null?n.concat([t]):null,al(4,4,Qp.bind(null,e,t),n)}function du(){}function qp(t,e){var n=Ct();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&lu(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Xp(t,e){var n=Ct();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&lu(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Jp(t,e,n){return Zn&21?(At(n,e)||(n=rp(),ge.lanes|=n,er|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,rt=!0),t.memoizedState=n)}function w_(t,e){var n=se;se=n!==0&&4>n?n:4,t(!0);var r=Xl.transition;Xl.transition={};try{t(!1),e()}finally{se=n,Xl.transition=r}}function Zp(){return Ct().memoizedState}function x_(t,e,n){var r=kn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},em(t))tm(e,n);else if(n=Op(t,e,n,r),n!==null){var s=Xe();bt(n,t,r,s),nm(n,e,r)}}function C_(t,e,n){var r=kn(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(em(t))tm(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,At(a,o)){var l=e.interleaved;l===null?(s.next=s,nu(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=Op(t,e,s,r),n!==null&&(s=Xe(),bt(n,t,r,s),nm(n,e,r))}}function em(t){var e=t.alternate;return t===ge||e!==null&&e===ge}function tm(t,e){Ms=bo=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function nm(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Uc(t,n)}}var jo={readContext:xt,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useInsertionEffect:Ve,useLayoutEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useMutableSource:Ve,useSyncExternalStore:Ve,useId:Ve,unstable_isNewReconciler:!1},S_={readContext:xt,useCallback:function(t,e){return Mt().memoizedState=[t,e===void 0?null:e],t},useContext:xt,useEffect:sf,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,lo(4194308,4,Qp.bind(null,e,t),n)},useLayoutEffect:function(t,e){return lo(4194308,4,t,e)},useInsertionEffect:function(t,e){return lo(4,2,t,e)},useMemo:function(t,e){var n=Mt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Mt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=x_.bind(null,ge,t),[r.memoizedState,t]},useRef:function(t){var e=Mt();return t={current:t},e.memoizedState=t},useState:rf,useDebugValue:du,useDeferredValue:function(t){return Mt().memoizedState=t},useTransition:function(){var t=rf(!1),e=t[0];return t=w_.bind(null,t[1]),Mt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ge,s=Mt();if(pe){if(n===void 0)throw Error(P(407));n=n()}else{if(n=e(),Me===null)throw Error(P(349));Zn&30||zp(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,sf(Up.bind(null,r,i,t),[t]),r.flags|=2048,li(9,Bp.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Mt(),e=Me.identifierPrefix;if(pe){var n=Yt,r=Gt;n=(r&~(1<<32-Rt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ii++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=__++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},E_={readContext:xt,useCallback:qp,useContext:xt,useEffect:uu,useImperativeHandle:Kp,useInsertionEffect:Gp,useLayoutEffect:Yp,useMemo:Xp,useReducer:Jl,useRef:Hp,useState:function(){return Jl(oi)},useDebugValue:du,useDeferredValue:function(t){var e=Ct();return Jp(e,Pe.memoizedState,t)},useTransition:function(){var t=Jl(oi)[0],e=Ct().memoizedState;return[t,e]},useMutableSource:Fp,useSyncExternalStore:Wp,useId:Zp,unstable_isNewReconciler:!1},k_={readContext:xt,useCallback:qp,useContext:xt,useEffect:uu,useImperativeHandle:Kp,useInsertionEffect:Gp,useLayoutEffect:Yp,useMemo:Xp,useReducer:Zl,useRef:Hp,useState:function(){return Zl(oi)},useDebugValue:du,useDeferredValue:function(t){var e=Ct();return Pe===null?e.memoizedState=t:Jp(e,Pe.memoizedState,t)},useTransition:function(){var t=Zl(oi)[0],e=Ct().memoizedState;return[t,e]},useMutableSource:Fp,useSyncExternalStore:Wp,useId:Zp,unstable_isNewReconciler:!1};function kt(t,e){if(t&&t.defaultProps){e=ye({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Qa(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ye({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var cl={isMounted:function(t){return(t=t._reactInternals)?or(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Xe(),s=kn(t),i=Kt(r,s);i.payload=e,n!=null&&(i.callback=n),e=Sn(t,i,s),e!==null&&(bt(e,t,s,r),io(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Xe(),s=kn(t),i=Kt(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Sn(t,i,s),e!==null&&(bt(e,t,s,r),io(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Xe(),r=kn(t),s=Kt(n,r);s.tag=2,e!=null&&(s.callback=e),e=Sn(t,s,r),e!==null&&(bt(e,t,r,n),io(e,t,r))}};function of(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Zs(n,r)||!Zs(s,i):!0}function rm(t,e,n){var r=!1,s=jn,i=e.contextType;return typeof i=="object"&&i!==null?i=xt(i):(s=ot(e)?Xn:Qe.current,r=e.contextTypes,i=(r=r!=null)?Br(t,s):jn),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=cl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function lf(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&cl.enqueueReplaceState(e,e.state,null)}function Ka(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},ru(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=xt(i):(i=ot(e)?Xn:Qe.current,s.context=Br(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Qa(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&cl.enqueueReplaceState(s,s.state,null),Po(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Hr(t,e){try{var n="",r=e;do n+=Zy(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function ea(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function qa(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var N_=typeof WeakMap=="function"?WeakMap:Map;function sm(t,e,n){n=Kt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Do||(Do=!0,oc=r),qa(t,e)},n}function im(t,e,n){n=Kt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){qa(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){qa(t,e),typeof r!="function"&&(En===null?En=new Set([this]):En.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function af(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new N_;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=z_.bind(null,t,e,n),e.then(t,t))}function cf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function uf(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Kt(-1,1),e.tag=2,Sn(n,e,1))),n.lanes|=1),t)}var T_=rn.ReactCurrentOwner,rt=!1;function Ke(t,e,n,r){e.child=t===null?Dp(e,null,n,r):$r(e,t.child,n,r)}function df(t,e,n,r,s){n=n.render;var i=e.ref;return Or(e,s),r=au(t,e,n,r,i,s),n=cu(),t!==null&&!rt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,en(t,e,s)):(pe&&n&&qc(e),e.flags|=1,Ke(t,e,r,s),e.child)}function ff(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!_u(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,om(t,e,i,r,s)):(t=fo(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Zs,n(o,r)&&t.ref===e.ref)return en(t,e,s)}return e.flags|=1,t=Nn(i,r),t.ref=e.ref,t.return=e,e.child=t}function om(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Zs(i,r)&&t.ref===e.ref)if(rt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(rt=!0);else return e.lanes=t.lanes,en(t,e,s)}return Xa(t,e,n,r,s)}function lm(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(Pr,at),at|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ce(Pr,at),at|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ce(Pr,at),at|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ce(Pr,at),at|=r;return Ke(t,e,s,n),e.child}function am(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Xa(t,e,n,r,s){var i=ot(n)?Xn:Qe.current;return i=Br(e,i),Or(e,s),n=au(t,e,n,r,i,s),r=cu(),t!==null&&!rt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,en(t,e,s)):(pe&&r&&qc(e),e.flags|=1,Ke(t,e,n,s),e.child)}function hf(t,e,n,r,s){if(ot(n)){var i=!0;Eo(e)}else i=!1;if(Or(e,s),e.stateNode===null)ao(t,e),rm(e,n,r),Ka(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=xt(u):(u=ot(n)?Xn:Qe.current,u=Br(e,u));var p=n.getDerivedStateFromProps,f=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&lf(e,o,r,u),hn=!1;var d=e.memoizedState;o.state=d,Po(e,r,o,s),l=e.memoizedState,a!==r||d!==l||it.current||hn?(typeof p=="function"&&(Qa(e,n,p,r),l=e.memoizedState),(a=hn||of(e,n,a,r,d,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Lp(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:kt(e.type,a),o.props=u,f=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=xt(l):(l=ot(n)?Xn:Qe.current,l=Br(e,l));var g=n.getDerivedStateFromProps;(p=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||d!==l)&&lf(e,o,r,l),hn=!1,d=e.memoizedState,o.state=d,Po(e,r,o,s);var _=e.memoizedState;a!==f||d!==_||it.current||hn?(typeof g=="function"&&(Qa(e,n,g,r),_=e.memoizedState),(u=hn||of(e,n,u,r,d,_,l)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Ja(t,e,n,r,i,s)}function Ja(t,e,n,r,s,i){am(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Xd(e,n,!1),en(t,e,i);r=e.stateNode,T_.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=$r(e,t.child,null,i),e.child=$r(e,null,a,i)):Ke(t,e,a,i),e.memoizedState=r.state,s&&Xd(e,n,!0),e.child}function cm(t){var e=t.stateNode;e.pendingContext?qd(t,e.pendingContext,e.pendingContext!==e.context):e.context&&qd(t,e.context,!1),su(t,e.containerInfo)}function pf(t,e,n,r,s){return Ur(),Jc(s),e.flags|=256,Ke(t,e,n,r),e.child}var Za={dehydrated:null,treeContext:null,retryLane:0};function ec(t){return{baseLanes:t,cachePool:null,transitions:null}}function um(t,e,n){var r=e.pendingProps,s=me.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ce(me,s&1),t===null)return Ga(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=fl(o,r,0,null),t=qn(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=ec(n),e.memoizedState=Za,t):fu(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return I_(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Nn(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Nn(a,i):(i=qn(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?ec(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Za,r}return i=t.child,t=i.sibling,r=Nn(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function fu(t,e){return e=fl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Qi(t,e,n,r){return r!==null&&Jc(r),$r(e,t.child,null,n),t=fu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function I_(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=ea(Error(P(422))),Qi(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=fl({mode:"visible",children:r.children},s,0,null),i=qn(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&$r(e,t.child,null,o),e.child.memoizedState=ec(o),e.memoizedState=Za,i);if(!(e.mode&1))return Qi(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(P(419)),r=ea(i,r,void 0),Qi(t,e,o,r)}if(a=(o&t.childLanes)!==0,rt||a){if(r=Me,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Zt(t,s),bt(r,t,s,-1))}return vu(),r=ea(Error(P(421))),Qi(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=B_.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,ct=Cn(s.nextSibling),ut=e,pe=!0,Tt=null,t!==null&&(gt[yt++]=Gt,gt[yt++]=Yt,gt[yt++]=Jn,Gt=t.id,Yt=t.overflow,Jn=e),e=fu(e,r.children),e.flags|=4096,e)}function mf(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ya(t.return,e,n)}function ta(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function dm(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ke(t,e,r.children,n),r=me.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&mf(t,n,e);else if(t.tag===19)mf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ce(me,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Ro(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),ta(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ro(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}ta(e,!0,n,null,i);break;case"together":ta(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ao(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function en(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),er|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(P(153));if(e.child!==null){for(t=e.child,n=Nn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Nn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function P_(t,e,n){switch(e.tag){case 3:cm(e),Ur();break;case 5:Mp(e);break;case 1:ot(e.type)&&Eo(e);break;case 4:su(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ce(To,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ce(me,me.current&1),e.flags|=128,null):n&e.child.childLanes?um(t,e,n):(ce(me,me.current&1),t=en(t,e,n),t!==null?t.sibling:null);ce(me,me.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return dm(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ce(me,me.current),r)break;return null;case 22:case 23:return e.lanes=0,lm(t,e,n)}return en(t,e,n)}var fm,tc,hm,pm;fm=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};tc=function(){};hm=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Yn(zt.current);var i=null;switch(n){case"input":s=Sa(t,s),r=Sa(t,r),i=[];break;case"select":s=ye({},s,{value:void 0}),r=ye({},r,{value:void 0}),i=[];break;case"textarea":s=Na(t,s),r=Na(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Co)}Ia(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Gs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Gs.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&fe("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};pm=function(t,e,n,r){n!==r&&(e.flags|=4)};function xs(t,e){if(!pe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function He(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function R_(t,e,n){var r=e.pendingProps;switch(Xc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(e),null;case 1:return ot(e.type)&&So(),He(e),null;case 3:return r=e.stateNode,Vr(),he(it),he(Qe),ou(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Gi(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Tt!==null&&(cc(Tt),Tt=null))),tc(t,e),He(e),null;case 5:iu(e);var s=Yn(si.current);if(n=e.type,t!==null&&e.stateNode!=null)hm(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(P(166));return He(e),null}if(t=Yn(zt.current),Gi(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Ft]=e,r[ni]=i,t=(e.mode&1)!==0,n){case"dialog":fe("cancel",r),fe("close",r);break;case"iframe":case"object":case"embed":fe("load",r);break;case"video":case"audio":for(s=0;s<bs.length;s++)fe(bs[s],r);break;case"source":fe("error",r);break;case"img":case"image":case"link":fe("error",r),fe("load",r);break;case"details":fe("toggle",r);break;case"input":Sd(r,i),fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},fe("invalid",r);break;case"textarea":kd(r,i),fe("invalid",r)}Ia(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Hi(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Hi(r.textContent,a,t),s=["children",""+a]):Gs.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&fe("scroll",r)}switch(n){case"input":Mi(r),Ed(r,i,!0);break;case"textarea":Mi(r),Nd(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Co)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Uh(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ft]=e,t[ni]=r,fm(t,e,!1,!1),e.stateNode=t;e:{switch(o=Pa(n,r),n){case"dialog":fe("cancel",t),fe("close",t),s=r;break;case"iframe":case"object":case"embed":fe("load",t),s=r;break;case"video":case"audio":for(s=0;s<bs.length;s++)fe(bs[s],t);s=r;break;case"source":fe("error",t),s=r;break;case"img":case"image":case"link":fe("error",t),fe("load",t),s=r;break;case"details":fe("toggle",t),s=r;break;case"input":Sd(t,r),s=Sa(t,r),fe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ye({},r,{value:void 0}),fe("invalid",t);break;case"textarea":kd(t,r),s=Na(t,r),fe("invalid",t);break;default:s=r}Ia(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Hh(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&$h(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ys(t,l):typeof l=="number"&&Ys(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Gs.hasOwnProperty(i)?l!=null&&i==="onScroll"&&fe("scroll",t):l!=null&&Lc(t,i,l,o))}switch(n){case"input":Mi(t),Ed(t,r,!1);break;case"textarea":Mi(t),Nd(t);break;case"option":r.value!=null&&t.setAttribute("value",""+bn(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?br(t,!!r.multiple,i,!1):r.defaultValue!=null&&br(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Co)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return He(e),null;case 6:if(t&&e.stateNode!=null)pm(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(P(166));if(n=Yn(si.current),Yn(zt.current),Gi(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ft]=e,(i=r.nodeValue!==n)&&(t=ut,t!==null))switch(t.tag){case 3:Hi(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Hi(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ft]=e,e.stateNode=r}return He(e),null;case 13:if(he(me),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(pe&&ct!==null&&e.mode&1&&!(e.flags&128))jp(),Ur(),e.flags|=98560,i=!1;else if(i=Gi(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(P(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(P(317));i[Ft]=e}else Ur(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;He(e),i=!1}else Tt!==null&&(cc(Tt),Tt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||me.current&1?je===0&&(je=3):vu())),e.updateQueue!==null&&(e.flags|=4),He(e),null);case 4:return Vr(),tc(t,e),t===null&&ei(e.stateNode.containerInfo),He(e),null;case 10:return tu(e.type._context),He(e),null;case 17:return ot(e.type)&&So(),He(e),null;case 19:if(he(me),i=e.memoizedState,i===null)return He(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)xs(i,!1);else{if(je!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ro(t),o!==null){for(e.flags|=128,xs(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ce(me,me.current&1|2),e.child}t=t.sibling}i.tail!==null&&ke()>Gr&&(e.flags|=128,r=!0,xs(i,!1),e.lanes=4194304)}else{if(!r)if(t=Ro(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),xs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!pe)return He(e),null}else 2*ke()-i.renderingStartTime>Gr&&n!==1073741824&&(e.flags|=128,r=!0,xs(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ke(),e.sibling=null,n=me.current,ce(me,r?n&1|2:n&1),e):(He(e),null);case 22:case 23:return yu(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?at&1073741824&&(He(e),e.subtreeFlags&6&&(e.flags|=8192)):He(e),null;case 24:return null;case 25:return null}throw Error(P(156,e.tag))}function b_(t,e){switch(Xc(e),e.tag){case 1:return ot(e.type)&&So(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Vr(),he(it),he(Qe),ou(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return iu(e),null;case 13:if(he(me),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(P(340));Ur()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return he(me),null;case 4:return Vr(),null;case 10:return tu(e.type._context),null;case 22:case 23:return yu(),null;case 24:return null;default:return null}}var Ki=!1,Ye=!1,j_=typeof WeakSet=="function"?WeakSet:Set,M=null;function Ir(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){we(t,e,r)}else n.current=null}function nc(t,e,n){try{n()}catch(r){we(t,e,r)}}var gf=!1;function A_(t,e){if(Wa=_o,t=_p(),Kc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,p=0,f=t,d=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)d=f,f=g;for(;;){if(f===t)break t;if(d===n&&++u===s&&(a=o),d===i&&++p===r&&(l=o),(g=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(za={focusedElem:t,selectionRange:n},_o=!1,M=e;M!==null;)if(e=M,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,M=t;else for(;M!==null;){e=M;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var C=_.memoizedProps,E=_.memoizedState,y=e.stateNode,m=y.getSnapshotBeforeUpdate(e.elementType===e.type?C:kt(e.type,C),E);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(x){we(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,M=t;break}M=e.return}return _=gf,gf=!1,_}function Fs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&nc(e,n,i)}s=s.next}while(s!==r)}}function ul(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function rc(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function mm(t){var e=t.alternate;e!==null&&(t.alternate=null,mm(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ft],delete e[ni],delete e[$a],delete e[m_],delete e[g_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function gm(t){return t.tag===5||t.tag===3||t.tag===4}function yf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Co));else if(r!==4&&(t=t.child,t!==null))for(sc(t,e,n),t=t.sibling;t!==null;)sc(t,e,n),t=t.sibling}function ic(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ic(t,e,n),t=t.sibling;t!==null;)ic(t,e,n),t=t.sibling}var Fe=null,Nt=!1;function an(t,e,n){for(n=n.child;n!==null;)ym(t,e,n),n=n.sibling}function ym(t,e,n){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(nl,n)}catch{}switch(n.tag){case 5:Ye||Ir(n,e);case 6:var r=Fe,s=Nt;Fe=null,an(t,e,n),Fe=r,Nt=s,Fe!==null&&(Nt?(t=Fe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Fe.removeChild(n.stateNode));break;case 18:Fe!==null&&(Nt?(t=Fe,n=n.stateNode,t.nodeType===8?Ql(t.parentNode,n):t.nodeType===1&&Ql(t,n),Xs(t)):Ql(Fe,n.stateNode));break;case 4:r=Fe,s=Nt,Fe=n.stateNode.containerInfo,Nt=!0,an(t,e,n),Fe=r,Nt=s;break;case 0:case 11:case 14:case 15:if(!Ye&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&nc(n,e,o),s=s.next}while(s!==r)}an(t,e,n);break;case 1:if(!Ye&&(Ir(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){we(n,e,a)}an(t,e,n);break;case 21:an(t,e,n);break;case 22:n.mode&1?(Ye=(r=Ye)||n.memoizedState!==null,an(t,e,n),Ye=r):an(t,e,n);break;default:an(t,e,n)}}function vf(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new j_),e.forEach(function(r){var s=U_.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Et(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Fe=a.stateNode,Nt=!1;break e;case 3:Fe=a.stateNode.containerInfo,Nt=!0;break e;case 4:Fe=a.stateNode.containerInfo,Nt=!0;break e}a=a.return}if(Fe===null)throw Error(P(160));ym(i,o,s),Fe=null,Nt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){we(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)vm(e,t),e=e.sibling}function vm(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Et(e,t),Lt(t),r&4){try{Fs(3,t,t.return),ul(3,t)}catch(C){we(t,t.return,C)}try{Fs(5,t,t.return)}catch(C){we(t,t.return,C)}}break;case 1:Et(e,t),Lt(t),r&512&&n!==null&&Ir(n,n.return);break;case 5:if(Et(e,t),Lt(t),r&512&&n!==null&&Ir(n,n.return),t.flags&32){var s=t.stateNode;try{Ys(s,"")}catch(C){we(t,t.return,C)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&zh(s,i),Pa(a,o);var u=Pa(a,i);for(o=0;o<l.length;o+=2){var p=l[o],f=l[o+1];p==="style"?Hh(s,f):p==="dangerouslySetInnerHTML"?$h(s,f):p==="children"?Ys(s,f):Lc(s,p,f,u)}switch(a){case"input":Ea(s,i);break;case"textarea":Bh(s,i);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?br(s,!!i.multiple,g,!1):d!==!!i.multiple&&(i.defaultValue!=null?br(s,!!i.multiple,i.defaultValue,!0):br(s,!!i.multiple,i.multiple?[]:"",!1))}s[ni]=i}catch(C){we(t,t.return,C)}}break;case 6:if(Et(e,t),Lt(t),r&4){if(t.stateNode===null)throw Error(P(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(C){we(t,t.return,C)}}break;case 3:if(Et(e,t),Lt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Xs(e.containerInfo)}catch(C){we(t,t.return,C)}break;case 4:Et(e,t),Lt(t);break;case 13:Et(e,t),Lt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(mu=ke())),r&4&&vf(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(Ye=(u=Ye)||p,Et(e,t),Ye=u):Et(e,t),Lt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!p&&t.mode&1)for(M=t,p=t.child;p!==null;){for(f=M=p;M!==null;){switch(d=M,g=d.child,d.tag){case 0:case 11:case 14:case 15:Fs(4,d,d.return);break;case 1:Ir(d,d.return);var _=d.stateNode;if(typeof _.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(C){we(r,n,C)}}break;case 5:Ir(d,d.return);break;case 22:if(d.memoizedState!==null){wf(f);continue}}g!==null?(g.return=d,M=g):wf(f)}p=p.sibling}e:for(p=null,f=t;;){if(f.tag===5){if(p===null){p=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Vh("display",o))}catch(C){we(t,t.return,C)}}}else if(f.tag===6){if(p===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(C){we(t,t.return,C)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;p===f&&(p=null),f=f.return}p===f&&(p=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Et(e,t),Lt(t),r&4&&vf(t);break;case 21:break;default:Et(e,t),Lt(t)}}function Lt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(gm(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ys(s,""),r.flags&=-33);var i=yf(t);ic(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=yf(t);sc(t,a,o);break;default:throw Error(P(161))}}catch(l){we(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function D_(t,e,n){M=t,_m(t)}function _m(t,e,n){for(var r=(t.mode&1)!==0;M!==null;){var s=M,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ki;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ye;a=Ki;var u=Ye;if(Ki=o,(Ye=l)&&!u)for(M=s;M!==null;)o=M,l=o.child,o.tag===22&&o.memoizedState!==null?xf(s):l!==null?(l.return=o,M=l):xf(s);for(;i!==null;)M=i,_m(i),i=i.sibling;M=s,Ki=a,Ye=u}_f(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,M=i):_f(t)}}function _f(t){for(;M!==null;){var e=M;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ye||ul(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ye)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:kt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&nf(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}nf(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var p=u.memoizedState;if(p!==null){var f=p.dehydrated;f!==null&&Xs(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}Ye||e.flags&512&&rc(e)}catch(d){we(e,e.return,d)}}if(e===t){M=null;break}if(n=e.sibling,n!==null){n.return=e.return,M=n;break}M=e.return}}function wf(t){for(;M!==null;){var e=M;if(e===t){M=null;break}var n=e.sibling;if(n!==null){n.return=e.return,M=n;break}M=e.return}}function xf(t){for(;M!==null;){var e=M;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ul(4,e)}catch(l){we(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){we(e,s,l)}}var i=e.return;try{rc(e)}catch(l){we(e,i,l)}break;case 5:var o=e.return;try{rc(e)}catch(l){we(e,o,l)}}}catch(l){we(e,e.return,l)}if(e===t){M=null;break}var a=e.sibling;if(a!==null){a.return=e.return,M=a;break}M=e.return}}var O_=Math.ceil,Ao=rn.ReactCurrentDispatcher,hu=rn.ReactCurrentOwner,wt=rn.ReactCurrentBatchConfig,ee=0,Me=null,Ie=null,ze=0,at=0,Pr=Mn(0),je=0,ai=null,er=0,dl=0,pu=0,Ws=null,nt=null,mu=0,Gr=1/0,Vt=null,Do=!1,oc=null,En=null,qi=!1,yn=null,Oo=0,zs=0,lc=null,co=-1,uo=0;function Xe(){return ee&6?ke():co!==-1?co:co=ke()}function kn(t){return t.mode&1?ee&2&&ze!==0?ze&-ze:v_.transition!==null?(uo===0&&(uo=rp()),uo):(t=se,t!==0||(t=window.event,t=t===void 0?16:up(t.type)),t):1}function bt(t,e,n,r){if(50<zs)throw zs=0,lc=null,Error(P(185));Ci(t,n,r),(!(ee&2)||t!==Me)&&(t===Me&&(!(ee&2)&&(dl|=n),je===4&&mn(t,ze)),lt(t,r),n===1&&ee===0&&!(e.mode&1)&&(Gr=ke()+500,ll&&Fn()))}function lt(t,e){var n=t.callbackNode;vv(t,e);var r=vo(t,t===Me?ze:0);if(r===0)n!==null&&Pd(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Pd(n),e===1)t.tag===0?y_(Cf.bind(null,t)):Pp(Cf.bind(null,t)),h_(function(){!(ee&6)&&Fn()}),n=null;else{switch(sp(r)){case 1:n=Bc;break;case 4:n=tp;break;case 16:n=yo;break;case 536870912:n=np;break;default:n=yo}n=Tm(n,wm.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function wm(t,e){if(co=-1,uo=0,ee&6)throw Error(P(327));var n=t.callbackNode;if(Lr()&&t.callbackNode!==n)return null;var r=vo(t,t===Me?ze:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Lo(t,r);else{e=r;var s=ee;ee|=2;var i=Cm();(Me!==t||ze!==e)&&(Vt=null,Gr=ke()+500,Kn(t,e));do try{F_();break}catch(a){xm(t,a)}while(!0);eu(),Ao.current=i,ee=s,Ie!==null?e=0:(Me=null,ze=0,e=je)}if(e!==0){if(e===2&&(s=Da(t),s!==0&&(r=s,e=ac(t,s))),e===1)throw n=ai,Kn(t,0),mn(t,r),lt(t,ke()),n;if(e===6)mn(t,r);else{if(s=t.current.alternate,!(r&30)&&!L_(s)&&(e=Lo(t,r),e===2&&(i=Da(t),i!==0&&(r=i,e=ac(t,i))),e===1))throw n=ai,Kn(t,0),mn(t,r),lt(t,ke()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(P(345));case 2:Un(t,nt,Vt);break;case 3:if(mn(t,r),(r&130023424)===r&&(e=mu+500-ke(),10<e)){if(vo(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Xe(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ua(Un.bind(null,t,nt,Vt),e);break}Un(t,nt,Vt);break;case 4:if(mn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Rt(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*O_(r/1960))-r,10<r){t.timeoutHandle=Ua(Un.bind(null,t,nt,Vt),r);break}Un(t,nt,Vt);break;case 5:Un(t,nt,Vt);break;default:throw Error(P(329))}}}return lt(t,ke()),t.callbackNode===n?wm.bind(null,t):null}function ac(t,e){var n=Ws;return t.current.memoizedState.isDehydrated&&(Kn(t,e).flags|=256),t=Lo(t,e),t!==2&&(e=nt,nt=n,e!==null&&cc(e)),t}function cc(t){nt===null?nt=t:nt.push.apply(nt,t)}function L_(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!At(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function mn(t,e){for(e&=~pu,e&=~dl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Rt(e),r=1<<n;t[n]=-1,e&=~r}}function Cf(t){if(ee&6)throw Error(P(327));Lr();var e=vo(t,0);if(!(e&1))return lt(t,ke()),null;var n=Lo(t,e);if(t.tag!==0&&n===2){var r=Da(t);r!==0&&(e=r,n=ac(t,r))}if(n===1)throw n=ai,Kn(t,0),mn(t,e),lt(t,ke()),n;if(n===6)throw Error(P(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Un(t,nt,Vt),lt(t,ke()),null}function gu(t,e){var n=ee;ee|=1;try{return t(e)}finally{ee=n,ee===0&&(Gr=ke()+500,ll&&Fn())}}function tr(t){yn!==null&&yn.tag===0&&!(ee&6)&&Lr();var e=ee;ee|=1;var n=wt.transition,r=se;try{if(wt.transition=null,se=1,t)return t()}finally{se=r,wt.transition=n,ee=e,!(ee&6)&&Fn()}}function yu(){at=Pr.current,he(Pr)}function Kn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,f_(n)),Ie!==null)for(n=Ie.return;n!==null;){var r=n;switch(Xc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&So();break;case 3:Vr(),he(it),he(Qe),ou();break;case 5:iu(r);break;case 4:Vr();break;case 13:he(me);break;case 19:he(me);break;case 10:tu(r.type._context);break;case 22:case 23:yu()}n=n.return}if(Me=t,Ie=t=Nn(t.current,null),ze=at=e,je=0,ai=null,pu=dl=er=0,nt=Ws=null,Gn!==null){for(e=0;e<Gn.length;e++)if(n=Gn[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Gn=null}return t}function xm(t,e){do{var n=Ie;try{if(eu(),oo.current=jo,bo){for(var r=ge.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}bo=!1}if(Zn=0,Oe=Pe=ge=null,Ms=!1,ii=0,hu.current=null,n===null||n.return===null){je=1,ai=e,Ie=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=ze,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,p=a,f=p.tag;if(!(p.mode&1)&&(f===0||f===11||f===15)){var d=p.alternate;d?(p.updateQueue=d.updateQueue,p.memoizedState=d.memoizedState,p.lanes=d.lanes):(p.updateQueue=null,p.memoizedState=null)}var g=cf(o);if(g!==null){g.flags&=-257,uf(g,o,a,i,e),g.mode&1&&af(i,u,e),e=g,l=u;var _=e.updateQueue;if(_===null){var C=new Set;C.add(l),e.updateQueue=C}else _.add(l);break e}else{if(!(e&1)){af(i,u,e),vu();break e}l=Error(P(426))}}else if(pe&&a.mode&1){var E=cf(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),uf(E,o,a,i,e),Jc(Hr(l,a));break e}}i=l=Hr(l,a),je!==4&&(je=2),Ws===null?Ws=[i]:Ws.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=sm(i,l,e);tf(i,y);break e;case 1:a=l;var m=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(En===null||!En.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e;var x=im(i,a,e);tf(i,x);break e}}i=i.return}while(i!==null)}Em(n)}catch(k){e=k,Ie===n&&n!==null&&(Ie=n=n.return);continue}break}while(!0)}function Cm(){var t=Ao.current;return Ao.current=jo,t===null?jo:t}function vu(){(je===0||je===3||je===2)&&(je=4),Me===null||!(er&268435455)&&!(dl&268435455)||mn(Me,ze)}function Lo(t,e){var n=ee;ee|=2;var r=Cm();(Me!==t||ze!==e)&&(Vt=null,Kn(t,e));do try{M_();break}catch(s){xm(t,s)}while(!0);if(eu(),ee=n,Ao.current=r,Ie!==null)throw Error(P(261));return Me=null,ze=0,je}function M_(){for(;Ie!==null;)Sm(Ie)}function F_(){for(;Ie!==null&&!cv();)Sm(Ie)}function Sm(t){var e=Nm(t.alternate,t,at);t.memoizedProps=t.pendingProps,e===null?Em(t):Ie=e,hu.current=null}function Em(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=b_(n,e),n!==null){n.flags&=32767,Ie=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{je=6,Ie=null;return}}else if(n=R_(n,e,at),n!==null){Ie=n;return}if(e=e.sibling,e!==null){Ie=e;return}Ie=e=t}while(e!==null);je===0&&(je=5)}function Un(t,e,n){var r=se,s=wt.transition;try{wt.transition=null,se=1,W_(t,e,n,r)}finally{wt.transition=s,se=r}return null}function W_(t,e,n,r){do Lr();while(yn!==null);if(ee&6)throw Error(P(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(P(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(_v(t,i),t===Me&&(Ie=Me=null,ze=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||qi||(qi=!0,Tm(yo,function(){return Lr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=wt.transition,wt.transition=null;var o=se;se=1;var a=ee;ee|=4,hu.current=null,A_(t,n),vm(n,t),i_(za),_o=!!Wa,za=Wa=null,t.current=n,D_(n),uv(),ee=a,se=o,wt.transition=i}else t.current=n;if(qi&&(qi=!1,yn=t,Oo=s),i=t.pendingLanes,i===0&&(En=null),hv(n.stateNode),lt(t,ke()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Do)throw Do=!1,t=oc,oc=null,t;return Oo&1&&t.tag!==0&&Lr(),i=t.pendingLanes,i&1?t===lc?zs++:(zs=0,lc=t):zs=0,Fn(),null}function Lr(){if(yn!==null){var t=sp(Oo),e=wt.transition,n=se;try{if(wt.transition=null,se=16>t?16:t,yn===null)var r=!1;else{if(t=yn,yn=null,Oo=0,ee&6)throw Error(P(331));var s=ee;for(ee|=4,M=t.current;M!==null;){var i=M,o=i.child;if(M.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(M=u;M!==null;){var p=M;switch(p.tag){case 0:case 11:case 15:Fs(8,p,i)}var f=p.child;if(f!==null)f.return=p,M=f;else for(;M!==null;){p=M;var d=p.sibling,g=p.return;if(mm(p),p===u){M=null;break}if(d!==null){d.return=g,M=d;break}M=g}}}var _=i.alternate;if(_!==null){var C=_.child;if(C!==null){_.child=null;do{var E=C.sibling;C.sibling=null,C=E}while(C!==null)}}M=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,M=o;else e:for(;M!==null;){if(i=M,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Fs(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,M=y;break e}M=i.return}}var m=t.current;for(M=m;M!==null;){o=M;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,M=v;else e:for(o=m;M!==null;){if(a=M,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ul(9,a)}}catch(k){we(a,a.return,k)}if(a===o){M=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,M=x;break e}M=a.return}}if(ee=s,Fn(),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(nl,t)}catch{}r=!0}return r}finally{se=n,wt.transition=e}}return!1}function Sf(t,e,n){e=Hr(n,e),e=sm(t,e,1),t=Sn(t,e,1),e=Xe(),t!==null&&(Ci(t,1,e),lt(t,e))}function we(t,e,n){if(t.tag===3)Sf(t,t,n);else for(;e!==null;){if(e.tag===3){Sf(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(En===null||!En.has(r))){t=Hr(n,t),t=im(e,t,1),e=Sn(e,t,1),t=Xe(),e!==null&&(Ci(e,1,t),lt(e,t));break}}e=e.return}}function z_(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Xe(),t.pingedLanes|=t.suspendedLanes&n,Me===t&&(ze&n)===n&&(je===4||je===3&&(ze&130023424)===ze&&500>ke()-mu?Kn(t,0):pu|=n),lt(t,e)}function km(t,e){e===0&&(t.mode&1?(e=zi,zi<<=1,!(zi&130023424)&&(zi=4194304)):e=1);var n=Xe();t=Zt(t,e),t!==null&&(Ci(t,e,n),lt(t,n))}function B_(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),km(t,n)}function U_(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(e),km(t,n)}var Nm;Nm=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||it.current)rt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return rt=!1,P_(t,e,n);rt=!!(t.flags&131072)}else rt=!1,pe&&e.flags&1048576&&Rp(e,No,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ao(t,e),t=e.pendingProps;var s=Br(e,Qe.current);Or(e,n),s=au(null,e,r,t,s,n);var i=cu();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ot(r)?(i=!0,Eo(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ru(e),s.updater=cl,e.stateNode=s,s._reactInternals=e,Ka(e,r,t,n),e=Ja(null,e,r,!0,i,n)):(e.tag=0,pe&&i&&qc(e),Ke(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ao(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=V_(r),t=kt(r,t),s){case 0:e=Xa(null,e,r,t,n);break e;case 1:e=hf(null,e,r,t,n);break e;case 11:e=df(null,e,r,t,n);break e;case 14:e=ff(null,e,r,kt(r.type,t),n);break e}throw Error(P(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:kt(r,s),Xa(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:kt(r,s),hf(t,e,r,s,n);case 3:e:{if(cm(e),t===null)throw Error(P(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Lp(t,e),Po(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Hr(Error(P(423)),e),e=pf(t,e,r,n,s);break e}else if(r!==s){s=Hr(Error(P(424)),e),e=pf(t,e,r,n,s);break e}else for(ct=Cn(e.stateNode.containerInfo.firstChild),ut=e,pe=!0,Tt=null,n=Dp(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ur(),r===s){e=en(t,e,n);break e}Ke(t,e,r,n)}e=e.child}return e;case 5:return Mp(e),t===null&&Ga(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Ba(r,s)?o=null:i!==null&&Ba(r,i)&&(e.flags|=32),am(t,e),Ke(t,e,o,n),e.child;case 6:return t===null&&Ga(e),null;case 13:return um(t,e,n);case 4:return su(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=$r(e,null,r,n):Ke(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:kt(r,s),df(t,e,r,s,n);case 7:return Ke(t,e,e.pendingProps,n),e.child;case 8:return Ke(t,e,e.pendingProps.children,n),e.child;case 12:return Ke(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ce(To,r._currentValue),r._currentValue=o,i!==null)if(At(i.value,o)){if(i.children===s.children&&!it.current){e=en(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Kt(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var p=u.pending;p===null?l.next=l:(l.next=p.next,p.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Ya(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(P(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ya(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ke(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Or(e,n),s=xt(s),r=r(s),e.flags|=1,Ke(t,e,r,n),e.child;case 14:return r=e.type,s=kt(r,e.pendingProps),s=kt(r.type,s),ff(t,e,r,s,n);case 15:return om(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:kt(r,s),ao(t,e),e.tag=1,ot(r)?(t=!0,Eo(e)):t=!1,Or(e,n),rm(e,r,s),Ka(e,r,s,n),Ja(null,e,r,!0,t,n);case 19:return dm(t,e,n);case 22:return lm(t,e,n)}throw Error(P(156,e.tag))};function Tm(t,e){return ep(t,e)}function $_(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vt(t,e,n,r){return new $_(t,e,n,r)}function _u(t){return t=t.prototype,!(!t||!t.isReactComponent)}function V_(t){if(typeof t=="function")return _u(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Fc)return 11;if(t===Wc)return 14}return 2}function Nn(t,e){var n=t.alternate;return n===null?(n=vt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function fo(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")_u(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case _r:return qn(n.children,s,i,e);case Mc:o=8,s|=8;break;case _a:return t=vt(12,n,e,s|2),t.elementType=_a,t.lanes=i,t;case wa:return t=vt(13,n,e,s),t.elementType=wa,t.lanes=i,t;case xa:return t=vt(19,n,e,s),t.elementType=xa,t.lanes=i,t;case Mh:return fl(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Oh:o=10;break e;case Lh:o=9;break e;case Fc:o=11;break e;case Wc:o=14;break e;case fn:o=16,r=null;break e}throw Error(P(130,t==null?t:typeof t,""))}return e=vt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function qn(t,e,n,r){return t=vt(7,t,r,e),t.lanes=n,t}function fl(t,e,n,r){return t=vt(22,t,r,e),t.elementType=Mh,t.lanes=n,t.stateNode={isHidden:!1},t}function na(t,e,n){return t=vt(6,t,null,e),t.lanes=n,t}function ra(t,e,n){return e=vt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function H_(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ml(0),this.expirationTimes=Ml(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ml(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function wu(t,e,n,r,s,i,o,a,l){return t=new H_(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=vt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ru(i),t}function G_(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Im(t){if(!t)return jn;t=t._reactInternals;e:{if(or(t)!==t||t.tag!==1)throw Error(P(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ot(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(P(171))}if(t.tag===1){var n=t.type;if(ot(n))return Ip(t,n,e)}return e}function Pm(t,e,n,r,s,i,o,a,l){return t=wu(n,r,!0,t,s,i,o,a,l),t.context=Im(null),n=t.current,r=Xe(),s=kn(n),i=Kt(r,s),i.callback=e??null,Sn(n,i,s),t.current.lanes=s,Ci(t,s,r),lt(t,r),t}function hl(t,e,n,r){var s=e.current,i=Xe(),o=kn(s);return n=Im(n),e.context===null?e.context=n:e.pendingContext=n,e=Kt(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Sn(s,e,o),t!==null&&(bt(t,s,o,i),io(t,s,o)),o}function Mo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ef(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function xu(t,e){Ef(t,e),(t=t.alternate)&&Ef(t,e)}function Y_(){return null}var Rm=typeof reportError=="function"?reportError:function(t){console.error(t)};function Cu(t){this._internalRoot=t}pl.prototype.render=Cu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(P(409));hl(t,e,null,null)};pl.prototype.unmount=Cu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;tr(function(){hl(null,t,null,null)}),e[Jt]=null}};function pl(t){this._internalRoot=t}pl.prototype.unstable_scheduleHydration=function(t){if(t){var e=lp();t={blockedOn:null,target:t,priority:e};for(var n=0;n<pn.length&&e!==0&&e<pn[n].priority;n++);pn.splice(n,0,t),n===0&&cp(t)}};function Su(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ml(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function kf(){}function Q_(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Mo(o);i.call(u)}}var o=Pm(e,r,t,0,null,!1,!1,"",kf);return t._reactRootContainer=o,t[Jt]=o.current,ei(t.nodeType===8?t.parentNode:t),tr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Mo(l);a.call(u)}}var l=wu(t,0,!1,null,null,!1,!1,"",kf);return t._reactRootContainer=l,t[Jt]=l.current,ei(t.nodeType===8?t.parentNode:t),tr(function(){hl(e,l,n,r)}),l}function gl(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Mo(o);a.call(l)}}hl(e,o,t,s)}else o=Q_(n,e,t,s,r);return Mo(o)}ip=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Rs(e.pendingLanes);n!==0&&(Uc(e,n|1),lt(e,ke()),!(ee&6)&&(Gr=ke()+500,Fn()))}break;case 13:tr(function(){var r=Zt(t,1);if(r!==null){var s=Xe();bt(r,t,1,s)}}),xu(t,1)}};$c=function(t){if(t.tag===13){var e=Zt(t,134217728);if(e!==null){var n=Xe();bt(e,t,134217728,n)}xu(t,134217728)}};op=function(t){if(t.tag===13){var e=kn(t),n=Zt(t,e);if(n!==null){var r=Xe();bt(n,t,e,r)}xu(t,e)}};lp=function(){return se};ap=function(t,e){var n=se;try{return se=t,e()}finally{se=n}};ba=function(t,e,n){switch(e){case"input":if(Ea(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=ol(r);if(!s)throw Error(P(90));Wh(r),Ea(r,s)}}}break;case"textarea":Bh(t,n);break;case"select":e=n.value,e!=null&&br(t,!!n.multiple,e,!1)}};Qh=gu;Kh=tr;var K_={usingClientEntryPoint:!1,Events:[Ei,Sr,ol,Gh,Yh,gu]},Cs={findFiberByHostInstance:Hn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},q_={bundleType:Cs.bundleType,version:Cs.version,rendererPackageName:Cs.rendererPackageName,rendererConfig:Cs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Jh(t),t===null?null:t.stateNode},findFiberByHostInstance:Cs.findFiberByHostInstance||Y_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xi.isDisabled&&Xi.supportsFiber)try{nl=Xi.inject(q_),Wt=Xi}catch{}}ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K_;ft.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Su(e))throw Error(P(200));return G_(t,e,null,n)};ft.createRoot=function(t,e){if(!Su(t))throw Error(P(299));var n=!1,r="",s=Rm;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=wu(t,1,!1,null,null,n,!1,r,s),t[Jt]=e.current,ei(t.nodeType===8?t.parentNode:t),new Cu(e)};ft.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(P(188)):(t=Object.keys(t).join(","),Error(P(268,t)));return t=Jh(e),t=t===null?null:t.stateNode,t};ft.flushSync=function(t){return tr(t)};ft.hydrate=function(t,e,n){if(!ml(e))throw Error(P(200));return gl(null,t,e,!0,n)};ft.hydrateRoot=function(t,e,n){if(!Su(t))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Rm;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Pm(e,null,t,1,n??null,s,!1,i,o),t[Jt]=e.current,ei(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new pl(e)};ft.render=function(t,e,n){if(!ml(e))throw Error(P(200));return gl(null,t,e,!1,n)};ft.unmountComponentAtNode=function(t){if(!ml(t))throw Error(P(40));return t._reactRootContainer?(tr(function(){gl(null,null,t,!1,function(){t._reactRootContainer=null,t[Jt]=null})}),!0):!1};ft.unstable_batchedUpdates=gu;ft.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ml(n))throw Error(P(200));if(t==null||t._reactInternals===void 0)throw Error(P(38));return gl(t,e,n,!1,r)};ft.version="18.3.1-next-f1338f8080-20240426";function bm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bm)}catch(t){console.error(t)}}bm(),bh.exports=ft;var X_=bh.exports,Nf=X_;ya.createRoot=Nf.createRoot,ya.hydrateRoot=Nf.hydrateRoot;var Tf={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j=function(t,e){if(!t)throw ns(e)},ns=function(t){return new Error("Firebase Database ("+jm.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},J_=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Eu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,p=i>>2,f=(i&3)<<4|a>>4;let d=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(d=64)),r.push(n[p],n[f],n[d],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Am(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):J_(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||f==null)throw new Z_;const d=i<<2|a>>4;if(r.push(d),u!==64){const g=a<<4&240|u>>2;if(r.push(g),f!==64){const _=u<<6&192|f;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Z_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Dm=function(t){const e=Am(t);return Eu.encodeByteArray(e,!0)},Fo=function(t){return Dm(t).replace(/\./g,"")},uc=function(t){try{return Eu.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(t){return Om(void 0,t)}function Om(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!t0(n)||(t[n]=Om(t[n],e[n]));return t}function t0(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0=()=>n0().__FIREBASE_DEFAULTS__,s0=()=>{if(typeof process>"u"||typeof Tf>"u")return;const t=Tf.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},i0=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&uc(t[1]);return e&&JSON.parse(e)},Lm=()=>{try{return r0()||s0()||i0()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},o0=t=>{var e,n;return(n=(e=Lm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},l0=t=>{const e=o0(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Mm=()=>{var t;return(t=Lm())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Fo(JSON.stringify(n)),Fo(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Fm(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(c0())}function u0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function d0(){return jm.NODE_ADMIN===!0}function f0(){try{return typeof indexedDB=="object"}catch{return!1}}function h0(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="FirebaseError";class Ti extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=p0,Object.setPrototypeOf(this,Ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wm.prototype.create)}}class Wm{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?m0(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Ti(s,a,r)}}function m0(t,e){return t.replace(g0,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const g0=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(t){return JSON.parse(t)}function be(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm=function(t){let e={},n={},r={},s="";try{const i=t.split(".");e=ci(uc(i[0])||""),n=ci(uc(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},y0=function(t){const e=zm(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},v0=function(t){const e=zm(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Yr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function If(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Wo(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function dc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Pf(i)&&Pf(o)){if(!dc(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Pf(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)r[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)r[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const d=r[f-3]^r[f-8]^r[f-14]^r[f-16];r[f]=(d<<1|d>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,p;for(let f=0;f<80;f++){f<40?f<20?(u=a^i&(o^a),p=1518500249):(u=i^o^a,p=1859775393):f<60?(u=i&o|a&(i|o),p=2400959708):(u=i^o^a,p=3395469782);const d=(s<<5|s>>>27)+u+l+p+r[f]&4294967295;l=a,a=o,o=(i<<30|i>>>2)&4294967295,i=s,s=d}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const i=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(i[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}else for(;s<n;)if(i[o]=e[s],++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function yl(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,j(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;s=65536+(i<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},vl=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(t){return t&&t._delegate?t._delegate:t}class ui{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Ni;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(E0(e))try{this.getOrInitializeService({instanceIdentifier:$n})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=$n){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$n){return this.instances.has(e)}getOptions(e=$n){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:S0(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$n){return this.component?this.component.multipleInstances?e:$n:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function S0(t){return t===$n?void 0:t}function E0(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new C0(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(le||(le={}));const N0={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},T0=le.INFO,I0={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},P0=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=I0[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bm{constructor(e){this.name=e,this._logLevel=T0,this._logHandler=P0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?N0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}}const R0=(t,e)=>e.some(n=>t instanceof n);let Rf,bf;function b0(){return Rf||(Rf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function j0(){return bf||(bf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Um=new WeakMap,fc=new WeakMap,$m=new WeakMap,sa=new WeakMap,ku=new WeakMap;function A0(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Tn(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Um.set(n,t)}).catch(()=>{}),ku.set(e,t),e}function D0(t){if(fc.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});fc.set(t,e)}let hc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return fc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$m.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Tn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function O0(t){hc=t(hc)}function L0(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ia(this),e,...n);return $m.set(r,e.sort?e.sort():[e]),Tn(r)}:j0().includes(t)?function(...e){return t.apply(ia(this),e),Tn(Um.get(this))}:function(...e){return Tn(t.apply(ia(this),e))}}function M0(t){return typeof t=="function"?L0(t):(t instanceof IDBTransaction&&D0(t),R0(t,b0())?new Proxy(t,hc):t)}function Tn(t){if(t instanceof IDBRequest)return A0(t);if(sa.has(t))return sa.get(t);const e=M0(t);return e!==t&&(sa.set(t,e),ku.set(e,t)),e}const ia=t=>ku.get(t);function F0(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Tn(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Tn(o.result),l.oldVersion,l.newVersion,Tn(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const W0=["get","getKey","getAll","getAllKeys","count"],z0=["put","add","delete","clear"],oa=new Map;function jf(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(oa.get(e))return oa.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=z0.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||W0.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return oa.set(e,i),i}O0(t=>({...t,get:(e,n,r)=>jf(e,n)||t.get(e,n,r),has:(e,n)=>!!jf(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(U0(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function U0(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const pc="@firebase/app",Af="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn=new Bm("@firebase/app"),$0="@firebase/app-compat",V0="@firebase/analytics-compat",H0="@firebase/analytics",G0="@firebase/app-check-compat",Y0="@firebase/app-check",Q0="@firebase/auth",K0="@firebase/auth-compat",q0="@firebase/database",X0="@firebase/data-connect",J0="@firebase/database-compat",Z0="@firebase/functions",ew="@firebase/functions-compat",tw="@firebase/installations",nw="@firebase/installations-compat",rw="@firebase/messaging",sw="@firebase/messaging-compat",iw="@firebase/performance",ow="@firebase/performance-compat",lw="@firebase/remote-config",aw="@firebase/remote-config-compat",cw="@firebase/storage",uw="@firebase/storage-compat",dw="@firebase/firestore",fw="@firebase/vertexai-preview",hw="@firebase/firestore-compat",pw="firebase",mw="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc="[DEFAULT]",gw={[pc]:"fire-core",[$0]:"fire-core-compat",[H0]:"fire-analytics",[V0]:"fire-analytics-compat",[Y0]:"fire-app-check",[G0]:"fire-app-check-compat",[Q0]:"fire-auth",[K0]:"fire-auth-compat",[q0]:"fire-rtdb",[X0]:"fire-data-connect",[J0]:"fire-rtdb-compat",[Z0]:"fire-fn",[ew]:"fire-fn-compat",[tw]:"fire-iid",[nw]:"fire-iid-compat",[rw]:"fire-fcm",[sw]:"fire-fcm-compat",[iw]:"fire-perf",[ow]:"fire-perf-compat",[lw]:"fire-rc",[aw]:"fire-rc-compat",[cw]:"fire-gcs",[uw]:"fire-gcs-compat",[dw]:"fire-fst",[hw]:"fire-fst-compat",[fw]:"fire-vertex","fire-js":"fire-js",[pw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo=new Map,yw=new Map,gc=new Map;function Df(t,e){try{t.container.addComponent(e)}catch(n){tn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Bo(t){const e=t.name;if(gc.has(e))return tn.debug(`There were multiple attempts to register component ${e}.`),!1;gc.set(e,t);for(const n of zo.values())Df(n,t);for(const n of yw.values())Df(n,t);return!0}function vw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},In=new Wm("app","Firebase",_w);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ui("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw In.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw=mw;function Vm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:mc,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw In.create("bad-app-name",{appName:String(s)});if(n||(n=Mm()),!n)throw In.create("no-options");const i=zo.get(s);if(i){if(dc(n,i.options)&&dc(r,i.config))return i;throw In.create("duplicate-app",{appName:s})}const o=new k0(s);for(const l of gc.values())o.addComponent(l);const a=new ww(n,r,o);return zo.set(s,a),a}function Cw(t=mc){const e=zo.get(t);if(!e&&t===mc&&Mm())return Vm();if(!e)throw In.create("no-app",{appName:t});return e}function Mr(t,e,n){var r;let s=(r=gw[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),tn.warn(a.join(" "));return}Bo(new ui(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw="firebase-heartbeat-database",Ew=1,di="firebase-heartbeat-store";let la=null;function Hm(){return la||(la=F0(Sw,Ew,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(di)}catch(n){console.warn(n)}}}}).catch(t=>{throw In.create("idb-open",{originalErrorMessage:t.message})})),la}async function kw(t){try{const n=(await Hm()).transaction(di),r=await n.objectStore(di).get(Gm(t));return await n.done,r}catch(e){if(e instanceof Ti)tn.warn(e.message);else{const n=In.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});tn.warn(n.message)}}}async function Of(t,e){try{const r=(await Hm()).transaction(di,"readwrite");await r.objectStore(di).put(e,Gm(t)),await r.done}catch(n){if(n instanceof Ti)tn.warn(n.message);else{const r=In.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});tn.warn(r.message)}}}function Gm(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw=1024,Tw=30*24*60*60*1e3;class Iw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Rw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Lf();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Tw}),this._storage.overwrite(this._heartbeatsCache))}catch(r){tn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Lf(),{heartbeatsToSend:r,unsentEntries:s}=Pw(this._heartbeatsCache.heartbeats),i=Fo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return tn.warn(n),""}}}function Lf(){return new Date().toISOString().substring(0,10)}function Pw(t,e=Nw){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Mf(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Mf(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Rw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return f0()?h0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await kw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Of(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Of(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Mf(t){return Fo(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(t){Bo(new ui("platform-logger",e=>new B0(e),"PRIVATE")),Bo(new ui("heartbeat",e=>new Iw(e),"PRIVATE")),Mr(pc,Af,t),Mr(pc,Af,"esm2017"),Mr("fire-js","")}bw("");var jw="firebase",Aw="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mr(jw,Aw,"app");var Ff={};const Wf="@firebase/database",zf="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ym="";function Dw(t){Ym=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),be(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:ci(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Bt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Ow(e)}}catch{}return new Lw},Qn=Qm("localStorage"),Mw=Qm("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr=new Bm("@firebase/database"),Fw=function(){let t=1;return function(){return t++}}(),Km=function(t){const e=x0(t),n=new w0;n.update(e);const r=n.digest();return Eu.encodeByteArray(r)},Ii=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ii.apply(null,r):typeof r=="object"?e+=be(r):e+=r,e+=" "}return e};let Bs=null,Bf=!0;const Ww=function(t,e){j(!0,"Can't turn on custom loggers persistently."),Fr.logLevel=le.VERBOSE,Bs=Fr.log.bind(Fr)},We=function(...t){if(Bf===!0&&(Bf=!1,Bs===null&&Mw.get("logging_enabled")===!0&&Ww()),Bs){const e=Ii.apply(null,t);Bs(e)}},Pi=function(t){return function(...e){We(t,...e)}},yc=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ii(...t);Fr.error(e)},nn=function(...t){const e=`FIREBASE FATAL ERROR: ${Ii(...t)}`;throw Fr.error(e),new Error(e)},Je=function(...t){const e="FIREBASE WARNING: "+Ii(...t);Fr.warn(e)},zw=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Je("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Nu=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Bw=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Qr="[MIN_NAME]",nr="[MAX_NAME]",ar=function(t,e){if(t===e)return 0;if(t===Qr||e===nr)return-1;if(e===Qr||t===nr)return 1;{const n=Uf(t),r=Uf(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},Uw=function(t,e){return t===e?0:t<e?-1:1},Ss=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+be(e))},Tu=function(t){if(typeof t!="object"||t===null)return be(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=be(e[r]),n+=":",n+=Tu(t[e[r]]);return n+="}",n},qm=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function Ue(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Xm=function(t){j(!Nu(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,i,o,a,l;t===0?(i=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(i%2?1:0),i=Math.floor(i/2);u.push(s?1:0),u.reverse();const p=u.join("");let f="";for(l=0;l<64;l+=8){let d=parseInt(p.substr(l,8),2).toString(16);d.length===1&&(d="0"+d),f=f+d}return f.toLowerCase()},$w=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Vw=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Hw(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const Gw=new RegExp("^-?(0*)\\d{1,10}$"),Yw=-2147483648,Qw=2147483647,Uf=function(t){if(Gw.test(t)){const e=Number(t);if(e>=Yw&&e<=Qw)return e}return null},rs=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Je("Exception was thrown by user callback.",n),e},Math.floor(0))}},Kw=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Us=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Je(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(We("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Je(e)}}class ho{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}ho.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iu="5",Jm="v",Zm="s",eg="r",tg="f",ng=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,rg="ls",sg="p",vc="ac",ig="websocket",og="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n,r,s,i=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Qn.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Qn.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Jw(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function ag(t,e,n){j(typeof e=="string","typeof type must == string"),j(typeof n=="object","typeof params must == object");let r;if(e===ig)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===og)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Jw(t)&&(n.ns=t.namespace);const s=[];return Ue(n,(i,o)=>{s.push(i+"="+o)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(){this.counters_={}}incrementCounter(e,n=1){Bt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return e0(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa={},ca={};function Pu(t){const e=t.toString();return aa[e]||(aa[e]=new Zw),aa[e]}function ex(t,e){const n=t.toString();return ca[n]||(ca[n]=e()),ca[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&rs(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f="start",nx="close",rx="pLPCommand",sx="pRTLPCB",cg="id",ug="pw",dg="ser",ix="cb",ox="seg",lx="ts",ax="d",cx="dframe",fg=1870,hg=30,ux=fg-hg,dx=25e3,fx=3e4;class Rr{constructor(e,n,r,s,i,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Pi(e),this.stats_=Pu(n),this.urlFn=l=>(this.appCheckToken&&(l[vc]=this.appCheckToken),ag(n,og,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new tx(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(fx)),Bw(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ru((...i)=>{const[o,a,l,u,p]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===$f)this.id=a,this.password=l;else if(o===nx)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,a]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[$f]="t",r[dg]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[ix]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Jm]=Iu,this.transportSessionId&&(r[Zm]=this.transportSessionId),this.lastSessionId&&(r[rg]=this.lastSessionId),this.applicationId&&(r[sg]=this.applicationId),this.appCheckToken&&(r[vc]=this.appCheckToken),typeof location<"u"&&location.hostname&&ng.test(location.hostname)&&(r[eg]=tg);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Rr.forceAllow_=!0}static forceDisallow(){Rr.forceDisallow_=!0}static isAvailable(){return Rr.forceAllow_?!0:!Rr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!$w()&&!Vw()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=be(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Dm(n),s=qm(r,ux);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[cx]="t",r[cg]=e,r[ug]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=be(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Ru{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Fw(),window[rx+this.uniqueCallbackIdentifier]=e,window[sx+this.uniqueCallbackIdentifier]=n,this.myIFrame=Ru.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){We("frame writing exception"),a.stack&&We(a.stack),We(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||We("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[cg]=this.myID,e[ug]=this.myPW,e[dg]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+hg+r.length<=fg;){const o=this.pendingSegs.shift();r=r+"&"+ox+s+"="+o.seg+"&"+lx+s+"="+o.ts+"&"+ax+s+"="+o.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(dx)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{We("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx=16384,px=45e3;let Uo=null;typeof MozWebSocket<"u"?Uo=MozWebSocket:typeof WebSocket<"u"&&(Uo=WebSocket);class It{constructor(e,n,r,s,i,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Pi(this.connId),this.stats_=Pu(n),this.connURL=It.connectionURL_(n,o,a,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,i){const o={};return o[Jm]=Iu,typeof location<"u"&&location.hostname&&ng.test(location.hostname)&&(o[eg]=tg),n&&(o[Zm]=n),r&&(o[rg]=r),s&&(o[vc]=s),i&&(o[sg]=i),ag(e,ig,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Qn.set("previous_websocket_failure",!0);try{let r;d0(),this.mySock=new Uo(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){It.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Uo!==null&&!It.forceDisallow_}static previouslyFailed(){return Qn.isInMemoryStorage||Qn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Qn.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=ci(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(j(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=be(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=qm(n,hx);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(px))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}It.responsesRequiredToBeHealthy=2;It.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Rr,It]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=It&&It.isAvailable();let r=n&&!It.previouslyFailed();if(e.webSocketOnly&&(n||Je("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[It];else{const s=this.transports_=[];for(const i of fi.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);fi.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}fi.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx=6e4,gx=5e3,yx=10*1024,vx=100*1024,ua="t",Vf="d",_x="s",Hf="r",wx="e",Gf="o",Yf="a",Qf="n",Kf="p",xx="h";class Cx{constructor(e,n,r,s,i,o,a,l,u,p){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Pi("c:"+this.id+":"),this.transportManager_=new fi(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=Us(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>vx?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>yx?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(ua in e){const n=e[ua];n===Yf?this.upgradeIfSecondaryHealthy_():n===Hf?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Gf&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Ss("t",e),r=Ss("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Kf,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Yf,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Qf,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Ss("t",e),r=Ss("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Ss(ua,e);if(Vf in e){const r=e[Vf];if(n===xx){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===Qf){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===_x?this.onConnectionShutdown_(r):n===Hf?this.onReset_(r):n===wx?yc("Server Error: "+r):n===Gf?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):yc("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Iu!==r&&Je("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Us(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(mx))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Us(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(gx))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Kf,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Qn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e){this.allowedEvents_=e,this.listeners_={},j(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){j(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o extends mg{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Fm()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new $o}getInitialEvent(e){return j(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf=32,Xf=768;class ie{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ne(){return new ie("")}function Q(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function An(t){return t.pieces_.length-t.pieceNum_}function ae(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ie(t.pieces_,e)}function bu(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Sx(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function hi(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function gg(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ie(e,0)}function xe(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ie)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new ie(n,0)}function q(t){return t.pieceNum_>=t.pieces_.length}function qe(t,e){const n=Q(t),r=Q(e);if(n===null)return e;if(n===r)return qe(ae(t),ae(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Ex(t,e){const n=hi(t,0),r=hi(e,0);for(let s=0;s<n.length&&s<r.length;s++){const i=ar(n[s],r[s]);if(i!==0)return i}return n.length===r.length?0:n.length<r.length?-1:1}function ju(t,e){if(An(t)!==An(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function _t(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(An(t)>An(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class kx{constructor(e,n){this.errorPrefix_=n,this.parts_=hi(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=vl(this.parts_[r]);yg(this)}}function Nx(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=vl(e),yg(t)}function Tx(t){const e=t.parts_.pop();t.byteLength_-=vl(e),t.parts_.length>0&&(t.byteLength_-=1)}function yg(t){if(t.byteLength_>Xf)throw new Error(t.errorPrefix_+"has a key path longer than "+Xf+" bytes ("+t.byteLength_+").");if(t.parts_.length>qf)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+qf+") or object contains a cycle "+Vn(t))}function Vn(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au extends mg{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Au}getInitialEvent(e){return j(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es=1e3,Ix=60*5*1e3,Jf=30*1e3,Px=1.3,Rx=3e4,bx="server_kill",Zf=3;class qt extends pg{constructor(e,n,r,s,i,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=qt.nextPersistentConnectionId_++,this.log_=Pi("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Es,this.maxReconnectDelay_=Ix,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Au.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&$o.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,i={r:s,a:e,b:n};this.log_(be(i)),j(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new Ni,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,r,s){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),j(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),j(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,a=>{const l=a.d,u=a.s;qt.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Bt(e,"w")){const r=Yr(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();Je(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||v0(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Jf)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=y0(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,o=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),j(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";s&&(i.q=r,i.t=s),this.sendRequest(o,i)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,i){this.initConnection_();const o={p:n,d:r};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+be(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):yc("Unrecognized action received from server: "+be(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){j(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Es,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Es,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Rx&&(this.reconnectDelay_=Es),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Px)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+qt.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(f){j(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(f)};this.realtime_={close:l,sendRequest:u};const p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,d]=await Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)]);o?We("getToken() completed but was canceled"):(We("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=d&&d.token,a=new Cx(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,g=>{Je(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(bx)},i))}catch(f){this.log_("Failed to get token: "+f),o||(this.repoInfo_.nodeAdmin&&Je(f),l())}}}interrupt(e){We("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){We("Resuming connection for reason: "+e),delete this.interruptReasons_[e],If(this.interruptReasons_)&&(this.reconnectDelay_=Es,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(i=>Tu(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new ie(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){We("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Zf&&(this.reconnectDelay_=Jf,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){We("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Zf&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Ym.replace(/\./g,"-")]=1,Fm()?e["framework.cordova"]=1:u0()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=$o.getInstance().currentlyOnline();return If(this.interruptReasons_)&&e}}qt.nextPersistentConnectionId_=0;qt.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new K(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new K(Qr,e),s=new K(Qr,n);return this.compare(r,s)!==0}minPost(){return K.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ji;class vg extends _l{static get __EMPTY_NODE(){return Ji}static set __EMPTY_NODE(e){Ji=e}compare(e,n){return ar(e.name,n.name)}isDefinedOn(e){throw ns("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return K.MIN}maxPost(){return new K(nr,Ji)}makePost(e,n){return j(typeof e=="string","KeyIndex indexValue must always be a string."),new K(e,Ji)}toString(){return".key"}}const Wr=new vg;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Le{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Le.RED,this.left=s??st.EMPTY_NODE,this.right=i??st.EMPTY_NODE}copy(e,n,r,s,i){return new Le(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return st.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return st.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Le.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Le.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Le.RED=!0;Le.BLACK=!1;class jx{copy(e,n,r,s,i){return this}insert(e,n,r){return new Le(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class st{constructor(e,n=st.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new st(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Le.BLACK,null,null))}remove(e){return new st(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Le.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Zi(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Zi(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Zi(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Zi(this.root_,null,this.comparator_,!0,e)}}st.EMPTY_NODE=new jx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(t,e){return ar(t.name,e.name)}function Du(t,e){return ar(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _c;function Dx(t){_c=t}const _g=function(t){return typeof t=="number"?"number:"+Xm(t):"string:"+t},wg=function(t){if(t.isLeafNode()){const e=t.val();j(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Bt(e,".sv"),"Priority must be a string or number.")}else j(t===_c||t.isEmpty(),"priority of unexpected type.");j(t===_c||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eh;class De{constructor(e,n=De.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,j(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),wg(this.priorityNode_)}static set __childrenNodeConstructor(e){eh=e}static get __childrenNodeConstructor(){return eh}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new De(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:De.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return q(e)?this:Q(e)===".priority"?this.priorityNode_:De.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:De.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Q(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(j(r!==".priority"||An(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,De.__childrenNodeConstructor.EMPTY_NODE.updateChild(ae(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+_g(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Xm(this.value_):e+=this.value_,this.lazyHash_=Km(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===De.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof De.__childrenNodeConstructor?-1:(j(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=De.VALUE_TYPE_ORDER.indexOf(n),i=De.VALUE_TYPE_ORDER.indexOf(r);return j(s>=0,"Unknown leaf type: "+n),j(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}De.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xg,Cg;function Ox(t){xg=t}function Lx(t){Cg=t}class Mx extends _l{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?ar(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return K.MIN}maxPost(){return new K(nr,new De("[PRIORITY-POST]",Cg))}makePost(e,n){const r=xg(e);return new K(n,new De("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ce=new Mx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx=Math.log(2);class Wx{constructor(e){const n=i=>parseInt(Math.log(i)/Fx,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Vo=function(t,e,n,r){t.sort(e);const s=function(l,u){const p=u-l;let f,d;if(p===0)return null;if(p===1)return f=t[l],d=n?n(f):f,new Le(d,f.node,Le.BLACK,null,null);{const g=parseInt(p/2,10)+l,_=s(l,g),C=s(g+1,u);return f=t[g],d=n?n(f):f,new Le(d,f.node,Le.BLACK,_,C)}},i=function(l){let u=null,p=null,f=t.length;const d=function(_,C){const E=f-_,y=f;f-=_;const m=s(E+1,y),v=t[E],x=n?n(v):v;g(new Le(x,v.node,C,null,m))},g=function(_){u?(u.left=_,u=_):(p=_,u=_)};for(let _=0;_<l.count;++_){const C=l.nextBitIsOne(),E=Math.pow(2,l.count-(_+1));C?d(E,Le.BLACK):(d(E,Le.BLACK),d(E,Le.RED))}return p},o=new Wx(t.length),a=i(o);return new st(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let da;const yr={};class Qt{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return j(yr&&Ce,"ChildrenNode.ts has not been loaded"),da=da||new Qt({".priority":yr},{".priority":Ce}),da}get(e){const n=Yr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof st?n:null}hasIndex(e){return Bt(this.indexSet_,e.toString())}addIndex(e,n){j(e!==Wr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(K.Wrap);let o=i.getNext();for(;o;)s=s||e.isDefinedOn(o.node),r.push(o),o=i.getNext();let a;s?a=Vo(r,e.getCompare()):a=yr;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const p=Object.assign({},this.indexes_);return p[l]=a,new Qt(p,u)}addToIndexes(e,n){const r=Wo(this.indexes_,(s,i)=>{const o=Yr(this.indexSet_,i);if(j(o,"Missing index implementation for "+i),s===yr)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(K.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),Vo(a,o.getCompare())}else return yr;else{const a=n.get(e.name);let l=s;return a&&(l=l.remove(new K(e.name,a))),l.insert(e,e.node)}});return new Qt(r,this.indexSet_)}removeFromIndexes(e,n){const r=Wo(this.indexes_,s=>{if(s===yr)return s;{const i=n.get(e.name);return i?s.remove(new K(e.name,i)):s}});return new Qt(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ks;class ${constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&wg(this.priorityNode_),this.children_.isEmpty()&&j(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ks||(ks=new $(new st(Du),null,Qt.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ks}updatePriority(e){return this.children_.isEmpty()?this:new $(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?ks:n}}getChild(e){const n=Q(e);return n===null?this:this.getImmediateChild(n).getChild(ae(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(j(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new K(e,n);let s,i;n.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));const o=s.isEmpty()?ks:this.priorityNode_;return new $(s,o,i)}}updateChild(e,n){const r=Q(e);if(r===null)return n;{j(Q(e)!==".priority"||An(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(ae(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(Ce,(o,a)=>{n[o]=a.val(e),r++,i&&$.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):i=!1}),!e&&i&&s<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+_g(this.getPriority().val())+":"),this.forEachChild(Ce,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":Km(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new K(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new K(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new K(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,K.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,K.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ri?-1:0}withIndex(e){if(e===Wr||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new $(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Wr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Ce),s=n.getIterator(Ce);let i=r.getNext(),o=s.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=r.getNext(),o=s.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Wr?null:this.indexMap_.get(e.toString())}}$.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class zx extends ${constructor(){super(new st(Du),$.EMPTY_NODE,Qt.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return $.EMPTY_NODE}isEmpty(){return!1}}const Ri=new zx;Object.defineProperties(K,{MIN:{value:new K(Qr,$.EMPTY_NODE)},MAX:{value:new K(nr,Ri)}});vg.__EMPTY_NODE=$.EMPTY_NODE;De.__childrenNodeConstructor=$;Dx(Ri);Lx(Ri);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=!0;function Re(t,e=null){if(t===null)return $.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),j(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new De(n,Re(e))}if(!(t instanceof Array)&&Bx){const n=[];let r=!1;if(Ue(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Re(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new K(o,l)))}}),n.length===0)return $.EMPTY_NODE;const i=Vo(n,Ax,o=>o.name,Du);if(r){const o=Vo(n,Ce.getCompare());return new $(i,Re(e),new Qt({".priority":o},{".priority":Ce}))}else return new $(i,Re(e),Qt.Default)}else{let n=$.EMPTY_NODE;return Ue(t,(r,s)=>{if(Bt(t,r)&&r.substring(0,1)!=="."){const i=Re(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(Re(e))}}Ox(Re);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux extends _l{constructor(e){super(),this.indexPath_=e,j(!q(e)&&Q(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?ar(e.name,n.name):i}makePost(e,n){const r=Re(e),s=$.EMPTY_NODE.updateChild(this.indexPath_,r);return new K(n,s)}maxPost(){const e=$.EMPTY_NODE.updateChild(this.indexPath_,Ri);return new K(nr,e)}toString(){return hi(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x extends _l{compare(e,n){const r=e.node.compareTo(n.node);return r===0?ar(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return K.MIN}maxPost(){return K.MAX}makePost(e,n){const r=Re(e);return new K(n,r)}toString(){return".value"}}const Vx=new $x;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(t){return{type:"value",snapshotNode:t}}function Kr(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function pi(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function mi(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Hx(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e){this.index_=e}updateChild(e,n,r,s,i,o){j(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(s).equals(r.getChild(s))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(pi(n,a)):j(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Kr(n,r)):o.trackChildChange(mi(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Ce,(s,i)=>{n.hasChild(s)||r.trackChildChange(pi(s,i))}),n.isLeafNode()||n.forEachChild(Ce,(s,i)=>{if(e.hasChild(s)){const o=e.getImmediateChild(s);o.equals(i)||r.trackChildChange(mi(s,i,o))}else r.trackChildChange(Kr(s,i))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?$.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e){this.indexedFilter_=new Ou(e.getIndex()),this.index_=e.getIndex(),this.startPost_=gi.getStartPost_(e),this.endPost_=gi.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,s,i,o){return this.matches(new K(n,r))||(r=$.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,s,i,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=$.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority($.EMPTY_NODE);const i=this;return n.forEachChild(Ce,(o,a)=>{i.matches(new K(o,a))||(s=s.updateImmediateChild(o,$.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new gi(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,s,i,o){return this.rangedFilter_.matches(new K(n,r))||(r=$.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,s,i,o):this.fullLimitUpdateChild_(e,n,r,i,o)}updateFullNode(e,n,r){let s;if(n.isLeafNode()||n.isEmpty())s=$.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=$.EMPTY_NODE.withIndex(this.index_);let i;this.reverse_?i=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):i=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;i.hasNext()&&o<this.limit_;){const a=i.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))s=s.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority($.EMPTY_NODE);let i;this.reverse_?i=s.getReverseIterator(this.index_):i=s.getIterator(this.index_);let o=0;for(;i.hasNext();){const a=i.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:s=s.updateImmediateChild(a.name,$.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,s,i){let o;if(this.reverse_){const f=this.index_.getCompare();o=(d,g)=>f(g,d)}else o=this.index_.getCompare();const a=e;j(a.numChildren()===this.limit_,"");const l=new K(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),p=this.rangedFilter_.matches(l);if(a.hasChild(n)){const f=a.getImmediateChild(n);let d=s.getChildAfterChild(this.index_,u,this.reverse_);for(;d!=null&&(d.name===n||a.hasChild(d.name));)d=s.getChildAfterChild(this.index_,d,this.reverse_);const g=d==null?1:o(d,l);if(p&&!r.isEmpty()&&g>=0)return i!=null&&i.trackChildChange(mi(n,r,f)),a.updateImmediateChild(n,r);{i!=null&&i.trackChildChange(pi(n,f));const C=a.updateImmediateChild(n,$.EMPTY_NODE);return d!=null&&this.rangedFilter_.matches(d)?(i!=null&&i.trackChildChange(Kr(d.name,d.node)),C.updateImmediateChild(d.name,d.node)):C}}else return r.isEmpty()?e:p&&o(u,l)>=0?(i!=null&&(i.trackChildChange(pi(u.name,u.node)),i.trackChildChange(Kr(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,$.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ce}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return j(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return j(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Qr}hasEnd(){return this.endSet_}getIndexEndValue(){return j(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return j(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:nr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return j(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ce}copy(){const e=new Lu;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Yx(t){return t.loadsAllData()?new Ou(t.getIndex()):t.hasLimit()?new Gx(t):new gi(t)}function th(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ce?n="$priority":t.index_===Vx?n="$value":t.index_===Wr?n="$key":(j(t.index_ instanceof Ux,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=be(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=be(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+be(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=be(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+be(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function nh(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ce&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho extends pg{constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=Pi("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(j(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=Ho.getListenId_(e,r),a={};this.listens_[o]=a;const l=th(e._queryParams);this.restRequest_(i+".json",l,(u,p)=>{let f=p;if(u===404&&(f=null,u=null),u===null&&this.onDataUpdate_(i,f,!1,r),Yr(this.listens_,o)===a){let d;u?u===401?d="permission_denied":d="rest_error:"+u:d="ok",s(d,null)}})}unlisten(e,n){const r=Ho.getListenId_(e,n);delete this.listens_[r]}get(e){const n=th(e._queryParams),r=e._path.toString(),s=new Ni;return this.restRequest_(r+".json",n,(i,o)=>{let a=o;i===404&&(a=null,i=null),i===null?(this.onDataUpdate_(r,a,!1,null),s.resolve(a)):s.reject(new Error(a))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+_0(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=ci(a.responseText)}catch{Je("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Je("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(){this.rootNode_=$.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Go(){return{value:null,children:new Map}}function Eg(t,e,n){if(q(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Q(e);t.children.has(r)||t.children.set(r,Go());const s=t.children.get(r);e=ae(e),Eg(s,e,n)}}function wc(t,e,n){t.value!==null?n(e,t.value):Kx(t,(r,s)=>{const i=new ie(e.toString()+"/"+r);wc(s,i,n)})}function Kx(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ue(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh=10*1e3,Xx=30*1e3,Jx=5*60*1e3;class Zx{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new qx(e);const r=rh+(Xx-rh)*Math.random();Us(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Ue(e,(s,i)=>{i>0&&Bt(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),Us(this.reportStats_.bind(this),Math.floor(Math.random()*2*Jx))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Pt||(Pt={}));function Mu(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Fu(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Wu(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Pt.ACK_USER_WRITE,this.source=Mu()}operationForChild(e){if(q(this.path)){if(this.affectedTree.value!=null)return j(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ie(e));return new Yo(ne(),n,this.revert)}}else return j(Q(this.path)===e,"operationForChild called for unrelated child."),new Yo(ae(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,n){this.source=e,this.path=n,this.type=Pt.LISTEN_COMPLETE}operationForChild(e){return q(this.path)?new yi(this.source,ne()):new yi(this.source,ae(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Pt.OVERWRITE}operationForChild(e){return q(this.path)?new rr(this.source,ne(),this.snap.getImmediateChild(e)):new rr(this.source,ae(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Pt.MERGE}operationForChild(e){if(q(this.path)){const n=this.children.subtree(new ie(e));return n.isEmpty()?null:n.value?new rr(this.source,ne(),n.value):new qr(this.source,ne(),n)}else return j(Q(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new qr(this.source,ae(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(q(e))return this.isFullyInitialized()&&!this.filtered_;const n=Q(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function tC(t,e,n,r){const s=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(Hx(o.childName,o.snapshotNode))}),Ns(t,s,"child_removed",e,r,n),Ns(t,s,"child_added",e,r,n),Ns(t,s,"child_moved",i,r,n),Ns(t,s,"child_changed",e,r,n),Ns(t,s,"value",e,r,n),s}function Ns(t,e,n,r,s,i){const o=r.filter(a=>a.type===n);o.sort((a,l)=>rC(t,a,l)),o.forEach(a=>{const l=nC(t,a,i);s.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function nC(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function rC(t,e,n){if(e.childName==null||n.childName==null)throw ns("Should only compare child_ events.");const r=new K(e.childName,e.snapshotNode),s=new K(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(t,e){return{eventCache:t,serverCache:e}}function $s(t,e,n,r){return wl(new Dn(e,n,r),t.serverCache)}function kg(t,e,n,r){return wl(t.eventCache,new Dn(e,n,r))}function Qo(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function sr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fa;const sC=()=>(fa||(fa=new st(Uw)),fa);class oe{constructor(e,n=sC()){this.value=e,this.children=n}static fromObject(e){let n=new oe(null);return Ue(e,(r,s)=>{n=n.set(new ie(r),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ne(),value:this.value};if(q(e))return null;{const r=Q(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(ae(e),n);return i!=null?{path:xe(new ie(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(q(e))return this;{const n=Q(e),r=this.children.get(n);return r!==null?r.subtree(ae(e)):new oe(null)}}set(e,n){if(q(e))return new oe(n,this.children);{const r=Q(e),i=(this.children.get(r)||new oe(null)).set(ae(e),n),o=this.children.insert(r,i);return new oe(this.value,o)}}remove(e){if(q(e))return this.children.isEmpty()?new oe(null):new oe(null,this.children);{const n=Q(e),r=this.children.get(n);if(r){const s=r.remove(ae(e));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new oe(null):new oe(this.value,i)}else return this}}get(e){if(q(e))return this.value;{const n=Q(e),r=this.children.get(n);return r?r.get(ae(e)):null}}setTree(e,n){if(q(e))return n;{const r=Q(e),i=(this.children.get(r)||new oe(null)).setTree(ae(e),n);let o;return i.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,i),new oe(this.value,o)}}fold(e){return this.fold_(ne(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(xe(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ne(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(q(e))return null;{const i=Q(e),o=this.children.get(i);return o?o.findOnPath_(ae(e),xe(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ne(),n)}foreachOnPath_(e,n,r){if(q(e))return this;{this.value&&r(n,this.value);const s=Q(e),i=this.children.get(s);return i?i.foreachOnPath_(ae(e),xe(n,s),r):new oe(null)}}foreach(e){this.foreach_(ne(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(xe(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.writeTree_=e}static empty(){return new jt(new oe(null))}}function Vs(t,e,n){if(q(e))return new jt(new oe(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const o=qe(s,e);return i=i.updateChild(o,n),new jt(t.writeTree_.set(s,i))}else{const s=new oe(n),i=t.writeTree_.setTree(e,s);return new jt(i)}}}function xc(t,e,n){let r=t;return Ue(n,(s,i)=>{r=Vs(r,xe(e,s),i)}),r}function sh(t,e){if(q(e))return jt.empty();{const n=t.writeTree_.setTree(e,new oe(null));return new jt(n)}}function Cc(t,e){return cr(t,e)!=null}function cr(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(qe(n.path,e)):null}function ih(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ce,(r,s)=>{e.push(new K(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new K(r,s.value))}),e}function Pn(t,e){if(q(e))return t;{const n=cr(t,e);return n!=null?new jt(new oe(n)):new jt(t.writeTree_.subtree(e))}}function Sc(t){return t.writeTree_.isEmpty()}function Xr(t,e){return Ng(ne(),t.writeTree_,e)}function Ng(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?(j(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=Ng(xe(t,s),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(xe(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl(t,e){return Rg(e,t)}function iC(t,e,n,r,s){j(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=Vs(t.visibleWrites,e,n)),t.lastWriteId=r}function oC(t,e,n,r){j(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=xc(t.visibleWrites,e,n),t.lastWriteId=r}function lC(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function aC(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);j(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,i=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&cC(a,r.path)?s=!1:_t(r.path,a.path)&&(i=!0)),o--}if(s){if(i)return uC(t),!0;if(r.snap)t.visibleWrites=sh(t.visibleWrites,r.path);else{const a=r.children;Ue(a,l=>{t.visibleWrites=sh(t.visibleWrites,xe(r.path,l))})}return!0}else return!1}function cC(t,e){if(t.snap)return _t(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&_t(xe(t.path,n),e))return!0;return!1}function uC(t){t.visibleWrites=Tg(t.allWrites,dC,ne()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function dC(t){return t.visible}function Tg(t,e,n){let r=jt.empty();for(let s=0;s<t.length;++s){const i=t[s];if(e(i)){const o=i.path;let a;if(i.snap)_t(n,o)?(a=qe(n,o),r=Vs(r,a,i.snap)):_t(o,n)&&(a=qe(o,n),r=Vs(r,ne(),i.snap.getChild(a)));else if(i.children){if(_t(n,o))a=qe(n,o),r=xc(r,a,i.children);else if(_t(o,n))if(a=qe(o,n),q(a))r=xc(r,ne(),i.children);else{const l=Yr(i.children,Q(a));if(l){const u=l.getChild(ae(a));r=Vs(r,ne(),u)}}}else throw ns("WriteRecord should have .snap or .children")}}return r}function Ig(t,e,n,r,s){if(!r&&!s){const i=cr(t.visibleWrites,e);if(i!=null)return i;{const o=Pn(t.visibleWrites,e);if(Sc(o))return n;if(n==null&&!Cc(o,ne()))return null;{const a=n||$.EMPTY_NODE;return Xr(o,a)}}}else{const i=Pn(t.visibleWrites,e);if(!s&&Sc(i))return n;if(!s&&n==null&&!Cc(i,ne()))return null;{const o=function(u){return(u.visible||s)&&(!r||!~r.indexOf(u.writeId))&&(_t(u.path,e)||_t(e,u.path))},a=Tg(t.allWrites,o,e),l=n||$.EMPTY_NODE;return Xr(a,l)}}}function fC(t,e,n){let r=$.EMPTY_NODE;const s=cr(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Ce,(i,o)=>{r=r.updateImmediateChild(i,o)}),r;if(n){const i=Pn(t.visibleWrites,e);return n.forEachChild(Ce,(o,a)=>{const l=Xr(Pn(i,new ie(o)),a);r=r.updateImmediateChild(o,l)}),ih(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const i=Pn(t.visibleWrites,e);return ih(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function hC(t,e,n,r,s){j(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=xe(e,n);if(Cc(t.visibleWrites,i))return null;{const o=Pn(t.visibleWrites,i);return Sc(o)?s.getChild(n):Xr(o,s.getChild(n))}}function pC(t,e,n,r){const s=xe(e,n),i=cr(t.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const o=Pn(t.visibleWrites,s);return Xr(o,r.getNode().getImmediateChild(n))}else return null}function mC(t,e){return cr(t.visibleWrites,e)}function gC(t,e,n,r,s,i,o){let a;const l=Pn(t.visibleWrites,e),u=cr(l,ne());if(u!=null)a=u;else if(n!=null)a=Xr(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const p=[],f=o.getCompare(),d=i?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let g=d.getNext();for(;g&&p.length<s;)f(g,r)!==0&&p.push(g),g=d.getNext();return p}else return[]}function yC(){return{visibleWrites:jt.empty(),allWrites:[],lastWriteId:-1}}function Ko(t,e,n,r){return Ig(t.writeTree,t.treePath,e,n,r)}function zu(t,e){return fC(t.writeTree,t.treePath,e)}function oh(t,e,n,r){return hC(t.writeTree,t.treePath,e,n,r)}function qo(t,e){return mC(t.writeTree,xe(t.treePath,e))}function vC(t,e,n,r,s,i){return gC(t.writeTree,t.treePath,e,n,r,s,i)}function Bu(t,e,n){return pC(t.writeTree,t.treePath,e,n)}function Pg(t,e){return Rg(xe(t.treePath,e),t.writeTree)}function Rg(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;j(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),j(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,mi(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,pi(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,Kr(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,mi(r,e.snapshotNode,s.oldSnap));else throw ns("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const bg=new wC;class Uu{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Dn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Bu(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:sr(this.viewCache_),i=vC(this.writes_,s,n,1,r,e);return i.length===0?null:i[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(t){return{filter:t}}function CC(t,e){j(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),j(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function SC(t,e,n,r,s){const i=new _C;let o,a;if(n.type===Pt.OVERWRITE){const u=n;u.source.fromUser?o=Ec(t,e,u.path,u.snap,r,s,i):(j(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!q(u.path),o=Xo(t,e,u.path,u.snap,r,s,a,i))}else if(n.type===Pt.MERGE){const u=n;u.source.fromUser?o=kC(t,e,u.path,u.children,r,s,i):(j(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=kc(t,e,u.path,u.children,r,s,a,i))}else if(n.type===Pt.ACK_USER_WRITE){const u=n;u.revert?o=IC(t,e,u.path,r,s,i):o=NC(t,e,u.path,u.affectedTree,r,s,i)}else if(n.type===Pt.LISTEN_COMPLETE)o=TC(t,e,n.path,r,i);else throw ns("Unknown operation type: "+n.type);const l=i.getChanges();return EC(e,o,l),{viewCache:o,changes:l}}function EC(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=Qo(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(Sg(Qo(e)))}}function jg(t,e,n,r,s,i){const o=e.eventCache;if(qo(r,n)!=null)return e;{let a,l;if(q(n))if(j(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=sr(e),p=u instanceof $?u:$.EMPTY_NODE,f=zu(r,p);a=t.filter.updateFullNode(e.eventCache.getNode(),f,i)}else{const u=Ko(r,sr(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,i)}else{const u=Q(n);if(u===".priority"){j(An(n)===1,"Can't have a priority with additional path components");const p=o.getNode();l=e.serverCache.getNode();const f=oh(r,n,p,l);f!=null?a=t.filter.updatePriority(p,f):a=o.getNode()}else{const p=ae(n);let f;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const d=oh(r,n,o.getNode(),l);d!=null?f=o.getNode().getImmediateChild(u).updateChild(p,d):f=o.getNode().getImmediateChild(u)}else f=Bu(r,u,e.serverCache);f!=null?a=t.filter.updateChild(o.getNode(),u,f,p,s,i):a=o.getNode()}}return $s(e,a,o.isFullyInitialized()||q(n),t.filter.filtersNodes())}}function Xo(t,e,n,r,s,i,o,a){const l=e.serverCache;let u;const p=o?t.filter:t.filter.getIndexedFilter();if(q(n))u=p.updateFullNode(l.getNode(),r,null);else if(p.filtersNodes()&&!l.isFiltered()){const g=l.getNode().updateChild(n,r);u=p.updateFullNode(l.getNode(),g,null)}else{const g=Q(n);if(!l.isCompleteForPath(n)&&An(n)>1)return e;const _=ae(n),E=l.getNode().getImmediateChild(g).updateChild(_,r);g===".priority"?u=p.updatePriority(l.getNode(),E):u=p.updateChild(l.getNode(),g,E,_,bg,null)}const f=kg(e,u,l.isFullyInitialized()||q(n),p.filtersNodes()),d=new Uu(s,f,i);return jg(t,f,n,s,d,a)}function Ec(t,e,n,r,s,i,o){const a=e.eventCache;let l,u;const p=new Uu(s,e,i);if(q(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=$s(e,u,!0,t.filter.filtersNodes());else{const f=Q(n);if(f===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=$s(e,u,a.isFullyInitialized(),a.isFiltered());else{const d=ae(n),g=a.getNode().getImmediateChild(f);let _;if(q(d))_=r;else{const C=p.getCompleteChild(f);C!=null?bu(d)===".priority"&&C.getChild(gg(d)).isEmpty()?_=C:_=C.updateChild(d,r):_=$.EMPTY_NODE}if(g.equals(_))l=e;else{const C=t.filter.updateChild(a.getNode(),f,_,d,p,o);l=$s(e,C,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function lh(t,e){return t.eventCache.isCompleteForChild(e)}function kC(t,e,n,r,s,i,o){let a=e;return r.foreach((l,u)=>{const p=xe(n,l);lh(e,Q(p))&&(a=Ec(t,a,p,u,s,i,o))}),r.foreach((l,u)=>{const p=xe(n,l);lh(e,Q(p))||(a=Ec(t,a,p,u,s,i,o))}),a}function ah(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function kc(t,e,n,r,s,i,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;q(n)?u=r:u=new oe(null).setTree(n,r);const p=e.serverCache.getNode();return u.children.inorderTraversal((f,d)=>{if(p.hasChild(f)){const g=e.serverCache.getNode().getImmediateChild(f),_=ah(t,g,d);l=Xo(t,l,new ie(f),_,s,i,o,a)}}),u.children.inorderTraversal((f,d)=>{const g=!e.serverCache.isCompleteForChild(f)&&d.value===null;if(!p.hasChild(f)&&!g){const _=e.serverCache.getNode().getImmediateChild(f),C=ah(t,_,d);l=Xo(t,l,new ie(f),C,s,i,o,a)}}),l}function NC(t,e,n,r,s,i,o){if(qo(s,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(q(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Xo(t,e,n,l.getNode().getChild(n),s,i,a,o);if(q(n)){let u=new oe(null);return l.getNode().forEachChild(Wr,(p,f)=>{u=u.set(new ie(p),f)}),kc(t,e,n,u,s,i,a,o)}else return e}else{let u=new oe(null);return r.foreach((p,f)=>{const d=xe(n,p);l.isCompleteForPath(d)&&(u=u.set(p,l.getNode().getChild(d)))}),kc(t,e,n,u,s,i,a,o)}}function TC(t,e,n,r,s){const i=e.serverCache,o=kg(e,i.getNode(),i.isFullyInitialized()||q(n),i.isFiltered());return jg(t,o,n,r,bg,s)}function IC(t,e,n,r,s,i){let o;if(qo(r,n)!=null)return e;{const a=new Uu(r,e,s),l=e.eventCache.getNode();let u;if(q(n)||Q(n)===".priority"){let p;if(e.serverCache.isFullyInitialized())p=Ko(r,sr(e));else{const f=e.serverCache.getNode();j(f instanceof $,"serverChildren would be complete if leaf node"),p=zu(r,f)}p=p,u=t.filter.updateFullNode(l,p,i)}else{const p=Q(n);let f=Bu(r,p,e.serverCache);f==null&&e.serverCache.isCompleteForChild(p)&&(f=l.getImmediateChild(p)),f!=null?u=t.filter.updateChild(l,p,f,ae(n),a,i):e.eventCache.getNode().hasChild(p)?u=t.filter.updateChild(l,p,$.EMPTY_NODE,ae(n),a,i):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Ko(r,sr(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,i)))}return o=e.serverCache.isFullyInitialized()||qo(r,ne())!=null,$s(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,s=new Ou(r.getIndex()),i=Yx(r);this.processor_=xC(i);const o=n.serverCache,a=n.eventCache,l=s.updateFullNode($.EMPTY_NODE,o.getNode(),null),u=i.updateFullNode($.EMPTY_NODE,a.getNode(),null),p=new Dn(l,o.isFullyInitialized(),s.filtersNodes()),f=new Dn(u,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=wl(f,p),this.eventGenerator_=new eC(this.query_)}get query(){return this.query_}}function RC(t){return t.viewCache_.serverCache.getNode()}function bC(t){return Qo(t.viewCache_)}function jC(t,e){const n=sr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!q(e)&&!n.getImmediateChild(Q(e)).isEmpty())?n.getChild(e):null}function ch(t){return t.eventRegistrations_.length===0}function AC(t,e){t.eventRegistrations_.push(e)}function uh(t,e,n){const r=[];if(n){j(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(i=>{const o=i.createCancelEvent(n,s);o&&r.push(o)})}if(e){let s=[];for(let i=0;i<t.eventRegistrations_.length;++i){const o=t.eventRegistrations_[i];if(!o.matches(e))s.push(o);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(i+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function dh(t,e,n,r){e.type===Pt.MERGE&&e.source.queryId!==null&&(j(sr(t.viewCache_),"We should always have a full cache before handling merges"),j(Qo(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,i=SC(t.processor_,s,e,n,r);return CC(t.processor_,i.viewCache),j(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,Ag(t,i.changes,i.viewCache.eventCache.getNode(),null)}function DC(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ce,(i,o)=>{r.push(Kr(i,o))}),n.isFullyInitialized()&&r.push(Sg(n.getNode())),Ag(t,r,n.getNode(),e)}function Ag(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return tC(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jo;class Dg{constructor(){this.views=new Map}}function OC(t){j(!Jo,"__referenceConstructor has already been defined"),Jo=t}function LC(){return j(Jo,"Reference.ts has not been loaded"),Jo}function MC(t){return t.views.size===0}function $u(t,e,n,r){const s=e.source.queryId;if(s!==null){const i=t.views.get(s);return j(i!=null,"SyncTree gave us an op for an invalid query."),dh(i,e,n,r)}else{let i=[];for(const o of t.views.values())i=i.concat(dh(o,e,n,r));return i}}function Og(t,e,n,r,s){const i=e._queryIdentifier,o=t.views.get(i);if(!o){let a=Ko(n,s?r:null),l=!1;a?l=!0:r instanceof $?(a=zu(n,r),l=!1):(a=$.EMPTY_NODE,l=!1);const u=wl(new Dn(a,l,!1),new Dn(r,s,!1));return new PC(e,u)}return o}function FC(t,e,n,r,s,i){const o=Og(t,e,r,s,i);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),AC(o,n),DC(o,n)}function WC(t,e,n,r){const s=e._queryIdentifier,i=[];let o=[];const a=On(t);if(s==="default")for(const[l,u]of t.views.entries())o=o.concat(uh(u,n,r)),ch(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||i.push(u.query));else{const l=t.views.get(s);l&&(o=o.concat(uh(l,n,r)),ch(l)&&(t.views.delete(s),l.query._queryParams.loadsAllData()||i.push(l.query)))}return a&&!On(t)&&i.push(new(LC())(e._repo,e._path)),{removed:i,events:o}}function Lg(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Rn(t,e){let n=null;for(const r of t.views.values())n=n||jC(r,e);return n}function Mg(t,e){if(e._queryParams.loadsAllData())return Cl(t);{const r=e._queryIdentifier;return t.views.get(r)}}function Fg(t,e){return Mg(t,e)!=null}function On(t){return Cl(t)!=null}function Cl(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zo;function zC(t){j(!Zo,"__referenceConstructor has already been defined"),Zo=t}function BC(){return j(Zo,"Reference.ts has not been loaded"),Zo}let UC=1;class fh{constructor(e){this.listenProvider_=e,this.syncPointTree_=new oe(null),this.pendingWriteTree_=yC(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Wg(t,e,n,r,s){return iC(t.pendingWriteTree_,e,n,r,s),s?ss(t,new rr(Mu(),e,n)):[]}function $C(t,e,n,r){oC(t.pendingWriteTree_,e,n,r);const s=oe.fromObject(n);return ss(t,new qr(Mu(),e,s))}function vn(t,e,n=!1){const r=lC(t.pendingWriteTree_,e);if(aC(t.pendingWriteTree_,e)){let i=new oe(null);return r.snap!=null?i=i.set(ne(),!0):Ue(r.children,o=>{i=i.set(new ie(o),!0)}),ss(t,new Yo(r.path,i,n))}else return[]}function bi(t,e,n){return ss(t,new rr(Fu(),e,n))}function VC(t,e,n){const r=oe.fromObject(n);return ss(t,new qr(Fu(),e,r))}function HC(t,e){return ss(t,new yi(Fu(),e))}function GC(t,e,n){const r=Hu(t,n);if(r){const s=Gu(r),i=s.path,o=s.queryId,a=qe(i,e),l=new yi(Wu(o),a);return Yu(t,i,l)}else return[]}function el(t,e,n,r,s=!1){const i=e._path,o=t.syncPointTree_.get(i);let a=[];if(o&&(e._queryIdentifier==="default"||Fg(o,e))){const l=WC(o,e,n,r);MC(o)&&(t.syncPointTree_=t.syncPointTree_.remove(i));const u=l.removed;if(a=l.events,!s){const p=u.findIndex(d=>d._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(i,(d,g)=>On(g));if(p&&!f){const d=t.syncPointTree_.subtree(i);if(!d.isEmpty()){const g=KC(d);for(let _=0;_<g.length;++_){const C=g[_],E=C.query,y=$g(t,C);t.listenProvider_.startListening(Hs(E),vi(t,E),y.hashFn,y.onComplete)}}}!f&&u.length>0&&!r&&(p?t.listenProvider_.stopListening(Hs(e),null):u.forEach(d=>{const g=t.queryToTagMap.get(Sl(d));t.listenProvider_.stopListening(Hs(d),g)}))}qC(t,u)}return a}function zg(t,e,n,r){const s=Hu(t,r);if(s!=null){const i=Gu(s),o=i.path,a=i.queryId,l=qe(o,e),u=new rr(Wu(a),l,n);return Yu(t,o,u)}else return[]}function YC(t,e,n,r){const s=Hu(t,r);if(s){const i=Gu(s),o=i.path,a=i.queryId,l=qe(o,e),u=oe.fromObject(n),p=new qr(Wu(a),l,u);return Yu(t,o,p)}else return[]}function Nc(t,e,n,r=!1){const s=e._path;let i=null,o=!1;t.syncPointTree_.foreachOnPath(s,(d,g)=>{const _=qe(d,s);i=i||Rn(g,_),o=o||On(g)});let a=t.syncPointTree_.get(s);a?(o=o||On(a),i=i||Rn(a,ne())):(a=new Dg,t.syncPointTree_=t.syncPointTree_.set(s,a));let l;i!=null?l=!0:(l=!1,i=$.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((g,_)=>{const C=Rn(_,ne());C&&(i=i.updateImmediateChild(g,C))}));const u=Fg(a,e);if(!u&&!e._queryParams.loadsAllData()){const d=Sl(e);j(!t.queryToTagMap.has(d),"View does not exist, but we have a tag");const g=XC();t.queryToTagMap.set(d,g),t.tagToQueryMap.set(g,d)}const p=xl(t.pendingWriteTree_,s);let f=FC(a,e,n,p,i,l);if(!u&&!o&&!r){const d=Mg(a,e);f=f.concat(JC(t,e,d))}return f}function Vu(t,e,n){const s=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=qe(o,e),u=Rn(a,l);if(u)return u});return Ig(s,e,i,n,!0)}function QC(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(u,p)=>{const f=qe(u,n);r=r||Rn(p,f)});let s=t.syncPointTree_.get(n);s?r=r||Rn(s,ne()):(s=new Dg,t.syncPointTree_=t.syncPointTree_.set(n,s));const i=r!=null,o=i?new Dn(r,!0,!1):null,a=xl(t.pendingWriteTree_,e._path),l=Og(s,e,a,i?o.getNode():$.EMPTY_NODE,i);return bC(l)}function ss(t,e){return Bg(e,t.syncPointTree_,null,xl(t.pendingWriteTree_,ne()))}function Bg(t,e,n,r){if(q(t.path))return Ug(t,e,n,r);{const s=e.get(ne());n==null&&s!=null&&(n=Rn(s,ne()));let i=[];const o=Q(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,p=Pg(r,o);i=i.concat(Bg(a,l,u,p))}return s&&(i=i.concat($u(s,t,r,n))),i}}function Ug(t,e,n,r){const s=e.get(ne());n==null&&s!=null&&(n=Rn(s,ne()));let i=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=Pg(r,o),p=t.operationForChild(o);p&&(i=i.concat(Ug(p,a,l,u)))}),s&&(i=i.concat($u(s,t,r,n))),i}function $g(t,e){const n=e.query,r=vi(t,n);return{hashFn:()=>(RC(e)||$.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return r?GC(t,n._path,r):HC(t,n._path);{const i=Hw(s,n);return el(t,n,null,i)}}}}function vi(t,e){const n=Sl(e);return t.queryToTagMap.get(n)}function Sl(t){return t._path.toString()+"$"+t._queryIdentifier}function Hu(t,e){return t.tagToQueryMap.get(e)}function Gu(t){const e=t.indexOf("$");return j(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ie(t.substr(0,e))}}function Yu(t,e,n){const r=t.syncPointTree_.get(e);j(r,"Missing sync point for query tag that we're tracking");const s=xl(t.pendingWriteTree_,e);return $u(r,n,s,null)}function KC(t){return t.fold((e,n,r)=>{if(n&&On(n))return[Cl(n)];{let s=[];return n&&(s=Lg(n)),Ue(r,(i,o)=>{s=s.concat(o)}),s}})}function Hs(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(BC())(t._repo,t._path):t}function qC(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const s=Sl(r),i=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(i)}}}function XC(){return UC++}function JC(t,e,n){const r=e._path,s=vi(t,e),i=$g(t,n),o=t.listenProvider_.startListening(Hs(e),s,i.hashFn,i.onComplete),a=t.syncPointTree_.subtree(r);if(s)j(!On(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((u,p,f)=>{if(!q(u)&&p&&On(p))return[Cl(p).query];{let d=[];return p&&(d=d.concat(Lg(p).map(g=>g.query))),Ue(f,(g,_)=>{d=d.concat(_)}),d}});for(let u=0;u<l.length;++u){const p=l[u];t.listenProvider_.stopListening(Hs(p),vi(t,p))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Qu(n)}node(){return this.node_}}class Ku{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=xe(this.path_,e);return new Ku(this.syncTree_,n)}node(){return Vu(this.syncTree_,this.path_)}}const ZC=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},hh=function(t,e,n){if(!t||typeof t!="object")return t;if(j(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return eS(t[".sv"],e,n);if(typeof t[".sv"]=="object")return tS(t[".sv"],e);j(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},eS=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:j(!1,"Unexpected server value: "+t)}},tS=function(t,e,n){t.hasOwnProperty("increment")||j(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&j(!1,"Unexpected increment value: "+r);const s=e.node();if(j(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return typeof o!="number"?r:o+r},Vg=function(t,e,n,r){return qu(e,new Ku(n,t),r)},Hg=function(t,e,n){return qu(t,new Qu(e),n)};function qu(t,e,n){const r=t.getPriority().val(),s=hh(r,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,a=hh(o.getValue(),e,n);return a!==o.getValue()||s!==o.getPriority().val()?new De(a,Re(s)):t}else{const o=t;return i=o,s!==o.getPriority().val()&&(i=i.updatePriority(new De(s))),o.forEachChild(Ce,(a,l)=>{const u=qu(l,e.getImmediateChild(a),n);u!==l&&(i=i.updateImmediateChild(a,u))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Ju(t,e){let n=e instanceof ie?e:new ie(e),r=t,s=Q(n);for(;s!==null;){const i=Yr(r.node.children,s)||{children:{},childCount:0};r=new Xu(s,r,i),n=ae(n),s=Q(n)}return r}function is(t){return t.node.value}function Gg(t,e){t.node.value=e,Tc(t)}function Yg(t){return t.node.childCount>0}function nS(t){return is(t)===void 0&&!Yg(t)}function El(t,e){Ue(t.node.children,(n,r)=>{e(new Xu(n,t,r))})}function Qg(t,e,n,r){n&&e(t),El(t,s=>{Qg(s,e,!0)})}function rS(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function ji(t){return new ie(t.parent===null?t.name:ji(t.parent)+"/"+t.name)}function Tc(t){t.parent!==null&&sS(t.parent,t.name,t)}function sS(t,e,n){const r=nS(n),s=Bt(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,Tc(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,Tc(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS=/[\[\].#$\/\u0000-\u001F\u007F]/,oS=/[\[\].#$\u0000-\u001F\u007F]/,ha=10*1024*1024,Zu=function(t){return typeof t=="string"&&t.length!==0&&!iS.test(t)},Kg=function(t){return typeof t=="string"&&t.length!==0&&!oS.test(t)},lS=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Kg(t)},aS=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Nu(t)||t&&typeof t=="object"&&Bt(t,".sv")},qg=function(t,e,n,r){r&&e===void 0||kl(yl(t,"value"),e,n)},kl=function(t,e,n){const r=n instanceof ie?new kx(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Vn(r));if(typeof e=="function")throw new Error(t+"contains a function "+Vn(r)+" with contents = "+e.toString());if(Nu(e))throw new Error(t+"contains "+e.toString()+" "+Vn(r));if(typeof e=="string"&&e.length>ha/3&&vl(e)>ha)throw new Error(t+"contains a string greater than "+ha+" utf8 bytes "+Vn(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(Ue(e,(o,a)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!Zu(o)))throw new Error(t+" contains an invalid key ("+o+") "+Vn(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Nx(r,o),kl(t,a,r),Tx(r)}),s&&i)throw new Error(t+' contains ".value" child '+Vn(r)+" in addition to actual children.")}},cS=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const i=hi(r);for(let o=0;o<i.length;o++)if(!(i[o]===".priority"&&o===i.length-1)){if(!Zu(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(Ex);let s=null;for(n=0;n<e.length;n++){if(r=e[n],s!==null&&_t(s,r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}},uS=function(t,e,n,r){const s=yl(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(s+" must be an object containing the children to replace.");const i=[];Ue(e,(o,a)=>{const l=new ie(o);if(kl(s,a,xe(n,l)),bu(l)===".priority"&&!aS(a))throw new Error(s+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");i.push(l)}),cS(s,i)},Xg=function(t,e,n,r){if(!Kg(n))throw new Error(yl(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},dS=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Xg(t,e,n)},ed=function(t,e){if(Q(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},fS=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Zu(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!lS(n))throw new Error(yl(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Nl(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();n!==null&&!ju(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&t.eventLists_.push(n)}function Jg(t,e,n){Nl(t,n),Zg(t,r=>ju(r,e))}function St(t,e,n){Nl(t,n),Zg(t,r=>_t(r,e)||_t(e,r))}function Zg(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const i=s.path;e(i)?(pS(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function pS(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Bs&&We("event: "+n.toString()),rs(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="repo_interrupt",gS=25;class yS{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new hS,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Go(),this.transactionQueueTree_=new Xu,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function vS(t,e,n){if(t.stats_=Pu(t.repoInfo_),t.forceRestClient_||Kw())t.server_=new Ho(t.repoInfo_,(r,s,i,o)=>{ph(t,r,s,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>mh(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{be(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new qt(t.repoInfo_,e,(r,s,i,o)=>{ph(t,r,s,i,o)},r=>{mh(t,r)},r=>{_S(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=ex(t.repoInfo_,()=>new Zx(t.stats_,t.server_)),t.infoData_=new Qx,t.infoSyncTree_=new fh({startListening:(r,s,i,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=bi(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),td(t,"connected",!1),t.serverSyncTree_=new fh({startListening:(r,s,i,o)=>(t.server_.listen(r,i,s,(a,l)=>{const u=o(a,l);St(t.eventQueue_,r._path,u)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function ey(t){const n=t.infoData_.getNode(new ie(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Tl(t){return ZC({timestamp:ey(t)})}function ph(t,e,n,r,s){t.dataUpdateCount++;const i=new ie(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(r){const l=Wo(n,u=>Re(u));o=YC(t.serverSyncTree_,i,l,s)}else{const l=Re(n);o=zg(t.serverSyncTree_,i,l,s)}else if(r){const l=Wo(n,u=>Re(u));o=VC(t.serverSyncTree_,i,l)}else{const l=Re(n);o=bi(t.serverSyncTree_,i,l)}let a=i;o.length>0&&(a=Jr(t,i)),St(t.eventQueue_,a,o)}function mh(t,e){td(t,"connected",e),e===!1&&SS(t)}function _S(t,e){Ue(e,(n,r)=>{td(t,n,r)})}function td(t,e,n){const r=new ie("/.info/"+e),s=Re(n);t.infoData_.updateSnapshot(r,s);const i=bi(t.infoSyncTree_,r,s);St(t.eventQueue_,r,i)}function nd(t){return t.nextWriteId_++}function wS(t,e,n){const r=QC(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(s=>{const i=Re(s).withIndex(e._queryParams.getIndex());Nc(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=bi(t.serverSyncTree_,e._path,i);else{const a=vi(t.serverSyncTree_,e);o=zg(t.serverSyncTree_,e._path,i,a)}return St(t.eventQueue_,e._path,o),el(t.serverSyncTree_,e,n,null,!0),i},s=>(Ai(t,"get for query "+be(e)+" failed: "+s),Promise.reject(new Error(s))))}function xS(t,e,n,r,s){Ai(t,"set",{path:e.toString(),value:n,priority:r});const i=Tl(t),o=Re(n,r),a=Vu(t.serverSyncTree_,e),l=Hg(o,a,i),u=nd(t),p=Wg(t.serverSyncTree_,e,l,u,!0);Nl(t.eventQueue_,p),t.server_.put(e.toString(),o.val(!0),(d,g)=>{const _=d==="ok";_||Je("set at "+e+" failed: "+d);const C=vn(t.serverSyncTree_,u,!_);St(t.eventQueue_,e,C),Ic(t,s,d,g)});const f=sd(t,e);Jr(t,f),St(t.eventQueue_,f,[])}function CS(t,e,n,r){Ai(t,"update",{path:e.toString(),value:n});let s=!0;const i=Tl(t),o={};if(Ue(n,(a,l)=>{s=!1,o[a]=Vg(xe(e,a),Re(l),t.serverSyncTree_,i)}),s)We("update() called with empty data.  Don't do anything."),Ic(t,r,"ok",void 0);else{const a=nd(t),l=$C(t.serverSyncTree_,e,o,a);Nl(t.eventQueue_,l),t.server_.merge(e.toString(),n,(u,p)=>{const f=u==="ok";f||Je("update at "+e+" failed: "+u);const d=vn(t.serverSyncTree_,a,!f),g=d.length>0?Jr(t,e):e;St(t.eventQueue_,g,d),Ic(t,r,u,p)}),Ue(n,u=>{const p=sd(t,xe(e,u));Jr(t,p)}),St(t.eventQueue_,e,[])}}function SS(t){Ai(t,"onDisconnectEvents");const e=Tl(t),n=Go();wc(t.onDisconnect_,ne(),(s,i)=>{const o=Vg(s,i,t.serverSyncTree_,e);Eg(n,s,o)});let r=[];wc(n,ne(),(s,i)=>{r=r.concat(bi(t.serverSyncTree_,s,i));const o=sd(t,s);Jr(t,o)}),t.onDisconnect_=Go(),St(t.eventQueue_,ne(),r)}function ES(t,e,n){let r;Q(e._path)===".info"?r=Nc(t.infoSyncTree_,e,n):r=Nc(t.serverSyncTree_,e,n),Jg(t.eventQueue_,e._path,r)}function kS(t,e,n){let r;Q(e._path)===".info"?r=el(t.infoSyncTree_,e,n):r=el(t.serverSyncTree_,e,n),Jg(t.eventQueue_,e._path,r)}function NS(t){t.persistentConnection_&&t.persistentConnection_.interrupt(mS)}function Ai(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),We(n,...e)}function Ic(t,e,n,r){e&&rs(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let i=s;r&&(i+=": "+r);const o=new Error(i);o.code=s,e(o)}})}function ty(t,e,n){return Vu(t.serverSyncTree_,e,n)||$.EMPTY_NODE}function rd(t,e=t.transactionQueueTree_){if(e||Il(t,e),is(e)){const n=ry(t,e);j(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&TS(t,ji(e),n)}else Yg(e)&&El(e,n=>{rd(t,n)})}function TS(t,e,n){const r=n.map(u=>u.currentWriteId),s=ty(t,e,r);let i=s;const o=s.hash();for(let u=0;u<n.length;u++){const p=n[u];j(p.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),p.status=1,p.retryCount++;const f=qe(e,p.path);i=i.updateChild(f,p.currentOutputSnapshotRaw)}const a=i.val(!0),l=e;t.server_.put(l.toString(),a,u=>{Ai(t,"transaction put response",{path:l.toString(),status:u});let p=[];if(u==="ok"){const f=[];for(let d=0;d<n.length;d++)n[d].status=2,p=p.concat(vn(t.serverSyncTree_,n[d].currentWriteId)),n[d].onComplete&&f.push(()=>n[d].onComplete(null,!0,n[d].currentOutputSnapshotResolved)),n[d].unwatcher();Il(t,Ju(t.transactionQueueTree_,e)),rd(t,t.transactionQueueTree_),St(t.eventQueue_,e,p);for(let d=0;d<f.length;d++)rs(f[d])}else{if(u==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{Je("transaction at "+l.toString()+" failed: "+u);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=u}Jr(t,e)}},o)}function Jr(t,e){const n=ny(t,e),r=ji(n),s=ry(t,n);return IS(t,s,r),r}function IS(t,e,n){if(e.length===0)return;const r=[];let s=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=qe(n,l.path);let p=!1,f;if(j(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)p=!0,f=l.abortReason,s=s.concat(vn(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=gS)p=!0,f="maxretry",s=s.concat(vn(t.serverSyncTree_,l.currentWriteId,!0));else{const d=ty(t,l.path,o);l.currentInputSnapshot=d;const g=e[a].update(d.val());if(g!==void 0){kl("transaction failed: Data returned ",g,l.path);let _=Re(g);typeof g=="object"&&g!=null&&Bt(g,".priority")||(_=_.updatePriority(d.getPriority()));const E=l.currentWriteId,y=Tl(t),m=Hg(_,d,y);l.currentOutputSnapshotRaw=_,l.currentOutputSnapshotResolved=m,l.currentWriteId=nd(t),o.splice(o.indexOf(E),1),s=s.concat(Wg(t.serverSyncTree_,l.path,m,l.currentWriteId,l.applyLocally)),s=s.concat(vn(t.serverSyncTree_,E,!0))}else p=!0,f="nodata",s=s.concat(vn(t.serverSyncTree_,l.currentWriteId,!0))}St(t.eventQueue_,n,s),s=[],p&&(e[a].status=2,function(d){setTimeout(d,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(f==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(f),!1,null))))}Il(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)rs(r[a]);rd(t,t.transactionQueueTree_)}function ny(t,e){let n,r=t.transactionQueueTree_;for(n=Q(e);n!==null&&is(r)===void 0;)r=Ju(r,n),e=ae(e),n=Q(e);return r}function ry(t,e){const n=[];return sy(t,e,n),n.sort((r,s)=>r.order-s.order),n}function sy(t,e,n){const r=is(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);El(e,s=>{sy(t,s,n)})}function Il(t,e){const n=is(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,Gg(e,n.length>0?n:void 0)}El(e,r=>{Il(t,r)})}function sd(t,e){const n=ji(ny(t,e)),r=Ju(t.transactionQueueTree_,e);return rS(r,s=>{pa(t,s)}),pa(t,r),Qg(r,s=>{pa(t,s)}),n}function pa(t,e){const n=is(e);if(n){const r=[];let s=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(j(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):(j(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(vn(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?Gg(e,void 0):n.length=i+1,St(t.eventQueue_,ji(e),s);for(let o=0;o<r.length;o++)rs(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function RS(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Je(`Invalid query segment '${n}' in query '${t}'`)}return e}const gh=function(t,e){const n=bS(t),r=n.namespace;n.domain==="firebase.com"&&nn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&nn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||zw();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new lg(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new ie(n.pathString)}},bS=function(t){let e="",n="",r="",s="",i="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let p=t.indexOf("/");p===-1&&(p=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(p,f)),p<f&&(s=PS(t.substring(p,f)));const d=RS(t.substring(Math.min(t.length,f)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const g=e.slice(0,u);if(g.toLowerCase()==="localhost")n="localhost";else if(g.split(".").length<=2)n=g;else{const _=e.indexOf(".");r=e.substring(0,_).toLowerCase(),n=e.substring(_+1),i=r}"ns"in d&&(i=d.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",jS=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let s;const i=new Array(8);for(s=7;s>=0;s--)i[s]=yh.charAt(n%64),n=Math.floor(n/64);j(n===0,"Cannot push at time == 0");let o=i.join("");if(r){for(s=11;s>=0&&e[s]===63;s--)e[s]=0;e[s]++}else for(s=0;s<12;s++)e[s]=Math.floor(Math.random()*64);for(s=0;s<12;s++)o+=yh.charAt(e[s]);return j(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,n,r,s){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+be(this.snapshot.exportVal())}}class DS{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return j(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return q(this._path)?null:bu(this._path)}get ref(){return new sn(this._repo,this._path)}get _queryIdentifier(){const e=nh(this._queryParams),n=Tu(e);return n==="{}"?"default":n}get _queryObject(){return nh(this._queryParams)}isEqual(e){if(e=lr(e),!(e instanceof id))return!1;const n=this._repo===e._repo,r=ju(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+Sx(this._path)}}class sn extends id{constructor(e,n){super(e,n,new Lu,!1)}get parent(){const e=gg(this._path);return e===null?null:new sn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class _i{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new ie(e),r=wi(this.ref,e);return new _i(this._node.getChild(n),r,Ce)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,s)=>e(new _i(s,wi(this.ref,r),Ce)))}hasChild(e){const n=new ie(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function J(t,e){return t=lr(t),t._checkNotDeleted("ref"),e!==void 0?wi(t._root,e):t._root}function wi(t,e){return t=lr(t),Q(t._path)===null?dS("child","path",e):Xg("child","path",e),new sn(t._repo,xe(t._path,e))}function ma(t,e){t=lr(t),ed("push",t._path),qg("push",e,t._path,!0);const n=ey(t._repo),r=jS(n),s=wi(t,r),i=wi(t,r);let o;return e!=null?o=Ge(i,e).then(()=>i):o=Promise.resolve(i),s.then=o.then.bind(o),s.catch=o.then.bind(o,void 0),s}function vh(t){return ed("remove",t._path),Ge(t,null)}function Ge(t,e){t=lr(t),ed("set",t._path),qg("set",e,t._path,!1);const n=new Ni;return xS(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function OS(t,e){uS("update",e,t._path);const n=new Ni;return CS(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function Ts(t){t=lr(t);const e=new iy(()=>{}),n=new Pl(e);return wS(t._repo,t,n).then(r=>new _i(r,new sn(t._repo,t._path),t._queryParams.getIndex()))}class Pl{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new AS("value",this,new _i(e.snapshotNode,new sn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new DS(this,e,n):null}matches(e){return e instanceof Pl?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function LS(t,e,n,r,s){const i=new iy(n,void 0),o=new Pl(i);return ES(t._repo,t,o),()=>kS(t._repo,t,o)}function cn(t,e,n,r){return LS(t,"value",e)}OC(sn);zC(sn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS="FIREBASE_DATABASE_EMULATOR_HOST",Pc={};let FS=!1;function WS(t,e,n,r){t.repoInfo_=new lg(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function zS(t,e,n,r,s){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||nn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),We("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=gh(i,s),a=o.repoInfo,l;typeof process<"u"&&Ff&&(l=Ff[MS]),l?(i=`http://${l}?ns=${a.namespace}`,o=gh(i,s),a=o.repoInfo):o.repoInfo.secure;const u=new Xw(t.name,t.options,e);fS("Invalid Firebase Database URL",o),q(o.path)||nn("Database URL must point to the root of a Firebase Database (not including a child path).");const p=US(a,t,u,new qw(t.name,n));return new $S(p,t)}function BS(t,e){const n=Pc[e];(!n||n[t.key]!==t)&&nn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),NS(t),delete n[t.key]}function US(t,e,n,r){let s=Pc[e.name];s||(s={},Pc[e.name]=s);let i=s[t.toURLString()];return i&&nn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new yS(t,FS,n,r),s[t.toURLString()]=i,i}class $S{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(vS(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new sn(this._repo,ne())),this._rootInternal}_delete(){return this._rootInternal!==null&&(BS(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&nn("Cannot call "+e+" on a deleted database.")}}function VS(t=Cw(),e){const n=vw(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=l0("database");r&&HS(n,...r)}return n}function HS(t,e,n,r={}){t=lr(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&nn("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let i;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&nn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),i=new ho(ho.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:a0(r.mockUserToken,t.app.options.projectId);i=new ho(o)}WS(s,e,n,i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(t){Dw(xw),Bo(new ui("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return zS(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),Mr(Wf,zf,t),Mr(Wf,zf,"esm2017")}qt.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};qt.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};GS();function YS({allPicks:t,actualScores:e,currentWeek:n,playerName:r,playerCode:s,isPoolManager:i,onLogout:o}){const a=(g,_,C)=>{if(!g||!_||!_[C])return 0;let E=0;const y=_[C];return Object.keys(g).forEach(m=>{const v=g[m],x=y[m];if(!v||!x)return;const k=parseInt(v.team1),N=parseInt(v.team2),R=parseInt(x.team1),A=parseInt(x.team2);if(isNaN(k)||isNaN(N)||isNaN(R)||isNaN(A))return;const U=k>N?"team1":N>k?"team2":"tie",z=R>A?"team1":A>R?"team2":"tie";U===z&&z!=="tie"&&E++}),E},l=(g,_,C)=>{if(!g||!_||!_[C])return null;let E=0,y=0;const m=_[C];return Object.keys(g).forEach(v=>{const x=g[v],k=m[v];if(!x||!k)return;const N=parseInt(x.team1),R=parseInt(x.team2),A=parseInt(k.team1),U=parseInt(k.team2);isNaN(N)||isNaN(R)||isNaN(A)||isNaN(U)||(E+=N+R,y+=A+U)}),Math.abs(E-y)},u=(g,_,C)=>{let E=0,y=0;return C.forEach(m=>{const v=g[m];if(v){E+=a(v,_,m);const x=l(v,_,m);x!==null&&(y+=x)}}),{correctWinners:E,pointsDifference:y}},p={wildcard:"Week 1",divisional:"Week 2",conference:"Week 3",superbowl:"Week 4"},f=F.useMemo(()=>{const g={};return t.forEach(_=>{const C=_.playerName;g[C]||(g[C]={wildcard:null,divisional:null,conference:null,superbowl:null}),g[C][_.week]=_.predictions}),g},[t]),d=F.useMemo(()=>{const g=[],_=["wildcard","divisional","conference","superbowl"];_.slice(0,3).forEach((x,k)=>{const N=p[x],R=Object.entries(f).map(([U,z])=>({playerName:U,score:a(z[x],e,x)})).filter(U=>U.score>0).sort((U,z)=>z.score-U.score);g.push({prizeNumber:k*2+1,name:`${N} - Most Correct Winners`,week:x,type:"correctWinners",leaders:R.slice(0,5)});const A=Object.entries(f).map(([U,z])=>({playerName:U,score:l(z[x],e,x)})).filter(U=>U.score!==null).sort((U,z)=>U.score-z.score);g.push({prizeNumber:k*2+2,name:`${N} - Closest Total Points`,week:x,type:"pointsDifference",leaders:A.slice(0,5)})});const C="superbowl",E=Object.entries(f).map(([x,k])=>({playerName:x,score:a(k[C],e,C)})).filter(x=>x.score>0).sort((x,k)=>k.score-x.score);g.push({prizeNumber:7,name:"Week 4 - Most Correct Winners",week:C,type:"correctWinners",leaders:E.slice(0,5)});const y=Object.entries(f).map(([x,k])=>({playerName:x,score:l(k[C],e,C)})).filter(x=>x.score!==null).sort((x,k)=>x.score-k.score);g.push({prizeNumber:8,name:"Week 4 - Closest Total Points",week:C,type:"pointsDifference",leaders:y.slice(0,5)});const m=Object.entries(f).map(([x,k])=>{const N=u(k,e,_);return{playerName:x,score:N.correctWinners}}).filter(x=>x.score>0).sort((x,k)=>k.score-x.score);g.push({prizeNumber:9,name:"Cumulative (All 4 Weeks) - Most Correct Winners",week:"all",type:"correctWinners",leaders:m.slice(0,5)});const v=Object.entries(f).map(([x,k])=>{const N=u(k,e,_);return{playerName:x,score:N.pointsDifference}}).filter(x=>x.score!==null&&x.score>=0).sort((x,k)=>x.score-k.score);return g.push({prizeNumber:10,name:"Cumulative (All 4 Weeks) - Closest Total Points",week:"all",type:"pointsDifference",leaders:v.slice(0,5)}),g},[f,e]);return c.jsx("div",{className:"standings-page",children:c.jsxs("div",{className:"container",children:[c.jsxs("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"20px",borderRadius:"8px",marginBottom:"20px",color:"white"},children:[c.jsx("div",{style:{fontSize:"0.9rem",marginBottom:"5px"},children:" VERIFIED"}),c.jsxs("div",{style:{fontSize:"1.2rem",fontWeight:"bold",marginBottom:"5px"},children:["Viewing as: ",r]}),i&&c.jsx("div",{style:{fontSize:"0.9rem",marginBottom:"10px",color:"#ffd700",fontWeight:"600"},children:" POOL MANAGER"}),c.jsx("button",{onClick:o,style:{background:"white",color:"#764ba2",border:"none",padding:"10px 20px",borderRadius:"6px",fontSize:"0.95rem",fontWeight:"600",cursor:"pointer",marginTop:"10px",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:" Logout / Switch Entry"}),c.jsx("p",{style:{fontSize:"0.85rem",marginTop:"10px",opacity:.9,fontStyle:"italic"},children:" Playing with multiple entries? Logout to switch between your codes."})]}),c.jsx("h1",{className:"standings-title",children:" Standings & Prize Leaders"}),c.jsx("div",{className:"prizes-grid",children:d.map(g=>c.jsxs("div",{className:"prize-card",children:[c.jsxs("div",{className:"prize-header",children:[c.jsxs("div",{className:"prize-number",children:["Prize #",g.prizeNumber]}),c.jsx("div",{className:"prize-name",children:g.name})]}),c.jsx("div",{className:"prize-leaders",children:g.leaders.length===0?c.jsx("div",{className:"no-data",children:"No data available yet"}):c.jsxs("table",{className:"leaders-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Rank"}),c.jsx("th",{children:"Player"}),c.jsx("th",{children:g.type==="correctWinners"?"Correct":"Difference"})]})}),c.jsx("tbody",{children:g.leaders.map((_,C)=>{const E=C>0&&_.score===g.leaders[C-1].score,y=E?"=":C+1;return c.jsxs("tr",{className:C===0&&!E?"leader-first":"",children:[c.jsx("td",{className:"rank",children:y}),c.jsx("td",{className:"player-name",children:_.playerName}),c.jsx("td",{className:"score",children:g.type==="correctWinners"?`${_.score} correct`:`${_.score} pts`})]},C)})})]})})]},g.prizeNumber))}),c.jsx("div",{className:"standings-note",children:c.jsxs("p",{children:[c.jsx("strong",{children:"Note:"}),' Tied players are shown with "=" rank. Pool Manager will resolve ties manually using Excel if needed for prize distribution.']})})]})})}function QS({currentWeek:t,games:e,actualScores:n,teamCodes:r,onScoresFetched:s,onGameLockToggle:i,gameLocks:o,espnAutoRefresh:a}){const[l,u]=F.useState(!1),[p,f]=F.useState(null),[d,g]=F.useState(null),[_,C]=F.useState(!1),[E,y]=F.useState(!1),m=async()=>{if(!(l||E)){u(!0),g({type:"loading",message:"Fetching scores from ESPN..."});try{await s(),f(new Date),g({type:"success",message:"Scores updated successfully!"}),setTimeout(()=>g(null),3e3)}catch(R){g({type:"error",message:`Error: ${R.message}`})}finally{u(!1)}}},v=()=>{_?(a.stop(),C(!1),g({type:"info",message:"Auto-refresh stopped"})):(a.start(),C(!0),g({type:"info",message:"Auto-refresh started (every 5 minutes)"})),setTimeout(()=>g(null),3e3)},x=()=>{E?(y(!1),g({type:"info",message:"API resumed - fetching enabled"})):(y(!0),_&&(a.stop(),C(!1)),g({type:"warning",message:"API paused - all fetching disabled"})),setTimeout(()=>g(null),3e3)},k=R=>{var A;return((A=o==null?void 0:o[t])==null?void 0:A[R])===!0},N=R=>{var A,U;return((U=(A=n==null?void 0:n[t])==null?void 0:A[R])==null?void 0:U.source)==="espn"};return c.jsxs("div",{className:"espn-controls",children:[c.jsxs("div",{className:"espn-header",children:[c.jsx("h3",{children:" ESPN API Controls"}),c.jsxs("div",{className:"espn-status-badges",children:[E&&c.jsx("span",{className:"status-badge paused",children:" API PAUSED"}),_&&!E&&c.jsx("span",{className:"status-badge active",children:" AUTO-REFRESH ON"}),p&&c.jsxs("span",{className:"status-badge info",children:["Last fetch: ",p.toLocaleTimeString()]})]})]}),c.jsxs("div",{className:"espn-global-controls",children:[c.jsx("button",{className:"espn-btn fetch-now",onClick:m,disabled:l||E,children:l?" Fetching...":" Fetch Scores Now"}),c.jsx("button",{className:`espn-btn auto-refresh ${_?"active":""}`,onClick:v,disabled:E,children:_?" Stop Auto-Refresh":" Start Auto-Refresh (5 min)"}),c.jsx("button",{className:`espn-btn pause-api ${E?"paused":""}`,onClick:x,children:E?" Resume API":" Pause API"})]}),d&&c.jsx("div",{className:`fetch-status ${d.type}`,children:d.message}),c.jsxs("div",{className:"game-overrides",children:[c.jsx("h4",{children:"Game Override Controls"}),c.jsxs("p",{className:"override-info",children:[" Lock = Manual entry only (ignore API)",c.jsx("br",{})," Unlock = Auto-update from ESPN API"]}),c.jsx("div",{className:"game-override-list",children:e.map(R=>{var Dt,ur,dr,Ot,pt;const A=k(R.id),U=N(R.id),z=(Dt=n==null?void 0:n[t])==null?void 0:Dt[R.id],$e=((dr=(ur=r==null?void 0:r[t])==null?void 0:ur[R.id])==null?void 0:dr.team1)||R.team1,Ut=((pt=(Ot=r==null?void 0:r[t])==null?void 0:Ot[R.id])==null?void 0:pt.team2)||R.team2;return c.jsxs("div",{className:"game-override-item",children:[c.jsxs("div",{className:"game-info",children:[c.jsxs("span",{className:"game-matchup",children:[$e," vs ",Ut]}),z&&c.jsxs("span",{className:"game-scores",children:[n[t][R.id].team1," - ",n[t][R.id].team2]})]}),c.jsxs("div",{className:"game-status-badges",children:[U&&!A&&c.jsx("span",{className:"game-badge api",children:" From API"}),A&&c.jsx("span",{className:"game-badge manual",children:" Manual Entry"}),!z&&c.jsx("span",{className:"game-badge no-score",children:"No Score"})]}),c.jsx("button",{className:`lock-btn ${A?"locked":"unlocked"}`,onClick:()=>i(R.id),title:A?"Unlock to allow API updates":"Lock to prevent API updates",children:A?" Locked":" Unlocked"})]},R.id)})})]}),c.jsxs("div",{className:"espn-help",children:[c.jsx("h4",{children:" How It Works:"}),c.jsxs("ul",{children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Fetch Now:"})," Manually fetch latest scores from ESPN"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Auto-Refresh:"})," Automatically fetch every 5 minutes"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Pause API:"})," Stop all API fetching (use manual entry only)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Lock Game:"})," Prevent API from overwriting your manual score for that game"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Unlock Game:"})," Allow API to update score automatically"]})]}),c.jsxs("p",{className:"help-note",children:[c.jsx("strong",{children:"Tip:"})," Lock a game if you need to manually correct a score that ESPN has wrong."]})]})]})}const KS="https://site.api.espn.com/apis/site/v2/sports/football/nfl";async function qS(){try{const t=await fetch(`${KS}/scoreboard`);if(!t.ok)throw new Error(`ESPN API error: ${t.status}`);const e=await t.json();return XS(e)}catch(t){return console.error("Error fetching ESPN scores:",t),{success:!1,error:t.message,games:[]}}}function XS(t){return!t.events||t.events.length===0?{success:!0,games:[],message:"No games currently available"}:{success:!0,games:t.events.map(n=>{const r=n.competitions[0],s=r.status,i=r.competitors,o=i.find(_=>_.homeAway==="away"),a=i.find(_=>_.homeAway==="home"),l=o.team.abbreviation,u=a.team.abbreviation,p=parseInt(o.score)||0,f=parseInt(a.score)||0,d=JS(s);return{espnGameId:n.id,awayTeam:{abbreviation:l,fullName:o.team.displayName,score:p},homeTeam:{abbreviation:u,fullName:a.team.displayName,score:f},status:d.status,statusText:d.text,period:d.period,clock:d.clock,isFinal:d.isFinal,isLive:d.isLive,isScheduled:d.isScheduled,startTime:n.date,lastUpdated:new Date().toISOString()}}),fetchedAt:new Date().toISOString()}}function JS(t){const e=t.type.name,n=t.period,r=t.displayClock,s=t.type.detail;let i="scheduled",o=s,a=!1,l=!1,u=!1;return e==="STATUS_SCHEDULED"?(i="scheduled",o="Scheduled",u=!0):e==="STATUS_IN_PROGRESS"?(i="live",a=!0,n===1?o=`1st Quarter - ${r}`:n===2?o=`2nd Quarter - ${r}`:n===3?o=`3rd Quarter - ${r}`:n===4?o=`4th Quarter - ${r}`:n>4&&(o=`OT ${n-4} - ${r}`)):e==="STATUS_HALFTIME"?(i="halftime",o="Halftime",a=!0):e==="STATUS_END_PERIOD"?(i="live",o=`End of ${n===1?"1st":n===2?"2nd":n===3?"3rd":"4th"} Quarter`,a=!0):(e==="STATUS_FINAL"||e==="STATUS_FINAL_OVERTIME")&&(i="final",l=!0,e==="STATUS_FINAL_OVERTIME"?o=n>4?`Final/OT${n-4}`:"Final/OT":o="Final"),{status:i,text:o,period:n,clock:r||"",isLive:a,isFinal:l,isScheduled:u}}function ZS(t,e,n,r){if(!r||!r[n])return null;const s=e[n].games,i=r[n];for(const o of s){const a=i[o.id];if(!a)continue;const l=a.team1===t.awayTeam.abbreviation||a.team1===t.homeTeam.abbreviation,u=a.team2===t.awayTeam.abbreviation||a.team2===t.homeTeam.abbreviation;if(l&&u){const p=a.team1===t.awayTeam.abbreviation;return{gameId:o.id,team1Score:p?t.awayTeam.score:t.homeTeam.score,team2Score:p?t.homeTeam.score:t.awayTeam.score,status:t.status,statusText:t.statusText,period:t.period,clock:t.clock,isFinal:t.isFinal,isLive:t.isLive,espnGameId:t.espnGameId}}}return null}class eE{constructor(e,n=5){this.onFetch=e,this.intervalMinutes=n,this.intervalId=null,this.isRunning=!1}start(){if(this.isRunning){console.log("Auto-refresh already running");return}console.log(`Starting auto-refresh every ${this.intervalMinutes} minutes`),this.isRunning=!0,this.onFetch(),this.intervalId=setInterval(()=>{console.log("Auto-fetching ESPN scores..."),this.onFetch()},this.intervalMinutes*60*1e3)}stop(){if(!this.isRunning){console.log("Auto-refresh not running");return}console.log("Stopping auto-refresh"),clearInterval(this.intervalId),this.intervalId=null,this.isRunning=!1}isActive(){return this.isRunning}setInterval(e){this.intervalMinutes=e,this.isRunning&&(this.stop(),this.start())}}const tE={wildcard:{name:"Week 1 - Wildcard Round",shortName:"Wildcard",deadline:"Fri Jan 9, 11:59 PM PST",number:1},divisional:{name:"Week 2 - Divisional Round",shortName:"Divisional",deadline:"Fri Jan 16, 11:59 PM PST",number:2},conference:{name:"Week 3 - Conference Championships",shortName:"Conference",deadline:"Fri Jan 23, 11:59 PM PST",number:3},superbowl:{name:"Week 4 - Super Bowl LIX",shortName:"Super Bowl",deadline:"Fri Feb 6, 11:59 PM PST",number:4}};function nE(t,e,n,r){return n?{icon:"",text:"LOCKED",color:"gray",className:"locked"}:r?{icon:"",text:"EDITING NOW",color:"purple",className:"editing"}:e&&e.complete?{icon:"",text:"ALL PICKS SAVED",color:"green",className:"saved"}:{icon:"",text:"READY TO PICK",color:"blue",className:"ready"}}function rE({currentWeek:t,onWeekChange:e,weekPicks:n={},weekLockStatus:r={},hasUnsavedChanges:s=!1}){const i=o=>{o!==t&&e(o)};return c.jsxs("div",{className:"week-selector-container",children:[c.jsxs("div",{className:"week-selector-header",children:[c.jsx("h2",{children:" SELECT WEEK TO MAKE/EDIT YOUR PICKS"}),s&&c.jsx("div",{className:"unsaved-indicator",children:" You have unsaved changes"})]}),c.jsx("div",{className:"week-cards",children:Object.entries(tE).map(([o,a])=>{var d;const l=o===t,u=((d=r[o])==null?void 0:d.locked)||!1,p=n[o],f=nE(o,p,u,l);return c.jsxs("div",{className:`week-card ${f.className} ${l?"current":""}`,onClick:()=>i(o),role:"button",tabIndex:0,onKeyPress:g=>{(g.key==="Enter"||g.key===" ")&&i(o)},children:[c.jsxs("div",{className:"week-card-header",children:[c.jsxs("div",{className:"week-number",children:["WEEK ",a.number]}),l&&c.jsx("div",{className:"current-indicator",children:" YOU ARE HERE "})]}),c.jsxs("div",{className:"week-card-title",children:[o==="superbowl"?"":""," ",a.shortName]}),c.jsxs("div",{className:"week-card-deadline",children:[o==="superbowl"?"Game Day: ":"Deadline: ",a.deadline]}),c.jsxs("div",{className:`week-card-status status-${f.className}`,children:[c.jsx("span",{className:"status-icon",children:f.icon}),c.jsx("span",{className:"status-text",children:f.text})]}),u&&c.jsx("div",{className:"locked-overlay",children:c.jsx("div",{className:"locked-message",children:" Cannot Edit"})})]},o)})}),c.jsx("div",{className:"week-selector-footer",children:c.jsx("p",{className:"info-text",children:" You can make picks for all weeks in advance, even if teams aren't known yet."})})]})}function sE({currentWeek:t,onDiscard:e,onSaveAndSwitch:n,onCancel:r}){const s={wildcard:"Week 1",divisional:"Week 2",conference:"Week 3",superbowl:"Week 4"};return c.jsx("div",{className:"popup-overlay",children:c.jsxs("div",{className:"popup-container warning-popup",children:[c.jsxs("div",{className:"popup-header warning",children:[c.jsx("span",{className:"popup-icon",children:""}),c.jsx("h3",{children:"UNSAVED CHANGES"})]}),c.jsxs("div",{className:"popup-body",children:[c.jsxs("p",{children:["You have unsaved changes for ",s[t],"."]}),c.jsx("p",{children:"What would you like to do?"})]}),c.jsxs("div",{className:"popup-buttons",children:[c.jsx("button",{className:"popup-btn btn-secondary",onClick:e,children:"Discard Changes"}),c.jsx("button",{className:"popup-btn btn-primary",onClick:n,children:"Save & Switch"}),c.jsx("button",{className:"popup-btn btn-neutral",onClick:r,children:"Cancel"})]})]})})}function iE({onKeepEditing:t,onDiscard:e}){return c.jsx("div",{className:"popup-overlay",children:c.jsxs("div",{className:"popup-container warning-popup",children:[c.jsxs("div",{className:"popup-header warning",children:[c.jsx("span",{className:"popup-icon",children:""}),c.jsx("h3",{children:"DISCARD CHANGES?"})]}),c.jsxs("div",{className:"popup-body",children:[c.jsx("p",{children:"Your changes will not be saved."}),c.jsx("p",{children:"Your previously saved picks will remain unchanged in the system."})]}),c.jsxs("div",{className:"popup-buttons",children:[c.jsx("button",{className:"popup-btn btn-primary",onClick:t,children:"Keep Editing"}),c.jsx("button",{className:"popup-btn btn-danger",onClick:e,children:"Discard Changes"})]})]})})}function oE({missingGames:t,totalGames:e,onClose:n}){return c.jsx("div",{className:"popup-overlay",children:c.jsxs("div",{className:"popup-container error-popup",children:[c.jsxs("div",{className:"popup-header error",children:[c.jsx("span",{className:"popup-icon",children:""}),c.jsx("h3",{children:"CANNOT SAVE - INCOMPLETE ENTRY"})]}),c.jsxs("div",{className:"popup-body",children:[c.jsx("p",{children:"You must predict scores for ALL games."}),c.jsxs("p",{className:"count-text",children:["Completed: ",c.jsx("strong",{children:e-t.length})," of ",c.jsx("strong",{children:e})," games "]}),c.jsxs("div",{className:"missing-games-list",children:[c.jsx("p",{children:c.jsx("strong",{children:"Missing scores for:"})}),c.jsx("ul",{children:t.map((r,s)=>c.jsxs("li",{children:[" Game ",s+1,": ",r.team1," vs ",r.team2]},s))})]}),c.jsx("p",{className:"instruction-text",children:"Please fill in all games before saving."})]}),c.jsx("div",{className:"popup-buttons",children:c.jsx("button",{className:"popup-btn btn-primary",onClick:n,children:"OK - Go Back and Complete"})})]})})}function lE({invalidScores:t,onClose:e}){return c.jsx("div",{className:"popup-overlay",children:c.jsxs("div",{className:"popup-container error-popup",children:[c.jsxs("div",{className:"popup-header error",children:[c.jsx("span",{className:"popup-icon",children:""}),c.jsx("h3",{children:"INVALID SCORES"})]}),c.jsxs("div",{className:"popup-body",children:[c.jsx("p",{children:"All scores must be between 10 and 50."}),c.jsxs("div",{className:"invalid-scores-list",children:[c.jsx("p",{children:c.jsx("strong",{children:"Invalid scores:"})}),c.jsx("ul",{children:t.map((n,r)=>c.jsxs("li",{children:[" Game ",r+1," (",n.team,"): ",c.jsx("strong",{children:n.score})," (",n.score<10?"too low":"too high",")"]},r))})]}),c.jsx("p",{className:"instruction-text",children:"Please fix these scores."})]}),c.jsx("div",{className:"popup-buttons",children:c.jsx("button",{className:"popup-btn btn-primary",onClick:e,children:"OK - Go Back and Fix"})})]})})}function aE({weekName:t,deadline:e,onClose:n}){return c.jsx("div",{className:"popup-overlay",children:c.jsxs("div",{className:"popup-container success-popup",children:[c.jsxs("div",{className:"popup-header success",children:[c.jsx("span",{className:"popup-icon",children:""}),c.jsx("h3",{children:"PICKS SAVED SUCCESSFULLY!"})]}),c.jsxs("div",{className:"popup-body",children:[c.jsxs("p",{children:["Your ",t," picks have been saved."]}),c.jsx("p",{children:"You can edit them anytime before the deadline:"}),c.jsx("p",{className:"deadline-text",children:c.jsx("strong",{children:e})})]}),c.jsx("div",{className:"popup-buttons",children:c.jsx("button",{className:"popup-btn btn-success",onClick:n,children:"OK"})})]})})}function cE({onClose:t}){return c.jsx("div",{className:"popup-overlay",children:c.jsxs("div",{className:"popup-container info-popup",children:[c.jsxs("div",{className:"popup-header info",children:[c.jsx("span",{className:"popup-icon",children:""}),c.jsx("h3",{children:"NO CHANGES TO SAVE"})]}),c.jsxs("div",{className:"popup-body",children:[c.jsx("p",{children:"You haven't made any changes to your picks."}),c.jsx("p",{children:"Your picks are already saved."})]}),c.jsx("div",{className:"popup-buttons",children:c.jsx("button",{className:"popup-btn btn-primary",onClick:t,children:"OK"})})]})})}function uE({tiedGames:t,gameData:e,onClose:n}){return c.jsx("div",{className:"popup-overlay",children:c.jsxs("div",{className:"popup-container error-popup",children:[c.jsxs("div",{className:"popup-header error",children:[c.jsx("span",{className:"popup-icon",children:""}),c.jsx("h3",{children:"PLAYOFF GAMES CANNOT END IN A TIE!"})]}),c.jsxs("div",{className:"popup-body",children:[c.jsx("p",{style:{fontWeight:"bold",marginBottom:"15px"},children:"The following game(s) have tied scores:"}),c.jsx("ul",{style:{listStyle:"none",padding:0,marginBottom:"15px"},children:t.map(r=>{const s=e.find(i=>i.id===r);return c.jsxs("li",{style:{padding:"8px",background:"#ffebee",border:"1px solid #ef5350",borderRadius:"4px",marginBottom:"8px",color:"#c62828"},children:[" ",s.team1," vs. ",s.team2]},r)})}),c.jsx("p",{style:{fontStyle:"italic",color:"#666"},children:"NFL Playoff games go to overtime until there's a winner!"}),c.jsx("p",{style:{fontWeight:"bold"},children:"Please change the scores so one team wins."})]}),c.jsx("div",{className:"popup-buttons",children:c.jsx("button",{className:"popup-btn btn-primary",onClick:n,children:"Fix Scores"})})]})})}const oy={1:{name:"Most Correct Winners",week:"wildcard",weekName:"Week 1"},2:{name:"Closest Total Points",week:"wildcard",weekName:"Week 1"},3:{name:"Most Correct Winners",week:"divisional",weekName:"Week 2"},4:{name:"Closest Total Points",week:"divisional",weekName:"Week 2"},5:{name:"Most Correct Winners",week:"conference",weekName:"Week 3"},6:{name:"Closest Total Points",week:"conference",weekName:"Week 3"},7:{name:"Most Correct Winners",week:"superbowl",weekName:"Week 4"},8:{name:"Closest Total Points",week:"superbowl",weekName:"Week 4"},9:{name:"Overall Most Correct Winners",week:"all",weekName:"All Weeks"},10:{name:"Overall Closest Total Points",week:"all",weekName:"All Weeks"}};function dE(t,e,n){var r;if(t.week==="all"){let s=0,i=0;return Object.keys(n).forEach(o=>{const a=n[o].games;s+=a.length,a.forEach(l=>{var p;const u=(p=e[o])==null?void 0:p[l.id];u&&(u.team1!==void 0||u.team2!==void 0)&&i++})}),i===0?{status:"NOT_STARTED",gamesCompleted:0,totalGames:s,message:"First game Saturday, January 11, 2026! Standings will update as games finish."}:i<s?{status:"LIVE",gamesCompleted:i,totalGames:s,message:`LIVE NOW! ${i} of ${s} playoff games completed. Standings updating in real-time!`}:{status:"COMPLETE",gamesCompleted:i,totalGames:s,message:"Playoffs complete! Final standings shown above."}}else{const s=((r=n[t.week])==null?void 0:r.games)||[],i=s.length;let o=0;return s.forEach(a=>{var u;const l=(u=e[t.week])==null?void 0:u[a.id];l&&(l.team1!==void 0||l.team2!==void 0)&&o++}),o===0?{status:"NOT_STARTED",gamesCompleted:0,totalGames:i,message:"Games not started yet. Standings will update as games finish!"}:o<i?{status:"LIVE",gamesCompleted:o,totalGames:i,message:`LIVE NOW! ${o} of ${i} games completed. Standings changing in real-time!`}:{status:"COMPLETE",gamesCompleted:o,totalGames:i,message:"All games complete! Final standings shown above."}}}function fE(t,e,n,r){var u,p,f;const s=oy[t],i=[1,3,5,7,9].includes(t);let o=[],a={},l=[];if(s.week==="all"){o=e,a=n,Object.keys(r).forEach(g=>{l=l.concat(r[g].games.map(_=>({..._,week:g})))});const d={};o.forEach(g=>{d[g.playerCode]||(d[g.playerCode]={playerCode:g.playerCode,playerName:g.playerName,weeklyPicks:[]}),d[g.playerCode].weeklyPicks.push(g)}),o=Object.values(d)}else o=e.filter(d=>d.week===s.week),a=n[s.week]||{},l=((u=r[s.week])==null?void 0:u.games)||[];if(o.length===0)return{leaders:[],allPlayers:[],hasTie:!1,tieCount:0};if(i){const d=o.map(C=>{let E=0;return(C.weeklyPicks||[C]).forEach(m=>{l.forEach(v=>{var A,U;const x=(A=m.predictions)==null?void 0:A[v.id],k=s.week==="all"?(U=n[v.week])==null?void 0:U[v.id]:a[v.id];if(!x||!k)return;const N=parseInt(x.team1)>parseInt(x.team2)?"team1":"team2",R=parseInt(k.team1)>parseInt(k.team2)?"team1":"team2";N===R&&E++})}),{playerCode:C.playerCode,playerName:C.playerName,score:E}});d.sort((C,E)=>E.score-C.score);const g=((p=d[0])==null?void 0:p.score)||0,_=d.filter(C=>C.score===g);return{leaders:_,allPlayers:d,hasTie:_.length>1,tieCount:_.length}}else{let d=0;l.forEach(E=>{var m;const y=s.week==="all"?(m=n[E.week])==null?void 0:m[E.id]:a[E.id];y&&(d+=(parseInt(y.team1)||0)+(parseInt(y.team2)||0))});const g=o.map(E=>{let y=0;(E.weeklyPicks||[E]).forEach(x=>{l.forEach(k=>{var R;const N=(R=x.predictions)==null?void 0:R[k.id];N&&(y+=(parseInt(N.team1)||0)+(parseInt(N.team2)||0))})});const v=Math.abs(y-d);return{playerCode:E.playerCode,playerName:E.playerName,score:y,actualTotal:d,difference:v}});g.sort((E,y)=>E.difference-y.difference);const _=((f=g[0])==null?void 0:f.difference)||0,C=g.filter(E=>E.difference===_);return{leaders:C,allPlayers:g,hasTie:C.length>1,tieCount:C.length,actualTotal:d}}}function hE({prizeNumber:t,allPicks:e,actualScores:n,weekData:r,officialWinner:s=null}){const[i,o]=F.useState(null),[a,l]=F.useState(!0),u=oy[t],p=[1,3,5,7,9].includes(t);if(F.useEffect(()=>{try{const E=fE(t,e,n,r);o(E),l(!1)}catch(E){console.error(`Error calculating leaders for Prize ${t}:`,E),l(!1)}},[t,e,n,r]),a)return c.jsxs("div",{className:"leader-card loading",children:[c.jsx("div",{className:"leader-card-header",children:c.jsxs("h3",{children:["Prize #",t," - ",u.name]})}),c.jsx("div",{className:"leader-card-body",children:c.jsx("p",{children:"Calculating leaders..."})})]});if(!i||i.allPlayers.length===0)return c.jsxs("div",{className:"leader-card no-data",children:[c.jsxs("div",{className:"leader-card-header",children:[c.jsxs("h3",{children:["Prize #",t," - ",u.name]}),c.jsx("span",{className:"prize-week",children:u.weekName})]}),c.jsx("div",{className:"leader-card-body",children:c.jsx("p",{children:"No picks available yet."})})]});const{leaders:f,allPlayers:d,hasTie:g,tieCount:_}=i,C=dE(u,n,r);return c.jsxs("div",{className:`leader-card ${g?"has-tie":""}`,children:[c.jsxs("div",{className:"leader-card-header",children:[c.jsxs("h3",{children:["Prize #",t," - ",u.name]}),c.jsx("span",{className:"prize-week",children:u.weekName})]}),c.jsxs("div",{className:"leader-card-body",children:[c.jsxs("div",{className:`game-status ${C.status.toLowerCase()}`,children:[c.jsxs("div",{className:"status-badge",children:[C.status==="NOT_STARTED"&&" NOT STARTED",C.status==="LIVE"&&" LIVE",C.status==="COMPLETE"&&" COMPLETE"]}),c.jsx("div",{className:"status-details",children:C.status!=="NOT_STARTED"&&c.jsxs("span",{className:"games-count",children:[C.gamesCompleted," of ",C.totalGames," games"]})}),c.jsx("p",{className:"status-message",children:C.message})]}),g&&c.jsxs("div",{className:"tie-warning",children:[" ",_,"-WAY TIE FOR 1ST PLACE!"]}),g&&c.jsxs("div",{className:"tied-leaders-section",children:[c.jsx("h4",{children:" TIED FOR 1ST PLACE:"}),c.jsx("div",{className:"leaders-list",children:f.map((E,y)=>c.jsxs("div",{className:`leader-item ${(s==null?void 0:s.playerCode)===E.playerCode?"official-winner":"tied-leader"}`,children:[c.jsxs("span",{className:"leader-rank",children:[y+1,"."]}),c.jsx("span",{className:"leader-name",children:E.playerName}),c.jsx("span",{className:"leader-score",children:p?`${E.score} correct`:`${E.score} pts (off by ${E.difference})`}),(s==null?void 0:s.playerCode)===E.playerCode?c.jsx("span",{className:"official-badge",children:" OFFICIAL WINNER"}):c.jsx("span",{className:"leading-badge",children:" LEADING"})]},y))})]}),g&&d.length>_&&c.jsxs("div",{className:"next-in-line-section",children:[c.jsx("h4",{children:" NEXT IN LINE:"}),c.jsx("div",{className:"leaders-list",children:d.slice(_,_+10).map((E,y)=>c.jsxs("div",{className:"leader-item",children:[c.jsxs("span",{className:"leader-rank",children:[_+y+1,"."]}),c.jsx("span",{className:"leader-name",children:E.playerName}),c.jsx("span",{className:"leader-score",children:p?`${E.score} correct`:`${E.score} pts (off by ${E.difference})`})]},y))})]}),!g&&c.jsxs("div",{className:"all-players-section",children:[c.jsx("h4",{children:" ALL PLAYERS RANKED:"}),c.jsx("div",{className:"leaders-list",children:d.map((E,y)=>c.jsxs("div",{className:`leader-item ${y===0&&(s==null?void 0:s.playerCode)===E.playerCode?"official-winner":""}`,children:[c.jsxs("span",{className:"leader-rank",children:[y+1,"."]}),c.jsx("span",{className:"leader-name",children:E.playerName}),c.jsx("span",{className:"leader-score",children:p?`${E.score} correct`:`${E.score} pts (off by ${E.difference})`}),y===0&&((s==null?void 0:s.playerCode)===E.playerCode?c.jsx("span",{className:"official-badge",children:" OFFICIAL WINNER"}):c.jsx("span",{className:"leading-badge",children:" LEADING"}))]},y))})]}),!s&&c.jsx("div",{className:"no-official-winner",children:c.jsx("em",{children:"No official winner declared yet"})})]})]})}function pE({allPicks:t,actualScores:e,games:n,officialWinners:r,weekData:s}){return c.jsxs("div",{className:"leaders-section",children:[c.jsx("h2",{children:" Prize Leaders"}),c.jsx("p",{className:"leaders-description",children:"Current standings for all 10 prizes. Winners will be officially announced by the Pool Manager."}),c.jsx("div",{className:"prize-grid",children:[1,2,3,4,5,6,7,8,9,10].map(i=>c.jsx(hE,{prizeNumber:i,allPicks:t,actualScores:e,weekData:s,officialWinner:r==null?void 0:r[i]},i))})]})}const ly={1:{name:"Most Correct Winners",week:"wildcard",weekName:"Week 1"},2:{name:"Closest Total Points",week:"wildcard",weekName:"Week 1"},3:{name:"Most Correct Winners",week:"divisional",weekName:"Week 2"},4:{name:"Closest Total Points",week:"divisional",weekName:"Week 2"},5:{name:"Most Correct Winners",week:"conference",weekName:"Week 3"},6:{name:"Closest Total Points",week:"conference",weekName:"Week 3"},7:{name:"Most Correct Winners",week:"superbowl",weekName:"Week 4"},8:{name:"Closest Total Points",week:"superbowl",weekName:"Week 4"},9:{name:"Overall Most Correct Winners",week:"all",weekName:"All Weeks"},10:{name:"Overall Closest Total Points",week:"all",weekName:"All Weeks"}};function mE(t,e,n,r){var u;const s=ly[t],i=[1,3,5,7,9].includes(t);let o=[],a={},l=[];if(s.week==="all"?(o=e,a=n,Object.keys(r).forEach(p=>{l=l.concat(r[p].games.map(f=>({...f,week:p})))})):(o=e.filter(p=>p.week===s.week),a=n[s.week]||{},l=((u=r[s.week])==null?void 0:u.games)||[]),o.length===0)return[];if(i)return o.map(f=>{let d=0;return l.forEach(g=>{var m,v;const _=(m=f.predictions)==null?void 0:m[g.id],C=s.week==="all"?(v=n[g.week])==null?void 0:v[g.id]:a[g.id];if(!_||!C)return;const E=parseInt(_.team1)>parseInt(_.team2)?"team1":"team2",y=parseInt(C.team1)>parseInt(C.team2)?"team1":"team2";E===y&&d++}),{playerCode:f.playerCode,playerName:f.playerName,score:d}}).sort((f,d)=>d.score-f.score);{let p=0;return l.forEach(d=>{var _;const g=s.week==="all"?(_=n[d.week])==null?void 0:_[d.id]:a[d.id];g&&(p+=(parseInt(g.team1)||0)+(parseInt(g.team2)||0))}),o.map(d=>{let g=0;l.forEach(C=>{var y;const E=(y=d.predictions)==null?void 0:y[C.id];E&&(g+=(parseInt(E.team1)||0)+(parseInt(E.team2)||0))});const _=Math.abs(g-p);return{playerCode:d.playerCode,playerName:d.playerName,score:g,difference:_}}).sort((d,g)=>d.difference-g.difference)}}function gE({prizeNumber:t,allPicks:e,actualScores:n,weekData:r,officialWinner:s,onDeclareWinner:i}){const[o,a]=F.useState(s?`${s.playerCode}|${s.playerName}`:""),l=ly[t],u=mE(t,e,n,r),p=[1,3,5,7,9].includes(t),f=()=>{if(!o){i(t,null);return}if(o==="TIE"){i(t,{playerCode:"TIE",playerName:"TIE - Multiple Winners",score:"TIE"});return}const[d,g]=o.split("|"),_=u.find(C=>C.playerCode===d);i(t,{playerCode:d,playerName:g,score:(_==null?void 0:_.score)||0})};return c.jsxs("div",{className:"prize-declaration-card",children:[c.jsxs("div",{className:"prize-header",children:[c.jsxs("h3",{children:["Prize #",t]}),c.jsx("span",{className:"prize-type",children:l.name}),c.jsx("span",{className:"prize-week",children:l.weekName})]}),c.jsxs("div",{className:"prize-body",children:[u.length===0?c.jsx("div",{className:"no-picks-warning",children:" No picks submitted yet for this week"}):c.jsxs("div",{className:"current-leaders",children:[c.jsx("h4",{children:" ALL PLAYERS RANKED:"}),c.jsx("ol",{className:"all-players-list",children:u.map((d,g)=>c.jsxs("li",{children:[d.playerName," - "," ",p?`${d.score} correct`:`${d.score} pts (off by ${d.difference})`]},g))})]}),c.jsxs("div",{className:"winner-selection",children:[c.jsxs("label",{children:[c.jsx("strong",{children:"Declare Official Winner:"}),c.jsxs("select",{value:o,onChange:d=>a(d.target.value),className:"winner-dropdown",children:[c.jsx("option",{value:"",children:"-- No Winner Declared --"}),c.jsx("option",{value:"TIE",children:" DECLARE TIE"}),u.map((d,g)=>c.jsxs("option",{value:`${d.playerCode}|${d.playerName}`,children:[d.playerName," (",p?`${d.score} correct`:`off by ${d.difference}`,")"]},g))]})]}),c.jsx("button",{className:"btn-declare",onClick:f,children:o?" Declare Winner":" Remove Winner"})]}),s&&c.jsxs("div",{className:"current-winner",children:[" Official Winner: ",c.jsx("strong",{children:s.playerName})]})]})]})}function yE({allPicks:t,actualScores:e,games:n,officialWinners:r,onDeclareWinner:s,isPoolManager:i}){return i?c.jsxs("div",{className:"winner-declaration-section",children:[c.jsx("h2",{children:" Pool Manager: Declare Official Winners"}),c.jsxs("p",{className:"declaration-description",children:["Select the official winner for each prize. You can choose from calculated leaders or declare a tie.",c.jsx("strong",{children:" Dropdowns are available even if no picks have been submitted yet."})]}),c.jsx("div",{className:"prize-grid",children:[1,2,3,4,5,6,7,8,9,10].map(o=>c.jsx(gE,{prizeNumber:o,allPicks:t,actualScores:e,weekData:n,officialWinner:r==null?void 0:r[o],onDeclareWinner:s},o))})]}):null}const vE={apiKey:"AIzaSyDr3PPXC90wvQW_LG8TkAyR9K-7e0loQ3A",authDomain:"nfl-playoff-pool-2025-scores.firebaseapp.com",databaseURL:"https://nfl-playoff-pool-2025-scores-default-rtdb.firebaseio.com",projectId:"nfl-playoff-pool-2025-scores",storageBucket:"nfl-playoff-pool-2025-scores.firebasestorage.app",messagingSenderId:"844539772456",appId:"1:844539772456:web:9bbfcf523195a5eedfff1d"},_E=Vm(vE),Z=VS(_E),_h={firstFriday:"2026-01-09",lastMonday:"2026-02-09"},un={wildcard:"2026-01-10",divisional:"2026-01-17",conference:"2026-01-25",superbowl:"2026-02-08"},dn=["76BB89","Z9Y8X7"],Te={"76BB89":"POOL MANAGER - Richard",Z9Y8X7:"POOL MANAGER - Dennis",J239W4:"Bob Casson",B7Y4X3:"Bob Desrosiers",D4F7G5:"Bonnie Biletski","536EE2":"Brian Colburg",X8HH67:"Chris Neufeld",G7R3P5:"Curtis Braun",A4LJC9:"Curtis Palidwor",X3P8N1:"Dallas Pylypow",HM8T67:"Darrell Klassen",TA89R2:"Dave Boyarski",K2P9W5:"Dave Desrosiers",A5K4T7:"Dennis Biletski","6WRUJR":"Emily Chadwick",AB6C89:"Gareth Reeve",D3F6G9:"Jarrod Reimer",T42B67:"Jo Behr",PUEFKF:"Joshua Biletski",ABC378:"Ken Mcleod",K9R3N6:"Kevin Pich",H7P3N5:"Larry Bretecher",B5R4T6:"Larry Strand",L2W9X2:"Michelle Desrosiers","5GGPL3":"Mike Brkich",T4M8Z8:"Neema Dadmand","9CD72G":"Neil Banman",T7Y4R8:"Neil Foster",KWBZ86:"Nick Melanidis","2WQA9X":"Nima Ahmadi",E4T6J7:"Orest Pich",N4M8Q2:"Randy Moffatt",B8L9M2:"Richard Biletski","62R92L":"Rob Crowe",H8M3N7:"Rob Kost",WW3F44:"Ryan Moffatt",E5G7G8:"Tony Creta"},de={wildcard:{name:"Wild Card Round (Jan 10-12, 2026)",deadline:"Friday, January 9, 2026 at 11:59 PM PST",games:[{id:1,team1:"AFC #7",team2:"AFC #2"},{id:2,team1:"AFC #6",team2:"AFC #3"},{id:3,team1:"AFC #5",team2:"AFC #4"},{id:4,team1:"NFC #7",team2:"NFC #2"},{id:5,team1:"NFC #6",team2:"NFC #3"},{id:6,team1:"NFC #5",team2:"NFC #4"}]},divisional:{name:"Divisional Round (Jan 17-18, 2026)",deadline:"Friday, January 16, 2026 at 11:59 PM PST",games:[{id:7,team1:"AFC Winner 1",team2:"AFC #1"},{id:8,team1:"AFC Winner 2",team2:"AFC Winner 3"},{id:9,team1:"NFC Winner 1",team2:"NFC #1"},{id:10,team1:"NFC Winner 2",team2:"NFC Winner 3"}]},conference:{name:"Conference Championships (Jan 25, 2026)",deadline:"Friday, January 23, 2026 at 11:59 PM PST",games:[{id:11,team1:"AFC Winner A",team2:"AFC Winner B"},{id:12,team1:"NFC Winner A",team2:"NFC Winner B"}]},superbowl:{name:"Super Bowl LIX (Feb 8, 2026)",deadline:"Friday, February 6, 2026 at 11:59 PM PST",games:[{id:13,team1:"AFC Champion",team2:"NFC Champion"}]}};function wE(){const[t,e]=F.useState("picks"),[n,r]=F.useState(""),[s,i]=F.useState(""),[o,a]=F.useState(!1),[l,u]=F.useState("wildcard"),[p,f]=F.useState({}),[d,g]=F.useState([]),[_,C]=F.useState(!1),[E,y]=F.useState({}),[m,v]=F.useState({}),[x,k]=F.useState({}),[N,R]=F.useState({wildcard:"",divisional:"",conference:"",superbowl_week4:"",superbowl_week3:"",superbowl_week2:"",superbowl_week1:"",superbowl_grand:""}),[A,U]=F.useState({wildcard:{locked:!1,lockDate:null,autoLockDate:un.wildcard},divisional:{locked:!1,lockDate:null,autoLockDate:un.divisional},conference:{locked:!1,lockDate:null,autoLockDate:un.conference},superbowl:{locked:!1,lockDate:null,autoLockDate:un.superbowl}}),[z,$e]=F.useState({}),[Ut,Dt]=F.useState(null),[ur,dr]=F.useState(null),[Ot,pt]=F.useState(!1),[O,W]=F.useState(null),[G,ue]=F.useState(null),[Se,Wn]=F.useState([]),[$t,os]=F.useState([]),[mt,on]=F.useState({}),[Rl,ls]=F.useState({}),[ay,cy]=F.useState({}),[uy,as]=F.useState(!1),[te,fr]=F.useState(""),[cs,us]=F.useState(null),[zn,ds]=F.useState(null),[dy,fs]=F.useState(!1),[od,hr]=F.useState(null),[hs,bl]=F.useState(null),ve=()=>dn.includes(s)&&o,fy=()=>{let h=Math.floor(Math.random()*41)+10,S=Math.floor(Math.random()*41)+10;for(;h===S;)S=Math.floor(Math.random()*41)+10;return{team1:h,team2:S}},ld=()=>{const h=de[l].games,S={};h.forEach(w=>{S[w.id]=fy()}),ds(S),fs(!0)},hy=async()=>{if(!te||!zn)return;const h=Te[te];if(h)try{const S=J(Z,"picks"),w=await Ts(S);let I=null;if(w.exists()){const D=w.val();for(const[T,B]of Object.entries(D))if(B.playerCode===te&&B.week===l){I=T;break}}const b={playerName:h,playerCode:te,week:l,predictions:zn,timestamp:I&&w.val()[I].timestamp||Date.now(),lastUpdated:Date.now(),enteredBy:"POOL_MANAGER_RNG",enteredByCode:s,enteredByName:n};I?await Ge(J(Z,`picks/${I}`),b):await ma(J(Z,"picks"),b),alert(` RNG picks successfully submitted for ${h}!`),fs(!1),ds(null),as(!1),fr("")}catch(S){console.error("Error submitting RNG picks:",S),alert(" Error submitting RNG picks. Please try again.")}},py=()=>{if(!te)return;const h=d.find(S=>S.playerCode===te&&S.week===l);h&&h.predictions?(f(h.predictions),ls({...h.predictions}),us("manual")):(f({}),ls({}),us("manual"))},my=async h=>{if(h.preventDefault(),!te){alert("Please select a player first.");return}const S=Te[te];de[l];try{const w=J(Z,"picks"),I=await Ts(w);let b=null;if(I.exists()){const T=I.val();for(const[B,V]of Object.entries(T))if(V.playerCode===te&&V.week===l){b=B;break}}const D={playerName:S,playerCode:te,week:l,predictions:p,timestamp:b&&I.val()[b].timestamp||Date.now(),lastUpdated:Date.now(),enteredBy:"POOL_MANAGER_MANUAL",enteredByCode:s,enteredByName:n};b?await Ge(J(Z,`picks/${b}`),D):await ma(J(Z,"picks"),D),alert(` Picks successfully submitted for ${S}!`),f({}),as(!1),fr(""),us(null)}catch(w){console.error("Error submitting picks for player:",w),alert(" Error submitting picks. Please try again.")}},gy=async()=>{if(!te)return;const h=Te[te];try{console.log(" DEBUG: Starting delete for player:",h),console.log(" DEBUG: Player code:",te),console.log(" DEBUG: Current week:",l);const S=J(Z,"picks"),w=await Ts(S);if(console.log(" DEBUG: Got snapshot, exists?",w.exists()),w.exists()){const I=w.val();console.log(" DEBUG: Total picks in database:",Object.keys(I).length);let b=null;for(const[D,T]of Object.entries(I))if(console.log(` DEBUG: Checking pick ${D}:`,T.playerCode,T.week),T.playerCode===te&&T.week===l){b=D,console.log(" DEBUG: FOUND KEY TO DELETE:",b);break}b?(console.log(" DEBUG: Attempting to delete key:",b),await vh(J(Z,`picks/${b}`)),console.log(" DEBUG: Delete successful!"),alert(` ${h}'s picks for ${l==="wildcard"?"Week 1":l==="divisional"?"Week 2":l==="conference"?"Week 3":"Week 4"} have been deleted!`)):(console.log(" DEBUG: No pick found to delete"),alert(` ${h} has no picks for this week.`))}hr(null),fr("")}catch(S){console.error(" DEBUG: Error deleting picks:",S),console.error(" DEBUG: Error message:",S.message),console.error(" DEBUG: Error code:",S.code),alert(` Error deleting picks: ${S.message}

Check browser console (F12) for details.`)}},yy=async()=>{if(!te)return;const h=Te[te];try{console.log(" DEBUG: Starting delete ALL for player:",h),console.log(" DEBUG: Player code:",te);const S=J(Z,"picks"),w=await Ts(S);if(console.log(" DEBUG: Got snapshot, exists?",w.exists()),w.exists()){const I=w.val(),b=[];console.log(" DEBUG: Total picks in database:",Object.keys(I).length);for(const[D,T]of Object.entries(I))T.playerCode===te&&(console.log(" DEBUG: Found pick to delete:",D,T.week),b.push(D));if(console.log(" DEBUG: Total keys to delete:",b.length),b.length>0){console.log(" DEBUG: Attempting to delete keys:",b);const D=b.map(T=>vh(J(Z,`picks/${T}`)));await Promise.all(D),console.log(" DEBUG: Delete ALL successful!"),alert(` ALL picks for ${h} have been deleted!

Deleted ${b.length} pick(s) across all weeks.`)}else console.log(" DEBUG: No picks found to delete"),alert(` ${h} has no picks in any week.`)}hr(null),fr(""),as(!1)}catch(S){console.error(" DEBUG: Error deleting all picks:",S),console.error(" DEBUG: Error message:",S.message),console.error(" DEBUG: Error code:",S.code),alert(` Error deleting picks: ${S.message}

Check browser console (F12) for details.`)}},vy=async h=>{try{console.log(" Clearing week data for:",h),E[h]&&(await Ge(J(Z,`teamCodes/${h}`),null),console.log(" Cleared team codes")),m[h]&&(await Ge(J(Z,`actualScores/${h}`),null),console.log(" Cleared actual scores")),x[h]&&(await Ge(J(Z,`gameStatus/${h}`),null),console.log(" Cleared game status")),alert(` Week ${h==="wildcard"?"1":h==="divisional"?"2":h==="conference"?"3":"4"} data cleared!

Team names, scores, and statuses have been deleted.
Player picks are still intact.`),bl(null)}catch(S){console.error(" Error clearing week data:",S),alert(` Error clearing week data: ${S.message}`)}},ad=(h,S,w,I,b,D)=>{const T=Number(h)>Number(S),B=Number(S)>Number(h);if(h===S||!h||!S)return{background:"transparent",color:"#000"};if(w!==void 0&&I!==void 0&&w!==""&&I!==""){const V=Number(w)>Number(I),L=Number(I)>Number(w);if(!b||b===""){if(D&&T)return V?{background:"#fff9c4",color:"#000"}:{background:"#b3e5fc",color:"#000"};if(!D&&B)return L?{background:"#fff9c4",color:"#000"}:{background:"#b3e5fc",color:"#000"}}if(b==="live"){if(D&&T)return V?{background:"#c8e6c9",color:"#000"}:{background:"#ffcdd2",color:"#000"};if(!D&&B)return L?{background:"#c8e6c9",color:"#000"}:{background:"#ffcdd2",color:"#000"}}if(b==="final"){if(D&&T)return V?{background:"#4caf50",color:"#000"}:{background:"#f44336",color:"#000"};if(!D&&B)return L?{background:"#4caf50",color:"#000"}:{background:"#f44336",color:"#000"}}}return{background:"transparent",color:"#000"}},cd=h=>{const S=un[h];if(!S)return!1;const w=new Date,I=new Date(w.toLocaleString("en-US",{timeZone:"America/Los_Angeles"})),b=new Date(S+"T00:00:00");return I>=b},ln=h=>{var S;return ve()?!1:(S=A[h])!=null&&S.locked?!0:cd(h)};F.useEffect(()=>{const h=J(Z,"weekLockStatus");cn(h,S=>{const w=S.val();if(w){const I={};Object.keys(un).forEach(b=>{var D,T;I[b]={locked:((D=w[b])==null?void 0:D.locked)||!1,lockDate:((T=w[b])==null?void 0:T.lockDate)||null,autoLockDate:un[b]}}),U(I)}})},[]);const _y=h=>{const S=!A[h].locked,w=S?new Date().toISOString():null,I={...A,[h]:{...A[h],locked:S,lockDate:w}};U(I),Ge(J(Z,`weekLockStatus/${h}`),{locked:S,lockDate:w,autoLockDate:un[h]}),alert(S?` Week ${h} is now LOCKED

Players cannot edit picks for this week.`:` Week ${h} is now UNLOCKED

Players can edit picks for this week.`)};F.useEffect(()=>{const h=J(Z,"picks");cn(h,S=>{const w=S.val();if(w){const I=Object.keys(w).map(b=>({...w[b],firebaseKey:b}));g(I)}else g([])})},[]),F.useEffect(()=>{const h=J(Z,"teamCodes");cn(h,S=>{const w=S.val();w&&y(w)})},[]),F.useEffect(()=>{const h=J(Z,"actualScores");cn(h,S=>{const w=S.val();w&&v(w)})},[]),F.useEffect(()=>{const h=J(Z,"gameStatus");cn(h,S=>{const w=S.val();w&&k(w)})},[]),F.useEffect(()=>{const h=J(Z,"winners");cn(h,S=>{const w=S.val();w&&on(w)})},[]),F.useEffect(()=>{const h=J(Z,"gameLocks");cn(h,S=>{const w=S.val();w&&$e(w)})},[]),F.useEffect(()=>{const h=J(Z,"manualWeekTotals");cn(h,S=>{const w=S.val();w&&R(w)})},[]),F.useEffect(()=>{if(o&&n&&d.length>0){const h=d.find(S=>S.playerName===n&&S.week===l);h&&h.predictions?(console.log("Loading existing picks for",n,"week",l),f(h.predictions)):(console.log("No existing picks found - clearing form"),f({}))}},[l,d,o,n]),F.useEffect(()=>{const h=new eE(ud,5);return Dt(h),()=>{h&&h.stop()}},[]);const ud=async()=>{try{console.log("Fetching scores from ESPN...");const h=await qS();if(!h.success){console.error("ESPN fetch failed:",h.error);return}console.log("ESPN games fetched:",h.games.length);const S=de[l].games,w={};if(h.games.forEach(I=>{var D;const b=ZS(I,de,l,E);if(b){const T=b.gameId;if((D=z[l])!=null&&D[T]){console.log(`Game ${T} is locked, skipping API update`);return}w[T]={team1:b.team1Score,team2:b.team2Score,source:"espn",lastUpdated:new Date().toISOString()},k(B=>({...B,[l]:{...B[l],[T]:b.isFinal?"final":b.isLive?"live":""}}))}}),Object.keys(w).length>0){v(b=>({...b,[l]:{...b[l],...w}}));const I=J(Z,`actualScores/${l}`);await Ge(I,{...m[l],...w}),console.log(`Updated ${Object.keys(w).length} games from ESPN`)}dr(new Date)}catch(h){console.error("Error fetching ESPN scores:",h)}},wy=h=>{var S;console.log(" Toggle clicked for game:",h),console.log(" Current week:",l),console.log(" Current locks:",z),console.log(" Current value for game",h,":",(S=z[l])==null?void 0:S[h]),$e(w=>{const I={...w};I[l]||(I[l]={});const b=I[l][h],D=!b;console.log(" Old value:",b),console.log(" New value:",D),I[l][h]=D;const T=J(Z,`gameLocks/${l}/${h}`);return Ge(T,D),console.log(" Saved to Firebase:",D),console.log(" Returning new locks:",I),I})},dd=(h,S,w)=>{f(I=>({...I,[h]:{...I[h],[S]:w}}))},fd=(h,S,w)=>{var b;const I={...E,[l]:{...E[l]||{},[h]:{...((b=E[l])==null?void 0:b[h])||{},[S]:w.toUpperCase()}}};y(I),Ge(J(Z,`teamCodes/${l}/${h}/${S}`),w.toUpperCase())},hd=(h,S,w)=>{var b;const I={...m,[l]:{...m[l]||{},[h]:{...((b=m[l])==null?void 0:b[h])||{},[S]:w}}};v(I),Ge(J(Z,`actualScores/${l}/${h}/${S}`),w)},xy=(h,S)=>{const w={...x,[l]:{...x[l]||{},[h]:S}};k(w),Ge(J(Z,`gameStatus/${l}/${h}`),S)},pr=(h,S)=>{const w={...N,[h]:S};R(w),Ge(J(Z,`manualWeekTotals/${h}`),S)},Cy=async(h,S)=>{if(S){const w={...mt,[h]:S};on(w);try{await OS(J(Z,`winners/${h}`),{playerCode:S.playerCode,playerName:S.playerName,score:S.score,declaredAt:new Date().toISOString(),declaredBy:s}),alert(` Winner declared for Prize #${h}: ${S.playerName}`)}catch(I){console.error("Failed to save winner:",I),alert(" Failed to save winner. Please try again.")}}else{const w={...mt};delete w[h],on(w);try{await Ge(J(Z,`winners/${h}`),null),alert(` Winner removed for Prize #${h}`)}catch(I){console.error("Failed to remove winner:",I)}}},Sy=h=>{Ot?(ue(h),W("unsavedChanges")):(u(h),Di(h))},Di=h=>{const S=d.find(w=>w.week===h&&w.playerCode===s);S&&S.predictions?(f(S.predictions),ls(S.predictions),pt(!1)):(f({}),ls({}),pt(!1))};F.useEffect(()=>{const h=JSON.stringify(p)!==JSON.stringify(Rl);pt(h)},[p,Rl]),F.useEffect(()=>{o&&s&&Di(l)},[l,o,s,d]),F.useEffect(()=>{if(d.length>0&&s){const h={};["wildcard","divisional","conference","superbowl"].forEach(S=>{const w=d.find(I=>I.week===S&&I.playerCode===s);if(w&&w.predictions){const I=de[S].games.length,b=Object.keys(w.predictions).filter(D=>{var T,B;return((T=w.predictions[D])==null?void 0:T.team1)&&((B=w.predictions[D])==null?void 0:B.team2)}).length;h[S]={complete:b===I,count:b,total:I}}}),cy(h)}},[d,s]);const ps=()=>{if(ve())return!0;const h=new Date,S=new Date(h.toLocaleString("en-US",{timeZone:"America/Los_Angeles"})),w=new Date(_h.firstFriday+"T00:00:00"),I=new Date(_h.lastMonday+"T23:59:59");if(S<w)return!0;if(S>I)return!1;const b=S.getDay(),D=S.getHours(),T=S.getMinutes();return!(b===5&&D===23&&T>=59||b===6||b===0||b===1&&D===0&&T===0)},pd=()=>{const h=s.trim().toUpperCase();if(!h){alert("Please enter your 6-character player code");return}if(h.length!==6||!/^[A-Z0-9]{6}$/.test(h)){alert(`Invalid code format!

Player codes must be exactly 6 characters (letters and numbers).
Example: A7K9M2`);return}const S=Te[h];if(!S){alert(`Invalid player code!

This code is not recognized.

Make sure you:
1. Paid your $20 entry fee
2. Received your code from the pool manager
3. Entered the code correctly

Contact: gammoneer2b@gmail.com`);return}if(d.find(I=>I.playerName===S&&I.week===l))if(dn.includes(h))alert(`Welcome, Pool Manager!

You have unrestricted access to:
 Enter picks anytime (no lockout)
 Enter team codes
 Enter actual game scores
 Set game status (LIVE/FINAL)
 Lock/unlock weeks
 View all player codes`);else{const I=ln(l);alert(I?`Welcome back, ${S}!

 WARNING: This week is LOCKED!

Your existing picks for ${de[l].name} will be loaded, but you cannot edit them because the games have been played.

You can only view your submitted picks.`:`Welcome back, ${S}!

Your existing picks for ${de[l].name} will be loaded automatically.

You can edit and resubmit anytime except during playoff weekends (Friday 11:59 PM - Monday 12:01 AM PST).`)}else dn.includes(h)&&alert(`Welcome, Pool Manager!

You have unrestricted access to:
 Enter picks anytime (no lockout)
 Enter team codes
 Enter actual game scores
 Set game status (LIVE/FINAL)
 Lock/unlock weeks
 View all player codes`);r(S),i(h),a(!0)},Ey=()=>{const h=d.filter(T=>T.week===l);if(h.length===0){alert("No picks to download for this week.");return}const S=de[l];let w="";w+="TEAM CODES:,",S.games.forEach(T=>{var L,H,Y,re;const B=((H=(L=E[l])==null?void 0:L[T.id])==null?void 0:H.team1)||"-",V=((re=(Y=E[l])==null?void 0:Y[T.id])==null?void 0:re.team2)||"-";w+=`${B},${V},`}),l==="superbowl"&&(w+=",,,,"),w+=`
`,w+="ACTUAL SCORES:,",S.games.forEach(T=>{var L,H,Y,re;const B=((H=(L=m[l])==null?void 0:L[T.id])==null?void 0:H.team1)||"-",V=((re=(Y=m[l])==null?void 0:Y[T.id])==null?void 0:re.team2)||"-";w+=`${B},${V},`}),l==="superbowl"&&(w+=",,,,"),w+=`
`,w+="GAME TOTALS:,",S.games.forEach(T=>{var Y,re,Ee,Ne;const B=parseInt((re=(Y=m[l])==null?void 0:Y[T.id])==null?void 0:re.team1)||0,V=parseInt((Ne=(Ee=m[l])==null?void 0:Ee[T.id])==null?void 0:Ne.team2)||0,L=B+V,H=B>0||V>0?L:"-";w+=`${H},,`}),l==="superbowl"&&(w+=",,,,"),w+=`
`,w+="GAME STATUS:,",S.games.forEach(T=>{var L;const B=((L=x[l])==null?void 0:L[T.id])||"-";w+=`${B==="final"?"FINAL":B==="live"?"LIVE":"-"},,`}),l==="superbowl"&&(w+=",,,,"),w+=`
`,w+="OFFICIAL TOTALS:,",S.games.forEach(()=>{w+=",,"}),l==="superbowl"?(w+=`${N.superbowl_week4||"-"},`,w+=`${N.superbowl_week3||"-"},`,w+=`${N.superbowl_week2||"-"},`,w+=`${N.superbowl_week1||"-"},`,w+=`${N.superbowl_grand||"-"},`):w+=`${N[l]||"-"},`,w+=`
`,w+=`
`,w+=",",S.games.forEach(T=>{w+=`Game ${T.id},Game ${T.id},`}),w+=`
`,w+="Player Name,",S.games.forEach(T=>{w+=`${T.team1} Score,${T.team2} Score,`}),l==="superbowl"?w+="Week 4 Total,Week 3 Total,Week 2 Total,Week 1 Total,GRAND TOTAL,":w+="Total Points,",w+=`Submitted At
`,h.sort((T,B)=>(B.lastUpdated||B.timestamp)-(T.lastUpdated||T.timestamp)).forEach(T=>{if(w+=`"${T.playerName}",`,S.games.forEach(V=>{var Y,re;const L=((Y=T.predictions[V.id])==null?void 0:Y.team1)||"-",H=((re=T.predictions[V.id])==null?void 0:re.team2)||"-";w+=`${L},${H},`}),l==="superbowl"){const V=(()=>{const Ee=d.find(_e=>_e.playerName===T.playerName&&_e.week==="superbowl");if(!Ee)return 0;let Ne=0;return de.superbowl.games.forEach(_e=>{const Ae=Ee.predictions[_e.id];Ae&&(Ne+=(Number(Ae.team1)||0)+(Number(Ae.team2)||0))}),Ne})(),L=(()=>{const Ee=d.find(_e=>_e.playerName===T.playerName&&_e.week==="conference");if(!Ee)return 0;let Ne=0;return de.conference.games.forEach(_e=>{const Ae=Ee.predictions[_e.id];Ae&&(Ne+=(Number(Ae.team1)||0)+(Number(Ae.team2)||0))}),Ne})(),H=(()=>{const Ee=d.find(_e=>_e.playerName===T.playerName&&_e.week==="divisional");if(!Ee)return 0;let Ne=0;return de.divisional.games.forEach(_e=>{const Ae=Ee.predictions[_e.id];Ae&&(Ne+=(Number(Ae.team1)||0)+(Number(Ae.team2)||0))}),Ne})(),Y=(()=>{const Ee=d.find(_e=>_e.playerName===T.playerName&&_e.week==="wildcard");if(!Ee)return 0;let Ne=0;return de.wildcard.games.forEach(_e=>{const Ae=Ee.predictions[_e.id];Ae&&(Ne+=(Number(Ae.team1)||0)+(Number(Ae.team2)||0))}),Ne})(),re=V+L+H+Y;w+=`${V},${L},${H},${Y},${re},`}else{const V=S.games.reduce((L,H)=>{var Ee,Ne;const Y=parseInt((Ee=T.predictions[H.id])==null?void 0:Ee.team1)||0,re=parseInt((Ne=T.predictions[H.id])==null?void 0:Ne.team2)||0;return L+Y+re},0);w+=`${V},`}const B=new Date(T.lastUpdated||T.timestamp).toLocaleString("en-US",{month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0});w+=`"${B}"
`});const I=new Blob([w],{type:"text/csv;charset=utf-8;"}),b=document.createElement("a"),D=URL.createObjectURL(I);b.setAttribute("href",D),b.setAttribute("download",`nfl_playoff_picks_${l}_${Date.now()}.csv`),b.style.visibility="hidden",document.body.appendChild(b),b.click(),document.body.removeChild(b)},md=async h=>{if(h.preventDefault(),ln(l)){alert(` WEEK LOCKED

This week's games have been played.
Picks are permanently locked.`);return}if(!ps()){alert(` SUBMISSIONS CLOSED

During playoff weekends, picks are locked from:
 Friday 11:59 PM PST
 Through Monday 12:01 AM PST`);return}const S=de[l],w=[];if(S.games.forEach(D=>{(!p[D.id]||!p[D.id].team1||!p[D.id].team2)&&w.push(D.id)}),w.length>0){Wn(w),W("incomplete");return}const I=[];if(S.games.forEach(D=>{var V,L;const T=parseInt((V=p[D.id])==null?void 0:V.team1),B=parseInt((L=p[D.id])==null?void 0:L.team2);(isNaN(T)||isNaN(B)||T<0||B<0)&&I.push(D.id)}),I.length>0){os(I),W("invalidScores");return}const b=[];if(S.games.forEach(D=>{var V,L;const T=parseInt((V=p[D.id])==null?void 0:V.team1),B=parseInt((L=p[D.id])==null?void 0:L.team2);T===B&&b.push(D.id)}),b.length>0){Wn(b),W("tiedGames");return}if(!Ot){W("noChanges");return}try{const D=J(Z,"picks"),T=await Ts(D);let B=null,V=null;if(T.exists()){const H=T.val();for(const[Y,re]of Object.entries(H))if(re.playerCode===s&&re.week===l){B=re,V=Y;break}}const L={playerName:n,playerCode:s,week:l,predictions:p,timestamp:B?B.timestamp:Date.now(),lastUpdated:Date.now()};V?await Ge(J(Z,`picks/${V}`),L):await ma(J(Z,"picks"),L),C(!0),ls({...p}),pt(!1),W("success"),setTimeout(()=>{const H=document.querySelector(".all-picks");H&&H.scrollIntoView({behavior:"smooth"})},100)}catch(D){console.error("Error submitting picks:",D),alert("Error submitting picks. Please try again.")}},tt=de[l],mr=F.useMemo(()=>{const h={};return d.filter(w=>w.week===l).forEach(w=>{h[w.playerName]||(h[w.playerName]={week4:0,week3:0,week2:0,week1:0,grand:0,current:0});let I=0;if(de[l].games.forEach(D=>{const T=w.predictions[D.id];T&&T.team1&&T.team2&&(I+=(parseInt(T.team1)||0)+(parseInt(T.team2)||0))}),h[w.playerName].current=I,l==="superbowl"){const D=d.find(L=>L.playerName===w.playerName&&L.week==="superbowl");if(D&&D.predictions){let L=0;de.superbowl.games.forEach(H=>{const Y=D.predictions[H.id];Y&&(L+=(Number(Y.team1)||0)+(Number(Y.team2)||0))}),h[w.playerName].week4=L}const T=d.find(L=>L.playerName===w.playerName&&L.week==="conference");if(T&&T.predictions){let L=0;de.conference.games.forEach(H=>{const Y=T.predictions[H.id];Y&&(L+=(Number(Y.team1)||0)+(Number(Y.team2)||0))}),h[w.playerName].week3=L}const B=d.find(L=>L.playerName===w.playerName&&L.week==="divisional");if(B&&B.predictions){let L=0;de.divisional.games.forEach(H=>{const Y=B.predictions[H.id];Y&&(L+=(Number(Y.team1)||0)+(Number(Y.team2)||0))}),h[w.playerName].week2=L}const V=d.find(L=>L.playerName===w.playerName&&L.week==="wildcard");if(V&&V.predictions){let L=0;de.wildcard.games.forEach(H=>{const Y=V.predictions[H.id];Y&&(L+=(Number(Y.team1)||0)+(Number(Y.team2)||0))}),h[w.playerName].week1=L}h[w.playerName].grand=h[w.playerName].week1+h[w.playerName].week2+h[w.playerName].week3+h[w.playerName].week4}}),h},[d,l]);return c.jsxs("div",{className:"App",children:[c.jsxs("header",{children:[c.jsx("h1",{children:" Richard's NFL Playoff Pool 2025"}),c.jsx("p",{children:"Enter your score predictions for each NFL Playoff 2025 game"}),c.jsxs("p",{style:{fontSize:"0.85rem",marginTop:"10px",opacity:.8},children:["v2.2-PLAYOFF-SCHEDULE-",new Date().toISOString().slice(0,10).replace(/-/g,"")]}),c.jsxs("div",{style:{marginTop:"15px",display:"flex",flexDirection:"column",gap:"10px",alignItems:"center"},children:[c.jsxs("div",{style:{display:"flex",gap:"15px",flexWrap:"wrap",justifyContent:"center"},children:[c.jsx("a",{href:"/nfl-playoff-pool/Playoff_Pool_Quick_Rules.pdf",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",padding:"10px 20px",backgroundColor:"#0984e3",color:"white",textDecoration:"none",borderRadius:"5px",fontSize:"0.95rem",fontWeight:"bold",transition:"background-color 0.3s ease",cursor:"pointer"},onMouseOver:h=>h.target.style.backgroundColor="#74b9ff",onMouseOut:h=>h.target.style.backgroundColor="#0984e3",children:" View Quick Rules (2 Pages)"}),c.jsx("a",{href:"/nfl-playoff-pool/Richards_Playoff_Pool_LIX_Rulebook.pdf",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",padding:"10px 20px",backgroundColor:"#6c5ce7",color:"white",textDecoration:"none",borderRadius:"5px",fontSize:"0.95rem",fontWeight:"bold",transition:"background-color 0.3s ease",cursor:"pointer"},onMouseOver:h=>h.target.style.backgroundColor="#a29bfe",onMouseOut:h=>h.target.style.backgroundColor="#6c5ce7",children:" View Full Rulebook (13 Pages)"})]}),c.jsx("p",{style:{fontSize:"1.1em",marginTop:"10px",color:"#ffffff",fontWeight:"500"},children:"Entry Fee: $20 - Must be paid before end of regular season"})]})]}),c.jsxs("div",{className:"container",children:[ve()&&o&&c.jsxs("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"15px 20px",borderRadius:"8px",marginBottom:"20px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[c.jsxs("h3",{style:{margin:"0 0 15px 0",display:"flex",alignItems:"center",gap:"10px"},children:[c.jsx("span",{children:""}),c.jsx("span",{children:"POOL MANAGER - WEEK LOCK CONTROLS"})]}),c.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"10px"},children:Object.keys(de).map(h=>{var b,D;const S=(b=A[h])==null?void 0:b.locked,w=cd(h),I=S||w;return c.jsxs("div",{style:{background:"rgba(255,255,255,0.15)",padding:"12px",borderRadius:"6px",display:"flex",flexDirection:"column",gap:"8px"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",fontWeight:"bold",fontSize:"0.9rem"},children:[c.jsxs("span",{children:[I?"":""," Week ",h==="wildcard"?"1":h==="divisional"?"2":h==="conference"?"3":"4"]}),c.jsx("span",{style:{fontSize:"0.75rem",opacity:.9},children:(D=A[h])==null?void 0:D.autoLockDate})]}),w&&!S&&c.jsx("div",{style:{fontSize:"0.7rem",padding:"4px 8px",background:"rgba(255,193,7,0.3)",borderRadius:"4px",border:"1px solid rgba(255,193,7,0.5)"},children:" AUTO-LOCKED"}),S&&c.jsx("div",{style:{fontSize:"0.7rem",padding:"4px 8px",background:"rgba(220,53,69,0.3)",borderRadius:"4px",border:"1px solid rgba(220,53,69,0.5)"},children:" MANUALLY LOCKED"}),c.jsx("button",{onClick:()=>_y(h),style:{padding:"8px 12px",background:S?"#28a745":"#dc3545",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.85rem",fontWeight:"600",transition:"all 0.2s"},children:S?" Unlock Week":" Lock Week"}),c.jsx("button",{onClick:()=>bl(h),style:{padding:"8px 12px",background:"#e67e22",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.85rem",fontWeight:"600",transition:"all 0.2s",marginTop:"8px"},children:" Clear Week Data"})]},h)})}),c.jsx("p",{style:{fontSize:"0.8rem",marginTop:"12px",marginBottom:"0",opacity:.9},children:" Manual locks override automatic locks. Players cannot edit picks for locked weeks."})]}),ve()&&o&&c.jsxs("div",{style:{background:"linear-gradient(135deg, #f39c12 0%, #e74c3c 100%)",color:"white",padding:"20px",borderRadius:"8px",marginBottom:"20px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[c.jsxs("h3",{style:{margin:"0 0 15px 0",display:"flex",alignItems:"center",gap:"10px"},children:[c.jsx("span",{children:""}),c.jsx("span",{children:"POOL MANAGER OVERRIDE - ENTER/EDIT PICKS FOR ANY PLAYER"})]}),uy?c.jsxs("div",{children:[c.jsxs("div",{style:{marginBottom:"20px"},children:[c.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"0.95rem"},children:"Select Player:"}),c.jsxs("select",{value:te,onChange:h=>{fr(h.target.value),us(null),ds(null),fs(!1)},style:{width:"100%",padding:"12px",fontSize:"1rem",borderRadius:"6px",border:"2px solid white",background:"rgba(255,255,255,0.95)",color:"#333",fontWeight:"600"},children:[c.jsx("option",{value:"",children:"-- Select a Player --"}),Object.keys(Te).sort((h,S)=>{const w=Te[h].toUpperCase(),I=Te[S].toUpperCase();return w.localeCompare(I)}).map(h=>c.jsxs("option",{value:h,children:[Te[h]," (",h,")"]},h))]})]}),te&&c.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:"15px",borderRadius:"6px",marginBottom:"15px"},children:[c.jsxs("div",{style:{marginBottom:"15px"},children:[c.jsx("strong",{children:"Selected:"})," ",Te[te]," (",te,")",c.jsx("br",{}),c.jsx("strong",{children:"Week:"})," ",l==="wildcard"?"Week 1":l==="divisional"?"Week 2":l==="conference"?"Week 3":"Week 4",c.jsx("br",{}),c.jsx("strong",{children:"Status:"})," ",d.find(h=>h.playerCode===te&&h.week===l)?" HAS PICKS":" NO PICKS"]}),c.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[c.jsx("button",{onClick:ld,style:{flex:"1",minWidth:"150px",padding:"12px",background:"#9b59b6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Generate RNG Picks"}),c.jsx("button",{onClick:py,style:{flex:"1",minWidth:"150px",padding:"12px",background:"#3498db",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Enter/Edit Manually"})]}),d.find(h=>h.playerCode===te)&&c.jsxs("div",{style:{marginTop:"15px",padding:"15px",background:"rgba(220, 53, 69, 0.1)",borderRadius:"6px",border:"2px solid rgba(220, 53, 69, 0.3)"},children:[c.jsx("div",{style:{marginBottom:"10px",fontWeight:"600",color:"#dc3545"},children:" Danger Zone - Delete Operations"}),c.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[c.jsx("button",{onClick:()=>hr("week"),style:{flex:"1",minWidth:"150px",padding:"12px",background:"#e67e22",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Delete This Week Only"}),c.jsx("button",{onClick:()=>hr("all"),style:{flex:"1",minWidth:"150px",padding:"12px",background:"#c0392b",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Delete ALL Weeks"})]})]})]}),c.jsx("button",{onClick:()=>{as(!1),fr(""),us(null),ds(null),fs(!1)},style:{padding:"10px 20px",background:"#95a5a6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Exit Override Mode"})]}):c.jsxs("div",{children:[c.jsx("p",{style:{marginBottom:"15px",fontSize:"0.9rem"},children:" Enter picks on behalf of players who missed the deadline or need assistance. Works even when week is locked."}),c.jsx("button",{onClick:()=>as(!0),style:{padding:"12px 24px",background:"white",color:"#e74c3c",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:" Enter Override Mode"})]})]}),dy&&zn&&c.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},children:c.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"30px",maxWidth:"600px",width:"100%",maxHeight:"90vh",overflow:"auto",boxShadow:"0 8px 32px rgba(0,0,0,0.3)"},children:[c.jsx("h3",{style:{marginTop:0,color:"#9b59b6"},children:" RNG PICKS GENERATED"}),c.jsxs("p",{style:{color:"#666",marginBottom:"20px"},children:["Player: ",c.jsx("strong",{children:Te[te]}),c.jsx("br",{}),"Week: ",c.jsx("strong",{children:l==="wildcard"?"Week 1":l==="divisional"?"Week 2":l==="conference"?"Week 3":"Week 4"})]}),c.jsx("div",{style:{marginBottom:"20px"},children:de[l].games.map(h=>c.jsxs("div",{style:{padding:"12px",background:"#f8f9fa",borderRadius:"6px",marginBottom:"10px",border:"2px solid #e9ecef"},children:[c.jsxs("div",{style:{fontWeight:"600",marginBottom:"5px",color:"#333"},children:["Game ",h.id,": ",h.team1," vs ",h.team2]}),c.jsxs("div",{style:{fontSize:"1.2rem",fontWeight:"700",color:"#9b59b6"},children:[zn[h.id].team1," - ",zn[h.id].team2,zn[h.id].team1>zn[h.id].team2?` (${h.team1} wins)`:` (${h.team2} wins)`]})]},h.id))}),c.jsxs("div",{style:{background:"#d4edda",border:"1px solid #c3e6cb",color:"#155724",padding:"12px",borderRadius:"6px",marginBottom:"20px",fontSize:"0.9rem"},children:[" All scores between 10-50 (inclusive)",c.jsx("br",{})," No tied games",c.jsx("br",{}),' Will be marked as "POOL_MANAGER_RNG" in database']}),c.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[c.jsx("button",{onClick:hy,style:{flex:"1",padding:"14px 24px",background:"#28a745",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Submit RNG Picks"}),c.jsx("button",{onClick:ld,style:{flex:"1",padding:"14px 24px",background:"#ffc107",color:"#333",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Regenerate"}),c.jsx("button",{onClick:()=>{fs(!1),ds(null)},style:{padding:"14px 24px",background:"#dc3545",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Cancel"})]})]})}),od&&c.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},children:c.jsx("div",{style:{background:"white",borderRadius:"12px",padding:"30px",maxWidth:"500px",width:"100%",boxShadow:"0 8px 32px rgba(0,0,0,0.3)"},children:od==="week"?c.jsxs(c.Fragment,{children:[c.jsxs("h3",{style:{marginTop:0,color:"#e67e22",display:"flex",alignItems:"center",gap:"10px"},children:[c.jsx("span",{children:""}),c.jsx("span",{children:"DELETE PICKS FOR THIS WEEK?"})]}),c.jsxs("div",{style:{marginBottom:"20px",color:"#666"},children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Player:"})," ",Te[te]]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Week:"})," ",l==="wildcard"?"Week 1 (Wildcard)":l==="divisional"?"Week 2 (Divisional)":l==="conference"?"Week 3 (Conference)":"Week 4 (Super Bowl)"]})]}),c.jsxs("div",{style:{background:"#fff3cd",border:"1px solid #ffc107",color:"#856404",padding:"15px",borderRadius:"6px",marginBottom:"20px",fontSize:"0.95rem"},children:[c.jsx("strong",{children:" Warning:"})," This will DELETE ",Te[te],"'s picks for this week only.",c.jsx("br",{}),c.jsx("strong",{children:"This action CANNOT be undone!"})]}),c.jsxs("div",{style:{display:"flex",gap:"10px"},children:[c.jsx("button",{onClick:()=>hr(null),style:{flex:"1",padding:"14px",background:"#95a5a6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Cancel"}),c.jsx("button",{onClick:gy,style:{flex:"1",padding:"14px",background:"#e67e22",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Yes, Delete This Week"})]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("h3",{style:{marginTop:0,color:"#c0392b",display:"flex",alignItems:"center",gap:"10px"},children:[c.jsx("span",{children:""}),c.jsx("span",{children:"DELETE ALL PICKS?"})]}),c.jsx("div",{style:{marginBottom:"20px",color:"#666"},children:c.jsxs("p",{children:[c.jsx("strong",{children:"Player:"})," ",Te[te]]})}),c.jsxs("div",{style:{background:"#f8d7da",border:"2px solid #dc3545",color:"#721c24",padding:"15px",borderRadius:"6px",marginBottom:"20px",fontSize:"0.95rem"},children:[c.jsx("strong",{children:" DANGER:"})," This will DELETE ALL of ",Te[te],"'s picks:",c.jsx("br",{}),c.jsx("br",{}),d.filter(h=>h.playerCode===te).map(h=>c.jsxs("div",{style:{marginLeft:"20px"},children:[" ",h.week==="wildcard"?"Week 1":h.week==="divisional"?"Week 2":h.week==="conference"?"Week 3":"Week 4"," picks"]},h.week)),c.jsx("br",{}),c.jsx("strong",{children:"This action CANNOT be undone!"}),c.jsx("br",{}),c.jsx("strong",{children:"Are you absolutely sure?"})]}),c.jsxs("div",{style:{display:"flex",gap:"10px"},children:[c.jsx("button",{onClick:()=>hr(null),style:{flex:"1",padding:"14px",background:"#95a5a6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Cancel"}),c.jsx("button",{onClick:yy,style:{flex:"1",padding:"14px",background:"#c0392b",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Yes, Delete Everything"})]})]})})}),hs&&c.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},children:c.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"30px",maxWidth:"500px",width:"100%",boxShadow:"0 8px 32px rgba(0,0,0,0.3)"},children:[c.jsxs("h3",{style:{marginTop:0,color:"#e67e22",display:"flex",alignItems:"center",gap:"10px"},children:[c.jsx("span",{children:""}),c.jsx("span",{children:"CLEAR WEEK DATA?"})]}),c.jsx("div",{style:{marginBottom:"20px",color:"#666"},children:c.jsxs("p",{children:[c.jsx("strong",{children:"Week:"})," ",hs==="wildcard"?"Week 1 (Wildcard)":hs==="divisional"?"Week 2 (Divisional)":hs==="conference"?"Week 3 (Conference)":"Week 4 (Super Bowl)"]})}),c.jsxs("div",{style:{background:"#fff3cd",border:"2px solid #ffc107",color:"#856404",padding:"15px",borderRadius:"6px",marginBottom:"20px",fontSize:"0.95rem"},children:[c.jsx("strong",{children:" This will DELETE:"}),c.jsxs("div",{style:{marginLeft:"20px",marginTop:"10px"},children:[" All team names for this week",c.jsx("br",{})," All actual scores for this week",c.jsx("br",{})," All game statuses (FINAL/LIVE) for this week"]}),c.jsx("br",{}),c.jsx("strong",{style:{color:"#d63031"},children:" This will KEEP:"}),c.jsx("div",{style:{marginLeft:"20px",marginTop:"5px"},children:" ALL player picks (NOT deleted!)"}),c.jsx("br",{}),c.jsx("strong",{children:"This action CANNOT be undone!"})]}),c.jsxs("div",{style:{display:"flex",gap:"10px"},children:[c.jsx("button",{onClick:()=>bl(null),style:{flex:"1",padding:"14px",background:"#95a5a6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Cancel"}),c.jsx("button",{onClick:()=>vy(hs),style:{flex:"1",padding:"14px",background:"#e67e22",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"700"},children:" Yes, Clear Week Data"})]})]})}),ve()&&o&&c.jsx(QS,{currentWeek:l,games:tt.games,actualScores:m,teamCodes:E,onScoresFetched:ud,onGameLockToggle:wy,gameLocks:z,espnAutoRefresh:Ut}),ve()&&o&&c.jsxs("div",{style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"white",padding:"15px 20px",borderRadius:"8px",marginBottom:"20px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[c.jsxs("h3",{style:{margin:"0 0 15px 0",display:"flex",alignItems:"center",gap:"10px"},children:[c.jsx("span",{children:""}),c.jsx("span",{children:"ALL PLAYER CODES"})]}),c.jsx("div",{style:{background:"rgba(255,255,255,0.95)",padding:"15px",borderRadius:"6px",maxHeight:"300px",overflowY:"auto"},children:c.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.9rem"},children:[c.jsx("thead",{children:c.jsxs("tr",{style:{background:"#f8f9fa",borderBottom:"2px solid #dee2e6"},children:[c.jsx("th",{style:{padding:"10px",textAlign:"left",color:"#495057",fontWeight:"600"},children:"Player Code"}),c.jsx("th",{style:{padding:"10px",textAlign:"left",color:"#495057",fontWeight:"600"},children:"Player Name"}),c.jsx("th",{style:{padding:"10px",textAlign:"center",color:"#495057",fontWeight:"600"},children:"Role"})]})}),c.jsx("tbody",{children:Object.entries(Te).sort((h,S)=>{const w=dn.includes(h[0]),I=dn.includes(S[0]);return w&&!I?-1:!w&&I?1:h[1].localeCompare(S[1])}).map(([h,S],w)=>{const I=dn.includes(h);return c.jsxs("tr",{style:{background:w%2===0?"#ffffff":"#f8f9fa",borderBottom:"1px solid #dee2e6"},children:[c.jsx("td",{style:{padding:"10px",color:"#212529",fontFamily:"monospace",fontWeight:"bold",fontSize:"1rem"},children:h}),c.jsx("td",{style:{padding:"10px",color:"#212529"},children:S}),c.jsx("td",{style:{padding:"10px",textAlign:"center"},children:I?c.jsx("span",{style:{padding:"4px 8px",background:"#dc3545",color:"white",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"600"},children:" MANAGER"}):c.jsx("span",{style:{padding:"4px 8px",background:"#28a745",color:"white",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"600"},children:" PLAYER"})})]},h)})})]})}),c.jsxs("p",{style:{fontSize:"0.8rem",marginTop:"12px",marginBottom:"0",opacity:.9},children:[" Total Players: ",Object.keys(Te).length," | Pool Managers: ",dn.length," | Regular Players: ",Object.keys(Te).length-dn.length]})]}),o&&c.jsx(rE,{currentWeek:l,onWeekChange:Sy,weekPicks:ay,weekLockStatus:A,hasUnsavedChanges:Ot,isPoolManager:ve()}),o&&c.jsxs("div",{className:"view-navigation",children:[c.jsx("button",{className:`nav-btn ${t==="picks"?"active":""}`,onClick:()=>e("picks"),children:" Make Picks"}),c.jsx("button",{className:`nav-btn ${t==="standings"?"active":""}`,onClick:()=>e("standings"),children:" Standings & Prizes"})]}),t==="standings"&&o?c.jsx(YS,{allPicks:d,actualScores:m,currentWeek:l,playerName:n,playerCode:s,isPoolManager:ve(),onLogout:()=>{a(!1),i(""),r(""),f({}),e("picks")}}):c.jsxs(c.Fragment,{children:[o?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"player-confirmed",children:[c.jsx("span",{className:"confirmation-badge",children:" VERIFIED"}),c.jsxs("h3",{children:["Welcome, ",c.jsx("span",{className:"player-name-highlight",children:n}),"!",ve()&&c.jsx("span",{style:{marginLeft:"10px",color:"#d63031"},children:" POOL MANAGER"})]}),c.jsxs("p",{style:{color:"#000"},children:["Making picks for: ",c.jsx("strong",{children:tt.name})]}),ln(l)&&!ve()&&c.jsx("div",{style:{marginTop:"10px",padding:"10px 15px",background:"#fff3cd",border:"2px solid #ffc107",borderRadius:"6px",color:"#856404",fontWeight:"600"},children:" This week is LOCKED - You can view your picks but cannot edit them"}),c.jsx("button",{className:"validate-btn",style:{marginTop:"15px",padding:"10px 20px",fontSize:"0.9rem"},onClick:()=>{a(!1),i(""),r(""),f({})},children:" Logout / Switch Entry"}),c.jsx("p",{style:{fontSize:"0.85rem",color:"#666",marginTop:"10px",fontStyle:"italic"},children:" Playing with multiple entries? Logout to switch between your codes."})]}),!ps()&&c.jsx("div",{className:"closed-warning",children:" PICKS ARE LOCKED (Playoff Weekend: Friday 11:59 PM - Monday 12:01 AM PST)"}),c.jsxs("div",{className:"prediction-form",children:[cs==="manual"?c.jsxs("h2",{style:{color:"#e74c3c"},children:[" OVERRIDE MODE: Entering Picks for ",Te[te]]}):c.jsx("h2",{children:"Enter Your Predictions"}),c.jsxs("div",{className:"progress-indicator",children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[c.jsx("strong",{children:"Progress:"}),c.jsxs("span",{children:[Object.keys(p).filter(h=>p[h].team1&&p[h].team2).length," of ",tt.games.length," games completed"]})]}),c.jsx("div",{className:"progress-bar",children:c.jsxs("div",{className:"progress-fill",style:{width:`${Object.keys(p).filter(h=>p[h].team1&&p[h].team2).length/tt.games.length*100}%`},children:[Math.round(Object.keys(p).filter(h=>p[h].team1&&p[h].team2).length/tt.games.length*100),"%"]})})]}),c.jsxs("form",{onSubmit:cs==="manual"?my:md,children:[tt.games.map(h=>{var S,w,I,b,D,T;return c.jsxs("div",{className:"game-prediction",children:[c.jsxs("h3",{children:["Game ",h.id,": ",h.team1," @ ",h.team2,((S=E[l])==null?void 0:S[h.id])&&c.jsxs("span",{style:{fontSize:"0.9rem",color:"#666",marginLeft:"10px"},children:["(",E[l][h.id].team1||"?"," @ ",E[l][h.id].team2||"?",")"]})]}),((w=m[l])==null?void 0:w[h.id])&&c.jsxs("div",{style:{padding:"10px 15px",background:"#ffffff",border:"3px solid #4caf50",borderRadius:"6px",marginBottom:"12px",fontSize:"1rem"},children:[c.jsx("strong",{style:{color:"#000",fontSize:"1.05rem"},children:"Actual Score:"})," ",c.jsxs("span",{style:{color:"#000",fontWeight:"700",fontSize:"1.1rem"},children:[m[l][h.id].team1||"-"," - ",m[l][h.id].team2||"-"]}),((I=x[l])==null?void 0:I[h.id])==="final"&&c.jsx("span",{style:{marginLeft:"10px",padding:"2px 8px",background:"#4caf50",color:"white",borderRadius:"4px",fontSize:"0.8rem",fontWeight:"bold"},children:" FINAL"}),((b=x[l])==null?void 0:b[h.id])==="live"&&c.jsx("span",{style:{marginLeft:"10px",padding:"2px 8px",background:"#ff9800",color:"white",borderRadius:"4px",fontSize:"0.8rem",fontWeight:"bold"},children:" LIVE"})]}),c.jsxs("div",{className:"score-inputs",children:[c.jsxs("div",{className:"team-score",children:[c.jsxs("label",{children:[c.jsx("span",{className:"team-designation",children:"AWAY TEAM"}),c.jsx("span",{className:"team-name-label",children:h.team1})]}),c.jsx("input",{type:"number",min:"0",max:"99",value:((D=p[h.id])==null?void 0:D.team1)||"",onChange:B=>dd(h.id,"team1",B.target.value),placeholder:"0",required:!0,disabled:ln(l)},`${h.id}-team1-${n}`)]}),c.jsx("div",{className:"vs",children:"VS"}),c.jsxs("div",{className:"team-score",children:[c.jsxs("label",{children:[c.jsx("span",{className:"team-designation",children:"HOME TEAM"}),c.jsx("span",{className:"team-name-label",children:h.team2})]}),c.jsx("input",{type:"number",min:"0",max:"99",value:((T=p[h.id])==null?void 0:T.team2)||"",onChange:B=>dd(h.id,"team2",B.target.value),placeholder:"0",required:!0,disabled:ln(l)},`${h.id}-team2-${n}`)]})]})]},h.id)}),c.jsx("button",{type:"submit",className:"submit-btn",disabled:cs==="manual"?!1:!ps()||ln(l),style:cs==="manual"?{background:"#e74c3c",fontSize:"1.1rem",fontWeight:"700"}:{},children:cs==="manual"?` Submit for ${Te[te]}`:ln(l)&&!ve()?" Week Locked - Cannot Edit Picks":ps()?" Submit / Update My Picks":" Submissions Locked (Playoff Weekend)"}),ps()&&!ln(l)&&c.jsx("p",{style:{textAlign:"center",marginTop:"15px",color:"#666",fontSize:"0.9rem"},children:"You can edit and resubmit your picks as many times as you want until Friday 11:59 PM PST (before game weekends)"})]})]})]}):c.jsx("div",{className:"prediction-form",children:c.jsxs("div",{className:"code-entry-section",children:[c.jsx("h3",{children:" Enter Your Player Code"}),c.jsx("p",{style:{marginBottom:"20px",color:"#666"},children:"You received a 6-character code when you paid your $20 entry fee."}),c.jsx("p",{style:{marginBottom:"20px",color:"#666",fontSize:"0.9rem",fontStyle:"italic"},children:" Have multiple entries? Enter one code at a time."}),c.jsxs("div",{className:"code-input-group",children:[c.jsx("label",{htmlFor:"playerCode",children:"Player Code (6 characters)"}),c.jsx("input",{type:"text",id:"playerCode",className:"code-input",value:s,onChange:h=>i(h.target.value.toUpperCase()),placeholder:"A7K9M2",maxLength:"6",autoComplete:"off",onKeyPress:h=>{h.key==="Enter"&&pd()}}),c.jsx("button",{className:"validate-btn",onClick:pd,children:"Validate Code & Continue"}),c.jsxs("div",{style:{marginTop:"20px",padding:"15px",background:"#fff3cd",border:"2px solid #ffc107",borderRadius:"8px",textAlign:"left"},children:[c.jsx("h4",{style:{margin:"0 0 10px 0",color:"#856404"},children:" Entry Fee Payment"}),c.jsxs("p",{style:{margin:"5px 0",fontSize:"0.9rem",color:"#856404"},children:[c.jsx("strong",{children:"Cost:"})," $20 per entry"]}),c.jsxs("p",{style:{margin:"5px 0",fontSize:"0.9rem",color:"#856404"},children:[c.jsx("strong",{children:"Send e-Transfer to:"})," gammoneer2b@gmail.com"]}),c.jsxs("p",{style:{margin:"5px 0",fontSize:"0.9rem",color:"#856404"},children:[c.jsx("strong",{children:"Password:"})," nflpool"]}),c.jsx("p",{style:{margin:"10px 0 5px 0",fontSize:"0.85rem",color:"#856404",fontStyle:"italic"},children:"You will receive your player code after payment is confirmed."})]}),c.jsx("p",{style:{marginTop:"15px",fontSize:"0.9rem",color:"#666",textAlign:"center"},children:"Questions? Contact: gammoneer2b@gmail.com"})]})]})}),c.jsxs("div",{className:"all-picks",children:[c.jsxs("h2",{children:["All Player Picks - ",tt.name,c.jsx("button",{onClick:Ey,style:{marginLeft:"15px",padding:"8px 16px",background:"#4caf50",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Download CSV"}),c.jsx("div",{style:{fontSize:"0.75rem",color:"#666",marginTop:"5px",fontStyle:"italic"},children:" Mobile: Open with Google Sheets (free app)"}),c.jsx("button",{onClick:()=>window.location.reload(),style:{marginLeft:"10px",padding:"8px 16px",background:"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:" Refresh Picks Table"})]}),d.filter(h=>h.week===l).length===0?c.jsx("p",{className:"no-picks",children:"No picks submitted yet for this week."}):c.jsx("div",{className:"picks-table-container",children:c.jsxs("table",{className:"picks-table",children:[c.jsxs("thead",{children:[c.jsxs("tr",{children:[c.jsx("th",{rowSpan:"2",children:"Player"}),tt.games.map(h=>{var S,w,I,b,D;return c.jsxs("th",{colSpan:"2",children:["Game ",h.id,c.jsx("br",{}),c.jsxs("small",{children:[h.team1," @ ",h.team2]}),ve()&&c.jsxs("div",{style:{marginTop:"5px",display:"flex",gap:"5px",justifyContent:"center",alignItems:"center"},children:[c.jsx("input",{type:"text",maxLength:"3",value:((w=(S=E[l])==null?void 0:S[h.id])==null?void 0:w.team1)||"",onChange:T=>fd(h.id,"team1",T.target.value),placeholder:"PIT",style:{width:"45px",padding:"4px",textAlign:"center",fontSize:"0.8rem",fontWeight:"bold",border:"2px solid #667eea",borderRadius:"4px"}}),c.jsx("span",{style:{fontSize:"0.8rem"},children:"@"}),c.jsx("input",{type:"text",maxLength:"3",value:((b=(I=E[l])==null?void 0:I[h.id])==null?void 0:b.team2)||"",onChange:T=>fd(h.id,"team2",T.target.value),placeholder:"BUF",style:{width:"45px",padding:"4px",textAlign:"center",fontSize:"0.8rem",fontWeight:"bold",border:"2px solid #667eea",borderRadius:"4px"}})]}),!ve()&&((D=E[l])==null?void 0:D[h.id])&&c.jsxs("div",{style:{fontSize:"0.8rem",color:"#666",marginTop:"3px"},children:[E[l][h.id].team1||"?"," @ ",E[l][h.id].team2||"?"]})]},h.id)}),l==="superbowl"?c.jsxs(c.Fragment,{children:[c.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#fff3cd",fontWeight:"bold",color:"#000"},children:[ve()?c.jsxs("div",{style:{marginBottom:"8px"},children:[c.jsx("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000"},children:"OFFICIAL"}),c.jsx("input",{type:"number",min:"0",value:N.superbowl_week4||"",onChange:h=>pr("superbowl_week4",h.target.value),placeholder:"-",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #f39c12",borderRadius:"4px",color:"#000"}})]}):c.jsxs("div",{style:{marginBottom:"8px"},children:[c.jsx("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:"Official"}),c.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:N.superbowl_week4||"-"})]}),"Week 4",c.jsx("br",{}),"Total"]}),c.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#d1ecf1",fontWeight:"bold",color:"#000"},children:[ve()?c.jsxs("div",{style:{marginBottom:"8px"},children:[c.jsx("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000"},children:"OFFICIAL"}),c.jsx("input",{type:"number",min:"0",value:N.superbowl_week3||"",onChange:h=>pr("superbowl_week3",h.target.value),placeholder:"-",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #f39c12",borderRadius:"4px",color:"#000"}})]}):c.jsxs("div",{style:{marginBottom:"8px"},children:[c.jsx("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:"Official"}),c.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:N.superbowl_week3||"-"})]}),"Week 3",c.jsx("br",{}),"Total"]}),c.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#d4edda",fontWeight:"bold",color:"#000"},children:[ve()?c.jsxs("div",{style:{marginBottom:"8px"},children:[c.jsx("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000"},children:"OFFICIAL"}),c.jsx("input",{type:"number",min:"0",value:N.superbowl_week2||"",onChange:h=>pr("superbowl_week2",h.target.value),placeholder:"-",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #f39c12",borderRadius:"4px",color:"#000"}})]}):c.jsxs("div",{style:{marginBottom:"8px"},children:[c.jsx("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:"Official"}),c.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:N.superbowl_week2||"-"})]}),"Week 2",c.jsx("br",{}),"Total"]}),c.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#f8d7da",fontWeight:"bold",color:"#000"},children:[ve()?c.jsxs("div",{style:{marginBottom:"8px"},children:[c.jsx("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000"},children:"OFFICIAL"}),c.jsx("input",{type:"number",min:"0",value:N.superbowl_week1||"",onChange:h=>pr("superbowl_week1",h.target.value),placeholder:"-",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #f39c12",borderRadius:"4px",color:"#000"}})]}):c.jsxs("div",{style:{marginBottom:"8px"},children:[c.jsx("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:"Official"}),c.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:N.superbowl_week1||"-"})]}),"Week 1",c.jsx("br",{}),"Total"]}),c.jsxs("th",{rowSpan:"2",className:"grand-total",children:[ve()?c.jsxs("div",{style:{marginBottom:"8px"},children:[c.jsx("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#fff"},children:"OFFICIAL"}),c.jsx("input",{type:"number",min:"0",value:N.superbowl_grand||"",onChange:h=>pr("superbowl_grand",h.target.value),placeholder:"-",style:{width:"70px",padding:"4px",textAlign:"center",fontSize:"1.1rem",fontWeight:"bold",border:"3px solid #f39c12",borderRadius:"4px",backgroundColor:"#fff",color:"#000"}})]}):c.jsxs("div",{style:{marginBottom:"8px"},children:[c.jsx("div",{style:{fontSize:"0.7rem",color:"#fff",marginBottom:"2px"},children:"Official"}),c.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"#fff"},children:N.superbowl_grand||"-"})]}),"GRAND",c.jsx("br",{}),"TOTAL"]})]}):c.jsxs("th",{rowSpan:"2",style:{backgroundColor:"#f8f9fa",fontWeight:"bold",color:"#000"},children:[ve()?c.jsxs("div",{style:{marginBottom:"8px"},children:[c.jsx("div",{style:{fontSize:"0.7rem",marginBottom:"4px",color:"#000"},children:"OFFICIAL"}),c.jsx("input",{type:"number",min:"0",value:N[l]||"",onChange:h=>pr(l,h.target.value),placeholder:"-",style:{width:"60px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #f39c12",borderRadius:"4px",color:"#000"}})]}):c.jsxs("div",{style:{marginBottom:"8px"},children:[c.jsx("div",{style:{fontSize:"0.7rem",color:"#000",marginBottom:"2px"},children:"Official"}),c.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#d63031"},children:N[l]||"-"})]}),"Official",c.jsx("br",{}),"Total"]}),c.jsx("th",{rowSpan:"2",children:"Submitted"})]}),c.jsx("tr",{style:{background:"#ffffff",borderTop:"3px solid #4caf50",borderBottom:"3px solid #4caf50"},children:tt.games.map(h=>{var S,w,I,b,D,T,B,V,L,H,Y;return c.jsxs(ga.Fragment,{children:[c.jsx("th",{style:{padding:"8px 4px",background:"#ffffff",borderLeft:"1px solid #ddd"},children:ve()?c.jsxs("div",{children:[c.jsx("input",{type:"number",min:"0",max:"99",value:((w=(S=m[l])==null?void 0:S[h.id])==null?void 0:w.team1)||"",onChange:re=>hd(h.id,"team1",re.target.value),placeholder:"-",style:{width:"50px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #4caf50",borderRadius:"4px",color:"#000",background:"#f0fff0"}}),c.jsx("div",{style:{fontSize:"0.75rem",marginTop:"3px",color:"#000",fontWeight:"700"},children:"ACTUAL"})]}):c.jsxs("div",{children:[c.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#000"},children:((b=(I=m[l])==null?void 0:I[h.id])==null?void 0:b.team1)||"-"}),c.jsx("div",{style:{fontSize:"0.75rem",color:"#000",fontWeight:"700"},children:"ACTUAL"})]})}),c.jsx("th",{style:{padding:"8px 4px",background:"#ffffff",borderRight:"1px solid #ddd"},children:ve()?c.jsxs("div",{children:[c.jsx("input",{type:"number",min:"0",max:"99",value:((T=(D=m[l])==null?void 0:D[h.id])==null?void 0:T.team2)||"",onChange:re=>hd(h.id,"team2",re.target.value),placeholder:"-",style:{width:"50px",padding:"4px",textAlign:"center",fontSize:"1rem",fontWeight:"bold",border:"2px solid #4caf50",borderRadius:"4px",color:"#000",background:"#f0fff0"}}),c.jsx("div",{style:{fontSize:"0.75rem",marginTop:"3px",color:"#000",fontWeight:"700"},children:"ACTUAL"}),c.jsxs("select",{value:((B=x[l])==null?void 0:B[h.id])||"",onChange:re=>xy(h.id,re.target.value),style:{width:"60px",padding:"2px",fontSize:"0.7rem",marginTop:"4px",borderRadius:"3px",border:"1px solid #999"},children:[c.jsx("option",{value:"",children:"--"}),c.jsx("option",{value:"live",children:" LIVE"}),c.jsx("option",{value:"final",children:" FINAL"})]})]}):c.jsxs("div",{children:[c.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:"#000"},children:((L=(V=m[l])==null?void 0:V[h.id])==null?void 0:L.team2)||"-"}),c.jsx("div",{style:{fontSize:"0.75rem",color:"#000",fontWeight:"700"},children:"ACTUAL"}),((H=x[l])==null?void 0:H[h.id])==="final"&&c.jsx("div",{style:{display:"inline-block",padding:"2px 6px",background:"#4caf50",color:"white",borderRadius:"3px",fontSize:"0.65rem",fontWeight:"bold",marginTop:"4px"},children:" FINAL"}),((Y=x[l])==null?void 0:Y[h.id])==="live"&&c.jsx("div",{style:{display:"inline-block",padding:"2px 6px",background:"#ff9800",color:"white",borderRadius:"3px",fontSize:"0.65rem",fontWeight:"bold",marginTop:"4px"},children:" LIVE"})]})})]},`actual-${h.id}`)})})]}),c.jsx("tbody",{children:d.filter(h=>h.week===l).sort((h,S)=>(S.lastUpdated||S.timestamp)-(h.lastUpdated||h.timestamp)).map((h,S)=>{var w,I,b,D,T,B;return c.jsxs("tr",{children:[c.jsx("td",{className:"player-name",children:h.playerName}),tt.games.map(V=>{var Ne,_e,Ae,gd;const L=h.predictions[V.id],H=(Ne=m[l])==null?void 0:Ne[V.id],Y=(_e=x[l])==null?void 0:_e[V.id],re=ad(L==null?void 0:L.team1,L==null?void 0:L.team2,H==null?void 0:H.team1,H==null?void 0:H.team2,Y,!0),Ee=ad(L==null?void 0:L.team1,L==null?void 0:L.team2,H==null?void 0:H.team1,H==null?void 0:H.team2,Y,!1);return c.jsxs(ga.Fragment,{children:[c.jsx("td",{className:"score",style:{background:re.background,color:re.color,fontWeight:re.background!=="transparent"?"bold":"normal"},children:((Ae=h.predictions[V.id])==null?void 0:Ae.team1)||"-"}),c.jsx("td",{className:"score",style:{background:Ee.background,color:Ee.color,fontWeight:Ee.background!=="transparent"?"bold":"normal"},children:((gd=h.predictions[V.id])==null?void 0:gd.team2)||"-"})]},`${S}-${V.id}`)}),l==="superbowl"?c.jsxs(c.Fragment,{children:[c.jsx("td",{style:{backgroundColor:"#fff3cd",fontWeight:"bold",fontSize:"16px"},children:c.jsx("span",{style:{color:"#000"},children:((w=mr[h.playerName])==null?void 0:w.week4)||0})}),c.jsx("td",{style:{backgroundColor:"#d1ecf1",fontWeight:"bold",fontSize:"16px"},children:c.jsx("span",{style:{color:"#000"},children:((I=mr[h.playerName])==null?void 0:I.week3)||0})}),c.jsx("td",{style:{backgroundColor:"#d4edda",fontWeight:"bold",fontSize:"16px"},children:c.jsx("span",{style:{color:"#000"},children:((b=mr[h.playerName])==null?void 0:b.week2)||0})}),c.jsx("td",{style:{backgroundColor:"#f8d7da",fontWeight:"bold",fontSize:"16px"},children:c.jsx("span",{style:{color:"#000"},children:((D=mr[h.playerName])==null?void 0:D.week1)||0})}),c.jsx("td",{className:"grand-total",children:((T=mr[h.playerName])==null?void 0:T.grand)||0})]}):c.jsx("td",{style:{backgroundColor:"#f8f9fa",fontWeight:"bold",fontSize:"16px"},children:c.jsx("span",{style:{color:"#000"},children:((B=mr[h.playerName])==null?void 0:B.current)||0})}),c.jsx("td",{className:"timestamp",children:new Date(h.lastUpdated||h.timestamp).toLocaleString("en-US",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})})]},S)})})]})}),o&&c.jsx("div",{style:{marginTop:"60px"},children:c.jsx(pE,{allPicks:d,actualScores:m,games:de,officialWinners:mt,weekData:de})}),o&&ve()&&c.jsx("div",{style:{marginTop:"40px"},children:c.jsx(yE,{allPicks:d,actualScores:m,games:de,officialWinners:mt,onDeclareWinner:Cy,isPoolManager:!0})}),O==="unsavedChanges"&&c.jsx(sE,{currentWeek:de[l].name,onDiscard:()=>{u(G),Di(G),W(null)},onSaveAndSwitch:async()=>{await md(new Event("submit")),setTimeout(()=>{u(G),Di(G),W(null),ue(null)},100)},onCancel:()=>{ue(null),W(null)}}),O==="discardChanges"&&c.jsx(iE,{onKeepEditing:()=>W(null),onDiscard:()=>{f({...Rl}),pt(!1),W(null)}}),O==="incomplete"&&c.jsx(oE,{missingGames:Se,totalGames:tt.games.length,onClose:()=>W(null)}),O==="invalidScores"&&c.jsx(lE,{invalidScores:$t,onClose:()=>W(null)}),O==="success"&&c.jsx(aE,{weekName:tt.name,deadline:tt.deadline,onClose:()=>W(null)}),O==="noChanges"&&c.jsx(cE,{onClose:()=>W(null)}),O==="tiedGames"&&c.jsx(uE,{tiedGames:Se,gameData:tt.games,onClose:()=>W(null)})]})]})]}),c.jsxs("footer",{children:[c.jsx("p",{children:"Richard's NFL Playoff Pool 2025 | Good luck! "}),c.jsx("p",{style:{fontSize:"0.85rem",marginTop:"5px"},children:"Questions? Contact: gammoneer2b@gmail.com"})]})]})}ya.createRoot(document.getElementById("root")).render(c.jsx(ga.StrictMode,{children:c.jsx(wE,{})}));
